parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"J4Nk":[function(require,module,exports) {
"use strict";var r=Object.getOwnPropertySymbols,t=Object.prototype.hasOwnProperty,e=Object.prototype.propertyIsEnumerable;function n(r){if(null==r)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(r)}function o(){try{if(!Object.assign)return!1;var r=new String("abc");if(r[5]="de","5"===Object.getOwnPropertyNames(r)[0])return!1;for(var t={},e=0;e<10;e++)t["_"+String.fromCharCode(e)]=e;if("0123456789"!==Object.getOwnPropertyNames(t).map(function(r){return t[r]}).join(""))return!1;var n={};return"abcdefghijklmnopqrst".split("").forEach(function(r){n[r]=r}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},n)).join("")}catch(o){return!1}}module.exports=o()?Object.assign:function(o,c){for(var a,i,s=n(o),f=1;f<arguments.length;f++){for(var u in a=Object(arguments[f]))t.call(a,u)&&(s[u]=a[u]);if(r){i=r(a);for(var b=0;b<i.length;b++)e.call(a,i[b])&&(s[i[b]]=a[i[b]])}}return s};
},{}],"awqi":[function(require,module,exports) {
"use strict";var e=require("object-assign"),t=60103,r=60106;exports.Fragment=60107,exports.StrictMode=60108,exports.Profiler=60114;var n=60109,o=60110,u=60112;exports.Suspense=60113;var s=60115,i=60116;if("function"==typeof Symbol&&Symbol.for){var f=Symbol.for;t=f("react.element"),r=f("react.portal"),exports.Fragment=f("react.fragment"),exports.StrictMode=f("react.strict_mode"),exports.Profiler=f("react.profiler"),n=f("react.provider"),o=f("react.context"),u=f("react.forward_ref"),exports.Suspense=f("react.suspense"),s=f("react.memo"),i=f("react.lazy")}var a="function"==typeof Symbol&&Symbol.iterator;function c(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=a&&e[a]||e["@@iterator"])?e:null}function p(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var l={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},y={};function d(e,t,r){this.props=e,this.context=t,this.refs=y,this.updater=r||l}function v(){}function h(e,t,r){this.props=e,this.context=t,this.refs=y,this.updater=r||l}d.prototype.isReactComponent={},d.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error(p(85));this.updater.enqueueSetState(this,e,t,"setState")},d.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},v.prototype=d.prototype;var _=h.prototype=new v;_.constructor=h,e(_,d.prototype),_.isPureReactComponent=!0;var x={current:null},m=Object.prototype.hasOwnProperty,b={key:!0,ref:!0,__self:!0,__source:!0};function S(e,r,n){var o,u={},s=null,i=null;if(null!=r)for(o in void 0!==r.ref&&(i=r.ref),void 0!==r.key&&(s=""+r.key),r)m.call(r,o)&&!b.hasOwnProperty(o)&&(u[o]=r[o]);var f=arguments.length-2;if(1===f)u.children=n;else if(1<f){for(var a=Array(f),c=0;c<f;c++)a[c]=arguments[c+2];u.children=a}if(e&&e.defaultProps)for(o in f=e.defaultProps)void 0===u[o]&&(u[o]=f[o]);return{$$typeof:t,type:e,key:s,ref:i,props:u,_owner:x.current}}function $(e,r){return{$$typeof:t,type:e.type,key:r,ref:e.ref,props:e.props,_owner:e._owner}}function w(e){return"object"==typeof e&&null!==e&&e.$$typeof===t}function g(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}var k=/\/+/g;function C(e,t){return"object"==typeof e&&null!==e&&null!=e.key?g(""+e.key):t.toString(36)}function E(e,n,o,u,s){var i=typeof e;"undefined"!==i&&"boolean"!==i||(e=null);var f=!1;if(null===e)f=!0;else switch(i){case"string":case"number":f=!0;break;case"object":switch(e.$$typeof){case t:case r:f=!0}}if(f)return s=s(f=e),e=""===u?"."+C(f,0):u,Array.isArray(s)?(o="",null!=e&&(o=e.replace(k,"$&/")+"/"),E(s,n,o,"",function(e){return e})):null!=s&&(w(s)&&(s=$(s,o+(!s.key||f&&f.key===s.key?"":(""+s.key).replace(k,"$&/")+"/")+e)),n.push(s)),1;if(f=0,u=""===u?".":u+":",Array.isArray(e))for(var a=0;a<e.length;a++){var l=u+C(i=e[a],a);f+=E(i,n,o,l,s)}else if("function"==typeof(l=c(e)))for(e=l.call(e),a=0;!(i=e.next()).done;)f+=E(i=i.value,n,o,l=u+C(i,a++),s);else if("object"===i)throw n=""+e,Error(p(31,"[object Object]"===n?"object with keys {"+Object.keys(e).join(", ")+"}":n));return f}function R(e,t,r){if(null==e)return e;var n=[],o=0;return E(e,n,"","",function(e){return t.call(r,e,o++)}),n}function j(e){if(-1===e._status){var t=e._result;t=t(),e._status=0,e._result=t,t.then(function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)},function(t){0===e._status&&(e._status=2,e._result=t)})}if(1===e._status)return e._result;throw e._result}var P={current:null};function O(){var e=P.current;if(null===e)throw Error(p(321));return e}var A={ReactCurrentDispatcher:P,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:x,IsSomeRendererActing:{current:!1},assign:e};exports.Children={map:R,forEach:function(e,t,r){R(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return R(e,function(){t++}),t},toArray:function(e){return R(e,function(e){return e})||[]},only:function(e){if(!w(e))throw Error(p(143));return e}},exports.Component=d,exports.PureComponent=h,exports.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=A,exports.cloneElement=function(r,n,o){if(null==r)throw Error(p(267,r));var u=e({},r.props),s=r.key,i=r.ref,f=r._owner;if(null!=n){if(void 0!==n.ref&&(i=n.ref,f=x.current),void 0!==n.key&&(s=""+n.key),r.type&&r.type.defaultProps)var a=r.type.defaultProps;for(c in n)m.call(n,c)&&!b.hasOwnProperty(c)&&(u[c]=void 0===n[c]&&void 0!==a?a[c]:n[c])}var c=arguments.length-2;if(1===c)u.children=o;else if(1<c){a=Array(c);for(var l=0;l<c;l++)a[l]=arguments[l+2];u.children=a}return{$$typeof:t,type:r.type,key:s,ref:i,props:u,_owner:f}},exports.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:o,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:n,_context:e},e.Consumer=e},exports.createElement=S,exports.createFactory=function(e){var t=S.bind(null,e);return t.type=e,t},exports.createRef=function(){return{current:null}},exports.forwardRef=function(e){return{$$typeof:u,render:e}},exports.isValidElement=w,exports.lazy=function(e){return{$$typeof:i,_payload:{_status:-1,_result:e},_init:j}},exports.memo=function(e,t){return{$$typeof:s,type:e,compare:void 0===t?null:t}},exports.useCallback=function(e,t){return O().useCallback(e,t)},exports.useContext=function(e,t){return O().useContext(e,t)},exports.useDebugValue=function(){},exports.useEffect=function(e,t){return O().useEffect(e,t)},exports.useImperativeHandle=function(e,t,r){return O().useImperativeHandle(e,t,r)},exports.useLayoutEffect=function(e,t){return O().useLayoutEffect(e,t)},exports.useMemo=function(e,t){return O().useMemo(e,t)},exports.useReducer=function(e,t,r){return O().useReducer(e,t,r)},exports.useRef=function(e){return O().useRef(e)},exports.useState=function(e){return O().useState(e)},exports.version="17.0.2";
},{"object-assign":"J4Nk"}],"n8MK":[function(require,module,exports) {
"use strict";module.exports=require("./cjs/react.production.min.js");
},{"./cjs/react.production.min.js":"awqi"}],"IvPb":[function(require,module,exports) {
"use strict";var e,t,n,r;if("object"==typeof performance&&"function"==typeof performance.now){var o=performance;exports.unstable_now=function(){return o.now()}}else{var a=Date,l=a.now();exports.unstable_now=function(){return a.now()-l}}if("undefined"==typeof window||"function"!=typeof MessageChannel){var i=null,s=null,u=function(){if(null!==i)try{var e=exports.unstable_now();i(!0,e),i=null}catch(t){throw setTimeout(u,0),t}};e=function(t){null!==i?setTimeout(e,0,t):(i=t,setTimeout(u,0))},t=function(e,t){s=setTimeout(e,t)},n=function(){clearTimeout(s)},exports.unstable_shouldYield=function(){return!1},r=exports.unstable_forceFrameRate=function(){}}else{var c=window.setTimeout,f=window.clearTimeout;if("undefined"!=typeof console){var p=window.cancelAnimationFrame;"function"!=typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),"function"!=typeof p&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var b=!1,d=null,v=-1,x=5,y=0;exports.unstable_shouldYield=function(){return exports.unstable_now()>=y},r=function(){},exports.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):x=0<e?Math.floor(1e3/e):5};var m=new MessageChannel,w=m.port2;m.port1.onmessage=function(){if(null!==d){var e=exports.unstable_now();y=e+x;try{d(!0,e)?w.postMessage(null):(b=!1,d=null)}catch(t){throw w.postMessage(null),t}}else b=!1},e=function(e){d=e,b||(b=!0,w.postMessage(null))},t=function(e,t){v=c(function(){e(exports.unstable_now())},t)},n=function(){f(v),v=-1}}function _(e,t){var n=e.length;e.push(t);e:for(;;){var r=n-1>>>1,o=e[r];if(!(void 0!==o&&0<T(o,t)))break e;e[r]=t,e[n]=o,n=r}}function h(e){return void 0===(e=e[0])?null:e}function k(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,o=e.length;r<o;){var a=2*(r+1)-1,l=e[a],i=a+1,s=e[i];if(void 0!==l&&0>T(l,n))void 0!==s&&0>T(s,l)?(e[r]=s,e[i]=n,r=i):(e[r]=l,e[a]=n,r=a);else{if(!(void 0!==s&&0>T(s,n)))break e;e[r]=s,e[i]=n,r=i}}}return t}return null}function T(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var g=[],P=[],F=1,I=null,M=3,C=!1,j=!1,A=!1;function L(e){for(var t=h(P);null!==t;){if(null===t.callback)k(P);else{if(!(t.startTime<=e))break;k(P),t.sortIndex=t.expirationTime,_(g,t)}t=h(P)}}function q(n){if(A=!1,L(n),!j)if(null!==h(g))j=!0,e(R);else{var r=h(P);null!==r&&t(q,r.startTime-n)}}function R(e,r){j=!1,A&&(A=!1,n()),C=!0;var o=M;try{for(L(r),I=h(g);null!==I&&(!(I.expirationTime>r)||e&&!exports.unstable_shouldYield());){var a=I.callback;if("function"==typeof a){I.callback=null,M=I.priorityLevel;var l=a(I.expirationTime<=r);r=exports.unstable_now(),"function"==typeof l?I.callback=l:I===h(g)&&k(g),L(r)}else k(g);I=h(g)}if(null!==I)var i=!0;else{var s=h(P);null!==s&&t(q,s.startTime-r),i=!1}return i}finally{I=null,M=o,C=!1}}var Y=r;exports.unstable_IdlePriority=5,exports.unstable_ImmediatePriority=1,exports.unstable_LowPriority=4,exports.unstable_NormalPriority=3,exports.unstable_Profiling=null,exports.unstable_UserBlockingPriority=2,exports.unstable_cancelCallback=function(e){e.callback=null},exports.unstable_continueExecution=function(){j||C||(j=!0,e(R))},exports.unstable_getCurrentPriorityLevel=function(){return M},exports.unstable_getFirstCallbackNode=function(){return h(g)},exports.unstable_next=function(e){switch(M){case 1:case 2:case 3:var t=3;break;default:t=M}var n=M;M=t;try{return e()}finally{M=n}},exports.unstable_pauseExecution=function(){},exports.unstable_requestPaint=Y,exports.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=M;M=e;try{return t()}finally{M=n}},exports.unstable_scheduleCallback=function(r,o,a){var l=exports.unstable_now();switch("object"==typeof a&&null!==a?a="number"==typeof(a=a.delay)&&0<a?l+a:l:a=l,r){case 1:var i=-1;break;case 2:i=250;break;case 5:i=1073741823;break;case 4:i=1e4;break;default:i=5e3}return r={id:F++,callback:o,priorityLevel:r,startTime:a,expirationTime:i=a+i,sortIndex:-1},a>l?(r.sortIndex=a,_(P,r),null===h(g)&&r===h(P)&&(A?n():A=!0,t(q,a-l))):(r.sortIndex=i,_(g,r),j||C||(j=!0,e(R))),r},exports.unstable_wrapCallback=function(e){var t=M;return function(){var n=M;M=t;try{return e.apply(this,arguments)}finally{M=n}}};
},{}],"MDSO":[function(require,module,exports) {
"use strict";module.exports=require("./cjs/scheduler.production.min.js");
},{"./cjs/scheduler.production.min.js":"IvPb"}],"i17t":[function(require,module,exports) {
"use strict";var e=require("react"),t=require("object-assign"),n=require("scheduler");function r(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!e)throw Error(r(227));var l=new Set,a={};function o(e,t){u(e,t),u(e+"Capture",t)}function u(e,t){for(a[e]=t,e=0;e<t.length;e++)l.add(t[e])}var i=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),s=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,c=Object.prototype.hasOwnProperty,f={},d={};function p(e){return!!c.call(d,e)||!c.call(f,e)&&(s.test(e)?d[e]=!0:(f[e]=!0,!1))}function h(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}function m(e,t,n,r){if(null==t||h(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function g(e,t,n,r,l,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=l,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var v={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){v[e]=new g(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];v[t]=new g(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){v[e]=new g(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){v[e]=new g(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){v[e]=new g(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){v[e]=new g(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){v[e]=new g(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){v[e]=new g(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){v[e]=new g(e,5,!1,e.toLowerCase(),null,!1,!1)});var y=/[\-:]([a-z])/g;function b(e){return e[1].toUpperCase()}function w(e,t,n,r){var l=v.hasOwnProperty(t)?v[t]:null;(null!==l?0===l.type:!r&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(m(t,n,l,r)&&(n=null),r||null===l?p(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):l.mustUseProperty?e[l.propertyName]=null===n?3!==l.type&&"":n:(t=l.attributeName,r=l.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(l=l.type)||4===l&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(y,b);v[t]=new g(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(y,b);v[t]=new g(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(y,b);v[t]=new g(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){v[e]=new g(e,1,!1,e.toLowerCase(),null,!1,!1)}),v.xlinkHref=new g("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){v[e]=new g(e,1,!1,e.toLowerCase(),null,!0,!0)});var k=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,S=60103,E=60106,x=60107,C=60108,_=60114,N=60109,P=60110,z=60112,L=60113,T=60120,M=60115,O=60116,R=60121,D=60128,F=60129,I=60130,U=60131;if("function"==typeof Symbol&&Symbol.for){var V=Symbol.for;S=V("react.element"),E=V("react.portal"),x=V("react.fragment"),C=V("react.strict_mode"),_=V("react.profiler"),N=V("react.provider"),P=V("react.context"),z=V("react.forward_ref"),L=V("react.suspense"),T=V("react.suspense_list"),M=V("react.memo"),O=V("react.lazy"),R=V("react.block"),V("react.scope"),D=V("react.opaque.id"),F=V("react.debug_trace_mode"),I=V("react.offscreen"),U=V("react.legacy_hidden")}var A,B="function"==typeof Symbol&&Symbol.iterator;function W(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=B&&e[B]||e["@@iterator"])?e:null}function Q(e){if(void 0===A)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);A=t&&t[1]||""}return"\n"+A+e}var H=!1;function j(e,t){if(!e||H)return"";H=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(i){var r=i}Reflect.construct(e,[],t)}else{try{t.call()}catch(i){r=i}e.call(t.prototype)}else{try{throw Error()}catch(i){r=i}e()}}catch(i){if(i&&r&&"string"==typeof i.stack){for(var l=i.stack.split("\n"),a=r.stack.split("\n"),o=l.length-1,u=a.length-1;1<=o&&0<=u&&l[o]!==a[u];)u--;for(;1<=o&&0<=u;o--,u--)if(l[o]!==a[u]){if(1!==o||1!==u)do{if(o--,0>--u||l[o]!==a[u])return"\n"+l[o].replace(" at new "," at ")}while(1<=o&&0<=u);break}}}finally{H=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Q(e):""}function $(e){switch(e.tag){case 5:return Q(e.type);case 16:return Q("Lazy");case 13:return Q("Suspense");case 19:return Q("SuspenseList");case 0:case 2:case 15:return e=j(e.type,!1);case 11:return e=j(e.type.render,!1);case 22:return e=j(e.type._render,!1);case 1:return e=j(e.type,!0);default:return""}}function q(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case x:return"Fragment";case E:return"Portal";case _:return"Profiler";case C:return"StrictMode";case L:return"Suspense";case T:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case P:return(e.displayName||"Context")+".Consumer";case N:return(e._context.displayName||"Context")+".Provider";case z:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case M:return q(e.type);case R:return q(e._render);case O:t=e._payload,e=e._init;try{return q(e(t))}catch(n){}}return null}function K(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function Y(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function X(e){var t=Y(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&void 0!==n&&"function"==typeof n.get&&"function"==typeof n.set){var l=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return l.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function G(e){e._valueTracker||(e._valueTracker=X(e))}function Z(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Y(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function J(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function ee(e,n){var r=n.checked;return t({},n,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=r?r:e._wrapperState.initialChecked})}function te(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=K(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function ne(e,t){null!=(t=t.checked)&&w(e,"checked",t,!1)}function re(e,t){ne(e,t);var n=K(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ae(e,t.type,n):t.hasOwnProperty("defaultValue")&&ae(e,t.type,K(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function le(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ae(e,t,n){"number"===t&&J(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function oe(t){var n="";return e.Children.forEach(t,function(e){null!=e&&(n+=e)}),n}function ue(e,n){return e=t({children:void 0},n),(n=oe(n.children))&&(e.children=n),e}function ie(e,t,n,r){if(e=e.options,t){t={};for(var l=0;l<n.length;l++)t["$"+n[l]]=!0;for(n=0;n<e.length;n++)l=t.hasOwnProperty("$"+e[n].value),e[n].selected!==l&&(e[n].selected=l),l&&r&&(e[n].defaultSelected=!0)}else{for(n=""+K(n),t=null,l=0;l<e.length;l++){if(e[l].value===n)return e[l].selected=!0,void(r&&(e[l].defaultSelected=!0));null!==t||e[l].disabled||(t=e[l])}null!==t&&(t.selected=!0)}}function se(e,n){if(null!=n.dangerouslySetInnerHTML)throw Error(r(91));return t({},n,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ce(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(r(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(r(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:K(n)}}function fe(e,t){var n=K(t.value),r=K(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function de(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var pe={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};function he(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function me(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?he(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ge,ve=function(e){return"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(t,n,r,l){MSApp.execUnsafeLocalFunction(function(){return e(t,n)})}:e}(function(e,t){if(e.namespaceURI!==pe.svg||"innerHTML"in e)e.innerHTML=t;else{for((ge=ge||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ge.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function ye(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var be={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},we=["Webkit","ms","Moz","O"];function ke(e,t,n){return null==t||"boolean"==typeof t||""===t?"":n||"number"!=typeof t||0===t||be.hasOwnProperty(e)&&be[e]?(""+t).trim():t+"px"}function Se(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),l=ke(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,l):e[n]=l}}Object.keys(be).forEach(function(e){we.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),be[t]=be[e]})});var Ee=t({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function xe(e,t){if(t){if(Ee[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(r(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(r(60));if(!("object"==typeof t.dangerouslySetInnerHTML&&"__html"in t.dangerouslySetInnerHTML))throw Error(r(61))}if(null!=t.style&&"object"!=typeof t.style)throw Error(r(62))}}function Ce(e,t){if(-1===e.indexOf("-"))return"string"==typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function _e(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Ne=null,Pe=null,ze=null;function Le(e){if(e=Sl(e)){if("function"!=typeof Ne)throw Error(r(280));var t=e.stateNode;t&&(t=xl(t),Ne(e.stateNode,e.type,t))}}function Te(e){Pe?ze?ze.push(e):ze=[e]:Pe=e}function Me(){if(Pe){var e=Pe,t=ze;if(ze=Pe=null,Le(e),t)for(e=0;e<t.length;e++)Le(t[e])}}function Oe(e,t){return e(t)}function Re(e,t,n,r,l){return e(t,n,r,l)}function De(){}var Fe=Oe,Ie=!1,Ue=!1;function Ve(){null===Pe&&null===ze||(De(),Me())}function Ae(e,t,n){if(Ue)return e(t,n);Ue=!0;try{return Fe(e,t,n)}finally{Ue=!1,Ve()}}function Be(e,t){var n=e.stateNode;if(null===n)return null;var l=xl(n);if(null===l)return null;n=l[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(l=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!l;break e;default:e=!1}if(e)return null;if(n&&"function"!=typeof n)throw Error(r(231,t,typeof n));return n}var We=!1;if(i)try{var Qe={};Object.defineProperty(Qe,"passive",{get:function(){We=!0}}),window.addEventListener("test",Qe,Qe),window.removeEventListener("test",Qe,Qe)}catch(Fs){We=!1}function He(e,t,n,r,l,a,o,u,i){var s=Array.prototype.slice.call(arguments,3);try{t.apply(n,s)}catch(c){this.onError(c)}}var je=!1,$e=null,qe=!1,Ke=null,Ye={onError:function(e){je=!0,$e=e}};function Xe(e,t,n,r,l,a,o,u,i){je=!1,$e=null,He.apply(Ye,arguments)}function Ge(e,t,n,l,a,o,u,i,s){if(Xe.apply(this,arguments),je){if(!je)throw Error(r(198));var c=$e;je=!1,$e=null,qe||(qe=!0,Ke=c)}}function Ze(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!=(1026&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Je(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function et(e){if(Ze(e)!==e)throw Error(r(188))}function tt(e){var t=e.alternate;if(!t){if(null===(t=Ze(e)))throw Error(r(188));return t!==e?null:e}for(var n=e,l=t;;){var a=n.return;if(null===a)break;var o=a.alternate;if(null===o){if(null!==(l=a.return)){n=l;continue}break}if(a.child===o.child){for(o=a.child;o;){if(o===n)return et(a),e;if(o===l)return et(a),t;o=o.sibling}throw Error(r(188))}if(n.return!==l.return)n=a,l=o;else{for(var u=!1,i=a.child;i;){if(i===n){u=!0,n=a,l=o;break}if(i===l){u=!0,l=a,n=o;break}i=i.sibling}if(!u){for(i=o.child;i;){if(i===n){u=!0,n=o,l=a;break}if(i===l){u=!0,l=o,n=a;break}i=i.sibling}if(!u)throw Error(r(189))}}if(n.alternate!==l)throw Error(r(190))}if(3!==n.tag)throw Error(r(188));return n.stateNode.current===n?e:t}function nt(e){if(!(e=tt(e)))return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function rt(e,t){for(var n=e.alternate;null!==t;){if(t===e||t===n)return!0;t=t.return}return!1}var lt,at,ot,ut,it=!1,st=[],ct=null,ft=null,dt=null,pt=new Map,ht=new Map,mt=[],gt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function vt(e,t,n,r,l){return{blockedOn:e,domEventName:t,eventSystemFlags:16|n,nativeEvent:l,targetContainers:[r]}}function yt(e,t){switch(e){case"focusin":case"focusout":ct=null;break;case"dragenter":case"dragleave":ft=null;break;case"mouseover":case"mouseout":dt=null;break;case"pointerover":case"pointerout":pt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ht.delete(t.pointerId)}}function bt(e,t,n,r,l,a){return null===e||e.nativeEvent!==a?(e=vt(t,n,r,l,a),null!==t&&(null!==(t=Sl(t))&&at(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==l&&-1===t.indexOf(l)&&t.push(l),e)}function wt(e,t,n,r,l){switch(t){case"focusin":return ct=bt(ct,e,t,n,r,l),!0;case"dragenter":return ft=bt(ft,e,t,n,r,l),!0;case"mouseover":return dt=bt(dt,e,t,n,r,l),!0;case"pointerover":var a=l.pointerId;return pt.set(a,bt(pt.get(a)||null,e,t,n,r,l)),!0;case"gotpointercapture":return a=l.pointerId,ht.set(a,bt(ht.get(a)||null,e,t,n,r,l)),!0}return!1}function kt(e){var t=kl(e.target);if(null!==t){var r=Ze(t);if(null!==r)if(13===(t=r.tag)){if(null!==(t=Je(r)))return e.blockedOn=t,void ut(e.lanePriority,function(){n.unstable_runWithPriority(e.priority,function(){ot(r)})})}else if(3===t&&r.stateNode.hydrate)return void(e.blockedOn=3===r.tag?r.stateNode.containerInfo:null)}e.blockedOn=null}function St(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=un(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=Sl(n))&&at(t),e.blockedOn=n,!1;t.shift()}return!0}function Et(e,t,n){St(e)&&n.delete(t)}function xt(){for(it=!1;0<st.length;){var e=st[0];if(null!==e.blockedOn){null!==(e=Sl(e.blockedOn))&&lt(e);break}for(var t=e.targetContainers;0<t.length;){var n=un(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n){e.blockedOn=n;break}t.shift()}null===e.blockedOn&&st.shift()}null!==ct&&St(ct)&&(ct=null),null!==ft&&St(ft)&&(ft=null),null!==dt&&St(dt)&&(dt=null),pt.forEach(Et),ht.forEach(Et)}function Ct(e,t){e.blockedOn===t&&(e.blockedOn=null,it||(it=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,xt)))}function _t(e){function t(t){return Ct(t,e)}if(0<st.length){Ct(st[0],e);for(var n=1;n<st.length;n++){var r=st[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==ct&&Ct(ct,e),null!==ft&&Ct(ft,e),null!==dt&&Ct(dt,e),pt.forEach(t),ht.forEach(t),n=0;n<mt.length;n++)(r=mt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<mt.length&&null===(n=mt[0]).blockedOn;)kt(n),null===n.blockedOn&&mt.shift()}function Nt(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Pt={animationend:Nt("Animation","AnimationEnd"),animationiteration:Nt("Animation","AnimationIteration"),animationstart:Nt("Animation","AnimationStart"),transitionend:Nt("Transition","TransitionEnd")},zt={},Lt={};function Tt(e){if(zt[e])return zt[e];if(!Pt[e])return e;var t,n=Pt[e];for(t in n)if(n.hasOwnProperty(t)&&t in Lt)return zt[e]=n[t];return e}i&&(Lt=document.createElement("div").style,"AnimationEvent"in window||(delete Pt.animationend.animation,delete Pt.animationiteration.animation,delete Pt.animationstart.animation),"TransitionEvent"in window||delete Pt.transitionend.transition);var Mt=Tt("animationend"),Ot=Tt("animationiteration"),Rt=Tt("animationstart"),Dt=Tt("transitionend"),Ft=new Map,It=new Map,Ut=["abort","abort",Mt,"animationEnd",Ot,"animationIteration",Rt,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Dt,"transitionEnd","waiting","waiting"];function Vt(e,t){for(var n=0;n<e.length;n+=2){var r=e[n],l=e[n+1];l="on"+(l[0].toUpperCase()+l.slice(1)),It.set(r,t),Ft.set(r,l),o(l,[r])}}var At=n.unstable_now;At();var Bt=8;function Wt(e){if(0!=(1&e))return Bt=15,1;if(0!=(2&e))return Bt=14,2;if(0!=(4&e))return Bt=13,4;var t=24&e;return 0!==t?(Bt=12,t):0!=(32&e)?(Bt=11,32):0!==(t=192&e)?(Bt=10,t):0!=(256&e)?(Bt=9,256):0!==(t=3584&e)?(Bt=8,t):0!=(4096&e)?(Bt=7,4096):0!==(t=4186112&e)?(Bt=6,t):0!==(t=62914560&e)?(Bt=5,t):67108864&e?(Bt=4,67108864):0!=(134217728&e)?(Bt=3,134217728):0!==(t=805306368&e)?(Bt=2,t):0!=(1073741824&e)?(Bt=1,1073741824):(Bt=8,e)}function Qt(e){switch(e){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}function Ht(e){switch(e){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(r(358,e))}}function jt(e,t){var n=e.pendingLanes;if(0===n)return Bt=0;var r=0,l=0,a=e.expiredLanes,o=e.suspendedLanes,u=e.pingedLanes;if(0!==a)r=a,l=Bt=15;else if(0!==(a=134217727&n)){var i=a&~o;0!==i?(r=Wt(i),l=Bt):0!==(u&=a)&&(r=Wt(u),l=Bt)}else 0!==(a=n&~o)?(r=Wt(a),l=Bt):0!==u&&(r=Wt(u),l=Bt);if(0===r)return 0;if(r=n&((0>(r=31-Gt(r))?0:1<<r)<<1)-1,0!==t&&t!==r&&0==(t&o)){if(Wt(t),l<=Bt)return t;Bt=l}if(0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)l=1<<(n=31-Gt(t)),r|=e[n],t&=~l;return r}function $t(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function qt(e,t){switch(e){case 15:return 1;case 14:return 2;case 12:return 0===(e=Kt(24&~t))?qt(10,t):e;case 10:return 0===(e=Kt(192&~t))?qt(8,t):e;case 8:return 0===(e=Kt(3584&~t))&&(0===(e=Kt(4186112&~t))&&(e=512)),e;case 2:return 0===(t=Kt(805306368&~t))&&(t=268435456),t}throw Error(r(358,e))}function Kt(e){return e&-e}function Yt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Xt(e,t,n){e.pendingLanes|=t;var r=t-1;e.suspendedLanes&=r,e.pingedLanes&=r,(e=e.eventTimes)[t=31-Gt(t)]=n}var Gt=Math.clz32?Math.clz32:en,Zt=Math.log,Jt=Math.LN2;function en(e){return 0===e?32:31-(Zt(e)/Jt|0)|0}var tn=n.unstable_UserBlockingPriority,nn=n.unstable_runWithPriority,rn=!0;function ln(e,t,n,r){Ie||De();var l=on,a=Ie;Ie=!0;try{Re(l,e,t,n,r)}finally{(Ie=a)||Ve()}}function an(e,t,n,r){nn(tn,on.bind(null,e,t,n,r))}function on(e,t,n,r){var l;if(rn)if((l=0==(4&t))&&0<st.length&&-1<gt.indexOf(e))e=vt(null,e,t,n,r),st.push(e);else{var a=un(e,t,n,r);if(null===a)l&&yt(e,r);else{if(l){if(-1<gt.indexOf(e))return e=vt(a,e,t,n,r),void st.push(e);if(wt(a,e,t,n,r))return;yt(e,r)}Jr(e,t,r,null,n)}}}function un(e,t,n,r){var l=_e(r);if(null!==(l=kl(l))){var a=Ze(l);if(null===a)l=null;else{var o=a.tag;if(13===o){if(null!==(l=Je(a)))return l;l=null}else if(3===o){if(a.stateNode.hydrate)return 3===a.tag?a.stateNode.containerInfo:null;l=null}else a!==l&&(l=null)}}return Jr(e,t,r,l,n),null}var sn=null,cn=null,fn=null;function dn(){if(fn)return fn;var e,t,n=cn,r=n.length,l="value"in sn?sn.value:sn.textContent,a=l.length;for(e=0;e<r&&n[e]===l[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===l[a-t];t++);return fn=l.slice(e,1<t?1-t:void 0)}function pn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function hn(){return!0}function mn(){return!1}function gn(e){function n(t,n,r,l,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=l,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(l):l[o]);return this.isDefaultPrevented=(null!=l.defaultPrevented?l.defaultPrevented:!1===l.returnValue)?hn:mn,this.isPropagationStopped=mn,this}return t(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=hn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=hn)},persist:function(){},isPersistent:hn}),n}var vn,yn,bn,wn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},kn=gn(wn),Sn=t({},wn,{view:0,detail:0}),En=gn(Sn),xn=t({},Sn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:An,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==bn&&(bn&&"mousemove"===e.type?(vn=e.screenX-bn.screenX,yn=e.screenY-bn.screenY):yn=vn=0,bn=e),vn)},movementY:function(e){return"movementY"in e?e.movementY:yn}}),Cn=gn(xn),_n=t({},xn,{dataTransfer:0}),Nn=gn(_n),Pn=t({},Sn,{relatedTarget:0}),zn=gn(Pn),Ln=t({},wn,{animationName:0,elapsedTime:0,pseudoElement:0}),Tn=gn(Ln),Mn=t({},wn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),On=gn(Mn),Rn=t({},wn,{data:0}),Dn=gn(Rn),Fn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},In={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Un={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Vn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Un[e])&&!!t[e]}function An(){return Vn}var Bn=t({},Sn,{key:function(e){if(e.key){var t=Fn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=pn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?In[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:An,charCode:function(e){return"keypress"===e.type?pn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?pn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Wn=gn(Bn),Qn=t({},xn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Hn=gn(Qn),jn=t({},Sn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:An}),$n=gn(jn),qn=t({},wn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Kn=gn(qn),Yn=t({},xn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Xn=gn(Yn),Gn=[9,13,27,32],Zn=i&&"CompositionEvent"in window,Jn=null;i&&"documentMode"in document&&(Jn=document.documentMode);var er=i&&"TextEvent"in window&&!Jn,tr=i&&(!Zn||Jn&&8<Jn&&11>=Jn),nr=String.fromCharCode(32),rr=!1;function lr(e,t){switch(e){case"keyup":return-1!==Gn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ar(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var or=!1;function ur(e,t){switch(e){case"compositionend":return ar(t);case"keypress":return 32!==t.which?null:(rr=!0,nr);case"textInput":return(e=t.data)===nr&&rr?null:e;default:return null}}function ir(e,t){if(or)return"compositionend"===e||!Zn&&lr(e,t)?(e=dn(),fn=cn=sn=null,or=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return tr&&"ko"!==t.locale?null:t.data;default:return null}}var sr={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function cr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!sr[e.type]:"textarea"===t}function fr(e,t,n,r){Te(r),0<(t=tl(t,"onChange")).length&&(n=new kn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var dr=null,pr=null;function hr(e){qr(e,0)}function mr(e){if(Z(El(e)))return e}function gr(e,t){if("change"===e)return t}var vr=!1;if(i){var yr;if(i){var br="oninput"in document;if(!br){var wr=document.createElement("div");wr.setAttribute("oninput","return;"),br="function"==typeof wr.oninput}yr=br}else yr=!1;vr=yr&&(!document.documentMode||9<document.documentMode)}function kr(){dr&&(dr.detachEvent("onpropertychange",Sr),pr=dr=null)}function Sr(e){if("value"===e.propertyName&&mr(pr)){var t=[];if(fr(t,pr,e,_e(e)),e=hr,Ie)e(t);else{Ie=!0;try{Oe(e,t)}finally{Ie=!1,Ve()}}}}function Er(e,t,n){"focusin"===e?(kr(),pr=n,(dr=t).attachEvent("onpropertychange",Sr)):"focusout"===e&&kr()}function xr(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return mr(pr)}function Cr(e,t){if("click"===e)return mr(t)}function _r(e,t){if("input"===e||"change"===e)return mr(t)}function Nr(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t}var Pr="function"==typeof Object.is?Object.is:Nr,zr=Object.prototype.hasOwnProperty;function Lr(e,t){if(Pr(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!zr.call(t,n[r])||!Pr(e[n[r]],t[n[r]]))return!1;return!0}function Tr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Mr(e,t){var n,r=Tr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Tr(r)}}function Or(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?Or(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function Rr(){for(var e=window,t=J();t instanceof e.HTMLIFrameElement;){try{var n="string"==typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=J((e=t.contentWindow).document)}return t}function Dr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var Fr=i&&"documentMode"in document&&11>=document.documentMode,Ir=null,Ur=null,Vr=null,Ar=!1;function Br(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;Ar||null==Ir||Ir!==J(r)||("selectionStart"in(r=Ir)&&Dr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},Vr&&Lr(Vr,r)||(Vr=r,0<(r=tl(Ur,"onSelect")).length&&(t=new kn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Ir)))}Vt("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Vt("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),Vt(Ut,2);for(var Wr="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),Qr=0;Qr<Wr.length;Qr++)It.set(Wr[Qr],0);u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),o("onBeforeInput",["compositionend","keypress","textInput","paste"]),o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Hr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),jr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Hr));function $r(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,Ge(r,t,void 0,e),e.currentTarget=null}function qr(e,t){t=0!=(4&t);for(var n=0;n<e.length;n++){var r=e[n],l=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var u=r[o],i=u.instance,s=u.currentTarget;if(u=u.listener,i!==a&&l.isPropagationStopped())break e;$r(l,u,s),a=i}else for(o=0;o<r.length;o++){if(i=(u=r[o]).instance,s=u.currentTarget,u=u.listener,i!==a&&l.isPropagationStopped())break e;$r(l,u,s),a=i}}}if(qe)throw e=Ke,qe=!1,Ke=null,e}function Kr(e,t){var n=Cl(t),r=e+"__bubble";n.has(r)||(Zr(t,e,2,!1),n.add(r))}var Yr="_reactListening"+Math.random().toString(36).slice(2);function Xr(e){e[Yr]||(e[Yr]=!0,l.forEach(function(t){jr.has(t)||Gr(t,!1,e,null),Gr(t,!0,e,null)}))}function Gr(e,t,n,r){var l=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,a=n;if("selectionchange"===e&&9!==n.nodeType&&(a=n.ownerDocument),null!==r&&!t&&jr.has(e)){if("scroll"!==e)return;l|=2,a=r}var o=Cl(a),u=e+"__"+(t?"capture":"bubble");o.has(u)||(t&&(l|=4),Zr(a,e,l,t),o.add(u))}function Zr(e,t,n,r){var l=It.get(t);switch(void 0===l?2:l){case 0:l=ln;break;case 1:l=an;break;default:l=on}n=l.bind(null,t,n,e),l=void 0,!We||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(l=!0),r?void 0!==l?e.addEventListener(t,n,{capture:!0,passive:l}):e.addEventListener(t,n,!0):void 0!==l?e.addEventListener(t,n,{passive:l}):e.addEventListener(t,n,!1)}function Jr(e,t,n,r,l){var a=r;if(0==(1&t)&&0==(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var u=r.stateNode.containerInfo;if(u===l||8===u.nodeType&&u.parentNode===l)break;if(4===o)for(o=r.return;null!==o;){var i=o.tag;if((3===i||4===i)&&((i=o.stateNode.containerInfo)===l||8===i.nodeType&&i.parentNode===l))return;o=o.return}for(;null!==u;){if(null===(o=kl(u)))return;if(5===(i=o.tag)||6===i){r=a=o;continue e}u=u.parentNode}}r=r.return}Ae(function(){var r=a,l=_e(n),o=[];e:{var u=Ft.get(e);if(void 0!==u){var i=kn,s=e;switch(e){case"keypress":if(0===pn(n))break e;case"keydown":case"keyup":i=Wn;break;case"focusin":s="focus",i=zn;break;case"focusout":s="blur",i=zn;break;case"beforeblur":case"afterblur":i=zn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":i=Cn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":i=Nn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":i=$n;break;case Mt:case Ot:case Rt:i=Tn;break;case Dt:i=Kn;break;case"scroll":i=En;break;case"wheel":i=Xn;break;case"copy":case"cut":case"paste":i=On;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":i=Hn}var c=0!=(4&t),f=!c&&"scroll"===e,d=c?null!==u?u+"Capture":null:u;c=[];for(var p,h=r;null!==h;){var m=(p=h).stateNode;if(5===p.tag&&null!==m&&(p=m,null!==d&&(null!=(m=Be(h,d))&&c.push(el(h,m,p)))),f)break;h=h.return}0<c.length&&(u=new i(u,s,null,n,l),o.push({event:u,listeners:c}))}}if(0==(7&t)){if(i="mouseout"===e||"pointerout"===e,(!(u="mouseover"===e||"pointerover"===e)||0!=(16&t)||!(s=n.relatedTarget||n.fromElement)||!kl(s)&&!s[bl])&&(i||u)&&(u=l.window===l?l:(u=l.ownerDocument)?u.defaultView||u.parentWindow:window,i?(i=r,null!==(s=(s=n.relatedTarget||n.toElement)?kl(s):null)&&(s!==(f=Ze(s))||5!==s.tag&&6!==s.tag)&&(s=null)):(i=null,s=r),i!==s)){if(c=Cn,m="onMouseLeave",d="onMouseEnter",h="mouse","pointerout"!==e&&"pointerover"!==e||(c=Hn,m="onPointerLeave",d="onPointerEnter",h="pointer"),f=null==i?u:El(i),p=null==s?u:El(s),(u=new c(m,h+"leave",i,n,l)).target=f,u.relatedTarget=p,m=null,kl(l)===r&&((c=new c(d,h+"enter",s,n,l)).target=p,c.relatedTarget=f,m=c),f=m,i&&s)e:{for(d=s,h=0,p=c=i;p;p=nl(p))h++;for(p=0,m=d;m;m=nl(m))p++;for(;0<h-p;)c=nl(c),h--;for(;0<p-h;)d=nl(d),p--;for(;h--;){if(c===d||null!==d&&c===d.alternate)break e;c=nl(c),d=nl(d)}c=null}else c=null;null!==i&&rl(o,u,i,c,!1),null!==s&&null!==f&&rl(o,f,s,c,!0)}if("select"===(i=(u=r?El(r):window).nodeName&&u.nodeName.toLowerCase())||"input"===i&&"file"===u.type)var g=gr;else if(cr(u))if(vr)g=_r;else{g=xr;var v=Er}else(i=u.nodeName)&&"input"===i.toLowerCase()&&("checkbox"===u.type||"radio"===u.type)&&(g=Cr);switch(g&&(g=g(e,r))?fr(o,g,n,l):(v&&v(e,u,r),"focusout"===e&&(v=u._wrapperState)&&v.controlled&&"number"===u.type&&ae(u,"number",u.value)),v=r?El(r):window,e){case"focusin":(cr(v)||"true"===v.contentEditable)&&(Ir=v,Ur=r,Vr=null);break;case"focusout":Vr=Ur=Ir=null;break;case"mousedown":Ar=!0;break;case"contextmenu":case"mouseup":case"dragend":Ar=!1,Br(o,n,l);break;case"selectionchange":if(Fr)break;case"keydown":case"keyup":Br(o,n,l)}var y;if(Zn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else or?lr(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(tr&&"ko"!==n.locale&&(or||"onCompositionStart"!==b?"onCompositionEnd"===b&&or&&(y=dn()):(cn="value"in(sn=l)?sn.value:sn.textContent,or=!0)),0<(v=tl(r,b)).length&&(b=new Dn(b,e,null,n,l),o.push({event:b,listeners:v}),y?b.data=y:null!==(y=ar(n))&&(b.data=y))),(y=er?ur(e,n):ir(e,n))&&(0<(r=tl(r,"onBeforeInput")).length&&(l=new Dn("onBeforeInput","beforeinput",null,n,l),o.push({event:l,listeners:r}),l.data=y))}qr(o,t)})}function el(e,t,n){return{instance:e,listener:t,currentTarget:n}}function tl(e,t){for(var n=t+"Capture",r=[];null!==e;){var l=e,a=l.stateNode;5===l.tag&&null!==a&&(l=a,null!=(a=Be(e,n))&&r.unshift(el(e,a,l)),null!=(a=Be(e,t))&&r.push(el(e,a,l))),e=e.return}return r}function nl(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function rl(e,t,n,r,l){for(var a=t._reactName,o=[];null!==n&&n!==r;){var u=n,i=u.alternate,s=u.stateNode;if(null!==i&&i===r)break;5===u.tag&&null!==s&&(u=s,l?null!=(i=Be(n,a))&&o.unshift(el(n,i,u)):l||null!=(i=Be(n,a))&&o.push(el(n,i,u))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}function ll(){}var al=null,ol=null;function ul(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function il(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var sl="function"==typeof setTimeout?setTimeout:void 0,cl="function"==typeof clearTimeout?clearTimeout:void 0;function fl(e){1===e.nodeType?e.textContent="":9===e.nodeType&&(null!=(e=e.body)&&(e.textContent=""))}function dl(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function pl(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var hl=0;function ml(e){return{$$typeof:D,toString:e,valueOf:e}}var gl=Math.random().toString(36).slice(2),vl="__reactFiber$"+gl,yl="__reactProps$"+gl,bl="__reactContainer$"+gl,wl="__reactEvents$"+gl;function kl(e){var t=e[vl];if(t)return t;for(var n=e.parentNode;n;){if(t=n[bl]||n[vl]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=pl(e);null!==e;){if(n=e[vl])return n;e=pl(e)}return t}n=(e=n).parentNode}return null}function Sl(e){return!(e=e[vl]||e[bl])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function El(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(r(33))}function xl(e){return e[yl]||null}function Cl(e){var t=e[wl];return void 0===t&&(t=e[wl]=new Set),t}var _l=[],Nl=-1;function Pl(e){return{current:e}}function zl(e){0>Nl||(e.current=_l[Nl],_l[Nl]=null,Nl--)}function Ll(e,t){_l[++Nl]=e.current,e.current=t}var Tl={},Ml=Pl(Tl),Ol=Pl(!1),Rl=Tl;function Dl(e,t){var n=e.type.contextTypes;if(!n)return Tl;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var l,a={};for(l in n)a[l]=t[l];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Fl(e){return null!=(e=e.childContextTypes)}function Il(){zl(Ol),zl(Ml)}function Ul(e,t,n){if(Ml.current!==Tl)throw Error(r(168));Ll(Ml,t),Ll(Ol,n)}function Vl(e,n,l){var a=e.stateNode;if(e=n.childContextTypes,"function"!=typeof a.getChildContext)return l;for(var o in a=a.getChildContext())if(!(o in e))throw Error(r(108,q(n)||"Unknown",o));return t({},l,a)}function Al(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Tl,Rl=Ml.current,Ll(Ml,e),Ll(Ol,Ol.current),!0}function Bl(e,t,n){var l=e.stateNode;if(!l)throw Error(r(169));n?(e=Vl(e,t,Rl),l.__reactInternalMemoizedMergedChildContext=e,zl(Ol),zl(Ml),Ll(Ml,e)):zl(Ol),Ll(Ol,n)}var Wl=null,Ql=null,Hl=n.unstable_runWithPriority,jl=n.unstable_scheduleCallback,$l=n.unstable_cancelCallback,ql=n.unstable_shouldYield,Kl=n.unstable_requestPaint,Yl=n.unstable_now,Xl=n.unstable_getCurrentPriorityLevel,Gl=n.unstable_ImmediatePriority,Zl=n.unstable_UserBlockingPriority,Jl=n.unstable_NormalPriority,ea=n.unstable_LowPriority,ta=n.unstable_IdlePriority,na={},ra=void 0!==Kl?Kl:function(){},la=null,aa=null,oa=!1,ua=Yl(),ia=1e4>ua?Yl:function(){return Yl()-ua};function sa(){switch(Xl()){case Gl:return 99;case Zl:return 98;case Jl:return 97;case ea:return 96;case ta:return 95;default:throw Error(r(332))}}function ca(e){switch(e){case 99:return Gl;case 98:return Zl;case 97:return Jl;case 96:return ea;case 95:return ta;default:throw Error(r(332))}}function fa(e,t){return e=ca(e),Hl(e,t)}function da(e,t,n){return e=ca(e),jl(e,t,n)}function pa(){if(null!==aa){var e=aa;aa=null,$l(e)}ha()}function ha(){if(!oa&&null!==la){oa=!0;var e=0;try{var t=la;fa(99,function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}}),la=null}catch(n){throw null!==la&&(la=la.slice(e+1)),jl(Gl,pa),n}finally{oa=!1}}}var ma=k.ReactCurrentBatchConfig;function ga(e,n){if(e&&e.defaultProps){for(var r in n=t({},n),e=e.defaultProps)void 0===n[r]&&(n[r]=e[r]);return n}return n}var va=Pl(null),ya=null,ba=null,wa=null;function ka(){wa=ba=ya=null}function Sa(e){var t=va.current;zl(va),e.type._context._currentValue=t}function Ea(e,t){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)===t){if(null===n||(n.childLanes&t)===t)break;n.childLanes|=t}else e.childLanes|=t,null!==n&&(n.childLanes|=t);e=e.return}}function xa(e,t){ya=e,wa=ba=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!=(e.lanes&t)&&(nu=!0),e.firstContext=null)}function Ca(e,t){if(wa!==e&&!1!==t&&0!==t)if("number"==typeof t&&1073741823!==t||(wa=e,t=1073741823),t={context:e,observedBits:t,next:null},null===ba){if(null===ya)throw Error(r(308));ba=t,ya.dependencies={lanes:0,firstContext:t,responders:null}}else ba=ba.next=t;return e._currentValue}var _a=!1;function Na(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function Pa(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function za(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function La(e,t){if(null!==(e=e.updateQueue)){var n=(e=e.shared).pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function Ta(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var l=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?l=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?l=a=t:a=a.next=t}else l=a=t;return n={baseState:r.baseState,firstBaseUpdate:l,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Ma(e,n,r,l){var a=e.updateQueue;_a=!1;var o=a.firstBaseUpdate,u=a.lastBaseUpdate,i=a.shared.pending;if(null!==i){a.shared.pending=null;var s=i,c=s.next;s.next=null,null===u?o=c:u.next=c,u=s;var f=e.alternate;if(null!==f){var d=(f=f.updateQueue).lastBaseUpdate;d!==u&&(null===d?f.firstBaseUpdate=c:d.next=c,f.lastBaseUpdate=s)}}if(null!==o){for(d=a.baseState,u=0,f=c=s=null;;){i=o.lane;var p=o.eventTime;if((l&i)===i){null!==f&&(f=f.next={eventTime:p,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var h=e,m=o;switch(i=n,p=r,m.tag){case 1:if("function"==typeof(h=m.payload)){d=h.call(p,d,i);break e}d=h;break e;case 3:h.flags=-4097&h.flags|64;case 0:if(null==(i="function"==typeof(h=m.payload)?h.call(p,d,i):h))break e;d=t({},d,i);break e;case 2:_a=!0}}null!==o.callback&&(e.flags|=32,null===(i=a.effects)?a.effects=[o]:i.push(o))}else p={eventTime:p,lane:i,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===f?(c=f=p,s=d):f=f.next=p,u|=i;if(null===(o=o.next)){if(null===(i=a.shared.pending))break;o=i.next,i.next=null,a.lastBaseUpdate=i,a.shared.pending=null}}null===f&&(s=d),a.baseState=s,a.firstBaseUpdate=c,a.lastBaseUpdate=f,ui|=u,e.lanes=u,e.memoizedState=d}}function Oa(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var l=e[t],a=l.callback;if(null!==a){if(l.callback=null,l=n,"function"!=typeof a)throw Error(r(191,a));a.call(l)}}}var Ra=(new e.Component).refs;function Da(e,n,r,l){r=null==(r=r(l,n=e.memoizedState))?n:t({},n,r),e.memoizedState=r,0===e.lanes&&(e.updateQueue.baseState=r)}var Fa={isMounted:function(e){return!!(e=e._reactInternals)&&Ze(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Mi(),l=Oi(e),a=za(r,l);a.payload=t,null!=n&&(a.callback=n),La(e,a),Ri(e,l,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Mi(),l=Oi(e),a=za(r,l);a.tag=1,a.payload=t,null!=n&&(a.callback=n),La(e,a),Ri(e,l,r)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Mi(),r=Oi(e),l=za(n,r);l.tag=2,null!=t&&(l.callback=t),La(e,l),Ri(e,r,n)}};function Ia(e,t,n,r,l,a,o){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!Lr(n,r)||!Lr(l,a))}function Ua(e,t,n){var r=!1,l=Tl,a=t.contextType;return"object"==typeof a&&null!==a?a=Ca(a):(l=Fl(t)?Rl:Ml.current,a=(r=null!=(r=t.contextTypes))?Dl(e,l):Tl),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Fa,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=l,e.__reactInternalMemoizedMaskedChildContext=a),t}function Va(e,t,n,r){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Fa.enqueueReplaceState(t,t.state,null)}function Aa(e,t,n,r){var l=e.stateNode;l.props=n,l.state=e.memoizedState,l.refs=Ra,Na(e);var a=t.contextType;"object"==typeof a&&null!==a?l.context=Ca(a):(a=Fl(t)?Rl:Ml.current,l.context=Dl(e,a)),Ma(e,n,l,r),l.state=e.memoizedState,"function"==typeof(a=t.getDerivedStateFromProps)&&(Da(e,t,a,n),l.state=e.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof l.getSnapshotBeforeUpdate||"function"!=typeof l.UNSAFE_componentWillMount&&"function"!=typeof l.componentWillMount||(t=l.state,"function"==typeof l.componentWillMount&&l.componentWillMount(),"function"==typeof l.UNSAFE_componentWillMount&&l.UNSAFE_componentWillMount(),t!==l.state&&Fa.enqueueReplaceState(l,l.state,null),Ma(e,n,l,r),l.state=e.memoizedState),"function"==typeof l.componentDidMount&&(e.flags|=4)}var Ba=Array.isArray;function Wa(e,t,n){if(null!==(e=n.ref)&&"function"!=typeof e&&"object"!=typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(r(309));var l=n.stateNode}if(!l)throw Error(r(147,e));var a=""+e;return null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===a?t.ref:((t=function(e){var t=l.refs;t===Ra&&(t=l.refs={}),null===e?delete t[a]:t[a]=e})._stringRef=a,t)}if("string"!=typeof e)throw Error(r(284));if(!n._owner)throw Error(r(290,e))}return e}function Qa(e,t){if("textarea"!==e.type)throw Error(r(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t))}function Ha(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.flags=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function l(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function a(e,t){return(e=hs(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags=2,n):r:(t.flags=2,n):n}function u(t){return e&&null===t.alternate&&(t.flags=2),t}function i(e,t,n,r){return null===t||6!==t.tag?((t=ys(n,e.mode,r)).return=e,t):((t=a(t,n)).return=e,t)}function s(e,t,n,r){return null!==t&&t.elementType===n.type?((r=a(t,n.props)).ref=Wa(e,t,n),r.return=e,r):((r=ms(n.type,n.key,n.props,null,e.mode,r)).ref=Wa(e,t,n),r.return=e,r)}function c(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=bs(n,e.mode,r)).return=e,t):((t=a(t,n.children||[])).return=e,t)}function f(e,t,n,r,l){return null===t||7!==t.tag?((t=gs(n,e.mode,r,l)).return=e,t):((t=a(t,n)).return=e,t)}function d(e,t,n){if("string"==typeof t||"number"==typeof t)return(t=ys(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case S:return(n=ms(t.type,t.key,t.props,null,e.mode,n)).ref=Wa(e,null,t),n.return=e,n;case E:return(t=bs(t,e.mode,n)).return=e,t}if(Ba(t)||W(t))return(t=gs(t,e.mode,n,null)).return=e,t;Qa(e,t)}return null}function p(e,t,n,r){var l=null!==t?t.key:null;if("string"==typeof n||"number"==typeof n)return null!==l?null:i(e,t,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case S:return n.key===l?n.type===x?f(e,t,n.props.children,r,l):s(e,t,n,r):null;case E:return n.key===l?c(e,t,n,r):null}if(Ba(n)||W(n))return null!==l?null:f(e,t,n,r,null);Qa(e,n)}return null}function h(e,t,n,r,l){if("string"==typeof r||"number"==typeof r)return i(t,e=e.get(n)||null,""+r,l);if("object"==typeof r&&null!==r){switch(r.$$typeof){case S:return e=e.get(null===r.key?n:r.key)||null,r.type===x?f(t,e,r.props.children,l,r.key):s(t,e,r,l);case E:return c(t,e=e.get(null===r.key?n:r.key)||null,r,l)}if(Ba(r)||W(r))return f(t,e=e.get(n)||null,r,l,null);Qa(t,r)}return null}function m(r,a,u,i){for(var s=null,c=null,f=a,m=a=0,g=null;null!==f&&m<u.length;m++){f.index>m?(g=f,f=null):g=f.sibling;var v=p(r,f,u[m],i);if(null===v){null===f&&(f=g);break}e&&f&&null===v.alternate&&t(r,f),a=o(v,a,m),null===c?s=v:c.sibling=v,c=v,f=g}if(m===u.length)return n(r,f),s;if(null===f){for(;m<u.length;m++)null!==(f=d(r,u[m],i))&&(a=o(f,a,m),null===c?s=f:c.sibling=f,c=f);return s}for(f=l(r,f);m<u.length;m++)null!==(g=h(f,r,m,u[m],i))&&(e&&null!==g.alternate&&f.delete(null===g.key?m:g.key),a=o(g,a,m),null===c?s=g:c.sibling=g,c=g);return e&&f.forEach(function(e){return t(r,e)}),s}function g(a,u,i,s){var c=W(i);if("function"!=typeof c)throw Error(r(150));if(null==(i=c.call(i)))throw Error(r(151));for(var f=c=null,m=u,g=u=0,v=null,y=i.next();null!==m&&!y.done;g++,y=i.next()){m.index>g?(v=m,m=null):v=m.sibling;var b=p(a,m,y.value,s);if(null===b){null===m&&(m=v);break}e&&m&&null===b.alternate&&t(a,m),u=o(b,u,g),null===f?c=b:f.sibling=b,f=b,m=v}if(y.done)return n(a,m),c;if(null===m){for(;!y.done;g++,y=i.next())null!==(y=d(a,y.value,s))&&(u=o(y,u,g),null===f?c=y:f.sibling=y,f=y);return c}for(m=l(a,m);!y.done;g++,y=i.next())null!==(y=h(m,a,g,y.value,s))&&(e&&null!==y.alternate&&m.delete(null===y.key?g:y.key),u=o(y,u,g),null===f?c=y:f.sibling=y,f=y);return e&&m.forEach(function(e){return t(a,e)}),c}return function(e,l,o,i){var s="object"==typeof o&&null!==o&&o.type===x&&null===o.key;s&&(o=o.props.children);var c="object"==typeof o&&null!==o;if(c)switch(o.$$typeof){case S:e:{for(c=o.key,s=l;null!==s;){if(s.key===c){switch(s.tag){case 7:if(o.type===x){n(e,s.sibling),(l=a(s,o.props.children)).return=e,e=l;break e}break;default:if(s.elementType===o.type){n(e,s.sibling),(l=a(s,o.props)).ref=Wa(e,s,o),l.return=e,e=l;break e}}n(e,s);break}t(e,s),s=s.sibling}o.type===x?((l=gs(o.props.children,e.mode,i,o.key)).return=e,e=l):((i=ms(o.type,o.key,o.props,null,e.mode,i)).ref=Wa(e,l,o),i.return=e,e=i)}return u(e);case E:e:{for(s=o.key;null!==l;){if(l.key===s){if(4===l.tag&&l.stateNode.containerInfo===o.containerInfo&&l.stateNode.implementation===o.implementation){n(e,l.sibling),(l=a(l,o.children||[])).return=e,e=l;break e}n(e,l);break}t(e,l),l=l.sibling}(l=bs(o,e.mode,i)).return=e,e=l}return u(e)}if("string"==typeof o||"number"==typeof o)return o=""+o,null!==l&&6===l.tag?(n(e,l.sibling),(l=a(l,o)).return=e,e=l):(n(e,l),(l=ys(o,e.mode,i)).return=e,e=l),u(e);if(Ba(o))return m(e,l,o,i);if(W(o))return g(e,l,o,i);if(c&&Qa(e,o),void 0===o&&!s)switch(e.tag){case 1:case 22:case 0:case 11:case 15:throw Error(r(152,q(e.type)||"Component"))}return n(e,l)}}var ja=Ha(!0),$a=Ha(!1),qa={},Ka=Pl(qa),Ya=Pl(qa),Xa=Pl(qa);function Ga(e){if(e===qa)throw Error(r(174));return e}function Za(e,t){switch(Ll(Xa,t),Ll(Ya,e),Ll(Ka,qa),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:me(null,"");break;default:t=me(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}zl(Ka),Ll(Ka,t)}function Ja(){zl(Ka),zl(Ya),zl(Xa)}function eo(e){Ga(Xa.current);var t=Ga(Ka.current),n=me(t,e.type);t!==n&&(Ll(Ya,e),Ll(Ka,n))}function to(e){Ya.current===e&&(zl(Ka),zl(Ya))}var no=Pl(0);function ro(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!=(64&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var lo=null,ao=null,oo=!1;function uo(e,t){var n=fs(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.flags=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function io(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);case 13:default:return!1}}function so(e){if(oo){var t=ao;if(t){var n=t;if(!io(e,t)){if(!(t=dl(n.nextSibling))||!io(e,t))return e.flags=-1025&e.flags|2,oo=!1,void(lo=e);uo(lo,n)}lo=e,ao=dl(t.firstChild)}else e.flags=-1025&e.flags|2,oo=!1,lo=e}}function co(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;lo=e}function fo(e){if(e!==lo)return!1;if(!oo)return co(e),oo=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!il(t,e.memoizedProps))for(t=ao;t;)uo(e,t),t=dl(t.nextSibling);if(co(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(r(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ao=dl(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ao=null}}else ao=lo?dl(e.stateNode.nextSibling):null;return!0}function po(){ao=lo=null,oo=!1}var ho=[];function mo(){for(var e=0;e<ho.length;e++)ho[e]._workInProgressVersionPrimary=null;ho.length=0}var go=k.ReactCurrentDispatcher,vo=k.ReactCurrentBatchConfig,yo=0,bo=null,wo=null,ko=null,So=!1,Eo=!1;function xo(){throw Error(r(321))}function Co(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Pr(e[n],t[n]))return!1;return!0}function _o(e,t,n,l,a,o){if(yo=o,bo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,go.current=null===e||null===e.memoizedState?Zo:Jo,e=n(l,a),Eo){o=0;do{if(Eo=!1,!(25>o))throw Error(r(301));o+=1,ko=wo=null,t.updateQueue=null,go.current=eu,e=n(l,a)}while(Eo)}if(go.current=Go,t=null!==wo&&null!==wo.next,yo=0,ko=wo=bo=null,So=!1,t)throw Error(r(300));return e}function No(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ko?bo.memoizedState=ko=e:ko=ko.next=e,ko}function Po(){if(null===wo){var e=bo.alternate;e=null!==e?e.memoizedState:null}else e=wo.next;var t=null===ko?bo.memoizedState:ko.next;if(null!==t)ko=t,wo=e;else{if(null===e)throw Error(r(310));e={memoizedState:(wo=e).memoizedState,baseState:wo.baseState,baseQueue:wo.baseQueue,queue:wo.queue,next:null},null===ko?bo.memoizedState=ko=e:ko=ko.next=e}return ko}function zo(e,t){return"function"==typeof t?t(e):t}function Lo(e){var t=Po(),n=t.queue;if(null===n)throw Error(r(311));n.lastRenderedReducer=e;var l=wo,a=l.baseQueue,o=n.pending;if(null!==o){if(null!==a){var u=a.next;a.next=o.next,o.next=u}l.baseQueue=a=o,n.pending=null}if(null!==a){a=a.next,l=l.baseState;var i=u=o=null,s=a;do{var c=s.lane;if((yo&c)===c)null!==i&&(i=i.next={lane:0,action:s.action,eagerReducer:s.eagerReducer,eagerState:s.eagerState,next:null}),l=s.eagerReducer===e?s.eagerState:e(l,s.action);else{var f={lane:c,action:s.action,eagerReducer:s.eagerReducer,eagerState:s.eagerState,next:null};null===i?(u=i=f,o=l):i=i.next=f,bo.lanes|=c,ui|=c}s=s.next}while(null!==s&&s!==a);null===i?o=l:i.next=u,Pr(l,t.memoizedState)||(nu=!0),t.memoizedState=l,t.baseState=o,t.baseQueue=i,n.lastRenderedState=l}return[t.memoizedState,n.dispatch]}function To(e){var t=Po(),n=t.queue;if(null===n)throw Error(r(311));n.lastRenderedReducer=e;var l=n.dispatch,a=n.pending,o=t.memoizedState;if(null!==a){n.pending=null;var u=a=a.next;do{o=e(o,u.action),u=u.next}while(u!==a);Pr(o,t.memoizedState)||(nu=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,l]}function Mo(e,t,n){var l=t._getVersion;l=l(t._source);var a=t._workInProgressVersionPrimary;if(null!==a?e=a===l:(e=e.mutableReadLanes,(e=(yo&e)===e)&&(t._workInProgressVersionPrimary=l,ho.push(t))),e)return n(t._source);throw ho.push(t),Error(r(350))}function Oo(e,t,n,l){var a=Ju;if(null===a)throw Error(r(349));var o=t._getVersion,u=o(t._source),i=go.current,s=i.useState(function(){return Mo(a,t,n)}),c=s[1],f=s[0];s=ko;var d=e.memoizedState,p=d.refs,h=p.getSnapshot,m=d.source;d=d.subscribe;var g=bo;return e.memoizedState={refs:p,source:t,subscribe:l},i.useEffect(function(){p.getSnapshot=n,p.setSnapshot=c;var e=o(t._source);if(!Pr(u,e)){e=n(t._source),Pr(f,e)||(c(e),e=Oi(g),a.mutableReadLanes|=e&a.pendingLanes),e=a.mutableReadLanes,a.entangledLanes|=e;for(var r=a.entanglements,l=e;0<l;){var i=31-Gt(l),s=1<<i;r[i]|=e,l&=~s}}},[n,t,l]),i.useEffect(function(){return l(t._source,function(){var e=p.getSnapshot,n=p.setSnapshot;try{n(e(t._source));var r=Oi(g);a.mutableReadLanes|=r&a.pendingLanes}catch(l){n(function(){throw l})}})},[t,l]),Pr(h,n)&&Pr(m,t)&&Pr(d,l)||((e={pending:null,dispatch:null,lastRenderedReducer:zo,lastRenderedState:f}).dispatch=c=Xo.bind(null,bo,e),s.queue=e,s.baseQueue=null,f=Mo(a,t,n),s.memoizedState=s.baseState=f),f}function Ro(e,t,n){return Oo(Po(),e,t,n)}function Do(e){var t=No();return"function"==typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:zo,lastRenderedState:e}).dispatch=Xo.bind(null,bo,e),[t.memoizedState,e]}function Fo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=bo.updateQueue)?(t={lastEffect:null},bo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Io(e){return e={current:e},No().memoizedState=e}function Uo(){return Po().memoizedState}function Vo(e,t,n,r){var l=No();bo.flags|=e,l.memoizedState=Fo(1|t,n,void 0,void 0===r?null:r)}function Ao(e,t,n,r){var l=Po();r=void 0===r?null:r;var a=void 0;if(null!==wo){var o=wo.memoizedState;if(a=o.destroy,null!==r&&Co(r,o.deps))return void Fo(t,n,a,r)}bo.flags|=e,l.memoizedState=Fo(1|t,n,a,r)}function Bo(e,t){return Vo(516,4,e,t)}function Wo(e,t){return Ao(516,4,e,t)}function Qo(e,t){return Ao(4,2,e,t)}function Ho(e,t){return"function"==typeof t?(e=e(),t(e),function(){t(null)}):null!=t?(e=e(),t.current=e,function(){t.current=null}):void 0}function jo(e,t,n){return n=null!=n?n.concat([e]):null,Ao(4,2,Ho.bind(null,t,e),n)}function $o(){}function qo(e,t){var n=Po();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Co(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Ko(e,t){var n=Po();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Co(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Yo(e,t){var n=sa();fa(98>n?98:n,function(){e(!0)}),fa(97<n?97:n,function(){var n=vo.transition;vo.transition=1;try{e(!1),t()}finally{vo.transition=n}})}function Xo(e,t,n){var r=Mi(),l=Oi(e),a={lane:l,action:n,eagerReducer:null,eagerState:null,next:null},o=t.pending;if(null===o?a.next=a:(a.next=o.next,o.next=a),t.pending=a,o=e.alternate,e===bo||null!==o&&o===bo)Eo=So=!0;else{if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var u=t.lastRenderedState,i=o(u,n);if(a.eagerReducer=o,a.eagerState=i,Pr(i,u))return}catch(s){}Ri(e,l,r)}}var Go={readContext:Ca,useCallback:xo,useContext:xo,useEffect:xo,useImperativeHandle:xo,useLayoutEffect:xo,useMemo:xo,useReducer:xo,useRef:xo,useState:xo,useDebugValue:xo,useDeferredValue:xo,useTransition:xo,useMutableSource:xo,useOpaqueIdentifier:xo,unstable_isNewReconciler:!1},Zo={readContext:Ca,useCallback:function(e,t){return No().memoizedState=[e,void 0===t?null:t],e},useContext:Ca,useEffect:Bo,useImperativeHandle:function(e,t,n){return n=null!=n?n.concat([e]):null,Vo(4,2,Ho.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Vo(4,2,e,t)},useMemo:function(e,t){var n=No();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=No();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=Xo.bind(null,bo,e),[r.memoizedState,e]},useRef:Io,useState:Do,useDebugValue:$o,useDeferredValue:function(e){var t=Do(e),n=t[0],r=t[1];return Bo(function(){var t=vo.transition;vo.transition=1;try{r(e)}finally{vo.transition=t}},[e]),n},useTransition:function(){var e=Do(!1),t=e[0];return Io(e=Yo.bind(null,e[1])),[e,t]},useMutableSource:function(e,t,n){var r=No();return r.memoizedState={refs:{getSnapshot:t,setSnapshot:null},source:e,subscribe:n},Oo(r,e,t,n)},useOpaqueIdentifier:function(){if(oo){var e=!1,t=ml(function(){throw e||(e=!0,n("r:"+(hl++).toString(36))),Error(r(355))}),n=Do(t)[1];return 0==(2&bo.mode)&&(bo.flags|=516,Fo(5,function(){n("r:"+(hl++).toString(36))},void 0,null)),t}return Do(t="r:"+(hl++).toString(36)),t},unstable_isNewReconciler:!1},Jo={readContext:Ca,useCallback:qo,useContext:Ca,useEffect:Wo,useImperativeHandle:jo,useLayoutEffect:Qo,useMemo:Ko,useReducer:Lo,useRef:Uo,useState:function(){return Lo(zo)},useDebugValue:$o,useDeferredValue:function(e){var t=Lo(zo),n=t[0],r=t[1];return Wo(function(){var t=vo.transition;vo.transition=1;try{r(e)}finally{vo.transition=t}},[e]),n},useTransition:function(){var e=Lo(zo)[0];return[Uo().current,e]},useMutableSource:Ro,useOpaqueIdentifier:function(){return Lo(zo)[0]},unstable_isNewReconciler:!1},eu={readContext:Ca,useCallback:qo,useContext:Ca,useEffect:Wo,useImperativeHandle:jo,useLayoutEffect:Qo,useMemo:Ko,useReducer:To,useRef:Uo,useState:function(){return To(zo)},useDebugValue:$o,useDeferredValue:function(e){var t=To(zo),n=t[0],r=t[1];return Wo(function(){var t=vo.transition;vo.transition=1;try{r(e)}finally{vo.transition=t}},[e]),n},useTransition:function(){var e=To(zo)[0];return[Uo().current,e]},useMutableSource:Ro,useOpaqueIdentifier:function(){return To(zo)[0]},unstable_isNewReconciler:!1},tu=k.ReactCurrentOwner,nu=!1;function ru(e,t,n,r){t.child=null===e?$a(t,null,n,r):ja(t,e.child,n,r)}function lu(e,t,n,r,l){n=n.render;var a=t.ref;return xa(t,l),r=_o(e,t,n,r,a,l),null===e||nu?(t.flags|=1,ru(e,t,r,l),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~l,Cu(e,t,l))}function au(e,t,n,r,l,a){if(null===e){var o=n.type;return"function"!=typeof o||ds(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=ms(n.type,null,r,t,t.mode,a)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,ou(e,t,o,r,l,a))}return o=e.child,0==(l&a)&&(l=o.memoizedProps,(n=null!==(n=n.compare)?n:Lr)(l,r)&&e.ref===t.ref)?Cu(e,t,a):(t.flags|=1,(e=hs(o,r)).ref=t.ref,e.return=t,t.child=e)}function ou(e,t,n,r,l,a){if(null!==e&&Lr(e.memoizedProps,r)&&e.ref===t.ref){if(nu=!1,0==(a&l))return t.lanes=e.lanes,Cu(e,t,a);0!=(16384&e.flags)&&(nu=!0)}return su(e,t,n,r,a)}function uu(e,t,n){var r=t.pendingProps,l=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode||"unstable-defer-without-hiding"===r.mode)if(0==(4&t.mode))t.memoizedState={baseLanes:0},Qi(t,n);else{if(0==(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e},Qi(t,e),null;t.memoizedState={baseLanes:0},Qi(t,null!==a?a.baseLanes:n)}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,Qi(t,r);return ru(e,t,l,n),t.child}function iu(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=128)}function su(e,t,n,r,l){var a=Fl(n)?Rl:Ml.current;return a=Dl(t,a),xa(t,l),n=_o(e,t,n,r,a,l),null===e||nu?(t.flags|=1,ru(e,t,n,l),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~l,Cu(e,t,l))}function cu(e,t,n,r,l){if(Fl(n)){var a=!0;Al(t)}else a=!1;if(xa(t,l),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),Ua(t,n,r),Aa(t,n,r,l),r=!0;else if(null===e){var o=t.stateNode,u=t.memoizedProps;o.props=u;var i=o.context,s=n.contextType;"object"==typeof s&&null!==s?s=Ca(s):s=Dl(t,s=Fl(n)?Rl:Ml.current);var c=n.getDerivedStateFromProps,f="function"==typeof c||"function"==typeof o.getSnapshotBeforeUpdate;f||"function"!=typeof o.UNSAFE_componentWillReceiveProps&&"function"!=typeof o.componentWillReceiveProps||(u!==r||i!==s)&&Va(t,o,r,s),_a=!1;var d=t.memoizedState;o.state=d,Ma(t,r,o,l),i=t.memoizedState,u!==r||d!==i||Ol.current||_a?("function"==typeof c&&(Da(t,n,c,r),i=t.memoizedState),(u=_a||Ia(t,n,u,r,d,i,s))?(f||"function"!=typeof o.UNSAFE_componentWillMount&&"function"!=typeof o.componentWillMount||("function"==typeof o.componentWillMount&&o.componentWillMount(),"function"==typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"==typeof o.componentDidMount&&(t.flags|=4)):("function"==typeof o.componentDidMount&&(t.flags|=4),t.memoizedProps=r,t.memoizedState=i),o.props=r,o.state=i,o.context=s,r=u):("function"==typeof o.componentDidMount&&(t.flags|=4),r=!1)}else{o=t.stateNode,Pa(e,t),u=t.memoizedProps,s=t.type===t.elementType?u:ga(t.type,u),o.props=s,f=t.pendingProps,d=o.context,"object"==typeof(i=n.contextType)&&null!==i?i=Ca(i):i=Dl(t,i=Fl(n)?Rl:Ml.current);var p=n.getDerivedStateFromProps;(c="function"==typeof p||"function"==typeof o.getSnapshotBeforeUpdate)||"function"!=typeof o.UNSAFE_componentWillReceiveProps&&"function"!=typeof o.componentWillReceiveProps||(u!==f||d!==i)&&Va(t,o,r,i),_a=!1,d=t.memoizedState,o.state=d,Ma(t,r,o,l);var h=t.memoizedState;u!==f||d!==h||Ol.current||_a?("function"==typeof p&&(Da(t,n,p,r),h=t.memoizedState),(s=_a||Ia(t,n,s,r,d,h,i))?(c||"function"!=typeof o.UNSAFE_componentWillUpdate&&"function"!=typeof o.componentWillUpdate||("function"==typeof o.componentWillUpdate&&o.componentWillUpdate(r,h,i),"function"==typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,h,i)),"function"==typeof o.componentDidUpdate&&(t.flags|=4),"function"==typeof o.getSnapshotBeforeUpdate&&(t.flags|=256)):("function"!=typeof o.componentDidUpdate||u===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!=typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&d===e.memoizedState||(t.flags|=256),t.memoizedProps=r,t.memoizedState=h),o.props=r,o.state=h,o.context=i,r=s):("function"!=typeof o.componentDidUpdate||u===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!=typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&d===e.memoizedState||(t.flags|=256),r=!1)}return fu(e,t,n,r,a,l)}function fu(e,t,n,r,l,a){iu(e,t);var o=0!=(64&t.flags);if(!r&&!o)return l&&Bl(t,n,!1),Cu(e,t,a);r=t.stateNode,tu.current=t;var u=o&&"function"!=typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=ja(t,e.child,null,a),t.child=ja(t,null,u,a)):ru(e,t,u,a),t.memoizedState=r.state,l&&Bl(t,n,!0),t.child}function du(e){var t=e.stateNode;t.pendingContext?Ul(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Ul(e,t.context,!1),Za(e,t.containerInfo)}var pu,hu,mu,gu,vu={dehydrated:null,retryLane:0};function yu(e,t,n){var r,l=t.pendingProps,a=no.current,o=!1;return(r=0!=(64&t.flags))||(r=(null===e||null!==e.memoizedState)&&0!=(2&a)),r?(o=!0,t.flags&=-65):null!==e&&null===e.memoizedState||void 0===l.fallback||!0===l.unstable_avoidThisFallback||(a|=1),Ll(no,1&a),null===e?(void 0!==l.fallback&&so(t),e=l.children,a=l.fallback,o?(e=bu(t,e,a,n),t.child.memoizedState={baseLanes:n},t.memoizedState=vu,e):"number"==typeof l.unstable_expectedLoadTime?(e=bu(t,e,a,n),t.child.memoizedState={baseLanes:n},t.memoizedState=vu,t.lanes=33554432,e):((n=vs({mode:"visible",children:e},t.mode,n,null)).return=t,t.child=n)):(e.memoizedState,o?(l=ku(e,t,l.children,l.fallback,n),o=t.child,a=e.child.memoizedState,o.memoizedState=null===a?{baseLanes:n}:{baseLanes:a.baseLanes|n},o.childLanes=e.childLanes&~n,t.memoizedState=vu,l):(n=wu(e,t,l.children,n),t.memoizedState=null,n))}function bu(e,t,n,r){var l=e.mode,a=e.child;return t={mode:"hidden",children:t},0==(2&l)&&null!==a?(a.childLanes=0,a.pendingProps=t):a=vs(t,l,0,null),n=gs(n,l,r,null),a.return=e,n.return=e,a.sibling=n,e.child=a,n}function wu(e,t,n,r){var l=e.child;return e=l.sibling,n=hs(l,{mode:"visible",children:n}),0==(2&t.mode)&&(n.lanes=r),n.return=t,n.sibling=null,null!==e&&(e.nextEffect=null,e.flags=8,t.firstEffect=t.lastEffect=e),t.child=n}function ku(e,t,n,r,l){var a=t.mode,o=e.child;e=o.sibling;var u={mode:"hidden",children:n};return 0==(2&a)&&t.child!==o?((n=t.child).childLanes=0,n.pendingProps=u,null!==(o=n.lastEffect)?(t.firstEffect=n.firstEffect,t.lastEffect=o,o.nextEffect=null):t.firstEffect=t.lastEffect=null):n=hs(o,u),null!==e?r=hs(e,r):(r=gs(r,a,l,null)).flags|=2,r.return=t,n.return=t,n.sibling=r,t.child=n,r}function Su(e,t){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),Ea(e.return,t)}function Eu(e,t,n,r,l,a){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:l,lastEffect:a}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=l,o.lastEffect=a)}function xu(e,t,n){var r=t.pendingProps,l=r.revealOrder,a=r.tail;if(ru(e,t,r.children,n),0!=(2&(r=no.current)))r=1&r|2,t.flags|=64;else{if(null!==e&&0!=(64&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Su(e,n);else if(19===e.tag)Su(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ll(no,r),0==(2&t.mode))t.memoizedState=null;else switch(l){case"forwards":for(n=t.child,l=null;null!==n;)null!==(e=n.alternate)&&null===ro(e)&&(l=n),n=n.sibling;null===(n=l)?(l=t.child,t.child=null):(l=n.sibling,n.sibling=null),Eu(t,!1,l,n,a,t.lastEffect);break;case"backwards":for(n=null,l=t.child,t.child=null;null!==l;){if(null!==(e=l.alternate)&&null===ro(e)){t.child=l;break}e=l.sibling,l.sibling=n,n=l,l=e}Eu(t,!0,n,null,a,t.lastEffect);break;case"together":Eu(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function Cu(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),ui|=t.lanes,0!=(n&t.childLanes)){if(null!==e&&t.child!==e.child)throw Error(r(153));if(null!==t.child){for(n=hs(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=hs(e,e.pendingProps)).return=t;n.sibling=null}return t.child}return null}function _u(e,t){if(!oo)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Nu(e,n,l){var o=n.pendingProps;switch(n.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return Fl(n.type)&&Il(),null;case 3:return Ja(),zl(Ol),zl(Ml),mo(),(o=n.stateNode).pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),null!==e&&null!==e.child||(fo(n)?n.flags|=4:o.hydrate||(n.flags|=256)),hu(n),null;case 5:to(n);var u=Ga(Xa.current);if(l=n.type,null!==e&&null!=n.stateNode)mu(e,n,l,o,u),e.ref!==n.ref&&(n.flags|=128);else{if(!o){if(null===n.stateNode)throw Error(r(166));return null}if(e=Ga(Ka.current),fo(n)){o=n.stateNode,l=n.type;var i=n.memoizedProps;switch(o[vl]=n,o[yl]=i,l){case"dialog":Kr("cancel",o),Kr("close",o);break;case"iframe":case"object":case"embed":Kr("load",o);break;case"video":case"audio":for(e=0;e<Hr.length;e++)Kr(Hr[e],o);break;case"source":Kr("error",o);break;case"img":case"image":case"link":Kr("error",o),Kr("load",o);break;case"details":Kr("toggle",o);break;case"input":te(o,i),Kr("invalid",o);break;case"select":o._wrapperState={wasMultiple:!!i.multiple},Kr("invalid",o);break;case"textarea":ce(o,i),Kr("invalid",o)}for(var s in xe(l,i),e=null,i)i.hasOwnProperty(s)&&(u=i[s],"children"===s?"string"==typeof u?o.textContent!==u&&(e=["children",u]):"number"==typeof u&&o.textContent!==""+u&&(e=["children",""+u]):a.hasOwnProperty(s)&&null!=u&&"onScroll"===s&&Kr("scroll",o));switch(l){case"input":G(o),le(o,i,!0);break;case"textarea":G(o),de(o);break;case"select":case"option":break;default:"function"==typeof i.onClick&&(o.onclick=ll)}o=e,n.updateQueue=o,null!==o&&(n.flags|=4)}else{switch(s=9===u.nodeType?u:u.ownerDocument,e===pe.html&&(e=he(l)),e===pe.html?"script"===l?((e=s.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"==typeof o.is?e=s.createElement(l,{is:o.is}):(e=s.createElement(l),"select"===l&&(s=e,o.multiple?s.multiple=!0:o.size&&(s.size=o.size))):e=s.createElementNS(e,l),e[vl]=n,e[yl]=o,pu(e,n,!1,!1),n.stateNode=e,s=Ce(l,o),l){case"dialog":Kr("cancel",e),Kr("close",e),u=o;break;case"iframe":case"object":case"embed":Kr("load",e),u=o;break;case"video":case"audio":for(u=0;u<Hr.length;u++)Kr(Hr[u],e);u=o;break;case"source":Kr("error",e),u=o;break;case"img":case"image":case"link":Kr("error",e),Kr("load",e),u=o;break;case"details":Kr("toggle",e),u=o;break;case"input":te(e,o),u=ee(e,o),Kr("invalid",e);break;case"option":u=ue(e,o);break;case"select":e._wrapperState={wasMultiple:!!o.multiple},u=t({},o,{value:void 0}),Kr("invalid",e);break;case"textarea":ce(e,o),u=se(e,o),Kr("invalid",e);break;default:u=o}xe(l,u);var c=u;for(i in c)if(c.hasOwnProperty(i)){var f=c[i];"style"===i?Se(e,f):"dangerouslySetInnerHTML"===i?null!=(f=f?f.__html:void 0)&&ve(e,f):"children"===i?"string"==typeof f?("textarea"!==l||""!==f)&&ye(e,f):"number"==typeof f&&ye(e,""+f):"suppressContentEditableWarning"!==i&&"suppressHydrationWarning"!==i&&"autoFocus"!==i&&(a.hasOwnProperty(i)?null!=f&&"onScroll"===i&&Kr("scroll",e):null!=f&&w(e,i,f,s))}switch(l){case"input":G(e),le(e,o,!1);break;case"textarea":G(e),de(e);break;case"option":null!=o.value&&e.setAttribute("value",""+K(o.value));break;case"select":e.multiple=!!o.multiple,null!=(i=o.value)?ie(e,!!o.multiple,i,!1):null!=o.defaultValue&&ie(e,!!o.multiple,o.defaultValue,!0);break;default:"function"==typeof u.onClick&&(e.onclick=ll)}ul(l,o)&&(n.flags|=4)}null!==n.ref&&(n.flags|=128)}return null;case 6:if(e&&null!=n.stateNode)gu(e,n,e.memoizedProps,o);else{if("string"!=typeof o&&null===n.stateNode)throw Error(r(166));l=Ga(Xa.current),Ga(Ka.current),fo(n)?(o=n.stateNode,l=n.memoizedProps,o[vl]=n,o.nodeValue!==l&&(n.flags|=4)):((o=(9===l.nodeType?l:l.ownerDocument).createTextNode(o))[vl]=n,n.stateNode=o)}return null;case 13:return zl(no),o=n.memoizedState,0!=(64&n.flags)?(n.lanes=l,n):(o=null!==o,l=!1,null===e?void 0!==n.memoizedProps.fallback&&fo(n):l=null!==e.memoizedState,o&&!l&&0!=(2&n.mode)&&(null===e&&!0!==n.memoizedProps.unstable_avoidThisFallback||0!=(1&no.current)?0===li&&(li=3):(0!==li&&3!==li||(li=4),null===Ju||0==(134217727&ui)&&0==(134217727&ii)||Ui(Ju,ti))),(o||l)&&(n.flags|=4),null);case 4:return Ja(),hu(n),null===e&&Xr(n.stateNode.containerInfo),null;case 10:return Sa(n),null;case 17:return Fl(n.type)&&Il(),null;case 19:if(zl(no),null===(o=n.memoizedState))return null;if(i=0!=(64&n.flags),null===(s=o.rendering))if(i)_u(o,!1);else{if(0!==li||null!==e&&0!=(64&e.flags))for(e=n.child;null!==e;){if(null!==(s=ro(e))){for(n.flags|=64,_u(o,!1),null!==(i=s.updateQueue)&&(n.updateQueue=i,n.flags|=4),null===o.lastEffect&&(n.firstEffect=null),n.lastEffect=o.lastEffect,o=l,l=n.child;null!==l;)e=o,(i=l).flags&=2,i.nextEffect=null,i.firstEffect=null,i.lastEffect=null,null===(s=i.alternate)?(i.childLanes=0,i.lanes=e,i.child=null,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=s.childLanes,i.lanes=s.lanes,i.child=s.child,i.memoizedProps=s.memoizedProps,i.memoizedState=s.memoizedState,i.updateQueue=s.updateQueue,i.type=s.type,e=s.dependencies,i.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),l=l.sibling;return Ll(no,1&no.current|2),n.child}e=e.sibling}null!==o.tail&&ia()>di&&(n.flags|=64,i=!0,_u(o,!1),n.lanes=33554432)}else{if(!i)if(null!==(e=ro(s))){if(n.flags|=64,i=!0,null!==(l=e.updateQueue)&&(n.updateQueue=l,n.flags|=4),_u(o,!0),null===o.tail&&"hidden"===o.tailMode&&!s.alternate&&!oo)return null!==(n=n.lastEffect=o.lastEffect)&&(n.nextEffect=null),null}else 2*ia()-o.renderingStartTime>di&&1073741824!==l&&(n.flags|=64,i=!0,_u(o,!1),n.lanes=33554432);o.isBackwards?(s.sibling=n.child,n.child=s):(null!==(l=o.last)?l.sibling=s:n.child=s,o.last=s)}return null!==o.tail?(l=o.tail,o.rendering=l,o.tail=l.sibling,o.lastEffect=n.lastEffect,o.renderingStartTime=ia(),l.sibling=null,n=no.current,Ll(no,i?1&n|2:1&n),l):null;case 23:case 24:return Hi(),null!==e&&null!==e.memoizedState!=(null!==n.memoizedState)&&"unstable-defer-without-hiding"!==o.mode&&(n.flags|=4),null}throw Error(r(156,n.tag))}function Pu(e){switch(e.tag){case 1:Fl(e.type)&&Il();var t=e.flags;return 4096&t?(e.flags=-4097&t|64,e):null;case 3:if(Ja(),zl(Ol),zl(Ml),mo(),0!=(64&(t=e.flags)))throw Error(r(285));return e.flags=-4097&t|64,e;case 5:return to(e),null;case 13:return zl(no),4096&(t=e.flags)?(e.flags=-4097&t|64,e):null;case 19:return zl(no),null;case 4:return Ja(),null;case 10:return Sa(e),null;case 23:case 24:return Hi(),null;default:return null}}function zu(e,t){try{var n="",r=t;do{n+=$(r),r=r.return}while(r);var l=n}catch(a){l="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:l}}function Lu(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}pu=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},hu=function(){},mu=function(e,n,r,l){var o=e.memoizedProps;if(o!==l){e=n.stateNode,Ga(Ka.current);var u,i=null;switch(r){case"input":o=ee(e,o),l=ee(e,l),i=[];break;case"option":o=ue(e,o),l=ue(e,l),i=[];break;case"select":o=t({},o,{value:void 0}),l=t({},l,{value:void 0}),i=[];break;case"textarea":o=se(e,o),l=se(e,l),i=[];break;default:"function"!=typeof o.onClick&&"function"==typeof l.onClick&&(e.onclick=ll)}for(f in xe(r,l),r=null,o)if(!l.hasOwnProperty(f)&&o.hasOwnProperty(f)&&null!=o[f])if("style"===f){var s=o[f];for(u in s)s.hasOwnProperty(u)&&(r||(r={}),r[u]="")}else"dangerouslySetInnerHTML"!==f&&"children"!==f&&"suppressContentEditableWarning"!==f&&"suppressHydrationWarning"!==f&&"autoFocus"!==f&&(a.hasOwnProperty(f)?i||(i=[]):(i=i||[]).push(f,null));for(f in l){var c=l[f];if(s=null!=o?o[f]:void 0,l.hasOwnProperty(f)&&c!==s&&(null!=c||null!=s))if("style"===f)if(s){for(u in s)!s.hasOwnProperty(u)||c&&c.hasOwnProperty(u)||(r||(r={}),r[u]="");for(u in c)c.hasOwnProperty(u)&&s[u]!==c[u]&&(r||(r={}),r[u]=c[u])}else r||(i||(i=[]),i.push(f,r)),r=c;else"dangerouslySetInnerHTML"===f?(c=c?c.__html:void 0,s=s?s.__html:void 0,null!=c&&s!==c&&(i=i||[]).push(f,c)):"children"===f?"string"!=typeof c&&"number"!=typeof c||(i=i||[]).push(f,""+c):"suppressContentEditableWarning"!==f&&"suppressHydrationWarning"!==f&&(a.hasOwnProperty(f)?(null!=c&&"onScroll"===f&&Kr("scroll",e),i||s===c||(i=[])):"object"==typeof c&&null!==c&&c.$$typeof===D?c.toString():(i=i||[]).push(f,c))}r&&(i=i||[]).push("style",r);var f=i;(n.updateQueue=f)&&(n.flags|=4)}},gu=function(e,t,n,r){n!==r&&(t.flags|=4)};var Tu="function"==typeof WeakMap?WeakMap:Map;function Mu(e,t,n){(n=za(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){gi||(gi=!0,vi=r),Lu(e,t)},n}function Ou(e,t,n){(n=za(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"==typeof r){var l=t.value;n.payload=function(){return Lu(e,t),r(l)}}var a=e.stateNode;return null!==a&&"function"==typeof a.componentDidCatch&&(n.callback=function(){"function"!=typeof r&&(null===yi?yi=new Set([this]):yi.add(this),Lu(e,t));var n=t.stack;this.componentDidCatch(t.value,{componentStack:null!==n?n:""})}),n}var Ru="function"==typeof WeakSet?WeakSet:Set;function Du(e){var t=e.ref;if(null!==t)if("function"==typeof t)try{t(null)}catch(n){us(e,n)}else t.current=null}function Fu(e,t){switch(t.tag){case 0:case 11:case 15:case 22:return;case 1:if(256&t.flags&&null!==e){var n=e.memoizedProps,l=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:ga(t.type,n),l),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:return void(256&t.flags&&fl(t.stateNode.containerInfo));case 5:case 6:case 4:case 17:return}throw Error(r(163))}function Iu(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{if(3==(3&e.tag)){var l=e.create;e.destroy=l()}e=e.next}while(e!==t)}if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{var a=e;l=a.next,0!=(4&(a=a.tag))&&0!=(1&a)&&(ls(n,e),rs(n,e)),e=l}while(e!==t)}return;case 1:return e=n.stateNode,4&n.flags&&(null===t?e.componentDidMount():(l=n.elementType===n.type?t.memoizedProps:ga(n.type,t.memoizedProps),e.componentDidUpdate(l,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate))),void(null!==(t=n.updateQueue)&&Oa(n,t,e));case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:e=n.child.stateNode;break;case 1:e=n.child.stateNode}Oa(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.flags&&ul(n.type,n.memoizedProps)&&e.focus());case 6:case 4:case 12:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&_t(n)))));case 19:case 17:case 20:case 21:case 23:case 24:return}throw Error(r(163))}function Uu(e,t){for(var n=e;;){if(5===n.tag){var r=n.stateNode;if(t)"function"==typeof(r=r.style).setProperty?r.setProperty("display","none","important"):r.display="none";else{r=n.stateNode;var l=n.memoizedProps.style;l=null!=l&&l.hasOwnProperty("display")?l.display:null,r.style.display=ke("display",l)}}else if(6===n.tag)n.stateNode.nodeValue=t?"":n.memoizedProps;else if((23!==n.tag&&24!==n.tag||null===n.memoizedState||n===e)&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function Vu(e,t){if(Ql&&"function"==typeof Ql.onCommitFiberUnmount)try{Ql.onCommitFiberUnmount(Wl,t)}catch(a){}switch(t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var n=e=e.next;do{var r=n,l=r.destroy;if(r=r.tag,void 0!==l)if(0!=(4&r))ls(t,n);else{r=t;try{l()}catch(a){us(r,a)}}n=n.next}while(n!==e)}break;case 1:if(Du(t),"function"==typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(a){us(t,a)}break;case 5:Du(t);break;case 4:ju(e,t)}}function Au(e){e.alternate=null,e.child=null,e.dependencies=null,e.firstEffect=null,e.lastEffect=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.return=null,e.updateQueue=null}function Bu(e){return 5===e.tag||3===e.tag||4===e.tag}function Wu(e){e:{for(var t=e.return;null!==t;){if(Bu(t))break e;t=t.return}throw Error(r(160))}var n=t;switch(t=n.stateNode,n.tag){case 5:var l=!1;break;case 3:case 4:t=t.containerInfo,l=!0;break;default:throw Error(r(161))}16&n.flags&&(ye(t,""),n.flags&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||Bu(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.flags)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.flags)){n=n.stateNode;break e}}l?Qu(e,n,t):Hu(e,n,t)}function Qu(e,t,n){var r=e.tag,l=5===r||6===r;if(l)e=l?e.stateNode:e.stateNode.instance,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!=(n=n._reactRootContainer)||null!==t.onclick||(t.onclick=ll));else if(4!==r&&null!==(e=e.child))for(Qu(e,t,n),e=e.sibling;null!==e;)Qu(e,t,n),e=e.sibling}function Hu(e,t,n){var r=e.tag,l=5===r||6===r;if(l)e=l?e.stateNode:e.stateNode.instance,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(Hu(e,t,n),e=e.sibling;null!==e;)Hu(e,t,n),e=e.sibling}function ju(e,t){for(var n,l,a=t,o=!1;;){if(!o){o=a.return;e:for(;;){if(null===o)throw Error(r(160));switch(n=o.stateNode,o.tag){case 5:l=!1;break e;case 3:case 4:n=n.containerInfo,l=!0;break e}o=o.return}o=!0}if(5===a.tag||6===a.tag){e:for(var u=e,i=a,s=i;;)if(Vu(u,s),null!==s.child&&4!==s.tag)s.child.return=s,s=s.child;else{if(s===i)break e;for(;null===s.sibling;){if(null===s.return||s.return===i)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}l?(u=n,i=a.stateNode,8===u.nodeType?u.parentNode.removeChild(i):u.removeChild(i)):n.removeChild(a.stateNode)}else if(4===a.tag){if(null!==a.child){n=a.stateNode.containerInfo,l=!0,a.child.return=a,a=a.child;continue}}else if(Vu(e,a),null!==a.child){a.child.return=a,a=a.child;continue}if(a===t)break;for(;null===a.sibling;){if(null===a.return||a.return===t)return;4===(a=a.return).tag&&(o=!1)}a.sibling.return=a.return,a=a.sibling}}function $u(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:var n=t.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var l=n=n.next;do{3==(3&l.tag)&&(e=l.destroy,l.destroy=void 0,void 0!==e&&e()),l=l.next}while(l!==n)}return;case 1:return;case 5:if(null!=(n=t.stateNode)){l=t.memoizedProps;var a=null!==e?e.memoizedProps:l;e=t.type;var o=t.updateQueue;if(t.updateQueue=null,null!==o){for(n[yl]=l,"input"===e&&"radio"===l.type&&null!=l.name&&ne(n,l),Ce(e,a),t=Ce(e,l),a=0;a<o.length;a+=2){var u=o[a],i=o[a+1];"style"===u?Se(n,i):"dangerouslySetInnerHTML"===u?ve(n,i):"children"===u?ye(n,i):w(n,u,i,t)}switch(e){case"input":re(n,l);break;case"textarea":fe(n,l);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!l.multiple,null!=(o=l.value)?ie(n,!!l.multiple,o,!1):e!==!!l.multiple&&(null!=l.defaultValue?ie(n,!!l.multiple,l.defaultValue,!0):ie(n,!!l.multiple,l.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(r(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((n=t.stateNode).hydrate&&(n.hydrate=!1,_t(n.containerInfo)));case 12:return;case 13:return null!==t.memoizedState&&(fi=ia(),Uu(t.child,!0)),void qu(t);case 19:return void qu(t);case 17:return;case 23:case 24:return void Uu(t,null!==t.memoizedState)}throw Error(r(163))}function qu(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Ru),t.forEach(function(t){var r=ss.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))})}}function Ku(e,t){return null!==e&&(null===(e=e.memoizedState)||null!==e.dehydrated)&&(null!==(t=t.memoizedState)&&null===t.dehydrated)}var Yu=Math.ceil,Xu=k.ReactCurrentDispatcher,Gu=k.ReactCurrentOwner,Zu=0,Ju=null,ei=null,ti=0,ni=0,ri=Pl(0),li=0,ai=null,oi=0,ui=0,ii=0,si=0,ci=null,fi=0,di=1/0;function pi(){di=ia()+500}var hi,mi=null,gi=!1,vi=null,yi=null,bi=!1,wi=null,ki=90,Si=[],Ei=[],xi=null,Ci=0,_i=null,Ni=-1,Pi=0,zi=0,Li=null,Ti=!1;function Mi(){return 0!=(48&Zu)?ia():-1!==Ni?Ni:Ni=ia()}function Oi(e){if(0==(2&(e=e.mode)))return 1;if(0==(4&e))return 99===sa()?1:2;if(0===Pi&&(Pi=oi),0!==ma.transition){0!==zi&&(zi=null!==ci?ci.pendingLanes:0),e=Pi;var t=4186112&~zi;return 0===(t&=-t)&&(0===(t=(e=4186112&~e)&-e)&&(t=8192)),t}return e=sa(),0!=(4&Zu)&&98===e?e=qt(12,Pi):e=qt(e=Qt(e),Pi),e}function Ri(e,t,n){if(50<Ci)throw Ci=0,_i=null,Error(r(185));if(null===(e=Di(e,t)))return null;Xt(e,t,n),e===Ju&&(ii|=t,4===li&&Ui(e,ti));var l=sa();1===t?0!=(8&Zu)&&0==(48&Zu)?Vi(e):(Fi(e,n),0===Zu&&(pi(),pa())):(0==(4&Zu)||98!==l&&99!==l||(null===xi?xi=new Set([e]):xi.add(e)),Fi(e,n)),ci=e}function Di(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function Fi(e,t){for(var n=e.callbackNode,r=e.suspendedLanes,l=e.pingedLanes,a=e.expirationTimes,o=e.pendingLanes;0<o;){var u=31-Gt(o),i=1<<u,s=a[u];if(-1===s){if(0==(i&r)||0!=(i&l)){s=t,Wt(i);var c=Bt;a[u]=10<=c?s+250:6<=c?s+5e3:-1}}else s<=t&&(e.expiredLanes|=i);o&=~i}if(r=jt(e,e===Ju?ti:0),t=Bt,0===r)null!==n&&(n!==na&&$l(n),e.callbackNode=null,e.callbackPriority=0);else{if(null!==n){if(e.callbackPriority===t)return;n!==na&&$l(n)}15===t?(n=Vi.bind(null,e),null===la?(la=[n],aa=jl(Gl,ha)):la.push(n),n=na):14===t?n=da(99,Vi.bind(null,e)):n=da(n=Ht(t),Ii.bind(null,e)),e.callbackPriority=t,e.callbackNode=n}}function Ii(e){if(Ni=-1,zi=Pi=0,0!=(48&Zu))throw Error(r(327));var t=e.callbackNode;if(ns()&&e.callbackNode!==t)return null;var n=jt(e,e===Ju?ti:0);if(0===n)return null;var l=n,a=Zu;Zu|=16;var o=qi();for(Ju===e&&ti===l||(pi(),ji(e,l));;)try{Xi();break}catch(i){$i(e,i)}if(ka(),Xu.current=o,Zu=a,null!==ei?l=0:(Ju=null,ti=0,l=li),0!=(oi&ii))ji(e,0);else if(0!==l){if(2===l&&(Zu|=64,e.hydrate&&(e.hydrate=!1,fl(e.containerInfo)),0!==(n=$t(e))&&(l=Ki(e,n))),1===l)throw t=ai,ji(e,0),Ui(e,n),Fi(e,ia()),t;switch(e.finishedWork=e.current.alternate,e.finishedLanes=n,l){case 0:case 1:throw Error(r(345));case 2:Ji(e);break;case 3:if(Ui(e,n),(62914560&n)===n&&10<(l=fi+500-ia())){if(0!==jt(e,0))break;if(((a=e.suspendedLanes)&n)!==n){Mi(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=sl(Ji.bind(null,e),l);break}Ji(e);break;case 4:if(Ui(e,n),(4186112&n)===n)break;for(l=e.eventTimes,a=-1;0<n;){var u=31-Gt(n);o=1<<u,(u=l[u])>a&&(a=u),n&=~o}if(n=a,10<(n=(120>(n=ia()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Yu(n/1960))-n)){e.timeoutHandle=sl(Ji.bind(null,e),n);break}Ji(e);break;case 5:Ji(e);break;default:throw Error(r(329))}}return Fi(e,ia()),e.callbackNode===t?Ii.bind(null,e):null}function Ui(e,t){for(t&=~si,t&=~ii,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Gt(t),r=1<<n;e[n]=-1,t&=~r}}function Vi(e){if(0!=(48&Zu))throw Error(r(327));if(ns(),e===Ju&&0!=(e.expiredLanes&ti)){var t=ti,n=Ki(e,t);0!=(oi&ii)&&(n=Ki(e,t=jt(e,t)))}else n=Ki(e,t=jt(e,0));if(0!==e.tag&&2===n&&(Zu|=64,e.hydrate&&(e.hydrate=!1,fl(e.containerInfo)),0!==(t=$t(e))&&(n=Ki(e,t))),1===n)throw n=ai,ji(e,0),Ui(e,t),Fi(e,ia()),n;return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ji(e),Fi(e,ia()),null}function Ai(){if(null!==xi){var e=xi;xi=null,e.forEach(function(e){e.expiredLanes|=24&e.pendingLanes,Fi(e,ia())})}pa()}function Bi(e,t){var n=Zu;Zu|=1;try{return e(t)}finally{0===(Zu=n)&&(pi(),pa())}}function Wi(e,t){var n=Zu;Zu&=-2,Zu|=8;try{return e(t)}finally{0===(Zu=n)&&(pi(),pa())}}function Qi(e,t){Ll(ri,ni),ni|=t,oi|=t}function Hi(){ni=ri.current,zl(ri)}function ji(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,cl(n)),null!==ei)for(n=ei.return;null!==n;){var r=n;switch(r.tag){case 1:null!=(r=r.type.childContextTypes)&&Il();break;case 3:Ja(),zl(Ol),zl(Ml),mo();break;case 5:to(r);break;case 4:Ja();break;case 13:case 19:zl(no);break;case 10:Sa(r);break;case 23:case 24:Hi()}n=n.return}Ju=e,ei=hs(e.current,null),ti=ni=oi=t,li=0,ai=null,si=ii=ui=0}function $i(e,t){for(;;){var n=ei;try{if(ka(),go.current=Go,So){for(var r=bo.memoizedState;null!==r;){var l=r.queue;null!==l&&(l.pending=null),r=r.next}So=!1}if(yo=0,ko=wo=bo=null,Eo=!1,Gu.current=null,null===n||null===n.return){li=1,ai=t,ei=null;break}e:{var a=e,o=n.return,u=n,i=t;if(t=ti,u.flags|=2048,u.firstEffect=u.lastEffect=null,null!==i&&"object"==typeof i&&"function"==typeof i.then){var s=i;if(0==(2&u.mode)){var c=u.alternate;c?(u.updateQueue=c.updateQueue,u.memoizedState=c.memoizedState,u.lanes=c.lanes):(u.updateQueue=null,u.memoizedState=null)}var f=0!=(1&no.current),d=o;do{var p;if(p=13===d.tag){var h=d.memoizedState;if(null!==h)p=null!==h.dehydrated;else{var m=d.memoizedProps;p=void 0!==m.fallback&&(!0!==m.unstable_avoidThisFallback||!f)}}if(p){var g=d.updateQueue;if(null===g){var v=new Set;v.add(s),d.updateQueue=v}else g.add(s);if(0==(2&d.mode)){if(d.flags|=64,u.flags|=16384,u.flags&=-2981,1===u.tag)if(null===u.alternate)u.tag=17;else{var y=za(-1,1);y.tag=2,La(u,y)}u.lanes|=1;break e}i=void 0,u=t;var b=a.pingCache;if(null===b?(b=a.pingCache=new Tu,i=new Set,b.set(s,i)):void 0===(i=b.get(s))&&(i=new Set,b.set(s,i)),!i.has(u)){i.add(u);var w=is.bind(null,a,s,u);s.then(w,w)}d.flags|=4096,d.lanes=t;break e}d=d.return}while(null!==d);i=Error((q(u.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.")}5!==li&&(li=2),i=zu(i,u),d=o;do{switch(d.tag){case 3:a=i,d.flags|=4096,t&=-t,d.lanes|=t,Ta(d,Mu(d,a,t));break e;case 1:a=i;var k=d.type,S=d.stateNode;if(0==(64&d.flags)&&("function"==typeof k.getDerivedStateFromError||null!==S&&"function"==typeof S.componentDidCatch&&(null===yi||!yi.has(S)))){d.flags|=4096,t&=-t,d.lanes|=t,Ta(d,Ou(d,a,t));break e}}d=d.return}while(null!==d)}Zi(n)}catch(E){t=E,ei===n&&null!==n&&(ei=n=n.return);continue}break}}function qi(){var e=Xu.current;return Xu.current=Go,null===e?Go:e}function Ki(e,t){var n=Zu;Zu|=16;var l=qi();for(Ju===e&&ti===t||ji(e,t);;)try{Yi();break}catch(a){$i(e,a)}if(ka(),Zu=n,Xu.current=l,null!==ei)throw Error(r(261));return Ju=null,ti=0,li}function Yi(){for(;null!==ei;)Gi(ei)}function Xi(){for(;null!==ei&&!ql();)Gi(ei)}function Gi(e){var t=hi(e.alternate,e,ni);e.memoizedProps=e.pendingProps,null===t?Zi(e):ei=t,Gu.current=null}function Zi(e){var t=e;do{var n=t.alternate;if(e=t.return,0==(2048&t.flags)){if(null!==(n=Nu(n,t,ni)))return void(ei=n);if(24!==(n=t).tag&&23!==n.tag||null===n.memoizedState||0!=(1073741824&ni)||0==(4&n.mode)){for(var r=0,l=n.child;null!==l;)r|=l.lanes|l.childLanes,l=l.sibling;n.childLanes=r}null!==e&&0==(2048&e.flags)&&(null===e.firstEffect&&(e.firstEffect=t.firstEffect),null!==t.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=t.firstEffect),e.lastEffect=t.lastEffect),1<t.flags&&(null!==e.lastEffect?e.lastEffect.nextEffect=t:e.firstEffect=t,e.lastEffect=t))}else{if(null!==(n=Pu(t)))return n.flags&=2047,void(ei=n);null!==e&&(e.firstEffect=e.lastEffect=null,e.flags|=2048)}if(null!==(t=t.sibling))return void(ei=t);ei=t=e}while(null!==t);0===li&&(li=5)}function Ji(e){var t=sa();return fa(99,es.bind(null,e,t)),null}function es(e,t){do{ns()}while(null!==wi);if(0!=(48&Zu))throw Error(r(327));var n=e.finishedWork;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(r(177));e.callbackNode=null;var l=n.lanes|n.childLanes,a=l,o=e.pendingLanes&~a;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=a,e.mutableReadLanes&=a,e.entangledLanes&=a,a=e.entanglements;for(var u=e.eventTimes,i=e.expirationTimes;0<o;){var s=31-Gt(o),c=1<<s;a[s]=0,u[s]=-1,i[s]=-1,o&=~c}if(null!==xi&&0==(24&l)&&xi.has(e)&&xi.delete(e),e===Ju&&(ei=Ju=null,ti=0),1<n.flags?null!==n.lastEffect?(n.lastEffect.nextEffect=n,l=n.firstEffect):l=n:l=n.firstEffect,null!==l){if(a=Zu,Zu|=32,Gu.current=null,al=rn,Dr(u=Rr())){if("selectionStart"in u)i={start:u.selectionStart,end:u.selectionEnd};else e:if(i=(i=u.ownerDocument)&&i.defaultView||window,(c=i.getSelection&&i.getSelection())&&0!==c.rangeCount){i=c.anchorNode,o=c.anchorOffset,s=c.focusNode,c=c.focusOffset;try{i.nodeType,s.nodeType}catch(_){i=null;break e}var f=0,d=-1,p=-1,h=0,m=0,g=u,v=null;t:for(;;){for(var y;g!==i||0!==o&&3!==g.nodeType||(d=f+o),g!==s||0!==c&&3!==g.nodeType||(p=f+c),3===g.nodeType&&(f+=g.nodeValue.length),null!==(y=g.firstChild);)v=g,g=y;for(;;){if(g===u)break t;if(v===i&&++h===o&&(d=f),v===s&&++m===c&&(p=f),null!==(y=g.nextSibling))break;v=(g=v).parentNode}g=y}i=-1===d||-1===p?null:{start:d,end:p}}else i=null;i=i||{start:0,end:0}}else i=null;ol={focusedElem:u,selectionRange:i},rn=!1,Li=null,Ti=!1,mi=l;do{try{ts()}catch(_){if(null===mi)throw Error(r(330));us(mi,_),mi=mi.nextEffect}}while(null!==mi);Li=null,mi=l;do{try{for(u=e;null!==mi;){var b=mi.flags;if(16&b&&ye(mi.stateNode,""),128&b){var w=mi.alternate;if(null!==w){var k=w.ref;null!==k&&("function"==typeof k?k(null):k.current=null)}}switch(1038&b){case 2:Wu(mi),mi.flags&=-3;break;case 6:Wu(mi),mi.flags&=-3,$u(mi.alternate,mi);break;case 1024:mi.flags&=-1025;break;case 1028:mi.flags&=-1025,$u(mi.alternate,mi);break;case 4:$u(mi.alternate,mi);break;case 8:ju(u,i=mi);var S=i.alternate;Au(i),null!==S&&Au(S)}mi=mi.nextEffect}}catch(_){if(null===mi)throw Error(r(330));us(mi,_),mi=mi.nextEffect}}while(null!==mi);if(k=ol,w=Rr(),b=k.focusedElem,u=k.selectionRange,w!==b&&b&&b.ownerDocument&&Or(b.ownerDocument.documentElement,b)){null!==u&&Dr(b)&&(w=u.start,void 0===(k=u.end)&&(k=w),"selectionStart"in b?(b.selectionStart=w,b.selectionEnd=Math.min(k,b.value.length)):(k=(w=b.ownerDocument||document)&&w.defaultView||window).getSelection&&(k=k.getSelection(),i=b.textContent.length,S=Math.min(u.start,i),u=void 0===u.end?S:Math.min(u.end,i),!k.extend&&S>u&&(i=u,u=S,S=i),i=Mr(b,S),o=Mr(b,u),i&&o&&(1!==k.rangeCount||k.anchorNode!==i.node||k.anchorOffset!==i.offset||k.focusNode!==o.node||k.focusOffset!==o.offset)&&((w=w.createRange()).setStart(i.node,i.offset),k.removeAllRanges(),S>u?(k.addRange(w),k.extend(o.node,o.offset)):(w.setEnd(o.node,o.offset),k.addRange(w))))),w=[];for(k=b;k=k.parentNode;)1===k.nodeType&&w.push({element:k,left:k.scrollLeft,top:k.scrollTop});for("function"==typeof b.focus&&b.focus(),b=0;b<w.length;b++)(k=w[b]).element.scrollLeft=k.left,k.element.scrollTop=k.top}rn=!!al,ol=al=null,e.current=n,mi=l;do{try{for(b=e;null!==mi;){var E=mi.flags;if(36&E&&Iu(b,mi.alternate,mi),128&E){w=void 0;var x=mi.ref;if(null!==x){var C=mi.stateNode;switch(mi.tag){case 5:w=C;break;default:w=C}"function"==typeof x?x(w):x.current=w}}mi=mi.nextEffect}}catch(_){if(null===mi)throw Error(r(330));us(mi,_),mi=mi.nextEffect}}while(null!==mi);mi=null,ra(),Zu=a}else e.current=n;if(bi)bi=!1,wi=e,ki=t;else for(mi=l;null!==mi;)t=mi.nextEffect,mi.nextEffect=null,8&mi.flags&&((E=mi).sibling=null,E.stateNode=null),mi=t;if(0===(l=e.pendingLanes)&&(yi=null),1===l?e===_i?Ci++:(Ci=0,_i=e):Ci=0,n=n.stateNode,Ql&&"function"==typeof Ql.onCommitFiberRoot)try{Ql.onCommitFiberRoot(Wl,n,void 0,64==(64&n.current.flags))}catch(_){}if(Fi(e,ia()),gi)throw gi=!1,e=vi,vi=null,e;return 0!=(8&Zu)?null:(pa(),null)}function ts(){for(;null!==mi;){var e=mi.alternate;Ti||null===Li||(0!=(8&mi.flags)?rt(mi,Li)&&(Ti=!0):13===mi.tag&&Ku(e,mi)&&rt(mi,Li)&&(Ti=!0));var t=mi.flags;0!=(256&t)&&Fu(e,mi),0==(512&t)||bi||(bi=!0,da(97,function(){return ns(),null})),mi=mi.nextEffect}}function ns(){if(90!==ki){var e=97<ki?97:ki;return ki=90,fa(e,as)}return!1}function rs(e,t){Si.push(t,e),bi||(bi=!0,da(97,function(){return ns(),null}))}function ls(e,t){Ei.push(t,e),bi||(bi=!0,da(97,function(){return ns(),null}))}function as(){if(null===wi)return!1;var e=wi;if(wi=null,0!=(48&Zu))throw Error(r(331));var t=Zu;Zu|=32;var n=Ei;Ei=[];for(var l=0;l<n.length;l+=2){var a=n[l],o=n[l+1],u=a.destroy;if(a.destroy=void 0,"function"==typeof u)try{u()}catch(s){if(null===o)throw Error(r(330));us(o,s)}}for(n=Si,Si=[],l=0;l<n.length;l+=2){a=n[l],o=n[l+1];try{var i=a.create;a.destroy=i()}catch(s){if(null===o)throw Error(r(330));us(o,s)}}for(i=e.current.firstEffect;null!==i;)e=i.nextEffect,i.nextEffect=null,8&i.flags&&(i.sibling=null,i.stateNode=null),i=e;return Zu=t,pa(),!0}function os(e,t,n){La(e,t=Mu(e,t=zu(n,t),1)),t=Mi(),null!==(e=Di(e,1))&&(Xt(e,1,t),Fi(e,t))}function us(e,t){if(3===e.tag)os(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){os(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"==typeof n.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===yi||!yi.has(r))){var l=Ou(n,e=zu(t,e),1);if(La(n,l),l=Mi(),null!==(n=Di(n,1)))Xt(n,1,l),Fi(n,l);else if("function"==typeof r.componentDidCatch&&(null===yi||!yi.has(r)))try{r.componentDidCatch(t,e)}catch(a){}break}}n=n.return}}function is(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=Mi(),e.pingedLanes|=e.suspendedLanes&n,Ju===e&&(ti&n)===n&&(4===li||3===li&&(62914560&ti)===ti&&500>ia()-fi?ji(e,0):si|=n),Fi(e,t)}function ss(e,t){var n=e.stateNode;null!==n&&n.delete(t),0===(t=0)&&(0==(2&(t=e.mode))?t=1:0==(4&t)?t=99===sa()?1:2:(0===Pi&&(Pi=oi),0===(t=Kt(62914560&~Pi))&&(t=4194304))),n=Mi(),null!==(e=Di(e,t))&&(Xt(e,t,n),Fi(e,n))}function cs(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function fs(e,t,n,r){return new cs(e,t,n,r)}function ds(e){return!(!(e=e.prototype)||!e.isReactComponent)}function ps(e){if("function"==typeof e)return ds(e)?1:0;if(null!=e){if((e=e.$$typeof)===z)return 11;if(e===M)return 14}return 2}function hs(e,t){var n=e.alternate;return null===n?((n=fs(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function ms(e,t,n,l,a,o){var u=2;if(l=e,"function"==typeof e)ds(e)&&(u=1);else if("string"==typeof e)u=5;else e:switch(e){case x:return gs(n.children,a,o,t);case F:u=8,a|=16;break;case C:u=8,a|=1;break;case _:return(e=fs(12,n,t,8|a)).elementType=_,e.type=_,e.lanes=o,e;case L:return(e=fs(13,n,t,a)).type=L,e.elementType=L,e.lanes=o,e;case T:return(e=fs(19,n,t,a)).elementType=T,e.lanes=o,e;case I:return vs(n,a,o,t);case U:return(e=fs(24,n,t,a)).elementType=U,e.lanes=o,e;default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case N:u=10;break e;case P:u=9;break e;case z:u=11;break e;case M:u=14;break e;case O:u=16,l=null;break e;case R:u=22;break e}throw Error(r(130,null==e?e:typeof e,""))}return(t=fs(u,n,t,a)).elementType=e,t.type=l,t.lanes=o,t}function gs(e,t,n,r){return(e=fs(7,e,r,t)).lanes=n,e}function vs(e,t,n,r){return(e=fs(23,e,r,t)).elementType=I,e.lanes=n,e}function ys(e,t,n){return(e=fs(6,e,null,t)).lanes=n,e}function bs(e,t,n){return(t=fs(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function ws(e,t,n){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=Yt(0),this.expirationTimes=Yt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Yt(0),this.mutableSourceEagerHydrationData=null}function ks(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:E,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function Ss(e,t,n,l){var a=t.current,o=Mi(),u=Oi(a);e:if(n){t:{if(Ze(n=n._reactInternals)!==n||1!==n.tag)throw Error(r(170));var i=n;do{switch(i.tag){case 3:i=i.stateNode.context;break t;case 1:if(Fl(i.type)){i=i.stateNode.__reactInternalMemoizedMergedChildContext;break t}}i=i.return}while(null!==i);throw Error(r(171))}if(1===n.tag){var s=n.type;if(Fl(s)){n=Vl(n,s,i);break e}}n=i}else n=Tl;return null===t.context?t.context=n:t.pendingContext=n,(t=za(o,u)).payload={element:e},null!==(l=void 0===l?null:l)&&(t.callback=l),La(a,t),Ri(a,u,o),u}function Es(e){if(!(e=e.current).child)return null;switch(e.child.tag){case 5:default:return e.child.stateNode}}function xs(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Cs(e,t){xs(e,t),(e=e.alternate)&&xs(e,t)}function _s(){return null}function Ns(e,t,n){var r=null!=n&&null!=n.hydrationOptions&&n.hydrationOptions.mutableSources||null;if(n=new ws(e,t,null!=n&&!0===n.hydrate),t=fs(3,null,null,2===t?7:1===t?3:0),n.current=t,t.stateNode=n,Na(t),e[bl]=n.current,Xr(8===e.nodeType?e.parentNode:e),r)for(e=0;e<r.length;e++){var l=(t=r[e])._getVersion;l=l(t._source),null==n.mutableSourceEagerHydrationData?n.mutableSourceEagerHydrationData=[t,l]:n.mutableSourceEagerHydrationData.push(t,l)}this._internalRoot=n}function Ps(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function zs(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new Ns(e,0,t?{hydrate:!0}:void 0)}function Ls(e,t,n,r,l){var a=n._reactRootContainer;if(a){var o=a._internalRoot;if("function"==typeof l){var u=l;l=function(){var e=Es(o);u.call(e)}}Ss(t,o,e,l)}else{if(a=n._reactRootContainer=zs(n,r),o=a._internalRoot,"function"==typeof l){var i=l;l=function(){var e=Es(o);i.call(e)}}Wi(function(){Ss(t,o,e,l)})}return Es(o)}function Ts(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Ps(t))throw Error(r(200));return ks(e,t,null,n)}hi=function(e,t,n){var l=t.lanes;if(null!==e)if(e.memoizedProps!==t.pendingProps||Ol.current)nu=!0;else{if(0==(n&l)){switch(nu=!1,t.tag){case 3:du(t),po();break;case 5:eo(t);break;case 1:Fl(t.type)&&Al(t);break;case 4:Za(t,t.stateNode.containerInfo);break;case 10:l=t.memoizedProps.value;var a=t.type._context;Ll(va,a._currentValue),a._currentValue=l;break;case 13:if(null!==t.memoizedState)return 0!=(n&t.child.childLanes)?yu(e,t,n):(Ll(no,1&no.current),null!==(t=Cu(e,t,n))?t.sibling:null);Ll(no,1&no.current);break;case 19:if(l=0!=(n&t.childLanes),0!=(64&e.flags)){if(l)return xu(e,t,n);t.flags|=64}if(null!==(a=t.memoizedState)&&(a.rendering=null,a.tail=null,a.lastEffect=null),Ll(no,no.current),l)break;return null;case 23:case 24:return t.lanes=0,uu(e,t,n)}return Cu(e,t,n)}nu=0!=(16384&e.flags)}else nu=!1;switch(t.lanes=0,t.tag){case 2:if(l=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,a=Dl(t,Ml.current),xa(t,n),a=_o(null,t,l,e,a,n),t.flags|=1,"object"==typeof a&&null!==a&&"function"==typeof a.render&&void 0===a.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,Fl(l)){var o=!0;Al(t)}else o=!1;t.memoizedState=null!==a.state&&void 0!==a.state?a.state:null,Na(t);var u=l.getDerivedStateFromProps;"function"==typeof u&&Da(t,l,u,e),a.updater=Fa,t.stateNode=a,a._reactInternals=t,Aa(t,l,e,n),t=fu(null,t,l,!0,o,n)}else t.tag=0,ru(null,t,a,n),t=t.child;return t;case 16:a=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,a=(o=a._init)(a._payload),t.type=a,o=t.tag=ps(a),e=ga(a,e),o){case 0:t=su(null,t,a,e,n);break e;case 1:t=cu(null,t,a,e,n);break e;case 11:t=lu(null,t,a,e,n);break e;case 14:t=au(null,t,a,ga(a.type,e),l,n);break e}throw Error(r(306,a,""))}return t;case 0:return l=t.type,a=t.pendingProps,su(e,t,l,a=t.elementType===l?a:ga(l,a),n);case 1:return l=t.type,a=t.pendingProps,cu(e,t,l,a=t.elementType===l?a:ga(l,a),n);case 3:if(du(t),l=t.updateQueue,null===e||null===l)throw Error(r(282));if(l=t.pendingProps,a=null!==(a=t.memoizedState)?a.element:null,Pa(e,t),Ma(t,l,null,n),(l=t.memoizedState.element)===a)po(),t=Cu(e,t,n);else{if((o=(a=t.stateNode).hydrate)&&(ao=dl(t.stateNode.containerInfo.firstChild),lo=t,o=oo=!0),o){if(null!=(e=a.mutableSourceEagerHydrationData))for(a=0;a<e.length;a+=2)(o=e[a])._workInProgressVersionPrimary=e[a+1],ho.push(o);for(n=$a(t,null,l,n),t.child=n;n;)n.flags=-3&n.flags|1024,n=n.sibling}else ru(e,t,l,n),po();t=t.child}return t;case 5:return eo(t),null===e&&so(t),l=t.type,a=t.pendingProps,o=null!==e?e.memoizedProps:null,u=a.children,il(l,a)?u=null:null!==o&&il(l,o)&&(t.flags|=16),iu(e,t),ru(e,t,u,n),t.child;case 6:return null===e&&so(t),null;case 13:return yu(e,t,n);case 4:return Za(t,t.stateNode.containerInfo),l=t.pendingProps,null===e?t.child=ja(t,null,l,n):ru(e,t,l,n),t.child;case 11:return l=t.type,a=t.pendingProps,lu(e,t,l,a=t.elementType===l?a:ga(l,a),n);case 7:return ru(e,t,t.pendingProps,n),t.child;case 8:case 12:return ru(e,t,t.pendingProps.children,n),t.child;case 10:e:{l=t.type._context,a=t.pendingProps,u=t.memoizedProps,o=a.value;var i=t.type._context;if(Ll(va,i._currentValue),i._currentValue=o,null!==u)if(i=u.value,0===(o=Pr(i,o)?0:0|("function"==typeof l._calculateChangedBits?l._calculateChangedBits(i,o):1073741823))){if(u.children===a.children&&!Ol.current){t=Cu(e,t,n);break e}}else for(null!==(i=t.child)&&(i.return=t);null!==i;){var s=i.dependencies;if(null!==s){u=i.child;for(var c=s.firstContext;null!==c;){if(c.context===l&&0!=(c.observedBits&o)){1===i.tag&&((c=za(-1,n&-n)).tag=2,La(i,c)),i.lanes|=n,null!==(c=i.alternate)&&(c.lanes|=n),Ea(i.return,n),s.lanes|=n;break}c=c.next}}else u=10===i.tag&&i.type===t.type?null:i.child;if(null!==u)u.return=i;else for(u=i;null!==u;){if(u===t){u=null;break}if(null!==(i=u.sibling)){i.return=u.return,u=i;break}u=u.return}i=u}ru(e,t,a.children,n),t=t.child}return t;case 9:return a=t.type,l=(o=t.pendingProps).children,xa(t,n),l=l(a=Ca(a,o.unstable_observedBits)),t.flags|=1,ru(e,t,l,n),t.child;case 14:return o=ga(a=t.type,t.pendingProps),au(e,t,a,o=ga(a.type,o),l,n);case 15:return ou(e,t,t.type,t.pendingProps,l,n);case 17:return l=t.type,a=t.pendingProps,a=t.elementType===l?a:ga(l,a),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,Fl(l)?(e=!0,Al(t)):e=!1,xa(t,n),Ua(t,l,a),Aa(t,l,a,n),fu(null,t,l,!0,e,n);case 19:return xu(e,t,n);case 23:case 24:return uu(e,t,n)}throw Error(r(156,t.tag))},Ns.prototype.render=function(e){Ss(e,this._internalRoot,null,null)},Ns.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;Ss(null,e,null,function(){t[bl]=null})},lt=function(e){13===e.tag&&(Ri(e,4,Mi()),Cs(e,4))},at=function(e){13===e.tag&&(Ri(e,67108864,Mi()),Cs(e,67108864))},ot=function(e){if(13===e.tag){var t=Mi(),n=Oi(e);Ri(e,n,t),Cs(e,n)}},ut=function(e,t){return t()},Ne=function(e,t,n){switch(t){case"input":if(re(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var l=n[t];if(l!==e&&l.form===e.form){var a=xl(l);if(!a)throw Error(r(90));Z(l),re(l,a)}}}break;case"textarea":fe(e,n);break;case"select":null!=(t=n.value)&&ie(e,!!n.multiple,t,!1)}},Oe=Bi,Re=function(e,t,n,r,l){var a=Zu;Zu|=4;try{return fa(98,e.bind(null,t,n,r,l))}finally{0===(Zu=a)&&(pi(),pa())}},De=function(){0==(49&Zu)&&(Ai(),ns())},Fe=function(e,t){var n=Zu;Zu|=2;try{return e(t)}finally{0===(Zu=n)&&(pi(),pa())}};var Ms={Events:[Sl,El,xl,Te,Me,ns,{current:!1}]},Os={findFiberByHostInstance:kl,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},Rs={bundleType:Os.bundleType,version:Os.version,rendererPackageName:Os.rendererPackageName,rendererConfig:Os.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:k.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=nt(e))?null:e.stateNode},findFiberByHostInstance:Os.findFiberByHostInstance||_s,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var Ds=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ds.isDisabled&&Ds.supportsFiber)try{Wl=Ds.inject(Rs),Ql=Ds}catch(Fs){}}exports.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ms,exports.createPortal=Ts,exports.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"==typeof e.render)throw Error(r(188));throw Error(r(268,Object.keys(e)))}return e=null===(e=nt(t))?null:e.stateNode},exports.flushSync=function(e,t){var n=Zu;if(0!=(48&n))return e(t);Zu|=1;try{if(e)return fa(99,e.bind(null,t))}finally{Zu=n,pa()}},exports.hydrate=function(e,t,n){if(!Ps(t))throw Error(r(200));return Ls(null,e,t,!0,n)},exports.render=function(e,t,n){if(!Ps(t))throw Error(r(200));return Ls(null,e,t,!1,n)},exports.unmountComponentAtNode=function(e){if(!Ps(e))throw Error(r(40));return!!e._reactRootContainer&&(Wi(function(){Ls(null,null,e,!1,function(){e._reactRootContainer=null,e[bl]=null})}),!0)},exports.unstable_batchedUpdates=Bi,exports.unstable_createPortal=function(e,t){return Ts(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},exports.unstable_renderSubtreeIntoContainer=function(e,t,n,l){if(!Ps(n))throw Error(r(200));if(null==e||void 0===e._reactInternals)throw Error(r(38));return Ls(e,t,n,!1,l)},exports.version="17.0.2";
},{"react":"n8MK","object-assign":"J4Nk","scheduler":"MDSO"}],"NKHc":[function(require,module,exports) {
"use strict";function _(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE){0;try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(_)}catch(O){console.error(O)}}}_(),module.exports=require("./cjs/react-dom.production.min.js");
},{"./cjs/react-dom.production.min.js":"i17t"}],"vKFU":[function(require,module,exports) {

},{}],"Asjh":[function(require,module,exports) {
"use strict";var _="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";module.exports=_;
},{}],"wVGV":[function(require,module,exports) {
"use strict";var e=require("./lib/ReactPropTypesSecret");function r(){}function t(){}t.resetWarningCache=r,module.exports=function(){function n(r,t,n,o,a,p){if(p!==e){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}function o(){return n}n.isRequired=n;var a={array:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:o,element:n,elementType:n,instanceOf:o,node:n,objectOf:o,oneOf:o,oneOfType:o,shape:o,exact:o,checkPropTypes:t,resetWarningCache:r};return a.PropTypes=a,a};
},{"./lib/ReactPropTypesSecret":"Asjh"}],"D9Od":[function(require,module,exports) {
var r,e;module.exports=require("./factoryWithThrowingShims")();
},{"./factoryWithThrowingShims":"wVGV"}],"j4Jx":[function(require,module,exports) {

var e=module.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=e);
},{}],"UB6D":[function(require,module,exports) {
var r={}.hasOwnProperty;module.exports=function(e,n){return r.call(e,n)};
},{}],"Shu3":[function(require,module,exports) {
module.exports=function(r){try{return!!r()}catch(t){return!0}};
},{}],"bI9l":[function(require,module,exports) {
module.exports=!require("./_fails")(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a});
},{"./_fails":"Shu3"}],"RosZ":[function(require,module,exports) {
var e=module.exports={version:"2.6.12"};"number"==typeof __e&&(__e=e);
},{}],"mW2H":[function(require,module,exports) {
module.exports=function(o){return"object"==typeof o?null!==o:"function"==typeof o};
},{}],"uLTR":[function(require,module,exports) {
var r=require("./_is-object");module.exports=function(e){if(!r(e))throw TypeError(e+" is not an object!");return e};
},{"./_is-object":"mW2H"}],"dtO3":[function(require,module,exports) {
var e=require("./_is-object"),r=require("./_global").document,t=e(r)&&e(r.createElement);module.exports=function(e){return t?r.createElement(e):{}};
},{"./_is-object":"mW2H","./_global":"j4Jx"}],"IDLH":[function(require,module,exports) {
module.exports=!require("./_descriptors")&&!require("./_fails")(function(){return 7!=Object.defineProperty(require("./_dom-create")("div"),"a",{get:function(){return 7}}).a});
},{"./_descriptors":"bI9l","./_fails":"Shu3","./_dom-create":"dtO3"}],"ZeWn":[function(require,module,exports) {
var t=require("./_is-object");module.exports=function(r,e){if(!t(r))return r;var o,n;if(e&&"function"==typeof(o=r.toString)&&!t(n=o.call(r)))return n;if("function"==typeof(o=r.valueOf)&&!t(n=o.call(r)))return n;if(!e&&"function"==typeof(o=r.toString)&&!t(n=o.call(r)))return n;throw TypeError("Can't convert object to primitive value")};
},{"./_is-object":"mW2H"}],"ZITN":[function(require,module,exports) {
var e=require("./_an-object"),r=require("./_ie8-dom-define"),t=require("./_to-primitive"),i=Object.defineProperty;exports.f=require("./_descriptors")?Object.defineProperty:function(o,n,u){if(e(o),n=t(n,!0),e(u),r)try{return i(o,n,u)}catch(c){}if("get"in u||"set"in u)throw TypeError("Accessors not supported!");return"value"in u&&(o[n]=u.value),o};
},{"./_an-object":"uLTR","./_ie8-dom-define":"IDLH","./_to-primitive":"ZeWn","./_descriptors":"bI9l"}],"EVgU":[function(require,module,exports) {
module.exports=function(e,r){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:r}};
},{}],"xf1j":[function(require,module,exports) {
var r=require("./_object-dp"),e=require("./_property-desc");module.exports=require("./_descriptors")?function(t,u,o){return r.f(t,u,e(1,o))}:function(r,e,t){return r[e]=t,r};
},{"./_object-dp":"ZITN","./_property-desc":"EVgU","./_descriptors":"bI9l"}],"ADad":[function(require,module,exports) {
var o=0,t=Math.random();module.exports=function(n){return"Symbol(".concat(void 0===n?"":n,")_",(++o+t).toString(36))};
},{}],"FVFy":[function(require,module,exports) {
module.exports=!1;
},{}],"oNRg":[function(require,module,exports) {

var r=require("./_core"),e=require("./_global"),o="__core-js_shared__",i=e[o]||(e[o]={});(module.exports=function(r,e){return i[r]||(i[r]=void 0!==e?e:{})})("versions",[]).push({version:r.version,mode:require("./_library")?"pure":"global",copyright:" 2020 Denis Pushkarev (zloirock.ru)"});
},{"./_core":"RosZ","./_global":"j4Jx","./_library":"FVFy"}],"oZj6":[function(require,module,exports) {
module.exports=require("./_shared")("native-function-to-string",Function.toString);
},{"./_shared":"oNRg"}],"Yc4t":[function(require,module,exports) {

var e=require("./_global"),r=require("./_hide"),t=require("./_has"),i=require("./_uid")("src"),n=require("./_function-to-string"),o="toString",u=(""+n).split(o);require("./_core").inspectSource=function(e){return n.call(e)},(module.exports=function(n,o,c,l){var s="function"==typeof c;s&&(t(c,"name")||r(c,"name",o)),n[o]!==c&&(s&&(t(c,i)||r(c,i,n[o]?""+n[o]:u.join(String(o)))),n===e?n[o]=c:l?n[o]?n[o]=c:r(n,o,c):(delete n[o],r(n,o,c)))})(Function.prototype,o,function(){return"function"==typeof this&&this[i]||n.call(this)});
},{"./_global":"j4Jx","./_hide":"xf1j","./_has":"UB6D","./_uid":"ADad","./_function-to-string":"oZj6","./_core":"RosZ"}],"gm2m":[function(require,module,exports) {
module.exports=function(o){if("function"!=typeof o)throw TypeError(o+" is not a function!");return o};
},{}],"plzG":[function(require,module,exports) {
var r=require("./_a-function");module.exports=function(n,t,u){if(r(n),void 0===t)return n;switch(u){case 1:return function(r){return n.call(t,r)};case 2:return function(r,u){return n.call(t,r,u)};case 3:return function(r,u,e){return n.call(t,r,u,e)}}return function(){return n.apply(t,arguments)}};
},{"./_a-function":"gm2m"}],"YaXs":[function(require,module,exports) {

var e=require("./_global"),r=require("./_core"),o=require("./_hide"),i=require("./_redefine"),u=require("./_ctx"),n="prototype",t=function(c,f,l){var q,_,a,d,p=c&t.F,v=c&t.G,F=c&t.S,x=c&t.P,y=c&t.B,B=v?e:F?e[f]||(e[f]={}):(e[f]||{})[n],G=v?r:r[f]||(r[f]={}),P=G[n]||(G[n]={});for(q in v&&(l=f),l)a=((_=!p&&B&&void 0!==B[q])?B:l)[q],d=y&&_?u(a,e):x&&"function"==typeof a?u(Function.call,a):a,B&&i(B,q,a,c&t.U),G[q]!=a&&o(G,q,d),x&&P[q]!=a&&(P[q]=a)};e.core=r,t.F=1,t.G=2,t.S=4,t.P=8,t.B=16,t.W=32,t.U=64,t.R=128,module.exports=t;
},{"./_global":"j4Jx","./_core":"RosZ","./_hide":"xf1j","./_redefine":"Yc4t","./_ctx":"plzG"}],"UuZk":[function(require,module,exports) {
var e=require("./_uid")("meta"),r=require("./_is-object"),t=require("./_has"),n=require("./_object-dp").f,i=0,u=Object.isExtensible||function(){return!0},f=!require("./_fails")(function(){return u(Object.preventExtensions({}))}),o=function(r){n(r,e,{value:{i:"O"+ ++i,w:{}}})},s=function(n,i){if(!r(n))return"symbol"==typeof n?n:("string"==typeof n?"S":"P")+n;if(!t(n,e)){if(!u(n))return"F";if(!i)return"E";o(n)}return n[e].i},c=function(r,n){if(!t(r,e)){if(!u(r))return!0;if(!n)return!1;o(r)}return r[e].w},E=function(r){return f&&a.NEED&&u(r)&&!t(r,e)&&o(r),r},a=module.exports={KEY:e,NEED:!1,fastKey:s,getWeak:c,onFreeze:E};
},{"./_uid":"ADad","./_is-object":"mW2H","./_has":"UB6D","./_object-dp":"ZITN","./_fails":"Shu3"}],"rGSk":[function(require,module,exports) {
var e=require("./_shared")("wks"),r=require("./_uid"),o=require("./_global").Symbol,u="function"==typeof o,i=module.exports=function(i){return e[i]||(e[i]=u&&o[i]||(u?o:r)("Symbol."+i))};i.store=e;
},{"./_shared":"oNRg","./_uid":"ADad","./_global":"j4Jx"}],"q1Ab":[function(require,module,exports) {
var e=require("./_object-dp").f,r=require("./_has"),o=require("./_wks")("toStringTag");module.exports=function(t,u,i){t&&!r(t=i?t:t.prototype,o)&&e(t,o,{configurable:!0,value:u})};
},{"./_object-dp":"ZITN","./_has":"UB6D","./_wks":"rGSk"}],"FV8V":[function(require,module,exports) {
exports.f=require("./_wks");
},{"./_wks":"rGSk"}],"RCp6":[function(require,module,exports) {

var r=require("./_global"),e=require("./_core"),o=require("./_library"),i=require("./_wks-ext"),l=require("./_object-dp").f;module.exports=function(u){var a=e.Symbol||(e.Symbol=o?{}:r.Symbol||{});"_"==u.charAt(0)||u in a||l(a,u,{value:i.f(u)})};
},{"./_global":"j4Jx","./_core":"RosZ","./_library":"FVFy","./_wks-ext":"FV8V","./_object-dp":"ZITN"}],"PoBK":[function(require,module,exports) {
var r={}.toString;module.exports=function(t){return r.call(t).slice(8,-1)};
},{}],"oEpb":[function(require,module,exports) {
var e=require("./_cof");module.exports=Object("z").propertyIsEnumerable(0)?Object:function(r){return"String"==e(r)?r.split(""):Object(r)};
},{"./_cof":"PoBK"}],"iaKk":[function(require,module,exports) {
module.exports=function(o){if(null==o)throw TypeError("Can't call method on  "+o);return o};
},{}],"LW3B":[function(require,module,exports) {
var e=require("./_iobject"),r=require("./_defined");module.exports=function(i){return e(r(i))};
},{"./_iobject":"oEpb","./_defined":"iaKk"}],"btBV":[function(require,module,exports) {
var o=Math.ceil,r=Math.floor;module.exports=function(t){return isNaN(t=+t)?0:(t>0?r:o)(t)};
},{}],"ATHw":[function(require,module,exports) {
var e=require("./_to-integer"),r=Math.min;module.exports=function(t){return t>0?r(e(t),9007199254740991):0};
},{"./_to-integer":"btBV"}],"p8eF":[function(require,module,exports) {
var e=require("./_to-integer"),r=Math.max,t=Math.min;module.exports=function(n,a){return(n=e(n))<0?r(n+a,0):t(n,a)};
},{"./_to-integer":"btBV"}],"n4IE":[function(require,module,exports) {
var e=require("./_to-iobject"),r=require("./_to-length"),t=require("./_to-absolute-index");module.exports=function(n){return function(i,o,u){var f,l=e(i),a=r(l.length),c=t(u,a);if(n&&o!=o){for(;a>c;)if((f=l[c++])!=f)return!0}else for(;a>c;c++)if((n||c in l)&&l[c]===o)return n||c||0;return!n&&-1}};
},{"./_to-iobject":"LW3B","./_to-length":"ATHw","./_to-absolute-index":"p8eF"}],"ThnQ":[function(require,module,exports) {
var e=require("./_shared")("keys"),r=require("./_uid");module.exports=function(u){return e[u]||(e[u]=r(u))};
},{"./_shared":"oNRg","./_uid":"ADad"}],"ouYx":[function(require,module,exports) {
var r=require("./_has"),e=require("./_to-iobject"),u=require("./_array-includes")(!1),i=require("./_shared-key")("IE_PROTO");module.exports=function(o,a){var n,s=e(o),t=0,h=[];for(n in s)n!=i&&r(s,n)&&h.push(n);for(;a.length>t;)r(s,n=a[t++])&&(~u(h,n)||h.push(n));return h};
},{"./_has":"UB6D","./_to-iobject":"LW3B","./_array-includes":"n4IE","./_shared-key":"ThnQ"}],"Y2KC":[function(require,module,exports) {
module.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",");
},{}],"A3GV":[function(require,module,exports) {
var e=require("./_object-keys-internal"),r=require("./_enum-bug-keys");module.exports=Object.keys||function(u){return e(u,r)};
},{"./_object-keys-internal":"ouYx","./_enum-bug-keys":"Y2KC"}],"idNb":[function(require,module,exports) {
exports.f=Object.getOwnPropertySymbols;
},{}],"grnH":[function(require,module,exports) {
exports.f={}.propertyIsEnumerable;
},{}],"FDkC":[function(require,module,exports) {
var e=require("./_object-keys"),r=require("./_object-gops"),o=require("./_object-pie");module.exports=function(t){var u=e(t),i=r.f;if(i)for(var c,f=i(t),a=o.f,l=0;f.length>l;)a.call(t,c=f[l++])&&u.push(c);return u};
},{"./_object-keys":"A3GV","./_object-gops":"idNb","./_object-pie":"grnH"}],"ra20":[function(require,module,exports) {
var r=require("./_cof");module.exports=Array.isArray||function(e){return"Array"==r(e)};
},{"./_cof":"PoBK"}],"D3I6":[function(require,module,exports) {
var e=require("./_defined");module.exports=function(r){return Object(e(r))};
},{"./_defined":"iaKk"}],"ciLN":[function(require,module,exports) {
var e=require("./_object-dp"),r=require("./_an-object"),t=require("./_object-keys");module.exports=require("./_descriptors")?Object.defineProperties:function(o,i){r(o);for(var u,c=t(i),n=c.length,s=0;n>s;)e.f(o,u=c[s++],i[u]);return o};
},{"./_object-dp":"ZITN","./_an-object":"uLTR","./_object-keys":"A3GV","./_descriptors":"bI9l"}],"lq9H":[function(require,module,exports) {
var e=require("./_global").document;module.exports=e&&e.documentElement;
},{"./_global":"j4Jx"}],"y4dJ":[function(require,module,exports) {
var e=require("./_an-object"),r=require("./_object-dps"),t=require("./_enum-bug-keys"),n=require("./_shared-key")("IE_PROTO"),o=function(){},i="prototype",u=function(){var e,r=require("./_dom-create")("iframe"),n=t.length;for(r.style.display="none",require("./_html").appendChild(r),r.src="javascript:",(e=r.contentWindow.document).open(),e.write("<script>document.F=Object<\/script>"),e.close(),u=e.F;n--;)delete u[i][t[n]];return u()};module.exports=Object.create||function(t,c){var a;return null!==t?(o[i]=e(t),a=new o,o[i]=null,a[n]=t):a=u(),void 0===c?a:r(a,c)};
},{"./_an-object":"uLTR","./_object-dps":"ciLN","./_enum-bug-keys":"Y2KC","./_shared-key":"ThnQ","./_dom-create":"dtO3","./_html":"lq9H"}],"rCFh":[function(require,module,exports) {
var e=require("./_object-keys-internal"),r=require("./_enum-bug-keys").concat("length","prototype");exports.f=Object.getOwnPropertyNames||function(t){return e(t,r)};
},{"./_object-keys-internal":"ouYx","./_enum-bug-keys":"Y2KC"}],"dxI6":[function(require,module,exports) {
var e=require("./_to-iobject"),t=require("./_object-gopn").f,o={}.toString,r="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],n=function(e){try{return t(e)}catch(o){return r.slice()}};module.exports.f=function(c){return r&&"[object Window]"==o.call(c)?n(c):t(e(c))};
},{"./_to-iobject":"LW3B","./_object-gopn":"rCFh"}],"Uy7K":[function(require,module,exports) {
var e=require("./_object-pie"),r=require("./_property-desc"),i=require("./_to-iobject"),t=require("./_to-primitive"),o=require("./_has"),c=require("./_ie8-dom-define"),u=Object.getOwnPropertyDescriptor;exports.f=require("./_descriptors")?u:function(p,q){if(p=i(p),q=t(q,!0),c)try{return u(p,q)}catch(_){}if(o(p,q))return r(!e.f.call(p,q),p[q])};
},{"./_object-pie":"grnH","./_property-desc":"EVgU","./_to-iobject":"LW3B","./_to-primitive":"ZeWn","./_has":"UB6D","./_ie8-dom-define":"IDLH","./_descriptors":"bI9l"}],"YaWr":[function(require,module,exports) {

"use strict";var e=require("./_global"),r=require("./_has"),t=require("./_descriptors"),i=require("./_export"),n=require("./_redefine"),o=require("./_meta").KEY,u=require("./_fails"),s=require("./_shared"),f=require("./_set-to-string-tag"),c=require("./_uid"),a=require("./_wks"),l=require("./_wks-ext"),p=require("./_wks-define"),b=require("./_enum-keys"),y=require("./_is-array"),h=require("./_an-object"),_=require("./_is-object"),q=require("./_to-object"),g=require("./_to-iobject"),m=require("./_to-primitive"),v=require("./_property-desc"),d=require("./_object-create"),S=require("./_object-gopn-ext"),j=require("./_object-gopd"),O=require("./_object-gops"),w=require("./_object-dp"),k=require("./_object-keys"),P=j.f,F=w.f,E=S.f,N=e.Symbol,J=e.JSON,x=J&&J.stringify,I="prototype",T=a("_hidden"),C=a("toPrimitive"),M={}.propertyIsEnumerable,D=s("symbol-registry"),G=s("symbols"),K=s("op-symbols"),Q=Object[I],W="function"==typeof N&&!!O.f,Y=e.QObject,z=!Y||!Y[I]||!Y[I].findChild,A=t&&u(function(){return 7!=d(F({},"a",{get:function(){return F(this,"a",{value:7}).a}})).a})?function(e,r,t){var i=P(Q,r);i&&delete Q[r],F(e,r,t),i&&e!==Q&&F(Q,r,i)}:F,B=function(e){var r=G[e]=d(N[I]);return r._k=e,r},H=W&&"symbol"==typeof N.iterator?function(e){return"symbol"==typeof e}:function(e){return e instanceof N},L=function(e,t,i){return e===Q&&L(K,t,i),h(e),t=m(t,!0),h(i),r(G,t)?(i.enumerable?(r(e,T)&&e[T][t]&&(e[T][t]=!1),i=d(i,{enumerable:v(0,!1)})):(r(e,T)||F(e,T,v(1,{})),e[T][t]=!0),A(e,t,i)):F(e,t,i)},R=function(e,r){h(e);for(var t,i=b(r=g(r)),n=0,o=i.length;o>n;)L(e,t=i[n++],r[t]);return e},U=function(e,r){return void 0===r?d(e):R(d(e),r)},V=function(e){var t=M.call(this,e=m(e,!0));return!(this===Q&&r(G,e)&&!r(K,e))&&(!(t||!r(this,e)||!r(G,e)||r(this,T)&&this[T][e])||t)},X=function(e,t){if(e=g(e),t=m(t,!0),e!==Q||!r(G,t)||r(K,t)){var i=P(e,t);return!i||!r(G,t)||r(e,T)&&e[T][t]||(i.enumerable=!0),i}},Z=function(e){for(var t,i=E(g(e)),n=[],u=0;i.length>u;)r(G,t=i[u++])||t==T||t==o||n.push(t);return n},$=function(e){for(var t,i=e===Q,n=E(i?K:g(e)),o=[],u=0;n.length>u;)!r(G,t=n[u++])||i&&!r(Q,t)||o.push(G[t]);return o};W||(n((N=function(){if(this instanceof N)throw TypeError("Symbol is not a constructor!");var e=c(arguments.length>0?arguments[0]:void 0),i=function(t){this===Q&&i.call(K,t),r(this,T)&&r(this[T],e)&&(this[T][e]=!1),A(this,e,v(1,t))};return t&&z&&A(Q,e,{configurable:!0,set:i}),B(e)})[I],"toString",function(){return this._k}),j.f=X,w.f=L,require("./_object-gopn").f=S.f=Z,require("./_object-pie").f=V,O.f=$,t&&!require("./_library")&&n(Q,"propertyIsEnumerable",V,!0),l.f=function(e){return B(a(e))}),i(i.G+i.W+i.F*!W,{Symbol:N});for(var ee="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),re=0;ee.length>re;)a(ee[re++]);for(var te=k(a.store),ie=0;te.length>ie;)p(te[ie++]);i(i.S+i.F*!W,"Symbol",{for:function(e){return r(D,e+="")?D[e]:D[e]=N(e)},keyFor:function(e){if(!H(e))throw TypeError(e+" is not a symbol!");for(var r in D)if(D[r]===e)return r},useSetter:function(){z=!0},useSimple:function(){z=!1}}),i(i.S+i.F*!W,"Object",{create:U,defineProperty:L,defineProperties:R,getOwnPropertyDescriptor:X,getOwnPropertyNames:Z,getOwnPropertySymbols:$});var ne=u(function(){O.f(1)});i(i.S+i.F*ne,"Object",{getOwnPropertySymbols:function(e){return O.f(q(e))}}),J&&i(i.S+i.F*(!W||u(function(){var e=N();return"[null]"!=x([e])||"{}"!=x({a:e})||"{}"!=x(Object(e))})),"JSON",{stringify:function(e){for(var r,t,i=[e],n=1;arguments.length>n;)i.push(arguments[n++]);if(t=r=i[1],(_(r)||void 0!==e)&&!H(e))return y(r)||(r=function(e,r){if("function"==typeof t&&(r=t.call(this,e,r)),!H(r))return r}),i[1]=r,x.apply(J,i)}}),N[I][C]||require("./_hide")(N[I],C,N[I].valueOf),f(N,"Symbol"),f(Math,"Math",!0),f(e.JSON,"JSON",!0);
},{"./_global":"j4Jx","./_has":"UB6D","./_descriptors":"bI9l","./_export":"YaXs","./_redefine":"Yc4t","./_meta":"UuZk","./_fails":"Shu3","./_shared":"oNRg","./_set-to-string-tag":"q1Ab","./_uid":"ADad","./_wks":"rGSk","./_wks-ext":"FV8V","./_wks-define":"RCp6","./_enum-keys":"FDkC","./_is-array":"ra20","./_an-object":"uLTR","./_is-object":"mW2H","./_to-object":"D3I6","./_to-iobject":"LW3B","./_to-primitive":"ZeWn","./_property-desc":"EVgU","./_object-create":"y4dJ","./_object-gopn-ext":"dxI6","./_object-gopd":"Uy7K","./_object-gops":"idNb","./_object-dp":"ZITN","./_object-keys":"A3GV","./_object-gopn":"rCFh","./_object-pie":"grnH","./_library":"FVFy","./_hide":"xf1j"}],"gGDi":[function(require,module,exports) {
var e=require("./_export");e(e.S,"Object",{create:require("./_object-create")});
},{"./_export":"YaXs","./_object-create":"y4dJ"}],"wfcz":[function(require,module,exports) {
var e=require("./_export");e(e.S+e.F*!require("./_descriptors"),"Object",{defineProperty:require("./_object-dp").f});
},{"./_export":"YaXs","./_descriptors":"bI9l","./_object-dp":"ZITN"}],"pp6B":[function(require,module,exports) {
var e=require("./_export");e(e.S+e.F*!require("./_descriptors"),"Object",{defineProperties:require("./_object-dps")});
},{"./_export":"YaXs","./_descriptors":"bI9l","./_object-dps":"ciLN"}],"cNku":[function(require,module,exports) {
var e=require("./_export"),r=require("./_core"),t=require("./_fails");module.exports=function(c,i){var o=(r.Object||{})[c]||Object[c],u={};u[c]=i(o),e(e.S+e.F*t(function(){o(1)}),"Object",u)};
},{"./_export":"YaXs","./_core":"RosZ","./_fails":"Shu3"}],"bTo2":[function(require,module,exports) {
var r=require("./_to-iobject"),e=require("./_object-gopd").f;require("./_object-sap")("getOwnPropertyDescriptor",function(){return function(t,o){return e(r(t),o)}});
},{"./_to-iobject":"LW3B","./_object-gopd":"Uy7K","./_object-sap":"cNku"}],"hC8b":[function(require,module,exports) {
var t=require("./_has"),e=require("./_to-object"),o=require("./_shared-key")("IE_PROTO"),r=Object.prototype;module.exports=Object.getPrototypeOf||function(c){return c=e(c),t(c,o)?c[o]:"function"==typeof c.constructor&&c instanceof c.constructor?c.constructor.prototype:c instanceof Object?r:null};
},{"./_has":"UB6D","./_to-object":"D3I6","./_shared-key":"ThnQ"}],"wARU":[function(require,module,exports) {
var e=require("./_to-object"),r=require("./_object-gpo");require("./_object-sap")("getPrototypeOf",function(){return function(t){return r(e(t))}});
},{"./_to-object":"D3I6","./_object-gpo":"hC8b","./_object-sap":"cNku"}],"dSXf":[function(require,module,exports) {
var e=require("./_to-object"),r=require("./_object-keys");require("./_object-sap")("keys",function(){return function(t){return r(e(t))}});
},{"./_to-object":"D3I6","./_object-keys":"A3GV","./_object-sap":"cNku"}],"T6YK":[function(require,module,exports) {
require("./_object-sap")("getOwnPropertyNames",function(){return require("./_object-gopn-ext").f});
},{"./_object-sap":"cNku","./_object-gopn-ext":"dxI6"}],"wdy7":[function(require,module,exports) {
var e=require("./_is-object"),r=require("./_meta").onFreeze;require("./_object-sap")("freeze",function(n){return function(t){return n&&e(t)?n(r(t)):t}});
},{"./_is-object":"mW2H","./_meta":"UuZk","./_object-sap":"cNku"}],"wMXR":[function(require,module,exports) {
var e=require("./_is-object"),r=require("./_meta").onFreeze;require("./_object-sap")("seal",function(n){return function(t){return n&&e(t)?n(r(t)):t}});
},{"./_is-object":"mW2H","./_meta":"UuZk","./_object-sap":"cNku"}],"wVUV":[function(require,module,exports) {
var e=require("./_is-object"),r=require("./_meta").onFreeze;require("./_object-sap")("preventExtensions",function(n){return function(t){return n&&e(t)?n(r(t)):t}});
},{"./_is-object":"mW2H","./_meta":"UuZk","./_object-sap":"cNku"}],"b2WQ":[function(require,module,exports) {
var r=require("./_is-object");require("./_object-sap")("isFrozen",function(e){return function(n){return!r(n)||!!e&&e(n)}});
},{"./_is-object":"mW2H","./_object-sap":"cNku"}],"K2b3":[function(require,module,exports) {
var e=require("./_is-object");require("./_object-sap")("isSealed",function(r){return function(i){return!e(i)||!!r&&r(i)}});
},{"./_is-object":"mW2H","./_object-sap":"cNku"}],"JNLS":[function(require,module,exports) {
var e=require("./_is-object");require("./_object-sap")("isExtensible",function(r){return function(i){return!!e(i)&&(!r||r(i))}});
},{"./_is-object":"mW2H","./_object-sap":"cNku"}],"fWzV":[function(require,module,exports) {
"use strict";var e=require("./_descriptors"),r=require("./_object-keys"),t=require("./_object-gops"),o=require("./_object-pie"),i=require("./_to-object"),c=require("./_iobject"),n=Object.assign;module.exports=!n||require("./_fails")(function(){var e={},r={},t=Symbol(),o="abcdefghijklmnopqrst";return e[t]=7,o.split("").forEach(function(e){r[e]=e}),7!=n({},e)[t]||Object.keys(n({},r)).join("")!=o})?function(n,u){for(var s=i(n),a=arguments.length,f=1,b=t.f,j=o.f;a>f;)for(var l,q=c(arguments[f++]),_=b?r(q).concat(b(q)):r(q),p=_.length,g=0;p>g;)l=_[g++],e&&!j.call(q,l)||(s[l]=q[l]);return s}:n;
},{"./_descriptors":"bI9l","./_object-keys":"A3GV","./_object-gops":"idNb","./_object-pie":"grnH","./_to-object":"D3I6","./_iobject":"oEpb","./_fails":"Shu3"}],"AQKc":[function(require,module,exports) {
var e=require("./_export");e(e.S+e.F,"Object",{assign:require("./_object-assign")});
},{"./_export":"YaXs","./_object-assign":"fWzV"}],"cxxr":[function(require,module,exports) {
module.exports=Object.is||function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t};
},{}],"bj2x":[function(require,module,exports) {
var e=require("./_export");e(e.S,"Object",{is:require("./_same-value")});
},{"./_export":"YaXs","./_same-value":"cxxr"}],"dFE7":[function(require,module,exports) {
var t=require("./_is-object"),e=require("./_an-object"),r=function(r,o){if(e(r),!t(o)&&null!==o)throw TypeError(o+": can't set as prototype!")};module.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,o){try{(o=require("./_ctx")(Function.call,require("./_object-gopd").f(Object.prototype,"__proto__").set,2))(t,[]),e=!(t instanceof Array)}catch(c){e=!0}return function(t,c){return r(t,c),e?t.__proto__=c:o(t,c),t}}({},!1):void 0),check:r};
},{"./_is-object":"mW2H","./_an-object":"uLTR","./_ctx":"plzG","./_object-gopd":"Uy7K"}],"E2hD":[function(require,module,exports) {
var e=require("./_export");e(e.S,"Object",{setPrototypeOf:require("./_set-proto").set});
},{"./_export":"YaXs","./_set-proto":"dFE7"}],"pXWj":[function(require,module,exports) {
var e=require("./_cof"),t=require("./_wks")("toStringTag"),n="Arguments"==e(function(){return arguments}()),r=function(e,t){try{return e[t]}catch(n){}};module.exports=function(u){var o,c,i;return void 0===u?"Undefined":null===u?"Null":"string"==typeof(c=r(o=Object(u),t))?c:n?e(o):"Object"==(i=e(o))&&"function"==typeof o.callee?"Arguments":i};
},{"./_cof":"PoBK","./_wks":"rGSk"}],"uPev":[function(require,module,exports) {
"use strict";var e=require("./_classof"),r={};r[require("./_wks")("toStringTag")]="z",r+""!="[object z]"&&require("./_redefine")(Object.prototype,"toString",function(){return"[object "+e(this)+"]"},!0);
},{"./_classof":"pXWj","./_wks":"rGSk","./_redefine":"Yc4t"}],"kx31":[function(require,module,exports) {
module.exports=function(e,r,l){var a=void 0===l;switch(r.length){case 0:return a?e():e.call(l);case 1:return a?e(r[0]):e.call(l,r[0]);case 2:return a?e(r[0],r[1]):e.call(l,r[0],r[1]);case 3:return a?e(r[0],r[1],r[2]):e.call(l,r[0],r[1],r[2]);case 4:return a?e(r[0],r[1],r[2],r[3]):e.call(l,r[0],r[1],r[2],r[3])}return e.apply(l,r)};
},{}],"QB5G":[function(require,module,exports) {
"use strict";var n=require("./_a-function"),t=require("./_is-object"),r=require("./_invoke"),e=[].slice,i={},o=function(n,t,r){if(!(t in i)){for(var e=[],o=0;o<t;o++)e[o]="a["+o+"]";i[t]=Function("F,a","return new F("+e.join(",")+")")}return i[t](n,r)};module.exports=Function.bind||function(i){var u=n(this),c=e.call(arguments,1),a=function(){var n=c.concat(e.call(arguments));return this instanceof a?o(u,n.length,n):r(u,n,i)};return t(u.prototype)&&(a.prototype=u.prototype),a};
},{"./_a-function":"gm2m","./_is-object":"mW2H","./_invoke":"kx31"}],"dely":[function(require,module,exports) {
var r=require("./_export");r(r.P,"Function",{bind:require("./_bind")});
},{"./_export":"YaXs","./_bind":"QB5G"}],"tl1g":[function(require,module,exports) {
var r=require("./_object-dp").f,t=Function.prototype,e=/^\s*function ([^ (]*)/,n="name";n in t||require("./_descriptors")&&r(t,n,{configurable:!0,get:function(){try{return(""+this).match(e)[1]}catch(r){return""}}});
},{"./_object-dp":"ZITN","./_descriptors":"bI9l"}],"vc2W":[function(require,module,exports) {
"use strict";var t=require("./_is-object"),e=require("./_object-gpo"),r=require("./_wks")("hasInstance"),i=Function.prototype;r in i||require("./_object-dp").f(i,r,{value:function(r){if("function"!=typeof this||!t(r))return!1;if(!t(this.prototype))return r instanceof this;for(;r=e(r);)if(this.prototype===r)return!0;return!1}});
},{"./_is-object":"mW2H","./_object-gpo":"hC8b","./_wks":"rGSk","./_object-dp":"ZITN"}],"mTIH":[function(require,module,exports) {
module.exports="\t\n\v\f\r \u2028\u2029\ufeff";
},{}],"CcmY":[function(require,module,exports) {
var r=require("./_export"),e=require("./_defined"),i=require("./_fails"),n=require("./_string-ws"),t="["+n+"]",u="",o=RegExp("^"+t+t+"*"),p=RegExp(t+t+"*$"),a=function(e,t,o){var p={},a=i(function(){return!!n[e]()||u[e]()!=u}),f=p[e]=a?t(c):n[e];o&&(p[o]=f),r(r.P+r.F*a,"String",p)},c=a.trim=function(r,i){return r=String(e(r)),1&i&&(r=r.replace(o,"")),2&i&&(r=r.replace(p,"")),r};module.exports=a;
},{"./_export":"YaXs","./_defined":"iaKk","./_fails":"Shu3","./_string-ws":"mTIH"}],"cJZt":[function(require,module,exports) {
var r=require("./_global").parseInt,e=require("./_string-trim").trim,t=require("./_string-ws"),i=/^[-+]?0[xX]/;module.exports=8!==r(t+"08")||22!==r(t+"0x16")?function(t,n){var s=e(String(t),3);return r(s,n>>>0||(i.test(s)?16:10))}:r;
},{"./_global":"j4Jx","./_string-trim":"CcmY","./_string-ws":"mTIH"}],"rf32":[function(require,module,exports) {
var r=require("./_export"),e=require("./_parse-int");r(r.G+r.F*(parseInt!=e),{parseInt:e});
},{"./_export":"YaXs","./_parse-int":"cJZt"}],"BIF9":[function(require,module,exports) {
var r=require("./_global").parseFloat,e=require("./_string-trim").trim;module.exports=1/r(require("./_string-ws")+"-0")!=-1/0?function(t){var i=e(String(t),3),a=r(i);return 0===a&&"-"==i.charAt(0)?-0:a}:r;
},{"./_global":"j4Jx","./_string-trim":"CcmY","./_string-ws":"mTIH"}],"hiB1":[function(require,module,exports) {
var r=require("./_export"),e=require("./_parse-float");r(r.G+r.F*(parseFloat!=e),{parseFloat:e});
},{"./_export":"YaXs","./_parse-float":"BIF9"}],"sk8w":[function(require,module,exports) {
var t=require("./_is-object"),o=require("./_set-proto").set;module.exports=function(r,e,p){var u,n=e.constructor;return n!==p&&"function"==typeof n&&(u=n.prototype)!==p.prototype&&t(u)&&o&&o(r,u),r};
},{"./_is-object":"mW2H","./_set-proto":"dFE7"}],"Lok9":[function(require,module,exports) {

"use strict";var e=require("./_global"),r=require("./_has"),t=require("./_cof"),i=require("./_inherit-if-required"),a=require("./_to-primitive"),n=require("./_fails"),o=require("./_object-gopn").f,u=require("./_object-gopd").f,s=require("./_object-dp").f,c=require("./_string-trim").trim,f="Number",_=e[f],I=_,N=_.prototype,p=t(require("./_object-create")(N))==f,l="trim"in String.prototype,q=function(e){var r=a(e,!1);if("string"==typeof r&&r.length>2){var t,i,n,o=(r=l?r.trim():c(r,3)).charCodeAt(0);if(43===o||45===o){if(88===(t=r.charCodeAt(2))||120===t)return NaN}else if(48===o){switch(r.charCodeAt(1)){case 66:case 98:i=2,n=49;break;case 79:case 111:i=8,n=55;break;default:return+r}for(var u,s=r.slice(2),f=0,_=s.length;f<_;f++)if((u=s.charCodeAt(f))<48||u>n)return NaN;return parseInt(s,i)}}return+r};if(!_(" 0o1")||!_("0b1")||_("+0x1")){_=function(e){var r=arguments.length<1?0:e,a=this;return a instanceof _&&(p?n(function(){N.valueOf.call(a)}):t(a)!=f)?i(new I(q(r)),a,_):q(r)};for(var g,h=require("./_descriptors")?o(I):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),E=0;h.length>E;E++)r(I,g=h[E])&&!r(_,g)&&s(_,g,u(I,g));_.prototype=N,N.constructor=_,require("./_redefine")(e,f,_)}
},{"./_global":"j4Jx","./_has":"UB6D","./_cof":"PoBK","./_inherit-if-required":"sk8w","./_to-primitive":"ZeWn","./_fails":"Shu3","./_object-gopn":"rCFh","./_object-gopd":"Uy7K","./_object-dp":"ZITN","./_string-trim":"CcmY","./_object-create":"y4dJ","./_descriptors":"bI9l","./_redefine":"Yc4t"}],"Fj1a":[function(require,module,exports) {
var r=require("./_cof");module.exports=function(e,o){if("number"!=typeof e&&"Number"!=r(e))throw TypeError(o);return+e};
},{"./_cof":"PoBK"}],"FDfn":[function(require,module,exports) {
"use strict";var r=require("./_to-integer"),e=require("./_defined");module.exports=function(t){var i=String(e(this)),n="",o=r(t);if(o<0||o==1/0)throw RangeError("Count can't be negative");for(;o>0;(o>>>=1)&&(i+=i))1&o&&(n+=i);return n};
},{"./_to-integer":"btBV","./_defined":"iaKk"}],"MlUH":[function(require,module,exports) {
"use strict";var r=require("./_export"),e=require("./_to-integer"),i=require("./_a-number-value"),t=require("./_string-repeat"),n=1..toFixed,o=Math.floor,u=[0,0,0,0,0,0],f="Number.toFixed: incorrect invocation!",a="0",c=function(r,e){for(var i=-1,t=e;++i<6;)t+=r*u[i],u[i]=t%1e7,t=o(t/1e7)},l=function(r){for(var e=6,i=0;--e>=0;)i+=u[e],u[e]=o(i/r),i=i%r*1e7},v=function(){for(var r=6,e="";--r>=0;)if(""!==e||0===r||0!==u[r]){var i=String(u[r]);e=""===e?i:e+t.call(a,7-i.length)+i}return e},x=function(r,e,i){return 0===e?i:e%2==1?x(r,e-1,i*r):x(r*r,e/2,i)},d=function(r){for(var e=0,i=r;i>=4096;)e+=12,i/=4096;for(;i>=2;)e+=1,i/=2;return e};r(r.P+r.F*(!!n&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!require("./_fails")(function(){n.call({})})),"Number",{toFixed:function(r){var n,o,u,s,F=i(this,f),g=e(r),b="",h=a;if(g<0||g>20)throw RangeError(f);if(F!=F)return"NaN";if(F<=-1e21||F>=1e21)return String(F);if(F<0&&(b="-",F=-F),F>1e-21)if(o=(n=d(F*x(2,69,1))-69)<0?F*x(2,-n,1):F/x(2,n,1),o*=4503599627370496,(n=52-n)>0){for(c(0,o),u=g;u>=7;)c(1e7,0),u-=7;for(c(x(10,u,1),0),u=n-1;u>=23;)l(1<<23),u-=23;l(1<<u),c(1,1),l(2),h=v()}else c(0,o),c(1<<-n,0),h=v()+t.call(a,g);return h=g>0?b+((s=h.length)<=g?"0."+t.call(a,g-s)+h:h.slice(0,s-g)+"."+h.slice(s-g)):b+h}});
},{"./_export":"YaXs","./_to-integer":"btBV","./_a-number-value":"Fj1a","./_string-repeat":"FDfn","./_fails":"Shu3"}],"GCZw":[function(require,module,exports) {
"use strict";var r=require("./_export"),i=require("./_fails"),e=require("./_a-number-value"),n=1..toPrecision;r(r.P+r.F*(i(function(){return"1"!==n.call(1,void 0)})||!i(function(){n.call({})})),"Number",{toPrecision:function(r){var i=e(this,"Number#toPrecision: incorrect invocation!");return void 0===r?n.call(i):n.call(i,r)}});
},{"./_export":"YaXs","./_fails":"Shu3","./_a-number-value":"Fj1a"}],"dfxm":[function(require,module,exports) {
var r=require("./_export");r(r.S,"Number",{EPSILON:Math.pow(2,-52)});
},{"./_export":"YaXs"}],"dz6x":[function(require,module,exports) {
var e=require("./_export"),r=require("./_global").isFinite;e(e.S,"Number",{isFinite:function(e){return"number"==typeof e&&r(e)}});
},{"./_export":"YaXs","./_global":"j4Jx"}],"n2Ji":[function(require,module,exports) {
var e=require("./_is-object"),r=Math.floor;module.exports=function(i){return!e(i)&&isFinite(i)&&r(i)===i};
},{"./_is-object":"mW2H"}],"nPa3":[function(require,module,exports) {
var e=require("./_export");e(e.S,"Number",{isInteger:require("./_is-integer")});
},{"./_export":"YaXs","./_is-integer":"n2Ji"}],"t3F1":[function(require,module,exports) {
var r=require("./_export");r(r.S,"Number",{isNaN:function(r){return r!=r}});
},{"./_export":"YaXs"}],"otaK":[function(require,module,exports) {
var e=require("./_export"),r=require("./_is-integer"),i=Math.abs;e(e.S,"Number",{isSafeInteger:function(e){return r(e)&&i(e)<=9007199254740991}});
},{"./_export":"YaXs","./_is-integer":"n2Ji"}],"TE73":[function(require,module,exports) {
var r=require("./_export");r(r.S,"Number",{MAX_SAFE_INTEGER:9007199254740991});
},{"./_export":"YaXs"}],"ZPBB":[function(require,module,exports) {
var r=require("./_export");r(r.S,"Number",{MIN_SAFE_INTEGER:-9007199254740991});
},{"./_export":"YaXs"}],"Hhbf":[function(require,module,exports) {
var r=require("./_export"),e=require("./_parse-float");r(r.S+r.F*(Number.parseFloat!=e),"Number",{parseFloat:e});
},{"./_export":"YaXs","./_parse-float":"BIF9"}],"BQfN":[function(require,module,exports) {
var r=require("./_export"),e=require("./_parse-int");r(r.S+r.F*(Number.parseInt!=e),"Number",{parseInt:e});
},{"./_export":"YaXs","./_parse-int":"cJZt"}],"jXUK":[function(require,module,exports) {
module.exports=Math.log1p||function(e){return(e=+e)>-1e-8&&e<1e-8?e-e*e/2:Math.log(1+e)};
},{}],"Bd0w":[function(require,module,exports) {
var a=require("./_export"),r=require("./_math-log1p"),t=Math.sqrt,h=Math.acosh;a(a.S+a.F*!(h&&710==Math.floor(h(Number.MAX_VALUE))&&h(1/0)==1/0),"Math",{acosh:function(a){return(a=+a)<1?NaN:a>94906265.62425156?Math.log(a)+Math.LN2:r(a-1+t(a-1)*t(a+1))}});
},{"./_export":"YaXs","./_math-log1p":"jXUK"}],"GEcE":[function(require,module,exports) {
var t=require("./_export"),a=Math.asinh;function i(t){return isFinite(t=+t)&&0!=t?t<0?-i(-t):Math.log(t+Math.sqrt(t*t+1)):t}t(t.S+t.F*!(a&&1/a(0)>0),"Math",{asinh:i});
},{"./_export":"YaXs"}],"nxUm":[function(require,module,exports) {
var a=require("./_export"),t=Math.atanh;a(a.S+a.F*!(t&&1/t(-0)<0),"Math",{atanh:function(a){return 0==(a=+a)?a:Math.log((1+a)/(1-a))/2}});
},{"./_export":"YaXs"}],"X2q4":[function(require,module,exports) {
module.exports=Math.sign||function(n){return 0==(n=+n)||n!=n?n:n<0?-1:1};
},{}],"m54H":[function(require,module,exports) {
var r=require("./_export"),t=require("./_math-sign");r(r.S,"Math",{cbrt:function(r){return t(r=+r)*Math.pow(Math.abs(r),1/3)}});
},{"./_export":"YaXs","./_math-sign":"X2q4"}],"fuGL":[function(require,module,exports) {
var r=require("./_export");r(r.S,"Math",{clz32:function(r){return(r>>>=0)?31-Math.floor(Math.log(r+.5)*Math.LOG2E):32}});
},{"./_export":"YaXs"}],"bQul":[function(require,module,exports) {
var r=require("./_export"),e=Math.exp;r(r.S,"Math",{cosh:function(r){return(e(r=+r)+e(-r))/2}});
},{"./_export":"YaXs"}],"aYiw":[function(require,module,exports) {
var e=Math.expm1;module.exports=!e||e(10)>22025.465794806718||e(10)<22025.465794806718||-2e-17!=e(-2e-17)?function(e){return 0==(e=+e)?e:e>-1e-6&&e<1e-6?e+e*e/2:Math.exp(e)-1}:e;
},{}],"MTsr":[function(require,module,exports) {
var e=require("./_export"),r=require("./_math-expm1");e(e.S+e.F*(r!=Math.expm1),"Math",{expm1:r});
},{"./_export":"YaXs","./_math-expm1":"aYiw"}],"ZTRP":[function(require,module,exports) {
var r=require("./_math-sign"),t=Math.pow,n=t(2,-52),a=t(2,-23),u=t(2,127)*(2-a),e=t(2,-126),o=function(r){return r+1/n-1/n};module.exports=Math.fround||function(t){var h,i,f=Math.abs(t),s=r(t);return f<e?s*o(f/e/a)*e*a:(i=(h=(1+a/n)*f)-(h-f))>u||i!=i?s*(1/0):s*i};
},{"./_math-sign":"X2q4"}],"ND0L":[function(require,module,exports) {
var r=require("./_export");r(r.S,"Math",{fround:require("./_math-fround")});
},{"./_export":"YaXs","./_math-fround":"ZTRP"}],"H4Yc":[function(require,module,exports) {
var r=require("./_export"),t=Math.abs;r(r.S,"Math",{hypot:function(r,a){for(var e,h,n=0,o=0,u=arguments.length,M=0;o<u;)M<(e=t(arguments[o++]))?(n=n*(h=M/e)*h+1,M=e):n+=e>0?(h=e/M)*h:e;return M===1/0?1/0:M*Math.sqrt(n)}});
},{"./_export":"YaXs"}],"RHqk":[function(require,module,exports) {
var r=require("./_export"),e=Math.imul;r(r.S+r.F*require("./_fails")(function(){return-5!=e(4294967295,5)||2!=e.length}),"Math",{imul:function(r,e){var t=+r,u=+e,i=65535&t,n=65535&u;return 0|i*n+((65535&t>>>16)*n+i*(65535&u>>>16)<<16>>>0)}});
},{"./_export":"YaXs","./_fails":"Shu3"}],"aixQ":[function(require,module,exports) {
var r=require("./_export");r(r.S,"Math",{log10:function(r){return Math.log(r)*Math.LOG10E}});
},{"./_export":"YaXs"}],"uiqK":[function(require,module,exports) {
var r=require("./_export");r(r.S,"Math",{log1p:require("./_math-log1p")});
},{"./_export":"YaXs","./_math-log1p":"jXUK"}],"BOo1":[function(require,module,exports) {
var r=require("./_export");r(r.S,"Math",{log2:function(r){return Math.log(r)/Math.LN2}});
},{"./_export":"YaXs"}],"KyKz":[function(require,module,exports) {
var r=require("./_export");r(r.S,"Math",{sign:require("./_math-sign")});
},{"./_export":"YaXs","./_math-sign":"X2q4"}],"vqVM":[function(require,module,exports) {
var e=require("./_export"),r=require("./_math-expm1"),t=Math.exp;e(e.S+e.F*require("./_fails")(function(){return-2e-17!=!Math.sinh(-2e-17)}),"Math",{sinh:function(e){return Math.abs(e=+e)<1?(r(e)-r(-e))/2:(t(e-1)-t(-e-1))*(Math.E/2)}});
},{"./_export":"YaXs","./_math-expm1":"aYiw","./_fails":"Shu3"}],"KFEC":[function(require,module,exports) {
var r=require("./_export"),e=require("./_math-expm1"),t=Math.exp;r(r.S,"Math",{tanh:function(r){var a=e(r=+r),h=e(-r);return a==1/0?1:h==1/0?-1:(a-h)/(t(r)+t(-r))}});
},{"./_export":"YaXs","./_math-expm1":"aYiw"}],"MJrB":[function(require,module,exports) {
var r=require("./_export");r(r.S,"Math",{trunc:function(r){return(r>0?Math.floor:Math.ceil)(r)}});
},{"./_export":"YaXs"}],"kuFf":[function(require,module,exports) {
var r=require("./_export"),o=require("./_to-absolute-index"),e=String.fromCharCode,n=String.fromCodePoint;r(r.S+r.F*(!!n&&1!=n.length),"String",{fromCodePoint:function(r){for(var n,t=[],i=arguments.length,a=0;i>a;){if(n=+arguments[a++],o(n,1114111)!==n)throw RangeError(n+" is not a valid code point");t.push(n<65536?e(n):e(55296+((n-=65536)>>10),n%1024+56320))}return t.join("")}});
},{"./_export":"YaXs","./_to-absolute-index":"p8eF"}],"TnGS":[function(require,module,exports) {
var r=require("./_export"),e=require("./_to-iobject"),t=require("./_to-length");r(r.S,"String",{raw:function(r){for(var n=e(r.raw),i=t(n.length),o=arguments.length,u=[],g=0;i>g;)u.push(String(n[g++])),g<o&&u.push(String(arguments[g]));return u.join("")}});
},{"./_export":"YaXs","./_to-iobject":"LW3B","./_to-length":"ATHw"}],"dEhP":[function(require,module,exports) {
"use strict";require("./_string-trim")("trim",function(r){return function(){return r(this,3)}});
},{"./_string-trim":"CcmY"}],"DekY":[function(require,module,exports) {
var e=require("./_to-integer"),r=require("./_defined");module.exports=function(t){return function(n,i){var o,u,c=String(r(n)),d=e(i),a=c.length;return d<0||d>=a?t?"":void 0:(o=c.charCodeAt(d))<55296||o>56319||d+1===a||(u=c.charCodeAt(d+1))<56320||u>57343?t?c.charAt(d):o:t?c.slice(d,d+2):u-56320+(o-55296<<10)+65536}};
},{"./_to-integer":"btBV","./_defined":"iaKk"}],"Oj8i":[function(require,module,exports) {
module.exports={};
},{}],"CLcG":[function(require,module,exports) {
"use strict";var e=require("./_object-create"),r=require("./_property-desc"),t=require("./_set-to-string-tag"),i={};require("./_hide")(i,require("./_wks")("iterator"),function(){return this}),module.exports=function(o,u,s){o.prototype=e(i,{next:r(1,s)}),t(o,u+" Iterator")};
},{"./_object-create":"y4dJ","./_property-desc":"EVgU","./_set-to-string-tag":"q1Ab","./_hide":"xf1j","./_wks":"rGSk"}],"opYb":[function(require,module,exports) {
"use strict";var e=require("./_library"),r=require("./_export"),t=require("./_redefine"),i=require("./_hide"),n=require("./_iterators"),u=require("./_iter-create"),o=require("./_set-to-string-tag"),s=require("./_object-gpo"),a=require("./_wks")("iterator"),c=!([].keys&&"next"in[].keys()),f="@@iterator",l="keys",q="values",y=function(){return this};module.exports=function(_,p,h,k,v,w,d){u(h,p,k);var x,b,g,j=function(e){if(!c&&e in I)return I[e];switch(e){case l:case q:return function(){return new h(this,e)}}return function(){return new h(this,e)}},m=p+" Iterator",A=v==q,F=!1,I=_.prototype,O=I[a]||I[f]||v&&I[v],P=O||j(v),z=v?A?j("entries"):P:void 0,B="Array"==p&&I.entries||O;if(B&&(g=s(B.call(new _)))!==Object.prototype&&g.next&&(o(g,m,!0),e||"function"==typeof g[a]||i(g,a,y)),A&&O&&O.name!==q&&(F=!0,P=function(){return O.call(this)}),e&&!d||!c&&!F&&I[a]||i(I,a,P),n[p]=P,n[m]=y,v)if(x={values:A?P:j(q),keys:w?P:j(l),entries:z},d)for(b in x)b in I||t(I,b,x[b]);else r(r.P+r.F*(c||F),p,x);return x};
},{"./_library":"FVFy","./_export":"YaXs","./_redefine":"Yc4t","./_hide":"xf1j","./_iterators":"Oj8i","./_iter-create":"CLcG","./_set-to-string-tag":"q1Ab","./_object-gpo":"hC8b","./_wks":"rGSk"}],"MHBv":[function(require,module,exports) {
"use strict";var i=require("./_string-at")(!0);require("./_iter-define")(String,"String",function(i){this._t=String(i),this._i=0},function(){var t,e=this._t,n=this._i;return n>=e.length?{value:void 0,done:!0}:(t=i(e,n),this._i+=t.length,{value:t,done:!1})});
},{"./_string-at":"DekY","./_iter-define":"opYb"}],"JflN":[function(require,module,exports) {
"use strict";var r=require("./_export"),t=require("./_string-at")(!1);r(r.P,"String",{codePointAt:function(r){return t(this,r)}});
},{"./_export":"YaXs","./_string-at":"DekY"}],"oO3z":[function(require,module,exports) {
var e=require("./_is-object"),r=require("./_cof"),i=require("./_wks")("match");module.exports=function(o){var u;return e(o)&&(void 0!==(u=o[i])?!!u:"RegExp"==r(o))};
},{"./_is-object":"mW2H","./_cof":"PoBK","./_wks":"rGSk"}],"s5La":[function(require,module,exports) {
var e=require("./_is-regexp"),r=require("./_defined");module.exports=function(i,t,n){if(e(t))throw TypeError("String#"+n+" doesn't accept regex!");return String(r(i))};
},{"./_is-regexp":"oO3z","./_defined":"iaKk"}],"R7QT":[function(require,module,exports) {
var r=require("./_wks")("match");module.exports=function(t){var c=/./;try{"/./"[t](c)}catch(e){try{return c[r]=!1,!"/./"[t](c)}catch(a){}}return!0};
},{"./_wks":"rGSk"}],"XDkG":[function(require,module,exports) {
"use strict";var e=require("./_export"),t=require("./_to-length"),i=require("./_string-context"),r="endsWith",n=""[r];e(e.P+e.F*require("./_fails-is-regexp")(r),"String",{endsWith:function(e){var s=i(this,e,r),g=arguments.length>1?arguments[1]:void 0,h=t(s.length),l=void 0===g?h:Math.min(t(g),h),u=String(e);return n?n.call(s,u,l):s.slice(l-u.length,l)===u}});
},{"./_export":"YaXs","./_to-length":"ATHw","./_string-context":"s5La","./_fails-is-regexp":"R7QT"}],"IVi5":[function(require,module,exports) {
"use strict";var e=require("./_export"),i=require("./_string-context"),r="includes";e(e.P+e.F*require("./_fails-is-regexp")(r),"String",{includes:function(e){return!!~i(this,e,r).indexOf(e,arguments.length>1?arguments[1]:void 0)}});
},{"./_export":"YaXs","./_string-context":"s5La","./_fails-is-regexp":"R7QT"}],"bKIJ":[function(require,module,exports) {
var r=require("./_export");r(r.P,"String",{repeat:require("./_string-repeat")});
},{"./_export":"YaXs","./_string-repeat":"FDfn"}],"OMxN":[function(require,module,exports) {
"use strict";var t=require("./_export"),r=require("./_to-length"),e=require("./_string-context"),i="startsWith",n=""[i];t(t.P+t.F*require("./_fails-is-regexp")(i),"String",{startsWith:function(t){var s=e(this,t,i),g=r(Math.min(arguments.length>1?arguments[1]:void 0,s.length)),h=String(t);return n?n.call(s,h,g):s.slice(g,g+h.length)===h}});
},{"./_export":"YaXs","./_to-length":"ATHw","./_string-context":"s5La","./_fails-is-regexp":"R7QT"}],"puHH":[function(require,module,exports) {
var r=require("./_export"),e=require("./_fails"),t=require("./_defined"),n=/"/g,i=function(r,e,i,u){var o=String(t(r)),a="<"+e;return""!==i&&(a+=" "+i+'="'+String(u).replace(n,"&quot;")+'"'),a+">"+o+"</"+e+">"};module.exports=function(t,n){var u={};u[t]=n(i),r(r.P+r.F*e(function(){var r=""[t]('"');return r!==r.toLowerCase()||r.split('"').length>3}),"String",u)};
},{"./_export":"YaXs","./_fails":"Shu3","./_defined":"iaKk"}],"ZN03":[function(require,module,exports) {
"use strict";require("./_string-html")("anchor",function(n){return function(r){return n(this,"a","name",r)}});
},{"./_string-html":"puHH"}],"FEfL":[function(require,module,exports) {
"use strict";require("./_string-html")("big",function(t){return function(){return t(this,"big","","")}});
},{"./_string-html":"puHH"}],"ZlfJ":[function(require,module,exports) {
"use strict";require("./_string-html")("blink",function(n){return function(){return n(this,"blink","","")}});
},{"./_string-html":"puHH"}],"kESa":[function(require,module,exports) {
"use strict";require("./_string-html")("bold",function(t){return function(){return t(this,"b","","")}});
},{"./_string-html":"puHH"}],"Tsxc":[function(require,module,exports) {
"use strict";require("./_string-html")("fixed",function(t){return function(){return t(this,"tt","","")}});
},{"./_string-html":"puHH"}],"f8sQ":[function(require,module,exports) {
"use strict";require("./_string-html")("fontcolor",function(t){return function(r){return t(this,"font","color",r)}});
},{"./_string-html":"puHH"}],"zkOV":[function(require,module,exports) {
"use strict";require("./_string-html")("fontsize",function(t){return function(n){return t(this,"font","size",n)}});
},{"./_string-html":"puHH"}],"WA9c":[function(require,module,exports) {
"use strict";require("./_string-html")("italics",function(t){return function(){return t(this,"i","","")}});
},{"./_string-html":"puHH"}],"odAu":[function(require,module,exports) {
"use strict";require("./_string-html")("link",function(r){return function(t){return r(this,"a","href",t)}});
},{"./_string-html":"puHH"}],"jRZU":[function(require,module,exports) {
"use strict";require("./_string-html")("small",function(t){return function(){return t(this,"small","","")}});
},{"./_string-html":"puHH"}],"vjKk":[function(require,module,exports) {
"use strict";require("./_string-html")("strike",function(t){return function(){return t(this,"strike","","")}});
},{"./_string-html":"puHH"}],"v71f":[function(require,module,exports) {
"use strict";require("./_string-html")("sub",function(t){return function(){return t(this,"sub","","")}});
},{"./_string-html":"puHH"}],"BsDL":[function(require,module,exports) {
"use strict";require("./_string-html")("sup",function(t){return function(){return t(this,"sup","","")}});
},{"./_string-html":"puHH"}],"hZZ7":[function(require,module,exports) {
var e=require("./_export");e(e.S,"Date",{now:function(){return(new Date).getTime()}});
},{"./_export":"YaXs"}],"V1lf":[function(require,module,exports) {
"use strict";var t=require("./_export"),e=require("./_to-object"),r=require("./_to-primitive");t(t.P+t.F*require("./_fails")(function(){return null!==new Date(NaN).toJSON()||1!==Date.prototype.toJSON.call({toISOString:function(){return 1}})}),"Date",{toJSON:function(t){var i=e(this),n=r(i);return"number"!=typeof n||isFinite(n)?i.toISOString():null}});
},{"./_export":"YaXs","./_to-object":"D3I6","./_to-primitive":"ZeWn","./_fails":"Shu3"}],"yAPw":[function(require,module,exports) {
"use strict";var t=require("./_fails"),e=Date.prototype.getTime,i=Date.prototype.toISOString,n=function(t){return t>9?t:"0"+t};module.exports=t(function(){return"0385-07-25T07:06:39.999Z"!=i.call(new Date(-5e13-1))})||!t(function(){i.call(new Date(NaN))})?function(){if(!isFinite(e.call(this)))throw RangeError("Invalid time value");var t=this,i=t.getUTCFullYear(),r=t.getUTCMilliseconds(),a=i<0?"-":i>9999?"+":"";return a+("00000"+Math.abs(i)).slice(a?-6:-4)+"-"+n(t.getUTCMonth()+1)+"-"+n(t.getUTCDate())+"T"+n(t.getUTCHours())+":"+n(t.getUTCMinutes())+":"+n(t.getUTCSeconds())+"."+(r>99?r:"0"+n(r))+"Z"}:i;
},{"./_fails":"Shu3"}],"dNqM":[function(require,module,exports) {
var t=require("./_export"),r=require("./_date-to-iso-string");t(t.P+t.F*(Date.prototype.toISOString!==r),"Date",{toISOString:r});
},{"./_export":"YaXs","./_date-to-iso-string":"yAPw"}],"qRba":[function(require,module,exports) {
var e=Date.prototype,t="Invalid Date",a="toString",r=e[a],i=e.getTime;new Date(NaN)+""!=t&&require("./_redefine")(e,a,function(){var e=i.call(this);return e==e?r.call(this):t});
},{"./_redefine":"Yc4t"}],"OHt0":[function(require,module,exports) {
"use strict";var r=require("./_an-object"),e=require("./_to-primitive"),t="number";module.exports=function(i){if("string"!==i&&i!==t&&"default"!==i)throw TypeError("Incorrect hint");return e(r(this),i!=t)};
},{"./_an-object":"uLTR","./_to-primitive":"ZeWn"}],"eEPK":[function(require,module,exports) {
var e=require("./_wks")("toPrimitive"),i=Date.prototype;e in i||require("./_hide")(i,e,require("./_date-to-primitive"));
},{"./_wks":"rGSk","./_hide":"xf1j","./_date-to-primitive":"OHt0"}],"MU7J":[function(require,module,exports) {
var r=require("./_export");r(r.S,"Array",{isArray:require("./_is-array")});
},{"./_export":"YaXs","./_is-array":"ra20"}],"DRAB":[function(require,module,exports) {
var r=require("./_an-object");module.exports=function(t,e,o,a){try{return a?e(r(o)[0],o[1]):e(o)}catch(n){var c=t.return;throw void 0!==c&&r(c.call(t)),n}};
},{"./_an-object":"uLTR"}],"Yabq":[function(require,module,exports) {
var r=require("./_iterators"),e=require("./_wks")("iterator"),t=Array.prototype;module.exports=function(o){return void 0!==o&&(r.Array===o||t[e]===o)};
},{"./_iterators":"Oj8i","./_wks":"rGSk"}],"b5Dh":[function(require,module,exports) {
"use strict";var e=require("./_object-dp"),r=require("./_property-desc");module.exports=function(t,i,o){i in t?e.f(t,i,r(0,o)):t[i]=o};
},{"./_object-dp":"ZITN","./_property-desc":"EVgU"}],"jQFb":[function(require,module,exports) {
var r=require("./_classof"),e=require("./_wks")("iterator"),t=require("./_iterators");module.exports=require("./_core").getIteratorMethod=function(o){if(null!=o)return o[e]||o["@@iterator"]||t[r(o)]};
},{"./_classof":"pXWj","./_wks":"rGSk","./_iterators":"Oj8i","./_core":"RosZ"}],"jnB3":[function(require,module,exports) {
var r=require("./_wks")("iterator"),t=!1;try{var n=[7][r]();n.return=function(){t=!0},Array.from(n,function(){throw 2})}catch(e){}module.exports=function(n,u){if(!u&&!t)return!1;var o=!1;try{var c=[7],a=c[r]();a.next=function(){return{done:o=!0}},c[r]=function(){return a},n(c)}catch(e){}return o};
},{"./_wks":"rGSk"}],"nPXP":[function(require,module,exports) {
"use strict";var e=require("./_ctx"),r=require("./_export"),t=require("./_to-object"),i=require("./_iter-call"),o=require("./_is-array-iter"),u=require("./_to-length"),n=require("./_create-property"),a=require("./core.get-iterator-method");r(r.S+r.F*!require("./_iter-detect")(function(e){Array.from(e)}),"Array",{from:function(r){var l,c,f,q,_=t(r),h="function"==typeof this?this:Array,v=arguments.length,y=v>1?arguments[1]:void 0,d=void 0!==y,s=0,g=a(_);if(d&&(y=e(y,v>2?arguments[2]:void 0,2)),null==g||h==Array&&o(g))for(c=new h(l=u(_.length));l>s;s++)n(c,s,d?y(_[s],s):_[s]);else for(q=g.call(_),c=new h;!(f=q.next()).done;s++)n(c,s,d?i(q,y,[f.value,s],!0):f.value);return c.length=s,c}});
},{"./_ctx":"plzG","./_export":"YaXs","./_to-object":"D3I6","./_iter-call":"DRAB","./_is-array-iter":"Yabq","./_to-length":"ATHw","./_create-property":"b5Dh","./core.get-iterator-method":"jQFb","./_iter-detect":"jnB3"}],"OY3y":[function(require,module,exports) {
"use strict";var r=require("./_export"),e=require("./_create-property");r(r.S+r.F*require("./_fails")(function(){function r(){}return!(Array.of.call(r)instanceof r)}),"Array",{of:function(){for(var r=0,t=arguments.length,n=new("function"==typeof this?this:Array)(t);t>r;)e(n,r,arguments[r++]);return n.length=t,n}});
},{"./_export":"YaXs","./_create-property":"b5Dh","./_fails":"Shu3"}],"KK5w":[function(require,module,exports) {
"use strict";var l=require("./_fails");module.exports=function(n,u){return!!n&&l(function(){u?n.call(null,function(){},1):n.call(null)})};
},{"./_fails":"Shu3"}],"YWPI":[function(require,module,exports) {
"use strict";var r=require("./_export"),e=require("./_to-iobject"),i=[].join;r(r.P+r.F*(require("./_iobject")!=Object||!require("./_strict-method")(i)),"Array",{join:function(r){return i.call(e(this),void 0===r?",":r)}});
},{"./_export":"YaXs","./_to-iobject":"LW3B","./_iobject":"oEpb","./_strict-method":"KK5w"}],"Zfva":[function(require,module,exports) {
"use strict";var r=require("./_export"),e=require("./_html"),i=require("./_cof"),t=require("./_to-absolute-index"),u=require("./_to-length"),a=[].slice;r(r.P+r.F*require("./_fails")(function(){e&&a.call(e)}),"Array",{slice:function(r,e){var l=u(this.length),n=i(this);if(e=void 0===e?l:e,"Array"==n)return a.call(this,r,e);for(var s=t(r,l),c=t(e,l),h=u(c-s),o=new Array(h),f=0;f<h;f++)o[f]="String"==n?this.charAt(s+f):this[s+f];return o}});
},{"./_export":"YaXs","./_html":"lq9H","./_cof":"PoBK","./_to-absolute-index":"p8eF","./_to-length":"ATHw","./_fails":"Shu3"}],"yYAZ":[function(require,module,exports) {
"use strict";var r=require("./_export"),t=require("./_a-function"),i=require("./_to-object"),e=require("./_fails"),o=[].sort,u=[1,2,3];r(r.P+r.F*(e(function(){u.sort(void 0)})||!e(function(){u.sort(null)})||!require("./_strict-method")(o)),"Array",{sort:function(r){return void 0===r?o.call(i(this)):o.call(i(this),t(r))}});
},{"./_export":"YaXs","./_a-function":"gm2m","./_to-object":"D3I6","./_fails":"Shu3","./_strict-method":"KK5w"}],"yyU6":[function(require,module,exports) {
var r=require("./_is-object"),e=require("./_is-array"),o=require("./_wks")("species");module.exports=function(i){var t;return e(i)&&("function"!=typeof(t=i.constructor)||t!==Array&&!e(t.prototype)||(t=void 0),r(t)&&null===(t=t[o])&&(t=void 0)),void 0===t?Array:t};
},{"./_is-object":"mW2H","./_is-array":"ra20","./_wks":"rGSk"}],"bwyp":[function(require,module,exports) {
var r=require("./_array-species-constructor");module.exports=function(e,n){return new(r(e))(n)};
},{"./_array-species-constructor":"yyU6"}],"Jr2W":[function(require,module,exports) {
var e=require("./_ctx"),r=require("./_iobject"),t=require("./_to-object"),i=require("./_to-length"),u=require("./_array-species-create");module.exports=function(n,c){var s=1==n,a=2==n,o=3==n,f=4==n,l=6==n,q=5==n||l,_=c||u;return function(u,c,h){for(var v,p,b=t(u),d=r(b),g=e(c,h,3),j=i(d.length),x=0,m=s?_(u,j):a?_(u,0):void 0;j>x;x++)if((q||x in d)&&(p=g(v=d[x],x,b),n))if(s)m[x]=p;else if(p)switch(n){case 3:return!0;case 5:return v;case 6:return x;case 2:m.push(v)}else if(f)return!1;return l?-1:o||f?f:m}};
},{"./_ctx":"plzG","./_iobject":"oEpb","./_to-object":"D3I6","./_to-length":"ATHw","./_array-species-create":"bwyp"}],"nhHD":[function(require,module,exports) {
"use strict";var r=require("./_export"),e=require("./_array-methods")(0),t=require("./_strict-method")([].forEach,!0);r(r.P+r.F*!t,"Array",{forEach:function(r){return e(this,r,arguments[1])}});
},{"./_export":"YaXs","./_array-methods":"Jr2W","./_strict-method":"KK5w"}],"TWkk":[function(require,module,exports) {
"use strict";var r=require("./_export"),e=require("./_array-methods")(1);r(r.P+r.F*!require("./_strict-method")([].map,!0),"Array",{map:function(r){return e(this,r,arguments[1])}});
},{"./_export":"YaXs","./_array-methods":"Jr2W","./_strict-method":"KK5w"}],"tIPS":[function(require,module,exports) {
"use strict";var r=require("./_export"),e=require("./_array-methods")(2);r(r.P+r.F*!require("./_strict-method")([].filter,!0),"Array",{filter:function(r){return e(this,r,arguments[1])}});
},{"./_export":"YaXs","./_array-methods":"Jr2W","./_strict-method":"KK5w"}],"Aa5f":[function(require,module,exports) {
"use strict";var r=require("./_export"),e=require("./_array-methods")(3);r(r.P+r.F*!require("./_strict-method")([].some,!0),"Array",{some:function(r){return e(this,r,arguments[1])}});
},{"./_export":"YaXs","./_array-methods":"Jr2W","./_strict-method":"KK5w"}],"xeWr":[function(require,module,exports) {
"use strict";var r=require("./_export"),e=require("./_array-methods")(4);r(r.P+r.F*!require("./_strict-method")([].every,!0),"Array",{every:function(r){return e(this,r,arguments[1])}});
},{"./_export":"YaXs","./_array-methods":"Jr2W","./_strict-method":"KK5w"}],"Ss8g":[function(require,module,exports) {
var r=require("./_a-function"),e=require("./_to-object"),i=require("./_iobject"),o=require("./_to-length");module.exports=function(t,n,u,a,f){r(n);var c=e(t),l=i(c),h=o(c.length),q=f?h-1:0,_=f?-1:1;if(u<2)for(;;){if(q in l){a=l[q],q+=_;break}if(q+=_,f?q<0:h<=q)throw TypeError("Reduce of empty array with no initial value")}for(;f?q>=0:h>q;q+=_)q in l&&(a=n(a,l[q],q,c));return a};
},{"./_a-function":"gm2m","./_to-object":"D3I6","./_iobject":"oEpb","./_to-length":"ATHw"}],"Snba":[function(require,module,exports) {
"use strict";var r=require("./_export"),e=require("./_array-reduce");r(r.P+r.F*!require("./_strict-method")([].reduce,!0),"Array",{reduce:function(r){return e(this,r,arguments.length,arguments[1],!1)}});
},{"./_export":"YaXs","./_array-reduce":"Ss8g","./_strict-method":"KK5w"}],"cXQt":[function(require,module,exports) {
"use strict";var r=require("./_export"),e=require("./_array-reduce");r(r.P+r.F*!require("./_strict-method")([].reduceRight,!0),"Array",{reduceRight:function(r){return e(this,r,arguments.length,arguments[1],!0)}});
},{"./_export":"YaXs","./_array-reduce":"Ss8g","./_strict-method":"KK5w"}],"MjHq":[function(require,module,exports) {
"use strict";var r=require("./_export"),e=require("./_array-includes")(!1),i=[].indexOf,t=!!i&&1/[1].indexOf(1,-0)<0;r(r.P+r.F*(t||!require("./_strict-method")(i)),"Array",{indexOf:function(r){return t?i.apply(this,arguments)||0:e(this,r,arguments[1])}});
},{"./_export":"YaXs","./_array-includes":"n4IE","./_strict-method":"KK5w"}],"l5D2":[function(require,module,exports) {
"use strict";var e=require("./_export"),r=require("./_to-iobject"),t=require("./_to-integer"),i=require("./_to-length"),n=[].lastIndexOf,u=!!n&&1/[1].lastIndexOf(1,-0)<0;e(e.P+e.F*(u||!require("./_strict-method")(n)),"Array",{lastIndexOf:function(e){if(u)return n.apply(this,arguments)||0;var a=r(this),o=i(a.length),s=o-1;for(arguments.length>1&&(s=Math.min(s,t(arguments[1]))),s<0&&(s=o+s);s>=0;s--)if(s in a&&a[s]===e)return s||0;return-1}});
},{"./_export":"YaXs","./_to-iobject":"LW3B","./_to-integer":"btBV","./_to-length":"ATHw","./_strict-method":"KK5w"}],"F1bY":[function(require,module,exports) {
"use strict";var e=require("./_to-object"),t=require("./_to-absolute-index"),i=require("./_to-length");module.exports=[].copyWithin||function(r,o){var n=e(this),u=i(n.length),h=t(r,u),l=t(o,u),d=arguments.length>2?arguments[2]:void 0,s=Math.min((void 0===d?u:t(d,u))-l,u-h),a=1;for(l<h&&h<l+s&&(a=-1,l+=s-1,h+=s-1);s-- >0;)l in n?n[h]=n[l]:delete n[h],h+=a,l+=a;return n};
},{"./_to-object":"D3I6","./_to-absolute-index":"p8eF","./_to-length":"ATHw"}],"RXrz":[function(require,module,exports) {
var e=require("./_wks")("unscopables"),r=Array.prototype;null==r[e]&&require("./_hide")(r,e,{}),module.exports=function(o){r[e][o]=!0};
},{"./_wks":"rGSk","./_hide":"xf1j"}],"Lj8Y":[function(require,module,exports) {
var r=require("./_export");r(r.P,"Array",{copyWithin:require("./_array-copy-within")}),require("./_add-to-unscopables")("copyWithin");
},{"./_export":"YaXs","./_array-copy-within":"F1bY","./_add-to-unscopables":"RXrz"}],"abjP":[function(require,module,exports) {
"use strict";var e=require("./_to-object"),t=require("./_to-absolute-index"),r=require("./_to-length");module.exports=function(o){for(var i=e(this),u=r(i.length),n=arguments.length,d=t(n>1?arguments[1]:void 0,u),l=n>2?arguments[2]:void 0,s=void 0===l?u:t(l,u);s>d;)i[d++]=o;return i};
},{"./_to-object":"D3I6","./_to-absolute-index":"p8eF","./_to-length":"ATHw"}],"hyep":[function(require,module,exports) {
var r=require("./_export");r(r.P,"Array",{fill:require("./_array-fill")}),require("./_add-to-unscopables")("fill");
},{"./_export":"YaXs","./_array-fill":"abjP","./_add-to-unscopables":"RXrz"}],"sEXN":[function(require,module,exports) {
"use strict";var r=require("./_export"),e=require("./_array-methods")(5),i="find",n=!0;i in[]&&Array(1)[i](function(){n=!1}),r(r.P+r.F*n,"Array",{find:function(r){return e(this,r,arguments.length>1?arguments[1]:void 0)}}),require("./_add-to-unscopables")(i);
},{"./_export":"YaXs","./_array-methods":"Jr2W","./_add-to-unscopables":"RXrz"}],"CbJV":[function(require,module,exports) {
"use strict";var r=require("./_export"),e=require("./_array-methods")(6),n="findIndex",i=!0;n in[]&&Array(1)[n](function(){i=!1}),r(r.P+r.F*i,"Array",{findIndex:function(r){return e(this,r,arguments.length>1?arguments[1]:void 0)}}),require("./_add-to-unscopables")(n);
},{"./_export":"YaXs","./_array-methods":"Jr2W","./_add-to-unscopables":"RXrz"}],"fefD":[function(require,module,exports) {

"use strict";var e=require("./_global"),r=require("./_object-dp"),i=require("./_descriptors"),t=require("./_wks")("species");module.exports=function(u){var s=e[u];i&&s&&!s[t]&&r.f(s,t,{configurable:!0,get:function(){return this}})};
},{"./_global":"j4Jx","./_object-dp":"ZITN","./_descriptors":"bI9l","./_wks":"rGSk"}],"CLr0":[function(require,module,exports) {
require("./_set-species")("Array");
},{"./_set-species":"fefD"}],"NzDr":[function(require,module,exports) {
module.exports=function(e,n){return{value:n,done:!!e}};
},{}],"E6T8":[function(require,module,exports) {
"use strict";var e=require("./_add-to-unscopables"),r=require("./_iter-step"),t=require("./_iterators"),i=require("./_to-iobject");module.exports=require("./_iter-define")(Array,"Array",function(e,r){this._t=i(e),this._i=0,this._k=r},function(){var e=this._t,t=this._k,i=this._i++;return!e||i>=e.length?(this._t=void 0,r(1)):r(0,"keys"==t?i:"values"==t?e[i]:[i,e[i]])},"values"),t.Arguments=t.Array,e("keys"),e("values"),e("entries");
},{"./_add-to-unscopables":"RXrz","./_iter-step":"NzDr","./_iterators":"Oj8i","./_to-iobject":"LW3B","./_iter-define":"opYb"}],"yrty":[function(require,module,exports) {
"use strict";var e=require("./_an-object");module.exports=function(){var i=e(this),r="";return i.global&&(r+="g"),i.ignoreCase&&(r+="i"),i.multiline&&(r+="m"),i.unicode&&(r+="u"),i.sticky&&(r+="y"),r};
},{"./_an-object":"uLTR"}],"ZXa7":[function(require,module,exports) {

var e=require("./_global"),r=require("./_inherit-if-required"),i=require("./_object-dp").f,t=require("./_object-gopn").f,n=require("./_is-regexp"),o=require("./_flags"),u=e.RegExp,c=u,s=u.prototype,f=/a/g,a=/a/g,g=new u(f)!==f;if(require("./_descriptors")&&(!g||require("./_fails")(function(){return a[require("./_wks")("match")]=!1,u(f)!=f||u(a)==a||"/a/i"!=u(f,"i")}))){u=function(e,i){var t=this instanceof u,f=n(e),a=void 0===i;return!t&&f&&e.constructor===u&&a?e:r(g?new c(f&&!a?e.source:e,i):c((f=e instanceof u)?e.source:e,f&&a?o.call(e):i),t?this:s,u)};for(var p=function(e){e in u||i(u,e,{configurable:!0,get:function(){return c[e]},set:function(r){c[e]=r}})},q=t(c),_=0;q.length>_;)p(q[_++]);s.constructor=u,u.prototype=s,require("./_redefine")(e,"RegExp",u)}require("./_set-species")("RegExp");
},{"./_global":"j4Jx","./_inherit-if-required":"sk8w","./_object-dp":"ZITN","./_object-gopn":"rCFh","./_is-regexp":"oO3z","./_flags":"yrty","./_descriptors":"bI9l","./_fails":"Shu3","./_wks":"rGSk","./_redefine":"Yc4t","./_set-species":"fefD"}],"ao6g":[function(require,module,exports) {
"use strict";var e=require("./_flags"),l=RegExp.prototype.exec,t=String.prototype.replace,r=l,a="lastIndex",n=function(){var e=/a/,t=/b*/g;return l.call(e,"a"),l.call(t,"a"),0!==e[a]||0!==t[a]}(),o=void 0!==/()??/.exec("")[1],c=n||o;c&&(r=function(r){var c,i,g,u,p=this;return o&&(i=new RegExp("^"+p.source+"$(?!\\s)",e.call(p))),n&&(c=p[a]),g=l.call(p,r),n&&g&&(p[a]=p.global?g.index+g[0].length:c),o&&g&&g.length>1&&t.call(g[0],i,function(){for(u=1;u<arguments.length-2;u++)void 0===arguments[u]&&(g[u]=void 0)}),g}),module.exports=r;
},{"./_flags":"yrty"}],"YVk1":[function(require,module,exports) {
"use strict";var e=require("./_regexp-exec");require("./_export")({target:"RegExp",proto:!0,forced:e!==/./.exec},{exec:e});
},{"./_regexp-exec":"ao6g","./_export":"YaXs"}],"K2mn":[function(require,module,exports) {
require("./_descriptors")&&"g"!=/./g.flags&&require("./_object-dp").f(RegExp.prototype,"flags",{configurable:!0,get:require("./_flags")});
},{"./_descriptors":"bI9l","./_object-dp":"ZITN","./_flags":"yrty"}],"fcAE":[function(require,module,exports) {

"use strict";require("./es6.regexp.flags");var e=require("./_an-object"),r=require("./_flags"),i=require("./_descriptors"),n="toString",t=/./[n],a=function(e){require("./_redefine")(RegExp.prototype,n,e,!0)};require("./_fails")(function(){return"/a/b"!=t.call({source:"a",flags:"b"})})?a(function(){var n=e(this);return"/".concat(n.source,"/","flags"in n?n.flags:!i&&n instanceof RegExp?r.call(n):void 0)}):t.name!=n&&a(function(){return t.call(this)});
},{"./es6.regexp.flags":"K2mn","./_an-object":"uLTR","./_flags":"yrty","./_descriptors":"bI9l","./_redefine":"Yc4t","./_fails":"Shu3"}],"EPGO":[function(require,module,exports) {
"use strict";var r=require("./_string-at")(!0);module.exports=function(t,e,n){return e+(n?r(t,e).length:1)};
},{"./_string-at":"DekY"}],"vKPL":[function(require,module,exports) {
"use strict";var e=require("./_classof"),r=RegExp.prototype.exec;module.exports=function(t,o){var c=t.exec;if("function"==typeof c){var n=c.call(t,o);if("object"!=typeof n)throw new TypeError("RegExp exec method returned something other than an Object or null");return n}if("RegExp"!==e(t))throw new TypeError("RegExp#exec called on incompatible receiver");return r.call(t,o)};
},{"./_classof":"pXWj"}],"sQtg":[function(require,module,exports) {
"use strict";require("./es6.regexp.exec");var e=require("./_redefine"),r=require("./_hide"),n=require("./_fails"),t=require("./_defined"),u=require("./_wks"),i=require("./_regexp-exec"),c=u("species"),o=!n(function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")}),a=function(){var e=/(?:)/,r=e.exec;e.exec=function(){return r.apply(this,arguments)};var n="ab".split(e);return 2===n.length&&"a"===n[0]&&"b"===n[1]}();module.exports=function(l,f,p){var s=u(l),v=!n(function(){var e={};return e[s]=function(){return 7},7!=""[l](e)}),x=v?!n(function(){var e=!1,r=/a/;return r.exec=function(){return e=!0,null},"split"===l&&(r.constructor={},r.constructor[c]=function(){return r}),r[s](""),!e}):void 0;if(!v||!x||"replace"===l&&!o||"split"===l&&!a){var d=/./[s],q=p(t,s,""[l],function(e,r,n,t,u){return r.exec===i?v&&!u?{done:!0,value:d.call(r,n,t)}:{done:!0,value:e.call(n,r,t)}:{done:!1}}),g=q[0],_=q[1];e(String.prototype,l,g),r(RegExp.prototype,s,2==f?function(e,r){return _.call(e,this,r)}:function(e){return _.call(e,this)})}};
},{"./es6.regexp.exec":"YVk1","./_redefine":"Yc4t","./_hide":"xf1j","./_fails":"Shu3","./_defined":"iaKk","./_wks":"rGSk","./_regexp-exec":"ao6g"}],"Af1Y":[function(require,module,exports) {
"use strict";var r=require("./_an-object"),e=require("./_to-length"),n=require("./_advance-string-index"),t=require("./_regexp-exec-abstract");require("./_fix-re-wks")("match",1,function(i,a,u,l){return[function(r){var e=i(this),n=null==r?void 0:r[a];return void 0!==n?n.call(r,e):new RegExp(r)[a](String(e))},function(i){var a=l(u,i,this);if(a.done)return a.value;var c=r(i),o=String(this);if(!c.global)return t(c,o);var s=c.unicode;c.lastIndex=0;for(var v,d=[],g=0;null!==(v=t(c,o));){var x=String(v[0]);d[g]=x,""===x&&(c.lastIndex=n(o,e(c.lastIndex),s)),g++}return 0===g?null:d}]});
},{"./_an-object":"uLTR","./_to-length":"ATHw","./_advance-string-index":"EPGO","./_regexp-exec-abstract":"vKPL","./_fix-re-wks":"sQtg"}],"eqII":[function(require,module,exports) {
var global = arguments[3];
var r=arguments[3],e=require("./_an-object"),t=require("./_to-object"),n=require("./_to-length"),i=require("./_to-integer"),a=require("./_advance-string-index"),u=require("./_regexp-exec-abstract"),c=Math.max,l=Math.min,o=Math.floor,v=/\$([$&`']|\d\d?|<[^>]*>)/g,s=/\$([$&`']|\d\d?)/g,g=function(r){return void 0===r?r:String(r)};require("./_fix-re-wks")("replace",2,function(r,d,f,h){return[function(e,t){var n=r(this),i=null==e?void 0:e[d];return void 0!==i?i.call(e,n,t):f.call(String(n),e,t)},function(r,t){var o=h(f,r,this,t);if(o.done)return o.value;var v=e(r),s=String(this),d="function"==typeof t;d||(t=String(t));var x=v.global;if(x){var b=v.unicode;v.lastIndex=0}for(var q=[];;){var S=u(v,s);if(null===S)break;if(q.push(S),!x)break;""===String(S[0])&&(v.lastIndex=a(s,n(v.lastIndex),b))}for(var _="",$=0,k=0;k<q.length;k++){S=q[k];for(var m=String(S[0]),A=c(l(i(S.index),s.length),0),I=[],M=1;M<S.length;M++)I.push(g(S[M]));var j=S.groups;if(d){var w=[m].concat(I,A,s);void 0!==j&&w.push(j);var y=String(t.apply(void 0,w))}else y=p(m,s,A,I,j,t);A>=$&&(_+=s.slice($,A)+y,$=A+m.length)}return _+s.slice($)}];function p(r,e,n,i,a,u){var c=n+r.length,l=i.length,g=s;return void 0!==a&&(a=t(a),g=v),f.call(u,g,function(t,u){var v;switch(u.charAt(0)){case"$":return"$";case"&":return r;case"`":return e.slice(0,n);case"'":return e.slice(c);case"<":v=a[u.slice(1,-1)];break;default:var s=+u;if(0===s)return t;if(s>l){var g=o(s/10);return 0===g?t:g<=l?void 0===i[g-1]?u.charAt(1):i[g-1]+u.charAt(1):t}v=i[s-1]}return void 0===v?"":v})}});
},{"./_an-object":"uLTR","./_to-object":"D3I6","./_to-length":"ATHw","./_to-integer":"btBV","./_advance-string-index":"EPGO","./_regexp-exec-abstract":"vKPL","./_fix-re-wks":"sQtg"}],"cNHg":[function(require,module,exports) {
"use strict";var e=require("./_an-object"),r=require("./_same-value"),n=require("./_regexp-exec-abstract");require("./_fix-re-wks")("search",1,function(t,i,a,u){return[function(e){var r=t(this),n=null==e?void 0:e[i];return void 0!==n?n.call(e,r):new RegExp(e)[i](String(r))},function(t){var i=u(a,t,this);if(i.done)return i.value;var s=e(t),l=String(this),c=s.lastIndex;r(c,0)||(s.lastIndex=0);var v=n(s,l);return r(s.lastIndex,c)||(s.lastIndex=c),null===v?-1:v.index}]});
},{"./_an-object":"uLTR","./_same-value":"cxxr","./_regexp-exec-abstract":"vKPL","./_fix-re-wks":"sQtg"}],"YN2R":[function(require,module,exports) {
var r=require("./_an-object"),e=require("./_a-function"),u=require("./_wks")("species");module.exports=function(n,o){var i,t=r(n).constructor;return void 0===t||null==(i=r(t)[u])?o:e(i)};
},{"./_an-object":"uLTR","./_a-function":"gm2m","./_wks":"rGSk"}],"yKxF":[function(require,module,exports) {
"use strict";var e=require("./_is-regexp"),r=require("./_an-object"),i=require("./_species-constructor"),n=require("./_advance-string-index"),t=require("./_to-length"),u=require("./_regexp-exec-abstract"),l=require("./_regexp-exec"),s=require("./_fails"),c=Math.min,a=[].push,o="split",g="length",h="lastIndex",d=4294967295,f=!s(function(){RegExp(d,"y")});require("./_fix-re-wks")("split",2,function(s,v,p,x){var q;return q="c"=="abbc"[o](/(b)*/)[1]||4!="test"[o](/(?:)/,-1)[g]||2!="ab"[o](/(?:ab)*/)[g]||4!="."[o](/(.?)(.?)/)[g]||"."[o](/()()/)[g]>1||""[o](/.?/)[g]?function(r,i){var n=String(this);if(void 0===r&&0===i)return[];if(!e(r))return p.call(n,r,i);for(var t,u,s,c=[],o=(r.ignoreCase?"i":"")+(r.multiline?"m":"")+(r.unicode?"u":"")+(r.sticky?"y":""),f=0,v=void 0===i?d:i>>>0,x=new RegExp(r.source,o+"g");(t=l.call(x,n))&&!((u=x[h])>f&&(c.push(n.slice(f,t.index)),t[g]>1&&t.index<n[g]&&a.apply(c,t.slice(1)),s=t[0][g],f=u,c[g]>=v));)x[h]===t.index&&x[h]++;return f===n[g]?!s&&x.test("")||c.push(""):c.push(n.slice(f)),c[g]>v?c.slice(0,v):c}:"0"[o](void 0,0)[g]?function(e,r){return void 0===e&&0===r?[]:p.call(this,e,r)}:p,[function(e,r){var i=s(this),n=null==e?void 0:e[v];return void 0!==n?n.call(e,i,r):q.call(String(i),e,r)},function(e,l){var s=x(q,e,this,l,q!==p);if(s.done)return s.value;var a=r(e),o=String(this),g=i(a,RegExp),h=a.unicode,v=(a.ignoreCase?"i":"")+(a.multiline?"m":"")+(a.unicode?"u":"")+(f?"y":"g"),_=new g(f?a:"^(?:"+a.source+")",v),b=void 0===l?d:l>>>0;if(0===b)return[];if(0===o.length)return null===u(_,o)?[o]:[];for(var m=0,y=0,w=[];y<o.length;){_.lastIndex=f?y:0;var E,I=u(_,f?o:o.slice(y));if(null===I||(E=c(t(_.lastIndex+(f?0:y)),o.length))===m)y=n(o,y,h);else{if(w.push(o.slice(m,y)),w.length===b)return w;for(var R=1;R<=I.length-1;R++)if(w.push(I[R]),w.length===b)return w;y=m=E}}return w.push(o.slice(m)),w}]});
},{"./_is-regexp":"oO3z","./_an-object":"uLTR","./_species-constructor":"YN2R","./_advance-string-index":"EPGO","./_to-length":"ATHw","./_regexp-exec-abstract":"vKPL","./_regexp-exec":"ao6g","./_fails":"Shu3","./_fix-re-wks":"sQtg"}],"Ii5e":[function(require,module,exports) {
module.exports=function(o,n,r,i){if(!(o instanceof n)||void 0!==i&&i in o)throw TypeError(r+": incorrect invocation!");return o};
},{}],"Xoby":[function(require,module,exports) {
var e=require("./_ctx"),r=require("./_iter-call"),t=require("./_is-array-iter"),i=require("./_an-object"),o=require("./_to-length"),n=require("./core.get-iterator-method"),u={},a={},f=module.exports=function(f,l,c,q,_){var h,s,d,g,p=_?function(){return f}:n(f),v=e(c,q,l?2:1),x=0;if("function"!=typeof p)throw TypeError(f+" is not iterable!");if(t(p)){for(h=o(f.length);h>x;x++)if((g=l?v(i(s=f[x])[0],s[1]):v(f[x]))===u||g===a)return g}else for(d=p.call(f);!(s=d.next()).done;)if((g=r(d,v,s.value,l))===u||g===a)return g};f.BREAK=u,f.RETURN=a;
},{"./_ctx":"plzG","./_iter-call":"DRAB","./_is-array-iter":"Yabq","./_an-object":"uLTR","./_to-length":"ATHw","./core.get-iterator-method":"jQFb"}],"A8zO":[function(require,module,exports) {


var e,t,n,i=require("./_ctx"),o=require("./_invoke"),r=require("./_html"),s=require("./_dom-create"),a=require("./_global"),c=a.process,u=a.setImmediate,p=a.clearImmediate,f=a.MessageChannel,l=a.Dispatch,d=0,m={},h="onreadystatechange",g=function(){var e=+this;if(m.hasOwnProperty(e)){var t=m[e];delete m[e],t()}},v=function(e){g.call(e.data)};u&&p||(u=function(t){for(var n=[],i=1;arguments.length>i;)n.push(arguments[i++]);return m[++d]=function(){o("function"==typeof t?t:Function(t),n)},e(d),d},p=function(e){delete m[e]},"process"==require("./_cof")(c)?e=function(e){c.nextTick(i(g,e,1))}:l&&l.now?e=function(e){l.now(i(g,e,1))}:f?(n=(t=new f).port2,t.port1.onmessage=v,e=i(n.postMessage,n,1)):a.addEventListener&&"function"==typeof postMessage&&!a.importScripts?(e=function(e){a.postMessage(e+"","*")},a.addEventListener("message",v,!1)):e=h in s("script")?function(e){r.appendChild(s("script"))[h]=function(){r.removeChild(this),g.call(e)}}:function(e){setTimeout(i(g,e,1),0)}),module.exports={set:u,clear:p};
},{"./_ctx":"plzG","./_invoke":"kx31","./_html":"lq9H","./_dom-create":"dtO3","./_global":"j4Jx","./_cof":"PoBK"}],"CX2A":[function(require,module,exports) {


var e=require("./_global"),t=require("./_task").set,r=e.MutationObserver||e.WebKitMutationObserver,n=e.process,o=e.Promise,a="process"==require("./_cof")(n);module.exports=function(){var i,c,s,v=function(){var e,t;for(a&&(e=n.domain)&&e.exit();i;){t=i.fn,i=i.next;try{t()}catch(r){throw i?s():c=void 0,r}}c=void 0,e&&e.enter()};if(a)s=function(){n.nextTick(v)};else if(!r||e.navigator&&e.navigator.standalone)if(o&&o.resolve){var u=o.resolve(void 0);s=function(){u.then(v)}}else s=function(){t.call(e,v)};else{var f=!0,l=document.createTextNode("");new r(v).observe(l,{characterData:!0}),s=function(){l.data=f=!f}}return function(e){var t={fn:e,next:void 0};c&&(c.next=t),i||(i=t,s()),c=t}};
},{"./_global":"j4Jx","./_task":"A8zO","./_cof":"PoBK"}],"bhVM":[function(require,module,exports) {
"use strict";var r=require("./_a-function");function e(e){var o,t;this.promise=new e(function(r,e){if(void 0!==o||void 0!==t)throw TypeError("Bad Promise constructor");o=r,t=e}),this.resolve=r(o),this.reject=r(t)}module.exports.f=function(r){return new e(r)};
},{"./_a-function":"gm2m"}],"Ae06":[function(require,module,exports) {
module.exports=function(e){try{return{e:!1,v:e()}}catch(r){return{e:!0,v:r}}};
},{}],"iPw5":[function(require,module,exports) {

var e=require("./_global"),r=e.navigator;module.exports=r&&r.userAgent||"";
},{"./_global":"j4Jx"}],"VBDs":[function(require,module,exports) {
var r=require("./_an-object"),e=require("./_is-object"),i=require("./_new-promise-capability");module.exports=function(o,t){if(r(o),e(t)&&t.constructor===o)return t;var u=i.f(o);return(0,u.resolve)(t),u.promise};
},{"./_an-object":"uLTR","./_is-object":"mW2H","./_new-promise-capability":"bhVM"}],"lAdu":[function(require,module,exports) {
var r=require("./_redefine");module.exports=function(e,n,i){for(var o in n)r(e,o,n[o],i);return e};
},{"./_redefine":"Yc4t"}],"DdnC":[function(require,module,exports) {


"use strict";var e,r,t,i,n=require("./_library"),o=require("./_global"),c=require("./_ctx"),s=require("./_classof"),u=require("./_export"),a=require("./_is-object"),_=require("./_a-function"),h=require("./_an-instance"),f=require("./_for-of"),l=require("./_species-constructor"),v=require("./_task").set,d=require("./_microtask")(),p=require("./_new-promise-capability"),m=require("./_perform"),q=require("./_user-agent"),y=require("./_promise-resolve"),j="Promise",w=o.TypeError,g=o.process,x=g&&g.versions,b=x&&x.v8||"",k=o[j],P="process"==s(g),F=function(){},S=r=p.f,E=!!function(){try{var e=k.resolve(1),r=(e.constructor={})[require("./_wks")("species")]=function(e){e(F,F)};return(P||"function"==typeof PromiseRejectionEvent)&&e.then(F)instanceof r&&0!==b.indexOf("6.6")&&-1===q.indexOf("Chrome/66")}catch(t){}}(),O=function(e){var r;return!(!a(e)||"function"!=typeof(r=e.then))&&r},R=function(e,r){if(!e._n){e._n=!0;var t=e._c;d(function(){for(var i=e._v,n=1==e._s,o=0,c=function(r){var t,o,c,s=n?r.ok:r.fail,u=r.resolve,a=r.reject,_=r.domain;try{s?(n||(2==e._h&&H(e),e._h=1),!0===s?t=i:(_&&_.enter(),t=s(i),_&&(_.exit(),c=!0)),t===r.promise?a(w("Promise-chain cycle")):(o=O(t))?o.call(t,u,a):u(t)):a(i)}catch(h){_&&!c&&_.exit(),a(h)}};t.length>o;)c(t[o++]);e._c=[],e._n=!1,r&&!e._h&&C(e)})}},C=function(e){v.call(o,function(){var r,t,i,n=e._v,c=G(e);if(c&&(r=m(function(){P?g.emit("unhandledRejection",n,e):(t=o.onunhandledrejection)?t({promise:e,reason:n}):(i=o.console)&&i.error&&i.error("Unhandled promise rejection",n)}),e._h=P||G(e)?2:1),e._a=void 0,c&&r.e)throw r.v})},G=function(e){return 1!==e._h&&0===(e._a||e._c).length},H=function(e){v.call(o,function(){var r;P?g.emit("rejectionHandled",e):(r=o.onrejectionhandled)&&r({promise:e,reason:e._v})})},T=function(e){var r=this;r._d||(r._d=!0,(r=r._w||r)._v=e,r._s=2,r._a||(r._a=r._c.slice()),R(r,!0))},U=function(e){var r,t=this;if(!t._d){t._d=!0,t=t._w||t;try{if(t===e)throw w("Promise can't be resolved itself");(r=O(e))?d(function(){var i={_w:t,_d:!1};try{r.call(e,c(U,i,1),c(T,i,1))}catch(n){T.call(i,n)}}):(t._v=e,t._s=1,R(t,!1))}catch(i){T.call({_w:t,_d:!1},i)}}};E||(k=function(r){h(this,k,j,"_h"),_(r),e.call(this);try{r(c(U,this,1),c(T,this,1))}catch(t){T.call(this,t)}},(e=function(e){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=require("./_redefine-all")(k.prototype,{then:function(e,r){var t=S(l(this,k));return t.ok="function"!=typeof e||e,t.fail="function"==typeof r&&r,t.domain=P?g.domain:void 0,this._c.push(t),this._a&&this._a.push(t),this._s&&R(this,!1),t.promise},catch:function(e){return this.then(void 0,e)}}),t=function(){var r=new e;this.promise=r,this.resolve=c(U,r,1),this.reject=c(T,r,1)},p.f=S=function(e){return e===k||e===i?new t(e):r(e)}),u(u.G+u.W+u.F*!E,{Promise:k}),require("./_set-to-string-tag")(k,j),require("./_set-species")(j),i=require("./_core")[j],u(u.S+u.F*!E,j,{reject:function(e){var r=S(this);return(0,r.reject)(e),r.promise}}),u(u.S+u.F*(n||!E),j,{resolve:function(e){return y(n&&this===i?k:this,e)}}),u(u.S+u.F*!(E&&require("./_iter-detect")(function(e){k.all(e).catch(F)})),j,{all:function(e){var r=this,t=S(r),i=t.resolve,n=t.reject,o=m(function(){var t=[],o=0,c=1;f(e,!1,function(e){var s=o++,u=!1;t.push(void 0),c++,r.resolve(e).then(function(e){u||(u=!0,t[s]=e,--c||i(t))},n)}),--c||i(t)});return o.e&&n(o.v),t.promise},race:function(e){var r=this,t=S(r),i=t.reject,n=m(function(){f(e,!1,function(e){r.resolve(e).then(t.resolve,i)})});return n.e&&i(n.v),t.promise}});
},{"./_library":"FVFy","./_global":"j4Jx","./_ctx":"plzG","./_classof":"pXWj","./_export":"YaXs","./_is-object":"mW2H","./_a-function":"gm2m","./_an-instance":"Ii5e","./_for-of":"Xoby","./_species-constructor":"YN2R","./_task":"A8zO","./_microtask":"CX2A","./_new-promise-capability":"bhVM","./_perform":"Ae06","./_user-agent":"iPw5","./_promise-resolve":"VBDs","./_wks":"rGSk","./_redefine-all":"lAdu","./_set-to-string-tag":"q1Ab","./_set-species":"fefD","./_core":"RosZ","./_iter-detect":"jnB3"}],"tgHL":[function(require,module,exports) {
var r=require("./_is-object");module.exports=function(e,i){if(!r(e)||e._t!==i)throw TypeError("Incompatible receiver, "+i+" required!");return e};
},{"./_is-object":"mW2H"}],"y3Jj":[function(require,module,exports) {
"use strict";var e=require("./_object-dp").f,r=require("./_object-create"),t=require("./_redefine-all"),i=require("./_ctx"),n=require("./_an-instance"),_=require("./_for-of"),o=require("./_iter-define"),u=require("./_iter-step"),f=require("./_set-species"),s=require("./_descriptors"),l=require("./_meta").fastKey,c=require("./_validate-collection"),v=s?"_s":"size",a=function(e,r){var t,i=l(r);if("F"!==i)return e._i[i];for(t=e._f;t;t=t.n)if(t.k==r)return t};module.exports={getConstructor:function(o,u,f,l){var h=o(function(e,t){n(e,h,u,"_i"),e._t=u,e._i=r(null),e._f=void 0,e._l=void 0,e[v]=0,null!=t&&_(t,f,e[l],e)});return t(h.prototype,{clear:function(){for(var e=c(this,u),r=e._i,t=e._f;t;t=t.n)t.r=!0,t.p&&(t.p=t.p.n=void 0),delete r[t.i];e._f=e._l=void 0,e[v]=0},delete:function(e){var r=c(this,u),t=a(r,e);if(t){var i=t.n,n=t.p;delete r._i[t.i],t.r=!0,n&&(n.n=i),i&&(i.p=n),r._f==t&&(r._f=i),r._l==t&&(r._l=n),r[v]--}return!!t},forEach:function(e){c(this,u);for(var r,t=i(e,arguments.length>1?arguments[1]:void 0,3);r=r?r.n:this._f;)for(t(r.v,r.k,this);r&&r.r;)r=r.p},has:function(e){return!!a(c(this,u),e)}}),s&&e(h.prototype,"size",{get:function(){return c(this,u)[v]}}),h},def:function(e,r,t){var i,n,_=a(e,r);return _?_.v=t:(e._l=_={i:n=l(r,!0),k:r,v:t,p:i=e._l,n:void 0,r:!1},e._f||(e._f=_),i&&(i.n=_),e[v]++,"F"!==n&&(e._i[n]=_)),e},getEntry:a,setStrong:function(e,r,t){o(e,r,function(e,t){this._t=c(e,r),this._k=t,this._l=void 0},function(){for(var e=this._k,r=this._l;r&&r.r;)r=r.p;return this._t&&(this._l=r=r?r.n:this._t._f)?u(0,"keys"==e?r.k:"values"==e?r.v:[r.k,r.v]):(this._t=void 0,u(1))},t?"entries":"values",!t,!0),f(r)}};
},{"./_object-dp":"ZITN","./_object-create":"y4dJ","./_redefine-all":"lAdu","./_ctx":"plzG","./_an-instance":"Ii5e","./_for-of":"Xoby","./_iter-define":"opYb","./_iter-step":"NzDr","./_set-species":"fefD","./_descriptors":"bI9l","./_meta":"UuZk","./_validate-collection":"tgHL"}],"oN0M":[function(require,module,exports) {

"use strict";var e=require("./_global"),r=require("./_export"),t=require("./_redefine"),n=require("./_redefine-all"),i=require("./_meta"),u=require("./_for-of"),o=require("./_an-instance"),c=require("./_is-object"),a=require("./_fails"),s=require("./_iter-detect"),l=require("./_set-to-string-tag"),f=require("./_inherit-if-required");module.exports=function(d,h,q,_,p,g){var v=e[d],w=v,y=p?"set":"add",x=w&&w.prototype,E={},b=function(e){var r=x[e];t(x,e,"delete"==e?function(e){return!(g&&!c(e))&&r.call(this,0===e?0:e)}:"has"==e?function(e){return!(g&&!c(e))&&r.call(this,0===e?0:e)}:"get"==e?function(e){return g&&!c(e)?void 0:r.call(this,0===e?0:e)}:"add"==e?function(e){return r.call(this,0===e?0:e),this}:function(e,t){return r.call(this,0===e?0:e,t),this})};if("function"==typeof w&&(g||x.forEach&&!a(function(){(new w).entries().next()}))){var m=new w,j=m[y](g?{}:-0,1)!=m,C=a(function(){m.has(1)}),D=s(function(e){new w(e)}),F=!g&&a(function(){for(var e=new w,r=5;r--;)e[y](r,r);return!e.has(-0)});D||((w=h(function(e,r){o(e,w,d);var t=f(new v,e,w);return null!=r&&u(r,p,t[y],t),t})).prototype=x,x.constructor=w),(C||F)&&(b("delete"),b("has"),p&&b("get")),(F||j)&&b(y),g&&x.clear&&delete x.clear}else w=_.getConstructor(h,d,p,y),n(w.prototype,q),i.NEED=!0;return l(w,d),E[d]=w,r(r.G+r.W+r.F*(w!=v),E),g||_.setStrong(w,d,p),w};
},{"./_global":"j4Jx","./_export":"YaXs","./_redefine":"Yc4t","./_redefine-all":"lAdu","./_meta":"UuZk","./_for-of":"Xoby","./_an-instance":"Ii5e","./_is-object":"mW2H","./_fails":"Shu3","./_iter-detect":"jnB3","./_set-to-string-tag":"q1Ab","./_inherit-if-required":"sk8w"}],"s6bA":[function(require,module,exports) {
"use strict";var t=require("./_collection-strong"),e=require("./_validate-collection"),r="Map";module.exports=require("./_collection")(r,function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},{get:function(n){var i=t.getEntry(e(this,r),n);return i&&i.v},set:function(n,i){return t.def(e(this,r),0===n?0:n,i)}},t,!0);
},{"./_collection-strong":"y3Jj","./_validate-collection":"tgHL","./_collection":"oN0M"}],"OGSJ":[function(require,module,exports) {
"use strict";var e=require("./_collection-strong"),t=require("./_validate-collection"),r="Set";module.exports=require("./_collection")(r,function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}},{add:function(i){return e.def(t(this,r),i=0===i?0:i,i)}},e);
},{"./_collection-strong":"y3Jj","./_validate-collection":"tgHL","./_collection":"oN0M"}],"U4z1":[function(require,module,exports) {
"use strict";var e=require("./_redefine-all"),t=require("./_meta").getWeak,r=require("./_an-object"),i=require("./_is-object"),n=require("./_an-instance"),u=require("./_for-of"),o=require("./_array-methods"),s=require("./_has"),a=require("./_validate-collection"),c=o(5),f=o(6),_=0,h=function(e){return e._l||(e._l=new l)},l=function(){this.a=[]},d=function(e,t){return c(e.a,function(e){return e[0]===t})};l.prototype={get:function(e){var t=d(this,e);if(t)return t[1]},has:function(e){return!!d(this,e)},set:function(e,t){var r=d(this,e);r?r[1]=t:this.a.push([e,t])},delete:function(e){var t=f(this.a,function(t){return t[0]===e});return~t&&this.a.splice(t,1),!!~t}},module.exports={getConstructor:function(r,o,c,f){var l=r(function(e,t){n(e,l,o,"_i"),e._t=o,e._i=_++,e._l=void 0,null!=t&&u(t,c,e[f],e)});return e(l.prototype,{delete:function(e){if(!i(e))return!1;var r=t(e);return!0===r?h(a(this,o)).delete(e):r&&s(r,this._i)&&delete r[this._i]},has:function(e){if(!i(e))return!1;var r=t(e);return!0===r?h(a(this,o)).has(e):r&&s(r,this._i)}}),l},def:function(e,i,n){var u=t(r(i),!0);return!0===u?h(e).set(i,n):u[e._i]=n,e},ufstore:h};
},{"./_redefine-all":"lAdu","./_meta":"UuZk","./_an-object":"uLTR","./_is-object":"mW2H","./_an-instance":"Ii5e","./_for-of":"Xoby","./_array-methods":"Jr2W","./_has":"UB6D","./_validate-collection":"tgHL"}],"oKOm":[function(require,module,exports) {

"use strict";var e,t=require("./_global"),r=require("./_array-methods")(0),i=require("./_redefine"),n=require("./_meta"),o=require("./_object-assign"),u=require("./_collection-weak"),c=require("./_is-object"),s=require("./_validate-collection"),a=require("./_validate-collection"),l=!t.ActiveXObject&&"ActiveXObject"in t,f="WeakMap",_=n.getWeak,h=Object.isExtensible,q=u.ufstore,v=function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}},d={get:function(e){if(c(e)){var t=_(e);return!0===t?q(s(this,f)).get(e):t?t[this._i]:void 0}},set:function(e,t){return u.def(s(this,f),e,t)}},g=module.exports=require("./_collection")(f,v,d,u,!0,!0);a&&l&&(o((e=u.getConstructor(v,f)).prototype,d),n.NEED=!0,r(["delete","has","get","set"],function(t){var r=g.prototype,n=r[t];i(r,t,function(r,i){if(c(r)&&!h(r)){this._f||(this._f=new e);var o=this._f[t](r,i);return"set"==t?this:o}return n.call(this,r,i)})}));
},{"./_global":"j4Jx","./_array-methods":"Jr2W","./_redefine":"Yc4t","./_meta":"UuZk","./_object-assign":"fWzV","./_collection-weak":"U4z1","./_is-object":"mW2H","./_validate-collection":"tgHL","./_collection":"oN0M"}],"MjNY":[function(require,module,exports) {
"use strict";var e=require("./_collection-weak"),t=require("./_validate-collection"),i="WeakSet";require("./_collection")(i,function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}},{add:function(r){return e.def(t(this,i),r,!0)}},e,!1,!0);
},{"./_collection-weak":"U4z1","./_validate-collection":"tgHL","./_collection":"oN0M"}],"hhOE":[function(require,module,exports) {

for(var r,a=require("./_global"),t=require("./_hide"),e=require("./_uid"),y=e("typed_array"),i=e("view"),A=!(!a.ArrayBuffer||!a.DataView),o=A,p=0,l=9,n="Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array".split(",");p<l;)(r=a[n[p++]])?(t(r.prototype,y,!0),t(r.prototype,i,!0)):o=!1;module.exports={ABV:A,CONSTR:o,TYPED:y,VIEW:i};
},{"./_global":"j4Jx","./_hide":"xf1j","./_uid":"ADad"}],"w2Zo":[function(require,module,exports) {
var r=require("./_to-integer"),e=require("./_to-length");module.exports=function(t){if(void 0===t)return 0;var n=r(t),o=e(n);if(n!==o)throw RangeError("Wrong length!");return o};
},{"./_to-integer":"btBV","./_to-length":"ATHw"}],"QED9":[function(require,module,exports) {

"use strict";var t=require("./_global"),n=require("./_descriptors"),r=require("./_library"),e=require("./_typed"),i=require("./_hide"),o=require("./_redefine-all"),u=require("./_fails"),f=require("./_an-instance"),s=require("./_to-integer"),c=require("./_to-length"),a=require("./_to-index"),h=require("./_object-gopn").f,l=require("./_object-dp").f,g=require("./_array-fill"),_=require("./_set-to-string-tag"),q="ArrayBuffer",v="DataView",w="prototype",I="Wrong length!",b="Wrong index!",y=t[q],p=t[v],d=t.Math,U=t.RangeError,N=t.Infinity,x=y,A=d.abs,F=d.pow,W=d.floor,V=d.log,j=d.LN2,B="buffer",E="byteLength",L="byteOffset",m=n?"_b":B,D=n?"_l":E,M=n?"_o":L;function O(t,n,r){var e,i,o,u=new Array(r),f=8*r-n-1,s=(1<<f)-1,c=s>>1,a=23===n?F(2,-24)-F(2,-77):0,h=0,l=t<0||0===t&&1/t<0?1:0;for((t=A(t))!=t||t===N?(i=t!=t?1:0,e=s):(e=W(V(t)/j),t*(o=F(2,-e))<1&&(e--,o*=2),(t+=e+c>=1?a/o:a*F(2,1-c))*o>=2&&(e++,o/=2),e+c>=s?(i=0,e=s):e+c>=1?(i=(t*o-1)*F(2,n),e+=c):(i=t*F(2,c-1)*F(2,n),e=0));n>=8;u[h++]=255&i,i/=256,n-=8);for(e=e<<n|i,f+=n;f>0;u[h++]=255&e,e/=256,f-=8);return u[--h]|=128*l,u}function R(t,n,r){var e,i=8*r-n-1,o=(1<<i)-1,u=o>>1,f=i-7,s=r-1,c=t[s--],a=127&c;for(c>>=7;f>0;a=256*a+t[s],s--,f-=8);for(e=a&(1<<-f)-1,a>>=-f,f+=n;f>0;e=256*e+t[s],s--,f-=8);if(0===a)a=1-u;else{if(a===o)return e?NaN:c?-N:N;e+=F(2,n),a-=u}return(c?-1:1)*e*F(2,a-n)}function k(t){return t[3]<<24|t[2]<<16|t[1]<<8|t[0]}function z(t){return[255&t]}function C(t){return[255&t,t>>8&255]}function G(t){return[255&t,t>>8&255,t>>16&255,t>>24&255]}function H(t){return O(t,52,8)}function J(t){return O(t,23,4)}function K(t,n,r){l(t[w],n,{get:function(){return this[r]}})}function P(t,n,r,e){var i=a(+r);if(i+n>t[D])throw U(b);var o=t[m]._b,u=i+t[M],f=o.slice(u,u+n);return e?f:f.reverse()}function Q(t,n,r,e,i,o){var u=a(+r);if(u+n>t[D])throw U(b);for(var f=t[m]._b,s=u+t[M],c=e(+i),h=0;h<n;h++)f[s+h]=c[o?h:n-h-1]}if(e.ABV){if(!u(function(){y(1)})||!u(function(){new y(-1)})||u(function(){return new y,new y(1.5),new y(NaN),y.name!=q})){for(var S,T=(y=function(t){return f(this,y),new x(a(t))})[w]=x[w],X=h(x),Y=0;X.length>Y;)(S=X[Y++])in y||i(y,S,x[S]);r||(T.constructor=y)}var Z=new p(new y(2)),$=p[w].setInt8;Z.setInt8(0,2147483648),Z.setInt8(1,2147483649),!Z.getInt8(0)&&Z.getInt8(1)||o(p[w],{setInt8:function(t,n){$.call(this,t,n<<24>>24)},setUint8:function(t,n){$.call(this,t,n<<24>>24)}},!0)}else y=function(t){f(this,y,q);var n=a(t);this._b=g.call(new Array(n),0),this[D]=n},p=function(t,n,r){f(this,p,v),f(t,y,v);var e=t[D],i=s(n);if(i<0||i>e)throw U("Wrong offset!");if(i+(r=void 0===r?e-i:c(r))>e)throw U(I);this[m]=t,this[M]=i,this[D]=r},n&&(K(y,E,"_l"),K(p,B,"_b"),K(p,E,"_l"),K(p,L,"_o")),o(p[w],{getInt8:function(t){return P(this,1,t)[0]<<24>>24},getUint8:function(t){return P(this,1,t)[0]},getInt16:function(t){var n=P(this,2,t,arguments[1]);return(n[1]<<8|n[0])<<16>>16},getUint16:function(t){var n=P(this,2,t,arguments[1]);return n[1]<<8|n[0]},getInt32:function(t){return k(P(this,4,t,arguments[1]))},getUint32:function(t){return k(P(this,4,t,arguments[1]))>>>0},getFloat32:function(t){return R(P(this,4,t,arguments[1]),23,4)},getFloat64:function(t){return R(P(this,8,t,arguments[1]),52,8)},setInt8:function(t,n){Q(this,1,t,z,n)},setUint8:function(t,n){Q(this,1,t,z,n)},setInt16:function(t,n){Q(this,2,t,C,n,arguments[2])},setUint16:function(t,n){Q(this,2,t,C,n,arguments[2])},setInt32:function(t,n){Q(this,4,t,G,n,arguments[2])},setUint32:function(t,n){Q(this,4,t,G,n,arguments[2])},setFloat32:function(t,n){Q(this,4,t,J,n,arguments[2])},setFloat64:function(t,n){Q(this,8,t,H,n,arguments[2])}});_(y,q),_(p,v),i(p[w],e.VIEW,!0),exports[q]=y,exports[v]=p;
},{"./_global":"j4Jx","./_descriptors":"bI9l","./_library":"FVFy","./_typed":"hhOE","./_hide":"xf1j","./_redefine-all":"lAdu","./_fails":"Shu3","./_an-instance":"Ii5e","./_to-integer":"btBV","./_to-length":"ATHw","./_to-index":"w2Zo","./_object-gopn":"rCFh","./_object-dp":"ZITN","./_array-fill":"abjP","./_set-to-string-tag":"q1Ab"}],"eolB":[function(require,module,exports) {
"use strict";var e=require("./_export"),r=require("./_typed"),i=require("./_typed-buffer"),t=require("./_an-object"),u=require("./_to-absolute-index"),n=require("./_to-length"),s=require("./_is-object"),o=require("./_global").ArrayBuffer,f=require("./_species-constructor"),c=i.ArrayBuffer,a=i.DataView,q=r.ABV&&o.isView,_=c.prototype.slice,l=r.VIEW,y="ArrayBuffer";e(e.G+e.W+e.F*(o!==c),{ArrayBuffer:c}),e(e.S+e.F*!r.CONSTR,y,{isView:function(e){return q&&q(e)||s(e)&&l in e}}),e(e.P+e.U+e.F*require("./_fails")(function(){return!new c(2).slice(1,void 0).byteLength}),y,{slice:function(e,r){if(void 0!==_&&void 0===r)return _.call(t(this),e);for(var i=t(this).byteLength,s=u(e,i),o=u(void 0===r?i:r,i),q=new(f(this,c))(n(o-s)),l=new a(this),y=new a(q),b=0;s<o;)y.setUint8(b++,l.getUint8(s++));return q}}),require("./_set-species")(y);
},{"./_export":"YaXs","./_typed":"hhOE","./_typed-buffer":"QED9","./_an-object":"uLTR","./_to-absolute-index":"p8eF","./_to-length":"ATHw","./_is-object":"mW2H","./_global":"j4Jx","./_species-constructor":"YN2R","./_fails":"Shu3","./_set-species":"fefD"}],"KkRA":[function(require,module,exports) {
var e=require("./_export");e(e.G+e.W+e.F*!require("./_typed").ABV,{DataView:require("./_typed-buffer").DataView});
},{"./_export":"YaXs","./_typed":"hhOE","./_typed-buffer":"QED9"}],"nm4D":[function(require,module,exports) {
var global = arguments[3];
var e=arguments[3];if(require("./_descriptors")){var r=require("./_library"),t=(e=require("./_global"),require("./_fails")),n=require("./_export"),i=require("./_typed"),o=require("./_typed-buffer"),u=require("./_ctx"),c=require("./_an-instance"),f=require("./_property-desc"),a=require("./_hide"),l=require("./_redefine-all"),s=require("./_to-integer"),h=require("./_to-length"),d=require("./_to-index"),g=require("./_to-absolute-index"),_=require("./_to-primitive"),v=require("./_has"),p=require("./_classof"),y=require("./_is-object"),q=require("./_to-object"),w=require("./_is-array-iter"),b=require("./_object-create"),S=require("./_object-gpo"),E=require("./_object-gopn").f,m=require("./core.get-iterator-method"),x=require("./_uid"),L=require("./_wks"),P=require("./_array-methods"),j=require("./_array-includes"),T=require("./_species-constructor"),F=require("./es6.array.iterator"),O=require("./_iterators"),A=require("./_iter-detect"),R=require("./_set-species"),B=require("./_array-fill"),I=require("./_array-copy-within"),M=require("./_object-dp"),W=require("./_object-gopd"),N=M.f,Y=W.f,k=e.RangeError,D=e.TypeError,V=e.Uint8Array,C="ArrayBuffer",U="Shared"+C,G="BYTES_PER_ELEMENT",z="prototype",H=Array[z],J=o.ArrayBuffer,K=o.DataView,Q=P(0),X=P(2),Z=P(3),$=P(4),ee=P(5),re=P(6),te=j(!0),ne=j(!1),ie=F.values,oe=F.keys,ue=F.entries,ce=H.lastIndexOf,fe=H.reduce,ae=H.reduceRight,le=H.join,se=H.sort,he=H.slice,de=H.toString,ge=H.toLocaleString,_e=L("iterator"),ve=L("toStringTag"),pe=x("typed_constructor"),ye=x("def_constructor"),qe=i.CONSTR,we=i.TYPED,be=i.VIEW,Se="Wrong length!",Ee=P(1,function(e,r){return je(T(e,e[ye]),r)}),me=t(function(){return 1===new V(new Uint16Array([1]).buffer)[0]}),xe=!!V&&!!V[z].set&&t(function(){new V(1).set({})}),Le=function(e,r){var t=s(e);if(t<0||t%r)throw k("Wrong offset!");return t},Pe=function(e){if(y(e)&&we in e)return e;throw D(e+" is not a typed array!")},je=function(e,r){if(!(y(e)&&pe in e))throw D("It is not a typed array constructor!");return new e(r)},Te=function(e,r){return Fe(T(e,e[ye]),r)},Fe=function(e,r){for(var t=0,n=r.length,i=je(e,n);n>t;)i[t]=r[t++];return i},Oe=function(e,r,t){N(e,r,{get:function(){return this._d[t]}})},Ae=function(e){var r,t,n,i,o,c,f=q(e),a=arguments.length,l=a>1?arguments[1]:void 0,s=void 0!==l,d=m(f);if(null!=d&&!w(d)){for(c=d.call(f),n=[],r=0;!(o=c.next()).done;r++)n.push(o.value);f=n}for(s&&a>2&&(l=u(l,arguments[2],2)),r=0,t=h(f.length),i=je(this,t);t>r;r++)i[r]=s?l(f[r],r):f[r];return i},Re=function(){for(var e=0,r=arguments.length,t=je(this,r);r>e;)t[e]=arguments[e++];return t},Be=!!V&&t(function(){ge.call(new V(1))}),Ie=function(){return ge.apply(Be?he.call(Pe(this)):Pe(this),arguments)},Me={copyWithin:function(e,r){return I.call(Pe(this),e,r,arguments.length>2?arguments[2]:void 0)},every:function(e){return $(Pe(this),e,arguments.length>1?arguments[1]:void 0)},fill:function(e){return B.apply(Pe(this),arguments)},filter:function(e){return Te(this,X(Pe(this),e,arguments.length>1?arguments[1]:void 0))},find:function(e){return ee(Pe(this),e,arguments.length>1?arguments[1]:void 0)},findIndex:function(e){return re(Pe(this),e,arguments.length>1?arguments[1]:void 0)},forEach:function(e){Q(Pe(this),e,arguments.length>1?arguments[1]:void 0)},indexOf:function(e){return ne(Pe(this),e,arguments.length>1?arguments[1]:void 0)},includes:function(e){return te(Pe(this),e,arguments.length>1?arguments[1]:void 0)},join:function(e){return le.apply(Pe(this),arguments)},lastIndexOf:function(e){return ce.apply(Pe(this),arguments)},map:function(e){return Ee(Pe(this),e,arguments.length>1?arguments[1]:void 0)},reduce:function(e){return fe.apply(Pe(this),arguments)},reduceRight:function(e){return ae.apply(Pe(this),arguments)},reverse:function(){for(var e,r=Pe(this).length,t=Math.floor(r/2),n=0;n<t;)e=this[n],this[n++]=this[--r],this[r]=e;return this},some:function(e){return Z(Pe(this),e,arguments.length>1?arguments[1]:void 0)},sort:function(e){return se.call(Pe(this),e)},subarray:function(e,r){var t=Pe(this),n=t.length,i=g(e,n);return new(T(t,t[ye]))(t.buffer,t.byteOffset+i*t.BYTES_PER_ELEMENT,h((void 0===r?n:g(r,n))-i))}},We=function(e,r){return Te(this,he.call(Pe(this),e,r))},Ne=function(e){Pe(this);var r=Le(arguments[1],1),t=this.length,n=q(e),i=h(n.length),o=0;if(i+r>t)throw k(Se);for(;o<i;)this[r+o]=n[o++]},Ye={entries:function(){return ue.call(Pe(this))},keys:function(){return oe.call(Pe(this))},values:function(){return ie.call(Pe(this))}},ke=function(e,r){return y(e)&&e[we]&&"symbol"!=typeof r&&r in e&&String(+r)==String(r)},De=function(e,r){return ke(e,r=_(r,!0))?f(2,e[r]):Y(e,r)},Ve=function(e,r,t){return!(ke(e,r=_(r,!0))&&y(t)&&v(t,"value"))||v(t,"get")||v(t,"set")||t.configurable||v(t,"writable")&&!t.writable||v(t,"enumerable")&&!t.enumerable?N(e,r,t):(e[r]=t.value,e)};qe||(W.f=De,M.f=Ve),n(n.S+n.F*!qe,"Object",{getOwnPropertyDescriptor:De,defineProperty:Ve}),t(function(){de.call({})})&&(de=ge=function(){return le.call(this)});var Ce=l({},Me);l(Ce,Ye),a(Ce,_e,Ye.values),l(Ce,{slice:We,set:Ne,constructor:function(){},toString:de,toLocaleString:Ie}),Oe(Ce,"buffer","b"),Oe(Ce,"byteOffset","o"),Oe(Ce,"byteLength","l"),Oe(Ce,"length","e"),N(Ce,ve,{get:function(){return this[we]}}),module.exports=function(o,u,f,l){var s=o+((l=!!l)?"Clamped":"")+"Array",g="get"+o,_="set"+o,v=e[s],q=v||{},w=v&&S(v),m=!v||!i.ABV,x={},L=v&&v[z],P=function(e,r){N(e,r,{get:function(){return function(e,r){var t=e._d;return t.v[g](r*u+t.o,me)}(this,r)},set:function(e){return function(e,r,t){var n=e._d;l&&(t=(t=Math.round(t))<0?0:t>255?255:255&t),n.v[_](r*u+n.o,t,me)}(this,r,e)},enumerable:!0})};m?(v=f(function(e,r,t,n){c(e,v,s,"_d");var i,o,f,l,g=0,_=0;if(y(r)){if(!(r instanceof J||(l=p(r))==C||l==U))return we in r?Fe(v,r):Ae.call(v,r);i=r,_=Le(t,u);var q=r.byteLength;if(void 0===n){if(q%u)throw k(Se);if((o=q-_)<0)throw k(Se)}else if((o=h(n)*u)+_>q)throw k(Se);f=o/u}else f=d(r),i=new J(o=f*u);for(a(e,"_d",{b:i,o:_,l:o,e:f,v:new K(i)});g<f;)P(e,g++)}),L=v[z]=b(Ce),a(L,"constructor",v)):t(function(){v(1)})&&t(function(){new v(-1)})&&A(function(e){new v,new v(null),new v(1.5),new v(e)},!0)||(v=f(function(e,r,t,n){var i;return c(e,v,s),y(r)?r instanceof J||(i=p(r))==C||i==U?void 0!==n?new q(r,Le(t,u),n):void 0!==t?new q(r,Le(t,u)):new q(r):we in r?Fe(v,r):Ae.call(v,r):new q(d(r))}),Q(w!==Function.prototype?E(q).concat(E(w)):E(q),function(e){e in v||a(v,e,q[e])}),v[z]=L,r||(L.constructor=v));var j=L[_e],T=!!j&&("values"==j.name||null==j.name),F=Ye.values;a(v,pe,!0),a(L,we,s),a(L,be,!0),a(L,ye,v),(l?new v(1)[ve]==s:ve in L)||N(L,ve,{get:function(){return s}}),x[s]=v,n(n.G+n.W+n.F*(v!=q),x),n(n.S,s,{BYTES_PER_ELEMENT:u}),n(n.S+n.F*t(function(){q.of.call(v,1)}),s,{from:Ae,of:Re}),G in L||a(L,G,u),n(n.P,s,Me),R(s),n(n.P+n.F*xe,s,{set:Ne}),n(n.P+n.F*!T,s,Ye),r||L.toString==de||(L.toString=de),n(n.P+n.F*t(function(){new v(1).slice()}),s,{slice:We}),n(n.P+n.F*(t(function(){return[1,2].toLocaleString()!=new v([1,2]).toLocaleString()})||!t(function(){L.toLocaleString.call([1,2])})),s,{toLocaleString:Ie}),O[s]=T?j:F,r||T||a(L,_e,F)}}else module.exports=function(){};
},{"./_descriptors":"bI9l","./_library":"FVFy","./_global":"j4Jx","./_fails":"Shu3","./_export":"YaXs","./_typed":"hhOE","./_typed-buffer":"QED9","./_ctx":"plzG","./_an-instance":"Ii5e","./_property-desc":"EVgU","./_hide":"xf1j","./_redefine-all":"lAdu","./_to-integer":"btBV","./_to-length":"ATHw","./_to-index":"w2Zo","./_to-absolute-index":"p8eF","./_to-primitive":"ZeWn","./_has":"UB6D","./_classof":"pXWj","./_is-object":"mW2H","./_to-object":"D3I6","./_is-array-iter":"Yabq","./_object-create":"y4dJ","./_object-gpo":"hC8b","./_object-gopn":"rCFh","./core.get-iterator-method":"jQFb","./_uid":"ADad","./_wks":"rGSk","./_array-methods":"Jr2W","./_array-includes":"n4IE","./_species-constructor":"YN2R","./es6.array.iterator":"E6T8","./_iterators":"Oj8i","./_iter-detect":"jnB3","./_set-species":"fefD","./_array-fill":"abjP","./_array-copy-within":"F1bY","./_object-dp":"ZITN","./_object-gopd":"Uy7K"}],"a8QO":[function(require,module,exports) {
require("./_typed-array")("Int8",1,function(r){return function(n,t,e){return r(this,n,t,e)}});
},{"./_typed-array":"nm4D"}],"aXca":[function(require,module,exports) {
require("./_typed-array")("Uint8",1,function(r){return function(n,t,e){return r(this,n,t,e)}});
},{"./_typed-array":"nm4D"}],"xwBZ":[function(require,module,exports) {
require("./_typed-array")("Uint8",1,function(r){return function(n,t,e){return r(this,n,t,e)}},!0);
},{"./_typed-array":"nm4D"}],"xhzi":[function(require,module,exports) {
require("./_typed-array")("Int16",2,function(r){return function(n,t,e){return r(this,n,t,e)}});
},{"./_typed-array":"nm4D"}],"MviK":[function(require,module,exports) {
require("./_typed-array")("Uint16",2,function(r){return function(n,t,e){return r(this,n,t,e)}});
},{"./_typed-array":"nm4D"}],"xdPA":[function(require,module,exports) {
require("./_typed-array")("Int32",4,function(r){return function(n,t,e){return r(this,n,t,e)}});
},{"./_typed-array":"nm4D"}],"bXVT":[function(require,module,exports) {
require("./_typed-array")("Uint32",4,function(r){return function(n,t,e){return r(this,n,t,e)}});
},{"./_typed-array":"nm4D"}],"t4ap":[function(require,module,exports) {
require("./_typed-array")("Float32",4,function(r){return function(t,n,e){return r(this,t,n,e)}});
},{"./_typed-array":"nm4D"}],"Dtvl":[function(require,module,exports) {
require("./_typed-array")("Float64",8,function(r){return function(t,n,e){return r(this,t,n,e)}});
},{"./_typed-array":"nm4D"}],"z37P":[function(require,module,exports) {
var e=require("./_export"),r=require("./_a-function"),n=require("./_an-object"),i=(require("./_global").Reflect||{}).apply,u=Function.apply;e(e.S+e.F*!require("./_fails")(function(){i(function(){})}),"Reflect",{apply:function(e,a,l){var t=r(e),c=n(l);return i?i(t,a,c):u.call(t,a,c)}});
},{"./_export":"YaXs","./_a-function":"gm2m","./_an-object":"uLTR","./_global":"j4Jx","./_fails":"Shu3"}],"Mt9q":[function(require,module,exports) {
var e=require("./_export"),r=require("./_object-create"),n=require("./_a-function"),t=require("./_an-object"),u=require("./_is-object"),c=require("./_fails"),i=require("./_bind"),o=(require("./_global").Reflect||{}).construct,a=c(function(){function e(){}return!(o(function(){},[],e)instanceof e)}),l=!c(function(){o(function(){})});e(e.S+e.F*(a||l),"Reflect",{construct:function(e,c){n(e),t(c);var f=arguments.length<3?e:n(arguments[2]);if(l&&!a)return o(e,c,f);if(e==f){switch(c.length){case 0:return new e;case 1:return new e(c[0]);case 2:return new e(c[0],c[1]);case 3:return new e(c[0],c[1],c[2]);case 4:return new e(c[0],c[1],c[2],c[3])}var p=[null];return p.push.apply(p,c),new(i.apply(e,p))}var s=f.prototype,q=r(u(s)?s:Object.prototype),_=Function.apply.call(e,q,c);return u(_)?_:q}});
},{"./_export":"YaXs","./_object-create":"y4dJ","./_a-function":"gm2m","./_an-object":"uLTR","./_is-object":"mW2H","./_fails":"Shu3","./_bind":"QB5G","./_global":"j4Jx"}],"e3jG":[function(require,module,exports) {
var e=require("./_object-dp"),r=require("./_export"),t=require("./_an-object"),i=require("./_to-primitive");r(r.S+r.F*require("./_fails")(function(){Reflect.defineProperty(e.f({},1,{value:1}),1,{value:2})}),"Reflect",{defineProperty:function(r,u,f){t(r),u=i(u,!0),t(f);try{return e.f(r,u,f),!0}catch(n){return!1}}});
},{"./_object-dp":"ZITN","./_export":"YaXs","./_an-object":"uLTR","./_to-primitive":"ZeWn","./_fails":"Shu3"}],"eUF0":[function(require,module,exports) {
var e=require("./_export"),r=require("./_object-gopd").f,t=require("./_an-object");e(e.S,"Reflect",{deleteProperty:function(e,o){var u=r(t(e),o);return!(u&&!u.configurable)&&delete e[o]}});
},{"./_export":"YaXs","./_object-gopd":"Uy7K","./_an-object":"uLTR"}],"fR56":[function(require,module,exports) {
"use strict";var e=require("./_export"),t=require("./_an-object"),i=function(e){this._t=t(e),this._i=0;var i,r=this._k=[];for(i in e)r.push(i)};require("./_iter-create")(i,"Object",function(){var e,t=this._k;do{if(this._i>=t.length)return{value:void 0,done:!0}}while(!((e=t[this._i++])in this._t));return{value:e,done:!1}}),e(e.S,"Reflect",{enumerate:function(e){return new i(e)}});
},{"./_export":"YaXs","./_an-object":"uLTR","./_iter-create":"CLcG"}],"NZN5":[function(require,module,exports) {
var e=require("./_object-gopd"),r=require("./_object-gpo"),t=require("./_has"),i=require("./_export"),o=require("./_is-object"),u=require("./_an-object");function a(i,c){var v,g,l=arguments.length<3?i:arguments[2];return u(i)===l?i[c]:(v=e.f(i,c))?t(v,"value")?v.value:void 0!==v.get?v.get.call(l):void 0:o(g=r(i))?a(g,c,l):void 0}i(i.S,"Reflect",{get:a});
},{"./_object-gopd":"Uy7K","./_object-gpo":"hC8b","./_has":"UB6D","./_export":"YaXs","./_is-object":"mW2H","./_an-object":"uLTR"}],"GFSB":[function(require,module,exports) {
var e=require("./_object-gopd"),r=require("./_export"),t=require("./_an-object");r(r.S,"Reflect",{getOwnPropertyDescriptor:function(r,o){return e.f(t(r),o)}});
},{"./_object-gopd":"Uy7K","./_export":"YaXs","./_an-object":"uLTR"}],"i7wC":[function(require,module,exports) {
var e=require("./_export"),r=require("./_object-gpo"),t=require("./_an-object");e(e.S,"Reflect",{getPrototypeOf:function(e){return r(t(e))}});
},{"./_export":"YaXs","./_object-gpo":"hC8b","./_an-object":"uLTR"}],"jMO2":[function(require,module,exports) {
var e=require("./_export");e(e.S,"Reflect",{has:function(e,r){return r in e}});
},{"./_export":"YaXs"}],"bs0z":[function(require,module,exports) {
var e=require("./_export"),r=require("./_an-object"),t=Object.isExtensible;e(e.S,"Reflect",{isExtensible:function(e){return r(e),!t||t(e)}});
},{"./_export":"YaXs","./_an-object":"uLTR"}],"NHHN":[function(require,module,exports) {
var e=require("./_object-gopn"),r=require("./_object-gops"),o=require("./_an-object"),t=require("./_global").Reflect;module.exports=t&&t.ownKeys||function(t){var c=e.f(o(t)),n=r.f;return n?c.concat(n(t)):c};
},{"./_object-gopn":"rCFh","./_object-gops":"idNb","./_an-object":"uLTR","./_global":"j4Jx"}],"juoe":[function(require,module,exports) {
var e=require("./_export");e(e.S,"Reflect",{ownKeys:require("./_own-keys")});
},{"./_export":"YaXs","./_own-keys":"NHHN"}],"mqeN":[function(require,module,exports) {
var e=require("./_export"),r=require("./_an-object"),t=Object.preventExtensions;e(e.S,"Reflect",{preventExtensions:function(e){r(e);try{return t&&t(e),!0}catch(n){return!1}}});
},{"./_export":"YaXs","./_an-object":"uLTR"}],"shGQ":[function(require,module,exports) {
var e=require("./_object-dp"),r=require("./_object-gopd"),t=require("./_object-gpo"),i=require("./_has"),u=require("./_export"),f=require("./_property-desc"),o=require("./_an-object"),a=require("./_is-object");function c(u,l,n){var q,s,_=arguments.length<4?u:arguments[3],b=r.f(o(u),l);if(!b){if(a(s=t(u)))return c(s,l,n,_);b=f(0)}if(i(b,"value")){if(!1===b.writable||!a(_))return!1;if(q=r.f(_,l)){if(q.get||q.set||!1===q.writable)return!1;q.value=n,e.f(_,l,q)}else e.f(_,l,f(0,n));return!0}return void 0!==b.set&&(b.set.call(_,n),!0)}u(u.S,"Reflect",{set:c});
},{"./_object-dp":"ZITN","./_object-gopd":"Uy7K","./_object-gpo":"hC8b","./_has":"UB6D","./_export":"YaXs","./_property-desc":"EVgU","./_an-object":"uLTR","./_is-object":"mW2H"}],"aJuS":[function(require,module,exports) {
var e=require("./_export"),r=require("./_set-proto");r&&e(e.S,"Reflect",{setPrototypeOf:function(e,t){r.check(e,t);try{return r.set(e,t),!0}catch(c){return!1}}});
},{"./_export":"YaXs","./_set-proto":"dFE7"}],"ViGo":[function(require,module,exports) {
require("../modules/es6.symbol"),require("../modules/es6.object.create"),require("../modules/es6.object.define-property"),require("../modules/es6.object.define-properties"),require("../modules/es6.object.get-own-property-descriptor"),require("../modules/es6.object.get-prototype-of"),require("../modules/es6.object.keys"),require("../modules/es6.object.get-own-property-names"),require("../modules/es6.object.freeze"),require("../modules/es6.object.seal"),require("../modules/es6.object.prevent-extensions"),require("../modules/es6.object.is-frozen"),require("../modules/es6.object.is-sealed"),require("../modules/es6.object.is-extensible"),require("../modules/es6.object.assign"),require("../modules/es6.object.is"),require("../modules/es6.object.set-prototype-of"),require("../modules/es6.object.to-string"),require("../modules/es6.function.bind"),require("../modules/es6.function.name"),require("../modules/es6.function.has-instance"),require("../modules/es6.parse-int"),require("../modules/es6.parse-float"),require("../modules/es6.number.constructor"),require("../modules/es6.number.to-fixed"),require("../modules/es6.number.to-precision"),require("../modules/es6.number.epsilon"),require("../modules/es6.number.is-finite"),require("../modules/es6.number.is-integer"),require("../modules/es6.number.is-nan"),require("../modules/es6.number.is-safe-integer"),require("../modules/es6.number.max-safe-integer"),require("../modules/es6.number.min-safe-integer"),require("../modules/es6.number.parse-float"),require("../modules/es6.number.parse-int"),require("../modules/es6.math.acosh"),require("../modules/es6.math.asinh"),require("../modules/es6.math.atanh"),require("../modules/es6.math.cbrt"),require("../modules/es6.math.clz32"),require("../modules/es6.math.cosh"),require("../modules/es6.math.expm1"),require("../modules/es6.math.fround"),require("../modules/es6.math.hypot"),require("../modules/es6.math.imul"),require("../modules/es6.math.log10"),require("../modules/es6.math.log1p"),require("../modules/es6.math.log2"),require("../modules/es6.math.sign"),require("../modules/es6.math.sinh"),require("../modules/es6.math.tanh"),require("../modules/es6.math.trunc"),require("../modules/es6.string.from-code-point"),require("../modules/es6.string.raw"),require("../modules/es6.string.trim"),require("../modules/es6.string.iterator"),require("../modules/es6.string.code-point-at"),require("../modules/es6.string.ends-with"),require("../modules/es6.string.includes"),require("../modules/es6.string.repeat"),require("../modules/es6.string.starts-with"),require("../modules/es6.string.anchor"),require("../modules/es6.string.big"),require("../modules/es6.string.blink"),require("../modules/es6.string.bold"),require("../modules/es6.string.fixed"),require("../modules/es6.string.fontcolor"),require("../modules/es6.string.fontsize"),require("../modules/es6.string.italics"),require("../modules/es6.string.link"),require("../modules/es6.string.small"),require("../modules/es6.string.strike"),require("../modules/es6.string.sub"),require("../modules/es6.string.sup"),require("../modules/es6.date.now"),require("../modules/es6.date.to-json"),require("../modules/es6.date.to-iso-string"),require("../modules/es6.date.to-string"),require("../modules/es6.date.to-primitive"),require("../modules/es6.array.is-array"),require("../modules/es6.array.from"),require("../modules/es6.array.of"),require("../modules/es6.array.join"),require("../modules/es6.array.slice"),require("../modules/es6.array.sort"),require("../modules/es6.array.for-each"),require("../modules/es6.array.map"),require("../modules/es6.array.filter"),require("../modules/es6.array.some"),require("../modules/es6.array.every"),require("../modules/es6.array.reduce"),require("../modules/es6.array.reduce-right"),require("../modules/es6.array.index-of"),require("../modules/es6.array.last-index-of"),require("../modules/es6.array.copy-within"),require("../modules/es6.array.fill"),require("../modules/es6.array.find"),require("../modules/es6.array.find-index"),require("../modules/es6.array.species"),require("../modules/es6.array.iterator"),require("../modules/es6.regexp.constructor"),require("../modules/es6.regexp.exec"),require("../modules/es6.regexp.to-string"),require("../modules/es6.regexp.flags"),require("../modules/es6.regexp.match"),require("../modules/es6.regexp.replace"),require("../modules/es6.regexp.search"),require("../modules/es6.regexp.split"),require("../modules/es6.promise"),require("../modules/es6.map"),require("../modules/es6.set"),require("../modules/es6.weak-map"),require("../modules/es6.weak-set"),require("../modules/es6.typed.array-buffer"),require("../modules/es6.typed.data-view"),require("../modules/es6.typed.int8-array"),require("../modules/es6.typed.uint8-array"),require("../modules/es6.typed.uint8-clamped-array"),require("../modules/es6.typed.int16-array"),require("../modules/es6.typed.uint16-array"),require("../modules/es6.typed.int32-array"),require("../modules/es6.typed.uint32-array"),require("../modules/es6.typed.float32-array"),require("../modules/es6.typed.float64-array"),require("../modules/es6.reflect.apply"),require("../modules/es6.reflect.construct"),require("../modules/es6.reflect.define-property"),require("../modules/es6.reflect.delete-property"),require("../modules/es6.reflect.enumerate"),require("../modules/es6.reflect.get"),require("../modules/es6.reflect.get-own-property-descriptor"),require("../modules/es6.reflect.get-prototype-of"),require("../modules/es6.reflect.has"),require("../modules/es6.reflect.is-extensible"),require("../modules/es6.reflect.own-keys"),require("../modules/es6.reflect.prevent-extensions"),require("../modules/es6.reflect.set"),require("../modules/es6.reflect.set-prototype-of"),module.exports=require("../modules/_core");
},{"../modules/es6.symbol":"YaWr","../modules/es6.object.create":"gGDi","../modules/es6.object.define-property":"wfcz","../modules/es6.object.define-properties":"pp6B","../modules/es6.object.get-own-property-descriptor":"bTo2","../modules/es6.object.get-prototype-of":"wARU","../modules/es6.object.keys":"dSXf","../modules/es6.object.get-own-property-names":"T6YK","../modules/es6.object.freeze":"wdy7","../modules/es6.object.seal":"wMXR","../modules/es6.object.prevent-extensions":"wVUV","../modules/es6.object.is-frozen":"b2WQ","../modules/es6.object.is-sealed":"K2b3","../modules/es6.object.is-extensible":"JNLS","../modules/es6.object.assign":"AQKc","../modules/es6.object.is":"bj2x","../modules/es6.object.set-prototype-of":"E2hD","../modules/es6.object.to-string":"uPev","../modules/es6.function.bind":"dely","../modules/es6.function.name":"tl1g","../modules/es6.function.has-instance":"vc2W","../modules/es6.parse-int":"rf32","../modules/es6.parse-float":"hiB1","../modules/es6.number.constructor":"Lok9","../modules/es6.number.to-fixed":"MlUH","../modules/es6.number.to-precision":"GCZw","../modules/es6.number.epsilon":"dfxm","../modules/es6.number.is-finite":"dz6x","../modules/es6.number.is-integer":"nPa3","../modules/es6.number.is-nan":"t3F1","../modules/es6.number.is-safe-integer":"otaK","../modules/es6.number.max-safe-integer":"TE73","../modules/es6.number.min-safe-integer":"ZPBB","../modules/es6.number.parse-float":"Hhbf","../modules/es6.number.parse-int":"BQfN","../modules/es6.math.acosh":"Bd0w","../modules/es6.math.asinh":"GEcE","../modules/es6.math.atanh":"nxUm","../modules/es6.math.cbrt":"m54H","../modules/es6.math.clz32":"fuGL","../modules/es6.math.cosh":"bQul","../modules/es6.math.expm1":"MTsr","../modules/es6.math.fround":"ND0L","../modules/es6.math.hypot":"H4Yc","../modules/es6.math.imul":"RHqk","../modules/es6.math.log10":"aixQ","../modules/es6.math.log1p":"uiqK","../modules/es6.math.log2":"BOo1","../modules/es6.math.sign":"KyKz","../modules/es6.math.sinh":"vqVM","../modules/es6.math.tanh":"KFEC","../modules/es6.math.trunc":"MJrB","../modules/es6.string.from-code-point":"kuFf","../modules/es6.string.raw":"TnGS","../modules/es6.string.trim":"dEhP","../modules/es6.string.iterator":"MHBv","../modules/es6.string.code-point-at":"JflN","../modules/es6.string.ends-with":"XDkG","../modules/es6.string.includes":"IVi5","../modules/es6.string.repeat":"bKIJ","../modules/es6.string.starts-with":"OMxN","../modules/es6.string.anchor":"ZN03","../modules/es6.string.big":"FEfL","../modules/es6.string.blink":"ZlfJ","../modules/es6.string.bold":"kESa","../modules/es6.string.fixed":"Tsxc","../modules/es6.string.fontcolor":"f8sQ","../modules/es6.string.fontsize":"zkOV","../modules/es6.string.italics":"WA9c","../modules/es6.string.link":"odAu","../modules/es6.string.small":"jRZU","../modules/es6.string.strike":"vjKk","../modules/es6.string.sub":"v71f","../modules/es6.string.sup":"BsDL","../modules/es6.date.now":"hZZ7","../modules/es6.date.to-json":"V1lf","../modules/es6.date.to-iso-string":"dNqM","../modules/es6.date.to-string":"qRba","../modules/es6.date.to-primitive":"eEPK","../modules/es6.array.is-array":"MU7J","../modules/es6.array.from":"nPXP","../modules/es6.array.of":"OY3y","../modules/es6.array.join":"YWPI","../modules/es6.array.slice":"Zfva","../modules/es6.array.sort":"yYAZ","../modules/es6.array.for-each":"nhHD","../modules/es6.array.map":"TWkk","../modules/es6.array.filter":"tIPS","../modules/es6.array.some":"Aa5f","../modules/es6.array.every":"xeWr","../modules/es6.array.reduce":"Snba","../modules/es6.array.reduce-right":"cXQt","../modules/es6.array.index-of":"MjHq","../modules/es6.array.last-index-of":"l5D2","../modules/es6.array.copy-within":"Lj8Y","../modules/es6.array.fill":"hyep","../modules/es6.array.find":"sEXN","../modules/es6.array.find-index":"CbJV","../modules/es6.array.species":"CLr0","../modules/es6.array.iterator":"E6T8","../modules/es6.regexp.constructor":"ZXa7","../modules/es6.regexp.exec":"YVk1","../modules/es6.regexp.to-string":"fcAE","../modules/es6.regexp.flags":"K2mn","../modules/es6.regexp.match":"Af1Y","../modules/es6.regexp.replace":"eqII","../modules/es6.regexp.search":"cNHg","../modules/es6.regexp.split":"yKxF","../modules/es6.promise":"DdnC","../modules/es6.map":"s6bA","../modules/es6.set":"OGSJ","../modules/es6.weak-map":"oKOm","../modules/es6.weak-set":"MjNY","../modules/es6.typed.array-buffer":"eolB","../modules/es6.typed.data-view":"KkRA","../modules/es6.typed.int8-array":"a8QO","../modules/es6.typed.uint8-array":"aXca","../modules/es6.typed.uint8-clamped-array":"xwBZ","../modules/es6.typed.int16-array":"xhzi","../modules/es6.typed.uint16-array":"MviK","../modules/es6.typed.int32-array":"xdPA","../modules/es6.typed.uint32-array":"bXVT","../modules/es6.typed.float32-array":"t4ap","../modules/es6.typed.float64-array":"Dtvl","../modules/es6.reflect.apply":"z37P","../modules/es6.reflect.construct":"Mt9q","../modules/es6.reflect.define-property":"e3jG","../modules/es6.reflect.delete-property":"eUF0","../modules/es6.reflect.enumerate":"fR56","../modules/es6.reflect.get":"NZN5","../modules/es6.reflect.get-own-property-descriptor":"GFSB","../modules/es6.reflect.get-prototype-of":"i7wC","../modules/es6.reflect.has":"jMO2","../modules/es6.reflect.is-extensible":"bs0z","../modules/es6.reflect.own-keys":"juoe","../modules/es6.reflect.prevent-extensions":"mqeN","../modules/es6.reflect.set":"shGQ","../modules/es6.reflect.set-prototype-of":"aJuS","../modules/_core":"RosZ"}],"N3Tp":[function(require,module,exports) {
"use strict";var r=require("./_export"),e=require("./_array-includes")(!0);r(r.P,"Array",{includes:function(r){return e(this,r,arguments.length>1?arguments[1]:void 0)}}),require("./_add-to-unscopables")("includes");
},{"./_export":"YaXs","./_array-includes":"n4IE","./_add-to-unscopables":"RXrz"}],"bRs3":[function(require,module,exports) {
require("../../modules/es7.array.includes"),module.exports=require("../../modules/_core").Array.includes;
},{"../../modules/es7.array.includes":"N3Tp","../../modules/_core":"RosZ"}],"sEZh":[function(require,module,exports) {
"use strict";var r=require("./_is-array"),e=require("./_is-object"),i=require("./_to-length"),t=require("./_ctx"),o=require("./_wks")("isConcatSpreadable");function u(s,a,n,c,f,l,q,_){for(var d,h,p=f,v=0,b=!!q&&t(q,_,3);v<c;){if(v in n){if(d=b?b(n[v],v,a):n[v],h=!1,e(d)&&(h=void 0!==(h=d[o])?!!h:r(d)),h&&l>0)p=u(s,a,d,i(d.length),p,l-1)-1;else{if(p>=9007199254740991)throw TypeError();s[p]=d}p++}v++}return p}module.exports=u;
},{"./_is-array":"ra20","./_is-object":"mW2H","./_to-length":"ATHw","./_ctx":"plzG","./_wks":"rGSk"}],"oyIy":[function(require,module,exports) {
"use strict";var r=require("./_export"),e=require("./_flatten-into-array"),t=require("./_to-object"),a=require("./_to-length"),i=require("./_a-function"),u=require("./_array-species-create");r(r.P,"Array",{flatMap:function(r){var n,o,c=t(this);return i(r),n=a(c.length),o=u(c,0),e(o,c,c,n,0,1,r,arguments[1]),o}}),require("./_add-to-unscopables")("flatMap");
},{"./_export":"YaXs","./_flatten-into-array":"sEZh","./_to-object":"D3I6","./_to-length":"ATHw","./_a-function":"gm2m","./_array-species-create":"bwyp","./_add-to-unscopables":"RXrz"}],"dNVH":[function(require,module,exports) {
require("../../modules/es7.array.flat-map"),module.exports=require("../../modules/_core").Array.flatMap;
},{"../../modules/es7.array.flat-map":"oyIy","../../modules/_core":"RosZ"}],"OGhN":[function(require,module,exports) {
var e=require("./_to-length"),r=require("./_string-repeat"),t=require("./_defined");module.exports=function(i,n,l,g){var u=String(t(i)),a=u.length,h=void 0===l?" ":String(l),o=e(n);if(o<=a||""==h)return u;var c=o-a,d=r.call(h,Math.ceil(c/h.length));return d.length>c&&(d=d.slice(0,c)),g?d+u:u+d};
},{"./_to-length":"ATHw","./_string-repeat":"FDfn","./_defined":"iaKk"}],"GgtO":[function(require,module,exports) {
"use strict";var r=require("./_export"),e=require("./_string-pad"),t=require("./_user-agent"),i=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(t);r(r.P+r.F*i,"String",{padStart:function(r){return e(this,r,arguments.length>1?arguments[1]:void 0,!0)}});
},{"./_export":"YaXs","./_string-pad":"OGhN","./_user-agent":"iPw5"}],"Zoej":[function(require,module,exports) {
require("../../modules/es7.string.pad-start"),module.exports=require("../../modules/_core").String.padStart;
},{"../../modules/es7.string.pad-start":"GgtO","../../modules/_core":"RosZ"}],"X1fk":[function(require,module,exports) {
"use strict";var r=require("./_export"),e=require("./_string-pad"),i=require("./_user-agent"),t=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(i);r(r.P+r.F*t,"String",{padEnd:function(r){return e(this,r,arguments.length>1?arguments[1]:void 0,!1)}});
},{"./_export":"YaXs","./_string-pad":"OGhN","./_user-agent":"iPw5"}],"uWcn":[function(require,module,exports) {
require("../../modules/es7.string.pad-end"),module.exports=require("../../modules/_core").String.padEnd;
},{"../../modules/es7.string.pad-end":"X1fk","../../modules/_core":"RosZ"}],"fbJI":[function(require,module,exports) {
"use strict";require("./_string-trim")("trimLeft",function(t){return function(){return t(this,1)}},"trimStart");
},{"./_string-trim":"CcmY"}],"W1y0":[function(require,module,exports) {
require("../../modules/es7.string.trim-left"),module.exports=require("../../modules/_core").String.trimLeft;
},{"../../modules/es7.string.trim-left":"fbJI","../../modules/_core":"RosZ"}],"jXYb":[function(require,module,exports) {
"use strict";require("./_string-trim")("trimRight",function(t){return function(){return t(this,2)}},"trimEnd");
},{"./_string-trim":"CcmY"}],"xpSG":[function(require,module,exports) {
require("../../modules/es7.string.trim-right"),module.exports=require("../../modules/_core").String.trimRight;
},{"../../modules/es7.string.trim-right":"jXYb","../../modules/_core":"RosZ"}],"zUQP":[function(require,module,exports) {
require("./_wks-define")("asyncIterator");
},{"./_wks-define":"RCp6"}],"TNLj":[function(require,module,exports) {
require("../../modules/es7.symbol.async-iterator"),module.exports=require("../../modules/_wks-ext").f("asyncIterator");
},{"../../modules/es7.symbol.async-iterator":"zUQP","../../modules/_wks-ext":"FV8V"}],"rboP":[function(require,module,exports) {
var e=require("./_export"),r=require("./_own-keys"),t=require("./_to-iobject"),o=require("./_object-gopd"),i=require("./_create-property");e(e.S,"Object",{getOwnPropertyDescriptors:function(e){for(var u,c,n=t(e),p=o.f,q=r(n),_={},a=0;q.length>a;)void 0!==(c=p(n,u=q[a++]))&&i(_,u,c);return _}});
},{"./_export":"YaXs","./_own-keys":"NHHN","./_to-iobject":"LW3B","./_object-gopd":"Uy7K","./_create-property":"b5Dh"}],"iZC8":[function(require,module,exports) {
require("../../modules/es7.object.get-own-property-descriptors"),module.exports=require("../../modules/_core").Object.getOwnPropertyDescriptors;
},{"../../modules/es7.object.get-own-property-descriptors":"rboP","../../modules/_core":"RosZ"}],"IkGC":[function(require,module,exports) {
var e=require("./_descriptors"),r=require("./_object-keys"),t=require("./_to-iobject"),o=require("./_object-pie").f;module.exports=function(u){return function(i){for(var c,n=t(i),s=r(n),f=s.length,l=0,p=[];f>l;)c=s[l++],e&&!o.call(n,c)||p.push(u?[c,n[c]]:n[c]);return p}};
},{"./_descriptors":"bI9l","./_object-keys":"A3GV","./_to-iobject":"LW3B","./_object-pie":"grnH"}],"GBOU":[function(require,module,exports) {
var r=require("./_export"),e=require("./_object-to-array")(!1);r(r.S,"Object",{values:function(r){return e(r)}});
},{"./_export":"YaXs","./_object-to-array":"IkGC"}],"NpIy":[function(require,module,exports) {
require("../../modules/es7.object.values"),module.exports=require("../../modules/_core").Object.values;
},{"../../modules/es7.object.values":"GBOU","../../modules/_core":"RosZ"}],"Dggj":[function(require,module,exports) {
var r=require("./_export"),e=require("./_object-to-array")(!0);r(r.S,"Object",{entries:function(r){return e(r)}});
},{"./_export":"YaXs","./_object-to-array":"IkGC"}],"SqC8":[function(require,module,exports) {
require("../../modules/es7.object.entries"),module.exports=require("../../modules/_core").Object.entries;
},{"../../modules/es7.object.entries":"Dggj","../../modules/_core":"RosZ"}],"Bdpi":[function(require,module,exports) {

"use strict";var r=require("./_export"),e=require("./_core"),t=require("./_global"),n=require("./_species-constructor"),i=require("./_promise-resolve");r(r.P+r.R,"Promise",{finally:function(r){var o=n(this,e.Promise||t.Promise),u="function"==typeof r;return this.then(u?function(e){return i(o,r()).then(function(){return e})}:r,u?function(e){return i(o,r()).then(function(){throw e})}:r)}});
},{"./_export":"YaXs","./_core":"RosZ","./_global":"j4Jx","./_species-constructor":"YN2R","./_promise-resolve":"VBDs"}],"iIbw":[function(require,module,exports) {
"use strict";require("../../modules/es6.promise"),require("../../modules/es7.promise.finally"),module.exports=require("../../modules/_core").Promise.finally;
},{"../../modules/es6.promise":"DdnC","../../modules/es7.promise.finally":"Bdpi","../../modules/_core":"RosZ"}],"TWv5":[function(require,module,exports) {

var e=require("./_global"),t=require("./_export"),n=require("./_user-agent"),r=[].slice,u=/MSIE .\./.test(n),i=function(e){return function(t,n){var u=arguments.length>2,i=!!u&&r.call(arguments,2);return e(u?function(){("function"==typeof t?t:Function(t)).apply(this,i)}:t,n)}};t(t.G+t.B+t.F*u,{setTimeout:i(e.setTimeout),setInterval:i(e.setInterval)});
},{"./_global":"j4Jx","./_export":"YaXs","./_user-agent":"iPw5"}],"bhfe":[function(require,module,exports) {
var e=require("./_export"),r=require("./_task");e(e.G+e.B,{setImmediate:r.set,clearImmediate:r.clear});
},{"./_export":"YaXs","./_task":"A8zO"}],"VUFI":[function(require,module,exports) {

for(var e=require("./es6.array.iterator"),t=require("./_object-keys"),i=require("./_redefine"),r=require("./_global"),s=require("./_hide"),L=require("./_iterators"),a=require("./_wks"),o=a("iterator"),l=a("toStringTag"),S=L.Array,n={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},u=t(n),T=0;T<u.length;T++){var c,g=u[T],M=n[g],y=r[g],f=y&&y.prototype;if(f&&(f[o]||s(f,o,S),f[l]||s(f,l,g),L[g]=S,M))for(c in e)f[c]||i(f,c,e[c],!0)}
},{"./es6.array.iterator":"E6T8","./_object-keys":"A3GV","./_redefine":"Yc4t","./_global":"j4Jx","./_hide":"xf1j","./_iterators":"Oj8i","./_wks":"rGSk"}],"jtbS":[function(require,module,exports) {
require("../modules/web.timers"),require("../modules/web.immediate"),require("../modules/web.dom.iterable"),module.exports=require("../modules/_core");
},{"../modules/web.timers":"TWv5","../modules/web.immediate":"bhfe","../modules/web.dom.iterable":"VUFI","../modules/_core":"RosZ"}],"QVnC":[function(require,module,exports) {
var define;
var t,r=function(t){"use strict";var r,e=Object.prototype,n=e.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function u(t,r,e){return Object.defineProperty(t,r,{value:e,enumerable:!0,configurable:!0,writable:!0}),t[r]}try{u({},"")}catch(F){u=function(t,r,e){return t[r]=e}}function h(t,r,e,n){var o=r&&r.prototype instanceof g?r:g,i=Object.create(o.prototype),a=new G(n||[]);return i._invoke=function(t,r,e){var n=l;return function(o,i){if(n===p)throw new Error("Generator is already running");if(n===y){if("throw"===o)throw i;return T()}for(e.method=o,e.arg=i;;){var a=e.delegate;if(a){var c=j(a,e);if(c){if(c===v)continue;return c}}if("next"===e.method)e.sent=e._sent=e.arg;else if("throw"===e.method){if(n===l)throw n=y,e.arg;e.dispatchException(e.arg)}else"return"===e.method&&e.abrupt("return",e.arg);n=p;var u=f(t,r,e);if("normal"===u.type){if(n=e.done?y:s,u.arg===v)continue;return{value:u.arg,done:e.done}}"throw"===u.type&&(n=y,e.method="throw",e.arg=u.arg)}}}(t,e,a),i}function f(t,r,e){try{return{type:"normal",arg:t.call(r,e)}}catch(F){return{type:"throw",arg:F}}}t.wrap=h;var l="suspendedStart",s="suspendedYield",p="executing",y="completed",v={};function g(){}function d(){}function m(){}var w={};u(w,i,function(){return this});var L=Object.getPrototypeOf,x=L&&L(L(N([])));x&&x!==e&&n.call(x,i)&&(w=x);var b=m.prototype=g.prototype=Object.create(w);function E(t){["next","throw","return"].forEach(function(r){u(t,r,function(t){return this._invoke(r,t)})})}function _(t,r){var e;this._invoke=function(o,i){function a(){return new r(function(e,a){!function e(o,i,a,c){var u=f(t[o],t,i);if("throw"!==u.type){var h=u.arg,l=h.value;return l&&"object"==typeof l&&n.call(l,"__await")?r.resolve(l.__await).then(function(t){e("next",t,a,c)},function(t){e("throw",t,a,c)}):r.resolve(l).then(function(t){h.value=t,a(h)},function(t){return e("throw",t,a,c)})}c(u.arg)}(o,i,e,a)})}return e=e?e.then(a,a):a()}}function j(t,e){var n=t.iterator[e.method];if(n===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=r,j(t,e),"throw"===e.method))return v;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return v}var o=f(n,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,v;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=r),e.delegate=null,v):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,v)}function O(t){var r={tryLoc:t[0]};1 in t&&(r.catchLoc=t[1]),2 in t&&(r.finallyLoc=t[2],r.afterLoc=t[3]),this.tryEntries.push(r)}function k(t){var r=t.completion||{};r.type="normal",delete r.arg,t.completion=r}function G(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(O,this),this.reset(!0)}function N(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function e(){for(;++o<t.length;)if(n.call(t,o))return e.value=t[o],e.done=!1,e;return e.value=r,e.done=!0,e};return a.next=a}}return{next:T}}function T(){return{value:r,done:!0}}return d.prototype=m,u(b,"constructor",m),u(m,"constructor",d),d.displayName=u(m,c,"GeneratorFunction"),t.isGeneratorFunction=function(t){var r="function"==typeof t&&t.constructor;return!!r&&(r===d||"GeneratorFunction"===(r.displayName||r.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,m):(t.__proto__=m,u(t,c,"GeneratorFunction")),t.prototype=Object.create(b),t},t.awrap=function(t){return{__await:t}},E(_.prototype),u(_.prototype,a,function(){return this}),t.AsyncIterator=_,t.async=function(r,e,n,o,i){void 0===i&&(i=Promise);var a=new _(h(r,e,n,o),i);return t.isGeneratorFunction(e)?a:a.next().then(function(t){return t.done?t.value:a.next()})},E(b),u(b,c,"Generator"),u(b,i,function(){return this}),u(b,"toString",function(){return"[object Generator]"}),t.keys=function(t){var r=[];for(var e in t)r.push(e);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=N,G.prototype={constructor:G,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=r,this.done=!1,this.delegate=null,this.method="next",this.arg=r,this.tryEntries.forEach(k),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=r)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function o(n,o){return c.type="throw",c.arg=t,e.next=n,o&&(e.method="next",e.arg=r),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],c=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),h=n.call(a,"finallyLoc");if(u&&h){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!h)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,r){for(var e=this.tryEntries.length-1;e>=0;--e){var o=this.tryEntries[e];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=r&&r<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=r,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,r){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&r&&(this.next=r),v},finish:function(t){for(var r=this.tryEntries.length-1;r>=0;--r){var e=this.tryEntries[r];if(e.finallyLoc===t)return this.complete(e.completion,e.afterLoc),k(e),v}},catch:function(t){for(var r=this.tryEntries.length-1;r>=0;--r){var e=this.tryEntries[r];if(e.tryLoc===t){var n=e.completion;if("throw"===n.type){var o=n.arg;k(e)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:N(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=r),v}},t}("object"==typeof module?module.exports:{});try{regeneratorRuntime=r}catch(e){"object"==typeof globalThis?globalThis.regeneratorRuntime=r:Function("r","regeneratorRuntime = r")(r)}
},{}],"NL3E":[function(require,module,exports) {
"use strict";require("core-js/es6"),require("core-js/fn/array/includes"),require("core-js/fn/array/flat-map"),require("core-js/fn/string/pad-start"),require("core-js/fn/string/pad-end"),require("core-js/fn/string/trim-start"),require("core-js/fn/string/trim-end"),require("core-js/fn/symbol/async-iterator"),require("core-js/fn/object/get-own-property-descriptors"),require("core-js/fn/object/values"),require("core-js/fn/object/entries"),require("core-js/fn/promise/finally"),require("core-js/web"),require("regenerator-runtime/runtime");
},{"core-js/es6":"ViGo","core-js/fn/array/includes":"bRs3","core-js/fn/array/flat-map":"dNVH","core-js/fn/string/pad-start":"Zoej","core-js/fn/string/pad-end":"uWcn","core-js/fn/string/trim-start":"W1y0","core-js/fn/string/trim-end":"xpSG","core-js/fn/symbol/async-iterator":"TNLj","core-js/fn/object/get-own-property-descriptors":"iZC8","core-js/fn/object/values":"NpIy","core-js/fn/object/entries":"SqC8","core-js/fn/promise/finally":"iIbw","core-js/web":"jtbS","regenerator-runtime/runtime":"QVnC"}],"Z1qg":[function(require,module,exports) {
var r=require("./_a-function");module.exports=function(n,t,u){if(r(n),void 0===t)return n;switch(u){case 1:return function(r){return n.call(t,r)};case 2:return function(r,u){return n.call(t,r,u)};case 3:return function(r,u,e){return n.call(t,r,u,e)}}return function(){return n.apply(t,arguments)}};
},{"./_a-function":"gm2m"}],"RxQ8":[function(require,module,exports) {
var r=require("./_is-object");module.exports=function(e){if(!r(e))throw TypeError(e+" is not an object!");return e};
},{"./_is-object":"mW2H"}],"FQE1":[function(require,module,exports) {
module.exports=!require("./_fails")(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a});
},{"./_fails":"Shu3"}],"DtbZ":[function(require,module,exports) {
var e=require("./_is-object"),r=require("./_global").document,t=e(r)&&e(r.createElement);module.exports=function(e){return t?r.createElement(e):{}};
},{"./_is-object":"mW2H","./_global":"j4Jx"}],"qTfv":[function(require,module,exports) {
module.exports=!require("./_descriptors")&&!require("./_fails")(function(){return 7!=Object.defineProperty(require("./_dom-create")("div"),"a",{get:function(){return 7}}).a});
},{"./_descriptors":"FQE1","./_fails":"Shu3","./_dom-create":"DtbZ"}],"VdXQ":[function(require,module,exports) {
var t=require("./_is-object");module.exports=function(r,e){if(!t(r))return r;var o,n;if(e&&"function"==typeof(o=r.toString)&&!t(n=o.call(r)))return n;if("function"==typeof(o=r.valueOf)&&!t(n=o.call(r)))return n;if(!e&&"function"==typeof(o=r.toString)&&!t(n=o.call(r)))return n;throw TypeError("Can't convert object to primitive value")};
},{"./_is-object":"mW2H"}],"orGL":[function(require,module,exports) {
var e=require("./_an-object"),r=require("./_ie8-dom-define"),t=require("./_to-primitive"),i=Object.defineProperty;exports.f=require("./_descriptors")?Object.defineProperty:function(o,n,u){if(e(o),n=t(n,!0),e(u),r)try{return i(o,n,u)}catch(c){}if("get"in u||"set"in u)throw TypeError("Accessors not supported!");return"value"in u&&(o[n]=u.value),o};
},{"./_an-object":"RxQ8","./_ie8-dom-define":"qTfv","./_to-primitive":"VdXQ","./_descriptors":"FQE1"}],"vURg":[function(require,module,exports) {
var r=require("./_object-dp"),e=require("./_property-desc");module.exports=require("./_descriptors")?function(t,u,o){return r.f(t,u,e(1,o))}:function(r,e,t){return r[e]=t,r};
},{"./_object-dp":"orGL","./_property-desc":"EVgU","./_descriptors":"FQE1"}],"K0fY":[function(require,module,exports) {

var e=require("./_global"),r=require("./_core"),n=require("./_ctx"),t=require("./_hide"),i=require("./_has"),u="prototype",o=function(c,a,f){var l,s,p,h=c&o.F,v=c&o.G,q=c&o.S,w=c&o.P,_=c&o.B,y=c&o.W,d=v?r:r[a]||(r[a]={}),F=d[u],g=v?e:q?e[a]:(e[a]||{})[u];for(l in v&&(f=a),f)(s=!h&&g&&void 0!==g[l])&&i(d,l)||(p=s?g[l]:f[l],d[l]=v&&"function"!=typeof g[l]?f[l]:_&&s?n(p,e):y&&g[l]==p?function(e){var r=function(r,n,t){if(this instanceof e){switch(arguments.length){case 0:return new e;case 1:return new e(r);case 2:return new e(r,n)}return new e(r,n,t)}return e.apply(this,arguments)};return r[u]=e[u],r}(p):w&&"function"==typeof p?n(Function.call,p):p,w&&((d.virtual||(d.virtual={}))[l]=p,c&o.R&&F&&!F[l]&&t(F,l,p)))};o.F=1,o.G=2,o.S=4,o.P=8,o.B=16,o.W=32,o.U=64,o.R=128,module.exports=o;
},{"./_global":"j4Jx","./_core":"RosZ","./_ctx":"Z1qg","./_hide":"vURg","./_has":"UB6D"}],"pw5s":[function(require,module,exports) {
var r=require("./_export");r(r.G,{global:require("./_global")});
},{"./_export":"K0fY","./_global":"j4Jx"}],"fK9X":[function(require,module,exports) {
require("../modules/es7.global"),module.exports=require("../modules/_core").global;
},{"../modules/es7.global":"pw5s","../modules/_core":"RosZ"}],"JxEC":[function(require,module,exports) {
"use strict";require("./noConflict");var e=l(require("core-js/library/fn/global"));function l(e){return e&&e.__esModule?e:{default:e}}e.default._babelPolyfill&&"undefined"!=typeof console&&console.warn&&console.warn("@babel/polyfill is loaded more than once on this page. This is probably not desirable/intended and may have consequences if different versions of the polyfills are applied sequentially. If you do need to load the polyfill more than once, use @babel/polyfill/noConflict instead to bypass the warning."),e.default._babelPolyfill=!0;
},{"./noConflict":"NL3E","core-js/library/fn/global":"fK9X"}],"wB3W":[function(require,module,exports) {
module.exports=!require("./_fails")(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a});
},{"./_fails":"Shu3"}],"t5ZG":[function(require,module,exports) {
var r=require("./_a-function");module.exports=function(n,t,u){if(r(n),void 0===t)return n;switch(u){case 1:return function(r){return n.call(t,r)};case 2:return function(r,u){return n.call(t,r,u)};case 3:return function(r,u,e){return n.call(t,r,u,e)}}return function(){return n.apply(t,arguments)}};
},{"./_a-function":"gm2m"}],"a1lZ":[function(require,module,exports) {
var r=require("./_is-object");module.exports=function(e){if(!r(e))throw TypeError(e+" is not an object!");return e};
},{"./_is-object":"mW2H"}],"lbqg":[function(require,module,exports) {
var e=require("./_is-object"),r=require("./_global").document,t=e(r)&&e(r.createElement);module.exports=function(e){return t?r.createElement(e):{}};
},{"./_is-object":"mW2H","./_global":"j4Jx"}],"bJu1":[function(require,module,exports) {
module.exports=!require("./_descriptors")&&!require("./_fails")(function(){return 7!=Object.defineProperty(require("./_dom-create")("div"),"a",{get:function(){return 7}}).a});
},{"./_descriptors":"wB3W","./_fails":"Shu3","./_dom-create":"lbqg"}],"peLQ":[function(require,module,exports) {
var t=require("./_is-object");module.exports=function(r,e){if(!t(r))return r;var o,n;if(e&&"function"==typeof(o=r.toString)&&!t(n=o.call(r)))return n;if("function"==typeof(o=r.valueOf)&&!t(n=o.call(r)))return n;if(!e&&"function"==typeof(o=r.toString)&&!t(n=o.call(r)))return n;throw TypeError("Can't convert object to primitive value")};
},{"./_is-object":"mW2H"}],"CgJ2":[function(require,module,exports) {
var e=require("./_an-object"),r=require("./_ie8-dom-define"),t=require("./_to-primitive"),i=Object.defineProperty;exports.f=require("./_descriptors")?Object.defineProperty:function(o,n,u){if(e(o),n=t(n,!0),e(u),r)try{return i(o,n,u)}catch(c){}if("get"in u||"set"in u)throw TypeError("Accessors not supported!");return"value"in u&&(o[n]=u.value),o};
},{"./_an-object":"a1lZ","./_ie8-dom-define":"bJu1","./_to-primitive":"peLQ","./_descriptors":"wB3W"}],"wzAN":[function(require,module,exports) {
var r=require("./_object-dp"),e=require("./_property-desc");module.exports=require("./_descriptors")?function(t,u,o){return r.f(t,u,e(1,o))}:function(r,e,t){return r[e]=t,r};
},{"./_object-dp":"CgJ2","./_property-desc":"EVgU","./_descriptors":"wB3W"}],"mBzY":[function(require,module,exports) {

var e=require("./_global"),r=require("./_core"),n=require("./_ctx"),t=require("./_hide"),i=require("./_has"),u="prototype",o=function(c,a,f){var l,s,p,h=c&o.F,v=c&o.G,q=c&o.S,w=c&o.P,_=c&o.B,y=c&o.W,d=v?r:r[a]||(r[a]={}),F=d[u],g=v?e:q?e[a]:(e[a]||{})[u];for(l in v&&(f=a),f)(s=!h&&g&&void 0!==g[l])&&i(d,l)||(p=s?g[l]:f[l],d[l]=v&&"function"!=typeof g[l]?f[l]:_&&s?n(p,e):y&&g[l]==p?function(e){var r=function(r,n,t){if(this instanceof e){switch(arguments.length){case 0:return new e;case 1:return new e(r);case 2:return new e(r,n)}return new e(r,n,t)}return e.apply(this,arguments)};return r[u]=e[u],r}(p):w&&"function"==typeof p?n(Function.call,p):p,w&&((d.virtual||(d.virtual={}))[l]=p,c&o.R&&F&&!F[l]&&t(F,l,p)))};o.F=1,o.G=2,o.S=4,o.P=8,o.B=16,o.W=32,o.U=64,o.R=128,module.exports=o;
},{"./_global":"j4Jx","./_core":"RosZ","./_ctx":"t5ZG","./_hide":"wzAN","./_has":"UB6D"}],"KKz0":[function(require,module,exports) {
module.exports=require("./_hide");
},{"./_hide":"wzAN"}],"c1Ga":[function(require,module,exports) {
var e=require("./_uid")("meta"),r=require("./_is-object"),t=require("./_has"),n=require("./_object-dp").f,i=0,u=Object.isExtensible||function(){return!0},f=!require("./_fails")(function(){return u(Object.preventExtensions({}))}),o=function(r){n(r,e,{value:{i:"O"+ ++i,w:{}}})},s=function(n,i){if(!r(n))return"symbol"==typeof n?n:("string"==typeof n?"S":"P")+n;if(!t(n,e)){if(!u(n))return"F";if(!i)return"E";o(n)}return n[e].i},c=function(r,n){if(!t(r,e)){if(!u(r))return!0;if(!n)return!1;o(r)}return r[e].w},E=function(r){return f&&a.NEED&&u(r)&&!t(r,e)&&o(r),r},a=module.exports={KEY:e,NEED:!1,fastKey:s,getWeak:c,onFreeze:E};
},{"./_uid":"ADad","./_is-object":"mW2H","./_has":"UB6D","./_object-dp":"CgJ2","./_fails":"Shu3"}],"kK6f":[function(require,module,exports) {
module.exports=!0;
},{}],"pYEX":[function(require,module,exports) {

var r=require("./_core"),e=require("./_global"),o="__core-js_shared__",i=e[o]||(e[o]={});(module.exports=function(r,e){return i[r]||(i[r]=void 0!==e?e:{})})("versions",[]).push({version:r.version,mode:require("./_library")?"pure":"global",copyright:" 2020 Denis Pushkarev (zloirock.ru)"});
},{"./_core":"RosZ","./_global":"j4Jx","./_library":"kK6f"}],"beGs":[function(require,module,exports) {
var e=require("./_shared")("wks"),r=require("./_uid"),o=require("./_global").Symbol,u="function"==typeof o,i=module.exports=function(i){return e[i]||(e[i]=u&&o[i]||(u?o:r)("Symbol."+i))};i.store=e;
},{"./_shared":"pYEX","./_uid":"ADad","./_global":"j4Jx"}],"skcG":[function(require,module,exports) {
var e=require("./_object-dp").f,r=require("./_has"),o=require("./_wks")("toStringTag");module.exports=function(t,u,i){t&&!r(t=i?t:t.prototype,o)&&e(t,o,{configurable:!0,value:u})};
},{"./_object-dp":"CgJ2","./_has":"UB6D","./_wks":"beGs"}],"djbQ":[function(require,module,exports) {
exports.f=require("./_wks");
},{"./_wks":"beGs"}],"LAlu":[function(require,module,exports) {

var r=require("./_global"),e=require("./_core"),o=require("./_library"),i=require("./_wks-ext"),l=require("./_object-dp").f;module.exports=function(u){var a=e.Symbol||(e.Symbol=o?{}:r.Symbol||{});"_"==u.charAt(0)||u in a||l(a,u,{value:i.f(u)})};
},{"./_global":"j4Jx","./_core":"RosZ","./_library":"kK6f","./_wks-ext":"djbQ","./_object-dp":"CgJ2"}],"RFPi":[function(require,module,exports) {
var e=require("./_cof");module.exports=Object("z").propertyIsEnumerable(0)?Object:function(r){return"String"==e(r)?r.split(""):Object(r)};
},{"./_cof":"PoBK"}],"J15f":[function(require,module,exports) {
var e=require("./_iobject"),r=require("./_defined");module.exports=function(i){return e(r(i))};
},{"./_iobject":"RFPi","./_defined":"iaKk"}],"Ji2L":[function(require,module,exports) {
var e=require("./_to-integer"),r=Math.min;module.exports=function(t){return t>0?r(e(t),9007199254740991):0};
},{"./_to-integer":"btBV"}],"zHJP":[function(require,module,exports) {
var e=require("./_to-integer"),r=Math.max,t=Math.min;module.exports=function(n,a){return(n=e(n))<0?r(n+a,0):t(n,a)};
},{"./_to-integer":"btBV"}],"C3Ou":[function(require,module,exports) {
var e=require("./_to-iobject"),r=require("./_to-length"),t=require("./_to-absolute-index");module.exports=function(n){return function(i,o,u){var f,l=e(i),a=r(l.length),c=t(u,a);if(n&&o!=o){for(;a>c;)if((f=l[c++])!=f)return!0}else for(;a>c;c++)if((n||c in l)&&l[c]===o)return n||c||0;return!n&&-1}};
},{"./_to-iobject":"J15f","./_to-length":"Ji2L","./_to-absolute-index":"zHJP"}],"ZUa8":[function(require,module,exports) {
var e=require("./_shared")("keys"),r=require("./_uid");module.exports=function(u){return e[u]||(e[u]=r(u))};
},{"./_shared":"pYEX","./_uid":"ADad"}],"TFBd":[function(require,module,exports) {
var r=require("./_has"),e=require("./_to-iobject"),u=require("./_array-includes")(!1),i=require("./_shared-key")("IE_PROTO");module.exports=function(o,a){var n,s=e(o),t=0,h=[];for(n in s)n!=i&&r(s,n)&&h.push(n);for(;a.length>t;)r(s,n=a[t++])&&(~u(h,n)||h.push(n));return h};
},{"./_has":"UB6D","./_to-iobject":"J15f","./_array-includes":"C3Ou","./_shared-key":"ZUa8"}],"fkxp":[function(require,module,exports) {
var e=require("./_object-keys-internal"),r=require("./_enum-bug-keys");module.exports=Object.keys||function(u){return e(u,r)};
},{"./_object-keys-internal":"TFBd","./_enum-bug-keys":"Y2KC"}],"hU8a":[function(require,module,exports) {
var e=require("./_object-keys"),r=require("./_object-gops"),o=require("./_object-pie");module.exports=function(t){var u=e(t),i=r.f;if(i)for(var c,f=i(t),a=o.f,l=0;f.length>l;)a.call(t,c=f[l++])&&u.push(c);return u};
},{"./_object-keys":"fkxp","./_object-gops":"idNb","./_object-pie":"grnH"}],"oAbD":[function(require,module,exports) {
var r=require("./_cof");module.exports=Array.isArray||function(e){return"Array"==r(e)};
},{"./_cof":"PoBK"}],"jK0c":[function(require,module,exports) {
var e=require("./_defined");module.exports=function(r){return Object(e(r))};
},{"./_defined":"iaKk"}],"k7Gj":[function(require,module,exports) {
var e=require("./_object-dp"),r=require("./_an-object"),t=require("./_object-keys");module.exports=require("./_descriptors")?Object.defineProperties:function(o,i){r(o);for(var u,c=t(i),n=c.length,s=0;n>s;)e.f(o,u=c[s++],i[u]);return o};
},{"./_object-dp":"CgJ2","./_an-object":"a1lZ","./_object-keys":"fkxp","./_descriptors":"wB3W"}],"YTtJ":[function(require,module,exports) {
var e=require("./_global").document;module.exports=e&&e.documentElement;
},{"./_global":"j4Jx"}],"TKlF":[function(require,module,exports) {
var e=require("./_an-object"),r=require("./_object-dps"),t=require("./_enum-bug-keys"),n=require("./_shared-key")("IE_PROTO"),o=function(){},i="prototype",u=function(){var e,r=require("./_dom-create")("iframe"),n=t.length;for(r.style.display="none",require("./_html").appendChild(r),r.src="javascript:",(e=r.contentWindow.document).open(),e.write("<script>document.F=Object<\/script>"),e.close(),u=e.F;n--;)delete u[i][t[n]];return u()};module.exports=Object.create||function(t,c){var a;return null!==t?(o[i]=e(t),a=new o,o[i]=null,a[n]=t):a=u(),void 0===c?a:r(a,c)};
},{"./_an-object":"a1lZ","./_object-dps":"k7Gj","./_enum-bug-keys":"Y2KC","./_shared-key":"ZUa8","./_dom-create":"lbqg","./_html":"YTtJ"}],"RVU8":[function(require,module,exports) {
var e=require("./_object-keys-internal"),r=require("./_enum-bug-keys").concat("length","prototype");exports.f=Object.getOwnPropertyNames||function(t){return e(t,r)};
},{"./_object-keys-internal":"TFBd","./_enum-bug-keys":"Y2KC"}],"YK6n":[function(require,module,exports) {
var e=require("./_to-iobject"),t=require("./_object-gopn").f,o={}.toString,r="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],n=function(e){try{return t(e)}catch(o){return r.slice()}};module.exports.f=function(c){return r&&"[object Window]"==o.call(c)?n(c):t(e(c))};
},{"./_to-iobject":"J15f","./_object-gopn":"RVU8"}],"Wxid":[function(require,module,exports) {
var e=require("./_object-pie"),r=require("./_property-desc"),i=require("./_to-iobject"),t=require("./_to-primitive"),o=require("./_has"),c=require("./_ie8-dom-define"),u=Object.getOwnPropertyDescriptor;exports.f=require("./_descriptors")?u:function(p,q){if(p=i(p),q=t(q,!0),c)try{return u(p,q)}catch(_){}if(o(p,q))return r(!e.f.call(p,q),p[q])};
},{"./_object-pie":"grnH","./_property-desc":"EVgU","./_to-iobject":"J15f","./_to-primitive":"peLQ","./_has":"UB6D","./_ie8-dom-define":"bJu1","./_descriptors":"wB3W"}],"BwWG":[function(require,module,exports) {

"use strict";var e=require("./_global"),r=require("./_has"),t=require("./_descriptors"),i=require("./_export"),n=require("./_redefine"),o=require("./_meta").KEY,u=require("./_fails"),s=require("./_shared"),f=require("./_set-to-string-tag"),c=require("./_uid"),a=require("./_wks"),l=require("./_wks-ext"),p=require("./_wks-define"),b=require("./_enum-keys"),y=require("./_is-array"),h=require("./_an-object"),_=require("./_is-object"),q=require("./_to-object"),g=require("./_to-iobject"),m=require("./_to-primitive"),v=require("./_property-desc"),d=require("./_object-create"),S=require("./_object-gopn-ext"),j=require("./_object-gopd"),O=require("./_object-gops"),w=require("./_object-dp"),k=require("./_object-keys"),P=j.f,F=w.f,E=S.f,N=e.Symbol,J=e.JSON,x=J&&J.stringify,I="prototype",T=a("_hidden"),C=a("toPrimitive"),M={}.propertyIsEnumerable,D=s("symbol-registry"),G=s("symbols"),K=s("op-symbols"),Q=Object[I],W="function"==typeof N&&!!O.f,Y=e.QObject,z=!Y||!Y[I]||!Y[I].findChild,A=t&&u(function(){return 7!=d(F({},"a",{get:function(){return F(this,"a",{value:7}).a}})).a})?function(e,r,t){var i=P(Q,r);i&&delete Q[r],F(e,r,t),i&&e!==Q&&F(Q,r,i)}:F,B=function(e){var r=G[e]=d(N[I]);return r._k=e,r},H=W&&"symbol"==typeof N.iterator?function(e){return"symbol"==typeof e}:function(e){return e instanceof N},L=function(e,t,i){return e===Q&&L(K,t,i),h(e),t=m(t,!0),h(i),r(G,t)?(i.enumerable?(r(e,T)&&e[T][t]&&(e[T][t]=!1),i=d(i,{enumerable:v(0,!1)})):(r(e,T)||F(e,T,v(1,{})),e[T][t]=!0),A(e,t,i)):F(e,t,i)},R=function(e,r){h(e);for(var t,i=b(r=g(r)),n=0,o=i.length;o>n;)L(e,t=i[n++],r[t]);return e},U=function(e,r){return void 0===r?d(e):R(d(e),r)},V=function(e){var t=M.call(this,e=m(e,!0));return!(this===Q&&r(G,e)&&!r(K,e))&&(!(t||!r(this,e)||!r(G,e)||r(this,T)&&this[T][e])||t)},X=function(e,t){if(e=g(e),t=m(t,!0),e!==Q||!r(G,t)||r(K,t)){var i=P(e,t);return!i||!r(G,t)||r(e,T)&&e[T][t]||(i.enumerable=!0),i}},Z=function(e){for(var t,i=E(g(e)),n=[],u=0;i.length>u;)r(G,t=i[u++])||t==T||t==o||n.push(t);return n},$=function(e){for(var t,i=e===Q,n=E(i?K:g(e)),o=[],u=0;n.length>u;)!r(G,t=n[u++])||i&&!r(Q,t)||o.push(G[t]);return o};W||(n((N=function(){if(this instanceof N)throw TypeError("Symbol is not a constructor!");var e=c(arguments.length>0?arguments[0]:void 0),i=function(t){this===Q&&i.call(K,t),r(this,T)&&r(this[T],e)&&(this[T][e]=!1),A(this,e,v(1,t))};return t&&z&&A(Q,e,{configurable:!0,set:i}),B(e)})[I],"toString",function(){return this._k}),j.f=X,w.f=L,require("./_object-gopn").f=S.f=Z,require("./_object-pie").f=V,O.f=$,t&&!require("./_library")&&n(Q,"propertyIsEnumerable",V,!0),l.f=function(e){return B(a(e))}),i(i.G+i.W+i.F*!W,{Symbol:N});for(var ee="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),re=0;ee.length>re;)a(ee[re++]);for(var te=k(a.store),ie=0;te.length>ie;)p(te[ie++]);i(i.S+i.F*!W,"Symbol",{for:function(e){return r(D,e+="")?D[e]:D[e]=N(e)},keyFor:function(e){if(!H(e))throw TypeError(e+" is not a symbol!");for(var r in D)if(D[r]===e)return r},useSetter:function(){z=!0},useSimple:function(){z=!1}}),i(i.S+i.F*!W,"Object",{create:U,defineProperty:L,defineProperties:R,getOwnPropertyDescriptor:X,getOwnPropertyNames:Z,getOwnPropertySymbols:$});var ne=u(function(){O.f(1)});i(i.S+i.F*ne,"Object",{getOwnPropertySymbols:function(e){return O.f(q(e))}}),J&&i(i.S+i.F*(!W||u(function(){var e=N();return"[null]"!=x([e])||"{}"!=x({a:e})||"{}"!=x(Object(e))})),"JSON",{stringify:function(e){for(var r,t,i=[e],n=1;arguments.length>n;)i.push(arguments[n++]);if(t=r=i[1],(_(r)||void 0!==e)&&!H(e))return y(r)||(r=function(e,r){if("function"==typeof t&&(r=t.call(this,e,r)),!H(r))return r}),i[1]=r,x.apply(J,i)}}),N[I][C]||require("./_hide")(N[I],C,N[I].valueOf),f(N,"Symbol"),f(Math,"Math",!0),f(e.JSON,"JSON",!0);
},{"./_global":"j4Jx","./_has":"UB6D","./_descriptors":"wB3W","./_export":"mBzY","./_redefine":"KKz0","./_meta":"c1Ga","./_fails":"Shu3","./_shared":"pYEX","./_set-to-string-tag":"skcG","./_uid":"ADad","./_wks":"beGs","./_wks-ext":"djbQ","./_wks-define":"LAlu","./_enum-keys":"hU8a","./_is-array":"oAbD","./_an-object":"a1lZ","./_is-object":"mW2H","./_to-object":"jK0c","./_to-iobject":"J15f","./_to-primitive":"peLQ","./_property-desc":"EVgU","./_object-create":"TKlF","./_object-gopn-ext":"YK6n","./_object-gopd":"Wxid","./_object-gops":"idNb","./_object-dp":"CgJ2","./_object-keys":"fkxp","./_object-gopn":"RVU8","./_object-pie":"grnH","./_library":"kK6f","./_hide":"wzAN"}],"m4lO":[function(require,module,exports) {
require("./_wks-define")("asyncIterator");
},{"./_wks-define":"LAlu"}],"BAvH":[function(require,module,exports) {
require("./_wks-define")("observable");
},{"./_wks-define":"LAlu"}],"sjB0":[function(require,module,exports) {
require("../../modules/es6.symbol"),require("../../modules/es6.object.to-string"),require("../../modules/es7.symbol.async-iterator"),require("../../modules/es7.symbol.observable"),module.exports=require("../../modules/_core").Symbol;
},{"../../modules/es6.symbol":"BwWG","../../modules/es6.object.to-string":"vKFU","../../modules/es7.symbol.async-iterator":"m4lO","../../modules/es7.symbol.observable":"BAvH","../../modules/_core":"RosZ"}],"mr6k":[function(require,module,exports) {
module.exports=require("core-js/library/fn/symbol");
},{"core-js/library/fn/symbol":"sjB0"}],"OTQe":[function(require,module,exports) {
var e=require("./_to-integer"),r=require("./_defined");module.exports=function(t){return function(n,i){var o,u,c=String(r(n)),d=e(i),a=c.length;return d<0||d>=a?t?"":void 0:(o=c.charCodeAt(d))<55296||o>56319||d+1===a||(u=c.charCodeAt(d+1))<56320||u>57343?t?c.charAt(d):o:t?c.slice(d,d+2):u-56320+(o-55296<<10)+65536}};
},{"./_to-integer":"btBV","./_defined":"iaKk"}],"xxXw":[function(require,module,exports) {
"use strict";var e=require("./_object-create"),r=require("./_property-desc"),t=require("./_set-to-string-tag"),i={};require("./_hide")(i,require("./_wks")("iterator"),function(){return this}),module.exports=function(o,u,s){o.prototype=e(i,{next:r(1,s)}),t(o,u+" Iterator")};
},{"./_object-create":"TKlF","./_property-desc":"EVgU","./_set-to-string-tag":"skcG","./_hide":"wzAN","./_wks":"beGs"}],"PsbN":[function(require,module,exports) {
var t=require("./_has"),e=require("./_to-object"),o=require("./_shared-key")("IE_PROTO"),r=Object.prototype;module.exports=Object.getPrototypeOf||function(c){return c=e(c),t(c,o)?c[o]:"function"==typeof c.constructor&&c instanceof c.constructor?c.constructor.prototype:c instanceof Object?r:null};
},{"./_has":"UB6D","./_to-object":"jK0c","./_shared-key":"ZUa8"}],"GVRu":[function(require,module,exports) {
"use strict";var e=require("./_library"),r=require("./_export"),t=require("./_redefine"),i=require("./_hide"),n=require("./_iterators"),u=require("./_iter-create"),o=require("./_set-to-string-tag"),s=require("./_object-gpo"),a=require("./_wks")("iterator"),c=!([].keys&&"next"in[].keys()),f="@@iterator",l="keys",q="values",y=function(){return this};module.exports=function(_,p,h,k,v,w,d){u(h,p,k);var x,b,g,j=function(e){if(!c&&e in I)return I[e];switch(e){case l:case q:return function(){return new h(this,e)}}return function(){return new h(this,e)}},m=p+" Iterator",A=v==q,F=!1,I=_.prototype,O=I[a]||I[f]||v&&I[v],P=O||j(v),z=v?A?j("entries"):P:void 0,B="Array"==p&&I.entries||O;if(B&&(g=s(B.call(new _)))!==Object.prototype&&g.next&&(o(g,m,!0),e||"function"==typeof g[a]||i(g,a,y)),A&&O&&O.name!==q&&(F=!0,P=function(){return O.call(this)}),e&&!d||!c&&!F&&I[a]||i(I,a,P),n[p]=P,n[m]=y,v)if(x={values:A?P:j(q),keys:w?P:j(l),entries:z},d)for(b in x)b in I||t(I,b,x[b]);else r(r.P+r.F*(c||F),p,x);return x};
},{"./_library":"kK6f","./_export":"mBzY","./_redefine":"KKz0","./_hide":"wzAN","./_iterators":"Oj8i","./_iter-create":"xxXw","./_set-to-string-tag":"skcG","./_object-gpo":"PsbN","./_wks":"beGs"}],"gnHT":[function(require,module,exports) {
"use strict";var i=require("./_string-at")(!0);require("./_iter-define")(String,"String",function(i){this._t=String(i),this._i=0},function(){var t,e=this._t,n=this._i;return n>=e.length?{value:void 0,done:!0}:(t=i(e,n),this._i+=t.length,{value:t,done:!1})});
},{"./_string-at":"OTQe","./_iter-define":"GVRu"}],"y1op":[function(require,module,exports) {
module.exports=function(){};
},{}],"FbuA":[function(require,module,exports) {
"use strict";var e=require("./_add-to-unscopables"),r=require("./_iter-step"),t=require("./_iterators"),i=require("./_to-iobject");module.exports=require("./_iter-define")(Array,"Array",function(e,r){this._t=i(e),this._i=0,this._k=r},function(){var e=this._t,t=this._k,i=this._i++;return!e||i>=e.length?(this._t=void 0,r(1)):r(0,"keys"==t?i:"values"==t?e[i]:[i,e[i]])},"values"),t.Arguments=t.Array,e("keys"),e("values"),e("entries");
},{"./_add-to-unscopables":"y1op","./_iter-step":"NzDr","./_iterators":"Oj8i","./_to-iobject":"J15f","./_iter-define":"GVRu"}],"bhAM":[function(require,module,exports) {

require("./es6.array.iterator");for(var t=require("./_global"),e=require("./_hide"),i=require("./_iterators"),r=require("./_wks")("toStringTag"),s="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),L=0;L<s.length;L++){var a=s[L],l=t[a],S=l&&l.prototype;S&&!S[r]&&e(S,r,a),i[a]=i.Array}
},{"./es6.array.iterator":"FbuA","./_global":"j4Jx","./_hide":"wzAN","./_iterators":"Oj8i","./_wks":"beGs"}],"bqrO":[function(require,module,exports) {
require("../../modules/es6.string.iterator"),require("../../modules/web.dom.iterable"),module.exports=require("../../modules/_wks-ext").f("iterator");
},{"../../modules/es6.string.iterator":"gnHT","../../modules/web.dom.iterable":"bhAM","../../modules/_wks-ext":"djbQ"}],"uGl8":[function(require,module,exports) {
module.exports=require("core-js/library/fn/symbol/iterator");
},{"core-js/library/fn/symbol/iterator":"bqrO"}],"hVHy":[function(require,module,exports) {
var e=require("@babel/runtime-corejs2/core-js/symbol"),o=require("@babel/runtime-corejs2/core-js/symbol/iterator");function t(r){return"function"==typeof e&&"symbol"==typeof o?(module.exports=t=function(e){return typeof e},module.exports.default=module.exports,module.exports.__esModule=!0):(module.exports=t=function(o){return o&&"function"==typeof e&&o.constructor===e&&o!==e.prototype?"symbol":typeof o},module.exports.default=module.exports,module.exports.__esModule=!0),t(r)}module.exports=t,module.exports.default=module.exports,module.exports.__esModule=!0;
},{"@babel/runtime-corejs2/core-js/symbol":"mr6k","@babel/runtime-corejs2/core-js/symbol/iterator":"uGl8"}],"Vebg":[function(require,module,exports) {
var r=require("./_is-object"),e=require("./_is-array"),o=require("./_wks")("species");module.exports=function(i){var t;return e(i)&&("function"!=typeof(t=i.constructor)||t!==Array&&!e(t.prototype)||(t=void 0),r(t)&&null===(t=t[o])&&(t=void 0)),void 0===t?Array:t};
},{"./_is-object":"mW2H","./_is-array":"oAbD","./_wks":"beGs"}],"rFx4":[function(require,module,exports) {
var r=require("./_array-species-constructor");module.exports=function(e,n){return new(r(e))(n)};
},{"./_array-species-constructor":"Vebg"}],"CMV7":[function(require,module,exports) {
var e=require("./_ctx"),r=require("./_iobject"),t=require("./_to-object"),i=require("./_to-length"),u=require("./_array-species-create");module.exports=function(n,c){var s=1==n,a=2==n,o=3==n,f=4==n,l=6==n,q=5==n||l,_=c||u;return function(u,c,h){for(var v,p,b=t(u),d=r(b),g=e(c,h,3),j=i(d.length),x=0,m=s?_(u,j):a?_(u,0):void 0;j>x;x++)if((q||x in d)&&(p=g(v=d[x],x,b),n))if(s)m[x]=p;else if(p)switch(n){case 3:return!0;case 5:return v;case 6:return x;case 2:m.push(v)}else if(f)return!1;return l?-1:o||f?f:m}};
},{"./_ctx":"t5ZG","./_iobject":"RFPi","./_to-object":"jK0c","./_to-length":"Ji2L","./_array-species-create":"rFx4"}],"pMGc":[function(require,module,exports) {
"use strict";var e=require("./_descriptors"),r=require("./_object-keys"),t=require("./_object-gops"),o=require("./_object-pie"),i=require("./_to-object"),c=require("./_iobject"),n=Object.assign;module.exports=!n||require("./_fails")(function(){var e={},r={},t=Symbol(),o="abcdefghijklmnopqrst";return e[t]=7,o.split("").forEach(function(e){r[e]=e}),7!=n({},e)[t]||Object.keys(n({},r)).join("")!=o})?function(n,u){for(var s=i(n),a=arguments.length,f=1,b=t.f,j=o.f;a>f;)for(var l,q=c(arguments[f++]),_=b?r(q).concat(b(q)):r(q),p=_.length,g=0;p>g;)l=_[g++],e&&!j.call(q,l)||(s[l]=q[l]);return s}:n;
},{"./_descriptors":"wB3W","./_object-keys":"fkxp","./_object-gops":"idNb","./_object-pie":"grnH","./_to-object":"jK0c","./_iobject":"RFPi","./_fails":"Shu3"}],"YG4e":[function(require,module,exports) {
var r=require("./_hide");module.exports=function(e,i,n){for(var o in i)n&&e[o]?e[o]=i[o]:r(e,o,i[o]);return e};
},{"./_hide":"wzAN"}],"hNRr":[function(require,module,exports) {
var r=require("./_an-object");module.exports=function(t,e,o,a){try{return a?e(r(o)[0],o[1]):e(o)}catch(n){var c=t.return;throw void 0!==c&&r(c.call(t)),n}};
},{"./_an-object":"a1lZ"}],"tRCg":[function(require,module,exports) {
var r=require("./_iterators"),e=require("./_wks")("iterator"),t=Array.prototype;module.exports=function(o){return void 0!==o&&(r.Array===o||t[e]===o)};
},{"./_iterators":"Oj8i","./_wks":"beGs"}],"cXyP":[function(require,module,exports) {
var e=require("./_cof"),t=require("./_wks")("toStringTag"),n="Arguments"==e(function(){return arguments}()),r=function(e,t){try{return e[t]}catch(n){}};module.exports=function(u){var o,c,i;return void 0===u?"Undefined":null===u?"Null":"string"==typeof(c=r(o=Object(u),t))?c:n?e(o):"Object"==(i=e(o))&&"function"==typeof o.callee?"Arguments":i};
},{"./_cof":"PoBK","./_wks":"beGs"}],"nXMQ":[function(require,module,exports) {
var r=require("./_classof"),e=require("./_wks")("iterator"),t=require("./_iterators");module.exports=require("./_core").getIteratorMethod=function(o){if(null!=o)return o[e]||o["@@iterator"]||t[r(o)]};
},{"./_classof":"cXyP","./_wks":"beGs","./_iterators":"Oj8i","./_core":"RosZ"}],"jK9s":[function(require,module,exports) {
var e=require("./_ctx"),r=require("./_iter-call"),t=require("./_is-array-iter"),i=require("./_an-object"),o=require("./_to-length"),n=require("./core.get-iterator-method"),u={},a={},f=module.exports=function(f,l,c,q,_){var h,s,d,g,p=_?function(){return f}:n(f),v=e(c,q,l?2:1),x=0;if("function"!=typeof p)throw TypeError(f+" is not iterable!");if(t(p)){for(h=o(f.length);h>x;x++)if((g=l?v(i(s=f[x])[0],s[1]):v(f[x]))===u||g===a)return g}else for(d=p.call(f);!(s=d.next()).done;)if((g=r(d,v,s.value,l))===u||g===a)return g};f.BREAK=u,f.RETURN=a;
},{"./_ctx":"t5ZG","./_iter-call":"hNRr","./_is-array-iter":"tRCg","./_an-object":"a1lZ","./_to-length":"Ji2L","./core.get-iterator-method":"nXMQ"}],"o7vD":[function(require,module,exports) {
var r=require("./_is-object");module.exports=function(e,i){if(!r(e)||e._t!==i)throw TypeError("Incompatible receiver, "+i+" required!");return e};
},{"./_is-object":"mW2H"}],"UMWd":[function(require,module,exports) {
"use strict";var e=require("./_redefine-all"),t=require("./_meta").getWeak,r=require("./_an-object"),i=require("./_is-object"),n=require("./_an-instance"),u=require("./_for-of"),o=require("./_array-methods"),s=require("./_has"),a=require("./_validate-collection"),c=o(5),f=o(6),_=0,h=function(e){return e._l||(e._l=new l)},l=function(){this.a=[]},d=function(e,t){return c(e.a,function(e){return e[0]===t})};l.prototype={get:function(e){var t=d(this,e);if(t)return t[1]},has:function(e){return!!d(this,e)},set:function(e,t){var r=d(this,e);r?r[1]=t:this.a.push([e,t])},delete:function(e){var t=f(this.a,function(t){return t[0]===e});return~t&&this.a.splice(t,1),!!~t}},module.exports={getConstructor:function(r,o,c,f){var l=r(function(e,t){n(e,l,o,"_i"),e._t=o,e._i=_++,e._l=void 0,null!=t&&u(t,c,e[f],e)});return e(l.prototype,{delete:function(e){if(!i(e))return!1;var r=t(e);return!0===r?h(a(this,o)).delete(e):r&&s(r,this._i)&&delete r[this._i]},has:function(e){if(!i(e))return!1;var r=t(e);return!0===r?h(a(this,o)).has(e):r&&s(r,this._i)}}),l},def:function(e,i,n){var u=t(r(i),!0);return!0===u?h(e).set(i,n):u[e._i]=n,e},ufstore:h};
},{"./_redefine-all":"YG4e","./_meta":"c1Ga","./_an-object":"a1lZ","./_is-object":"mW2H","./_an-instance":"Ii5e","./_for-of":"jK9s","./_array-methods":"CMV7","./_has":"UB6D","./_validate-collection":"o7vD"}],"y07f":[function(require,module,exports) {

"use strict";var e=require("./_global"),r=require("./_export"),t=require("./_meta"),i=require("./_fails"),o=require("./_hide"),n=require("./_redefine-all"),u=require("./_for-of"),s=require("./_an-instance"),a=require("./_is-object"),c=require("./_set-to-string-tag"),_=require("./_object-dp").f,f=require("./_array-methods")(0),d=require("./_descriptors");module.exports=function(p,l,q,h,g,y){var v=e[p],E=v,b=g?"set":"add",m=E&&E.prototype,x={};return d&&"function"==typeof E&&(y||m.forEach&&!i(function(){(new E).entries().next()}))?(E=l(function(e,r){s(e,E,p,"_c"),e._c=new v,null!=r&&u(r,g,e[b],e)}),f("add,clear,delete,forEach,get,has,set,keys,values,entries,toJSON".split(","),function(e){var r="add"==e||"set"==e;e in m&&(!y||"clear"!=e)&&o(E.prototype,e,function(t,i){if(s(this,E,e),!r&&y&&!a(t))return"get"==e&&void 0;var o=this._c[e](0===t?0:t,i);return r?this:o})}),y||_(E.prototype,"size",{get:function(){return this._c.size}})):(E=h.getConstructor(l,p,g,b),n(E.prototype,q),t.NEED=!0),c(E,p),x[p]=E,r(r.G+r.W+r.F,x),y||h.setStrong(E,p,g),E};
},{"./_global":"j4Jx","./_export":"mBzY","./_meta":"c1Ga","./_fails":"Shu3","./_hide":"wzAN","./_redefine-all":"YG4e","./_for-of":"jK9s","./_an-instance":"Ii5e","./_is-object":"mW2H","./_set-to-string-tag":"skcG","./_object-dp":"CgJ2","./_array-methods":"CMV7","./_descriptors":"wB3W"}],"T476":[function(require,module,exports) {

"use strict";var e,t=require("./_global"),r=require("./_array-methods")(0),i=require("./_redefine"),n=require("./_meta"),o=require("./_object-assign"),u=require("./_collection-weak"),c=require("./_is-object"),s=require("./_validate-collection"),a=require("./_validate-collection"),l=!t.ActiveXObject&&"ActiveXObject"in t,f="WeakMap",_=n.getWeak,h=Object.isExtensible,q=u.ufstore,v=function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}},d={get:function(e){if(c(e)){var t=_(e);return!0===t?q(s(this,f)).get(e):t?t[this._i]:void 0}},set:function(e,t){return u.def(s(this,f),e,t)}},g=module.exports=require("./_collection")(f,v,d,u,!0,!0);a&&l&&(o((e=u.getConstructor(v,f)).prototype,d),n.NEED=!0,r(["delete","has","get","set"],function(t){var r=g.prototype,n=r[t];i(r,t,function(r,i){if(c(r)&&!h(r)){this._f||(this._f=new e);var o=this._f[t](r,i);return"set"==t?this:o}return n.call(this,r,i)})}));
},{"./_global":"j4Jx","./_array-methods":"CMV7","./_redefine":"KKz0","./_meta":"c1Ga","./_object-assign":"pMGc","./_collection-weak":"UMWd","./_is-object":"mW2H","./_validate-collection":"o7vD","./_collection":"y07f"}],"KP1W":[function(require,module,exports) {
"use strict";var r=require("./_export");module.exports=function(e){r(r.S,e,{of:function(){for(var r=arguments.length,e=new Array(r);r--;)e[r]=arguments[r];return new this(e)}})};
},{"./_export":"mBzY"}],"nZrq":[function(require,module,exports) {
require("./_set-collection-of")("WeakMap");
},{"./_set-collection-of":"KP1W"}],"GyAI":[function(require,module,exports) {
"use strict";var r=require("./_export"),e=require("./_a-function"),u=require("./_ctx"),i=require("./_for-of");module.exports=function(t){r(r.S,t,{from:function(r){var t,n,o,s,f=arguments[1];return e(this),(t=void 0!==f)&&e(f),null==r?new this:(n=[],t?(o=0,s=u(f,arguments[2],2),i(r,!1,function(r){n.push(s(r,o++))})):i(r,!1,n.push,n),new this(n))}})};
},{"./_export":"mBzY","./_a-function":"gm2m","./_ctx":"t5ZG","./_for-of":"jK9s"}],"W33X":[function(require,module,exports) {
require("./_set-collection-from")("WeakMap");
},{"./_set-collection-from":"GyAI"}],"dxC7":[function(require,module,exports) {
require("../modules/es6.object.to-string"),require("../modules/web.dom.iterable"),require("../modules/es6.weak-map"),require("../modules/es7.weak-map.of"),require("../modules/es7.weak-map.from"),module.exports=require("../modules/_core").WeakMap;
},{"../modules/es6.object.to-string":"vKFU","../modules/web.dom.iterable":"bhAM","../modules/es6.weak-map":"T476","../modules/es7.weak-map.of":"nZrq","../modules/es7.weak-map.from":"W33X","../modules/_core":"RosZ"}],"HKHU":[function(require,module,exports) {
module.exports=require("core-js/library/fn/weak-map");
},{"core-js/library/fn/weak-map":"dxC7"}],"xZeS":[function(require,module,exports) {
var e=require("./_export");e(e.S+e.F*!require("./_descriptors"),"Object",{defineProperty:require("./_object-dp").f});
},{"./_export":"mBzY","./_descriptors":"wB3W","./_object-dp":"CgJ2"}],"tsEN":[function(require,module,exports) {
require("../../modules/es6.object.define-property");var e=require("../../modules/_core").Object;module.exports=function(r,o,t){return e.defineProperty(r,o,t)};
},{"../../modules/es6.object.define-property":"xZeS","../../modules/_core":"RosZ"}],"eIqn":[function(require,module,exports) {
module.exports=require("core-js/library/fn/object/define-property");
},{"core-js/library/fn/object/define-property":"tsEN"}],"vH7c":[function(require,module,exports) {
var e=require("./_export"),r=require("./_core"),t=require("./_fails");module.exports=function(c,i){var o=(r.Object||{})[c]||Object[c],u={};u[c]=i(o),e(e.S+e.F*t(function(){o(1)}),"Object",u)};
},{"./_export":"mBzY","./_core":"RosZ","./_fails":"Shu3"}],"oyvw":[function(require,module,exports) {
var r=require("./_to-iobject"),e=require("./_object-gopd").f;require("./_object-sap")("getOwnPropertyDescriptor",function(){return function(t,o){return e(r(t),o)}});
},{"./_to-iobject":"J15f","./_object-gopd":"Wxid","./_object-sap":"vH7c"}],"OREX":[function(require,module,exports) {
require("../../modules/es6.object.get-own-property-descriptor");var e=require("../../modules/_core").Object;module.exports=function(r,o){return e.getOwnPropertyDescriptor(r,o)};
},{"../../modules/es6.object.get-own-property-descriptor":"oyvw","../../modules/_core":"RosZ"}],"mQ9c":[function(require,module,exports) {
module.exports=require("core-js/library/fn/object/get-own-property-descriptor");
},{"core-js/library/fn/object/get-own-property-descriptor":"OREX"}],"LXwi":[function(require,module,exports) {
function e(e){return e&&e.__esModule?e:{default:e}}module.exports=e,module.exports.default=module.exports,module.exports.__esModule=!0;
},{}],"jH0M":[function(require,module,exports) {
var e=require("./_to-object"),r=require("./_object-keys");require("./_object-sap")("keys",function(){return function(t){return r(e(t))}});
},{"./_to-object":"jK0c","./_object-keys":"fkxp","./_object-sap":"vH7c"}],"LIS2":[function(require,module,exports) {
require("../../modules/es6.object.keys"),module.exports=require("../../modules/_core").Object.keys;
},{"../../modules/es6.object.keys":"jH0M","../../modules/_core":"RosZ"}],"d81a":[function(require,module,exports) {
module.exports=require("core-js/library/fn/object/keys");
},{"core-js/library/fn/object/keys":"LIS2"}],"gjXI":[function(require,module,exports) {
var e=require("./_export"),r=require("./_a-function"),n=require("./_an-object"),i=(require("./_global").Reflect||{}).apply,u=Function.apply;e(e.S+e.F*!require("./_fails")(function(){i(function(){})}),"Reflect",{apply:function(e,a,l){var t=r(e),c=n(l);return i?i(t,a,c):u.call(t,a,c)}});
},{"./_export":"mBzY","./_a-function":"gm2m","./_an-object":"a1lZ","./_global":"j4Jx","./_fails":"Shu3"}],"kfya":[function(require,module,exports) {
require("../../modules/es6.reflect.apply"),module.exports=require("../../modules/_core").Reflect.apply;
},{"../../modules/es6.reflect.apply":"gjXI","../../modules/_core":"RosZ"}],"Lf7Q":[function(require,module,exports) {
module.exports=require("core-js/library/fn/reflect/apply");
},{"core-js/library/fn/reflect/apply":"kfya"}],"xIr8":[function(require,module,exports) {
var r=require("./_an-object"),e=require("./_a-function"),u=require("./_wks")("species");module.exports=function(n,o){var i,t=r(n).constructor;return void 0===t||null==(i=r(t)[u])?o:e(i)};
},{"./_an-object":"a1lZ","./_a-function":"gm2m","./_wks":"beGs"}],"AjjS":[function(require,module,exports) {


var e,t,n,i=require("./_ctx"),o=require("./_invoke"),r=require("./_html"),s=require("./_dom-create"),a=require("./_global"),c=a.process,u=a.setImmediate,p=a.clearImmediate,f=a.MessageChannel,l=a.Dispatch,d=0,m={},h="onreadystatechange",g=function(){var e=+this;if(m.hasOwnProperty(e)){var t=m[e];delete m[e],t()}},v=function(e){g.call(e.data)};u&&p||(u=function(t){for(var n=[],i=1;arguments.length>i;)n.push(arguments[i++]);return m[++d]=function(){o("function"==typeof t?t:Function(t),n)},e(d),d},p=function(e){delete m[e]},"process"==require("./_cof")(c)?e=function(e){c.nextTick(i(g,e,1))}:l&&l.now?e=function(e){l.now(i(g,e,1))}:f?(n=(t=new f).port2,t.port1.onmessage=v,e=i(n.postMessage,n,1)):a.addEventListener&&"function"==typeof postMessage&&!a.importScripts?(e=function(e){a.postMessage(e+"","*")},a.addEventListener("message",v,!1)):e=h in s("script")?function(e){r.appendChild(s("script"))[h]=function(){r.removeChild(this),g.call(e)}}:function(e){setTimeout(i(g,e,1),0)}),module.exports={set:u,clear:p};
},{"./_ctx":"t5ZG","./_invoke":"kx31","./_html":"YTtJ","./_dom-create":"lbqg","./_global":"j4Jx","./_cof":"PoBK"}],"c677":[function(require,module,exports) {


var e=require("./_global"),t=require("./_task").set,r=e.MutationObserver||e.WebKitMutationObserver,n=e.process,o=e.Promise,a="process"==require("./_cof")(n);module.exports=function(){var i,c,s,v=function(){var e,t;for(a&&(e=n.domain)&&e.exit();i;){t=i.fn,i=i.next;try{t()}catch(r){throw i?s():c=void 0,r}}c=void 0,e&&e.enter()};if(a)s=function(){n.nextTick(v)};else if(!r||e.navigator&&e.navigator.standalone)if(o&&o.resolve){var u=o.resolve(void 0);s=function(){u.then(v)}}else s=function(){t.call(e,v)};else{var f=!0,l=document.createTextNode("");new r(v).observe(l,{characterData:!0}),s=function(){l.data=f=!f}}return function(e){var t={fn:e,next:void 0};c&&(c.next=t),i||(i=t,s()),c=t}};
},{"./_global":"j4Jx","./_task":"AjjS","./_cof":"PoBK"}],"URhp":[function(require,module,exports) {
"use strict";var r=require("./_a-function");function e(e){var o,t;this.promise=new e(function(r,e){if(void 0!==o||void 0!==t)throw TypeError("Bad Promise constructor");o=r,t=e}),this.resolve=r(o),this.reject=r(t)}module.exports.f=function(r){return new e(r)};
},{"./_a-function":"gm2m"}],"XShi":[function(require,module,exports) {

var e=require("./_global"),r=e.navigator;module.exports=r&&r.userAgent||"";
},{"./_global":"j4Jx"}],"MmJJ":[function(require,module,exports) {
var r=require("./_an-object"),e=require("./_is-object"),i=require("./_new-promise-capability");module.exports=function(o,t){if(r(o),e(t)&&t.constructor===o)return t;var u=i.f(o);return(0,u.resolve)(t),u.promise};
},{"./_an-object":"a1lZ","./_is-object":"mW2H","./_new-promise-capability":"URhp"}],"Z4Xj":[function(require,module,exports) {

"use strict";var e=require("./_global"),r=require("./_core"),i=require("./_object-dp"),t=require("./_descriptors"),u=require("./_wks")("species");module.exports=function(o){var c="function"==typeof r[o]?r[o]:e[o];t&&c&&!c[u]&&i.f(c,u,{configurable:!0,get:function(){return this}})};
},{"./_global":"j4Jx","./_core":"RosZ","./_object-dp":"CgJ2","./_descriptors":"wB3W","./_wks":"beGs"}],"O2k0":[function(require,module,exports) {
var r=require("./_wks")("iterator"),t=!1;try{var n=[7][r]();n.return=function(){t=!0},Array.from(n,function(){throw 2})}catch(e){}module.exports=function(n,u){if(!u&&!t)return!1;var o=!1;try{var c=[7],a=c[r]();a.next=function(){return{done:o=!0}},c[r]=function(){return a},n(c)}catch(e){}return o};
},{"./_wks":"beGs"}],"QJD6":[function(require,module,exports) {


"use strict";var e,r,t,i,n=require("./_library"),o=require("./_global"),c=require("./_ctx"),s=require("./_classof"),u=require("./_export"),a=require("./_is-object"),_=require("./_a-function"),h=require("./_an-instance"),f=require("./_for-of"),l=require("./_species-constructor"),v=require("./_task").set,d=require("./_microtask")(),p=require("./_new-promise-capability"),m=require("./_perform"),q=require("./_user-agent"),y=require("./_promise-resolve"),j="Promise",w=o.TypeError,g=o.process,x=g&&g.versions,b=x&&x.v8||"",k=o[j],P="process"==s(g),F=function(){},S=r=p.f,E=!!function(){try{var e=k.resolve(1),r=(e.constructor={})[require("./_wks")("species")]=function(e){e(F,F)};return(P||"function"==typeof PromiseRejectionEvent)&&e.then(F)instanceof r&&0!==b.indexOf("6.6")&&-1===q.indexOf("Chrome/66")}catch(t){}}(),O=function(e){var r;return!(!a(e)||"function"!=typeof(r=e.then))&&r},R=function(e,r){if(!e._n){e._n=!0;var t=e._c;d(function(){for(var i=e._v,n=1==e._s,o=0,c=function(r){var t,o,c,s=n?r.ok:r.fail,u=r.resolve,a=r.reject,_=r.domain;try{s?(n||(2==e._h&&H(e),e._h=1),!0===s?t=i:(_&&_.enter(),t=s(i),_&&(_.exit(),c=!0)),t===r.promise?a(w("Promise-chain cycle")):(o=O(t))?o.call(t,u,a):u(t)):a(i)}catch(h){_&&!c&&_.exit(),a(h)}};t.length>o;)c(t[o++]);e._c=[],e._n=!1,r&&!e._h&&C(e)})}},C=function(e){v.call(o,function(){var r,t,i,n=e._v,c=G(e);if(c&&(r=m(function(){P?g.emit("unhandledRejection",n,e):(t=o.onunhandledrejection)?t({promise:e,reason:n}):(i=o.console)&&i.error&&i.error("Unhandled promise rejection",n)}),e._h=P||G(e)?2:1),e._a=void 0,c&&r.e)throw r.v})},G=function(e){return 1!==e._h&&0===(e._a||e._c).length},H=function(e){v.call(o,function(){var r;P?g.emit("rejectionHandled",e):(r=o.onrejectionhandled)&&r({promise:e,reason:e._v})})},T=function(e){var r=this;r._d||(r._d=!0,(r=r._w||r)._v=e,r._s=2,r._a||(r._a=r._c.slice()),R(r,!0))},U=function(e){var r,t=this;if(!t._d){t._d=!0,t=t._w||t;try{if(t===e)throw w("Promise can't be resolved itself");(r=O(e))?d(function(){var i={_w:t,_d:!1};try{r.call(e,c(U,i,1),c(T,i,1))}catch(n){T.call(i,n)}}):(t._v=e,t._s=1,R(t,!1))}catch(i){T.call({_w:t,_d:!1},i)}}};E||(k=function(r){h(this,k,j,"_h"),_(r),e.call(this);try{r(c(U,this,1),c(T,this,1))}catch(t){T.call(this,t)}},(e=function(e){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=require("./_redefine-all")(k.prototype,{then:function(e,r){var t=S(l(this,k));return t.ok="function"!=typeof e||e,t.fail="function"==typeof r&&r,t.domain=P?g.domain:void 0,this._c.push(t),this._a&&this._a.push(t),this._s&&R(this,!1),t.promise},catch:function(e){return this.then(void 0,e)}}),t=function(){var r=new e;this.promise=r,this.resolve=c(U,r,1),this.reject=c(T,r,1)},p.f=S=function(e){return e===k||e===i?new t(e):r(e)}),u(u.G+u.W+u.F*!E,{Promise:k}),require("./_set-to-string-tag")(k,j),require("./_set-species")(j),i=require("./_core")[j],u(u.S+u.F*!E,j,{reject:function(e){var r=S(this);return(0,r.reject)(e),r.promise}}),u(u.S+u.F*(n||!E),j,{resolve:function(e){return y(n&&this===i?k:this,e)}}),u(u.S+u.F*!(E&&require("./_iter-detect")(function(e){k.all(e).catch(F)})),j,{all:function(e){var r=this,t=S(r),i=t.resolve,n=t.reject,o=m(function(){var t=[],o=0,c=1;f(e,!1,function(e){var s=o++,u=!1;t.push(void 0),c++,r.resolve(e).then(function(e){u||(u=!0,t[s]=e,--c||i(t))},n)}),--c||i(t)});return o.e&&n(o.v),t.promise},race:function(e){var r=this,t=S(r),i=t.reject,n=m(function(){f(e,!1,function(e){r.resolve(e).then(t.resolve,i)})});return n.e&&i(n.v),t.promise}});
},{"./_library":"kK6f","./_global":"j4Jx","./_ctx":"t5ZG","./_classof":"cXyP","./_export":"mBzY","./_is-object":"mW2H","./_a-function":"gm2m","./_an-instance":"Ii5e","./_for-of":"jK9s","./_species-constructor":"xIr8","./_task":"AjjS","./_microtask":"c677","./_new-promise-capability":"URhp","./_perform":"Ae06","./_user-agent":"XShi","./_promise-resolve":"MmJJ","./_wks":"beGs","./_redefine-all":"YG4e","./_set-to-string-tag":"skcG","./_set-species":"Z4Xj","./_core":"RosZ","./_iter-detect":"O2k0"}],"w4mz":[function(require,module,exports) {

"use strict";var r=require("./_export"),e=require("./_core"),t=require("./_global"),n=require("./_species-constructor"),i=require("./_promise-resolve");r(r.P+r.R,"Promise",{finally:function(r){var o=n(this,e.Promise||t.Promise),u="function"==typeof r;return this.then(u?function(e){return i(o,r()).then(function(){return e})}:r,u?function(e){return i(o,r()).then(function(){throw e})}:r)}});
},{"./_export":"mBzY","./_core":"RosZ","./_global":"j4Jx","./_species-constructor":"xIr8","./_promise-resolve":"MmJJ"}],"YyZB":[function(require,module,exports) {
"use strict";var r=require("./_export"),e=require("./_new-promise-capability"),i=require("./_perform");r(r.S,"Promise",{try:function(r){var t=e.f(this),o=i(r);return(o.e?t.reject:t.resolve)(o.v),t.promise}});
},{"./_export":"mBzY","./_new-promise-capability":"URhp","./_perform":"Ae06"}],"GApm":[function(require,module,exports) {
require("../modules/es6.object.to-string"),require("../modules/es6.string.iterator"),require("../modules/web.dom.iterable"),require("../modules/es6.promise"),require("../modules/es7.promise.finally"),require("../modules/es7.promise.try"),module.exports=require("../modules/_core").Promise;
},{"../modules/es6.object.to-string":"vKFU","../modules/es6.string.iterator":"gnHT","../modules/web.dom.iterable":"bhAM","../modules/es6.promise":"QJD6","../modules/es7.promise.finally":"w4mz","../modules/es7.promise.try":"YyZB","../modules/_core":"RosZ"}],"eOfj":[function(require,module,exports) {
module.exports=require("core-js/library/fn/promise");
},{"core-js/library/fn/promise":"GApm"}],"BblM":[function(require,module,exports) {
function r(r,n){for(var e=-1,l=null==r?0:r.length,o=Array(l);++e<l;)o[e]=n(r[e],e,r);return o}module.exports=r;
},{}],"s9iF":[function(require,module,exports) {
function t(){this.__data__=[],this.size=0}module.exports=t;
},{}],"LIpy":[function(require,module,exports) {
function e(e,n){return e===n||e!=e&&n!=n}module.exports=e;
},{}],"yEjJ":[function(require,module,exports) {
var r=require("./eq");function e(e,n){for(var t=e.length;t--;)if(r(e[t][0],n))return t;return-1}module.exports=e;
},{"./eq":"LIpy"}],"bWyl":[function(require,module,exports) {
var e=require("./_assocIndexOf"),r=Array.prototype,t=r.splice;function a(r){var a=this.__data__,o=e(a,r);return!(o<0)&&(o==a.length-1?a.pop():t.call(a,o,1),--this.size,!0)}module.exports=a;
},{"./_assocIndexOf":"yEjJ"}],"Ewuv":[function(require,module,exports) {
var r=require("./_assocIndexOf");function e(e){var a=this.__data__,o=r(a,e);return o<0?void 0:a[o][1]}module.exports=e;
},{"./_assocIndexOf":"yEjJ"}],"xDQX":[function(require,module,exports) {
var e=require("./_assocIndexOf");function r(r){return e(this.__data__,r)>-1}module.exports=r;
},{"./_assocIndexOf":"yEjJ"}],"h0zV":[function(require,module,exports) {
var s=require("./_assocIndexOf");function e(e,r){var t=this.__data__,i=s(t,e);return i<0?(++this.size,t.push([e,r])):t[i][1]=r,this}module.exports=e;
},{"./_assocIndexOf":"yEjJ"}],"Xk23":[function(require,module,exports) {
var e=require("./_listCacheClear"),t=require("./_listCacheDelete"),r=require("./_listCacheGet"),l=require("./_listCacheHas"),o=require("./_listCacheSet");function a(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var l=e[t];this.set(l[0],l[1])}}a.prototype.clear=e,a.prototype.delete=t,a.prototype.get=r,a.prototype.has=l,a.prototype.set=o,module.exports=a;
},{"./_listCacheClear":"s9iF","./_listCacheDelete":"bWyl","./_listCacheGet":"Ewuv","./_listCacheHas":"xDQX","./_listCacheSet":"h0zV"}],"y4DG":[function(require,module,exports) {
var e=require("./_ListCache");function i(){this.__data__=new e,this.size=0}module.exports=i;
},{"./_ListCache":"Xk23"}],"TpjK":[function(require,module,exports) {
function e(e){var t=this.__data__,i=t.delete(e);return this.size=t.size,i}module.exports=e;
},{}],"skbs":[function(require,module,exports) {
function t(t){return this.__data__.get(t)}module.exports=t;
},{}],"ocJ6":[function(require,module,exports) {
function t(t){return this.__data__.has(t)}module.exports=t;
},{}],"j3D9":[function(require,module,exports) {
var global = arguments[3];
var e=arguments[3],t="object"==typeof e&&e&&e.Object===Object&&e;module.exports=t;
},{}],"MIhM":[function(require,module,exports) {
var e=require("./_freeGlobal"),t="object"==typeof self&&self&&self.Object===Object&&self,l=e||t||Function("return this")();module.exports=l;
},{"./_freeGlobal":"j3D9"}],"wppe":[function(require,module,exports) {
var o=require("./_root"),r=o.Symbol;module.exports=r;
},{"./_root":"MIhM"}],"uiOY":[function(require,module,exports) {
var r=require("./_Symbol"),t=Object.prototype,e=t.hasOwnProperty,o=t.toString,a=r?r.toStringTag:void 0;function l(r){var t=e.call(r,a),l=r[a];try{r[a]=void 0;var c=!0}catch(n){}var i=o.call(r);return c&&(t?r[a]=l:delete r[a]),i}module.exports=l;
},{"./_Symbol":"wppe"}],"lPmd":[function(require,module,exports) {
var t=Object.prototype,o=t.toString;function r(t){return o.call(t)}module.exports=r;
},{}],"e5TX":[function(require,module,exports) {
var e=require("./_Symbol"),r=require("./_getRawTag"),o=require("./_objectToString"),t="[object Null]",i="[object Undefined]",n=e?e.toStringTag:void 0;function u(e){return null==e?void 0===e?i:t:n&&n in Object(e)?r(e):o(e)}module.exports=u;
},{"./_Symbol":"wppe","./_getRawTag":"uiOY","./_objectToString":"lPmd"}],"u9vI":[function(require,module,exports) {
function n(n){var o=typeof n;return null!=n&&("object"==o||"function"==o)}module.exports=n;
},{}],"dRuq":[function(require,module,exports) {
var e=require("./_baseGetTag"),r=require("./isObject"),t="[object AsyncFunction]",n="[object Function]",o="[object GeneratorFunction]",c="[object Proxy]";function u(u){if(!r(u))return!1;var i=e(u);return i==n||i==o||i==t||i==c}module.exports=u;
},{"./_baseGetTag":"e5TX","./isObject":"u9vI"}],"q3B8":[function(require,module,exports) {
var r=require("./_root"),e=r["__core-js_shared__"];module.exports=e;
},{"./_root":"MIhM"}],"qpNZ":[function(require,module,exports) {
var e=require("./_coreJsData"),r=function(){var r=/[^.]+$/.exec(e&&e.keys&&e.keys.IE_PROTO||"");return r?"Symbol(src)_1."+r:""}();function n(e){return!!r&&r in e}module.exports=n;
},{"./_coreJsData":"q3B8"}],"g55O":[function(require,module,exports) {
var t=Function.prototype,r=t.toString;function n(t){if(null!=t){try{return r.call(t)}catch(n){}try{return t+""}catch(n){}}return""}module.exports=n;
},{}],"iEGD":[function(require,module,exports) {
var e=require("./isFunction"),r=require("./_isMasked"),t=require("./isObject"),o=require("./_toSource"),n=/[\\^$.*+?()[\]{}|]/g,c=/^\[object .+?Constructor\]$/,i=Function.prototype,u=Object.prototype,p=i.toString,s=u.hasOwnProperty,a=RegExp("^"+p.call(s).replace(n,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function l(n){return!(!t(n)||r(n))&&(e(n)?a:c).test(o(n))}module.exports=l;
},{"./isFunction":"dRuq","./_isMasked":"qpNZ","./isObject":"u9vI","./_toSource":"g55O"}],"Nk5W":[function(require,module,exports) {
function n(n,o){return null==n?void 0:n[o]}module.exports=n;
},{}],"bViC":[function(require,module,exports) {
var e=require("./_baseIsNative"),r=require("./_getValue");function u(u,a){var i=r(u,a);return e(i)?i:void 0}module.exports=u;
},{"./_baseIsNative":"iEGD","./_getValue":"Nk5W"}],"K9uV":[function(require,module,exports) {
var e=require("./_getNative"),r=require("./_root"),o=e(r,"Map");module.exports=o;
},{"./_getNative":"bViC","./_root":"MIhM"}],"FTXF":[function(require,module,exports) {
var e=require("./_getNative"),r=e(Object,"create");module.exports=r;
},{"./_getNative":"bViC"}],"RxSq":[function(require,module,exports) {
var e=require("./_nativeCreate");function t(){this.__data__=e?e(null):{},this.size=0}module.exports=t;
},{"./_nativeCreate":"FTXF"}],"qBl2":[function(require,module,exports) {
function t(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}module.exports=t;
},{}],"hClK":[function(require,module,exports) {
var e=require("./_nativeCreate"),r="__lodash_hash_undefined__",t=Object.prototype,a=t.hasOwnProperty;function _(t){var _=this.__data__;if(e){var o=_[t];return o===r?void 0:o}return a.call(_,t)?_[t]:void 0}module.exports=_;
},{"./_nativeCreate":"FTXF"}],"YIaf":[function(require,module,exports) {
var e=require("./_nativeCreate"),r=Object.prototype,t=r.hasOwnProperty;function a(r){var a=this.__data__;return e?void 0!==a[r]:t.call(a,r)}module.exports=a;
},{"./_nativeCreate":"FTXF"}],"Ag0p":[function(require,module,exports) {
var e=require("./_nativeCreate"),_="__lodash_hash_undefined__";function i(i,t){var a=this.__data__;return this.size+=this.has(i)?0:1,a[i]=e&&void 0===t?_:t,this}module.exports=i;
},{"./_nativeCreate":"FTXF"}],"C8N4":[function(require,module,exports) {
var e=require("./_hashClear"),r=require("./_hashDelete"),t=require("./_hashGet"),h=require("./_hashHas"),o=require("./_hashSet");function a(e){var r=-1,t=null==e?0:e.length;for(this.clear();++r<t;){var h=e[r];this.set(h[0],h[1])}}a.prototype.clear=e,a.prototype.delete=r,a.prototype.get=t,a.prototype.has=h,a.prototype.set=o,module.exports=a;
},{"./_hashClear":"RxSq","./_hashDelete":"qBl2","./_hashGet":"hClK","./_hashHas":"YIaf","./_hashSet":"Ag0p"}],"lBq7":[function(require,module,exports) {
var e=require("./_Hash"),i=require("./_ListCache"),r=require("./_Map");function a(){this.size=0,this.__data__={hash:new e,map:new(r||i),string:new e}}module.exports=a;
},{"./_Hash":"C8N4","./_ListCache":"Xk23","./_Map":"K9uV"}],"XJYD":[function(require,module,exports) {
function o(o){var n=typeof o;return"string"==n||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==o:null===o}module.exports=o;
},{}],"ZC1a":[function(require,module,exports) {
var r=require("./_isKeyable");function e(e,a){var t=e.__data__;return r(a)?t["string"==typeof a?"string":"hash"]:t.map}module.exports=e;
},{"./_isKeyable":"XJYD"}],"cDyG":[function(require,module,exports) {
var e=require("./_getMapData");function t(t){var r=e(this,t).delete(t);return this.size-=r?1:0,r}module.exports=t;
},{"./_getMapData":"ZC1a"}],"G3gK":[function(require,module,exports) {
var e=require("./_getMapData");function t(t){return e(this,t).get(t)}module.exports=t;
},{"./_getMapData":"ZC1a"}],"ueph":[function(require,module,exports) {
var e=require("./_getMapData");function r(r){return e(this,r).has(r)}module.exports=r;
},{"./_getMapData":"ZC1a"}],"UY82":[function(require,module,exports) {
var e=require("./_getMapData");function t(t,i){var s=e(this,t),r=s.size;return s.set(t,i),this.size+=s.size==r?0:1,this}module.exports=t;
},{"./_getMapData":"ZC1a"}],"wtMJ":[function(require,module,exports) {
var e=require("./_mapCacheClear"),r=require("./_mapCacheDelete"),t=require("./_mapCacheGet"),a=require("./_mapCacheHas"),p=require("./_mapCacheSet");function o(e){var r=-1,t=null==e?0:e.length;for(this.clear();++r<t;){var a=e[r];this.set(a[0],a[1])}}o.prototype.clear=e,o.prototype.delete=r,o.prototype.get=t,o.prototype.has=a,o.prototype.set=p,module.exports=o;
},{"./_mapCacheClear":"lBq7","./_mapCacheDelete":"cDyG","./_mapCacheGet":"G3gK","./_mapCacheHas":"ueph","./_mapCacheSet":"UY82"}],"fwYF":[function(require,module,exports) {
var e=require("./_ListCache"),i=require("./_Map"),t=require("./_MapCache"),s=200;function _(_,a){var r=this.__data__;if(r instanceof e){var h=r.__data__;if(!i||h.length<s-1)return h.push([_,a]),this.size=++r.size,this;r=this.__data__=new t(h)}return r.set(_,a),this.size=r.size,this}module.exports=_;
},{"./_ListCache":"Xk23","./_Map":"K9uV","./_MapCache":"wtMJ"}],"I84N":[function(require,module,exports) {
var e=require("./_ListCache"),t=require("./_stackClear"),r=require("./_stackDelete"),a=require("./_stackGet"),s=require("./_stackHas"),o=require("./_stackSet");function i(t){var r=this.__data__=new e(t);this.size=r.size}i.prototype.clear=t,i.prototype.delete=r,i.prototype.get=a,i.prototype.has=s,i.prototype.set=o,module.exports=i;
},{"./_ListCache":"Xk23","./_stackClear":"y4DG","./_stackDelete":"TpjK","./_stackGet":"skbs","./_stackHas":"ocJ6","./_stackSet":"fwYF"}],"D78i":[function(require,module,exports) {
function n(n,r){for(var e=-1,l=null==n?0:n.length;++e<l&&!1!==r(n[e],e,n););return n}module.exports=n;
},{}],"kAdy":[function(require,module,exports) {
var e=require("./_getNative"),r=function(){try{var r=e(Object,"defineProperty");return r({},"",{}),r}catch(t){}}();module.exports=r;
},{"./_getNative":"bViC"}],"d05L":[function(require,module,exports) {
var e=require("./_defineProperty");function r(r,o,u){"__proto__"==o&&e?e(r,o,{configurable:!0,enumerable:!0,value:u,writable:!0}):r[o]=u}module.exports=r;
},{"./_defineProperty":"kAdy"}],"pS95":[function(require,module,exports) {
var e=require("./_baseAssignValue"),r=require("./eq"),o=Object.prototype,a=o.hasOwnProperty;function i(o,i,t){var n=o[i];a.call(o,i)&&r(n,t)&&(void 0!==t||i in o)||e(o,i,t)}module.exports=i;
},{"./_baseAssignValue":"d05L","./eq":"LIpy"}],"dtkN":[function(require,module,exports) {
var r=require("./_assignValue"),e=require("./_baseAssignValue");function a(a,i,u,n){var o=!u;u||(u={});for(var s=-1,v=i.length;++s<v;){var l=i[s],t=n?n(u[l],a[l],l,u,a):void 0;void 0===t&&(t=a[l]),o?e(u,l,t):r(u,l,t)}return u}module.exports=a;
},{"./_assignValue":"pS95","./_baseAssignValue":"d05L"}],"r8MY":[function(require,module,exports) {
function r(r,o){for(var e=-1,n=Array(r);++e<r;)n[e]=o(e);return n}module.exports=r;
},{}],"OuyB":[function(require,module,exports) {
function e(e){return null!=e&&"object"==typeof e}module.exports=e;
},{}],"pK4Y":[function(require,module,exports) {
var e=require("./_baseGetTag"),r=require("./isObjectLike"),t="[object Arguments]";function u(u){return r(u)&&e(u)==t}module.exports=u;
},{"./_baseGetTag":"e5TX","./isObjectLike":"OuyB"}],"tilN":[function(require,module,exports) {
var e=require("./_baseIsArguments"),r=require("./isObjectLike"),t=Object.prototype,l=t.hasOwnProperty,n=t.propertyIsEnumerable,u=e(function(){return arguments}())?e:function(e){return r(e)&&l.call(e,"callee")&&!n.call(e,"callee")};module.exports=u;
},{"./_baseIsArguments":"pK4Y","./isObjectLike":"OuyB"}],"p0cq":[function(require,module,exports) {
var r=Array.isArray;module.exports=r;
},{}],"PYZb":[function(require,module,exports) {
function e(){return!1}module.exports=e;
},{}],"iyC2":[function(require,module,exports) {

var e=require("./_root"),o=require("./stubFalse"),r="object"==typeof exports&&exports&&!exports.nodeType&&exports,t=r&&"object"==typeof module&&module&&!module.nodeType&&module,p=t&&t.exports===r,u=p?e.Buffer:void 0,d=u?u.isBuffer:void 0,s=d||o;module.exports=s;
},{"./_root":"MIhM","./stubFalse":"PYZb"}],"AGrE":[function(require,module,exports) {
var e=9007199254740991,r=/^(?:0|[1-9]\d*)$/;function t(t,n){var o=typeof t;return!!(n=null==n?e:n)&&("number"==o||"symbol"!=o&&r.test(t))&&t>-1&&t%1==0&&t<n}module.exports=t;
},{}],"GmNU":[function(require,module,exports) {
var e=9007199254740991;function r(r){return"number"==typeof r&&r>-1&&r%1==0&&r<=e}module.exports=r;
},{}],"L2LX":[function(require,module,exports) {
var e=require("./_baseGetTag"),t=require("./isLength"),r=require("./isObjectLike"),o="[object Arguments]",b="[object Array]",c="[object Boolean]",j="[object Date]",a="[object Error]",n="[object Function]",i="[object Map]",A="[object Number]",y="[object Object]",u="[object RegExp]",g="[object Set]",l="[object String]",p="[object WeakMap]",s="[object ArrayBuffer]",m="[object DataView]",U="[object Float32Array]",f="[object Float64Array]",q="[object Int8Array]",F="[object Int16Array]",I="[object Int32Array]",d="[object Uint8Array]",h="[object Uint8ClampedArray]",k="[object Uint16Array]",x="[object Uint32Array]",B={};function D(o){return r(o)&&t(o.length)&&!!B[e(o)]}B[U]=B[f]=B[q]=B[F]=B[I]=B[d]=B[h]=B[k]=B[x]=!0,B[o]=B[b]=B[s]=B[c]=B[m]=B[j]=B[a]=B[n]=B[i]=B[A]=B[y]=B[u]=B[g]=B[l]=B[p]=!1,module.exports=D;
},{"./_baseGetTag":"e5TX","./isLength":"GmNU","./isObjectLike":"OuyB"}],"PnXa":[function(require,module,exports) {
function n(n){return function(r){return n(r)}}module.exports=n;
},{}],"PBPf":[function(require,module,exports) {
var e=require("./_freeGlobal"),o="object"==typeof exports&&exports&&!exports.nodeType&&exports,r=o&&"object"==typeof module&&module&&!module.nodeType&&module,t=r&&r.exports===o,p=t&&e.process,u=function(){try{var e=r&&r.require&&r.require("util").types;return e||p&&p.binding&&p.binding("util")}catch(o){}}();module.exports=u;
},{"./_freeGlobal":"j3D9"}],"kwIb":[function(require,module,exports) {
var e=require("./_baseIsTypedArray"),r=require("./_baseUnary"),a=require("./_nodeUtil"),i=a&&a.isTypedArray,s=i?r(i):e;module.exports=s;
},{"./_baseIsTypedArray":"L2LX","./_baseUnary":"PnXa","./_nodeUtil":"PBPf"}],"VcLW":[function(require,module,exports) {
var e=require("./_baseTimes"),r=require("./isArguments"),t=require("./isArray"),i=require("./isBuffer"),n=require("./_isIndex"),s=require("./isTypedArray"),u=Object.prototype,f=u.hasOwnProperty;function a(u,a){var o=t(u),p=!o&&r(u),y=!o&&!p&&i(u),g=!o&&!p&&!y&&s(u),h=o||p||y||g,l=h?e(u.length,String):[],q=l.length;for(var b in u)!a&&!f.call(u,b)||h&&("length"==b||y&&("offset"==b||"parent"==b)||g&&("buffer"==b||"byteLength"==b||"byteOffset"==b)||n(b,q))||l.push(b);return l}module.exports=a;
},{"./_baseTimes":"r8MY","./isArguments":"tilN","./isArray":"p0cq","./isBuffer":"iyC2","./_isIndex":"AGrE","./isTypedArray":"kwIb"}],"nhsl":[function(require,module,exports) {
var t=Object.prototype;function o(o){var r=o&&o.constructor;return o===("function"==typeof r&&r.prototype||t)}module.exports=o;
},{}],"oss3":[function(require,module,exports) {
function n(n,r){return function(t){return n(r(t))}}module.exports=n;
},{}],"J1oc":[function(require,module,exports) {
var e=require("./_overArg"),r=e(Object.keys,Object);module.exports=r;
},{"./_overArg":"oss3"}],"BNjb":[function(require,module,exports) {
var r=require("./_isPrototype"),e=require("./_nativeKeys"),t=Object.prototype,o=t.hasOwnProperty;function n(t){if(!r(t))return e(t);var n=[];for(var u in Object(t))o.call(t,u)&&"constructor"!=u&&n.push(u);return n}module.exports=n;
},{"./_isPrototype":"nhsl","./_nativeKeys":"J1oc"}],"LN6c":[function(require,module,exports) {
var e=require("./isFunction"),n=require("./isLength");function r(r){return null!=r&&n(r.length)&&!e(r)}module.exports=r;
},{"./isFunction":"dRuq","./isLength":"GmNU"}],"HI10":[function(require,module,exports) {
var e=require("./_arrayLikeKeys"),r=require("./_baseKeys"),i=require("./isArrayLike");function u(u){return i(u)?e(u):r(u)}module.exports=u;
},{"./_arrayLikeKeys":"VcLW","./_baseKeys":"BNjb","./isArrayLike":"LN6c"}],"eFjB":[function(require,module,exports) {
var e=require("./_copyObject"),r=require("./keys");function u(u,o){return u&&e(o,r(o),u)}module.exports=u;
},{"./_copyObject":"dtkN","./keys":"HI10"}],"uy4o":[function(require,module,exports) {
function r(r){var n=[];if(null!=r)for(var u in Object(r))n.push(u);return n}module.exports=r;
},{}],"FASg":[function(require,module,exports) {
var r=require("./isObject"),e=require("./_isPrototype"),t=require("./_nativeKeysIn"),o=Object.prototype,i=o.hasOwnProperty;function n(o){if(!r(o))return t(o);var n=e(o),u=[];for(var s in o)("constructor"!=s||!n&&i.call(o,s))&&u.push(s);return u}module.exports=n;
},{"./isObject":"u9vI","./_isPrototype":"nhsl","./_nativeKeysIn":"uy4o"}],"UACB":[function(require,module,exports) {
var e=require("./_arrayLikeKeys"),r=require("./_baseKeysIn"),i=require("./isArrayLike");function u(u){return i(u)?e(u,!0):r(u)}module.exports=u;
},{"./_arrayLikeKeys":"VcLW","./_baseKeysIn":"FASg","./isArrayLike":"LN6c"}],"q2Io":[function(require,module,exports) {
var e=require("./_copyObject"),r=require("./keysIn");function u(u,n){return u&&e(n,r(n),u)}module.exports=u;
},{"./_copyObject":"dtkN","./keysIn":"UACB"}],"s4SJ":[function(require,module,exports) {

var e=require("./_root"),o="object"==typeof exports&&exports&&!exports.nodeType&&exports,r=o&&"object"==typeof module&&module&&!module.nodeType&&module,t=r&&r.exports===o,p=t?e.Buffer:void 0,u=p?p.allocUnsafe:void 0;function n(e,o){if(o)return e.slice();var r=e.length,t=u?u(r):new e.constructor(r);return e.copy(t),t}module.exports=n;
},{"./_root":"MIhM"}],"Mkgn":[function(require,module,exports) {
function r(r,e){var n=-1,o=r.length;for(e||(e=Array(o));++n<o;)e[n]=r[n];return e}module.exports=r;
},{}],"uvMU":[function(require,module,exports) {
function r(r,n){for(var e=-1,l=null==r?0:r.length,o=0,t=[];++e<l;){var u=r[e];n(u,e,r)&&(t[o++]=u)}return t}module.exports=r;
},{}],"Mmba":[function(require,module,exports) {
function e(){return[]}module.exports=e;
},{}],"EvLK":[function(require,module,exports) {
var r=require("./_arrayFilter"),e=require("./stubArray"),t=Object.prototype,u=t.propertyIsEnumerable,n=Object.getOwnPropertySymbols,o=n?function(e){return null==e?[]:(e=Object(e),r(n(e),function(r){return u.call(e,r)}))}:e;module.exports=o;
},{"./_arrayFilter":"uvMU","./stubArray":"Mmba"}],"az4F":[function(require,module,exports) {
var e=require("./_copyObject"),r=require("./_getSymbols");function o(o,t){return e(o,r(o),t)}module.exports=o;
},{"./_copyObject":"dtkN","./_getSymbols":"EvLK"}],"srRO":[function(require,module,exports) {
function e(e,n){for(var r=-1,t=n.length,o=e.length;++r<t;)e[o+r]=n[r];return e}module.exports=e;
},{}],"CXf5":[function(require,module,exports) {
var e=require("./_overArg"),r=e(Object.getPrototypeOf,Object);module.exports=r;
},{"./_overArg":"oss3"}],"q8BM":[function(require,module,exports) {
var r=require("./_arrayPush"),e=require("./_getPrototype"),t=require("./_getSymbols"),o=require("./stubArray"),u=Object.getOwnPropertySymbols,y=u?function(o){for(var u=[];o;)r(u,t(o)),o=e(o);return u}:o;module.exports=y;
},{"./_arrayPush":"srRO","./_getPrototype":"CXf5","./_getSymbols":"EvLK","./stubArray":"Mmba"}],"K7uZ":[function(require,module,exports) {
var e=require("./_copyObject"),r=require("./_getSymbolsIn");function o(o,t){return e(o,r(o),t)}module.exports=o;
},{"./_copyObject":"dtkN","./_getSymbolsIn":"q8BM"}],"Vhgk":[function(require,module,exports) {
var r=require("./_arrayPush"),e=require("./isArray");function u(u,a,i){var n=a(u);return e(u)?n:r(n,i(u))}module.exports=u;
},{"./_arrayPush":"srRO","./isArray":"p0cq"}],"uf6I":[function(require,module,exports) {
var e=require("./_baseGetAllKeys"),r=require("./_getSymbols"),u=require("./keys");function s(s){return e(s,u,r)}module.exports=s;
},{"./_baseGetAllKeys":"Vhgk","./_getSymbols":"EvLK","./keys":"HI10"}],"l4Ef":[function(require,module,exports) {
var e=require("./_baseGetAllKeys"),r=require("./_getSymbolsIn"),u=require("./keysIn");function n(n){return e(n,u,r)}module.exports=n;
},{"./_baseGetAllKeys":"Vhgk","./_getSymbolsIn":"q8BM","./keysIn":"UACB"}],"fLfT":[function(require,module,exports) {
var e=require("./_getNative"),r=require("./_root"),t=e(r,"DataView");module.exports=t;
},{"./_getNative":"bViC","./_root":"MIhM"}],"gTEC":[function(require,module,exports) {
var e=require("./_getNative"),r=require("./_root"),o=e(r,"Promise");module.exports=o;
},{"./_getNative":"bViC","./_root":"MIhM"}],"IVes":[function(require,module,exports) {
var e=require("./_getNative"),r=require("./_root"),t=e(r,"Set");module.exports=t;
},{"./_getNative":"bViC","./_root":"MIhM"}],"N036":[function(require,module,exports) {
var e=require("./_getNative"),r=require("./_root"),a=e(r,"WeakMap");module.exports=a;
},{"./_getNative":"bViC","./_root":"MIhM"}],"tQCT":[function(require,module,exports) {
var e=require("./_DataView"),r=require("./_Map"),t=require("./_Promise"),a=require("./_Set"),u=require("./_WeakMap"),c=require("./_baseGetTag"),o=require("./_toSource"),i="[object Map]",n="[object Object]",s="[object Promise]",b="[object Set]",w="[object WeakMap]",j="[object DataView]",q=o(e),_=o(r),p=o(t),f=o(a),v=o(u),M=c;(e&&M(new e(new ArrayBuffer(1)))!=j||r&&M(new r)!=i||t&&M(t.resolve())!=s||a&&M(new a)!=b||u&&M(new u)!=w)&&(M=function(e){var r=c(e),t=r==n?e.constructor:void 0,a=t?o(t):"";if(a)switch(a){case q:return j;case _:return i;case p:return s;case f:return b;case v:return w}return r}),module.exports=M;
},{"./_DataView":"fLfT","./_Map":"K9uV","./_Promise":"gTEC","./_Set":"IVes","./_WeakMap":"N036","./_baseGetTag":"e5TX","./_toSource":"g55O"}],"f7dW":[function(require,module,exports) {
var t=Object.prototype,n=t.hasOwnProperty;function e(t){var e=t.length,r=new t.constructor(e);return e&&"string"==typeof t[0]&&n.call(t,"index")&&(r.index=t.index,r.input=t.input),r}module.exports=e;
},{}],"yfX1":[function(require,module,exports) {
var r=require("./_root"),e=r.Uint8Array;module.exports=e;
},{"./_root":"MIhM"}],"zb3a":[function(require,module,exports) {
var e=require("./_Uint8Array");function r(r){var n=new r.constructor(r.byteLength);return new e(n).set(new e(r)),n}module.exports=r;
},{"./_Uint8Array":"yfX1"}],"aWGB":[function(require,module,exports) {
var e=require("./_cloneArrayBuffer");function r(r,f){var t=f?e(r.buffer):r.buffer;return new r.constructor(t,r.byteOffset,r.byteLength)}module.exports=r;
},{"./_cloneArrayBuffer":"zb3a"}],"jskC":[function(require,module,exports) {
var e=/\w*$/;function r(r){var n=new r.constructor(r.source,e.exec(r));return n.lastIndex=r.lastIndex,n}module.exports=r;
},{}],"WLsS":[function(require,module,exports) {
var e=require("./_Symbol"),o=e?e.prototype:void 0,r=o?o.valueOf:void 0;function t(e){return r?Object(r.call(e)):{}}module.exports=t;
},{"./_Symbol":"wppe"}],"jXAN":[function(require,module,exports) {
var r=require("./_cloneArrayBuffer");function e(e,f){var t=f?r(e.buffer):e.buffer;return new e.constructor(t,e.byteOffset,e.length)}module.exports=e;
},{"./_cloneArrayBuffer":"zb3a"}],"mAMs":[function(require,module,exports) {
var e=require("./_cloneArrayBuffer"),r=require("./_cloneDataView"),c=require("./_cloneRegExp"),t=require("./_cloneSymbol"),a=require("./_cloneTypedArray"),o="[object Boolean]",n="[object Date]",b="[object Map]",s="[object Number]",u="[object RegExp]",j="[object Set]",y="[object String]",i="[object Symbol]",l="[object ArrayBuffer]",A="[object DataView]",w="[object Float32Array]",p="[object Float64Array]",f="[object Int8Array]",m="[object Int16Array]",q="[object Int32Array]",_="[object Uint8Array]",S="[object Uint8ClampedArray]",U="[object Uint16Array]",d="[object Uint32Array]";function g(g,x,B){var D=g.constructor;switch(x){case l:return e(g);case o:case n:return new D(+g);case A:return r(g,B);case w:case p:case f:case m:case q:case _:case S:case U:case d:return a(g,B);case b:return new D;case s:case y:return new D(g);case u:return c(g);case j:return new D;case i:return t(g)}}module.exports=g;
},{"./_cloneArrayBuffer":"zb3a","./_cloneDataView":"aWGB","./_cloneRegExp":"jskC","./_cloneSymbol":"WLsS","./_cloneTypedArray":"jXAN"}],"ga8q":[function(require,module,exports) {
var r=require("./isObject"),e=Object.create,t=function(){function t(){}return function(n){if(!r(n))return{};if(e)return e(n);t.prototype=n;var o=new t;return t.prototype=void 0,o}}();module.exports=t;
},{"./isObject":"u9vI"}],"qE2F":[function(require,module,exports) {
var e=require("./_baseCreate"),r=require("./_getPrototype"),t=require("./_isPrototype");function o(o){return"function"!=typeof o.constructor||t(o)?{}:e(r(o))}module.exports=o;
},{"./_baseCreate":"ga8q","./_getPrototype":"CXf5","./_isPrototype":"nhsl"}],"WYUj":[function(require,module,exports) {
var e=require("./_getTag"),r=require("./isObjectLike"),t="[object Map]";function i(i){return r(i)&&e(i)==t}module.exports=i;
},{"./_getTag":"tQCT","./isObjectLike":"OuyB"}],"rjxD":[function(require,module,exports) {
var e=require("./_baseIsMap"),r=require("./_baseUnary"),a=require("./_nodeUtil"),i=a&&a.isMap,s=i?r(i):e;module.exports=s;
},{"./_baseIsMap":"WYUj","./_baseUnary":"PnXa","./_nodeUtil":"PBPf"}],"NM6E":[function(require,module,exports) {
var e=require("./_getTag"),r=require("./isObjectLike"),t="[object Set]";function i(i){return r(i)&&e(i)==t}module.exports=i;
},{"./_getTag":"tQCT","./isObjectLike":"OuyB"}],"Z5jp":[function(require,module,exports) {
var e=require("./_baseIsSet"),r=require("./_baseUnary"),i=require("./_nodeUtil"),s=i&&i.isSet,a=s?r(s):e;module.exports=a;
},{"./_baseIsSet":"NM6E","./_baseUnary":"PnXa","./_nodeUtil":"PBPf"}],"s7WH":[function(require,module,exports) {
var e=require("./_Stack"),r=require("./_arrayEach"),t=require("./_assignValue"),i=require("./_baseAssign"),o=require("./_baseAssignIn"),n=require("./_cloneBuffer"),a=require("./_copyArray"),c=require("./_copySymbols"),u=require("./_copySymbolsIn"),b=require("./_getAllKeys"),j=require("./_getAllKeysIn"),y=require("./_getTag"),s=require("./_initCloneArray"),q=require("./_initCloneByTag"),f=require("./_initCloneObject"),l=require("./isArray"),A=require("./isBuffer"),_=require("./isMap"),g=require("./isObject"),p=require("./isSet"),v=require("./keys"),m=require("./keysIn"),I=1,S=2,d=4,B="[object Arguments]",E="[object Array]",k="[object Boolean]",C="[object Date]",F="[object Error]",U="[object Function]",h="[object GeneratorFunction]",M="[object Map]",O="[object Number]",w="[object Object]",x="[object RegExp]",D="[object Set]",K="[object String]",T="[object Symbol]",V="[object WeakMap]",G="[object ArrayBuffer]",N="[object DataView]",R="[object Float32Array]",W="[object Float64Array]",z="[object Int8Array]",H="[object Int16Array]",J="[object Int32Array]",L="[object Uint8Array]",P="[object Uint8ClampedArray]",Q="[object Uint16Array]",X="[object Uint32Array]",Y={};function Z(E,k,C,F,M,O){var x,D=k&I,K=k&S,T=k&d;if(C&&(x=M?C(E,F,M,O):C(E)),void 0!==x)return x;if(!g(E))return E;var V=l(E);if(V){if(x=s(E),!D)return a(E,x)}else{var G=y(E),N=G==U||G==h;if(A(E))return n(E,D);if(G==w||G==B||N&&!M){if(x=K||N?{}:f(E),!D)return K?u(E,o(x,E)):c(E,i(x,E))}else{if(!Y[G])return M?E:{};x=q(E,G,D)}}O||(O=new e);var R=O.get(E);if(R)return R;O.set(E,x),p(E)?E.forEach(function(e){x.add(Z(e,k,C,e,E,O))}):_(E)&&E.forEach(function(e,r){x.set(r,Z(e,k,C,r,E,O))});var W=V?void 0:(T?K?j:b:K?m:v)(E);return r(W||E,function(e,r){W&&(e=E[r=e]),t(x,r,Z(e,k,C,r,E,O))}),x}Y[B]=Y[E]=Y[G]=Y[N]=Y[k]=Y[C]=Y[R]=Y[W]=Y[z]=Y[H]=Y[J]=Y[M]=Y[O]=Y[w]=Y[x]=Y[D]=Y[K]=Y[T]=Y[L]=Y[P]=Y[Q]=Y[X]=!0,Y[F]=Y[U]=Y[V]=!1,module.exports=Z;
},{"./_Stack":"I84N","./_arrayEach":"D78i","./_assignValue":"pS95","./_baseAssign":"eFjB","./_baseAssignIn":"q2Io","./_cloneBuffer":"s4SJ","./_copyArray":"Mkgn","./_copySymbols":"az4F","./_copySymbolsIn":"K7uZ","./_getAllKeys":"uf6I","./_getAllKeysIn":"l4Ef","./_getTag":"tQCT","./_initCloneArray":"f7dW","./_initCloneByTag":"mAMs","./_initCloneObject":"qE2F","./isArray":"p0cq","./isBuffer":"iyC2","./isMap":"rjxD","./isObject":"u9vI","./isSet":"Z5jp","./keys":"HI10","./keysIn":"UACB"}],"bgO7":[function(require,module,exports) {
var e=require("./_baseGetTag"),r=require("./isObjectLike"),o="[object Symbol]";function t(t){return"symbol"==typeof t||r(t)&&e(t)==o}module.exports=t;
},{"./_baseGetTag":"e5TX","./isObjectLike":"OuyB"}],"ibmM":[function(require,module,exports) {
var e=require("./isArray"),r=require("./isSymbol"),t=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function u(u,l){if(e(u))return!1;var o=typeof u;return!("number"!=o&&"symbol"!=o&&"boolean"!=o&&null!=u&&!r(u))||(n.test(u)||!t.test(u)||null!=l&&u in Object(l))}module.exports=u;
},{"./isArray":"p0cq","./isSymbol":"bgO7"}],"EiMJ":[function(require,module,exports) {
var e=require("./_MapCache"),r="Expected a function";function t(n,a){if("function"!=typeof n||null!=a&&"function"!=typeof a)throw new TypeError(r);var c=function(){var e=arguments,r=a?a.apply(this,e):e[0],t=c.cache;if(t.has(r))return t.get(r);var o=n.apply(this,e);return c.cache=t.set(r,o)||t,o};return c.cache=new(t.Cache||e),c}t.Cache=e,module.exports=t;
},{"./_MapCache":"wtMJ"}],"Axb2":[function(require,module,exports) {
var e=require("./memoize"),r=500;function n(n){var u=e(n,function(e){return c.size===r&&c.clear(),e}),c=u.cache;return u}module.exports=n;
},{"./memoize":"EiMJ"}],"jXGU":[function(require,module,exports) {
var e=require("./_memoizeCapped"),r=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,p=/\\(\\)?/g,u=e(function(e){var u=[];return 46===e.charCodeAt(0)&&u.push(""),e.replace(r,function(e,r,a,o){u.push(a?o.replace(p,"$1"):r||e)}),u});module.exports=u;
},{"./_memoizeCapped":"Axb2"}],"w4yJ":[function(require,module,exports) {
var r=require("./_Symbol"),e=require("./_arrayMap"),i=require("./isArray"),t=require("./isSymbol"),o=1/0,u=r?r.prototype:void 0,n=u?u.toString:void 0;function a(r){if("string"==typeof r)return r;if(i(r))return e(r,a)+"";if(t(r))return n?n.call(r):"";var u=r+"";return"0"==u&&1/r==-o?"-0":u}module.exports=a;
},{"./_Symbol":"wppe","./_arrayMap":"BblM","./isArray":"p0cq","./isSymbol":"bgO7"}],"A8RV":[function(require,module,exports) {
var r=require("./_baseToString");function e(e){return null==e?"":r(e)}module.exports=e;
},{"./_baseToString":"w4yJ"}],"Tnr5":[function(require,module,exports) {
var r=require("./isArray"),e=require("./_isKey"),i=require("./_stringToPath"),t=require("./toString");function u(u,n){return r(u)?u:e(u,n)?[u]:i(t(u))}module.exports=u;
},{"./isArray":"p0cq","./_isKey":"ibmM","./_stringToPath":"jXGU","./toString":"A8RV"}],"uUO9":[function(require,module,exports) {
function n(n){var e=null==n?0:n.length;return e?n[e-1]:void 0}module.exports=n;
},{}],"RQ0L":[function(require,module,exports) {
var r=require("./isSymbol"),e=1/0;function t(t){if("string"==typeof t||r(t))return t;var i=t+"";return"0"==i&&1/t==-e?"-0":i}module.exports=t;
},{"./isSymbol":"bgO7"}],"yeiR":[function(require,module,exports) {
var r=require("./_castPath"),e=require("./_toKey");function t(t,o){for(var u=0,n=(o=r(o,t)).length;null!=t&&u<n;)t=t[e(o[u++])];return u&&u==n?t:void 0}module.exports=t;
},{"./_castPath":"Tnr5","./_toKey":"RQ0L"}],"Chbn":[function(require,module,exports) {
function r(r,e,n){var o=-1,t=r.length;e<0&&(e=-e>t?0:t+e),(n=n>t?t:n)<0&&(n+=t),t=e>n?0:n-e>>>0,e>>>=0;for(var a=Array(t);++o<t;)a[o]=r[o+e];return a}module.exports=r;
},{}],"t9LI":[function(require,module,exports) {
var e=require("./_baseGet"),r=require("./_baseSlice");function t(t,u){return u.length<2?t:e(t,r(u,0,-1))}module.exports=t;
},{"./_baseGet":"yeiR","./_baseSlice":"Chbn"}],"HylV":[function(require,module,exports) {
var e=require("./_castPath"),r=require("./last"),t=require("./_parent"),u=require("./_toKey");function a(a,i){return i=e(i,a),null==(a=t(a,i))||delete a[u(r(i))]}module.exports=a;
},{"./_castPath":"Tnr5","./last":"uUO9","./_parent":"t9LI","./_toKey":"RQ0L"}],"ES04":[function(require,module,exports) {
var t=require("./_baseGetTag"),e=require("./_getPrototype"),r=require("./isObjectLike"),o="[object Object]",c=Function.prototype,n=Object.prototype,u=c.toString,i=n.hasOwnProperty,a=u.call(Object);function l(c){if(!r(c)||t(c)!=o)return!1;var n=e(c);if(null===n)return!0;var l=i.call(n,"constructor")&&n.constructor;return"function"==typeof l&&l instanceof l&&u.call(l)==a}module.exports=l;
},{"./_baseGetTag":"e5TX","./_getPrototype":"CXf5","./isObjectLike":"OuyB"}],"D2K8":[function(require,module,exports) {
var e=require("./isPlainObject");function r(r){return e(r)?void 0:r}module.exports=r;
},{"./isPlainObject":"ES04"}],"Gi7w":[function(require,module,exports) {
var r=require("./_Symbol"),e=require("./isArguments"),i=require("./isArray"),u=r?r.isConcatSpreadable:void 0;function o(r){return i(r)||e(r)||!!(u&&r&&r[u])}module.exports=o;
},{"./_Symbol":"wppe","./isArguments":"tilN","./isArray":"p0cq"}],"cZtZ":[function(require,module,exports) {
var r=require("./_arrayPush"),e=require("./_isFlattenable");function a(t,n,u,l,i){var o=-1,h=t.length;for(u||(u=e),i||(i=[]);++o<h;){var s=t[o];n>0&&u(s)?n>1?a(s,n-1,u,l,i):r(i,s):l||(i[i.length]=s)}return i}module.exports=a;
},{"./_arrayPush":"srRO","./_isFlattenable":"Gi7w"}],"FvRr":[function(require,module,exports) {
var e=require("./_baseFlatten");function n(n){return(null==n?0:n.length)?e(n,1):[]}module.exports=n;
},{"./_baseFlatten":"cZtZ"}],"aZQm":[function(require,module,exports) {
function e(e,l,r){switch(r.length){case 0:return e.call(l);case 1:return e.call(l,r[0]);case 2:return e.call(l,r[0],r[1]);case 3:return e.call(l,r[0],r[1],r[2])}return e.apply(l,r)}module.exports=e;
},{}],"qXFa":[function(require,module,exports) {
var r=require("./_apply"),t=Math.max;function a(a,e,n){return e=t(void 0===e?a.length-1:e,0),function(){for(var o=arguments,u=-1,i=t(o.length-e,0),f=Array(i);++u<i;)f[u]=o[e+u];u=-1;for(var h=Array(e+1);++u<e;)h[u]=o[u];return h[e]=n(f),r(a,this,h)}}module.exports=a;
},{"./_apply":"aZQm"}],"WMV8":[function(require,module,exports) {
function n(n){return function(){return n}}module.exports=n;
},{}],"Jpv1":[function(require,module,exports) {
function e(e){return e}module.exports=e;
},{}],"UJWv":[function(require,module,exports) {
var e=require("./constant"),r=require("./_defineProperty"),t=require("./identity"),i=r?function(t,i){return r(t,"toString",{configurable:!0,enumerable:!1,value:e(i),writable:!0})}:t;module.exports=i;
},{"./constant":"WMV8","./_defineProperty":"kAdy","./identity":"Jpv1"}],"NNlz":[function(require,module,exports) {
var r=800,e=16,n=Date.now;function t(t){var o=0,u=0;return function(){var a=n(),i=e-(a-u);if(u=a,i>0){if(++o>=r)return arguments[0]}else o=0;return t.apply(void 0,arguments)}}module.exports=t;
},{}],"KRxT":[function(require,module,exports) {
var e=require("./_baseSetToString"),r=require("./_shortOut"),t=r(e);module.exports=t;
},{"./_baseSetToString":"UJWv","./_shortOut":"NNlz"}],"cbLE":[function(require,module,exports) {
var e=require("./flatten"),r=require("./_overRest"),t=require("./_setToString");function i(i){return t(r(i,void 0,e),i+"")}module.exports=i;
},{"./flatten":"FvRr","./_overRest":"qXFa","./_setToString":"KRxT"}],"J2GV":[function(require,module,exports) {
var e=require("./_arrayMap"),r=require("./_baseClone"),t=require("./_baseUnset"),u=require("./_castPath"),n=require("./_copyObject"),a=require("./_customOmitClone"),i=require("./_flatRest"),l=require("./_getAllKeysIn"),o=1,q=2,s=4,_=i(function(i,_){var c={};if(null==i)return c;var f=!1;_=e(_,function(e){return e=u(e,i),f||(f=e.length>1),e}),n(i,l(i),c),f&&(c=r(c,o|q|s,a));for(var v=_.length;v--;)t(c,_[v]);return c});module.exports=_;
},{"./_arrayMap":"BblM","./_baseClone":"s7WH","./_baseUnset":"HylV","./_castPath":"Tnr5","./_copyObject":"dtkN","./_customOmitClone":"D2K8","./_flatRest":"cbLE","./_getAllKeysIn":"l4Ef"}],"Y0zI":[function(require,module,exports) {
var e=require("./_baseClone"),r=1,n=4;function o(o){return e(o,r|n)}module.exports=o;
},{"./_baseClone":"s7WH"}],"vexR":[function(require,module,exports) {
module.exports=function(o){return o&&"object"==typeof o&&"function"==typeof o.copy&&"function"==typeof o.fill&&"function"==typeof o.readUInt8};
},{}],"tcrG":[function(require,module,exports) {
"function"==typeof Object.create?module.exports=function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:module.exports=function(t,e){t.super_=e;var o=function(){};o.prototype=e.prototype,t.prototype=new o,t.prototype.constructor=t};
},{}],"pBGv":[function(require,module,exports) {

var t,e,n=module.exports={};function r(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function i(e){if(t===setTimeout)return setTimeout(e,0);if((t===r||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(n){try{return t.call(null,e,0)}catch(n){return t.call(this,e,0)}}}function u(t){if(e===clearTimeout)return clearTimeout(t);if((e===o||!e)&&clearTimeout)return e=clearTimeout,clearTimeout(t);try{return e(t)}catch(n){try{return e.call(null,t)}catch(n){return e.call(this,t)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:r}catch(n){t=r}try{e="function"==typeof clearTimeout?clearTimeout:o}catch(n){e=o}}();var c,s=[],l=!1,a=-1;function f(){l&&c&&(l=!1,c.length?s=c.concat(s):a=-1,s.length&&h())}function h(){if(!l){var t=i(f);l=!0;for(var e=s.length;e;){for(c=s,s=[];++a<e;)c&&c[a].run();a=-1,e=s.length}c=null,l=!1,u(t)}}function m(t,e){this.fun=t,this.array=e}function p(){}n.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];s.push(new m(t,e)),1!==s.length||l||i(h)},m.prototype.run=function(){this.fun.apply(null,this.array)},n.title="browser",n.env={},n.argv=[],n.version="",n.versions={},n.on=p,n.addListener=p,n.once=p,n.off=p,n.removeListener=p,n.removeAllListeners=p,n.emit=p,n.prependListener=p,n.prependOnceListener=p,n.listeners=function(t){return[]},n.binding=function(t){throw new Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(t){throw new Error("process.chdir is not supported")},n.umask=function(){return 0};
},{}],"gfUn":[function(require,module,exports) {
var process = require("process");
var e=require("process"),t=Object.getOwnPropertyDescriptors||function(e){for(var t=Object.keys(e),r={},n=0;n<t.length;n++)r[t[n]]=Object.getOwnPropertyDescriptor(e,t[n]);return r},r=/%[sdj%]/g;exports.format=function(e){if(!v(e)){for(var t=[],n=0;n<arguments.length;n++)t.push(i(arguments[n]));return t.join(" ")}n=1;for(var o=arguments,u=o.length,s=String(e).replace(r,function(e){if("%%"===e)return"%";if(n>=u)return e;switch(e){case"%s":return String(o[n++]);case"%d":return Number(o[n++]);case"%j":try{return JSON.stringify(o[n++])}catch(t){return"[Circular]"}default:return e}}),c=o[n];n<u;c=o[++n])h(c)||!S(c)?s+=" "+c:s+=" "+i(c);return s},exports.deprecate=function(t,r){if(void 0!==e&&!0===e.noDeprecation)return t;if(void 0===e)return function(){return exports.deprecate(t,r).apply(this,arguments)};var n=!1;return function(){if(!n){if(e.throwDeprecation)throw new Error(r);e.traceDeprecation?console.trace(r):console.error(r),n=!0}return t.apply(this,arguments)}};var n,o={};function i(e,t){var r={seen:[],stylize:s};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),b(t)?r.showHidden=t:t&&exports._extend(r,t),j(r.showHidden)&&(r.showHidden=!1),j(r.depth)&&(r.depth=2),j(r.colors)&&(r.colors=!1),j(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=u),p(r,e,r.depth)}function u(e,t){var r=i.styles[t];return r?"["+i.colors[r][0]+"m"+e+"["+i.colors[r][1]+"m":e}function s(e,t){return e}function c(e){var t={};return e.forEach(function(e,r){t[e]=!0}),t}function p(e,t,r){if(e.customInspect&&t&&P(t.inspect)&&t.inspect!==exports.inspect&&(!t.constructor||t.constructor.prototype!==t)){var n=t.inspect(r,e);return v(n)||(n=p(e,n,r)),n}var o=l(e,t);if(o)return o;var i=Object.keys(t),u=c(i);if(e.showHidden&&(i=Object.getOwnPropertyNames(t)),E(t)&&(i.indexOf("message")>=0||i.indexOf("description")>=0))return f(t);if(0===i.length){if(P(t)){var s=t.name?": "+t.name:"";return e.stylize("[Function"+s+"]","special")}if(w(t))return e.stylize(RegExp.prototype.toString.call(t),"regexp");if(z(t))return e.stylize(Date.prototype.toString.call(t),"date");if(E(t))return f(t)}var b,h="",m=!1,x=["{","}"];(d(t)&&(m=!0,x=["[","]"]),P(t))&&(h=" [Function"+(t.name?": "+t.name:"")+"]");return w(t)&&(h=" "+RegExp.prototype.toString.call(t)),z(t)&&(h=" "+Date.prototype.toUTCString.call(t)),E(t)&&(h=" "+f(t)),0!==i.length||m&&0!=t.length?r<0?w(t)?e.stylize(RegExp.prototype.toString.call(t),"regexp"):e.stylize("[Object]","special"):(e.seen.push(t),b=m?a(e,t,r,u,i):i.map(function(n){return y(e,t,r,u,n,m)}),e.seen.pop(),g(b,h,x)):x[0]+h+x[1]}function l(e,t){if(j(t))return e.stylize("undefined","undefined");if(v(t)){var r="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(r,"string")}return x(t)?e.stylize(""+t,"number"):b(t)?e.stylize(""+t,"boolean"):h(t)?e.stylize("null","null"):void 0}function f(e){return"["+Error.prototype.toString.call(e)+"]"}function a(e,t,r,n,o){for(var i=[],u=0,s=t.length;u<s;++u)A(t,String(u))?i.push(y(e,t,r,n,String(u),!0)):i.push("");return o.forEach(function(o){o.match(/^\d+$/)||i.push(y(e,t,r,n,o,!0))}),i}function y(e,t,r,n,o,i){var u,s,c;if((c=Object.getOwnPropertyDescriptor(t,o)||{value:t[o]}).get?s=c.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):c.set&&(s=e.stylize("[Setter]","special")),A(n,o)||(u="["+o+"]"),s||(e.seen.indexOf(c.value)<0?(s=h(r)?p(e,c.value,null):p(e,c.value,r-1)).indexOf("\n")>-1&&(s=i?s.split("\n").map(function(e){return"  "+e}).join("\n").substr(2):"\n"+s.split("\n").map(function(e){return"   "+e}).join("\n")):s=e.stylize("[Circular]","special")),j(u)){if(i&&o.match(/^\d+$/))return s;(u=JSON.stringify(""+o)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(u=u.substr(1,u.length-2),u=e.stylize(u,"name")):(u=u.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),u=e.stylize(u,"string"))}return u+": "+s}function g(e,t,r){return e.reduce(function(e,t){return 0,t.indexOf("\n")>=0&&0,e+t.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60?r[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+r[1]:r[0]+t+" "+e.join(", ")+" "+r[1]}function d(e){return Array.isArray(e)}function b(e){return"boolean"==typeof e}function h(e){return null===e}function m(e){return null==e}function x(e){return"number"==typeof e}function v(e){return"string"==typeof e}function O(e){return"symbol"==typeof e}function j(e){return void 0===e}function w(e){return S(e)&&"[object RegExp]"===T(e)}function S(e){return"object"==typeof e&&null!==e}function z(e){return S(e)&&"[object Date]"===T(e)}function E(e){return S(e)&&("[object Error]"===T(e)||e instanceof Error)}function P(e){return"function"==typeof e}function D(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e}function T(e){return Object.prototype.toString.call(e)}function N(e){return e<10?"0"+e.toString(10):e.toString(10)}exports.debuglog=function(t){if(j(n)&&(n=""),t=t.toUpperCase(),!o[t])if(new RegExp("\\b"+t+"\\b","i").test(n)){var r=e.pid;o[t]=function(){var e=exports.format.apply(exports,arguments);console.error("%s %d: %s",t,r,e)}}else o[t]=function(){};return o[t]},exports.inspect=i,i.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},i.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},exports.isArray=d,exports.isBoolean=b,exports.isNull=h,exports.isNullOrUndefined=m,exports.isNumber=x,exports.isString=v,exports.isSymbol=O,exports.isUndefined=j,exports.isRegExp=w,exports.isObject=S,exports.isDate=z,exports.isError=E,exports.isFunction=P,exports.isPrimitive=D,exports.isBuffer=require("./support/isBuffer");var F=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function k(){var e=new Date,t=[N(e.getHours()),N(e.getMinutes()),N(e.getSeconds())].join(":");return[e.getDate(),F[e.getMonth()],t].join(" ")}function A(e,t){return Object.prototype.hasOwnProperty.call(e,t)}exports.log=function(){console.log("%s - %s",k(),exports.format.apply(exports,arguments))},exports.inherits=require("inherits"),exports._extend=function(e,t){if(!t||!S(t))return e;for(var r=Object.keys(t),n=r.length;n--;)e[r[n]]=t[r[n]];return e};var J="undefined"!=typeof Symbol?Symbol("util.promisify.custom"):void 0;function R(e,t){if(!e){var r=new Error("Promise was rejected with a falsy value");r.reason=e,e=r}return t(e)}function H(r){if("function"!=typeof r)throw new TypeError('The "original" argument must be of type Function');function n(){for(var t=[],n=0;n<arguments.length;n++)t.push(arguments[n]);var o=t.pop();if("function"!=typeof o)throw new TypeError("The last argument must be of type Function");var i=this,u=function(){return o.apply(i,arguments)};r.apply(this,t).then(function(t){e.nextTick(u,null,t)},function(t){e.nextTick(R,t,u)})}return Object.setPrototypeOf(n,Object.getPrototypeOf(r)),Object.defineProperties(n,t(r)),n}exports.promisify=function(e){if("function"!=typeof e)throw new TypeError('The "original" argument must be of type Function');if(J&&e[J]){var r;if("function"!=typeof(r=e[J]))throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(r,J,{value:r,enumerable:!1,writable:!1,configurable:!0}),r}function r(){for(var t,r,n=new Promise(function(e,n){t=e,r=n}),o=[],i=0;i<arguments.length;i++)o.push(arguments[i]);o.push(function(e,n){e?r(e):t(n)});try{e.apply(this,o)}catch(u){r(u)}return n}return Object.setPrototypeOf(r,Object.getPrototypeOf(e)),J&&Object.defineProperty(r,J,{value:r,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(r,t(e))},exports.promisify.custom=J,exports.callbackify=H;
},{"./support/isBuffer":"vexR","inherits":"tcrG","process":"pBGv"}],"dALR":[function(require,module,exports) {
var r=require("./toString"),e=0;function t(t){var n=++e;return r(t)+n}module.exports=t;
},{"./toString":"A8RV"}],"f4Fl":[function(require,module,exports) {
var e=require("./identity"),r=require("./_overRest"),t=require("./_setToString");function i(i,u){return t(r(i,u,e),i+"")}module.exports=i;
},{"./identity":"Jpv1","./_overRest":"qXFa","./_setToString":"KRxT"}],"R62e":[function(require,module,exports) {
var e=require("./eq"),r=require("./isArrayLike"),i=require("./_isIndex"),n=require("./isObject");function u(u,t,q){if(!n(q))return!1;var s=typeof t;return!!("number"==s?r(q)&&i(t,q.length):"string"==s&&t in q)&&e(q[t],u)}module.exports=u;
},{"./eq":"LIpy","./isArrayLike":"LN6c","./_isIndex":"AGrE","./isObject":"u9vI"}],"gmQJ":[function(require,module,exports) {
var e=require("./_baseRest"),r=require("./_isIterateeCall");function t(t){return e(function(e,o){var i=-1,n=o.length,u=n>1?o[n-1]:void 0,v=n>2?o[2]:void 0;for(u=t.length>3&&"function"==typeof u?(n--,u):void 0,v&&r(o[0],o[1],v)&&(u=n<3?void 0:u,n=1),e=Object(e);++i<n;){var a=o[i];a&&t(e,a,i,u)}return e})}module.exports=t;
},{"./_baseRest":"f4Fl","./_isIterateeCall":"R62e"}],"vlVw":[function(require,module,exports) {
var e=require("./_assignValue"),r=require("./_copyObject"),i=require("./_createAssigner"),o=require("./isArrayLike"),s=require("./_isPrototype"),t=require("./keys"),u=Object.prototype,a=u.hasOwnProperty,c=i(function(i,u){if(s(u)||o(u))r(u,t(u),i);else for(var c in u)a.call(u,c)&&e(i,c,u[c])});module.exports=c;
},{"./_assignValue":"pS95","./_copyObject":"dtkN","./_createAssigner":"gmQJ","./isArrayLike":"LN6c","./_isPrototype":"nhsl","./keys":"HI10"}],"IAIt":[function(require,module,exports) {
function n(n){return function(u){return null==n?void 0:n[u]}}module.exports=n;
},{}],"dPab":[function(require,module,exports) {
var e=require("./_basePropertyOf"),r={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},t=e(r);module.exports=t;
},{"./_basePropertyOf":"IAIt"}],"ic07":[function(require,module,exports) {
var e=require("./_escapeHtmlChar"),r=require("./toString"),t=/[&<>"']/g,u=RegExp(t.source);function o(o){return(o=r(o))&&u.test(o)?o.replace(t,e):o}module.exports=o;
},{"./_escapeHtmlChar":"dPab","./toString":"A8RV"}],"oVe7":[function(require,module,exports) {
function r(r){return function(e,n,t){for(var o=-1,u=Object(e),f=t(e),a=f.length;a--;){var c=f[r?a:++o];if(!1===n(u[c],c,u))break}return e}}module.exports=r;
},{}],"mduf":[function(require,module,exports) {
var e=require("./_createBaseFor"),r=e();module.exports=r;
},{"./_createBaseFor":"oVe7"}],"xqjy":[function(require,module,exports) {
var e=require("./_baseFor"),r=require("./keys");function u(u,o){return u&&e(u,o,r)}module.exports=u;
},{"./_baseFor":"mduf","./keys":"HI10"}],"tAcL":[function(require,module,exports) {
var e=require("./identity");function t(t){return"function"==typeof t?t:e}module.exports=t;
},{"./identity":"Jpv1"}],"SC1V":[function(require,module,exports) {
var r=require("./_baseForOwn"),e=require("./_castFunction");function n(n,u){return n&&r(n,e(u))}module.exports=n;
},{"./_baseForOwn":"xqjy","./_castFunction":"tAcL"}],"IiHL":[function(require,module,exports) {
function r(r,e,n,t){for(var o=r.length,u=n+(t?1:-1);t?u--:++u<o;)if(e(r[u],u,r))return u;return-1}module.exports=r;
},{}],"hgJw":[function(require,module,exports) {
function e(e){return e!=e}module.exports=e;
},{}],"SftN":[function(require,module,exports) {
function r(r,e,n){for(var t=n-1,o=r.length;++t<o;)if(r[t]===e)return t;return-1}module.exports=r;
},{}],"Ro2m":[function(require,module,exports) {
var e=require("./_baseFindIndex"),r=require("./_baseIsNaN"),i=require("./_strictIndexOf");function n(n,u,s){return u==u?i(n,u,s):e(n,r,s)}module.exports=n;
},{"./_baseFindIndex":"IiHL","./_baseIsNaN":"hgJw","./_strictIndexOf":"SftN"}],"CkJF":[function(require,module,exports) {
var e=require("./_baseGetTag"),r=require("./isArray"),i=require("./isObjectLike"),t="[object String]";function u(u){return"string"==typeof u||!r(u)&&i(u)&&e(u)==t}module.exports=u;
},{"./_baseGetTag":"e5TX","./isArray":"p0cq","./isObjectLike":"OuyB"}],"x2wq":[function(require,module,exports) {
var r=/\s/;function t(t){for(var e=t.length;e--&&r.test(t.charAt(e)););return e}module.exports=t;
},{}],"SK01":[function(require,module,exports) {
var e=require("./_trimmedEndIndex"),r=/^\s+/;function n(n){return n?n.slice(0,e(n)+1).replace(r,""):n}module.exports=n;
},{"./_trimmedEndIndex":"x2wq"}],"iS0Z":[function(require,module,exports) {
var e=require("./_baseTrim"),r=require("./isObject"),t=require("./isSymbol"),i=NaN,u=/^[-+]0x[0-9a-f]+$/i,f=/^0b[01]+$/i,n=/^0o[0-7]+$/i,s=parseInt;function a(a){if("number"==typeof a)return a;if(t(a))return i;if(r(a)){var o="function"==typeof a.valueOf?a.valueOf():a;a=r(o)?o+"":o}if("string"!=typeof a)return 0===a?a:+a;a=e(a);var b=f.test(a);return b||n.test(a)?s(a.slice(2),b?2:8):u.test(a)?i:+a}module.exports=a;
},{"./_baseTrim":"SK01","./isObject":"u9vI","./isSymbol":"bgO7"}],"Cyzk":[function(require,module,exports) {
var e=require("./toNumber"),r=1/0,u=1.7976931348623157e308;function o(o){return o?(o=e(o))===r||o===-r?(o<0?-1:1)*u:o==o?o:0:0===o?o:0}module.exports=o;
},{"./toNumber":"iS0Z"}],"d9A1":[function(require,module,exports) {
var r=require("./toFinite");function e(e){var t=r(e),i=t%1;return t==t?i?t-i:t:0}module.exports=e;
},{"./toFinite":"Cyzk"}],"R9d0":[function(require,module,exports) {
var r=require("./_arrayMap");function e(e,n){return r(n,function(r){return e[r]})}module.exports=e;
},{"./_arrayMap":"BblM"}],"AwGC":[function(require,module,exports) {
var e=require("./_baseValues"),r=require("./keys");function u(u){return null==u?[]:e(u,r(u))}module.exports=u;
},{"./_baseValues":"R9d0","./keys":"HI10"}],"AOeR":[function(require,module,exports) {
var e=require("./_baseIndexOf"),r=require("./isArrayLike"),i=require("./isString"),u=require("./toInteger"),n=require("./values"),t=Math.max;function a(a,q,s,o){a=r(a)?a:n(a),s=s&&!o?u(s):0;var x=a.length;return s<0&&(s=t(x+s,0)),i(a)?s<=x&&a.indexOf(q,s)>-1:!!x&&e(a,q,s)>-1}module.exports=a;
},{"./_baseIndexOf":"Ro2m","./isArrayLike":"LN6c","./isString":"CkJF","./toInteger":"d9A1","./values":"AwGC"}],"j8dg":[function(require,module,exports) {
var e=require("./_baseGetTag"),r=require("./isObjectLike"),t="[object Date]";function i(i){return r(i)&&e(i)==t}module.exports=i;
},{"./_baseGetTag":"e5TX","./isObjectLike":"OuyB"}],"qD6L":[function(require,module,exports) {
var e=require("./_baseIsDate"),r=require("./_baseUnary"),a=require("./_nodeUtil"),i=a&&a.isDate,s=i?r(i):e;module.exports=s;
},{"./_baseIsDate":"j8dg","./_baseUnary":"PnXa","./_nodeUtil":"PBPf"}],"r0rT":[function(require,module,exports) {
var _="__lodash_hash_undefined__";function t(t){return this.__data__.set(t,_),this}module.exports=t;
},{}],"thFQ":[function(require,module,exports) {
var e=require("./_MapCache"),t=require("./_setCacheAdd"),r=require("./_setCacheHas");function a(t){var r=-1,a=null==t?0:t.length;for(this.__data__=new e;++r<a;)this.add(t[r])}a.prototype.add=a.prototype.push=t,a.prototype.has=r,module.exports=a;
},{"./_MapCache":"wtMJ","./_setCacheAdd":"r0rT","./_setCacheHas":"ocJ6"}],"SfCF":[function(require,module,exports) {
function r(r,n){for(var e=-1,t=null==r?0:r.length;++e<t;)if(n(r[e],e,r))return!0;return!1}module.exports=r;
},{}],"qxaq":[function(require,module,exports) {
function e(e,n){return e.has(n)}module.exports=e;
},{}],"pkMv":[function(require,module,exports) {
var e=require("./_SetCache"),r=require("./_arraySome"),i=require("./_cacheHas"),t=1,a=2;function n(n,f,u,o,v,c){var l=u&t,s=n.length,d=f.length;if(s!=d&&!(l&&d>s))return!1;var h=c.get(n),g=c.get(f);if(h&&g)return h==f&&g==n;var b=-1,k=!0,q=u&a?new e:void 0;for(c.set(n,f),c.set(f,n);++b<s;){var _=n[b],m=f[b];if(o)var p=l?o(m,_,b,f,n,c):o(_,m,b,n,f,c);if(void 0!==p){if(p)continue;k=!1;break}if(q){if(!r(f,function(e,r){if(!i(q,r)&&(_===e||v(_,e,u,o,c)))return q.push(r)})){k=!1;break}}else if(_!==m&&!v(_,m,u,o,c)){k=!1;break}}return c.delete(n),c.delete(f),k}module.exports=n;
},{"./_SetCache":"thFQ","./_arraySome":"SfCF","./_cacheHas":"qxaq"}],"BjGi":[function(require,module,exports) {
function r(r){var n=-1,o=Array(r.size);return r.forEach(function(r,e){o[++n]=[e,r]}),o}module.exports=r;
},{}],"ZEJm":[function(require,module,exports) {
function r(r){var n=-1,o=Array(r.size);return r.forEach(function(r){o[++n]=r}),o}module.exports=r;
},{}],"oaAh":[function(require,module,exports) {
var e=require("./_Symbol"),r=require("./_Uint8Array"),t=require("./eq"),a=require("./_equalArrays"),c=require("./_mapToArray"),o=require("./_setToArray"),s=1,u=2,n="[object Boolean]",b="[object Date]",i="[object Error]",f="[object Map]",y="[object Number]",j="[object RegExp]",l="[object Set]",g="[object String]",m="[object Symbol]",q="[object ArrayBuffer]",v="[object DataView]",p=e?e.prototype:void 0,h=p?p.valueOf:void 0;function A(e,p,A,_,d,w,L){switch(A){case v:if(e.byteLength!=p.byteLength||e.byteOffset!=p.byteOffset)return!1;e=e.buffer,p=p.buffer;case q:return!(e.byteLength!=p.byteLength||!w(new r(e),new r(p)));case n:case b:case y:return t(+e,+p);case i:return e.name==p.name&&e.message==p.message;case j:case g:return e==p+"";case f:var S=c;case l:var O=_&s;if(S||(S=o),e.size!=p.size&&!O)return!1;var x=L.get(e);if(x)return x==p;_|=u,L.set(e,p);var z=a(S(e),S(p),_,d,w,L);return L.delete(e),z;case m:if(h)return h.call(e)==h.call(p)}return!1}module.exports=A;
},{"./_Symbol":"wppe","./_Uint8Array":"yfX1","./eq":"LIpy","./_equalArrays":"pkMv","./_mapToArray":"BjGi","./_setToArray":"ZEJm"}],"mFpP":[function(require,module,exports) {
var r=require("./_getAllKeys"),t=1,e=Object.prototype,n=e.hasOwnProperty;function o(e,o,c,i,a,f){var u=c&t,s=r(e),v=s.length;if(v!=r(o).length&&!u)return!1;for(var l=v;l--;){var p=s[l];if(!(u?p in o:n.call(o,p)))return!1}var g=f.get(e),y=f.get(o);if(g&&y)return g==o&&y==e;var d=!0;f.set(e,o),f.set(o,e);for(var h=u;++l<v;){var b=e[p=s[l]],O=o[p];if(i)var j=u?i(O,b,p,o,e,f):i(b,O,p,e,o,f);if(!(void 0===j?b===O||a(b,O,c,i,f):j)){d=!1;break}h||(h="constructor"==p)}if(d&&!h){var k=e.constructor,m=o.constructor;k!=m&&"constructor"in e&&"constructor"in o&&!("function"==typeof k&&k instanceof k&&"function"==typeof m&&m instanceof m)&&(d=!1)}return f.delete(e),f.delete(o),d}module.exports=o;
},{"./_getAllKeys":"uf6I"}],"ykgi":[function(require,module,exports) {
var e=require("./_Stack"),r=require("./_equalArrays"),a=require("./_equalByTag"),u=require("./_equalObjects"),t=require("./_getTag"),i=require("./isArray"),_=require("./isBuffer"),n=require("./isTypedArray"),q=1,c="[object Arguments]",l="[object Array]",o="[object Object]",p=Object.prototype,f=p.hasOwnProperty;function s(p,s,y,b,j,v){var w=i(p),A=i(s),d=w?l:t(p),g=A?l:t(s),O=(d=d==c?o:d)==o,T=(g=g==c?o:g)==o,m=d==g;if(m&&_(p)){if(!_(s))return!1;w=!0,O=!1}if(m&&!O)return v||(v=new e),w||n(p)?r(p,s,y,b,j,v):a(p,s,d,y,b,j,v);if(!(y&q)){var B=O&&f.call(p,"__wrapped__"),h=T&&f.call(s,"__wrapped__");if(B||h){var k=B?p.value():p,x=h?s.value():s;return v||(v=new e),j(k,x,y,b,v)}}return!!m&&(v||(v=new e),u(p,s,y,b,j,v))}module.exports=s;
},{"./_Stack":"I84N","./_equalArrays":"pkMv","./_equalByTag":"oaAh","./_equalObjects":"mFpP","./_getTag":"tQCT","./isArray":"p0cq","./isBuffer":"iyC2","./isTypedArray":"kwIb"}],"iKxp":[function(require,module,exports) {
var e=require("./_baseIsEqualDeep"),r=require("./isObjectLike");function u(l,i,n,s,t){return l===i||(null==l||null==i||!r(l)&&!r(i)?l!=l&&i!=i:e(l,i,n,s,u,t))}module.exports=u;
},{"./_baseIsEqualDeep":"ykgi","./isObjectLike":"OuyB"}],"R6wa":[function(require,module,exports) {
var e=require("./_baseIsEqual");function r(r,u){return e(r,u)}module.exports=r;
},{"./_baseIsEqual":"iKxp"}],"vrt3":[function(require,module,exports) {
var r=Object.prototype,t=r.hasOwnProperty;function e(r,e){return null!=r&&t.call(r,e)}module.exports=e;
},{}],"E1jM":[function(require,module,exports) {
var r=require("./_castPath"),e=require("./isArguments"),i=require("./isArray"),u=require("./_isIndex"),n=require("./isLength"),t=require("./_toKey");function a(a,l,s){for(var q=-1,o=(l=r(l,a)).length,g=!1;++q<o;){var h=t(l[q]);if(!(g=null!=a&&s(a,h)))break;a=a[h]}return g||++q!=o?g:!!(o=null==a?0:a.length)&&n(o)&&u(h,o)&&(i(a)||e(a))}module.exports=a;
},{"./_castPath":"Tnr5","./isArguments":"tilN","./isArray":"p0cq","./_isIndex":"AGrE","./isLength":"GmNU","./_toKey":"RQ0L"}],"HZ8X":[function(require,module,exports) {
var e=require("./_baseHas"),r=require("./_hasPath");function u(u,a){return null!=u&&r(u,a,e)}module.exports=u;
},{"./_baseHas":"vrt3","./_hasPath":"E1jM"}],"TuMP":[function(require,module,exports) {
var r=require("./_castPath"),e=require("./isFunction"),i=require("./_toKey");function o(o,t,u){var n=-1,a=(t=r(t,o)).length;for(a||(a=1,o=void 0);++n<a;){var l=null==o?void 0:o[i(t[n])];void 0===l&&(n=a,l=u),o=e(l)?l.call(o):l}return o}module.exports=o;
},{"./_castPath":"Tnr5","./isFunction":"dRuq","./_toKey":"RQ0L"}],"mBEK":[function(require,module,exports) {
var e=require("./_baseIndexOf");function n(n,r){return!!(null==n?0:n.length)&&e(n,r,0)>-1}module.exports=n;
},{"./_baseIndexOf":"Ro2m"}],"hjtK":[function(require,module,exports) {
function r(r,n,e){for(var t=-1,u=null==r?0:r.length;++t<u;)if(e(n,r[t]))return!0;return!1}module.exports=r;
},{}],"uTXi":[function(require,module,exports) {
function o(){}module.exports=o;
},{}],"vPIz":[function(require,module,exports) {
var e=require("./_Set"),r=require("./noop"),n=require("./_setToArray"),o=1/0,u=e&&1/n(new e([,-0]))[1]==o?function(r){return new e(r)}:r;module.exports=u;
},{"./_Set":"IVes","./noop":"uTXi","./_setToArray":"ZEJm"}],"NH1q":[function(require,module,exports) {
var e=require("./_SetCache"),r=require("./_arrayIncludes"),u=require("./_arrayIncludesWith"),a=require("./_cacheHas"),i=require("./_createSet"),n=require("./_setToArray"),s=200;function t(t,l,h){var c=-1,f=r,o=t.length,q=!0,_=[],p=_;if(h)q=!1,f=u;else if(o>=s){var v=l?null:i(t);if(v)return n(v);q=!1,f=a,p=new e}else p=l?[]:_;e:for(;++c<o;){var d=t[c],y=l?l(d):d;if(d=h||0!==d?d:0,q&&y==y){for(var g=p.length;g--;)if(p[g]===y)continue e;l&&p.push(y),_.push(d)}else f(p,y,h)||(p!==_&&p.push(y),_.push(d))}return _}module.exports=t;
},{"./_SetCache":"thFQ","./_arrayIncludes":"mBEK","./_arrayIncludesWith":"hjtK","./_cacheHas":"qxaq","./_createSet":"vPIz","./_setToArray":"ZEJm"}],"FwQQ":[function(require,module,exports) {
var e=require("./isArrayLike"),r=require("./isObjectLike");function i(i){return r(i)&&e(i)}module.exports=i;
},{"./isArrayLike":"LN6c","./isObjectLike":"OuyB"}],"ETAe":[function(require,module,exports) {
var e=require("./_baseFlatten"),r=require("./_baseRest"),i=require("./_baseUniq"),t=require("./isArrayLikeObject"),u=r(function(r){return i(e(r,1,t,!0))});module.exports=u;
},{"./_baseFlatten":"cZtZ","./_baseRest":"f4Fl","./_baseUniq":"NH1q","./isArrayLikeObject":"FwQQ"}],"RM0Y":[function(require,module,exports) {
var r=require("./toInteger"),e="Expected a function";function t(t,n){var o;if("function"!=typeof n)throw new TypeError(e);return t=r(t),function(){return--t>0&&(o=n.apply(this,arguments)),t<=1&&(n=void 0),o}}module.exports=t;
},{"./toInteger":"d9A1"}],"xHud":[function(require,module,exports) {
var e=require("./before");function r(r){return e(2,r)}module.exports=r;
},{"./before":"RM0Y"}],"BBRi":[function(require,module,exports) {
var r=require("./_baseKeys"),e=require("./_getTag"),i=require("./isArguments"),t=require("./isArray"),u=require("./isArrayLike"),n=require("./isBuffer"),o=require("./_isPrototype"),s=require("./isTypedArray"),f="[object Map]",a="[object Set]",p=Object.prototype,y=p.hasOwnProperty;function l(p){if(null==p)return!0;if(u(p)&&(t(p)||"string"==typeof p||"function"==typeof p.splice||n(p)||s(p)||i(p)))return!p.length;var l=e(p);if(l==f||l==a)return!p.size;if(o(p))return!r(p).length;for(var q in p)if(y.call(p,q))return!1;return!0}module.exports=l;
},{"./_baseKeys":"BNjb","./_getTag":"tQCT","./isArguments":"tilN","./isArray":"p0cq","./isArrayLike":"LN6c","./isBuffer":"iyC2","./_isPrototype":"nhsl","./isTypedArray":"kwIb"}],"Gl56":[function(require,module,exports) {
var r=require("./isArrayLike");function e(e,n){return function(t,u){if(null==t)return t;if(!r(t))return e(t,u);for(var i=t.length,f=n?i:-1,o=Object(t);(n?f--:++f<i)&&!1!==u(o[f],f,o););return t}}module.exports=e;
},{"./isArrayLike":"LN6c"}],"z7ms":[function(require,module,exports) {
var e=require("./_baseForOwn"),r=require("./_createBaseEach"),a=r(e);module.exports=a;
},{"./_baseForOwn":"xqjy","./_createBaseEach":"Gl56"}],"cTKO":[function(require,module,exports) {
var r=require("./_arrayEach"),e=require("./_baseEach"),a=require("./_castFunction"),u=require("./isArray");function i(i,c){return(u(i)?r:e)(i,a(c))}module.exports=i;
},{"./_arrayEach":"D78i","./_baseEach":"z7ms","./_castFunction":"tAcL","./isArray":"p0cq"}],"qYx9":[function(require,module,exports) {
var t=require("lodash/uniqueId"),e=/\s+/;exports.triggerEvents=function(t,e){var n,r=-1,o=t.length,i=e[0],c=e[1],l=e[2];switch(e.length){case 0:for(;++r<o;)(n=t[r]).callback.call(n.ctx);return;case 1:for(;++r<o;)(n=t[r]).callback.call(n.ctx,i);return;case 2:for(;++r<o;)(n=t[r]).callback.call(n.ctx,i,c);return;case 3:for(;++r<o;)(n=t[r]).callback.call(n.ctx,i,c,l);return;default:for(;++r<o;)(n=t[r]).callback.apply(n.ctx,e);return}},exports.eventsApi=function(t,n,r,o){if(!r)return!0;if("object"==typeof r){for(var i in r)t[n].apply(t,[i,r[i]].concat(o));return!1}if(e.test(r)){for(var c=r.split(e),l=0,a=c.length;l<a;l++)t[n].apply(t,[c[l]].concat(o));return!1}return!0},exports.createListenMethod=function(e){return function(n,r,o){if(!n)throw new Error("Trying to listenTo event: '"+r+"' but the target object is undefined");if((this._listeningTo||(this._listeningTo={}))[n._listenId||(n._listenId=t("l"))]=n,o||"object"!=typeof r||(o=this),"function"!=typeof n[e])throw new Error("Trying to listenTo event: '"+r+"' on object: "+n.toString()+" but it does not have an 'on' method so is unbindable");return n[e](r,o,this),this}};
},{"lodash/uniqueId":"dALR"}],"fXyO":[function(require,module,exports) {
var t=require("lodash/once"),e=require("lodash/keys"),i=require("lodash/isEmpty"),s=require("lodash/assign"),n=require("lodash/forEach"),r=Array.prototype.slice,o=require("./libs/utils"),h={on:function(t,e,i){return o.eventsApi(this,"on",t,[e,i])&&e?(this._events||(this._events={}),(this._events[t]||(this._events[t]=[])).push({callback:e,context:i,ctx:i||this}),this):this},once:function(e,i,s){if(!o.eventsApi(this,"once",e,[i,s])||!i)return this;var n=this,r=t(function(){n.off(e,r),i.apply(this,arguments)});return r._callback=i,this.on(e,r,s)},off:function(t,i,s){var n,r,h,l,f,c,a,u;if(!this._events||!o.eventsApi(this,"off",t,[i,s]))return this;if(!t&&!i&&!s)return this._events=void 0,this;for(f=0,c=(l=t?[t]:e(this._events)).length;f<c;f++)if(t=l[f],h=this._events[t]){if(this._events[t]=n=[],i||s)for(a=0,u=h.length;a<u;a++)r=h[a],(i&&i!==r.callback&&i!==r.callback._callback||s&&s!==r.context)&&n.push(r);n.length||delete this._events[t]}return this},trigger:function(t){if(!this._events)return this;var e=r.call(arguments,1);if(!o.eventsApi(this,"trigger",t,e))return this;var i=this._events[t],s=this._events.all;return i&&o.triggerEvents(i,e),s&&o.triggerEvents(s,arguments),this},stopListening:function(t,e,s){var r=this._listeningTo;if(!r)return this;var o=!e&&!s;s||"object"!=typeof e||(s=this),t&&((r={})[t._listenId]=t);var h=this;return n(r,function(t,n){t.off(e,s,h),(o||i(t._events))&&delete h._listeningTo[n]}),this},createEmitter:function(t){return s(t||{},h)},listenTo:o.createListenMethod("on"),listenToOnce:o.createListenMethod("once"),listenToAndRun:function(t,e,i){return this.listenTo.apply(this,arguments),i||"object"!=typeof e||(i=this),i.apply(this),this}};h.bind=h.on,h.unbind=h.off,h.removeListener=h.off,h.removeAllListeners=h.off,h.emit=h.trigger,module.exports=h;
},{"lodash/once":"xHud","lodash/keys":"HI10","lodash/isEmpty":"BBRi","lodash/assign":"vlVw","lodash/forEach":"cTKO","./libs/utils":"qYx9"}],"MWYq":[function(require,module,exports) {
var t=Array.prototype.slice;function r(t){if("object"!=typeof(t=t||{}))throw new TypeError("Options must be an object");this.storage={},this.separator=t.separator||"."}r.prototype.add=function(t,r){(this.storage[t]||(this.storage[t]=[])).push(r)},r.prototype.remove=function(t){var r,o;for(r in this.storage)(o=this.storage[r]).some(function(r,e){if(r===t)return o.splice(e,1),!0})},r.prototype.get=function(t){var r,o=[];for(r in this.storage)t&&t!==r&&0!==r.indexOf(t+this.separator)||(o=o.concat(this.storage[r]));return o},r.prototype.getGrouped=function(r){var o,e={};for(o in this.storage)r&&r!==o&&0!==o.indexOf(r+this.separator)||(e[o]=t.call(this.storage[o]));return e},r.prototype.getAll=function(r){var o,e={};for(o in this.storage)r!==o&&0!==o.indexOf(r+this.separator)||(e[o]=t.call(this.storage[o]));return e},r.prototype.run=function(r,o){var e=t.call(arguments,2);this.get(r).forEach(function(t){t.apply(o||this,e)})},module.exports=r;
},{}],"DwoQ":[function(require,module,exports) {
module.exports=function(e,n){var r=e.length,t=e.indexOf(n)+1;return t>r-1&&(t=0),e[t]};
},{}],"aEDA":[function(require,module,exports) {
"use strict";var e=require("lodash/uniqueId"),t=require("lodash/assign"),i=function(e){return t({},e)},r=require("lodash/omit"),n=require("lodash/escape"),s=require("lodash/forOwn"),o=require("lodash/includes"),a=require("lodash/isString"),u=require("lodash/isObject"),h=require("lodash/isDate"),l=require("lodash/isFunction"),c=require("lodash/isEqual"),p=require("lodash/has"),d=require("lodash/result"),f=require("lodash/union"),y=require("ampersand-events"),v=require("key-tree-store"),_=require("array-next"),g=/^change:/,b=function(){};function w(i,r){r||(r={}),this.cid||(this.cid=e("state")),this._events={},this._values={},this._eventBubblingHandlerCache={},this._definition=Object.create(this._definition),r.parse&&(i=this.parse(i,r)),this.parent=r.parent,this.collection=r.collection,this._keyTree=new v,this._initCollections(),this._initChildren(),this._cache={},this._previousAttributes={},i&&this.set(i,t({silent:!0,initial:!0},r)),this._changed={},this._derived&&this._initDerived(),!1!==r.init&&this.initialize.apply(this,arguments)}function T(e,t,i,r){var n,s,o=e._definition[t]={};if(a(i))(n=e._ensureValidType(i))&&(o.type=n);else{if(Array.isArray(i)&&(i={type:(s=i)[0],required:s[1],default:s[2]}),(n=e._ensureValidType(i.type))&&(o.type=n),i.required&&(o.required=!0),i.default&&"object"==typeof i.default)throw new TypeError("The default value for "+t+" cannot be an object/array, must be a value or a function which returns a value/object/array");o.default=i.default,o.allowNull=!!i.allowNull&&i.allowNull,i.setOnce&&(o.setOnce=!0),o.required&&void 0===o.default&&!o.setOnce&&(o.default=e._getDefaultForType(n)),o.test=i.test,o.values=i.values}return r&&(o.session=!0),n||(n=a(i)?i:i.type,console.warn("Invalid data type of `"+n+"` for `"+t+"` property. Use one of the default types or define your own")),Object.defineProperty(e,t,{set:function(e){this.set(t,e)},get:function(){if(!this._values)throw Error('You may be trying to `extend` a state object with "'+t+'" which has been defined in `props` on the object being extended');var e=this._values[t],i=this._dataTypes[o.type];if(void 0!==e)return i&&i.get&&(e=i.get(e)),e;var r=d(o,"default");(this._values[t]=r,void 0!==r)&&this._getOnChangeForType(o.type)(r,e,t);return r}}),o}function q(e,t,i){(e._derived[t]={fn:l(i)?i:i.fn,cache:!1!==i.cache,depList:i.deps||[]}).depList.forEach(function(i){e._deps[i]=f(e._deps[i]||[],[t])}),Object.defineProperty(e,t,{get:function(){return this._getDerivedProperty(t)},set:function(){throw new TypeError("`"+t+"` is a derived property, it can't be set directly.")}})}t(w.prototype,y,{extraProperties:"ignore",idAttribute:"id",namespaceAttribute:"namespace",typeAttribute:"modelType",initialize:function(){return this},getId:function(){return this[this.idAttribute]},getNamespace:function(){return this[this.namespaceAttribute]},getType:function(){return this[this.typeAttribute]},isNew:function(){return null==this.getId()},escape:function(e){return n(this.get(e))},isValid:function(e){return this._validate({},t(e||{},{validate:!0}))},parse:function(e,t){return e},serialize:function(e){var i=t({props:!0},e),r=this.getAttributes(i,!0),n=function(e,t){r[t]=this[t].serialize()}.bind(this);return s(this._children,n),s(this._collections,n),r},set:function(e,t,i){var r,n,s,a,h,l,c,p,f,y,v,_,g,b,w,T,q,A=this,E=this.extraProperties;if(u(e)||null===e?(f=e,i=t):(f={})[e]=t,i=i||{},!this._validate(f,i))return!1;_=i.unset,v=i.silent,b=i.initial,r=this._changing,this._changing=!0,n=[],b?this._previousAttributes={}:r||(this._previousAttributes=this.attributes,this._changed={});for(var C=0,m=Object.keys(f),O=m.length;C<O;C++){if(s=typeof(a=f[p=m[C]]),g=this._values[p],!(h=this._definition[p])){if(this._children[p]||this._collections[p]){u(a)||(a={}),this[p].set(a,i);continue}if("ignore"===E)continue;if("reject"===E)throw new TypeError('No "'+p+'" property defined on '+(this.type||"this")+' model and extraProperties not set to "ignore" or "allow"');if("allow"===E)h=this._createPropertyDefinition(p,"any");else if(E)throw new TypeError('Invalid value for extraProperties: "'+E+'"')}if(T=this._getCompareForType(h.type),q=this._getOnChangeForType(h.type),(y=this._dataTypes[h.type])&&y.set&&(a=(l=y.set(a)).val,s=l.type),h.test&&(c=h.test.call(this,a,s)))throw new TypeError("Property '"+p+"' failed validation with error: "+c);if(void 0===a&&h.required)throw new TypeError("Required property '"+p+"' must be of type "+h.type+". Tried to set "+a);if(null===a&&h.required&&!h.allowNull)throw new TypeError("Property '"+p+"' must be of type "+h.type+" (cannot be null). Tried to set "+a);if(h.type&&"any"!==h.type&&h.type!==s&&null!=a)throw new TypeError("Property '"+p+"' must be of type "+h.type+". Tried to set "+a);if(h.values&&!o(h.values,a)){var j=d(h,"default");if(_&&void 0!==j)a=j;else if(!_||_&&void 0!==a)throw new TypeError("Property '"+p+"' must be one of values: "+h.values.join(", ")+". Tried to set "+a)}if(w=b||!T(g,a,p),h.setOnce&&void 0!==g&&w)throw new TypeError("Property '"+p+"' can only be set once.");w?(q(a,g,p),b||(this._changed[p]=a,this._previousAttributes[p]=g,_&&delete this._values[p],v||n.push({prev:g,val:a,key:p})),_||(this._values[p]=a)):delete this._changed[p]}if(n.length&&(this._pending=!0),n.forEach(function(e){A.trigger("change:"+e.key,A,e.val,i)}),r)return this;for(;this._pending;)this._pending=!1,this.trigger("change",this,i);return this._pending=!1,this._changing=!1,this},get:function(e){return this[e]},toggle:function(e){var t=this._definition[e];if("boolean"===t.type)this[e]=!this[e];else{if(!t||!t.values)throw new TypeError("Can only toggle properties that are type `boolean` or have `values` array.");this[e]=_(t.values,this[e])}return this},previousAttributes:function(){return i(this._previousAttributes)},hasChanged:function(e){return null==e?!!Object.keys(this._changed).length:p(this._derived,e)?this._derived[e].depList.some(function(e){return this.hasChanged(e)},this):p(this._changed,e)},changedAttributes:function(e){if(!e)return!!this.hasChanged()&&i(this._changed);var t,r,n=!1,s=this._changing?this._previousAttributes:this.attributes;for(var o in e)(r=this._definition[o])&&(this._getCompareForType(r.type)(s[o],t=e[o])||((n||(n={}))[o]=t));return n},toJSON:function(){return this.serialize()},unset:function(e,i){var r=this;(e=Array.isArray(e)?e:[e]).forEach(function(e){var n,s=r._definition[e];if(s)return s.required?(n=d(s,"default"),r.set(e,n,i)):r.set(e,n,t({},i,{unset:!0}))})},clear:function(e){var t=this;return Object.keys(this.attributes).forEach(function(i){t.unset(i,e)}),this},previous:function(e){return null!=e&&Object.keys(this._previousAttributes).length?this._previousAttributes[e]:null},_getDefaultForType:function(e){var t=this._dataTypes[e];return t&&t.default},_getCompareForType:function(e){var t=this._dataTypes[e];return t&&t.compare?t.compare.bind(this):c},_getOnChangeForType:function(e){var t=this._dataTypes[e];return t&&t.onChange?t.onChange.bind(this):b},_validate:function(e,i){if(!i.validate||!this.validate)return!0;e=t({},this.attributes,e);var r=this.validationError=this.validate(e,i)||null;return!r||(this.trigger("invalid",this,r,t(i||{},{validationError:r})),!1)},_createPropertyDefinition:function(e,t,i){return T(this,e,t,i)},_ensureValidType:function(e){return o(["string","number","boolean","array","object","date","state","any"].concat(Object.keys(this._dataTypes)),e)?e:void 0},getAttributes:function(e,i){e=t({session:!1,props:!1,derived:!1},e||{});var r,n,s={};for(var o in this._definition)n=this._definition[o],(e.session&&n.session||e.props&&!n.session)&&(r=i?this._values[o]:this[o],i&&r&&l(r.serialize)&&(r=r.serialize()),void 0===r&&(r=d(n,"default")),void 0!==r&&(s[o]=r));if(e.derived)for(var a in this._derived)s[a]=this[a];return s},_initDerived:function(){var e=this;s(this._derived,function(t,i){var r=e._derived[i];r.deps=r.depList;var n=function(){var t=r.fn.call(e);e._cache[i]===t&&r.cache||(r.cache&&(e._previousAttributes[i]=e._cache[i]),e._cache[i]=t,e.trigger("change:"+i,e,e._cache[i]))};r.deps.forEach(function(t){e._keyTree.add(t,n)})}),this.on("all",function(t){g.test(t)&&e._keyTree.get(t.split(":")[1]).forEach(function(e){e()})},this)},_getDerivedProperty:function(e,t){return this._derived[e].cache?(!t&&this._cache.hasOwnProperty(e)||(this._cache[e]=this._derived[e].fn.apply(this)),this._cache[e]):this._derived[e].fn.apply(this)},_initCollections:function(){var e;if(this._collections)for(e in this._collections)this._safeSet(e,new this._collections[e](null,{parent:this}))},_initChildren:function(){var e;if(this._children)for(e in this._children)this._safeSet(e,new this._children[e]({},{parent:this})),this.listenTo(this[e],"all",this._getCachedEventBubblingHandler(e))},_getCachedEventBubblingHandler:function(e){return this._eventBubblingHandlerCache[e]||(this._eventBubblingHandlerCache[e]=function(t,i,r){g.test(t)?this.trigger("change:"+e+"."+t.split(":")[1],i,r):"change"===t&&this.trigger("change",this)}.bind(this)),this._eventBubblingHandlerCache[e]},_verifyRequired:function(){var e=this.attributes;for(var t in this._definition)if(this._definition[t].required&&void 0===e[t])return!1;return!0},_safeSet:function(e,t){if(e in this)throw new Error("Encountered namespace collision while setting instance property `"+e+"`");return this[e]=t,this}}),Object.defineProperties(w.prototype,{attributes:{get:function(){return this.getAttributes({props:!0,session:!0})}},all:{get:function(){return this.getAttributes({session:!0,props:!0,derived:!0})}},isState:{get:function(){return!0},set:function(){}}});var A={string:{default:function(){return""}},date:{set:function(e){var t;if(null==e)t="object";else if(h(e))t="date",e=e.valueOf();else{var i=null,r=new Date(e).valueOf();isNaN(r)&&(r=new Date(parseInt(e,10)).valueOf(),isNaN(r)&&(i=!0)),e=r,t="date",i&&(t=typeof e)}return{val:e,type:t}},get:function(e){return null==e?e:new Date(e)},default:function(){return new Date}},array:{set:function(e){return{val:e,type:Array.isArray(e)?"array":typeof e}},default:function(){return[]}},object:{set:function(e){var t=typeof e;return"object"!==t&&void 0===e&&(e=null,t="object"),{val:e,type:t}},default:function(){return{}}},state:{set:function(e){return e instanceof w||e&&e.isState?{val:e,type:"state"}:{val:e,type:typeof e}},compare:function(e,t){return e===t},onChange:function(e,t,i){t&&this.stopListening(t,"all",this._getCachedEventBubblingHandler(i)),null!=e&&this.listenTo(e,"all",this._getCachedEventBubblingHandler(i))}}};function E(e){var i,n=this;i=e&&e.hasOwnProperty("constructor")?e.constructor:function(){return n.apply(this,arguments)},t(i,n);var o=function(){this.constructor=i};if(o.prototype=n.prototype,i.prototype=new o,i.prototype._derived=t({},n.prototype._derived),i.prototype._deps=t({},n.prototype._deps),i.prototype._definition=t({},n.prototype._definition),i.prototype._collections=t({},n.prototype._collections),i.prototype._children=t({},n.prototype._children),i.prototype._dataTypes=t({},n.prototype._dataTypes||A),e)for(var a=["dataTypes","props","session","derived","collections","children"],u=0;u<arguments.length;u++){var h=arguments[u];h.dataTypes&&s(h.dataTypes,function(e,t){i.prototype._dataTypes[t]=e}),h.props&&s(h.props,function(e,t){T(i.prototype,t,e)}),h.session&&s(h.session,function(e,t){T(i.prototype,t,e,!0)}),h.derived&&s(h.derived,function(e,t){q(i.prototype,t,e)}),h.collections&&s(h.collections,function(e,t){i.prototype._collections[t]=e}),h.children&&s(h.children,function(e,t){i.prototype._children[t]=e}),t(i.prototype,r(h,a))}return i.__super__=n.prototype,i}w.extend=E,module.exports=w;
},{"lodash/uniqueId":"dALR","lodash/assign":"vlVw","lodash/omit":"J2GV","lodash/escape":"ic07","lodash/forOwn":"SC1V","lodash/includes":"AOeR","lodash/isString":"CkJF","lodash/isObject":"u9vI","lodash/isDate":"qD6L","lodash/isFunction":"dRuq","lodash/isEqual":"R6wa","lodash/has":"HZ8X","lodash/result":"TuMP","lodash/union":"ETAe","ampersand-events":"fXyO","key-tree-store":"MWYq","array-next":"DwoQ"}],"e2p6":[function(require,module,exports) {
"use strict";var e=require("./_object-dp").f,r=require("./_object-create"),t=require("./_redefine-all"),i=require("./_ctx"),n=require("./_an-instance"),_=require("./_for-of"),o=require("./_iter-define"),u=require("./_iter-step"),f=require("./_set-species"),s=require("./_descriptors"),l=require("./_meta").fastKey,c=require("./_validate-collection"),v=s?"_s":"size",a=function(e,r){var t,i=l(r);if("F"!==i)return e._i[i];for(t=e._f;t;t=t.n)if(t.k==r)return t};module.exports={getConstructor:function(o,u,f,l){var h=o(function(e,t){n(e,h,u,"_i"),e._t=u,e._i=r(null),e._f=void 0,e._l=void 0,e[v]=0,null!=t&&_(t,f,e[l],e)});return t(h.prototype,{clear:function(){for(var e=c(this,u),r=e._i,t=e._f;t;t=t.n)t.r=!0,t.p&&(t.p=t.p.n=void 0),delete r[t.i];e._f=e._l=void 0,e[v]=0},delete:function(e){var r=c(this,u),t=a(r,e);if(t){var i=t.n,n=t.p;delete r._i[t.i],t.r=!0,n&&(n.n=i),i&&(i.p=n),r._f==t&&(r._f=i),r._l==t&&(r._l=n),r[v]--}return!!t},forEach:function(e){c(this,u);for(var r,t=i(e,arguments.length>1?arguments[1]:void 0,3);r=r?r.n:this._f;)for(t(r.v,r.k,this);r&&r.r;)r=r.p},has:function(e){return!!a(c(this,u),e)}}),s&&e(h.prototype,"size",{get:function(){return c(this,u)[v]}}),h},def:function(e,r,t){var i,n,_=a(e,r);return _?_.v=t:(e._l=_={i:n=l(r,!0),k:r,v:t,p:i=e._l,n:void 0,r:!1},e._f||(e._f=_),i&&(i.n=_),e[v]++,"F"!==n&&(e._i[n]=_)),e},getEntry:a,setStrong:function(e,r,t){o(e,r,function(e,t){this._t=c(e,r),this._k=t,this._l=void 0},function(){for(var e=this._k,r=this._l;r&&r.r;)r=r.p;return this._t&&(this._l=r=r?r.n:this._t._f)?u(0,"keys"==e?r.k:"values"==e?r.v:[r.k,r.v]):(this._t=void 0,u(1))},t?"entries":"values",!t,!0),f(r)}};
},{"./_object-dp":"CgJ2","./_object-create":"TKlF","./_redefine-all":"YG4e","./_ctx":"t5ZG","./_an-instance":"Ii5e","./_for-of":"jK9s","./_iter-define":"GVRu","./_iter-step":"NzDr","./_set-species":"Z4Xj","./_descriptors":"wB3W","./_meta":"c1Ga","./_validate-collection":"o7vD"}],"DQPM":[function(require,module,exports) {
"use strict";var t=require("./_collection-strong"),e=require("./_validate-collection"),r="Map";module.exports=require("./_collection")(r,function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},{get:function(n){var i=t.getEntry(e(this,r),n);return i&&i.v},set:function(n,i){return t.def(e(this,r),0===n?0:n,i)}},t,!0);
},{"./_collection-strong":"e2p6","./_validate-collection":"o7vD","./_collection":"y07f"}],"sa9Z":[function(require,module,exports) {
var r=require("./_for-of");module.exports=function(e,o){var u=[];return r(e,!1,u.push,u,o),u};
},{"./_for-of":"jK9s"}],"WKRo":[function(require,module,exports) {
var r=require("./_classof"),e=require("./_array-from-iterable");module.exports=function(t){return function(){if(r(this)!=t)throw TypeError(t+"#toJSON isn't generic");return e(this)}};
},{"./_classof":"cXyP","./_array-from-iterable":"sa9Z"}],"Hlul":[function(require,module,exports) {
var e=require("./_export");e(e.P+e.R,"Map",{toJSON:require("./_collection-to-json")("Map")});
},{"./_export":"mBzY","./_collection-to-json":"WKRo"}],"rVmq":[function(require,module,exports) {
require("./_set-collection-of")("Map");
},{"./_set-collection-of":"KP1W"}],"Y6uo":[function(require,module,exports) {
require("./_set-collection-from")("Map");
},{"./_set-collection-from":"GyAI"}],"SmNj":[function(require,module,exports) {
require("../modules/es6.object.to-string"),require("../modules/es6.string.iterator"),require("../modules/web.dom.iterable"),require("../modules/es6.map"),require("../modules/es7.map.to-json"),require("../modules/es7.map.of"),require("../modules/es7.map.from"),module.exports=require("../modules/_core").Map;
},{"../modules/es6.object.to-string":"vKFU","../modules/es6.string.iterator":"gnHT","../modules/web.dom.iterable":"bhAM","../modules/es6.map":"DQPM","../modules/es7.map.to-json":"Hlul","../modules/es7.map.of":"rVmq","../modules/es7.map.from":"Y6uo","../modules/_core":"RosZ"}],"y6NN":[function(require,module,exports) {
module.exports=require("core-js/library/fn/map");
},{"core-js/library/fn/map":"SmNj"}],"f8nS":[function(require,module,exports) {
"use strict";var e=require("./_collection-strong"),t=require("./_validate-collection"),r="Set";module.exports=require("./_collection")(r,function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}},{add:function(i){return e.def(t(this,r),i=0===i?0:i,i)}},e);
},{"./_collection-strong":"e2p6","./_validate-collection":"o7vD","./_collection":"y07f"}],"QICJ":[function(require,module,exports) {
var e=require("./_export");e(e.P+e.R,"Set",{toJSON:require("./_collection-to-json")("Set")});
},{"./_export":"mBzY","./_collection-to-json":"WKRo"}],"ebtr":[function(require,module,exports) {
require("./_set-collection-of")("Set");
},{"./_set-collection-of":"KP1W"}],"mVZw":[function(require,module,exports) {
require("./_set-collection-from")("Set");
},{"./_set-collection-from":"GyAI"}],"DxLw":[function(require,module,exports) {
require("../modules/es6.object.to-string"),require("../modules/es6.string.iterator"),require("../modules/web.dom.iterable"),require("../modules/es6.set"),require("../modules/es7.set.to-json"),require("../modules/es7.set.of"),require("../modules/es7.set.from"),module.exports=require("../modules/_core").Set;
},{"../modules/es6.object.to-string":"vKFU","../modules/es6.string.iterator":"gnHT","../modules/web.dom.iterable":"bhAM","../modules/es6.set":"f8nS","../modules/es7.set.to-json":"QICJ","../modules/es7.set.of":"ebtr","../modules/es7.set.from":"mVZw","../modules/_core":"RosZ"}],"OoUO":[function(require,module,exports) {
module.exports=require("core-js/library/fn/set");
},{"core-js/library/fn/set":"DxLw"}],"n5FU":[function(require,module,exports) {
var e=require("@babel/runtime-corejs2/core-js/object/define-property");function r(r,o,u){return o in r?e(r,o,{value:u,enumerable:!0,configurable:!0,writable:!0}):r[o]=u,r}module.exports=r,module.exports.default=module.exports,module.exports.__esModule=!0;
},{"@babel/runtime-corejs2/core-js/object/define-property":"eIqn"}],"NqeY":[function(require,module,exports) {
var r=require("./_export");r(r.S,"Array",{isArray:require("./_is-array")});
},{"./_export":"mBzY","./_is-array":"oAbD"}],"APDc":[function(require,module,exports) {
require("../../modules/es6.array.is-array"),module.exports=require("../../modules/_core").Array.isArray;
},{"../../modules/es6.array.is-array":"NqeY","../../modules/_core":"RosZ"}],"BpbX":[function(require,module,exports) {
module.exports=require("core-js/library/fn/array/is-array");
},{"core-js/library/fn/array/is-array":"APDc"}],"TvDM":[function(require,module,exports) {
function e(e,o){(null==o||o>e.length)&&(o=e.length);for(var l=0,r=new Array(o);l<o;l++)r[l]=e[l];return r}module.exports=e,module.exports.default=module.exports,module.exports.__esModule=!0;
},{}],"qgAY":[function(require,module,exports) {
var r=require("@babel/runtime-corejs2/core-js/array/is-array"),e=require("./arrayLikeToArray.js");function o(o){if(r(o))return e(o)}module.exports=o,module.exports.default=module.exports,module.exports.__esModule=!0;
},{"@babel/runtime-corejs2/core-js/array/is-array":"BpbX","./arrayLikeToArray.js":"TvDM"}],"tjeV":[function(require,module,exports) {
"use strict";var e=require("./_object-dp"),r=require("./_property-desc");module.exports=function(t,i,o){i in t?e.f(t,i,r(0,o)):t[i]=o};
},{"./_object-dp":"CgJ2","./_property-desc":"EVgU"}],"Ifbm":[function(require,module,exports) {
"use strict";var e=require("./_ctx"),r=require("./_export"),t=require("./_to-object"),i=require("./_iter-call"),o=require("./_is-array-iter"),u=require("./_to-length"),n=require("./_create-property"),a=require("./core.get-iterator-method");r(r.S+r.F*!require("./_iter-detect")(function(e){Array.from(e)}),"Array",{from:function(r){var l,c,f,q,_=t(r),h="function"==typeof this?this:Array,v=arguments.length,y=v>1?arguments[1]:void 0,d=void 0!==y,s=0,g=a(_);if(d&&(y=e(y,v>2?arguments[2]:void 0,2)),null==g||h==Array&&o(g))for(c=new h(l=u(_.length));l>s;s++)n(c,s,d?y(_[s],s):_[s]);else for(q=g.call(_),c=new h;!(f=q.next()).done;s++)n(c,s,d?i(q,y,[f.value,s],!0):f.value);return c.length=s,c}});
},{"./_ctx":"t5ZG","./_export":"mBzY","./_to-object":"jK0c","./_iter-call":"hNRr","./_is-array-iter":"tRCg","./_to-length":"Ji2L","./_create-property":"tjeV","./core.get-iterator-method":"nXMQ","./_iter-detect":"O2k0"}],"EZSw":[function(require,module,exports) {
require("../../modules/es6.string.iterator"),require("../../modules/es6.array.from"),module.exports=require("../../modules/_core").Array.from;
},{"../../modules/es6.string.iterator":"gnHT","../../modules/es6.array.from":"Ifbm","../../modules/_core":"RosZ"}],"ybNn":[function(require,module,exports) {
module.exports=require("core-js/library/fn/array/from");
},{"core-js/library/fn/array/from":"EZSw"}],"dk6M":[function(require,module,exports) {
var e=require("@babel/runtime-corejs2/core-js/symbol"),r=require("@babel/runtime-corejs2/core-js/symbol/iterator"),o=require("@babel/runtime-corejs2/core-js/array/from");function u(u){if(void 0!==e&&null!=u[r]||null!=u["@@iterator"])return o(u)}module.exports=u,module.exports.default=module.exports,module.exports.__esModule=!0;
},{"@babel/runtime-corejs2/core-js/symbol":"mr6k","@babel/runtime-corejs2/core-js/symbol/iterator":"uGl8","@babel/runtime-corejs2/core-js/array/from":"ybNn"}],"Q4vU":[function(require,module,exports) {
var r=require("@babel/runtime-corejs2/core-js/array/from"),e=require("./arrayLikeToArray.js");function t(t,o){if(t){if("string"==typeof t)return e(t,o);var u=Object.prototype.toString.call(t).slice(8,-1);return"Object"===u&&t.constructor&&(u=t.constructor.name),"Map"===u||"Set"===u?r(t):"Arguments"===u||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(u)?e(t,o):void 0}}module.exports=t,module.exports.default=module.exports,module.exports.__esModule=!0;
},{"@babel/runtime-corejs2/core-js/array/from":"ybNn","./arrayLikeToArray.js":"TvDM"}],"ejHz":[function(require,module,exports) {
function e(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}module.exports=e,module.exports.default=module.exports,module.exports.__esModule=!0;
},{}],"TW4i":[function(require,module,exports) {
var e=require("./arrayWithoutHoles.js"),r=require("./iterableToArray.js"),o=require("./unsupportedIterableToArray.js"),u=require("./nonIterableSpread.js");function t(t){return e(t)||r(t)||o(t)||u()}module.exports=t,module.exports.default=module.exports,module.exports.__esModule=!0;
},{"./arrayWithoutHoles.js":"qgAY","./iterableToArray.js":"dk6M","./unsupportedIterableToArray.js":"Q4vU","./nonIterableSpread.js":"ejHz"}],"qOpS":[function(require,module,exports) {
var e=require("./_WeakMap"),r=e&&new e;module.exports=r;
},{"./_WeakMap":"N036"}],"jfKO":[function(require,module,exports) {
var e=require("./identity"),r=require("./_metaMap"),t=r?function(e,t){return r.set(e,t),e}:e;module.exports=t;
},{"./identity":"Jpv1","./_metaMap":"qOpS"}],"DrEq":[function(require,module,exports) {
var e=require("./_baseCreate"),r=require("./isObject");function n(n){return function(){var t=arguments;switch(t.length){case 0:return new n;case 1:return new n(t[0]);case 2:return new n(t[0],t[1]);case 3:return new n(t[0],t[1],t[2]);case 4:return new n(t[0],t[1],t[2],t[3]);case 5:return new n(t[0],t[1],t[2],t[3],t[4]);case 6:return new n(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new n(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var u=e(n.prototype),a=n.apply(u,t);return r(a)?a:u}}module.exports=n;
},{"./_baseCreate":"ga8q","./isObject":"u9vI"}],"aP6i":[function(require,module,exports) {
var r=require("./_createCtor"),t=require("./_root"),e=1;function i(i,n,o){var u=n&e,s=r(i);return function r(){return(this&&this!==t&&this instanceof r?s:i).apply(u?o:this,arguments)}}module.exports=i;
},{"./_createCtor":"DrEq","./_root":"MIhM"}],"GRkX":[function(require,module,exports) {
var r=Math.max;function t(t,e,n,o){for(var a=-1,f=t.length,h=n.length,l=-1,g=e.length,u=r(f-h,0),m=Array(g+u),v=!o;++l<g;)m[l]=e[l];for(;++a<h;)(v||a<f)&&(m[n[a]]=t[a]);for(;u--;)m[l++]=t[a++];return m}module.exports=t;
},{}],"GdxW":[function(require,module,exports) {
var r=Math.max;function t(t,a,e,n){for(var o=-1,f=t.length,h=-1,l=e.length,g=-1,u=a.length,v=r(f-l,0),m=Array(v+u),x=!n;++o<v;)m[o]=t[o];for(var c=o;++g<u;)m[c+g]=a[g];for(;++h<l;)(x||o<f)&&(m[c+e[h]]=t[o++]);return m}module.exports=t;
},{}],"low7":[function(require,module,exports) {
function r(r,e){for(var n=r.length,o=0;n--;)r[n]===e&&++o;return o}module.exports=r;
},{}],"WdKa":[function(require,module,exports) {
var _=require("./_baseCreate"),t=require("./_baseLodash"),e=4294967295;function r(_){this.__wrapped__=_,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=e,this.__views__=[]}r.prototype=_(t.prototype),r.prototype.constructor=r,module.exports=r;
},{"./_baseCreate":"ga8q","./_baseLodash":"uTXi"}],"bSg1":[function(require,module,exports) {
var e=require("./_metaMap"),r=require("./noop"),o=e?function(r){return e.get(r)}:r;module.exports=o;
},{"./_metaMap":"qOpS","./noop":"uTXi"}],"PD22":[function(require,module,exports) {
var e={};module.exports=e;
},{}],"ckhT":[function(require,module,exports) {
var r=require("./_realNames"),e=Object.prototype,n=e.hasOwnProperty;function a(e){for(var a=e.name+"",t=r[a],l=n.call(r,a)?t.length:0;l--;){var o=t[l],u=o.func;if(null==u||u==e)return o.name}return a}module.exports=a;
},{"./_realNames":"PD22"}],"euOj":[function(require,module,exports) {
var _=require("./_baseCreate"),t=require("./_baseLodash");function e(_,t){this.__wrapped__=_,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=void 0}e.prototype=_(t.prototype),e.prototype.constructor=e,module.exports=e;
},{"./_baseCreate":"ga8q","./_baseLodash":"uTXi"}],"qnOU":[function(require,module,exports) {
var _=require("./_LazyWrapper"),e=require("./_LodashWrapper"),r=require("./_copyArray");function a(a){if(a instanceof _)return a.clone();var n=new e(a.__wrapped__,a.__chain__);return n.__actions__=r(a.__actions__),n.__index__=a.__index__,n.__values__=a.__values__,n}module.exports=a;
},{"./_LazyWrapper":"WdKa","./_LodashWrapper":"euOj","./_copyArray":"Mkgn"}],"xe3X":[function(require,module,exports) {
var r=require("./_LazyWrapper"),e=require("./_LodashWrapper"),t=require("./_baseLodash"),o=require("./isArray"),p=require("./isObjectLike"),i=require("./_wrapperClone"),a=Object.prototype,n=a.hasOwnProperty;function u(t){if(p(t)&&!o(t)&&!(t instanceof r)){if(t instanceof e)return t;if(n.call(t,"__wrapped__"))return i(t)}return new e(t)}u.prototype=t.prototype,u.prototype.constructor=u,module.exports=u;
},{"./_LazyWrapper":"WdKa","./_LodashWrapper":"euOj","./_baseLodash":"uTXi","./isArray":"p0cq","./isObjectLike":"OuyB","./_wrapperClone":"qnOU"}],"jHmP":[function(require,module,exports) {
var r=require("./_LazyWrapper"),e=require("./_getData"),t=require("./_getFuncName"),u=require("./wrapperLodash");function a(a){var i=t(a),n=u[i];if("function"!=typeof n||!(i in r.prototype))return!1;if(a===n)return!0;var o=e(n);return!!o&&a===o[0]}module.exports=a;
},{"./_LazyWrapper":"WdKa","./_getData":"bSg1","./_getFuncName":"ckhT","./wrapperLodash":"xe3X"}],"n4Xl":[function(require,module,exports) {
var e=require("./_baseSetData"),r=require("./_shortOut"),t=r(e);module.exports=t;
},{"./_baseSetData":"jfKO","./_shortOut":"NNlz"}],"yxSx":[function(require,module,exports) {
var r=/\{\n\/\* \[wrapped with (.+)\] \*/,t=/,? & /;function a(a){var e=a.match(r);return e?e[1].split(t):[]}module.exports=a;
},{}],"px7f":[function(require,module,exports) {
var r=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/;function n(n,e){var t=e.length;if(!t)return n;var a=t-1;return e[a]=(t>1?"& ":"")+e[a],e=e.join(t>2?", ":" "),n.replace(r,"{\n/* [wrapped with "+e+"] */\n")}module.exports=n;
},{}],"VPfA":[function(require,module,exports) {
var r=require("./_arrayEach"),a=require("./_arrayIncludes"),i=1,e=2,u=8,t=16,n=32,c=64,y=128,l=256,o=512,p=[["ary",y],["bind",i],["bindKey",e],["curry",u],["curryRight",t],["flip",o],["partial",n],["partialRight",c],["rearg",l]];function d(i,e){return r(p,function(r){var u="_."+r[0];e&r[1]&&!a(i,u)&&i.push(u)}),i.sort()}module.exports=d;
},{"./_arrayEach":"D78i","./_arrayIncludes":"mBEK"}],"jsYr":[function(require,module,exports) {
var e=require("./_getWrapDetails"),r=require("./_insertWrapDetails"),t=require("./_setToString"),i=require("./_updateWrapDetails");function a(a,u,s){var n=u+"";return t(a,r(n,i(e(n),s)))}module.exports=a;
},{"./_getWrapDetails":"yxSx","./_insertWrapDetails":"px7f","./_setToString":"KRxT","./_updateWrapDetails":"VPfA"}],"m0x3":[function(require,module,exports) {
var r=require("./_isLaziable"),e=require("./_setData"),i=require("./_setWrapToString"),a=1,o=2,v=4,d=8,t=32,u=64;function l(l,p,n,s,q,_,c,b,f,g){var h=p&d;p|=h?t:u,(p&=~(h?u:t))&v||(p&=~(a|o));var m=[l,p,q,h?_:void 0,h?c:void 0,h?void 0:_,h?void 0:c,b,f,g],x=n.apply(void 0,m);return r(l)&&e(x,m),x.placeholder=s,i(x,l,p)}module.exports=l;
},{"./_isLaziable":"jHmP","./_setData":"n4Xl","./_setWrapToString":"jsYr"}],"coim":[function(require,module,exports) {
function e(e){return e.placeholder}module.exports=e;
},{}],"MNt9":[function(require,module,exports) {
var r=require("./_copyArray"),e=require("./_isIndex"),n=Math.min;function i(i,o){for(var t=i.length,a=n(o.length,t),u=r(i);a--;){var v=o[a];i[a]=e(v,t)?u[v]:void 0}return i}module.exports=i;
},{"./_copyArray":"Mkgn","./_isIndex":"AGrE"}],"bU1I":[function(require,module,exports) {
var r="__lodash_placeholder__";function e(e,o){for(var a=-1,l=e.length,_=0,n=[];++a<l;){var t=e[a];t!==o&&t!==r||(e[a]=r,n[_++]=a)}return n}module.exports=e;
},{}],"yTXS":[function(require,module,exports) {
var r=require("./_composeArgs"),e=require("./_composeArgsRight"),t=require("./_countHolders"),i=require("./_createCtor"),o=require("./_createRecurry"),u=require("./_getHolder"),a=require("./_reorder"),n=require("./_replaceHolders"),s=require("./_root"),c=1,l=2,h=8,q=16,_=128,v=512;function d(g,p,f,m,y,A,H,R,x,C){var b=p&_,j=p&c,k=p&l,w=p&(h|q),z=p&v,B=k?void 0:i(g);return function c(){for(var l=arguments.length,h=Array(l),q=l;q--;)h[q]=arguments[q];if(w)var _=u(c),v=t(h,_);if(m&&(h=r(h,m,y,w)),A&&(h=e(h,A,H,w)),l-=v,w&&l<C){var D=n(h,_);return o(g,p,d,c.placeholder,f,h,D,R,x,C-l)}var E=j?f:this,F=k?E[g]:g;return l=h.length,R?h=a(h,R):z&&l>1&&h.reverse(),b&&x<l&&(h.length=x),this&&this!==s&&this instanceof c&&(F=B||i(F)),F.apply(E,h)}}module.exports=d;
},{"./_composeArgs":"GRkX","./_composeArgsRight":"GdxW","./_countHolders":"low7","./_createCtor":"DrEq","./_createRecurry":"m0x3","./_getHolder":"coim","./_reorder":"MNt9","./_replaceHolders":"bU1I","./_root":"MIhM"}],"kCkc":[function(require,module,exports) {
var r=require("./_apply"),e=require("./_createCtor"),i=require("./_createHybrid"),t=require("./_createRecurry"),o=require("./_getHolder"),u=require("./_replaceHolders"),a=require("./_root");function n(n,c,l){var d=e(n);return function e(){for(var h=arguments.length,q=Array(h),s=h,v=o(e);s--;)q[s]=arguments[s];var _=h<3&&q[0]!==v&&q[h-1]!==v?[]:u(q,v);return(h-=_.length)<l?t(n,c,i,e.placeholder,void 0,q,_,void 0,void 0,l-h):r(this&&this!==a&&this instanceof e?d:n,this,q)}}module.exports=n;
},{"./_apply":"aZQm","./_createCtor":"DrEq","./_createHybrid":"yTXS","./_createRecurry":"m0x3","./_getHolder":"coim","./_replaceHolders":"bU1I","./_root":"MIhM"}],"kobB":[function(require,module,exports) {
var r=require("./_apply"),e=require("./_createCtor"),t=require("./_root"),i=1;function n(n,o,u,a){var h=o&i,s=e(n);return function e(){for(var i=-1,o=arguments.length,f=-1,c=a.length,l=Array(c+o),p=this&&this!==t&&this instanceof e?s:n;++f<c;)l[f]=a[f];for(;o--;)l[f++]=arguments[++i];return r(p,h?u:this,l)}}module.exports=n;
},{"./_apply":"aZQm","./_createCtor":"DrEq","./_root":"MIhM"}],"V8mF":[function(require,module,exports) {
var r=require("./_composeArgs"),e=require("./_composeArgsRight"),l=require("./_replaceHolders"),o="__lodash_placeholder__",n=1,u=2,a=4,i=8,t=128,_=256,s=Math.min;function h(h,c){var g=h[1],p=c[1],d=g|p,m=d<(n|u|t),v=p==t&&g==i||p==t&&g==_&&h[7].length<=c[8]||p==(t|_)&&c[7].length<=c[8]&&g==i;if(!m&&!v)return h;p&n&&(h[2]=c[2],d|=g&n?0:a);var f=c[3];if(f){var q=h[3];h[3]=q?r(q,f,c[4]):f,h[4]=q?l(h[3],o):c[4]}return(f=c[5])&&(q=h[5],h[5]=q?e(q,f,c[6]):f,h[6]=q?l(h[5],o):c[6]),(f=c[7])&&(h[7]=f),p&t&&(h[8]=null==h[8]?c[8]:s(h[8],c[8])),null==h[9]&&(h[9]=c[9]),h[0]=c[0],h[1]=d,h}module.exports=h;
},{"./_composeArgs":"GRkX","./_composeArgsRight":"GdxW","./_replaceHolders":"bU1I"}],"aYWg":[function(require,module,exports) {
var e=require("./_baseSetData"),r=require("./_createBind"),t=require("./_createCurry"),i=require("./_createHybrid"),a=require("./_createPartial"),o=require("./_getData"),u=require("./_mergeData"),n=require("./_setData"),v=require("./_setWrapToString"),d=require("./toInteger"),q="Expected a function",_=1,c=2,g=8,l=16,f=32,p=64,h=Math.max;function s(s,y,D,m,x,b,w,E){var S=y&c;if(!S&&"function"!=typeof s)throw new TypeError(q);var T=m?m.length:0;if(T||(y&=~(f|p),m=x=void 0),w=void 0===w?w:h(d(w),0),E=void 0===E?E:d(E),T-=x?x.length:0,y&p){var B=m,C=x;m=x=void 0}var H=S?void 0:o(s),I=[s,y,D,m,x,B,C,b,w,E];if(H&&u(I,H),s=I[0],y=I[1],D=I[2],m=I[3],x=I[4],!(E=I[9]=void 0===I[9]?S?0:s.length:h(I[9]-T,0))&&y&(g|l)&&(y&=~(g|l)),y&&y!=_)M=y==g||y==l?t(s,y,E):y!=f&&y!=(_|f)||x.length?i.apply(void 0,I):a(s,y,D,m);else var M=r(s,y,D);return v((H?e:n)(M,I),s,y)}module.exports=s;
},{"./_baseSetData":"jfKO","./_createBind":"aP6i","./_createCurry":"kCkc","./_createHybrid":"yTXS","./_createPartial":"kobB","./_getData":"bSg1","./_mergeData":"V8mF","./_setData":"n4Xl","./_setWrapToString":"jsYr","./toInteger":"d9A1"}],"tOd9":[function(require,module,exports) {
var e=require("./_baseRest"),r=require("./_createWrap"),a=require("./_getHolder"),o=require("./_replaceHolders"),u=32,i=e(function(e,l){var t=o(l,a(i));return r(e,u,void 0,l,t)});i.placeholder={},module.exports=i;
},{"./_baseRest":"f4Fl","./_createWrap":"aYWg","./_getHolder":"coim","./_replaceHolders":"bU1I"}],"Z5zS":[function(require,module,exports) {
var r=require("./_castFunction"),e=require("./partial");function t(t,u){return e(r(u),t)}module.exports=t;
},{"./_castFunction":"tAcL","./partial":"tOd9"}],"pJf5":[function(require,module,exports) {
var r=require("./_root"),e=function(){return r.Date.now()};module.exports=e;
},{"./_root":"MIhM"}],"CXfR":[function(require,module,exports) {
var i=require("./isObject"),t=require("./now"),r=require("./toNumber"),n="Expected a function",e=Math.max,u=Math.min;function o(o,a,f){var c,v,d,m,l,s,T=0,p=!1,h=!1,x=!0;if("function"!=typeof o)throw new TypeError(n);function g(i){var t=c,r=v;return c=v=void 0,T=i,m=o.apply(r,t)}function q(i){var t=i-s;return void 0===s||t>=a||t<0||h&&i-T>=d}function w(){var i=t();if(q(i))return y(i);l=setTimeout(w,function(i){var t=a-(i-s);return h?u(t,d-(i-T)):t}(i))}function y(i){return l=void 0,x&&c?g(i):(c=v=void 0,m)}function b(){var i=t(),r=q(i);if(c=arguments,v=this,s=i,r){if(void 0===l)return function(i){return T=i,l=setTimeout(w,a),p?g(i):m}(s);if(h)return clearTimeout(l),l=setTimeout(w,a),g(s)}return void 0===l&&(l=setTimeout(w,a)),m}return a=r(a)||0,i(f)&&(p=!!f.leading,d=(h="maxWait"in f)?e(r(f.maxWait)||0,a):d,x="trailing"in f?!!f.trailing:x),b.cancel=function(){void 0!==l&&clearTimeout(l),T=0,c=s=v=l=void 0},b.flush=function(){return void 0===l?m:y(t())},b}module.exports=o;
},{"./isObject":"u9vI","./now":"pJf5","./toNumber":"iS0Z"}],"L4BM":[function(require,module,exports) {
var e=require("./_createWrap"),o=8;function r(d,i,v){var a=e(d,o,void 0,void 0,void 0,void 0,void 0,i=v?void 0:i);return a.placeholder=r.placeholder,a}r.placeholder={},module.exports=r;
},{"./_createWrap":"aYWg"}],"yh9p":[function(require,module,exports) {
"use strict";exports.byteLength=u,exports.toByteArray=i,exports.fromByteArray=d;for(var r=[],t=[],e="undefined"!=typeof Uint8Array?Uint8Array:Array,n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",o=0,a=n.length;o<a;++o)r[o]=n[o],t[n.charCodeAt(o)]=o;function h(r){var t=r.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var e=r.indexOf("=");return-1===e&&(e=t),[e,e===t?0:4-e%4]}function u(r){var t=h(r),e=t[0],n=t[1];return 3*(e+n)/4-n}function c(r,t,e){return 3*(t+e)/4-e}function i(r){var n,o,a=h(r),u=a[0],i=a[1],f=new e(c(r,u,i)),A=0,d=i>0?u-4:u;for(o=0;o<d;o+=4)n=t[r.charCodeAt(o)]<<18|t[r.charCodeAt(o+1)]<<12|t[r.charCodeAt(o+2)]<<6|t[r.charCodeAt(o+3)],f[A++]=n>>16&255,f[A++]=n>>8&255,f[A++]=255&n;return 2===i&&(n=t[r.charCodeAt(o)]<<2|t[r.charCodeAt(o+1)]>>4,f[A++]=255&n),1===i&&(n=t[r.charCodeAt(o)]<<10|t[r.charCodeAt(o+1)]<<4|t[r.charCodeAt(o+2)]>>2,f[A++]=n>>8&255,f[A++]=255&n),f}function f(t){return r[t>>18&63]+r[t>>12&63]+r[t>>6&63]+r[63&t]}function A(r,t,e){for(var n,o=[],a=t;a<e;a+=3)n=(r[a]<<16&16711680)+(r[a+1]<<8&65280)+(255&r[a+2]),o.push(f(n));return o.join("")}function d(t){for(var e,n=t.length,o=n%3,a=[],h=0,u=n-o;h<u;h+=16383)a.push(A(t,h,h+16383>u?u:h+16383));return 1===o?(e=t[n-1],a.push(r[e>>2]+r[e<<4&63]+"==")):2===o&&(e=(t[n-2]<<8)+t[n-1],a.push(r[e>>10]+r[e>>4&63]+r[e<<2&63]+"=")),a.join("")}t["-".charCodeAt(0)]=62,t["_".charCodeAt(0)]=63;
},{}],"JgNJ":[function(require,module,exports) {
exports.read=function(a,o,t,r,h){var M,p,w=8*h-r-1,f=(1<<w)-1,e=f>>1,i=-7,N=t?h-1:0,n=t?-1:1,s=a[o+N];for(N+=n,M=s&(1<<-i)-1,s>>=-i,i+=w;i>0;M=256*M+a[o+N],N+=n,i-=8);for(p=M&(1<<-i)-1,M>>=-i,i+=r;i>0;p=256*p+a[o+N],N+=n,i-=8);if(0===M)M=1-e;else{if(M===f)return p?NaN:1/0*(s?-1:1);p+=Math.pow(2,r),M-=e}return(s?-1:1)*p*Math.pow(2,M-r)},exports.write=function(a,o,t,r,h,M){var p,w,f,e=8*M-h-1,i=(1<<e)-1,N=i>>1,n=23===h?Math.pow(2,-24)-Math.pow(2,-77):0,s=r?0:M-1,u=r?1:-1,l=o<0||0===o&&1/o<0?1:0;for(o=Math.abs(o),isNaN(o)||o===1/0?(w=isNaN(o)?1:0,p=i):(p=Math.floor(Math.log(o)/Math.LN2),o*(f=Math.pow(2,-p))<1&&(p--,f*=2),(o+=p+N>=1?n/f:n*Math.pow(2,1-N))*f>=2&&(p++,f/=2),p+N>=i?(w=0,p=i):p+N>=1?(w=(o*f-1)*Math.pow(2,h),p+=N):(w=o*Math.pow(2,N-1)*Math.pow(2,h),p=0));h>=8;a[t+s]=255&w,s+=u,w/=256,h-=8);for(p=p<<h|w,e+=h;e>0;a[t+s]=255&p,s+=u,p/=256,e-=8);a[t+s-u]|=128*l};
},{}],"REa7":[function(require,module,exports) {
var r={}.toString;module.exports=Array.isArray||function(t){return"[object Array]"==r.call(t)};
},{}],"peL6":[function(require,module,exports) {

var global = arguments[3];
var t=arguments[3],r=require("base64-js"),e=require("ieee754"),n=require("isarray");function i(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&"function"==typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(r){return!1}}function o(){return f.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function u(t,r){if(o()<r)throw new RangeError("Invalid typed array length");return f.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(r)).__proto__=f.prototype:(null===t&&(t=new f(r)),t.length=r),t}function f(t,r,e){if(!(f.TYPED_ARRAY_SUPPORT||this instanceof f))return new f(t,r,e);if("number"==typeof t){if("string"==typeof r)throw new Error("If encoding is specified then the first argument must be a string");return c(this,t)}return s(this,t,r,e)}function s(t,r,e,n){if("number"==typeof r)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&r instanceof ArrayBuffer?g(t,r,e,n):"string"==typeof r?l(t,r,e):y(t,r)}function h(t){if("number"!=typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function a(t,r,e,n){return h(r),r<=0?u(t,r):void 0!==e?"string"==typeof n?u(t,r).fill(e,n):u(t,r).fill(e):u(t,r)}function c(t,r){if(h(r),t=u(t,r<0?0:0|w(r)),!f.TYPED_ARRAY_SUPPORT)for(var e=0;e<r;++e)t[e]=0;return t}function l(t,r,e){if("string"==typeof e&&""!==e||(e="utf8"),!f.isEncoding(e))throw new TypeError('"encoding" must be a valid string encoding');var n=0|v(r,e),i=(t=u(t,n)).write(r,e);return i!==n&&(t=t.slice(0,i)),t}function p(t,r){var e=r.length<0?0:0|w(r.length);t=u(t,e);for(var n=0;n<e;n+=1)t[n]=255&r[n];return t}function g(t,r,e,n){if(r.byteLength,e<0||r.byteLength<e)throw new RangeError("'offset' is out of bounds");if(r.byteLength<e+(n||0))throw new RangeError("'length' is out of bounds");return r=void 0===e&&void 0===n?new Uint8Array(r):void 0===n?new Uint8Array(r,e):new Uint8Array(r,e,n),f.TYPED_ARRAY_SUPPORT?(t=r).__proto__=f.prototype:t=p(t,r),t}function y(t,r){if(f.isBuffer(r)){var e=0|w(r.length);return 0===(t=u(t,e)).length?t:(r.copy(t,0,0,e),t)}if(r){if("undefined"!=typeof ArrayBuffer&&r.buffer instanceof ArrayBuffer||"length"in r)return"number"!=typeof r.length||W(r.length)?u(t,0):p(t,r);if("Buffer"===r.type&&n(r.data))return p(t,r.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function w(t){if(t>=o())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o().toString(16)+" bytes");return 0|t}function d(t){return+t!=t&&(t=0),f.alloc(+t)}function v(t,r){if(f.isBuffer(t))return t.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!=typeof t&&(t=""+t);var e=t.length;if(0===e)return 0;for(var n=!1;;)switch(r){case"ascii":case"latin1":case"binary":return e;case"utf8":case"utf-8":case void 0:return $(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*e;case"hex":return e>>>1;case"base64":return K(t).length;default:if(n)return $(t).length;r=(""+r).toLowerCase(),n=!0}}function E(t,r,e){var n=!1;if((void 0===r||r<0)&&(r=0),r>this.length)return"";if((void 0===e||e>this.length)&&(e=this.length),e<=0)return"";if((e>>>=0)<=(r>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return x(this,r,e);case"utf8":case"utf-8":return Y(this,r,e);case"ascii":return L(this,r,e);case"latin1":case"binary":return D(this,r,e);case"base64":return S(this,r,e);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return C(this,r,e);default:if(n)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),n=!0}}function b(t,r,e){var n=t[r];t[r]=t[e],t[e]=n}function R(t,r,e,n,i){if(0===t.length)return-1;if("string"==typeof e?(n=e,e=0):e>2147483647?e=2147483647:e<-2147483648&&(e=-2147483648),e=+e,isNaN(e)&&(e=i?0:t.length-1),e<0&&(e=t.length+e),e>=t.length){if(i)return-1;e=t.length-1}else if(e<0){if(!i)return-1;e=0}if("string"==typeof r&&(r=f.from(r,n)),f.isBuffer(r))return 0===r.length?-1:_(t,r,e,n,i);if("number"==typeof r)return r&=255,f.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(t,r,e):Uint8Array.prototype.lastIndexOf.call(t,r,e):_(t,[r],e,n,i);throw new TypeError("val must be string, number or Buffer")}function _(t,r,e,n,i){var o,u=1,f=t.length,s=r.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(t.length<2||r.length<2)return-1;u=2,f/=2,s/=2,e/=2}function h(t,r){return 1===u?t[r]:t.readUInt16BE(r*u)}if(i){var a=-1;for(o=e;o<f;o++)if(h(t,o)===h(r,-1===a?0:o-a)){if(-1===a&&(a=o),o-a+1===s)return a*u}else-1!==a&&(o-=o-a),a=-1}else for(e+s>f&&(e=f-s),o=e;o>=0;o--){for(var c=!0,l=0;l<s;l++)if(h(t,o+l)!==h(r,l)){c=!1;break}if(c)return o}return-1}function A(t,r,e,n){e=Number(e)||0;var i=t.length-e;n?(n=Number(n))>i&&(n=i):n=i;var o=r.length;if(o%2!=0)throw new TypeError("Invalid hex string");n>o/2&&(n=o/2);for(var u=0;u<n;++u){var f=parseInt(r.substr(2*u,2),16);if(isNaN(f))return u;t[e+u]=f}return u}function m(t,r,e,n){return Q($(r,t.length-e),t,e,n)}function P(t,r,e,n){return Q(G(r),t,e,n)}function T(t,r,e,n){return P(t,r,e,n)}function B(t,r,e,n){return Q(K(r),t,e,n)}function U(t,r,e,n){return Q(H(r,t.length-e),t,e,n)}function S(t,e,n){return 0===e&&n===t.length?r.fromByteArray(t):r.fromByteArray(t.slice(e,n))}function Y(t,r,e){e=Math.min(t.length,e);for(var n=[],i=r;i<e;){var o,u,f,s,h=t[i],a=null,c=h>239?4:h>223?3:h>191?2:1;if(i+c<=e)switch(c){case 1:h<128&&(a=h);break;case 2:128==(192&(o=t[i+1]))&&(s=(31&h)<<6|63&o)>127&&(a=s);break;case 3:o=t[i+1],u=t[i+2],128==(192&o)&&128==(192&u)&&(s=(15&h)<<12|(63&o)<<6|63&u)>2047&&(s<55296||s>57343)&&(a=s);break;case 4:o=t[i+1],u=t[i+2],f=t[i+3],128==(192&o)&&128==(192&u)&&128==(192&f)&&(s=(15&h)<<18|(63&o)<<12|(63&u)<<6|63&f)>65535&&s<1114112&&(a=s)}null===a?(a=65533,c=1):a>65535&&(a-=65536,n.push(a>>>10&1023|55296),a=56320|1023&a),n.push(a),i+=c}return O(n)}exports.Buffer=f,exports.SlowBuffer=d,exports.INSPECT_MAX_BYTES=50,f.TYPED_ARRAY_SUPPORT=void 0!==t.TYPED_ARRAY_SUPPORT?t.TYPED_ARRAY_SUPPORT:i(),exports.kMaxLength=o(),f.poolSize=8192,f._augment=function(t){return t.__proto__=f.prototype,t},f.from=function(t,r,e){return s(null,t,r,e)},f.TYPED_ARRAY_SUPPORT&&(f.prototype.__proto__=Uint8Array.prototype,f.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&f[Symbol.species]===f&&Object.defineProperty(f,Symbol.species,{value:null,configurable:!0})),f.alloc=function(t,r,e){return a(null,t,r,e)},f.allocUnsafe=function(t){return c(null,t)},f.allocUnsafeSlow=function(t){return c(null,t)},f.isBuffer=function(t){return!(null==t||!t._isBuffer)},f.compare=function(t,r){if(!f.isBuffer(t)||!f.isBuffer(r))throw new TypeError("Arguments must be Buffers");if(t===r)return 0;for(var e=t.length,n=r.length,i=0,o=Math.min(e,n);i<o;++i)if(t[i]!==r[i]){e=t[i],n=r[i];break}return e<n?-1:n<e?1:0},f.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},f.concat=function(t,r){if(!n(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return f.alloc(0);var e;if(void 0===r)for(r=0,e=0;e<t.length;++e)r+=t[e].length;var i=f.allocUnsafe(r),o=0;for(e=0;e<t.length;++e){var u=t[e];if(!f.isBuffer(u))throw new TypeError('"list" argument must be an Array of Buffers');u.copy(i,o),o+=u.length}return i},f.byteLength=v,f.prototype._isBuffer=!0,f.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var r=0;r<t;r+=2)b(this,r,r+1);return this},f.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var r=0;r<t;r+=4)b(this,r,r+3),b(this,r+1,r+2);return this},f.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var r=0;r<t;r+=8)b(this,r,r+7),b(this,r+1,r+6),b(this,r+2,r+5),b(this,r+3,r+4);return this},f.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?Y(this,0,t):E.apply(this,arguments)},f.prototype.equals=function(t){if(!f.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===f.compare(this,t)},f.prototype.inspect=function(){var t="",r=exports.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,r).match(/.{2}/g).join(" "),this.length>r&&(t+=" ... ")),"<Buffer "+t+">"},f.prototype.compare=function(t,r,e,n,i){if(!f.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===r&&(r=0),void 0===e&&(e=t?t.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),r<0||e>t.length||n<0||i>this.length)throw new RangeError("out of range index");if(n>=i&&r>=e)return 0;if(n>=i)return-1;if(r>=e)return 1;if(this===t)return 0;for(var o=(i>>>=0)-(n>>>=0),u=(e>>>=0)-(r>>>=0),s=Math.min(o,u),h=this.slice(n,i),a=t.slice(r,e),c=0;c<s;++c)if(h[c]!==a[c]){o=h[c],u=a[c];break}return o<u?-1:u<o?1:0},f.prototype.includes=function(t,r,e){return-1!==this.indexOf(t,r,e)},f.prototype.indexOf=function(t,r,e){return R(this,t,r,e,!0)},f.prototype.lastIndexOf=function(t,r,e){return R(this,t,r,e,!1)},f.prototype.write=function(t,r,e,n){if(void 0===r)n="utf8",e=this.length,r=0;else if(void 0===e&&"string"==typeof r)n=r,e=this.length,r=0;else{if(!isFinite(r))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");r|=0,isFinite(e)?(e|=0,void 0===n&&(n="utf8")):(n=e,e=void 0)}var i=this.length-r;if((void 0===e||e>i)&&(e=i),t.length>0&&(e<0||r<0)||r>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var o=!1;;)switch(n){case"hex":return A(this,t,r,e);case"utf8":case"utf-8":return m(this,t,r,e);case"ascii":return P(this,t,r,e);case"latin1":case"binary":return T(this,t,r,e);case"base64":return B(this,t,r,e);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return U(this,t,r,e);default:if(o)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),o=!0}},f.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var I=4096;function O(t){var r=t.length;if(r<=I)return String.fromCharCode.apply(String,t);for(var e="",n=0;n<r;)e+=String.fromCharCode.apply(String,t.slice(n,n+=I));return e}function L(t,r,e){var n="";e=Math.min(t.length,e);for(var i=r;i<e;++i)n+=String.fromCharCode(127&t[i]);return n}function D(t,r,e){var n="";e=Math.min(t.length,e);for(var i=r;i<e;++i)n+=String.fromCharCode(t[i]);return n}function x(t,r,e){var n=t.length;(!r||r<0)&&(r=0),(!e||e<0||e>n)&&(e=n);for(var i="",o=r;o<e;++o)i+=Z(t[o]);return i}function C(t,r,e){for(var n=t.slice(r,e),i="",o=0;o<n.length;o+=2)i+=String.fromCharCode(n[o]+256*n[o+1]);return i}function M(t,r,e){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+r>e)throw new RangeError("Trying to access beyond buffer length")}function k(t,r,e,n,i,o){if(!f.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(r>i||r<o)throw new RangeError('"value" argument is out of bounds');if(e+n>t.length)throw new RangeError("Index out of range")}function N(t,r,e,n){r<0&&(r=65535+r+1);for(var i=0,o=Math.min(t.length-e,2);i<o;++i)t[e+i]=(r&255<<8*(n?i:1-i))>>>8*(n?i:1-i)}function z(t,r,e,n){r<0&&(r=4294967295+r+1);for(var i=0,o=Math.min(t.length-e,4);i<o;++i)t[e+i]=r>>>8*(n?i:3-i)&255}function F(t,r,e,n,i,o){if(e+n>t.length)throw new RangeError("Index out of range");if(e<0)throw new RangeError("Index out of range")}function j(t,r,n,i,o){return o||F(t,r,n,4,3.4028234663852886e38,-3.4028234663852886e38),e.write(t,r,n,i,23,4),n+4}function q(t,r,n,i,o){return o||F(t,r,n,8,1.7976931348623157e308,-1.7976931348623157e308),e.write(t,r,n,i,52,8),n+8}f.prototype.slice=function(t,r){var e,n=this.length;if((t=~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),(r=void 0===r?n:~~r)<0?(r+=n)<0&&(r=0):r>n&&(r=n),r<t&&(r=t),f.TYPED_ARRAY_SUPPORT)(e=this.subarray(t,r)).__proto__=f.prototype;else{var i=r-t;e=new f(i,void 0);for(var o=0;o<i;++o)e[o]=this[o+t]}return e},f.prototype.readUIntLE=function(t,r,e){t|=0,r|=0,e||M(t,r,this.length);for(var n=this[t],i=1,o=0;++o<r&&(i*=256);)n+=this[t+o]*i;return n},f.prototype.readUIntBE=function(t,r,e){t|=0,r|=0,e||M(t,r,this.length);for(var n=this[t+--r],i=1;r>0&&(i*=256);)n+=this[t+--r]*i;return n},f.prototype.readUInt8=function(t,r){return r||M(t,1,this.length),this[t]},f.prototype.readUInt16LE=function(t,r){return r||M(t,2,this.length),this[t]|this[t+1]<<8},f.prototype.readUInt16BE=function(t,r){return r||M(t,2,this.length),this[t]<<8|this[t+1]},f.prototype.readUInt32LE=function(t,r){return r||M(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},f.prototype.readUInt32BE=function(t,r){return r||M(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},f.prototype.readIntLE=function(t,r,e){t|=0,r|=0,e||M(t,r,this.length);for(var n=this[t],i=1,o=0;++o<r&&(i*=256);)n+=this[t+o]*i;return n>=(i*=128)&&(n-=Math.pow(2,8*r)),n},f.prototype.readIntBE=function(t,r,e){t|=0,r|=0,e||M(t,r,this.length);for(var n=r,i=1,o=this[t+--n];n>0&&(i*=256);)o+=this[t+--n]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*r)),o},f.prototype.readInt8=function(t,r){return r||M(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},f.prototype.readInt16LE=function(t,r){r||M(t,2,this.length);var e=this[t]|this[t+1]<<8;return 32768&e?4294901760|e:e},f.prototype.readInt16BE=function(t,r){r||M(t,2,this.length);var e=this[t+1]|this[t]<<8;return 32768&e?4294901760|e:e},f.prototype.readInt32LE=function(t,r){return r||M(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},f.prototype.readInt32BE=function(t,r){return r||M(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},f.prototype.readFloatLE=function(t,r){return r||M(t,4,this.length),e.read(this,t,!0,23,4)},f.prototype.readFloatBE=function(t,r){return r||M(t,4,this.length),e.read(this,t,!1,23,4)},f.prototype.readDoubleLE=function(t,r){return r||M(t,8,this.length),e.read(this,t,!0,52,8)},f.prototype.readDoubleBE=function(t,r){return r||M(t,8,this.length),e.read(this,t,!1,52,8)},f.prototype.writeUIntLE=function(t,r,e,n){(t=+t,r|=0,e|=0,n)||k(this,t,r,e,Math.pow(2,8*e)-1,0);var i=1,o=0;for(this[r]=255&t;++o<e&&(i*=256);)this[r+o]=t/i&255;return r+e},f.prototype.writeUIntBE=function(t,r,e,n){(t=+t,r|=0,e|=0,n)||k(this,t,r,e,Math.pow(2,8*e)-1,0);var i=e-1,o=1;for(this[r+i]=255&t;--i>=0&&(o*=256);)this[r+i]=t/o&255;return r+e},f.prototype.writeUInt8=function(t,r,e){return t=+t,r|=0,e||k(this,t,r,1,255,0),f.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[r]=255&t,r+1},f.prototype.writeUInt16LE=function(t,r,e){return t=+t,r|=0,e||k(this,t,r,2,65535,0),f.TYPED_ARRAY_SUPPORT?(this[r]=255&t,this[r+1]=t>>>8):N(this,t,r,!0),r+2},f.prototype.writeUInt16BE=function(t,r,e){return t=+t,r|=0,e||k(this,t,r,2,65535,0),f.TYPED_ARRAY_SUPPORT?(this[r]=t>>>8,this[r+1]=255&t):N(this,t,r,!1),r+2},f.prototype.writeUInt32LE=function(t,r,e){return t=+t,r|=0,e||k(this,t,r,4,4294967295,0),f.TYPED_ARRAY_SUPPORT?(this[r+3]=t>>>24,this[r+2]=t>>>16,this[r+1]=t>>>8,this[r]=255&t):z(this,t,r,!0),r+4},f.prototype.writeUInt32BE=function(t,r,e){return t=+t,r|=0,e||k(this,t,r,4,4294967295,0),f.TYPED_ARRAY_SUPPORT?(this[r]=t>>>24,this[r+1]=t>>>16,this[r+2]=t>>>8,this[r+3]=255&t):z(this,t,r,!1),r+4},f.prototype.writeIntLE=function(t,r,e,n){if(t=+t,r|=0,!n){var i=Math.pow(2,8*e-1);k(this,t,r,e,i-1,-i)}var o=0,u=1,f=0;for(this[r]=255&t;++o<e&&(u*=256);)t<0&&0===f&&0!==this[r+o-1]&&(f=1),this[r+o]=(t/u>>0)-f&255;return r+e},f.prototype.writeIntBE=function(t,r,e,n){if(t=+t,r|=0,!n){var i=Math.pow(2,8*e-1);k(this,t,r,e,i-1,-i)}var o=e-1,u=1,f=0;for(this[r+o]=255&t;--o>=0&&(u*=256);)t<0&&0===f&&0!==this[r+o+1]&&(f=1),this[r+o]=(t/u>>0)-f&255;return r+e},f.prototype.writeInt8=function(t,r,e){return t=+t,r|=0,e||k(this,t,r,1,127,-128),f.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[r]=255&t,r+1},f.prototype.writeInt16LE=function(t,r,e){return t=+t,r|=0,e||k(this,t,r,2,32767,-32768),f.TYPED_ARRAY_SUPPORT?(this[r]=255&t,this[r+1]=t>>>8):N(this,t,r,!0),r+2},f.prototype.writeInt16BE=function(t,r,e){return t=+t,r|=0,e||k(this,t,r,2,32767,-32768),f.TYPED_ARRAY_SUPPORT?(this[r]=t>>>8,this[r+1]=255&t):N(this,t,r,!1),r+2},f.prototype.writeInt32LE=function(t,r,e){return t=+t,r|=0,e||k(this,t,r,4,2147483647,-2147483648),f.TYPED_ARRAY_SUPPORT?(this[r]=255&t,this[r+1]=t>>>8,this[r+2]=t>>>16,this[r+3]=t>>>24):z(this,t,r,!0),r+4},f.prototype.writeInt32BE=function(t,r,e){return t=+t,r|=0,e||k(this,t,r,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),f.TYPED_ARRAY_SUPPORT?(this[r]=t>>>24,this[r+1]=t>>>16,this[r+2]=t>>>8,this[r+3]=255&t):z(this,t,r,!1),r+4},f.prototype.writeFloatLE=function(t,r,e){return j(this,t,r,!0,e)},f.prototype.writeFloatBE=function(t,r,e){return j(this,t,r,!1,e)},f.prototype.writeDoubleLE=function(t,r,e){return q(this,t,r,!0,e)},f.prototype.writeDoubleBE=function(t,r,e){return q(this,t,r,!1,e)},f.prototype.copy=function(t,r,e,n){if(e||(e=0),n||0===n||(n=this.length),r>=t.length&&(r=t.length),r||(r=0),n>0&&n<e&&(n=e),n===e)return 0;if(0===t.length||0===this.length)return 0;if(r<0)throw new RangeError("targetStart out of bounds");if(e<0||e>=this.length)throw new RangeError("sourceStart out of bounds");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),t.length-r<n-e&&(n=t.length-r+e);var i,o=n-e;if(this===t&&e<r&&r<n)for(i=o-1;i>=0;--i)t[i+r]=this[i+e];else if(o<1e3||!f.TYPED_ARRAY_SUPPORT)for(i=0;i<o;++i)t[i+r]=this[i+e];else Uint8Array.prototype.set.call(t,this.subarray(e,e+o),r);return o},f.prototype.fill=function(t,r,e,n){if("string"==typeof t){if("string"==typeof r?(n=r,r=0,e=this.length):"string"==typeof e&&(n=e,e=this.length),1===t.length){var i=t.charCodeAt(0);i<256&&(t=i)}if(void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!f.isEncoding(n))throw new TypeError("Unknown encoding: "+n)}else"number"==typeof t&&(t&=255);if(r<0||this.length<r||this.length<e)throw new RangeError("Out of range index");if(e<=r)return this;var o;if(r>>>=0,e=void 0===e?this.length:e>>>0,t||(t=0),"number"==typeof t)for(o=r;o<e;++o)this[o]=t;else{var u=f.isBuffer(t)?t:$(new f(t,n).toString()),s=u.length;for(o=0;o<e-r;++o)this[o+r]=u[o%s]}return this};var V=/[^+\/0-9A-Za-z-_]/g;function X(t){if((t=J(t).replace(V,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}function J(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function Z(t){return t<16?"0"+t.toString(16):t.toString(16)}function $(t,r){var e;r=r||1/0;for(var n=t.length,i=null,o=[],u=0;u<n;++u){if((e=t.charCodeAt(u))>55295&&e<57344){if(!i){if(e>56319){(r-=3)>-1&&o.push(239,191,189);continue}if(u+1===n){(r-=3)>-1&&o.push(239,191,189);continue}i=e;continue}if(e<56320){(r-=3)>-1&&o.push(239,191,189),i=e;continue}e=65536+(i-55296<<10|e-56320)}else i&&(r-=3)>-1&&o.push(239,191,189);if(i=null,e<128){if((r-=1)<0)break;o.push(e)}else if(e<2048){if((r-=2)<0)break;o.push(e>>6|192,63&e|128)}else if(e<65536){if((r-=3)<0)break;o.push(e>>12|224,e>>6&63|128,63&e|128)}else{if(!(e<1114112))throw new Error("Invalid code point");if((r-=4)<0)break;o.push(e>>18|240,e>>12&63|128,e>>6&63|128,63&e|128)}}return o}function G(t){for(var r=[],e=0;e<t.length;++e)r.push(255&t.charCodeAt(e));return r}function H(t,r){for(var e,n,i,o=[],u=0;u<t.length&&!((r-=2)<0);++u)n=(e=t.charCodeAt(u))>>8,i=e%256,o.push(i),o.push(n);return o}function K(t){return r.toByteArray(X(t))}function Q(t,r,e,n){for(var i=0;i<n&&!(i+e>=r.length||i>=t.length);++i)r[i+e]=t[i];return i}function W(t){return t!=t}
},{"base64-js":"yh9p","ieee754":"JgNJ","isarray":"REa7","buffer":"peL6"}],"rPUe":[function(require,module,exports) {
var Buffer = require("buffer").Buffer;
var e=require("buffer").Buffer;exports.version="1.0.0",exports.encode=function(e){return e.toString("base64").replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")},exports.decode=function(r){return r=(r+=Array(5-r.length%4).join("=")).replace(/\-/g,"+").replace(/\_/g,"/"),new e(r,"base64")},exports.validate=function(e){return/^[A-Za-z0-9\-_]+$/.test(e)};
},{"buffer":"peL6"}],"ZCRA":[function(require,module,exports) {
module.exports=require("./lib/urlsafe-base64");
},{"./lib/urlsafe-base64":"rPUe"}],"Wugr":[function(require,module,exports) {

var r=require("buffer"),e=r.Buffer;function o(r,e){for(var o in r)e[o]=r[o]}function n(r,o,n){return e(r,o,n)}e.from&&e.alloc&&e.allocUnsafe&&e.allocUnsafeSlow?module.exports=r:(o(r,exports),exports.Buffer=n),n.prototype=Object.create(e.prototype),o(e,n),n.from=function(r,o,n){if("number"==typeof r)throw new TypeError("Argument must not be a number");return e(r,o,n)},n.alloc=function(r,o,n){if("number"!=typeof r)throw new TypeError("Argument must be a number");var t=e(r);return void 0!==o?"string"==typeof n?t.fill(o,n):t.fill(o):t.fill(0),t},n.allocUnsafe=function(r){if("number"!=typeof r)throw new TypeError("Argument must be a number");return e(r)},n.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return r.SlowBuffer(e)};
},{"buffer":"peL6"}],"OS8O":[function(require,module,exports) {
"use strict";var e=require("@babel/runtime-corejs2/core-js/object/define-property");e(exports,"__esModule",{value:!0}),exports.default=void 0;var r=function(e){return null!=e&&null!=e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)};exports.default=r;
},{"@babel/runtime-corejs2/core-js/object/define-property":"eIqn"}],"W0yC":[function(require,module,exports) {
"use strict";var e=require("@babel/runtime-corejs2/core-js/object/define-property"),r=require("@babel/runtime-corejs2/helpers/interopRequireDefault");e(exports,"__esModule",{value:!0}),exports.fromBase64url=a,exports.toBase64Url=f,exports.encode=n,exports.decode=s,exports.validate=i,exports.default=void 0;var t=r(require("urlsafe-base64")),u=require("safe-buffer"),o=r(require("./isBuffer"));function a(e){return t.default.decode(e).toString()}function f(e){var r=e;return(0,o.default)(r)||(r=u.Buffer.from(r)),t.default.encode(r)}function n(e){return f(e)}function s(e){return a(e)}function i(e){return t.default.validate(e)}var d={fromBase64url:a,toBase64Url:f,encode:n,decode:s,validate:i};exports.default=d;
},{"@babel/runtime-corejs2/core-js/object/define-property":"eIqn","@babel/runtime-corejs2/helpers/interopRequireDefault":"LXwi","urlsafe-base64":"ZCRA","safe-buffer":"Wugr","./isBuffer":"OS8O"}],"bRLt":[function(require,module,exports) {
"use strict";var e=require("@babel/runtime-corejs2/core-js/object/define-property"),r=require("@babel/runtime-corejs2/helpers/interopRequireDefault");e(exports,"__esModule",{value:!0}),exports.default=i;var t=r(require("@babel/runtime-corejs2/core-js/reflect/apply"));function i(e,r,i){if(!e)throw new Error("`fn` must be a function");if(!r)throw new Error("`wait` is required");if(!(i=i||{}).maxWait)throw new Error("`options.maxWait` is required");if(!i.maxCalls)throw new Error("`options.maxCalls` is required");var o,u,a=i,n=a.maxCalls,l=a.maxWait,s=0;return function(){s+=1,clearTimeout(u),u=setTimeout(function(){return c()},r),o||(o=setTimeout(function(){return c()},l)),s>=n&&(0,t.default)(c,this,[])};function c(){clearTimeout(u),u=null,clearTimeout(o),o=null,s=0,(0,t.default)(e,this,[])}}
},{"@babel/runtime-corejs2/core-js/object/define-property":"eIqn","@babel/runtime-corejs2/helpers/interopRequireDefault":"LXwi","@babel/runtime-corejs2/core-js/reflect/apply":"Lf7Q"}],"WSxP":[function(require,module,exports) {
"use strict";var e=require("@babel/runtime-corejs2/core-js/object/define-property");function r(e,r){e.forEach(function(e){if(!r[e])throw new Error("missing required property ".concat(e," from ").concat(r))})}e(exports,"__esModule",{value:!0}),exports.default=r;
},{"@babel/runtime-corejs2/core-js/object/define-property":"eIqn"}],"Bpup":[function(require,module,exports) {
"use strict";var e=require("@babel/runtime-corejs2/core-js/object/define-property"),r=require("@babel/runtime-corejs2/helpers/interopRequireDefault");e(exports,"__esModule",{value:!0}),exports.default=i;var t=r(require("@babel/runtime-corejs2/core-js/promise"));function i(){var e=this;this.promise=new t.default(function(r,t){e.resolve=r,e.reject=t})}
},{"@babel/runtime-corejs2/core-js/object/define-property":"eIqn","@babel/runtime-corejs2/helpers/interopRequireDefault":"LXwi","@babel/runtime-corejs2/core-js/promise":"eOfj"}],"cYkl":[function(require,module,exports) {
"use strict";var e=require("@babel/runtime-corejs2/core-js/object/define-property");function t(e,t){if(!e||!t)throw new Error("missing parameter for makeStateDataType");return{dataType:{set:function(n){return n instanceof e?(n.parent=this,{val:n,type:t}):{val:n?new e(n,{parent:this}):void 0,type:t}},compare:function(e,t){return e===t},onChange:function(e,t,n){t&&this.stopListening(t,"all",this._getCachedEventBubblingHandler(n)),e&&this.listenTo(e,"all",this._getCachedEventBubblingHandler(n))}},prop:{test:function(e){return!!e&&(e.parent=this,!1)},type:t}}}e(exports,"__esModule",{value:!0}),exports.default=t;
},{"@babel/runtime-corejs2/core-js/object/define-property":"eIqn"}],"GUzP":[function(require,module,exports) {
"use strict";var n=require("./_a-function"),t=require("./_is-object"),r=require("./_invoke"),e=[].slice,i={},o=function(n,t,r){if(!(t in i)){for(var e=[],o=0;o<t;o++)e[o]="a["+o+"]";i[t]=Function("F,a","return new F("+e.join(",")+")")}return i[t](n,r)};module.exports=Function.bind||function(i){var u=n(this),c=e.call(arguments,1),a=function(){var n=c.concat(e.call(arguments));return this instanceof a?o(u,n.length,n):r(u,n,i)};return t(u.prototype)&&(a.prototype=u.prototype),a};
},{"./_a-function":"gm2m","./_is-object":"mW2H","./_invoke":"kx31"}],"wE1u":[function(require,module,exports) {
var e=require("./_export"),r=require("./_object-create"),n=require("./_a-function"),t=require("./_an-object"),u=require("./_is-object"),c=require("./_fails"),i=require("./_bind"),o=(require("./_global").Reflect||{}).construct,a=c(function(){function e(){}return!(o(function(){},[],e)instanceof e)}),l=!c(function(){o(function(){})});e(e.S+e.F*(a||l),"Reflect",{construct:function(e,c){n(e),t(c);var f=arguments.length<3?e:n(arguments[2]);if(l&&!a)return o(e,c,f);if(e==f){switch(c.length){case 0:return new e;case 1:return new e(c[0]);case 2:return new e(c[0],c[1]);case 3:return new e(c[0],c[1],c[2]);case 4:return new e(c[0],c[1],c[2],c[3])}var p=[null];return p.push.apply(p,c),new(i.apply(e,p))}var s=f.prototype,q=r(u(s)?s:Object.prototype),_=Function.apply.call(e,q,c);return u(_)?_:q}});
},{"./_export":"mBzY","./_object-create":"TKlF","./_a-function":"gm2m","./_an-object":"a1lZ","./_is-object":"mW2H","./_fails":"Shu3","./_bind":"GUzP","./_global":"j4Jx"}],"nGqf":[function(require,module,exports) {
require("../../modules/es6.reflect.construct"),module.exports=require("../../modules/_core").Reflect.construct;
},{"../../modules/es6.reflect.construct":"wE1u","../../modules/_core":"RosZ"}],"vZQy":[function(require,module,exports) {
module.exports=require("core-js/library/fn/reflect/construct");
},{"core-js/library/fn/reflect/construct":"nGqf"}],"ztJw":[function(require,module,exports) {
var t=require("./_is-object"),e=require("./_an-object"),r=function(r,o){if(e(r),!t(o)&&null!==o)throw TypeError(o+": can't set as prototype!")};module.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,o){try{(o=require("./_ctx")(Function.call,require("./_object-gopd").f(Object.prototype,"__proto__").set,2))(t,[]),e=!(t instanceof Array)}catch(c){e=!0}return function(t,c){return r(t,c),e?t.__proto__=c:o(t,c),t}}({},!1):void 0),check:r};
},{"./_is-object":"mW2H","./_an-object":"a1lZ","./_ctx":"t5ZG","./_object-gopd":"Wxid"}],"hn9d":[function(require,module,exports) {
var e=require("./_export");e(e.S,"Object",{setPrototypeOf:require("./_set-proto").set});
},{"./_export":"mBzY","./_set-proto":"ztJw"}],"QnaW":[function(require,module,exports) {
require("../../modules/es6.object.set-prototype-of"),module.exports=require("../../modules/_core").Object.setPrototypeOf;
},{"../../modules/es6.object.set-prototype-of":"hn9d","../../modules/_core":"RosZ"}],"Pi92":[function(require,module,exports) {
module.exports=require("core-js/library/fn/object/set-prototype-of");
},{"core-js/library/fn/object/set-prototype-of":"QnaW"}],"iROc":[function(require,module,exports) {
var e=require("@babel/runtime-corejs2/core-js/object/set-prototype-of");function o(r,t){return module.exports=o=e||function(e,o){return e.__proto__=o,e},module.exports.default=module.exports,module.exports.__esModule=!0,o(r,t)}module.exports=o,module.exports.default=module.exports,module.exports.__esModule=!0;
},{"@babel/runtime-corejs2/core-js/object/set-prototype-of":"Pi92"}],"FyAX":[function(require,module,exports) {
var e=require("@babel/runtime-corejs2/core-js/reflect/construct");function r(){if("undefined"==typeof Reflect||!e)return!1;if(e.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(e(Boolean,[],function(){})),!0}catch(r){return!1}}module.exports=r,module.exports.default=module.exports,module.exports.__esModule=!0;
},{"@babel/runtime-corejs2/core-js/reflect/construct":"vZQy"}],"H1IE":[function(require,module,exports) {
var e=require("@babel/runtime-corejs2/core-js/reflect/construct"),o=require("./setPrototypeOf.js"),r=require("./isNativeReflectConstruct.js");function t(u,l,s){return r()?(module.exports=t=e,module.exports.default=module.exports,module.exports.__esModule=!0):(module.exports=t=function(e,r,t){var u=[null];u.push.apply(u,r);var l=new(Function.bind.apply(e,u));return t&&o(l,t.prototype),l},module.exports.default=module.exports,module.exports.__esModule=!0),t.apply(null,arguments)}module.exports=t,module.exports.default=module.exports,module.exports.__esModule=!0;
},{"@babel/runtime-corejs2/core-js/reflect/construct":"vZQy","./setPrototypeOf.js":"iROc","./isNativeReflectConstruct.js":"FyAX"}],"Tzth":[function(require,module,exports) {
function o(o,e){if(!(o instanceof e))throw new TypeError("Cannot call a class as a function")}module.exports=o,module.exports.default=module.exports,module.exports.__esModule=!0;
},{}],"xM5U":[function(require,module,exports) {
var e=require("@babel/runtime-corejs2/core-js/object/define-property");function r(r,o){for(var t=0;t<o.length;t++){var u=o[t];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),e(r,u.key,u)}}function o(e,o,t){return o&&r(e.prototype,o),t&&r(e,t),e}module.exports=o,module.exports.default=module.exports,module.exports.__esModule=!0;
},{"@babel/runtime-corejs2/core-js/object/define-property":"eIqn"}],"PhFI":[function(require,module,exports) {
"use strict";var e=require("@babel/runtime-corejs2/core-js/object/define-property"),t=require("@babel/runtime-corejs2/helpers/interopRequireDefault");e(exports,"__esModule",{value:!0}),exports.default=u;var r=t(require("@babel/runtime-corejs2/helpers/construct")),n=t(require("@babel/runtime-corejs2/helpers/classCallCheck")),i=t(require("@babel/runtime-corejs2/helpers/createClass")),a=t(require("@babel/runtime-corejs2/core-js/weak-map")),s=t(require("util"));function u(){for(var e=arguments.length,t=new Array(e),o=0;o<e;o++)t[o]=arguments[o];var c=t.shift(),h=new a.default,p=new a.default,f=t.length>1?u.apply(void 0,t):t[0],v="(".concat([c.name].concat(t.map(function(e){return e.name})).join(", "),")");return function(){function e(){(0,n.default)(this,e);for(var t=arguments.length,i=new Array(t),a=0;a<t;a++)i[a]=arguments[a];h.set(this,(0,r.default)(c,i)),p.set(this,0)}return(0,i.default)(e,[{key:"size",get:function(){return p.get(this)}},{key:"add",value:function(){return this.set.apply(this,arguments)}},{key:"clear",value:function(){var e=h.get(this).clear();return p.set(this,0),e}},{key:"delete",value:function(e){for(var t=h.get(this),r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];if(!n.length)return t.delete(e);var a=t.get(e);if(!a)return!1;var s=a.delete.apply(a,n);return s&&p.set(this,p.get(this)-1),0===a.size&&t.delete(e),s}},{key:"get",value:function(e){var t=h.get(this);if(!t.get)return t;for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];if(!n.length)return t.get(e);var a=t.get(e);return a?a.get?a.get.apply(a,n):a:void 0}},{key:"has",value:function(){return void 0!==this.get.apply(this,arguments)}},{key:"set",value:function(){for(var e=!1,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];this.has.apply(this,r)&&(e=!0);var i=h.get(this),a=r.shift();if(!i.get)return l.apply(void 0,[i,a].concat(r)),this;var s=i.get(a);if(!s){if(!f)return l.apply(void 0,[i,a].concat(r)),this;l(i,a,s=new f)}return l.apply(void 0,[s].concat(r)),e||p.set(this,p.get(this)+1),this}},{key:"inspect",value:function(){return"Container".concat(v," {\n  ").concat(s.default.inspect(h.get(this),{depth:null}),"\n}")}}]),e}()}function l(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];if(e.add)e.add.apply(e,r);else if(e.set)e.set.apply(e,r);else{if(!e.push)throw new TypeError("Could not determine how to insert into the specified container");e.push.apply(e,r)}}
},{"@babel/runtime-corejs2/core-js/object/define-property":"eIqn","@babel/runtime-corejs2/helpers/interopRequireDefault":"LXwi","@babel/runtime-corejs2/helpers/construct":"H1IE","@babel/runtime-corejs2/helpers/classCallCheck":"Tzth","@babel/runtime-corejs2/helpers/createClass":"xM5U","@babel/runtime-corejs2/core-js/weak-map":"HKHU","util":"gfUn"}],"CDJR":[function(require,module,exports) {
"use strict";var e=require("@babel/runtime-corejs2/core-js/object/define-property"),r=require("@babel/runtime-corejs2/helpers/interopRequireDefault");e(exports,"__esModule",{value:!0}),exports.default=b;var t=r(require("@babel/runtime-corejs2/core-js/weak-map")),a=r(require("@babel/runtime-corejs2/core-js/map")),u=r(require("@babel/runtime-corejs2/core-js/reflect/apply")),c=r(require("@babel/runtime-corejs2/core-js/promise")),n=r(require("@babel/runtime-corejs2/helpers/typeof")),l=r(require("lodash/wrap")),o=r(require("./template-container")),i=t.default,s=a.default,f=(0,o.default)(i,s,s),p=new f;function b(){for(var e=arguments.length,r=new Array(e),t=0;t<e;t++)r[t]=arguments[t];if(3===r.length)return(0,u.default)(f,null,r);var a=r[0]||{},o=a.cacheFailures,i=a.cacheSuccesses,s=a.keyFactory;return f;function f(e,r,t){var a=r;return t.value=(0,l.default)(t.value,function(r){for(var t=this,n=a,l=arguments.length,f=new Array(l>1?l-1:0),b=1;b<l;b++)f[b-1]=arguments[b];s&&(n="".concat(n,"_").concat(s.apply(void 0,f)));var h=p.get(this,e,n);return h||(h=(0,u.default)(r,this,f),!o&&h&&h.catch&&(h=h.catch(function(r){return p.delete(t,e,n),c.default.reject(r)})),!i&&h&&h.then&&(h=h.then(function(r){return p.delete(t,e,n),r})),p.set(this,e,n,h),h)}),"object"!==(0,n.default)(e)||e.prototype||(e[r]=t.value),t}}
},{"@babel/runtime-corejs2/core-js/object/define-property":"eIqn","@babel/runtime-corejs2/helpers/interopRequireDefault":"LXwi","@babel/runtime-corejs2/core-js/weak-map":"HKHU","@babel/runtime-corejs2/core-js/map":"y6NN","@babel/runtime-corejs2/core-js/reflect/apply":"Lf7Q","@babel/runtime-corejs2/core-js/promise":"eOfj","@babel/runtime-corejs2/helpers/typeof":"hVHy","lodash/wrap":"Z5zS","./template-container":"PhFI"}],"E403":[function(require,module,exports) {
"use strict";var e=require("@babel/runtime-corejs2/core-js/object/define-property");e(exports,"__esModule",{value:!0}),exports.default=void 0;var a={email:/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,containsEmails:/(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))/g,uuid:/^[a-f\d]{8}(?:-[a-f\d]{4}){3}-[a-f\d]{12}$/,execEmail:/[^\s]+?@[^\s]+?/,execUuid:/[a-f\d]{8}(?:-[a-f\d]{4}){3}-[a-f\d]{12}/};exports.default=a;
},{"@babel/runtime-corejs2/core-js/object/define-property":"eIqn"}],"EFM8":[function(require,module,exports) {
"use strict";var e=require("@babel/runtime-corejs2/core-js/object/define-property"),r=require("@babel/runtime-corejs2/helpers/interopRequireDefault");e(exports,"__esModule",{value:!0}),exports.proxyEvents=o,exports.transferEvents=u;var t=r(require("@babel/runtime-corejs2/core-js/reflect/apply")),n=r(require("lodash/isArray"));function o(e,r){return["on","once"].forEach(function(t){r[t]=function(){return e[t].apply(e,arguments),r}}),e}function u(e,r,t){(e=(0,n.default)(e)?e:[e]).forEach(function(e){r.on&&r.on(e,function(){for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return i.apply(void 0,[t,e].concat(n))})})}function i(e){var r=e.trigger||e.emit;if(!r)throw new Error("count not determine emit method");for(var n=arguments.length,o=new Array(n>1?n-1:0),u=1;u<n;u++)o[u-1]=arguments[u];return(0,t.default)(r,e,o)}
},{"@babel/runtime-corejs2/core-js/object/define-property":"eIqn","@babel/runtime-corejs2/helpers/interopRequireDefault":"LXwi","@babel/runtime-corejs2/core-js/reflect/apply":"Lf7Q","lodash/isArray":"p0cq"}],"i9LV":[function(require,module,exports) {
module.exports=require("regenerator-runtime");
},{"regenerator-runtime":"QVnC"}],"OYLD":[function(require,module,exports) {
var e=require("@babel/runtime-corejs2/core-js/promise");function o(o,r,t,n,u,i,c){try{var l=o[i](c),s=l.value}catch(a){return void t(a)}l.done?r(s):e.resolve(s).then(n,u)}function r(r){return function(){var t=this,n=arguments;return new e(function(e,u){var i=r.apply(t,n);function c(r){o(i,e,u,c,l,"next",r)}function l(r){o(i,e,u,c,l,"throw",r)}c(void 0)})}}module.exports=r,module.exports.default=module.exports,module.exports.__esModule=!0;
},{"@babel/runtime-corejs2/core-js/promise":"eOfj"}],"MX8S":[function(require,module,exports) {
"use strict";var e=require("@babel/runtime-corejs2/core-js/object/define-property"),r=require("@babel/runtime-corejs2/helpers/interopRequireDefault");e(exports,"__esModule",{value:!0}),exports.createEventEnvelope=u,exports.ensureMyIdIsAvailable=i;var t=r(require("@babel/runtime-corejs2/regenerator")),n=r(require("@babel/runtime-corejs2/helpers/asyncToGenerator")),a=r(require("@babel/runtime-corejs2/core-js/promise")),o=require("@webex/common");function u(e,r){return i(e).then(function(){return a.default.resolve({createdBy:e.internal.me.id,orgId:e.internal.me.orgId,resource:r,ownedBy:o.SDK_EVENT.EXTERNAL.OWNER.CREATOR,status:o.SDK_EVENT.EXTERNAL.STATUS.ACTIVE,created:(new Date).toISOString(),data:{}})}).catch(function(e){a.default.reject(new Error("Unable to get person info for ".concat(r," event envelope: ").concat(e.message)))})}function i(e){return s.apply(this,arguments)}function s(){return(s=(0,n.default)(t.default.mark(function e(r){return t.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!("me"in r.internal)){e.next=2;break}return e.abrupt("return",a.default.resolve());case 2:return e.abrupt("return",r.people.get("me").then(function(e){return r.internal.me=e,a.default.resolve()}));case 3:case"end":return e.stop()}},e)}))).apply(this,arguments)}
},{"@babel/runtime-corejs2/core-js/object/define-property":"eIqn","@babel/runtime-corejs2/helpers/interopRequireDefault":"LXwi","@babel/runtime-corejs2/regenerator":"i9LV","@babel/runtime-corejs2/helpers/asyncToGenerator":"OYLD","@babel/runtime-corejs2/core-js/promise":"eOfj","@webex/common":"UeF0"}],"nbhQ":[function(require,module,exports) {
"use strict";var e=require("@babel/runtime-corejs2/core-js/object/define-property"),r=require("@babel/runtime-corejs2/helpers/interopRequireDefault");e(exports,"__esModule",{value:!0}),exports.default=u;var t=r(require("@babel/runtime-corejs2/core-js/promise"));function u(e){return function(){return t.default.resolve(e)}}
},{"@babel/runtime-corejs2/core-js/object/define-property":"eIqn","@babel/runtime-corejs2/helpers/interopRequireDefault":"LXwi","@babel/runtime-corejs2/core-js/promise":"eOfj"}],"u6rG":[function(require,module,exports) {
var e=require("./_export");e(e.S+e.F,"Object",{assign:require("./_object-assign")});
},{"./_export":"mBzY","./_object-assign":"pMGc"}],"Mm7H":[function(require,module,exports) {
require("../../modules/es6.object.assign"),module.exports=require("../../modules/_core").Object.assign;
},{"../../modules/es6.object.assign":"u6rG","../../modules/_core":"RosZ"}],"h2Mz":[function(require,module,exports) {
module.exports=require("core-js/library/fn/object/assign");
},{"core-js/library/fn/object/assign":"Mm7H"}],"mpS4":[function(require,module,exports) {
var e=require("./_baseRest"),r=require("./eq"),t=require("./_isIterateeCall"),o=require("./keysIn"),a=Object.prototype,i=a.hasOwnProperty,l=e(function(e,l){e=Object(e);var n=-1,u=l.length,s=u>2?l[2]:void 0;for(s&&t(l[0],l[1],s)&&(u=1);++n<u;)for(var v=l[n],q=o(v),c=-1,p=q.length;++c<p;){var b=q[c],d=e[b];(void 0===d||r(d,a[b])&&!i.call(e,b))&&(e[b]=v[b])}return e});module.exports=l;
},{"./_baseRest":"f4Fl","./eq":"LIpy","./_isIterateeCall":"R62e","./keysIn":"UACB"}],"FRpO":[function(require,module,exports) {
"use strict";var e,t="object"==typeof Reflect?Reflect:null,n=t&&"function"==typeof t.apply?t.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};function r(e){console&&console.warn&&console.warn(e)}e=t&&"function"==typeof t.ownKeys?t.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var i=Number.isNaN||function(e){return e!=e};function o(){o.init.call(this)}module.exports=o,module.exports.once=m,o.EventEmitter=o,o.prototype._events=void 0,o.prototype._eventsCount=0,o.prototype._maxListeners=void 0;var s=10;function u(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function f(e){return void 0===e._maxListeners?o.defaultMaxListeners:e._maxListeners}function c(e,t,n,i){var o,s,c;if(u(n),void 0===(s=e._events)?(s=e._events=Object.create(null),e._eventsCount=0):(void 0!==s.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),s=e._events),c=s[t]),void 0===c)c=s[t]=n,++e._eventsCount;else if("function"==typeof c?c=s[t]=i?[n,c]:[c,n]:i?c.unshift(n):c.push(n),(o=f(e))>0&&c.length>o&&!c.warned){c.warned=!0;var v=new Error("Possible EventEmitter memory leak detected. "+c.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");v.name="MaxListenersExceededWarning",v.emitter=e,v.type=t,v.count=c.length,r(v)}return e}function v(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function l(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},i=v.bind(r);return i.listener=n,r.wrapFn=i,i}function p(e,t,n){var r=e._events;if(void 0===r)return[];var i=r[t];return void 0===i?[]:"function"==typeof i?n?[i.listener||i]:[i]:n?d(i):h(i,i.length)}function a(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function h(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}function y(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}function d(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}function m(e,t){return new Promise(function(n,r){function i(n){e.removeListener(t,o),r(n)}function o(){"function"==typeof e.removeListener&&e.removeListener("error",i),n([].slice.call(arguments))}g(e,t,o,{once:!0}),"error"!==t&&L(e,i,{once:!0})})}function L(e,t,n){"function"==typeof e.on&&g(e,"error",t,n)}function g(e,t,n,r){if("function"==typeof e.on)r.once?e.once(t,n):e.on(t,n);else{if("function"!=typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e);e.addEventListener(t,function i(o){r.once&&e.removeEventListener(t,i),n(o)})}}Object.defineProperty(o,"defaultMaxListeners",{enumerable:!0,get:function(){return s},set:function(e){if("number"!=typeof e||e<0||i(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");s=e}}),o.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},o.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||i(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},o.prototype.getMaxListeners=function(){return f(this)},o.prototype.emit=function(e){for(var t=[],r=1;r<arguments.length;r++)t.push(arguments[r]);var i="error"===e,o=this._events;if(void 0!==o)i=i&&void 0===o.error;else if(!i)return!1;if(i){var s;if(t.length>0&&(s=t[0]),s instanceof Error)throw s;var u=new Error("Unhandled error."+(s?" ("+s.message+")":""));throw u.context=s,u}var f=o[e];if(void 0===f)return!1;if("function"==typeof f)n(f,this,t);else{var c=f.length,v=h(f,c);for(r=0;r<c;++r)n(v[r],this,t)}return!0},o.prototype.addListener=function(e,t){return c(this,e,t,!1)},o.prototype.on=o.prototype.addListener,o.prototype.prependListener=function(e,t){return c(this,e,t,!0)},o.prototype.once=function(e,t){return u(t),this.on(e,l(this,e,t)),this},o.prototype.prependOnceListener=function(e,t){return u(t),this.prependListener(e,l(this,e,t)),this},o.prototype.removeListener=function(e,t){var n,r,i,o,s;if(u(t),void 0===(r=this._events))return this;if(void 0===(n=r[e]))return this;if(n===t||n.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!=typeof n){for(i=-1,o=n.length-1;o>=0;o--)if(n[o]===t||n[o].listener===t){s=n[o].listener,i=o;break}if(i<0)return this;0===i?n.shift():y(n,i),1===n.length&&(r[e]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",e,s||t)}return this},o.prototype.off=o.prototype.removeListener,o.prototype.removeAllListeners=function(e){var t,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var i,o=Object.keys(n);for(r=0;r<o.length;++r)"removeListener"!==(i=o[r])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(r=t.length-1;r>=0;r--)this.removeListener(e,t[r]);return this},o.prototype.listeners=function(e){return p(this,e,!0)},o.prototype.rawListeners=function(e){return p(this,e,!1)},o.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):a.call(e,t)},o.prototype.listenerCount=a,o.prototype.eventNames=function(){return this._eventsCount>0?e(this._events):[]};
},{}],"AgUv":[function(require,module,exports) {
var r=require("util");function e(r){Error.call(this,r),this.message=r}function t(r){Error.call(this,r),this.message=r}r.inherits(e,Error),e.prototype.name="IllegalArgumentError",r.inherits(t,Error),t.prototype.name="IllegalStateError",module.exports.IllegalStateError=t,module.exports.IllegalArgumentError=e;
},{"util":"gfUn"}],"g7Jl":[function(require,module,exports) {
var e=require("util"),r=module.exports=require("./errors");function t(r,t,o,c){o=o||"";var l=new r(e.format.apply(this,[o].concat(c)));throw Error.captureStackTrace(l,t),l}function o(e,o,c){t(r.IllegalArgumentError,e,o,c)}function c(e,o,c){t(r.IllegalStateError,e,o,c)}function l(e){var r=typeof e;if("object"==r){if(!e)return"null";if(e instanceof Array)return"array"}return r}function n(e){return function(r,t){var c=l(r);if(c==e)return r;o(arguments.callee,t||'Expected "'+e+'" but got "'+c+'".',Array.prototype.slice.call(arguments,2))}}module.exports.checkArgument=function(e,r){e||o(arguments.callee,r,Array.prototype.slice.call(arguments,2))},module.exports.checkState=function(e,r){e||c(arguments.callee,r,Array.prototype.slice.call(arguments,2))},module.exports.checkIsDef=function(e,r){if(void 0!==e)return e;o(arguments.callee,r||"Expected value to be defined but was undefined.",Array.prototype.slice.call(arguments,2))},module.exports.checkIsDefAndNotNull=function(e,r){if(null!=e)return e;o(arguments.callee,r||'Expected value to be defined and not null but got "'+l(e)+'".',Array.prototype.slice.call(arguments,2))},module.exports.checkIsString=n("string"),module.exports.checkIsArray=n("array"),module.exports.checkIsNumber=n("number"),module.exports.checkIsBoolean=n("boolean"),module.exports.checkIsFunction=n("function"),module.exports.checkIsObject=n("object");
},{"util":"gfUn","./errors":"AgUv"}],"Dygy":[function(require,module,exports) {
module.exports=require("./lib/checks");
},{"./lib/checks":"g7Jl"}],"E1ih":[function(require,module,exports) {
var t=require("events"),e=require("precond"),i=require("util");function f(e){t.EventEmitter.call(this),this.backoffStrategy_=e,this.maxNumberOfRetry_=-1,this.backoffNumber_=0,this.backoffDelay_=0,this.timeoutID_=-1,this.handlers={backoff:this.onBackoff_.bind(this)}}i.inherits(f,t.EventEmitter),f.prototype.failAfter=function(t){e.checkArgument(t>0,"Expected a maximum number of retry greater than 0 but got %s.",t),this.maxNumberOfRetry_=t},f.prototype.backoff=function(t){e.checkState(-1===this.timeoutID_,"Backoff in progress."),this.backoffNumber_===this.maxNumberOfRetry_?(this.emit("fail",t),this.reset()):(this.backoffDelay_=this.backoffStrategy_.next(),this.timeoutID_=setTimeout(this.handlers.backoff,this.backoffDelay_),this.emit("backoff",this.backoffNumber_,this.backoffDelay_,t))},f.prototype.onBackoff_=function(){this.timeoutID_=-1,this.emit("ready",this.backoffNumber_,this.backoffDelay_),this.backoffNumber_++},f.prototype.reset=function(){this.backoffNumber_=0,this.backoffStrategy_.reset(),clearTimeout(this.timeoutID_),this.timeoutID_=-1},module.exports=f;
},{"events":"FRpO","precond":"Dygy","util":"gfUn"}],"C6lX":[function(require,module,exports) {
var t=require("events"),e=require("util");function a(t){return null!=t}function r(t){if(a((t=t||{}).initialDelay)&&t.initialDelay<1)throw new Error("The initial timeout must be greater than 0.");if(a(t.maxDelay)&&t.maxDelay<1)throw new Error("The maximal timeout must be greater than 0.");if(this.initialDelay_=t.initialDelay||100,this.maxDelay_=t.maxDelay||1e4,this.maxDelay_<=this.initialDelay_)throw new Error("The maximal backoff delay must be greater than the initial backoff delay.");if(a(t.randomisationFactor)&&(t.randomisationFactor<0||t.randomisationFactor>1))throw new Error("The randomisation factor must be between 0 and 1.");this.randomisationFactor_=t.randomisationFactor||0}r.prototype.getMaxDelay=function(){return this.maxDelay_},r.prototype.getInitialDelay=function(){return this.initialDelay_},r.prototype.next=function(){var t=this.next_(),e=1+Math.random()*this.randomisationFactor_;return Math.round(t*e)},r.prototype.next_=function(){throw new Error("BackoffStrategy.next_() unimplemented.")},r.prototype.reset=function(){this.reset_()},r.prototype.reset_=function(){throw new Error("BackoffStrategy.reset_() unimplemented.")},module.exports=r;
},{"events":"FRpO","util":"gfUn"}],"b1KJ":[function(require,module,exports) {
var t=require("util"),e=require("precond"),a=require("./strategy");function i(t){a.call(this,t),this.backoffDelay_=0,this.nextBackoffDelay_=this.getInitialDelay(),this.factor_=i.DEFAULT_FACTOR,t&&void 0!==t.factor&&(e.checkArgument(t.factor>1,"Exponential factor should be greater than 1 but got %s.",t.factor),this.factor_=t.factor)}t.inherits(i,a),i.DEFAULT_FACTOR=2,i.prototype.next_=function(){return this.backoffDelay_=Math.min(this.nextBackoffDelay_,this.getMaxDelay()),this.nextBackoffDelay_=this.backoffDelay_*this.factor_,this.backoffDelay_},i.prototype.reset_=function(){this.backoffDelay_=0,this.nextBackoffDelay_=this.getInitialDelay()},module.exports=i;
},{"util":"gfUn","precond":"Dygy","./strategy":"C6lX"}],"XdV9":[function(require,module,exports) {
var t=require("util"),e=require("./strategy");function a(t){e.call(this,t),this.backoffDelay_=0,this.nextBackoffDelay_=this.getInitialDelay()}t.inherits(a,e),a.prototype.next_=function(){var t=Math.min(this.nextBackoffDelay_,this.getMaxDelay());return this.nextBackoffDelay_+=this.backoffDelay_,this.backoffDelay_=t,t},a.prototype.reset_=function(){this.nextBackoffDelay_=this.getInitialDelay(),this.backoffDelay_=0},module.exports=a;
},{"util":"gfUn","./strategy":"C6lX"}],"V5Fu":[function(require,module,exports) {
var t=require("events"),e=require("precond"),i=require("util"),s=require("./backoff"),a=require("./strategy/fibonacci");function n(i,s,a){t.EventEmitter.call(this),e.checkIsFunction(i,"Expected fn to be a function."),e.checkIsArray(s,"Expected args to be an array."),e.checkIsFunction(a,"Expected callback to be a function."),this.function_=i,this.arguments_=s,this.callback_=a,this.lastResult_=[],this.numRetries_=0,this.backoff_=null,this.strategy_=null,this.failAfter_=-1,this.retryPredicate_=n.DEFAULT_RETRY_PREDICATE_,this.state_=n.State_.PENDING}i.inherits(n,t.EventEmitter),n.State_={PENDING:0,RUNNING:1,COMPLETED:2,ABORTED:3},n.DEFAULT_RETRY_PREDICATE_=function(t){return!0},n.prototype.isPending=function(){return this.state_==n.State_.PENDING},n.prototype.isRunning=function(){return this.state_==n.State_.RUNNING},n.prototype.isCompleted=function(){return this.state_==n.State_.COMPLETED},n.prototype.isAborted=function(){return this.state_==n.State_.ABORTED},n.prototype.setStrategy=function(t){return e.checkState(this.isPending(),"FunctionCall in progress."),this.strategy_=t,this},n.prototype.retryIf=function(t){return e.checkState(this.isPending(),"FunctionCall in progress."),this.retryPredicate_=t,this},n.prototype.getLastResult=function(){return this.lastResult_.concat()},n.prototype.getNumRetries=function(){return this.numRetries_},n.prototype.failAfter=function(t){return e.checkState(this.isPending(),"FunctionCall in progress."),this.failAfter_=t,this},n.prototype.abort=function(){this.isCompleted()||this.isAborted()||(this.isRunning()&&this.backoff_.reset(),this.state_=n.State_.ABORTED,this.lastResult_=[new Error("Backoff aborted.")],this.emit("abort"),this.doCallback_())},n.prototype.start=function(t){e.checkState(!this.isAborted(),"FunctionCall is aborted."),e.checkState(this.isPending(),"FunctionCall already started.");var i=this.strategy_||new a;this.backoff_=t?t(i):new s(i),this.backoff_.on("ready",this.doCall_.bind(this,!0)),this.backoff_.on("fail",this.doCallback_.bind(this)),this.backoff_.on("backoff",this.handleBackoff_.bind(this)),this.failAfter_>0&&this.backoff_.failAfter(this.failAfter_),this.state_=n.State_.RUNNING,this.doCall_(!1)},n.prototype.doCall_=function(e){e&&this.numRetries_++;var i=["call"].concat(this.arguments_);t.EventEmitter.prototype.emit.apply(this,i);var s=this.handleFunctionCallback_.bind(this);this.function_.apply(null,this.arguments_.concat(s))},n.prototype.doCallback_=function(){this.callback_.apply(null,this.lastResult_)},n.prototype.handleFunctionCallback_=function(){if(!this.isAborted()){var e=Array.prototype.slice.call(arguments);this.lastResult_=e,t.EventEmitter.prototype.emit.apply(this,["callback"].concat(e));var i=e[0];i&&this.retryPredicate_(i)?this.backoff_.backoff(i):(this.state_=n.State_.COMPLETED,this.doCallback_())}},n.prototype.handleBackoff_=function(t,e,i){this.emit("backoff",t,e,i)},module.exports=n;
},{"events":"FRpO","precond":"Dygy","util":"gfUn","./backoff":"E1ih","./strategy/fibonacci":"XdV9"}],"PvFw":[function(require,module,exports) {
var e=require("./lib/backoff"),r=require("./lib/strategy/exponential"),t=require("./lib/strategy/fibonacci"),n=require("./lib/function_call.js");module.exports.Backoff=e,module.exports.FunctionCall=n,module.exports.FibonacciStrategy=t,module.exports.ExponentialStrategy=r,module.exports.fibonacci=function(r){return new e(new t(r))},module.exports.exponential=function(t){return new e(new r(t))},module.exports.call=function(e,r,t){var o=Array.prototype.slice.call(arguments);return e=o[0],r=o.slice(1,o.length-1),t=o[o.length-1],new n(e,r,t)};
},{"./lib/backoff":"E1ih","./lib/strategy/exponential":"b1KJ","./lib/strategy/fibonacci":"XdV9","./lib/function_call.js":"V5Fu"}],"ZTMd":[function(require,module,exports) {
"use strict";var e=require("@babel/runtime-corejs2/core-js/object/define-property"),r=require("@babel/runtime-corejs2/helpers/interopRequireDefault");e(exports,"__esModule",{value:!0}),exports.default=c;var t=r(require("@babel/runtime-corejs2/core-js/object/assign")),a=r(require("@babel/runtime-corejs2/core-js/reflect/apply")),n=r(require("@babel/runtime-corejs2/core-js/promise")),o=r(require("@babel/runtime-corejs2/helpers/typeof")),u=r(require("lodash/wrap")),l=r(require("lodash/isFunction")),i=r(require("lodash/defaults")),s=require("events"),f=r(require("backoff"));function c(){for(var e=arguments.length,r=new Array(e),c=0;c<e;c++)r[c]=arguments[c];var d,p=r[0]||{};return p=(0,t.default)({},p),(0,i.default)(p,{backoff:!0,delay:1,maxAttempts:3}),d=p.backoff?{initialDelay:p.delay,maxDelay:p.maxDelay}:{initialDelay:1,maxDelay:1},3===r.length?(0,a.default)(b,null,r):b;function b(e,r,t){return t.value=(0,u.default)(t.value,function(e){for(var r=this,t=arguments.length,o=new Array(t>1?t-1:0),u=1;u<t;u++)o[u-1]=arguments[u];var i=new s.EventEmitter,c=new n.default(function(t,n){var u=f.default.call(function(t){var n=(0,a.default)(e,r,o);return(0,l.default)(n.on)&&(n.on("progress",i.emit.bind(i,"progress")),n.on("upload-progress",i.emit.bind(i,"upload-progress")),n.on("download-progress",i.emit.bind(i,"download-progress"))),n.then(function(e){t(null,e)}).catch(function(e){e||(e=new Error("retryable method failed without providing an error object")),t(e)})},function(e,r){return e?n(e):t(r)});u.setStrategy(new f.default.ExponentialStrategy(d)),p.maxAttempts&&u.failAfter(p.maxAttempts-1),u.start()});return c.on=function(e,r){return i.on(e,r),c},c}),"object"!==(0,o.default)(e)||e.prototype||(e[r]=t.value),t}}
},{"@babel/runtime-corejs2/core-js/object/define-property":"eIqn","@babel/runtime-corejs2/helpers/interopRequireDefault":"LXwi","@babel/runtime-corejs2/core-js/object/assign":"h2Mz","@babel/runtime-corejs2/core-js/reflect/apply":"Lf7Q","@babel/runtime-corejs2/core-js/promise":"eOfj","@babel/runtime-corejs2/helpers/typeof":"hVHy","lodash/wrap":"Z5zS","lodash/isFunction":"dRuq","lodash/defaults":"mpS4","events":"FRpO","backoff":"PvFw"}],"xKQO":[function(require,module,exports) {
"use strict";var e=require("@babel/runtime-corejs2/core-js/object/define-property"),r=require("@babel/runtime-corejs2/helpers/interopRequireDefault");e(exports,"__esModule",{value:!0}),exports.default=u;var t=r(require("@babel/runtime-corejs2/core-js/promise"));function u(e){return function(r){return new t.default(function(t){t(e(r))}).then(function(){return r}).catch(function(){return r})}}
},{"@babel/runtime-corejs2/core-js/object/define-property":"eIqn","@babel/runtime-corejs2/helpers/interopRequireDefault":"LXwi","@babel/runtime-corejs2/core-js/promise":"eOfj"}],"kQCh":[function(require,module,exports) {
"use strict";var e=require("@babel/runtime-corejs2/core-js/object/define-property"),r=require("@babel/runtime-corejs2/helpers/interopRequireDefault");e(exports,"__esModule",{value:!0}),exports.default=i;var t=r(require("@babel/runtime-corejs2/core-js/promise")),u=r(require("@babel/runtime-corejs2/core-js/reflect/apply")),n=r(require("lodash/wrap")),a=r(require("./tap"));function i(e){return function(r,i,o){o.value=(0,n.default)(o.value,function(r){for(var n=this,i=arguments.length,o=new Array(i>1?i-1:0),l=1;l<i;l++)o[l-1]=arguments[l];return new t.default(function(i){n[e]=!0,i((0,u.default)(r,n,o).then((0,a.default)(function(){n[e]=!1})).catch(function(r){return n[e]=!1,t.default.reject(r)}))})})}}
},{"@babel/runtime-corejs2/core-js/object/define-property":"eIqn","@babel/runtime-corejs2/helpers/interopRequireDefault":"LXwi","@babel/runtime-corejs2/core-js/promise":"eOfj","@babel/runtime-corejs2/core-js/reflect/apply":"Lf7Q","lodash/wrap":"Z5zS","./tap":"xKQO"}],"FObG":[function(require,module,exports) {
var e=require("./_export");e(e.S,"Object",{create:require("./_object-create")});
},{"./_export":"mBzY","./_object-create":"TKlF"}],"BN8k":[function(require,module,exports) {
require("../../modules/es6.object.create");var e=require("../../modules/_core").Object;module.exports=function(r,o){return e.create(r,o)};
},{"../../modules/es6.object.create":"FObG","../../modules/_core":"RosZ"}],"HJjO":[function(require,module,exports) {
module.exports=require("core-js/library/fn/object/create");
},{"core-js/library/fn/object/create":"BN8k"}],"CdTE":[function(require,module,exports) {
var e=require("@babel/runtime-corejs2/core-js/object/create"),o=require("./setPrototypeOf.js");function r(r,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");r.prototype=e(t&&t.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),t&&o(r,t)}module.exports=r,module.exports.default=module.exports,module.exports.__esModule=!0;
},{"@babel/runtime-corejs2/core-js/object/create":"HJjO","./setPrototypeOf.js":"iROc"}],"YqR0":[function(require,module,exports) {
function e(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}module.exports=e,module.exports.default=module.exports,module.exports.__esModule=!0;
},{}],"w9GY":[function(require,module,exports) {
var e=require("@babel/runtime-corejs2/helpers/typeof").default,r=require("./assertThisInitialized.js");function o(o,t){if(t&&("object"===e(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return r(o)}module.exports=o,module.exports.default=module.exports,module.exports.__esModule=!0;
},{"@babel/runtime-corejs2/helpers/typeof":"hVHy","./assertThisInitialized.js":"YqR0"}],"sBv5":[function(require,module,exports) {
var e=require("./_to-object"),r=require("./_object-gpo");require("./_object-sap")("getPrototypeOf",function(){return function(t){return r(e(t))}});
},{"./_to-object":"jK0c","./_object-gpo":"PsbN","./_object-sap":"vH7c"}],"Xh7g":[function(require,module,exports) {
require("../../modules/es6.object.get-prototype-of"),module.exports=require("../../modules/_core").Object.getPrototypeOf;
},{"../../modules/es6.object.get-prototype-of":"sBv5","../../modules/_core":"RosZ"}],"k1ui":[function(require,module,exports) {
module.exports=require("core-js/library/fn/object/get-prototype-of");
},{"core-js/library/fn/object/get-prototype-of":"Xh7g"}],"Qxr1":[function(require,module,exports) {
var e=require("@babel/runtime-corejs2/core-js/object/set-prototype-of"),o=require("@babel/runtime-corejs2/core-js/object/get-prototype-of");function r(t){return module.exports=r=e?o:function(e){return e.__proto__||o(e)},module.exports.default=module.exports,module.exports.__esModule=!0,r(t)}module.exports=r,module.exports.default=module.exports,module.exports.__esModule=!0;
},{"@babel/runtime-corejs2/core-js/object/set-prototype-of":"Pi92","@babel/runtime-corejs2/core-js/object/get-prototype-of":"k1ui"}],"PCmu":[function(require,module,exports) {
function e(e){return-1!==Function.toString.call(e).indexOf("[native code]")}module.exports=e,module.exports.default=module.exports,module.exports.__esModule=!0;
},{}],"y1h1":[function(require,module,exports) {
var e=require("@babel/runtime-corejs2/core-js/map"),r=require("@babel/runtime-corejs2/core-js/object/create"),o=require("./getPrototypeOf.js"),t=require("./setPrototypeOf.js"),u=require("./isNativeFunction.js"),n=require("./construct.js");function s(i){var l="function"==typeof e?new e:void 0;return module.exports=s=function(e){if(null===e||!u(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==l){if(l.has(e))return l.get(e);l.set(e,s)}function s(){return n(e,arguments,o(this).constructor)}return s.prototype=r(e.prototype,{constructor:{value:s,enumerable:!1,writable:!0,configurable:!0}}),t(s,e)},module.exports.default=module.exports,module.exports.__esModule=!0,s(i)}module.exports=s,module.exports.default=module.exports,module.exports.__esModule=!0;
},{"@babel/runtime-corejs2/core-js/map":"y6NN","@babel/runtime-corejs2/core-js/object/create":"HJjO","./getPrototypeOf.js":"Qxr1","./setPrototypeOf.js":"iROc","./isNativeFunction.js":"PCmu","./construct.js":"H1IE"}],"rV3F":[function(require,module,exports) {
"use strict";var e=require("@babel/runtime-corejs2/core-js/reflect/construct"),r=require("@babel/runtime-corejs2/core-js/object/define-property"),t=require("@babel/runtime-corejs2/helpers/interopRequireDefault");r(exports,"__esModule",{value:!0}),exports.default=void 0;var u=t(require("@babel/runtime-corejs2/helpers/classCallCheck")),a=t(require("@babel/runtime-corejs2/helpers/createClass")),n=t(require("@babel/runtime-corejs2/helpers/inherits")),o=t(require("@babel/runtime-corejs2/helpers/possibleConstructorReturn")),s=t(require("@babel/runtime-corejs2/helpers/getPrototypeOf")),l=t(require("@babel/runtime-corejs2/helpers/wrapNativeSuper")),i=t(require("@babel/runtime-corejs2/helpers/defineProperty"));function c(r){var t=f();return function(){var u,a=(0,s.default)(r);if(t){var n=(0,s.default)(this).constructor;u=e(a,arguments,n)}else u=a.apply(this,arguments);return(0,o.default)(this,u)}}function f(){if("undefined"==typeof Reflect||!e)return!1;if(e.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(e(Boolean,[],function(){})),!0}catch(r){return!1}}var p=function(e){(0,n.default)(t,e);var r=c(t);function t(){var e,a,n;(0,u.default)(this,t);for(var o=arguments.length,s=new Array(o),l=0;l<o;l++)s[l]=arguments[l];if((e=r.call.apply(r,[this].concat(s))).parse)a=(n=e).parse.apply(n,s);else if(e.constructor.parse){var i;a=(i=e.constructor).parse.apply(i,s)}return a||(a=e.constructor.defaultMessage),e.name=e.constructor.name,e.message=a,e}return(0,a.default)(t,null,[{key:"parse",value:function(){return arguments.length<=0?void 0:arguments[0]}}]),t}((0,l.default)(Error));exports.default=p,(0,i.default)(p,"defaultMessage","An error occurred");
},{"@babel/runtime-corejs2/core-js/reflect/construct":"vZQy","@babel/runtime-corejs2/core-js/object/define-property":"eIqn","@babel/runtime-corejs2/helpers/interopRequireDefault":"LXwi","@babel/runtime-corejs2/helpers/classCallCheck":"Tzth","@babel/runtime-corejs2/helpers/createClass":"xM5U","@babel/runtime-corejs2/helpers/inherits":"CdTE","@babel/runtime-corejs2/helpers/possibleConstructorReturn":"w9GY","@babel/runtime-corejs2/helpers/getPrototypeOf":"Qxr1","@babel/runtime-corejs2/helpers/wrapNativeSuper":"y1h1","@babel/runtime-corejs2/helpers/defineProperty":"n5FU"}],"LbcP":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=a;var e=require("./private/utils"),r=Object.defineProperty;function t(t,a,i){var u=i.configurable,n=i.enumerable,l=i.initializer,o=i.value;return{configurable:u,enumerable:n,get:function(){if(this!==t){var e=l?l.call(this):o;return r(this,a,{configurable:u,enumerable:n,writable:!0,value:e}),e}},set:(0,e.createDefaultSetter)(a)}}function a(){for(var r=arguments.length,a=Array(r),i=0;i<r;i++)a[i]=arguments[i];return(0,e.decorate)(t,a)}
},{"./private/utils":"eS5V"}],"eS5V":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.bind=S,exports.createDefaultSetter=T,exports.decorate=O,exports.getOwnKeys=void 0,exports.getOwnPropertyDescriptors=j,exports.internalDeprecation=E,exports.isDescriptor=g,exports.metaFor=_,exports.warn=void 0;var e=t(require("../lazy-initialize"));function t(e){return e&&e.__esModule?e:{default:e}}var r,n,i,o,a,u,l,c,s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function f(e,t,r,n){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e,t,r,n,i){var o={};return Object.keys(n).forEach(function(e){o[e]=n[e]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=r.slice().reverse().reduce(function(r,n){return n(e,t,r)||r},o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}function b(e,t){throw new Error("Decorating class property failed. Please ensure that transform-class-properties is enabled.")}function d(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}var m=Object.defineProperty,h=Object.getOwnPropertyDescriptor,v=Object.getOwnPropertyNames,w=Object.getOwnPropertySymbols;function g(e){if(!e||!e.hasOwnProperty)return!1;for(var t=["value","initializer","get","set"],r=0,n=t.length;r<n;r++)if(e.hasOwnProperty(t[r]))return!0;return!1}function O(e,t){return g(t[t.length-1])?e.apply(void 0,d(t).concat([[]])):function(){return e.apply(void 0,d(Array.prototype.slice.call(arguments)).concat([t]))}}var z=(o=y((i=function e(){p(this,e),f(this,"debounceTimeoutIds",o,this),f(this,"throttleTimeoutIds",a,this),f(this,"throttlePreviousTimestamps",u,this),f(this,"throttleTrailingArgs",l,this),f(this,"profileLastRan",c,this)}).prototype,"debounceTimeoutIds",[e.default],{enumerable:!0,initializer:function(){return{}}}),a=y(i.prototype,"throttleTimeoutIds",[e.default],{enumerable:!0,initializer:function(){return{}}}),u=y(i.prototype,"throttlePreviousTimestamps",[e.default],{enumerable:!0,initializer:function(){return{}}}),l=y(i.prototype,"throttleTrailingArgs",[e.default],{enumerable:!0,initializer:function(){return null}}),c=y(i.prototype,"profileLastRan",[e.default],{enumerable:!0,initializer:function(){return null}}),i),P="function"==typeof Symbol?Symbol("__core_decorators__"):"__core_decorators__";function _(e){return!1===e.hasOwnProperty(P)&&m(e,P,{value:new z}),e[P]}var x=w?function(e){return v(e).concat(w(e))}:v;function j(e){var t={};return x(e).forEach(function(r){return t[r]=h(e,r)}),t}function T(e){return function(t){return Object.defineProperty(this,e,{configurable:!0,writable:!0,enumerable:!0,value:t}),t}}function S(e,t){return e.bind?e.bind(t):function(){return e.apply(t,arguments)}}exports.getOwnKeys=x;var A="object"===("undefined"==typeof console?"undefined":s(console))&&console&&"function"==typeof console.warn?S(console.warn,console):function(){};exports.warn=A;var D={};function E(e){!0!==D[e]&&(D[e]=!0,A("DEPRECATION: "+e))}
},{"../lazy-initialize":"LbcP"}],"uLsU":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=y;var t=require("./private/utils"),e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}();function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var i="{child} does not properly override {parent}",o=/^function ([_$a-zA-Z\xA0-\uFFFF][_$a-zA-Z0-9\xA0-\uFFFF]*)?(\([^\)]*\))[\s\S]+$/,c=function(){function t(e,r,i,o){n(this,t),this.parentKlass=e,this.childKlass=r,this.parentDescriptor=i,this.childDescriptor=o}return r(t,[{key:"_getTopic",value:function(t){return void 0===t?null:"value"in t?t.value:"get"in t?t.get:"set"in t?t.set:void 0}},{key:"_extractTopicSignature",value:function(t){switch(void 0===t?"undefined":e(t)){case"function":return this._extractFunctionSignature(t);default:return this.key}}},{key:"_extractFunctionSignature",value:function(t){var e=this;return t.toString().replace(o,function(t){return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.key)+arguments[2]})}},{key:"key",get:function(){return this.childDescriptor.key}},{key:"parentNotation",get:function(){return this.parentKlass.constructor.name+"#"+this.parentPropertySignature}},{key:"childNotation",get:function(){return this.childKlass.constructor.name+"#"+this.childPropertySignature}},{key:"parentTopic",get:function(){return this._getTopic(this.parentDescriptor)}},{key:"childTopic",get:function(){return this._getTopic(this.childDescriptor)}},{key:"parentPropertySignature",get:function(){return this._extractTopicSignature(this.parentTopic)}},{key:"childPropertySignature",get:function(){return this._extractTopicSignature(this.childTopic)}}]),r(t,[{key:"assert",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";!0!==t&&this.error(i+e)}},{key:"error",value:function(t){var e=this;throw t=t.replace("{parent}",function(t){return e.parentNotation}).replace("{child}",function(t){return e.childNotation}),new SyntaxError(t)}}]),t}();function u(t){return t.hasOwnProperty("value")?"data":t.hasOwnProperty("get")||t.hasOwnProperty("set")?"accessor":"data"}function a(t,e,r){r.assert(t.length===e.length)}function s(t,r,n){var i=e(t.value),o=e(r.value);("undefined"===i&&"undefined"===o&&n.error("descriptor values are both undefined. (class properties are are not currently supported)'"),i!==o)&&(("function"===o&&void 0===i||void 0!==i)&&n.error('value types do not match. {parent} is "'+i+'", {child} is "'+o+'"'));switch(o){case"function":a(t.value,r.value,n);break;default:n.error('Unexpected error. Please file a bug with: {parent} is "'+i+'", {child} is "'+o+'"')}}function l(t,e,r){var n="function"==typeof t.get,i="function"==typeof e.get,o="function"==typeof t.set,c="function"==typeof e.set;(n||i)&&(!n&&o&&r.error("{parent} is setter but {child} is getter"),!i&&c&&r.error("{parent} is getter but {child} is setter"),a(t.get,e.get,r)),(o||c)&&(!o&&n&&r.error("{parent} is getter but {child} is setter"),!c&&i&&r.error("{parent} is setter but {child} is getter"),a(t.set,e.set,r))}function p(t,e,r){var n=u(t),i=u(e);switch(n!==i&&r.error('descriptor types do not match. {parent} is "'+n+'", {child} is "'+i+'"'),i){case"data":s(t,e,r);break;case"accessor":l(t,e,r)}}var f=[function(t){return t.toLowerCase()},function(t){return t.toUpperCase()},function(t){return t+"s"},function(t){return t.slice(0,-1)},function(t){return t.slice(1,t.length)}];function h(t,e){for(var r=0,n=f.length;r<n;r++){var i=(0,f[r])(e);if(i in t)return i}return null}function d(t,e,r){r.key=e;var n=Object.getPrototypeOf(t),i=Object.getOwnPropertyDescriptor(n,e),o=new c(n,t,i,r);if(void 0===i){var u=h(n,e),a=u?'\n\n  Did you mean "'+u+'"?':"";o.error("No descriptor matching {child} was found on the prototype chain."+a)}return p(i,r,o),r}function y(){for(var e=arguments.length,r=Array(e),n=0;n<e;n++)r[n]=arguments[n];return(0,t.decorate)(d,r)}
},{"./private/utils":"eS5V"}],"RKsb":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=a;var r=require("./private/utils"),e=Object.assign||function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},t=function(){return function(r,e){if(Array.isArray(r))return r;if(Symbol.iterator in Object(r))return function(r,e){var t=[],n=!0,o=!1,a=void 0;try{for(var i,u=r[Symbol.iterator]();!(n=(i=u.next()).done)&&(t.push(i.value),!e||t.length!==e);n=!0);}catch(l){o=!0,a=l}finally{try{!n&&u.return&&u.return()}finally{if(o)throw a}}return t}(r,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),n="This function will be removed in future versions.";function o(o,a,i,u){var l=t(u,2),c=l[0],f=void 0===c?n:c,s=l[1],v=void 0===s?{}:s;if("function"!=typeof i.value)throw new SyntaxError("Only functions can be marked as deprecated");var y=o.constructor.name+"#"+a;return v.url&&(f+="\n\n    See "+v.url+" for more details.\n\n"),e({},i,{value:function(){return(0,r.warn)("DEPRECATION "+y+": "+f),i.value.apply(this,arguments)}})}function a(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,r.decorate)(o,t)}
},{"./private/utils":"eS5V"}],"v8A7":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=c;var e=require("./private/utils"),o=Object.assign||function(e){for(var o=1;o<arguments.length;o++){var t=arguments[o];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function r(){}function n(e,o,n){if("object"===("undefined"==typeof console?"undefined":t(console))){var u=console.warn;console.warn=r;var c=o.apply(e,n);return console.warn=u,c}return o.apply(e,n)}function u(e,t,r){return o({},r,{value:function(){return n(this,r.value,arguments)}})}function c(){for(var o=arguments.length,t=Array(o),r=0;r<o;r++)t[r]=arguments[r];return(0,e.decorate)(u,t)}
},{"./private/utils":"eS5V"}],"WeXq":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=i;var e=require("./private/utils"),r=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e};function t(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function n(e,r){return r===Object(r)?r:e[r]||(e[r]={})}function a(e,r,t,n,a){var o=r.apply(e,t);return n[a]=o,o}function o(e){var r=void 0,t=void 0;return e.value?(r=e.value,t="value"):e.get?(r=e.get,t="get"):e.set&&(r=e.set,t="set"),{fn:r,wrapKey:t}}function u(e,u,i){var l=o(i),c=l.fn,s=l.wrapKey,v=new WeakMap,f=Object.create(null),p=Object.create(null),d=0;return r({},i,t({},s,function(){for(var e=arguments.length,r=Array(e),t=0;t<e;t++)r[t]=arguments[t];for(var o="0",u=0,i=r.length;u<i;u++){var l=r[u],s=n(p,l),b=v.get(s);void 0===b&&(b=++d,v.set(s,b)),o+=b}return f[o]||a(this,c,arguments,f,o)}))}function i(){(0,e.internalDeprecation)("@memoize is deprecated and will be removed shortly. Use @memoize from lodash-decorators.\n\n  https://www.npmjs.com/package/lodash-decorators");for(var r=arguments.length,t=Array(r),n=0;n<r;n++)t[n]=arguments[n];return(0,e.decorate)(u,t)}
},{"./private/utils":"eS5V"}],"GUmR":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=c;var e=require("./private/utils");function t(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}var r=Object.defineProperty,n=Object.getPrototypeOf,o=void 0;function u(t,r){if("undefined"==typeof WeakMap)throw new Error("Using @autobind on "+r.name+"() requires WeakMap support due to its use of super."+r.name+"()\n      See https://github.com/jayphelps/core-decorators.js/issues/20");o||(o=new WeakMap),!1===o.has(t)&&o.set(t,new WeakMap);var n=o.get(t);return!1===n.has(r)&&n.set(r,(0,e.bind)(r,t)),n.get(r)}function i(t){for(var n=(0,e.getOwnPropertyDescriptors)(t.prototype),o=(0,e.getOwnKeys)(n),u=0,i=o.length;u<i;u++){var s=o[u],c=n[s];"function"==typeof c.value&&"constructor"!==s&&r(t.prototype,s,a(t.prototype,s,c))}}function a(t,o,i){var a=i.value,s=i.configurable,c=i.enumerable;if("function"!=typeof a)throw new SyntaxError("@autobind can only be used on functions, not: "+a);var f=t.constructor;return{configurable:s,enumerable:c,get:function(){if(this===t)return a;if(this.constructor!==f&&n(this).constructor===f)return a;if(this.constructor!==f&&o in this.constructor.prototype)return u(this,a);var i=(0,e.bind)(a,this);return r(this,o,{configurable:!0,writable:!0,enumerable:!1,value:i}),i},set:(0,e.createDefaultSetter)(o)}}function s(e){return 1===e.length?i.apply(void 0,t(e)):a.apply(void 0,t(e))}function c(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return 0===t.length?function(){return s(arguments)}:s(t)}
},{"./private/utils":"eS5V"}],"eP6p":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=t;var e=require("./private/utils");function r(e,r,t){return t.writable=!1,t}function t(){for(var t=arguments.length,u=Array(t),a=0;a<t;a++)u[a]=arguments[a];return(0,e.decorate)(r,u)}
},{"./private/utils":"eS5V"}],"DAq5":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=t;var e=require("./private/utils");function r(e,r,t){return t.enumerable=!0,t}function t(){for(var t=arguments.length,u=Array(t),n=0;n<t;n++)u[n]=arguments[n];return(0,e.decorate)(r,u)}
},{"./private/utils":"eS5V"}],"UVsd":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=t;var e=require("./private/utils");function r(e,r,t){return t.enumerable=!1,t}function t(){for(var t=arguments.length,u=Array(t),n=0;n<t;n++)u[n]=arguments[n];return(0,e.decorate)(r,u)}
},{"./private/utils":"eS5V"}],"nqPS":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=t;var e=require("./private/utils");function r(e,r,t){return t.configurable=!1,t}function t(){for(var t=arguments.length,u=Array(t),n=0;n<t;n++)u[n]=arguments[n];return(0,e.decorate)(r,u)}
},{"./private/utils":"eS5V"}],"vpFB":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=a;var e=require("./private/utils"),r=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},t=function(){return function(e,r){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,r){var t=[],n=!0,o=!1,a=void 0;try{for(var i,u=e[Symbol.iterator]();!(n=(i=u.next()).done)&&(t.push(i.value),!r||t.length!==r);n=!0);}catch(c){o=!0,a=c}finally{try{!n&&u.return&&u.return()}finally{if(o)throw a}}return t}(e,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),n=300;function o(o,a,i,u){var c=t(u,2),l=c[0],s=void 0===l?n:l,d=c[1],f=void 0!==d&&d,p=i.value;if("function"!=typeof p)throw new SyntaxError("Only functions can be debounced");return r({},i,{value:function(){var r=this,t=(0,e.metaFor)(this).debounceTimeoutIds,n=t[a],o=f&&!n,i=arguments;clearTimeout(n),t[a]=setTimeout(function(){delete t[a],f||p.apply(r,i)},s),o&&p.apply(this,i)}})}function a(){(0,e.internalDeprecation)("@debounce is deprecated and will be removed shortly. Use @debounce from lodash-decorators.\n\n  https://www.npmjs.com/package/lodash-decorators");for(var r=arguments.length,t=Array(r),n=0;n<r;n++)t[n]=arguments[n];return(0,e.decorate)(o,t)}
},{"./private/utils":"eS5V"}],"aE4a":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=i;var t=require("./private/utils"),r=Object.assign||function(t){for(var r=1;r<arguments.length;r++){var e=arguments[r];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])}return t},e=function(){return function(t,r){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,r){var e=[],n=!0,o=!1,i=void 0;try{for(var a,l=t[Symbol.iterator]();!(n=(a=l.next()).done)&&(e.push(a.value),!r||e.length!==r);n=!0);}catch(u){o=!0,i=u}finally{try{!n&&l.return&&l.return()}finally{if(o)throw i}}return e}(t,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),n=300;function o(o,i,a,l){var u=e(l,2),s=u[0],c=void 0===s?n:s,d=u[1],f=void 0===d?{}:d,h=a.value;if("function"!=typeof h)throw new SyntaxError("Only functions can be throttled");return!1!==f.leading&&(f.leading=!0),!1!==f.trailing&&(f.trailing=!0),r({},a,{value:function(){var r=this,e=(0,t.metaFor)(this),n=e.throttleTimeoutIds,o=e.throttlePreviousTimestamps,a=n[i],l=o[i]||0,u=Date.now();f.trailing&&(e.throttleTrailingArgs=arguments),l||!1!==f.leading||(l=u);var s=c-(u-l);s<=0?(clearTimeout(a),delete n[i],o[i]=u,h.apply(this,arguments)):!a&&f.trailing&&(n[i]=setTimeout(function(){o[i]=!1===f.leading?0:Date.now(),delete n[i],h.apply(r,e.throttleTrailingArgs),e.throttleTrailingArgs=null},s))}})}function i(){(0,t.internalDeprecation)("@throttle is deprecated and will be removed shortly. Use @throttle from lodash-decorators.\n\n  https://www.npmjs.com/package/lodash-decorators");for(var r=arguments.length,e=Array(r),n=0;n<r;n++)e[n]=arguments[n];return(0,t.decorate)(o,e)}
},{"./private/utils":"eS5V"}],"RQ93":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=u;var r=require("./private/utils");function e(r){if(Array.isArray(r)){for(var e=0,t=Array(r.length);e<r.length;e++)t[e]=r[e];return t}return Array.from(r)}function t(r){return Array.isArray(r)?r:Array.from(r)}var a=Object.defineProperty;function n(n,u,i,l){var o=t(l),c=o[0],f=o.slice(1),s=i.configurable,v=i.enumerable,y=i.writable,b=i.get,g=i.set,A=i.value,p=!!b;return{configurable:s,enumerable:v,get:function(){var r=p?b.call(this):A,t=c.call.apply(c,[this,r].concat(e(f)));if(p)return t;var n={configurable:s,enumerable:v};return n.value=t,n.writable=y,a(this,u,n),t},set:p?g:(0,r.createDefaultSetter)()}}function u(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,r.decorate)(n,t)}
},{"./private/utils":"eS5V"}],"C2Uo":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=p;var t=require("./private/utils"),e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r=Object.defineProperty,o=Object.getPrototypeOf;function n(t){return"[object Symbol]"===Object.prototype.toString.call(t)&&"object"===(void 0===t?"undefined":e(t))}function i(t,e){if(n(t)){do{if(e===Object.prototype)return void 0!==e[t];if(e.hasOwnProperty(t))return!0}while(e=o(e));return!1}return t in e}function a(e,o){if(!o.length)throw new SyntaxError("@mixin() class "+e.name+" requires at least one mixin as an argument");for(var n=0,a=o.length;n<a;n++)for(var p=(0,t.getOwnPropertyDescriptors)(o[n]),c=(0,t.getOwnKeys)(p),f=0,u=c.length;f<u;f++){var y=c[f];i(y,e.prototype)||r(e.prototype,y,p[y])}}function p(){for(var e=arguments.length,r=Array(e),o=0;o<e;o++)r[o]=arguments[o];return(0,t.internalDeprecation)("@mixin is deprecated and will be removed shortly. Use @mixin from lodash-decorators.\n\n  https://www.npmjs.com/package/lodash-decorators"),"function"==typeof r[0]?a(r[0],[]):function(t){return a(t,r)}}
},{"./private/utils":"eS5V"}],"lqvb":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=l,exports.defaultConsole=void 0;var e=require("./private/utils"),t=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},n=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,l=e[Symbol.iterator]();!(r=(a=l.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(u){o=!0,i=u}finally{try{!r&&l.return&&l.return()}finally{if(o)throw i}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),r={},o={time:console.time?console.time.bind(console):function(e){r[e]=new Date},timeEnd:console.timeEnd?console.timeEnd.bind(console):function(e){var t=new Date-r[e];delete r[e],console.log(e+": "+t+"ms")}};exports.defaultConsole=o;var i=0;function a(e,r,a,l){var u=n(l,2),c=u[0],s=void 0===c?null:c,f=u[1],d=void 0===f?o:f,v=a.value;if(null===s&&(s=e.constructor.name+"."+r),"function"!=typeof v)throw new SyntaxError("@time can only be used on functions, not: "+v);return t({},a,{value:function(){var e=s+"-"+i;i++,d.time(e);try{return v.apply(this,arguments)}finally{d.timeEnd(e)}}})}function l(){for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];return(0,e.decorate)(a,n)}
},{"./private/utils":"eS5V"}],"Jg5C":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=n;var e=require("./private/utils"),t=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},r=Object.getPrototypeOf,i=Object.getOwnPropertyDescriptor;function a(e,a,n){var o=r(e),u=i(o,a);return t({},u,{value:n.value,initializer:n.initializer,get:n.get||u.get,set:n.set||u.set})}function n(){for(var t=arguments.length,r=Array(t),i=0;i<t;i++)r[i]=arguments[i];return(0,e.decorate)(a,r)}
},{"./private/utils":"eS5V"}],"lF62":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=i,exports.defaultConsole=void 0;var r=require("./private/utils"),e=Object.assign||function(r){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(r[o]=n[o])}return r},n=function(){return function(r,e){if(Array.isArray(r))return r;if(Symbol.iterator in Object(r))return function(r,e){var n=[],o=!0,t=!1,l=void 0;try{for(var i,a=r[Symbol.iterator]();!(o=(i=a.next()).done)&&(n.push(i.value),!e||n.length!==e);o=!0);}catch(f){t=!0,l=f}finally{try{!o&&a.return&&a.return()}finally{if(t)throw l}}return n}(r,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=console,t={profile:console.profile?(0,r.bind)(console.profile,console):function(){},profileEnd:console.profileEnd?(0,r.bind)(console.profileEnd,console):function(){},warn:r.warn};function l(o,l,a,f){var u=n(f,3),s=u[0],c=void 0===s?null:s,p=u[1],d=void 0!==p&&p,y=u[2],v=void 0===y?t:y;if(!i.__enabled)return i.__warned||(v.warn("console.profile is not supported. All @profile decorators are disabled."),i.__warned=!0),a;var b=a.value;if(null===c&&(c=o.constructor.name+"."+l),"function"!=typeof b)throw new SyntaxError("@profile can only be used on functions, not: "+b);return e({},a,{value:function(){var e=Date.now(),n=(0,r.metaFor)(this);(!0===d&&!n.profileLastRan||!1===d||"number"==typeof d&&e-n.profileLastRan>d||"function"==typeof d&&d.apply(this,arguments))&&(v.profile(c),n.profileLastRan=e);try{return b.apply(this,arguments)}finally{v.profileEnd(c)}}})}function i(){for(var e=arguments.length,n=Array(e),o=0;o<e;o++)n[o]=arguments[o];return(0,r.decorate)(l,n)}exports.defaultConsole=t,i.__enabled=!!console.profile,i.__warned=!1;
},{"./private/utils":"eS5V"}],"r6gb":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=t;var e=Object.defineProperty,r=Object.getOwnPropertyDescriptor;function t(t,o){var n=t.prototype;for(var p in o)for(var a=o[p],c=0,f=a.length;c<f;c++){var i=a[c];e(n,p,i(n,p,r(n,p)))}return t}
},{}],"YupF":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),Object.defineProperty(exports,"applyDecorators",{enumerable:!0,get:function(){return x.default}}),Object.defineProperty(exports,"autobind",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(exports,"debounce",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(exports,"decorate",{enumerable:!0,get:function(){return p.default}}),Object.defineProperty(exports,"deprecate",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(exports,"deprecated",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(exports,"enumerable",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(exports,"extendDescriptor",{enumerable:!0,get:function(){return m.default}}),Object.defineProperty(exports,"lazyInitialize",{enumerable:!0,get:function(){return b.default}}),Object.defineProperty(exports,"memoize",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(exports,"mixin",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(exports,"mixins",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(exports,"nonconfigurable",{enumerable:!0,get:function(){return f.default}}),Object.defineProperty(exports,"nonenumerable",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(exports,"override",{enumerable:!0,get:function(){return e.default}}),Object.defineProperty(exports,"profile",{enumerable:!0,get:function(){return y.default}}),Object.defineProperty(exports,"readonly",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(exports,"suppressWarnings",{enumerable:!0,get:function(){return t.default}}),Object.defineProperty(exports,"throttle",{enumerable:!0,get:function(){return d.default}}),Object.defineProperty(exports,"time",{enumerable:!0,get:function(){return s.default}});var e=g(require("./override")),r=g(require("./deprecate")),t=g(require("./suppress-warnings")),n=g(require("./memoize")),u=g(require("./autobind")),o=g(require("./readonly")),i=g(require("./enumerable")),a=g(require("./nonenumerable")),f=g(require("./nonconfigurable")),l=g(require("./debounce")),d=g(require("./throttle")),p=g(require("./decorate")),c=g(require("./mixin")),b=g(require("./lazy-initialize")),s=g(require("./time")),m=g(require("./extendDescriptor")),y=g(require("./profile")),x=g(require("./applyDecorators"));function g(e){return e&&e.__esModule?e:{default:e}}
},{"./override":"uLsU","./deprecate":"RKsb","./suppress-warnings":"v8A7","./memoize":"WeXq","./autobind":"GUmR","./readonly":"eP6p","./enumerable":"DAq5","./nonenumerable":"UVsd","./nonconfigurable":"nqPS","./debounce":"vpFB","./throttle":"aE4a","./decorate":"RQ93","./mixin":"C2Uo","./lazy-initialize":"LbcP","./time":"lqvb","./extendDescriptor":"Jg5C","./profile":"lF62","./applyDecorators":"r6gb"}],"AKUO":[function(require,module,exports) {
"use strict";var e=require("@babel/runtime-corejs2/core-js/object/define-property");e(exports,"__esModule",{value:!0}),exports.default=void 0;var r=require("core-decorators");function o(){return function(){}}var t=o,u=t;exports.default=u;
},{"@babel/runtime-corejs2/core-js/object/define-property":"eIqn","core-decorators":"YupF"}],"d69I":[function(require,module,exports) {
"use strict";var e=require("@babel/runtime-corejs2/core-js/object/define-property");e(exports,"__esModule",{value:!0}),exports.default=void 0;var r=!0;exports.default=r;
},{"@babel/runtime-corejs2/core-js/object/define-property":"eIqn"}],"inNg":[function(require,module,exports) {
"use strict";var e=require("@babel/runtime-corejs2/core-js/object/define-property"),r=require("@babel/runtime-corejs2/helpers/interopRequireDefault");e(exports,"__esModule",{value:!0}),e(exports,"default",{enumerable:!0,get:function(){return t.default}});var t=r(require("./node"));
},{"@babel/runtime-corejs2/core-js/object/define-property":"eIqn","@babel/runtime-corejs2/helpers/interopRequireDefault":"LXwi","./node":"d69I"}],"gvq9":[function(require,module,exports) {
"use strict";var E=require("@babel/runtime-corejs2/core-js/object/define-property");E(exports,"__esModule",{value:!0}),exports.INTERNAL_US_INTEGRATION_CLUSTER_NAME=exports.INTERNAL_US_CLUSTER_NAME=exports.deviceType=exports.hydraTypes=exports.SDK_EVENT=void 0;var T={INTERNAL:{WEBEX_ACTIVITY:"event:conversation.activity",ACTIVITY_FIELD:{ACTOR:"actor",OBJECT:"object",TARGET:"target"},ACTIVITY_VERB:{ACKNOWLEDGE:"acknowledge",CARD_ACTION:"cardAction",CREATE:"create",POST:"post",SHARE:"share",DELETE:"delete",ADD:"add",LEAVE:"leave",ADD_MODERATOR:"assignModerator",REMOVE_MODERATOR:"unassignModerator",LOCK:"lock",UNLOCK:"unlock",HIDE:"hide",UPDATE:"update"},ACTIVITY_TAG:{HIDDEN:"HIDDEN",ONE_ON_ONE:"ONE_ON_ONE",LOCKED:"LOCKED"}},EXTERNAL:{EVENT_TYPE:{CREATED:"created",DELETED:"deleted",UPDATED:"updated",SEEN:"seen"},OWNER:{CREATOR:"creator",ORG:"org"},STATUS:{ACTIVE:"active",DISABLED:"disabled"},SPACE_TYPE:{DIRECT:"direct",GROUP:"group"},RESOURCE:{ATTACHMENT_ACTIONS:"attachmentActions",MEMBERSHIPS:"memberships",MESSAGES:"messages",ROOMS:"rooms"},ATTACHMENTS:{CARD_CONTENT_TYPE:"application/vnd.microsoft.card.adaptive"}}};exports.SDK_EVENT=T;var e={ATTACHMENT_ACTION:"ATTACHMENT_ACTION",CONTENT:"CONTENT",MEMBERSHIP:"MEMBERSHIP",MESSAGE:"MESSAGE",ORGANIZATION:"ORGANIZATION",PEOPLE:"PEOPLE",ROOM:"ROOM",TEAM:"TEAM"};exports.hydraTypes=e;var A={PROVISIONAL:"PROVISIONAL",WEB:"WEB"};exports.deviceType=A;var N="urn:TEAM:us-east-2_a";exports.INTERNAL_US_CLUSTER_NAME=N;var r="urn:TEAM:us-east-1_int13";exports.INTERNAL_US_INTEGRATION_CLUSTER_NAME=r;
},{"@babel/runtime-corejs2/core-js/object/define-property":"eIqn"}],"IXbn":[function(require,module,exports) {
"use strict";var r=require("@babel/runtime-corejs2/core-js/object/define-property");r(exports,"__esModule",{value:!0}),exports.constructHydraId=c,exports.deconstructHydraId=s,exports.buildHydraMessageId=a,exports.buildHydraPersonId=i,exports.buildHydraRoomId=u,exports.buildHydraOrgId=d,exports.buildHydraMembershipId=p,exports.getHydraClusterString=E,exports.getHydraRoomType=T,exports.getHydraFiles=y;var e=require("./base64"),t=require("./constants"),o="https://api.ciscospark.com/v1",n=function(){throw Error("parameter is required")};function c(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n(),o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n(),c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"us";if(!r.toUpperCase)throw Error('"type" must be a string');return r===t.hydraTypes.PEOPLE||r===t.hydraTypes.ORGANIZATION?(0,e.encode)("ciscospark://us/".concat(r.toUpperCase(),"/").concat(o)):(0,e.encode)("ciscospark://".concat(c,"/").concat(r.toUpperCase(),"/").concat(o))}function s(r){var t=(0,e.decode)(r).split("/");return{id:t.pop(),type:t.pop(),cluster:t.pop()}}function a(r,e){return c(t.hydraTypes.MESSAGE,r,e)}function i(r,e){return c(t.hydraTypes.PEOPLE,r,e)}function u(r,e){return c(t.hydraTypes.ROOM,r,e)}function d(r,e){return c(t.hydraTypes.ORGANIZATION,r,e)}function p(r,e,o){return c(t.hydraTypes.MEMBERSHIP,"".concat(r,":").concat(e),o)}function E(r,e){var o=r.internal.services.getClusterId(e);if(o.startsWith(t.INTERNAL_US_CLUSTER_NAME)||o.startsWith(t.INTERNAL_US_INTEGRATION_CLUSTER_NAME))return"us";var n=o.split(":");if(n.length<3)throw Error("Unable to determine cluster for convo: ".concat(e));return"".concat(n[0],":").concat(n[1],":").concat(n[2])}function T(r){return r.includes(t.SDK_EVENT.INTERNAL.ACTIVITY_TAG.ONE_ON_ONE)?t.SDK_EVENT.EXTERNAL.SPACE_TYPE.DIRECT:t.SDK_EVENT.EXTERNAL.SPACE_TYPE.GROUP}function y(r,e){var n=[],s=r.object.files;if(s)for(var a=s.items,i=0;i<a.length;i+=1){var u=c(t.hydraTypes.CONTENT,"".concat(r.id,"/").concat(i),e);n.push("".concat(o,"/contents/").concat(u))}return n}
},{"@babel/runtime-corejs2/core-js/object/define-property":"eIqn","./base64":"W0yC","./constants":"gvq9"}],"UeF0":[function(require,module,exports) {
"use strict";var e=require("@babel/runtime-corejs2/core-js/object/define-property"),r=require("@babel/runtime-corejs2/helpers/interopRequireDefault");e(exports,"__esModule",{value:!0}),e(exports,"base64",{enumerable:!0,get:function(){return t.default}}),e(exports,"isBuffer",{enumerable:!0,get:function(){return n.default}}),e(exports,"cappedDebounce",{enumerable:!0,get:function(){return u.default}}),e(exports,"checkRequired",{enumerable:!0,get:function(){return a.default}}),e(exports,"Defer",{enumerable:!0,get:function(){return o.default}}),e(exports,"makeStateDataType",{enumerable:!0,get:function(){return i.default}}),e(exports,"make",{enumerable:!0,get:function(){return l.default}}),e(exports,"oneFlight",{enumerable:!0,get:function(){return s.default}}),e(exports,"patterns",{enumerable:!0,get:function(){return d.default}}),e(exports,"proxyEvents",{enumerable:!0,get:function(){return p.proxyEvents}}),e(exports,"transferEvents",{enumerable:!0,get:function(){return p.transferEvents}}),e(exports,"createEventEnvelope",{enumerable:!0,get:function(){return c.createEventEnvelope}}),e(exports,"ensureMyIdIsAvailable",{enumerable:!0,get:function(){return c.ensureMyIdIsAvailable}}),e(exports,"resolveWith",{enumerable:!0,get:function(){return f.default}}),e(exports,"retry",{enumerable:!0,get:function(){return b.default}}),e(exports,"tap",{enumerable:!0,get:function(){return g.default}}),e(exports,"whileInFlight",{enumerable:!0,get:function(){return m.default}}),e(exports,"Exception",{enumerable:!0,get:function(){return x.default}}),e(exports,"deprecated",{enumerable:!0,get:function(){return y.default}}),e(exports,"inBrowser",{enumerable:!0,get:function(){return E.default}}),e(exports,"deviceType",{enumerable:!0,get:function(){return I.deviceType}}),e(exports,"hydraTypes",{enumerable:!0,get:function(){return I.hydraTypes}}),e(exports,"SDK_EVENT",{enumerable:!0,get:function(){return I.SDK_EVENT}}),e(exports,"INTERNAL_US_CLUSTER_NAME",{enumerable:!0,get:function(){return I.INTERNAL_US_CLUSTER_NAME}}),e(exports,"INTERNAL_US_INTEGRATION_CLUSTER_NAME",{enumerable:!0,get:function(){return I.INTERNAL_US_INTEGRATION_CLUSTER_NAME}}),e(exports,"buildHydraMembershipId",{enumerable:!0,get:function(){return q.buildHydraMembershipId}}),e(exports,"buildHydraMessageId",{enumerable:!0,get:function(){return q.buildHydraMessageId}}),e(exports,"buildHydraOrgId",{enumerable:!0,get:function(){return q.buildHydraOrgId}}),e(exports,"buildHydraPersonId",{enumerable:!0,get:function(){return q.buildHydraPersonId}}),e(exports,"buildHydraRoomId",{enumerable:!0,get:function(){return q.buildHydraRoomId}}),e(exports,"getHydraRoomType",{enumerable:!0,get:function(){return q.getHydraRoomType}}),e(exports,"getHydraClusterString",{enumerable:!0,get:function(){return q.getHydraClusterString}}),e(exports,"getHydraFiles",{enumerable:!0,get:function(){return q.getHydraFiles}}),e(exports,"constructHydraId",{enumerable:!0,get:function(){return q.constructHydraId}}),e(exports,"deconstructHydraId",{enumerable:!0,get:function(){return q.deconstructHydraId}});var t=r(require("./base64")),n=r(require("./isBuffer")),u=r(require("./capped-debounce")),a=r(require("./check-required")),o=r(require("./defer")),i=r(require("./make-state-datatype")),l=r(require("./template-container")),s=r(require("./one-flight")),d=r(require("./patterns.js")),p=require("./events"),c=require("./event-envelope"),f=r(require("./resolve-with")),b=r(require("./retry")),g=r(require("./tap")),m=r(require("./while-in-flight")),x=r(require("./exception")),y=r(require("./deprecated")),E=r(require("./in-browser")),I=require("./constants"),q=require("./uuid-utils");
},{"@babel/runtime-corejs2/core-js/object/define-property":"eIqn","@babel/runtime-corejs2/helpers/interopRequireDefault":"LXwi","./base64":"W0yC","./isBuffer":"OS8O","./capped-debounce":"bRLt","./check-required":"WSxP","./defer":"Bpup","./make-state-datatype":"cYkl","./template-container":"PhFI","./one-flight":"CDJR","./patterns.js":"E403","./events":"EFM8","./event-envelope":"MX8S","./resolve-with":"nbhQ","./retry":"ZTMd","./tap":"xKQO","./while-in-flight":"kQCh","./exception":"rV3F","./deprecated":"AKUO","./in-browser":"inNg","./constants":"gvq9","./uuid-utils":"IXbn"}],"hYUx":[function(require,module,exports) {
"use strict";var e=require("@babel/runtime-corejs2/core-js/reflect/construct"),r=require("@babel/runtime-corejs2/core-js/object/define-property"),t=require("@babel/runtime-corejs2/helpers/interopRequireDefault");r(exports,"__esModule",{value:!0}),exports.NotFoundError=exports.StorageError=void 0;var o=t(require("@babel/runtime-corejs2/helpers/classCallCheck")),u=t(require("@babel/runtime-corejs2/helpers/inherits")),n=t(require("@babel/runtime-corejs2/helpers/possibleConstructorReturn")),i=t(require("@babel/runtime-corejs2/helpers/getPrototypeOf")),s=require("@webex/common");function a(r){var t=l();return function(){var o,u=(0,i.default)(r);if(t){var s=(0,i.default)(this).constructor;o=e(u,arguments,s)}else o=u.apply(this,arguments);return(0,n.default)(this,o)}}function l(){if("undefined"==typeof Reflect||!e)return!1;if(e.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(e(Boolean,[],function(){})),!0}catch(r){return!1}}var c=function(e){(0,u.default)(t,e);var r=a(t);function t(){return(0,o.default)(this,t),r.apply(this,arguments)}return t}(s.Exception);exports.StorageError=c;var f=function(e){(0,u.default)(t,e);var r=a(t);function t(){return(0,o.default)(this,t),r.apply(this,arguments)}return t}(c);exports.NotFoundError=f;
},{"@babel/runtime-corejs2/core-js/reflect/construct":"vZQy","@babel/runtime-corejs2/core-js/object/define-property":"eIqn","@babel/runtime-corejs2/helpers/interopRequireDefault":"LXwi","@babel/runtime-corejs2/helpers/classCallCheck":"Tzth","@babel/runtime-corejs2/helpers/inherits":"CdTE","@babel/runtime-corejs2/helpers/possibleConstructorReturn":"w9GY","@babel/runtime-corejs2/helpers/getPrototypeOf":"Qxr1","@webex/common":"UeF0"}],"SJRt":[function(require,module,exports) {
"use strict";var e=require("@babel/runtime-corejs2/core-js/object/define-property"),r=require("@babel/runtime-corejs2/helpers/interopRequireDefault");e(exports,"__esModule",{value:!0}),exports.persist=g,exports.waitForValue=j;var t=r(require("@babel/runtime-corejs2/core-js/reflect/apply")),a=r(require("@babel/runtime-corejs2/core-js/promise")),i=r(require("@babel/runtime-corejs2/core-js/map")),n=r(require("@babel/runtime-corejs2/core-js/set")),o=r(require("@babel/runtime-corejs2/helpers/defineProperty")),u=r(require("@babel/runtime-corejs2/helpers/typeof")),l=r(require("@babel/runtime-corejs2/helpers/toConsumableArray")),s=r(require("lodash/wrap")),c=r(require("lodash/result")),d=r(require("lodash/identity")),f=r(require("lodash/debounce")),h=r(require("lodash/curry")),p=require("@webex/common"),b=require("./errors");function g(){for(var e=arguments.length,r=new Array(e),i=0;i<e;i++)r[i]=arguments[i];if(3===r.length)return g("@").apply(void 0,r);var n=r[0],o=r[1];return function(e,r,i){if("initialize"!==r)throw new TypeError("@persist can only currently be applied to AmpersandState objects or their derivatives and must be applied to the initialize method");i.value=(0,s.default)(i.value,function(e){for(var r=this,i=arguments.length,u=new Array(i>1?i-1:0),l=1;l<i;l++)u[l-1]=arguments[l];var s=(0,t.default)(e,this,u),c="@"===n?"change":"change:".concat(n);return this.on(c,(0,f.default)(function(){return!o||t.default.apply(Reflect,[o,r].concat(u))?"@"===n?r.boundedStorage.put(n,r):r.boundedStorage.put(n,r[n]):a.default.resolve()},0)),s}),x(e,r)}}var v=i.default,m=n.default,w=(0,p.make)(v,v,m),y=new w;function j(e){if(!e)throw new Error("`key` is required");return function(r,i,n){return y.add(r,i,e),n.value=(0,s.default)(n.value,function(e){for(var n=this,o=arguments.length,u=new Array(o>1?o-1:0),s=1;s<o;s++)u[s-1]=arguments[s];var c=y.get(r,i);return a.default.all((0,l.default)(c).map(function(e){return n.boundedStorage.waitFor(e)})).then(function(){return(0,t.default)(e,n,u)})}),"object"!==(0,u.default)(r)||r.prototype||(r[i]=n.value),x(r,i),n}}var q=new n.default;function z(e){return e.namespace?e.namespace:e}var A=new n.default;function x(e,r){var i=z(e);if(!q.has(i)){if(q.add(i),e.initialize)return void(e.initialize=(0,s.default)(e.initialize,function(e){for(var r=arguments.length,a=new Array(r>1?r-1:0),i=1;i<r;i++)a[i-1]=arguments[i];var o=(0,t.default)(e,this,a);return(0,t.default)(n,this,a),o}));e.initialize=n}function n(){var i=this,n=this.getNamespace();this.webex.initialize=(0,s.default)(this.webex.initialize||d.default,function(u){var l=this;A.add(n);for(var s=arguments.length,d=new Array(s>1?s-1:0),f=1;f<s;f++)d[f-1]=arguments[f];(0,t.default)(u,this,d);var p=(0,h.default)(function(e,r){l.logger.debug("storage:(".concat(n,"): got `").concat(e,"` for first time")),"@"===e?i.parent.set((0,o.default)({},n.toLowerCase(),r)):(0,c.default)(i[e],"isState")?i[e].set(r):i.set(e,r),l.logger.debug("storage:(".concat(n,"): set `").concat(e,"` for first time"))}),g=(0,h.default)(function(e,r){return r instanceof b.NotFoundError?(l.logger.debug("storage(".concat(n,"): no data for `").concat(e,"`, continuing")),a.default.resolve()):(l.logger.error("storage(".concat(n,"): failed to init `").concat(e,"`"),r),a.default.reject(r))}),v=y.get(e,r),m=[];v.forEach(function(e){m.push(l.boundedStorage.get(n,e).then(p(e)).catch(g(e)))}),a.default.all(m).then(function(){A.delete(n),0===A.size&&(l.loaded=!0)})})}}
},{"@babel/runtime-corejs2/core-js/object/define-property":"eIqn","@babel/runtime-corejs2/helpers/interopRequireDefault":"LXwi","@babel/runtime-corejs2/core-js/reflect/apply":"Lf7Q","@babel/runtime-corejs2/core-js/promise":"eOfj","@babel/runtime-corejs2/core-js/map":"y6NN","@babel/runtime-corejs2/core-js/set":"OoUO","@babel/runtime-corejs2/helpers/defineProperty":"n5FU","@babel/runtime-corejs2/helpers/typeof":"hVHy","@babel/runtime-corejs2/helpers/toConsumableArray":"TW4i","lodash/wrap":"Z5zS","lodash/result":"TuMP","lodash/identity":"Jpv1","lodash/debounce":"CXfR","lodash/curry":"L4BM","@webex/common":"UeF0","./errors":"hYUx"}],"WYJH":[function(require,module,exports) {
var e=require("@babel/runtime-corejs2/core-js/object/keys"),i=require("@babel/runtime-corejs2/core-js/object/define-property");function r(r,l,o,n,u){var t={};return e(n).forEach(function(e){t[e]=n[e]}),t.enumerable=!!t.enumerable,t.configurable=!!t.configurable,("value"in t||t.initializer)&&(t.writable=!0),t=o.slice().reverse().reduce(function(e,i){return i(r,l,e)||e},t),u&&void 0!==t.initializer&&(t.value=t.initializer?t.initializer.call(u):void 0,t.initializer=void 0),void 0===t.initializer&&(i(r,l,t),t=null),t}module.exports=r,module.exports.default=module.exports,module.exports.__esModule=!0;
},{"@babel/runtime-corejs2/core-js/object/keys":"d81a","@babel/runtime-corejs2/core-js/object/define-property":"eIqn"}],"tUfS":[function(require,module,exports) {
"use strict";var e=require("@babel/runtime-corejs2/core-js/object/define-property"),r=require("@babel/runtime-corejs2/helpers/interopRequireDefault");e(exports,"__esModule",{value:!0}),exports.default=b;var t=r(require("@babel/runtime-corejs2/helpers/classCallCheck")),n=r(require("@babel/runtime-corejs2/helpers/createClass")),o=r(require("@babel/runtime-corejs2/helpers/applyDecoratedDescriptor")),i=r(require("@babel/runtime-corejs2/core-js/weak-map")),u=r(require("@babel/runtime-corejs2/core-js/map")),a=r(require("@babel/runtime-corejs2/core-js/promise")),c=r(require("@babel/runtime-corejs2/core-js/object/get-own-property-descriptor")),g=r(require("@babel/runtime-corejs2/core-js/object/assign")),s=r(require("ampersand-events")),l=require("@webex/common"),d=new i.default;function b(e,r){var i,b,f=(i=(0,l.oneFlight)({keyFactory:function(e){return e}}),b=function(){function o(){(0,t.default)(this,o),r.logger.debug("webex-store: constructing ".concat(e,"Storage")),d.set(this,new u.default)}return(0,n.default)(o,[{key:"adapter",get:function(){return r.config.storage["".concat(e,"Adapter")]}},{key:"bindings",get:function(){return d.get(this)}},{key:"clear",value:function(){var e=[];return this.bindings.forEach(function(r){e.push(r.clear())}),a.default.all(e)}},{key:"del",value:function(e,t){return r.logger.debug("webex-store: removing ".concat(e,":").concat(t)),this._getBinding(e).then(function(e){return e.del(t)})}},{key:"get",value:function(e,t){return r.logger.debug("webex-store: retrieving ".concat(e,":").concat(t)),this._getBinding(e).then(function(e){return e.get(t)})}},{key:"put",value:function(e,t,n){return void 0===n?this.del(e,t):(r.logger.debug("webex-store: setting ".concat(e,":").concat(t)),this._getBinding(e).then(function(e){return e.put(t,n.serialize?n.serialize():n)}).then(function(){return n}))}},{key:"_getBinding",value:function(e){var t=this;return new a.default(function(n){r.logger.debug("storage: getting binding for `".concat(e,"`"));var o=t.bindings.get(e);return o?(r.logger.debug("storage: found binding for `".concat(e,"`")),n(o)):n(t.adapter.bind(e,{logger:r.logger}).then(function(n){return r.logger.debug("storage: made binding for `".concat(e,"`")),t.bindings.set(e,n),n}))})}}]),o}(),(0,o.default)(b.prototype,"_getBinding",[i],(0,c.default)(b.prototype,"_getBinding"),b.prototype),b);return(0,g.default)(f.prototype,s.default),new f}
},{"@babel/runtime-corejs2/core-js/object/define-property":"eIqn","@babel/runtime-corejs2/helpers/interopRequireDefault":"LXwi","@babel/runtime-corejs2/helpers/classCallCheck":"Tzth","@babel/runtime-corejs2/helpers/createClass":"xM5U","@babel/runtime-corejs2/helpers/applyDecoratedDescriptor":"WYJH","@babel/runtime-corejs2/core-js/weak-map":"HKHU","@babel/runtime-corejs2/core-js/map":"y6NN","@babel/runtime-corejs2/core-js/promise":"eOfj","@babel/runtime-corejs2/core-js/object/get-own-property-descriptor":"mQ9c","@babel/runtime-corejs2/core-js/object/assign":"h2Mz","ampersand-events":"fXyO","@webex/common":"UeF0"}],"JJy4":[function(require,module,exports) {
"use strict";var e=require("@babel/runtime-corejs2/core-js/object/define-property"),t=require("@babel/runtime-corejs2/helpers/interopRequireDefault");e(exports,"__esModule",{value:!0}),exports.default=m;var r=t(require("@babel/runtime-corejs2/core-js/weak-map")),a=t(require("@babel/runtime-corejs2/core-js/object/keys")),o=t(require("@babel/runtime-corejs2/core-js/map")),n=t(require("@babel/runtime-corejs2/core-js/object/get-own-property-descriptor")),c=t(require("@babel/runtime-corejs2/helpers/classCallCheck")),i=t(require("@babel/runtime-corejs2/helpers/createClass")),u=t(require("@babel/runtime-corejs2/helpers/applyDecoratedDescriptor")),s=t(require("lodash/result")),l=t(require("lodash/isObject")),g=t(require("lodash/isArray")),p=require("@webex/common"),f=require("./errors"),d=new r.default;function b(e){if(!(0,l.default)(e))return e;var t=e.serialize?e.serialize():e;return(0,a.default)(t).forEach(function(e){var r=t[e];(0,g.default)(r)?0===r.length?t[e]=void 0:t[e]=r.map(b):(0,l.default)(r)&&(0,a.default)(r).forEach(function(e){r[e]=b(r[e])})}),(0,a.default)(t).reduce(function(e,r){return e&&!t[r]},!0)?void 0:t}function m(e,t){var r,a;return new(r=(0,p.oneFlight)({keyFactory:function(e){return"initValue-".concat(e)}}),a=function(){function r(){(0,c.default)(this,r),d.set(this,new o.default)}return(0,i.default)(r,[{key:"clear",value:function(){return t.webex["".concat(e,"Storage")].del(t.getNamespace())}},{key:"del",value:function(){for(var r,a=arguments.length,o=new Array(a),n=0;n<a;n++)o[n]=arguments[n];return(r=t.webex["".concat(e,"Storage")]).del.apply(r,[t.getNamespace()].concat(o))}},{key:"get",value:function(r){var a=d.get(this).get(r);return a||(a=new p.Defer,d.get(this).set(r,a)),t.webex["".concat(e,"Storage")].get(t.getNamespace(),r).then(function(e){return a.resolve(),e})}},{key:"put",value:function(r,a){return t.webex["".concat(e,"Storage")].put(t.getNamespace(),r,b(a))}},{key:"waitFor",value:function(e){t.logger.debug("plugin-storage(".concat(t.getNamespace(),"): waiting to init key `").concat(e,"`"));var r=d.get(this).get(e);return r?(t.logger.debug("plugin-storage(".concat(t.getNamespace(),"): already inited `").concat(e,"`")),r.promise):(t.logger.debug("plugin-storage(".concat(t.getNamespace(),"): initing `").concat(e,"`")),this.initValue(e))}},{key:"initValue",value:function(r){var a=new p.Defer;return d.get(this).set(r,a),t.webex["".concat(e,"Storage")].get(t.getNamespace(),r).then(function(e){t.logger.debug("plugin-storage(".concat(t.getNamespace(),"): got `").concat(r,"` for first time")),"@"===r?t.parent.set(e):(0,s.default)(t[r],"isState")?t[r].set(e):t.set(r,e),t.logger.debug("plugin-storage(".concat(t.getNamespace(),"): set `").concat(r,"` for first time")),a.resolve(),t.logger.debug("plugin-storage(".concat(t.getNamespace(),"): inited `").concat(r,"`"))}).catch(function(e){return e instanceof f.NotFoundError?(t.logger.debug("plugin-storage(".concat(t.getNamespace(),"): no data for `").concat(r,"`, continuing")),a.resolve()):(t.logger.warn("plugin-storage(".concat(t.getNamespace(),"): failed to init `").concat(r,"`"),e),a.reject(e))}),a.promise}}]),r}(),(0,u.default)(a.prototype,"initValue",[r],(0,n.default)(a.prototype,"initValue"),a.prototype),a)}
},{"@babel/runtime-corejs2/core-js/object/define-property":"eIqn","@babel/runtime-corejs2/helpers/interopRequireDefault":"LXwi","@babel/runtime-corejs2/core-js/weak-map":"HKHU","@babel/runtime-corejs2/core-js/object/keys":"d81a","@babel/runtime-corejs2/core-js/map":"y6NN","@babel/runtime-corejs2/core-js/object/get-own-property-descriptor":"mQ9c","@babel/runtime-corejs2/helpers/classCallCheck":"Tzth","@babel/runtime-corejs2/helpers/createClass":"xM5U","@babel/runtime-corejs2/helpers/applyDecoratedDescriptor":"WYJH","lodash/result":"TuMP","lodash/isObject":"u9vI","lodash/isArray":"p0cq","@webex/common":"UeF0","./errors":"hYUx"}],"Ko7y":[function(require,module,exports) {
"use strict";var e=require("@babel/runtime-corejs2/core-js/object/define-property"),r=require("@babel/runtime-corejs2/helpers/interopRequireDefault");e(exports,"__esModule",{value:!0}),exports.default=void 0;var t=r(require("@babel/runtime-corejs2/core-js/promise")),o=r(require("@babel/runtime-corejs2/core-js/map")),a=r(require("@babel/runtime-corejs2/core-js/object/keys")),n=require("./errors");function u(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(r=r||{},!e)return t.default.reject(new Error("`namespace` is required"));if(!r.logger)return t.default.reject(new Error("`options.logger` is required"));var u=r.logger,i=new o.default([["@",{}]]);return r.data&&(0,a.default)(r.data).forEach(function(e){i.set(e,r.data[e])}),u.debug("memory-store-adapter: returning binding"),t.default.resolve({clear:function(){return u.debug("memory-store-adapter: clearing the binding"),t.default.resolve(i.clear())},del:function(e){return u.debug("memory-store-adapter: deleting `".concat(e,"`")),t.default.resolve(i.delete(e))},get:function(e){u.debug("memory-store-adapter: reading `".concat(e,"`"));var r=i.get(e);return void 0===r?t.default.reject(new n.NotFoundError):t.default.resolve(r)},put:function(e,r){return u.debug("memory-store-adapter: writing `".concat(e,"`")),t.default.resolve(i.set(e,r))}})}var i={bind:u,preload:function(e){return{bind:function(r){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e[r]&&(t.data=e[r]),u(r,t)}}}};exports.default=i;
},{"@babel/runtime-corejs2/core-js/object/define-property":"eIqn","@babel/runtime-corejs2/helpers/interopRequireDefault":"LXwi","@babel/runtime-corejs2/core-js/promise":"eOfj","@babel/runtime-corejs2/core-js/map":"y6NN","@babel/runtime-corejs2/core-js/object/keys":"d81a","./errors":"hYUx"}],"FS8s":[function(require,module,exports) {
"use strict";var e=require("@babel/runtime-corejs2/core-js/object/define-property"),r=require("@babel/runtime-corejs2/helpers/interopRequireDefault");e(exports,"__esModule",{value:!0}),e(exports,"persist",{enumerable:!0,get:function(){return t.persist}}),e(exports,"waitForValue",{enumerable:!0,get:function(){return t.waitForValue}}),e(exports,"makeWebexStore",{enumerable:!0,get:function(){return o.default}}),e(exports,"makeWebexPluginStore",{enumerable:!0,get:function(){return u.default}}),e(exports,"MemoryStoreAdapter",{enumerable:!0,get:function(){return n.default}}),e(exports,"StorageError",{enumerable:!0,get:function(){return a.StorageError}}),e(exports,"NotFoundError",{enumerable:!0,get:function(){return a.NotFoundError}});var t=require("./decorators"),o=r(require("./make-webex-store.js")),u=r(require("./make-webex-plugin-store.js")),n=r(require("./memory-store-adapter")),a=require("./errors");
},{"@babel/runtime-corejs2/core-js/object/define-property":"eIqn","@babel/runtime-corejs2/helpers/interopRequireDefault":"LXwi","./decorators":"SJRt","./make-webex-store.js":"tUfS","./make-webex-plugin-store.js":"JJy4","./memory-store-adapter":"Ko7y","./errors":"hYUx"}],"rH5l":[function(require,module,exports) {
"use strict";var e=require("@babel/runtime-corejs2/core-js/object/define-property"),t=require("@babel/runtime-corejs2/helpers/interopRequireDefault");e(exports,"__esModule",{value:!0}),exports.default=void 0;var r=t(require("@babel/runtime-corejs2/core-js/object/keys")),n=t(require("@babel/runtime-corejs2/core-js/reflect/apply")),i=t(require("@babel/runtime-corejs2/core-js/promise")),o=t(require("lodash/omit")),a=t(require("lodash/isObject")),s=t(require("lodash/cloneDeep")),u=t(require("util")),c=t(require("ampersand-state")),l=require("./storage"),f=c.default.extend({derived:{boundedStorage:{deps:[],fn:function(){return(0,l.makeWebexPluginStore)("bounded",this)}},unboundedStorage:{deps:[],fn:function(){return(0,l.makeWebexPluginStore)("unbounded",this)}},config:{cache:!1,deps:["webex","webex.config"],fn:function(){if(this.webex&&this.webex.config){var e=this.getNamespace();return e?this.webex.config[e.toLowerCase()]:this.webex.config}return{}}},logger:{deps:["webex","webex.logger"],fn:function(){return this.webex.logger||console}},webex:{deps:["parent"],fn:function(){if(!this.parent&&!this.collection)throw new Error("Cannot determine `this.webex` without `this.parent` or `this.collection`. Please initialize `this` via `children` or `collection` or set `this.parent` manually");for(var e=this;e.parent||e.collection;)e=e.parent||e.collection;return e}}},session:{parent:{type:"any"},ready:{default:!0,type:"boolean"}},clear:function(e){var t=this;return(0,r.default)(this.attributes).forEach(function(r){"parent"!==r&&t.unset(r,e)}),(0,r.default)(this._children).forEach(function(e){t[e].clear()}),(0,r.default)(this._collections).forEach(function(e){t[e].reset()}),this},initialize:function(){for(var e=this,t=arguments.length,i=new Array(t),o=0;o<t;o++)i[o]=arguments[o];(0,n.default)(c.default.prototype.initialize,this,i),this._dataTypes=(0,s.default)(this._dataTypes),(0,r.default)(this._dataTypes).forEach(function(t){e._dataTypes[t].set&&(e._dataTypes[t].set=e._dataTypes[t].set.bind(e))}),this.on("change",function(t,r){e.parent&&e.parent.trigger("change:".concat(e.getNamespace().toLowerCase()),e.parent,e,r)})},inspect:function(e){return u.default.inspect((0,o.default)(this.serialize({props:!0,session:!0,derived:!0}),"boundedStorage","unboundedStorage","config","logger","webex","parent"),{depth:e})},request:function(){var e;return(e=this.webex).request.apply(e,arguments)},upload:function(){var e;return(e=this.webex).upload.apply(e,arguments)},when:function(e){for(var t=this,r=arguments.length,n=new Array(r>1?r-1:0),o=1;o<r;o++)n[o-1]=arguments[o];if(n&&n.length>0)throw new Error("#when() does not accept a callback, you must attach to its promise");return new i.default(function(r){t.once(e,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return r(t)})})},_filterSetParameters:function(e,t,r){var n;return(0,a.default)(e)||null===e?(n=e,r=t):(n={})[e]=t,[n,r=r||{}]}}),d=f;exports.default=d;
},{"@babel/runtime-corejs2/core-js/object/define-property":"eIqn","@babel/runtime-corejs2/helpers/interopRequireDefault":"LXwi","@babel/runtime-corejs2/core-js/object/keys":"d81a","@babel/runtime-corejs2/core-js/reflect/apply":"Lf7Q","@babel/runtime-corejs2/core-js/promise":"eOfj","lodash/omit":"J2GV","lodash/isObject":"u9vI","lodash/cloneDeep":"Y0zI","util":"gfUn","ampersand-state":"aEDA","./storage":"FS8s"}],"sn5r":[function(require,module,exports) {
require("../../modules/es6.symbol"),module.exports=require("../../modules/_core").Object.getOwnPropertySymbols;
},{"../../modules/es6.symbol":"BwWG","../../modules/_core":"RosZ"}],"DovH":[function(require,module,exports) {
module.exports=require("core-js/library/fn/object/get-own-property-symbols");
},{"core-js/library/fn/object/get-own-property-symbols":"sn5r"}],"iQRy":[function(require,module,exports) {
var e=require("./_object-gopn"),r=require("./_object-gops"),o=require("./_an-object"),t=require("./_global").Reflect;module.exports=t&&t.ownKeys||function(t){var c=e.f(o(t)),n=r.f;return n?c.concat(n(t)):c};
},{"./_object-gopn":"RVU8","./_object-gops":"idNb","./_an-object":"a1lZ","./_global":"j4Jx"}],"gD0s":[function(require,module,exports) {
var e=require("./_export"),r=require("./_own-keys"),t=require("./_to-iobject"),o=require("./_object-gopd"),i=require("./_create-property");e(e.S,"Object",{getOwnPropertyDescriptors:function(e){for(var u,c,n=t(e),p=o.f,q=r(n),_={},a=0;q.length>a;)void 0!==(c=p(n,u=q[a++]))&&i(_,u,c);return _}});
},{"./_export":"mBzY","./_own-keys":"iQRy","./_to-iobject":"J15f","./_object-gopd":"Wxid","./_create-property":"tjeV"}],"XlLO":[function(require,module,exports) {
require("../../modules/es7.object.get-own-property-descriptors"),module.exports=require("../../modules/_core").Object.getOwnPropertyDescriptors;
},{"../../modules/es7.object.get-own-property-descriptors":"gD0s","../../modules/_core":"RosZ"}],"Hv1v":[function(require,module,exports) {
module.exports=require("core-js/library/fn/object/get-own-property-descriptors");
},{"core-js/library/fn/object/get-own-property-descriptors":"XlLO"}],"zFku":[function(require,module,exports) {
var e=require("./_export");e(e.S+e.F*!require("./_descriptors"),"Object",{defineProperties:require("./_object-dps")});
},{"./_export":"mBzY","./_descriptors":"wB3W","./_object-dps":"k7Gj"}],"gsg4":[function(require,module,exports) {
require("../../modules/es6.object.define-properties");var e=require("../../modules/_core").Object;module.exports=function(r,o){return e.defineProperties(r,o)};
},{"../../modules/es6.object.define-properties":"zFku","../../modules/_core":"RosZ"}],"CpmN":[function(require,module,exports) {
module.exports=require("core-js/library/fn/object/define-properties");
},{"core-js/library/fn/object/define-properties":"gsg4"}],"bnGV":[function(require,module,exports) {
var r=require("../../modules/_core"),i=r.JSON||(r.JSON={stringify:JSON.stringify});module.exports=function(r){return i.stringify.apply(i,arguments)};
},{"../../modules/_core":"RosZ"}],"E09K":[function(require,module,exports) {
module.exports=require("core-js/library/fn/json/stringify");
},{"core-js/library/fn/json/stringify":"bnGV"}],"KZgA":[function(require,module,exports) {
var e=require("./_export"),r=require("./_object-gopd").f,t=require("./_an-object");e(e.S,"Reflect",{deleteProperty:function(e,o){var u=r(t(e),o);return!(u&&!u.configurable)&&delete e[o]}});
},{"./_export":"mBzY","./_object-gopd":"Wxid","./_an-object":"a1lZ"}],"gdTP":[function(require,module,exports) {
require("../../modules/es6.reflect.delete-property"),module.exports=require("../../modules/_core").Reflect.deleteProperty;
},{"../../modules/es6.reflect.delete-property":"KZgA","../../modules/_core":"RosZ"}],"CFlp":[function(require,module,exports) {
module.exports=require("core-js/library/fn/reflect/delete-property");
},{"core-js/library/fn/reflect/delete-property":"gdTP"}],"m8Rg":[function(require,module,exports) {
var e=require("./_baseUnset");function r(r,n){return null==r||e(r,n)}module.exports=r;
},{"./_baseUnset":"HylV"}],"mVJO":[function(require,module,exports) {
var r=require("./_assignValue"),e=require("./_castPath"),t=require("./_isIndex"),i=require("./isObject"),o=require("./_toKey");function u(u,n,a,_){if(!i(u))return u;for(var s=-1,v=(n=e(n,u)).length,c=v-1,f=u;null!=f&&++s<v;){var l=o(n[s]),q=a;if("__proto__"===l||"constructor"===l||"prototype"===l)return u;if(s!=c){var d=f[l];void 0===(q=_?_(d,l,f):void 0)&&(q=i(d)?d:t(n[s+1])?[]:{})}r(f,l,q),f=f[l]}return u}module.exports=u;
},{"./_assignValue":"pS95","./_castPath":"Tnr5","./_isIndex":"AGrE","./isObject":"u9vI","./_toKey":"RQ0L"}],"VHgz":[function(require,module,exports) {
var e=require("./_baseSet");function r(r,u,n){return null==r?r:e(r,u,n)}module.exports=r;
},{"./_baseSet":"mVJO"}],"Tdbd":[function(require,module,exports) {
var e=require("./_baseAssignValue"),i=require("./eq");function r(r,o,u){(void 0===u||i(r[o],u))&&(void 0!==u||o in r)||e(r,o,u)}module.exports=r;
},{"./_baseAssignValue":"d05L","./eq":"LIpy"}],"vW3g":[function(require,module,exports) {
function o(o,t){if(("constructor"!==t||"function"!=typeof o[t])&&"__proto__"!=t)return o[t]}module.exports=o;
},{}],"s5pp":[function(require,module,exports) {
var e=require("./_copyObject"),r=require("./keysIn");function u(u){return e(u,r(u))}module.exports=u;
},{"./_copyObject":"dtkN","./keysIn":"UACB"}],"XsjK":[function(require,module,exports) {
var e=require("./_assignMergeValue"),r=require("./_cloneBuffer"),i=require("./_cloneTypedArray"),u=require("./_copyArray"),q=require("./_initCloneObject"),s=require("./isArguments"),t=require("./isArray"),a=require("./isArrayLikeObject"),n=require("./isBuffer"),o=require("./isFunction"),c=require("./isObject"),l=require("./isPlainObject"),f=require("./isTypedArray"),y=require("./_safeGet"),d=require("./toPlainObject");function v(v,A,_,b,j,O,g){var p=y(v,_),m=y(A,_),B=g.get(m);if(B)e(v,_,B);else{var P=O?O(p,m,_+"",v,A,g):void 0,T=void 0===P;if(T){var k=t(m),x=!k&&n(m),C=!k&&!x&&f(m);P=m,k||x||C?t(p)?P=p:a(p)?P=u(p):x?(T=!1,P=r(m,!0)):C?(T=!1,P=i(m,!0)):P=[]:l(m)||s(m)?(P=p,s(p)?P=d(p):c(p)&&!o(p)||(P=q(m))):T=!1}T&&(g.set(m,P),j(P,m,b,O,g),g.delete(m)),e(v,_,P)}}module.exports=v;
},{"./_assignMergeValue":"Tdbd","./_cloneBuffer":"s4SJ","./_cloneTypedArray":"jXAN","./_copyArray":"Mkgn","./_initCloneObject":"qE2F","./isArguments":"tilN","./isArray":"p0cq","./isArrayLikeObject":"FwQQ","./isBuffer":"iyC2","./isFunction":"dRuq","./isObject":"u9vI","./isPlainObject":"ES04","./isTypedArray":"kwIb","./_safeGet":"vW3g","./toPlainObject":"s5pp"}],"WqwZ":[function(require,module,exports) {
var e=require("./_Stack"),r=require("./_assignMergeValue"),i=require("./_baseFor"),u=require("./_baseMergeDeep"),s=require("./isObject"),a=require("./keysIn"),n=require("./_safeGet");function o(q,t,_,c,f){q!==t&&i(t,function(i,a){if(f||(f=new e),s(i))u(q,t,a,_,o,c,f);else{var v=c?c(n(q,a),i,a+"",q,t,f):void 0;void 0===v&&(v=i),r(q,a,v)}},a)}module.exports=o;
},{"./_Stack":"I84N","./_assignMergeValue":"Tdbd","./_baseFor":"mduf","./_baseMergeDeep":"XsjK","./isObject":"u9vI","./keysIn":"UACB","./_safeGet":"vW3g"}],"yubd":[function(require,module,exports) {
var e=require("./_baseMerge"),r=require("./_createAssigner"),i=r(function(r,i,s){e(r,i,s)});module.exports=i;
},{"./_baseMerge":"WqwZ","./_createAssigner":"gmQJ"}],"U5YY":[function(require,module,exports) {
var e=require("./_baseGet");function r(r,o,u){var i=null==r?void 0:e(r,o);return void 0===i?u:i}module.exports=r;
},{"./_baseGet":"yeiR"}],"Cy4E":[function(require,module,exports) {
var e=require("./_baseMerge"),r=require("./isObject");function t(i,u,o,s,d,n){return r(i)&&r(u)&&(n.set(u,i),e(i,u,void 0,t,n),n.delete(u)),i}module.exports=t;
},{"./_baseMerge":"WqwZ","./isObject":"u9vI"}],"XSTw":[function(require,module,exports) {
var e=require("./_baseMerge"),r=require("./_createAssigner"),i=r(function(r,i,s,u){e(r,i,s,u)});module.exports=i;
},{"./_baseMerge":"WqwZ","./_createAssigner":"gmQJ"}],"rj5W":[function(require,module,exports) {
var e=require("./_apply"),r=require("./_baseRest"),u=require("./_customDefaultsMerge"),i=require("./mergeWith"),t=r(function(r){return r.push(void 0,u),e(i,void 0,r)});module.exports=t;
},{"./_apply":"aZQm","./_baseRest":"f4Fl","./_customDefaultsMerge":"Cy4E","./mergeWith":"XSTw"}],"s7tC":[function(require,module,exports) {
var e=require("./_object-gopd"),r=require("./_export"),t=require("./_an-object");r(r.S,"Reflect",{getOwnPropertyDescriptor:function(r,o){return e.f(t(r),o)}});
},{"./_object-gopd":"Wxid","./_export":"mBzY","./_an-object":"a1lZ"}],"xFBi":[function(require,module,exports) {
require("../../modules/es6.reflect.get-own-property-descriptor"),module.exports=require("../../modules/_core").Reflect.getOwnPropertyDescriptor;
},{"../../modules/es6.reflect.get-own-property-descriptor":"s7tC","../../modules/_core":"RosZ"}],"ynE5":[function(require,module,exports) {
module.exports=require("core-js/library/fn/reflect/get-own-property-descriptor");
},{"core-js/library/fn/reflect/get-own-property-descriptor":"xFBi"}],"gKXf":[function(require,module,exports) {
var e=require("./_object-dp"),r=require("./_export"),t=require("./_an-object"),i=require("./_to-primitive");r(r.S+r.F*require("./_fails")(function(){Reflect.defineProperty(e.f({},1,{value:1}),1,{value:2})}),"Reflect",{defineProperty:function(r,u,f){t(r),u=i(u,!0),t(f);try{return e.f(r,u,f),!0}catch(n){return!1}}});
},{"./_object-dp":"CgJ2","./_export":"mBzY","./_an-object":"a1lZ","./_to-primitive":"peLQ","./_fails":"Shu3"}],"IWkH":[function(require,module,exports) {
require("../../modules/es6.reflect.define-property"),module.exports=require("../../modules/_core").Reflect.defineProperty;
},{"../../modules/es6.reflect.define-property":"gKXf","../../modules/_core":"RosZ"}],"Gn7E":[function(require,module,exports) {
module.exports=require("core-js/library/fn/reflect/define-property");
},{"core-js/library/fn/reflect/define-property":"IWkH"}],"VRhk":[function(require,module,exports) {
var e=require("./_descriptors"),r=require("./_object-keys"),t=require("./_to-iobject"),o=require("./_object-pie").f;module.exports=function(u){return function(i){for(var c,n=t(i),s=r(n),f=s.length,l=0,p=[];f>l;)c=s[l++],e&&!o.call(n,c)||p.push(u?[c,n[c]]:n[c]);return p}};
},{"./_descriptors":"wB3W","./_object-keys":"fkxp","./_to-iobject":"J15f","./_object-pie":"grnH"}],"UTxp":[function(require,module,exports) {
var r=require("./_export"),e=require("./_object-to-array")(!1);r(r.S,"Object",{values:function(r){return e(r)}});
},{"./_export":"mBzY","./_object-to-array":"VRhk"}],"oi4Q":[function(require,module,exports) {
require("../../modules/es7.object.values"),module.exports=require("../../modules/_core").Object.values;
},{"../../modules/es7.object.values":"UTxp","../../modules/_core":"RosZ"}],"vh4c":[function(require,module,exports) {
module.exports=require("core-js/library/fn/object/values");
},{"core-js/library/fn/object/values":"oi4Q"}],"Lgs6":[function(require,module,exports) {
var e=require("./_baseGet"),r=require("./_baseSet"),t=require("./_castPath");function a(a,u,i){for(var n=-1,o=u.length,s={};++n<o;){var q=u[n],v=e(a,q);i(v,q)&&r(s,t(q,a),v)}return s}module.exports=a;
},{"./_baseGet":"yeiR","./_baseSet":"mVJO","./_castPath":"Tnr5"}],"Gsi0":[function(require,module,exports) {
function n(n,e){return null!=n&&e in Object(n)}module.exports=n;
},{}],"Q8vl":[function(require,module,exports) {
var e=require("./_baseHasIn"),r=require("./_hasPath");function u(u,a){return null!=u&&r(u,a,e)}module.exports=u;
},{"./_baseHasIn":"Gsi0","./_hasPath":"E1jM"}],"pmgD":[function(require,module,exports) {
var r=require("./_basePickBy"),e=require("./hasIn");function n(n,u){return r(n,u,function(r,u){return e(n,u)})}module.exports=n;
},{"./_basePickBy":"Lgs6","./hasIn":"Q8vl"}],"N5Tq":[function(require,module,exports) {
var e=require("./_basePick"),r=require("./_flatRest"),u=r(function(r,u){return null==r?{}:e(r,u)});module.exports=u;
},{"./_basePick":"pmgD","./_flatRest":"cbLE"}],"XxCV":[function(require,module,exports) {
var r=require("./_export"),e=require("./_defined"),i=require("./_fails"),n=require("./_string-ws"),t="["+n+"]",u="",o=RegExp("^"+t+t+"*"),p=RegExp(t+t+"*$"),a=function(e,t,o){var p={},a=i(function(){return!!n[e]()||u[e]()!=u}),f=p[e]=a?t(c):n[e];o&&(p[o]=f),r(r.P+r.F*a,"String",p)},c=a.trim=function(r,i){return r=String(e(r)),1&i&&(r=r.replace(o,"")),2&i&&(r=r.replace(p,"")),r};module.exports=a;
},{"./_export":"mBzY","./_defined":"iaKk","./_fails":"Shu3","./_string-ws":"mTIH"}],"NLpG":[function(require,module,exports) {
var r=require("./_global").parseInt,e=require("./_string-trim").trim,t=require("./_string-ws"),i=/^[-+]?0[xX]/;module.exports=8!==r(t+"08")||22!==r(t+"0x16")?function(t,n){var s=e(String(t),3);return r(s,n>>>0||(i.test(s)?16:10))}:r;
},{"./_global":"j4Jx","./_string-trim":"XxCV","./_string-ws":"mTIH"}],"ADOb":[function(require,module,exports) {
var r=require("./_export"),e=require("./_parse-int");r(r.G+r.F*(parseInt!=e),{parseInt:e});
},{"./_export":"mBzY","./_parse-int":"NLpG"}],"Fuip":[function(require,module,exports) {
require("../modules/es6.parse-int"),module.exports=require("../modules/_core").parseInt;
},{"../modules/es6.parse-int":"ADOb","../modules/_core":"RosZ"}],"TiYh":[function(require,module,exports) {
module.exports=require("core-js/library/fn/parse-int");
},{"core-js/library/fn/parse-int":"Fuip"}],"xT6v":[function(require,module,exports) {
"use strict";var t=require("@babel/runtime-corejs2/core-js/reflect/construct"),e=require("@babel/runtime-corejs2/core-js/object/define-property"),r=require("@babel/runtime-corejs2/helpers/interopRequireDefault");e(exports,"__esModule",{value:!0}),exports.default=c;var n=r(require("@babel/runtime-corejs2/core-js/object/assign")),u=r(require("@babel/runtime-corejs2/core-js/parse-int")),i=r(require("@babel/runtime-corejs2/helpers/classCallCheck")),a=r(require("@babel/runtime-corejs2/helpers/inherits")),f=r(require("@babel/runtime-corejs2/helpers/possibleConstructorReturn")),o=r(require("@babel/runtime-corejs2/helpers/getPrototypeOf"));function l(e){var r=s();return function(){var n,u=(0,o.default)(e);if(r){var i=(0,o.default)(this).constructor;n=t(u,arguments,i)}else n=u.apply(this,arguments);return(0,f.default)(this,n)}}function s(){if("undefined"==typeof Reflect||!t)return!1;if(t.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(t(Boolean,[],function(){})),!0}catch(e){return!1}}function c(t){var e=function(t){(0,a.default)(r,t);var e=l(r);function r(){return(0,i.default)(this,r),e.apply(this,arguments)}return r}(t),r=function(t){(0,a.default)(r,t);var e=l(r);function r(){return(0,i.default)(this,r),e.apply(this,arguments)}return r}(t),f=function(t){(0,a.default)(r,t);var e=l(r);function r(){return(0,i.default)(this,r),e.apply(this,arguments)}return r}(r),o=function(t){(0,a.default)(r,t);var e=l(r);function r(){return(0,i.default)(this,r),e.apply(this,arguments)}return r}(r),s=function(t){(0,a.default)(r,t);var e=l(r);function r(){return(0,i.default)(this,r),e.apply(this,arguments)}return r}(r),c=function(t){(0,a.default)(r,t);var e=l(r);function r(){return(0,i.default)(this,r),e.apply(this,arguments)}return r}(r),d=function(t){(0,a.default)(r,t);var e=l(r);function r(){return(0,i.default)(this,r),e.apply(this,arguments)}return r}(r),p=function(t){(0,a.default)(r,t);var e=l(r);function r(){return(0,i.default)(this,r),e.apply(this,arguments)}return r}(r),h=function(t){(0,a.default)(r,t);var e=l(r);function r(){return(0,i.default)(this,r),e.apply(this,arguments)}return r}(r),y=function(t){(0,a.default)(r,t);var e=l(r);function r(){return(0,i.default)(this,r),e.apply(this,arguments)}return r}(r),v=function(t){(0,a.default)(r,t);var e=l(r);function r(){return(0,i.default)(this,r),e.apply(this,arguments)}return r}(r),b=function(t){(0,a.default)(r,t);var e=l(r);function r(){return(0,i.default)(this,r),e.apply(this,arguments)}return r}(r),q=function(t){(0,a.default)(r,t);var e=l(r);function r(){return(0,i.default)(this,r),e.apply(this,arguments)}return r}(r),j=function(t){(0,a.default)(r,t);var e=l(r);function r(){return(0,i.default)(this,r),e.apply(this,arguments)}return r}(r),m=function(t){(0,a.default)(r,t);var e=l(r);function r(){return(0,i.default)(this,r),e.apply(this,arguments)}return r}(r),R=function(t){(0,a.default)(r,t);var e=l(r);function r(){return(0,i.default)(this,r),e.apply(this,arguments)}return r}(r),g=function(t){(0,a.default)(r,t);var e=l(r);function r(){return(0,i.default)(this,r),e.apply(this,arguments)}return r}(r),N=function(t){(0,a.default)(r,t);var e=l(r);function r(){return(0,i.default)(this,r),e.apply(this,arguments)}return r}(r),C=function(t){(0,a.default)(r,t);var e=l(r);function r(){return(0,i.default)(this,r),e.apply(this,arguments)}return r}(r),S=function(t){(0,a.default)(r,t);var e=l(r);function r(){return(0,i.default)(this,r),e.apply(this,arguments)}return r}(r),T=function(t){(0,a.default)(r,t);var e=l(r);function r(){return(0,i.default)(this,r),e.apply(this,arguments)}return r}(t),x=function(t){(0,a.default)(r,t);var e=l(r);function r(){return(0,i.default)(this,r),e.apply(this,arguments)}return r}(T),P=function(t){(0,a.default)(r,t);var e=l(r);function r(){return(0,i.default)(this,r),e.apply(this,arguments)}return r}(T),w=function(t){(0,a.default)(r,t);var e=l(r);function r(){return(0,i.default)(this,r),e.apply(this,arguments)}return r}(T),B=function(t){(0,a.default)(r,t);var e=l(r);function r(){return(0,i.default)(this,r),e.apply(this,arguments)}return r}(T),E=function(t){(0,a.default)(r,t);var e=l(r);function r(){return(0,i.default)(this,r),e.apply(this,arguments)}return r}(T);(0,n.default)(t,{0:e,NetworkOrCORSError:e,400:r,BadRequest:r,401:f,Unauthorized:f,402:o,PaymentRequired:o,403:s,Forbidden:s,404:c,NotFound:c,405:d,MethodNotAllowed:d,406:p,NotAcceptable:p,407:h,ProxyAuthenticationRequired:h,408:y,RequestTimeout:y,409:v,Conflict:v,410:b,Gone:b,411:q,LengthRequired:q,412:j,PreconditionFailed:j,413:m,RequestEntityTooLarge:m,414:R,RequestUriTooLong:R,415:g,UnsupportedMediaType:g,416:N,RequestRangeNotSatisfiable:N,417:C,ExpectationFailed:C,429:S,TooManyRequests:S,500:T,InternalServerError:T,501:x,NotImplemented:x,502:P,BadGateway:P,503:w,ServiceUnavailable:w,504:B,GatewayTimeout:B,505:E,HttpVersionNotSupported:E,select:function(e){if(null==e)return t;e=e.statusCode||e;var r=t[e];return r||(e="".concat(e.toString().split("").shift(),"00"),e=(0,u.default)(e,10),t[e]||t)}})}
},{"@babel/runtime-corejs2/core-js/reflect/construct":"vZQy","@babel/runtime-corejs2/core-js/object/define-property":"eIqn","@babel/runtime-corejs2/helpers/interopRequireDefault":"LXwi","@babel/runtime-corejs2/core-js/object/assign":"h2Mz","@babel/runtime-corejs2/core-js/parse-int":"TiYh","@babel/runtime-corejs2/helpers/classCallCheck":"Tzth","@babel/runtime-corejs2/helpers/inherits":"CdTE","@babel/runtime-corejs2/helpers/possibleConstructorReturn":"w9GY","@babel/runtime-corejs2/helpers/getPrototypeOf":"Qxr1"}],"n54q":[function(require,module,exports) {
"use strict";var e=require("@babel/runtime-corejs2/core-js/reflect/construct"),r=require("@babel/runtime-corejs2/core-js/object/define-property"),t=require("@babel/runtime-corejs2/helpers/interopRequireDefault");r(exports,"__esModule",{value:!0}),exports.default=void 0;var u=t(require("@babel/runtime-corejs2/core-js/object/define-properties")),a=t(require("@babel/runtime-corejs2/core-js/object/values")),s=t(require("@babel/runtime-corejs2/core-js/json/stringify")),l=t(require("@babel/runtime-corejs2/helpers/typeof")),o=t(require("@babel/runtime-corejs2/helpers/classCallCheck")),i=t(require("@babel/runtime-corejs2/helpers/createClass")),n=t(require("@babel/runtime-corejs2/helpers/inherits")),c=t(require("@babel/runtime-corejs2/helpers/possibleConstructorReturn")),b=t(require("@babel/runtime-corejs2/helpers/getPrototypeOf")),f=t(require("@babel/runtime-corejs2/helpers/defineProperty")),p=t(require("lodash/pick")),d=require("@webex/common"),h=t(require("./http-error-subtypes"));function m(r){var t=v();return function(){var u,a=(0,b.default)(r);if(t){var s=(0,b.default)(this).constructor;u=e(a,arguments,s)}else u=a.apply(this,arguments);return(0,c.default)(this,u)}}function v(){if("undefined"==typeof Reflect||!e)return!1;if(e.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(e(Boolean,[],function(){})),!0}catch(r){return!1}}var j=function(e){(0,n.default)(t,e);var r=m(t);function t(){return(0,o.default)(this,t),r.apply(this,arguments)}return(0,i.default)(t,[{key:"parse",value:function(e){var r,t=e.body;switch((0,l.default)(t)){case"string":try{t=JSON.parse(t),r=this.parseObject(t)}catch(a){r=t}break;case"object":r=this.parseObject(t)}return r||(r=this.defaultMessage),(0,u.default)(this,{body:{enumerable:!1,value:t},httpVersion:{enumerable:!1,value:e.httpVersion},headers:{enumerable:!1,value:e.headers||{}},rawHeaders:{enumerable:!1,value:e.rawHeaders||[]},trailers:{enumerable:!1,value:e.trailers||{}},rawTrailers:{enumerable:!1,value:e.rawTrailers||[]},method:{enumerable:!1,value:e.method},url:{enumerable:!1,value:e.url},statusCode:{enumerable:!1,value:e.statusCode},statusMessage:{enumerable:!1,value:e.statusMessage},socket:{enumerable:!1,value:e.socket},_res:{enumerable:!1,value:e}}),r}},{key:"parseObject",value:function(e){var r=(0,a.default)((0,p.default)(e,t.errorKeys));if(0===r.length)return(0,s.default)(e,null,2);var u=r[0];return"object"===(0,l.default)(u)?this.parseObject(u):u}}]),t}(d.Exception);exports.default=j,(0,f.default)(j,"errorKeys",["error","errorString","response","errorResponse","message","msg"]),(0,f.default)(j,"defaultMessage","An error was received while trying to fulfill the request"),(0,h.default)(j),j.makeSubTypes=h.default;
},{"@babel/runtime-corejs2/core-js/reflect/construct":"vZQy","@babel/runtime-corejs2/core-js/object/define-property":"eIqn","@babel/runtime-corejs2/helpers/interopRequireDefault":"LXwi","@babel/runtime-corejs2/core-js/object/define-properties":"CpmN","@babel/runtime-corejs2/core-js/object/values":"vh4c","@babel/runtime-corejs2/core-js/json/stringify":"E09K","@babel/runtime-corejs2/helpers/typeof":"hVHy","@babel/runtime-corejs2/helpers/classCallCheck":"Tzth","@babel/runtime-corejs2/helpers/createClass":"xM5U","@babel/runtime-corejs2/helpers/inherits":"CdTE","@babel/runtime-corejs2/helpers/possibleConstructorReturn":"w9GY","@babel/runtime-corejs2/helpers/getPrototypeOf":"Qxr1","@babel/runtime-corejs2/helpers/defineProperty":"n5FU","lodash/pick":"N5Tq","@webex/common":"UeF0","./http-error-subtypes":"xT6v"}],"Zmdh":[function(require,module,exports) {
"use strict";var e=require("@babel/runtime-corejs2/core-js/object/define-property"),r=require("@babel/runtime-corejs2/helpers/interopRequireDefault");e(exports,"__esModule",{value:!0}),exports.default=void 0;var t=r(require("@babel/runtime-corejs2/core-js/object/keys")),u=r(require("@babel/runtime-corejs2/core-js/reflect/define-property")),o=r(require("@babel/runtime-corejs2/core-js/json/stringify")),n=r(require("@babel/runtime-corejs2/core-js/promise")),l=r(require("@babel/runtime-corejs2/helpers/classCallCheck")),s=r(require("@babel/runtime-corejs2/helpers/createClass")),a=r(require("lodash/get")),i=function(){function e(r){var o=this;(0,l.default)(this,e),r&&(0,t.default)(r).forEach(function(e){var t=r[e];(0,u.default)(o,e,{enumerable:!0,value:t})})}return(0,s.default)(e,[{key:"logOptions",value:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0],(0,a.default)(this,"webex.logger",console)}},{key:"onRequest",value:function(e){return n.default.resolve(e)}},{key:"onRequestError",value:function(e,r){return n.default.reject(r)}},{key:"onResponse",value:function(e,r){return n.default.resolve(r)}},{key:"onResponseError",value:function(e,r){return n.default.reject(r)}}],[{key:"create",value:function(){throw new Error("`Interceptor.create()` must be defined")}}]),e}();exports.default=i;
},{"@babel/runtime-corejs2/core-js/object/define-property":"eIqn","@babel/runtime-corejs2/helpers/interopRequireDefault":"LXwi","@babel/runtime-corejs2/core-js/object/keys":"d81a","@babel/runtime-corejs2/core-js/reflect/define-property":"Gn7E","@babel/runtime-corejs2/core-js/json/stringify":"E09K","@babel/runtime-corejs2/core-js/promise":"eOfj","@babel/runtime-corejs2/helpers/classCallCheck":"Tzth","@babel/runtime-corejs2/helpers/createClass":"xM5U","lodash/get":"U5YY"}],"EnyY":[function(require,module,exports) {
"use strict";var e=require("@babel/runtime-corejs2/core-js/reflect/construct"),r=require("@babel/runtime-corejs2/core-js/object/define-property"),t=require("@babel/runtime-corejs2/helpers/interopRequireDefault");r(exports,"__esModule",{value:!0}),exports.default=void 0;var u=t(require("@babel/runtime-corejs2/core-js/object/define-properties")),o=t(require("@babel/runtime-corejs2/core-js/promise")),s=t(require("@babel/runtime-corejs2/helpers/classCallCheck")),i=t(require("@babel/runtime-corejs2/helpers/createClass")),n=t(require("@babel/runtime-corejs2/helpers/assertThisInitialized")),l=t(require("@babel/runtime-corejs2/helpers/inherits")),a=t(require("@babel/runtime-corejs2/helpers/possibleConstructorReturn")),c=t(require("@babel/runtime-corejs2/helpers/getPrototypeOf")),f=t(require("../http-error")),d=t(require("../lib/interceptor"));function b(r){var t=p();return function(){var u,o=(0,c.default)(r);if(t){var s=(0,c.default)(this).constructor;u=e(o,arguments,s)}else u=o.apply(this,arguments);return(0,a.default)(this,u)}}function p(){if("undefined"==typeof Reflect||!e)return!1;if(e.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(e(Boolean,[],function(){})),!0}catch(r){return!1}}var h=2000002,j=function(e){(0,l.default)(t,e);var r=b(t);function t(e,o){var i;(0,s.default)(this,t),i=r.call(this,e);var l=o&&(o.error||o.ErrorConstructor)||f.default;return(0,u.default)((0,n.default)(i),{ErrorConstructor:{value:l}}),i}return(0,i.default)(t,[{key:"onResponse",value:function(e,r){if(r.statusCode){if(r.statusCode<400)return o.default.resolve(r);if(404===r.statusCode&&r.body&&r.body.errorCode===h)return o.default.resolve(r)}return o.default.reject(new(this.ErrorConstructor.select(r.statusCode))(r))}}],[{key:"create",value:function(e){return new t(this,e)}}]),t}(d.default);exports.default=j;
},{"@babel/runtime-corejs2/core-js/reflect/construct":"vZQy","@babel/runtime-corejs2/core-js/object/define-property":"eIqn","@babel/runtime-corejs2/helpers/interopRequireDefault":"LXwi","@babel/runtime-corejs2/core-js/object/define-properties":"CpmN","@babel/runtime-corejs2/core-js/promise":"eOfj","@babel/runtime-corejs2/helpers/classCallCheck":"Tzth","@babel/runtime-corejs2/helpers/createClass":"xM5U","@babel/runtime-corejs2/helpers/assertThisInitialized":"YqR0","@babel/runtime-corejs2/helpers/inherits":"CdTE","@babel/runtime-corejs2/helpers/possibleConstructorReturn":"w9GY","@babel/runtime-corejs2/helpers/getPrototypeOf":"Qxr1","../http-error":"n54q","../lib/interceptor":"Zmdh"}],"jYt2":[function(require,module,exports) {
"use strict";module.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var t={},e=Symbol("test"),r=Object(e);if("string"==typeof e)return!1;if("[object Symbol]"!==Object.prototype.toString.call(e))return!1;if("[object Symbol]"!==Object.prototype.toString.call(r))return!1;for(e in t[e]=42,t)return!1;if("function"==typeof Object.keys&&0!==Object.keys(t).length)return!1;if("function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(t).length)return!1;var o=Object.getOwnPropertySymbols(t);if(1!==o.length||o[0]!==e)return!1;if(!Object.prototype.propertyIsEnumerable.call(t,e))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var n=Object.getOwnPropertyDescriptor(t,e);if(42!==n.value||!0!==n.enumerable)return!1}return!0};
},{}],"NS5K":[function(require,module,exports) {
"use strict";var o="undefined"!=typeof Symbol&&Symbol,e=require("./shams");module.exports=function(){return"function"==typeof o&&("function"==typeof Symbol&&("symbol"==typeof o("foo")&&("symbol"==typeof Symbol("bar")&&e())))};
},{"./shams":"jYt2"}],"B6OE":[function(require,module,exports) {
"use strict";var t="Function.prototype.bind called on incompatible ",n=Array.prototype.slice,o=Object.prototype.toString,r="[object Function]";module.exports=function(e){var p=this;if("function"!=typeof p||o.call(p)!==r)throw new TypeError(t+p);for(var i,c=n.call(arguments,1),a=Math.max(0,p.length-c.length),l=[],u=0;u<a;u++)l.push("$"+u);if(i=Function("binder","return function ("+l.join(",")+"){ return binder.apply(this,arguments); }")(function(){if(this instanceof i){var t=p.apply(this,c.concat(n.call(arguments)));return Object(t)===t?t:this}return p.apply(e,c.concat(n.call(arguments)))}),p.prototype){var y=function(){};y.prototype=p.prototype,i.prototype=new y,y.prototype=null}return i};
},{}],"TiwC":[function(require,module,exports) {
"use strict";var e=require("./implementation");module.exports=Function.prototype.bind||e;
},{"./implementation":"B6OE"}],"ar57":[function(require,module,exports) {
"use strict";var t=require("function-bind");module.exports=t.call(Function.call,Object.prototype.hasOwnProperty);
},{"function-bind":"TiwC"}],"LiLl":[function(require,module,exports) {
"use strict";var r,t=SyntaxError,e=Function,o=TypeError,n=function(r){try{return e('"use strict"; return ('+r+").constructor;")()}catch(t){}},a=Object.getOwnPropertyDescriptor;if(a)try{a({},"")}catch(U){a=null}var y=function(){throw new o},p=a?function(){try{return arguments.callee,y}catch(r){try{return a(arguments,"callee").get}catch(t){return y}}}():y,i=require("has-symbols")(),f=Object.getPrototypeOf||function(r){return r.__proto__},c={},u="undefined"==typeof Uint8Array?r:f(Uint8Array),l={"%AggregateError%":"undefined"==typeof AggregateError?r:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?r:ArrayBuffer,"%ArrayIteratorPrototype%":i?f([][Symbol.iterator]()):r,"%AsyncFromSyncIteratorPrototype%":r,"%AsyncFunction%":c,"%AsyncGenerator%":c,"%AsyncGeneratorFunction%":c,"%AsyncIteratorPrototype%":c,"%Atomics%":"undefined"==typeof Atomics?r:Atomics,"%BigInt%":"undefined"==typeof BigInt?r:BigInt,"%Boolean%":Boolean,"%DataView%":"undefined"==typeof DataView?r:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":"undefined"==typeof Float32Array?r:Float32Array,"%Float64Array%":"undefined"==typeof Float64Array?r:Float64Array,"%FinalizationRegistry%":"undefined"==typeof FinalizationRegistry?r:FinalizationRegistry,"%Function%":e,"%GeneratorFunction%":c,"%Int8Array%":"undefined"==typeof Int8Array?r:Int8Array,"%Int16Array%":"undefined"==typeof Int16Array?r:Int16Array,"%Int32Array%":"undefined"==typeof Int32Array?r:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":i?f(f([][Symbol.iterator]())):r,"%JSON%":"object"==typeof JSON?JSON:r,"%Map%":"undefined"==typeof Map?r:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&i?f((new Map)[Symbol.iterator]()):r,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?r:Promise,"%Proxy%":"undefined"==typeof Proxy?r:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":"undefined"==typeof Reflect?r:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"==typeof Set?r:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&i?f((new Set)[Symbol.iterator]()):r,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?r:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":i?f(""[Symbol.iterator]()):r,"%Symbol%":i?Symbol:r,"%SyntaxError%":t,"%ThrowTypeError%":p,"%TypedArray%":u,"%TypeError%":o,"%Uint8Array%":"undefined"==typeof Uint8Array?r:Uint8Array,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?r:Uint8ClampedArray,"%Uint16Array%":"undefined"==typeof Uint16Array?r:Uint16Array,"%Uint32Array%":"undefined"==typeof Uint32Array?r:Uint32Array,"%URIError%":URIError,"%WeakMap%":"undefined"==typeof WeakMap?r:WeakMap,"%WeakRef%":"undefined"==typeof WeakRef?r:WeakRef,"%WeakSet%":"undefined"==typeof WeakSet?r:WeakSet},s=function r(t){var e;if("%AsyncFunction%"===t)e=n("async function () {}");else if("%GeneratorFunction%"===t)e=n("function* () {}");else if("%AsyncGeneratorFunction%"===t)e=n("async function* () {}");else if("%AsyncGenerator%"===t){var o=r("%AsyncGeneratorFunction%");o&&(e=o.prototype)}else if("%AsyncIteratorPrototype%"===t){var a=r("%AsyncGenerator%");a&&(e=f(a.prototype))}return l[t]=e,e},A={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},d=require("function-bind"),P=require("has"),g=d.call(Function.call,Array.prototype.concat),m=d.call(Function.apply,Array.prototype.splice),S=d.call(Function.call,String.prototype.replace),E=d.call(Function.call,String.prototype.slice),I=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,F=/\\(\\)?/g,h=function(r){var e=E(r,0,1),o=E(r,-1);if("%"===e&&"%"!==o)throw new t("invalid intrinsic syntax, expected closing `%`");if("%"===o&&"%"!==e)throw new t("invalid intrinsic syntax, expected opening `%`");var n=[];return S(r,I,function(r,t,e,o){n[n.length]=e?S(o,F,"$1"):t||r}),n},b=function(r,e){var n,a=r;if(P(A,a)&&(a="%"+(n=A[a])[0]+"%"),P(l,a)){var y=l[a];if(y===c&&(y=s(a)),void 0===y&&!e)throw new o("intrinsic "+r+" exists, but is not available. Please file an issue!");return{alias:n,name:a,value:y}}throw new t("intrinsic "+r+" does not exist!")};module.exports=function(r,e){if("string"!=typeof r||0===r.length)throw new o("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof e)throw new o('"allowMissing" argument must be a boolean');var n=h(r),y=n.length>0?n[0]:"",p=b("%"+y+"%",e),i=p.name,f=p.value,c=!1,u=p.alias;u&&(y=u[0],m(n,g([0,1],u)));for(var s=1,A=!0;s<n.length;s+=1){var d=n[s],S=E(d,0,1),I=E(d,-1);if(('"'===S||"'"===S||"`"===S||'"'===I||"'"===I||"`"===I)&&S!==I)throw new t("property names with quotes must have matching quotes");if("constructor"!==d&&A||(c=!0),P(l,i="%"+(y+="."+d)+"%"))f=l[i];else if(null!=f){if(!(d in f)){if(!e)throw new o("base intrinsic for "+r+" exists, but the property is not available.");return}if(a&&s+1>=n.length){var F=a(f,d);f=(A=!!F)&&"get"in F&&!("originalValue"in F.get)?F.get:f[d]}else A=P(f,d),f=f[d];A&&!c&&(l[i]=f)}}return f};
},{"has-symbols":"NS5K","function-bind":"TiwC","has":"ar57"}],"y9YS":[function(require,module,exports) {
"use strict";var e=require("function-bind"),t=require("get-intrinsic"),r=t("%Function.prototype.apply%"),n=t("%Function.prototype.call%"),l=t("%Reflect.apply%",!0)||e.call(n,r),o=t("%Object.getOwnPropertyDescriptor%",!0),p=t("%Object.defineProperty%",!0),u=t("%Math.max%");if(p)try{p({},"a",{value:1})}catch(c){p=null}module.exports=function(t){var r=l(e,n,arguments);o&&p&&(o(r,"length").configurable&&p(r,"length",{value:1+u(0,t.length-(arguments.length-1))}));return r};var a=function(){return l(e,r,arguments)};p?p(module.exports,"apply",{value:a}):module.exports.apply=a;
},{"function-bind":"TiwC","get-intrinsic":"LiLl"}],"tAiC":[function(require,module,exports) {
"use strict";var r=require("get-intrinsic"),t=require("./"),e=t(r("String.prototype.indexOf"));module.exports=function(i,n){var o=r(i,!!n);return"function"==typeof o&&e(i,".prototype.")>-1?t(o):o};
},{"get-intrinsic":"LiLl","./":"y9YS"}],"d9qy":[function(require,module,exports) {
var t="function"==typeof Map&&Map.prototype,e=Object.getOwnPropertyDescriptor&&t?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,n=t&&e&&"function"==typeof e.get?e.get:null,r=t&&Map.prototype.forEach,o="function"==typeof Set&&Set.prototype,i=Object.getOwnPropertyDescriptor&&o?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,u=o&&i&&"function"==typeof i.get?i.get:null,f=o&&Set.prototype.forEach,c="function"==typeof WeakMap&&WeakMap.prototype,l=c?WeakMap.prototype.has:null,p="function"==typeof WeakSet&&WeakSet.prototype,a=p?WeakSet.prototype.has:null,y="function"==typeof WeakRef&&WeakRef.prototype,b=y?WeakRef.prototype.deref:null,g=Boolean.prototype.valueOf,s=Object.prototype.toString,h=Function.prototype.toString,S=String.prototype.match,m="function"==typeof BigInt?BigInt.prototype.valueOf:null,j=Object.getOwnPropertySymbols,d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?Symbol.prototype.toString:null,v="function"==typeof Symbol&&"object"==typeof Symbol.iterator,O=Object.prototype.propertyIsEnumerable,w=("function"==typeof Reflect?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(t){return t.__proto__}:null),x=require("./util.inspect").custom,k=x&&A(x)?x:null,W="function"==typeof Symbol&&void 0!==Symbol.toStringTag?Symbol.toStringTag:null;function L(t,e,n){var r="double"===(n.quoteStyle||e)?'"':"'";return r+t+r}function M(t){return String(t).replace(/"/g,"&quot;")}function E(t){return!("[object Array]"!==D(t)||W&&"object"==typeof t&&W in t)}function q(t){return!("[object Date]"!==D(t)||W&&"object"==typeof t&&W in t)}function _(t){return!("[object RegExp]"!==D(t)||W&&"object"==typeof t&&W in t)}function I(t){return!("[object Error]"!==D(t)||W&&"object"==typeof t&&W in t)}function N(t){return!("[object String]"!==D(t)||W&&"object"==typeof t&&W in t)}function P(t){return!("[object Number]"!==D(t)||W&&"object"==typeof t&&W in t)}function T(t){return!("[object Boolean]"!==D(t)||W&&"object"==typeof t&&W in t)}function A(t){if(v)return t&&"object"==typeof t&&t instanceof Symbol;if("symbol"==typeof t)return!0;if(!t||"object"!=typeof t||!d)return!1;try{return d.call(t),!0}catch(e){}return!1}function R(t){if(!t||"object"!=typeof t||!m)return!1;try{return m.call(t),!0}catch(e){}return!1}module.exports=function t(e,o,i,c){var l=o||{};if(C(l,"quoteStyle")&&"single"!==l.quoteStyle&&"double"!==l.quoteStyle)throw new TypeError('option "quoteStyle" must be "single" or "double"');if(C(l,"maxStringLength")&&("number"==typeof l.maxStringLength?l.maxStringLength<0&&l.maxStringLength!==1/0:null!==l.maxStringLength))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var p=!C(l,"customInspect")||l.customInspect;if("boolean"!=typeof p&&"symbol"!==p)throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(C(l,"indent")&&null!==l.indent&&"\t"!==l.indent&&!(parseInt(l.indent,10)===l.indent&&l.indent>0))throw new TypeError('options "indent" must be "\\t", an integer > 0, or `null`');if(void 0===e)return"undefined";if(null===e)return"null";if("boolean"==typeof e)return e?"true":"false";if("string"==typeof e)return Q(e,l);if("number"==typeof e)return 0===e?1/0/e>0?"0":"-0":String(e);if("bigint"==typeof e)return String(e)+"n";var a=void 0===l.depth?5:l.depth;if(void 0===i&&(i=0),i>=a&&a>0&&"object"==typeof e)return E(e)?"[Array]":"[Object]";var y=et(l,i);if(void 0===c)c=[];else if(z(c,e)>=0)return"[Circular]";function b(e,n,r){if(n&&(c=c.slice()).push(n),r){var o={depth:l.depth};return C(l,"quoteStyle")&&(o.quoteStyle=l.quoteStyle),t(e,o,i+1,c)}return t(e,l,i+1,c)}if("function"==typeof e){var s=B(e),h=rt(e,b);return"[Function"+(s?": "+s:" (anonymous)")+"]"+(h.length>0?" { "+h.join(", ")+" }":"")}if(A(e)){var S=v?String(e).replace(/^(Symbol\(.*\))_[^)]*$/,"$1"):d.call(e);return"object"!=typeof e||v?S:X(S)}if(K(e)){for(var j="<"+String(e.nodeName).toLowerCase(),O=e.attributes||[],x=0;x<O.length;x++)j+=" "+O[x].name+"="+L(M(O[x].value),"double",l);return j+=">",e.childNodes&&e.childNodes.length&&(j+="..."),j+="</"+String(e.nodeName).toLowerCase()+">"}if(E(e)){if(0===e.length)return"[]";var $=rt(e,b);return y&&!tt($)?"["+nt($,y)+"]":"[ "+$.join(", ")+" ]"}if(I(e)){var V=rt(e,b);return 0===V.length?"["+String(e)+"]":"{ ["+String(e)+"] "+V.join(", ")+" }"}if("object"==typeof e&&p){if(k&&"function"==typeof e[k])return e[k]();if("symbol"!==p&&"function"==typeof e.inspect)return e.inspect()}if(F(e)){var ot=[];return r.call(e,function(t,n){ot.push(b(n,e,!0)+" => "+b(t,e))}),Z("Map",n.call(e),ot,y)}if(G(e)){var it=[];return f.call(e,function(t){it.push(b(t,e))}),Z("Set",u.call(e),it,y)}if(H(e))return Y("WeakMap");if(J(e))return Y("WeakSet");if(U(e))return Y("WeakRef");if(P(e))return X(b(Number(e)));if(R(e))return X(b(m.call(e)));if(T(e))return X(g.call(e));if(N(e))return X(b(String(e)));if(!q(e)&&!_(e)){var ut=rt(e,b),ft=w?w(e)===Object.prototype:e instanceof Object||e.constructor===Object,ct=e instanceof Object?"":"null prototype",lt=!ft&&W&&Object(e)===e&&W in e?D(e).slice(8,-1):ct?"Object":"",pt=(ft||"function"!=typeof e.constructor?"":e.constructor.name?e.constructor.name+" ":"")+(lt||ct?"["+[].concat(lt||[],ct||[]).join(": ")+"] ":"");return 0===ut.length?pt+"{}":y?pt+"{"+nt(ut,y)+"}":pt+"{ "+ut.join(", ")+" }"}return String(e)};var $=Object.prototype.hasOwnProperty||function(t){return t in this};function C(t,e){return $.call(t,e)}function D(t){return s.call(t)}function B(t){if(t.name)return t.name;var e=S.call(h.call(t),/^function\s*([\w$]+)/);return e?e[1]:null}function z(t,e){if(t.indexOf)return t.indexOf(e);for(var n=0,r=t.length;n<r;n++)if(t[n]===e)return n;return-1}function F(t){if(!n||!t||"object"!=typeof t)return!1;try{n.call(t);try{u.call(t)}catch(e){return!0}return t instanceof Map}catch(r){}return!1}function H(t){if(!l||!t||"object"!=typeof t)return!1;try{l.call(t,l);try{a.call(t,a)}catch(e){return!0}return t instanceof WeakMap}catch(n){}return!1}function U(t){if(!b||!t||"object"!=typeof t)return!1;try{return b.call(t),!0}catch(e){}return!1}function G(t){if(!u||!t||"object"!=typeof t)return!1;try{u.call(t);try{n.call(t)}catch(e){return!0}return t instanceof Set}catch(r){}return!1}function J(t){if(!a||!t||"object"!=typeof t)return!1;try{a.call(t,a);try{l.call(t,l)}catch(e){return!0}return t instanceof WeakSet}catch(n){}return!1}function K(t){return!(!t||"object"!=typeof t)&&("undefined"!=typeof HTMLElement&&t instanceof HTMLElement||"string"==typeof t.nodeName&&"function"==typeof t.getAttribute)}function Q(t,e){if(t.length>e.maxStringLength){var n=t.length-e.maxStringLength,r="... "+n+" more character"+(n>1?"s":"");return Q(t.slice(0,e.maxStringLength),e)+r}return L(t.replace(/(['\\])/g,"\\$1").replace(/[\x00-\x1f]/g,V),"single",e)}function V(t){var e=t.charCodeAt(0),n={8:"b",9:"t",10:"n",12:"f",13:"r"}[e];return n?"\\"+n:"\\x"+(e<16?"0":"")+e.toString(16).toUpperCase()}function X(t){return"Object("+t+")"}function Y(t){return t+" { ? }"}function Z(t,e,n,r){return t+" ("+e+") {"+(r?nt(n,r):n.join(", "))+"}"}function tt(t){for(var e=0;e<t.length;e++)if(z(t[e],"\n")>=0)return!1;return!0}function et(t,e){var n;if("\t"===t.indent)n="\t";else{if(!("number"==typeof t.indent&&t.indent>0))return null;n=Array(t.indent+1).join(" ")}return{base:n,prev:Array(e+1).join(n)}}function nt(t,e){if(0===t.length)return"";var n="\n"+e.prev+e.base;return n+t.join(","+n)+"\n"+e.prev}function rt(t,e){var n=E(t),r=[];if(n){r.length=t.length;for(var o=0;o<t.length;o++)r[o]=C(t,o)?e(t[o],t):""}var i,u="function"==typeof j?j(t):[];if(v){i={};for(var f=0;f<u.length;f++)i["$"+u[f]]=u[f]}for(var c in t)C(t,c)&&(n&&String(Number(c))===c&&c<t.length||v&&i["$"+c]instanceof Symbol||(/[^\w$]/.test(c)?r.push(e(c,t)+": "+e(t[c],t)):r.push(c+": "+e(t[c],t))));if("function"==typeof j)for(var l=0;l<u.length;l++)O.call(t,u[l])&&r.push("["+e(u[l])+"]: "+e(t[u[l]],t));return r}
},{"./util.inspect":"vKFU"}],"iGu9":[function(require,module,exports) {
"use strict";var e=require("get-intrinsic"),t=require("call-bind/callBound"),n=require("object-inspect"),r=e("%TypeError%"),o=e("%WeakMap%",!0),i=e("%Map%",!0),u=t("WeakMap.prototype.get",!0),f=t("WeakMap.prototype.set",!0),a=t("WeakMap.prototype.has",!0),p=t("Map.prototype.get",!0),c=t("Map.prototype.set",!0),s=t("Map.prototype.has",!0),l=function(e,t){for(var n,r=e;null!==(n=r.next);r=n)if(n.key===t)return r.next=n.next,n.next=e.next,e.next=n,n},y=function(e,t){var n=l(e,t);return n&&n.value},x=function(e,t,n){var r=l(e,t);r?r.value=n:e.next={key:t,next:e.next,value:n}},v=function(e,t){return!!l(e,t)};module.exports=function(){var e,t,l,M={assert:function(e){if(!M.has(e))throw new r("Side channel does not contain "+n(e))},get:function(n){if(o&&n&&("object"==typeof n||"function"==typeof n)){if(e)return u(e,n)}else if(i){if(t)return p(t,n)}else if(l)return y(l,n)},has:function(n){if(o&&n&&("object"==typeof n||"function"==typeof n)){if(e)return a(e,n)}else if(i){if(t)return s(t,n)}else if(l)return v(l,n);return!1},set:function(n,r){o&&n&&("object"==typeof n||"function"==typeof n)?(e||(e=new o),f(e,n,r)):i?(t||(t=new i),c(t,n,r)):(l||(l={key:{},next:null}),x(l,n,r))}};return M};
},{"get-intrinsic":"LiLl","call-bind/callBound":"tAiC","object-inspect":"d9qy"}],"mdM2":[function(require,module,exports) {
"use strict";var t=String.prototype.replace,r=/%20/g,C={RFC1738:"RFC1738",RFC3986:"RFC3986"};module.exports={default:C.RFC3986,formatters:{RFC1738:function(C){return t.call(C,r,"+")},RFC3986:function(t){return String(t)}},RFC1738:C.RFC1738,RFC3986:C.RFC3986};
},{}],"HHEV":[function(require,module,exports) {
"use strict";var r=require("./formats"),e=Object.prototype.hasOwnProperty,t=Array.isArray,o=function(){for(var r=[],e=0;e<256;++e)r.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return r}(),n=function(r){for(;r.length>1;){var e=r.pop(),o=e.obj[e.prop];if(t(o)){for(var n=[],c=0;c<o.length;++c)void 0!==o[c]&&n.push(o[c]);e.obj[e.prop]=n}}},c=function(r,e){for(var t=e&&e.plainObjects?Object.create(null):{},o=0;o<r.length;++o)void 0!==r[o]&&(t[o]=r[o]);return t},u=function r(o,n,u){if(!n)return o;if("object"!=typeof n){if(t(o))o.push(n);else{if(!o||"object"!=typeof o)return[o,n];(u&&(u.plainObjects||u.allowPrototypes)||!e.call(Object.prototype,n))&&(o[n]=!0)}return o}if(!o||"object"!=typeof o)return[o].concat(n);var f=o;return t(o)&&!t(n)&&(f=c(o,u)),t(o)&&t(n)?(n.forEach(function(t,n){if(e.call(o,n)){var c=o[n];c&&"object"==typeof c&&t&&"object"==typeof t?o[n]=r(c,t,u):o.push(t)}else o[n]=t}),o):Object.keys(n).reduce(function(t,o){var c=n[o];return e.call(t,o)?t[o]=r(t[o],c,u):t[o]=c,t},f)},f=function(r,e){return Object.keys(e).reduce(function(r,t){return r[t]=e[t],r},r)},p=function(r,e,t){var o=r.replace(/\+/g," ");if("iso-8859-1"===t)return o.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(o)}catch(n){return o}},a=function(e,t,n,c,u){if(0===e.length)return e;var f=e;if("symbol"==typeof e?f=Symbol.prototype.toString.call(e):"string"!=typeof e&&(f=String(e)),"iso-8859-1"===n)return escape(f).replace(/%u[0-9a-f]{4}/gi,function(r){return"%26%23"+parseInt(r.slice(2),16)+"%3B"});for(var p="",a=0;a<f.length;++a){var i=f.charCodeAt(a);45===i||46===i||95===i||126===i||i>=48&&i<=57||i>=65&&i<=90||i>=97&&i<=122||u===r.RFC1738&&(40===i||41===i)?p+=f.charAt(a):i<128?p+=o[i]:i<2048?p+=o[192|i>>6]+o[128|63&i]:i<55296||i>=57344?p+=o[224|i>>12]+o[128|i>>6&63]+o[128|63&i]:(a+=1,i=65536+((1023&i)<<10|1023&f.charCodeAt(a)),p+=o[240|i>>18]+o[128|i>>12&63]+o[128|i>>6&63]+o[128|63&i])}return p},i=function(r){for(var e=[{obj:{o:r},prop:"o"}],t=[],o=0;o<e.length;++o)for(var c=e[o],u=c.obj[c.prop],f=Object.keys(u),p=0;p<f.length;++p){var a=f[p],i=u[a];"object"==typeof i&&null!==i&&-1===t.indexOf(i)&&(e.push({obj:u,prop:a}),t.push(i))}return n(e),r},s=function(r){return"[object RegExp]"===Object.prototype.toString.call(r)},l=function(r){return!(!r||"object"!=typeof r)&&!!(r.constructor&&r.constructor.isBuffer&&r.constructor.isBuffer(r))},b=function(r,e){return[].concat(r,e)},y=function(r,e){if(t(r)){for(var o=[],n=0;n<r.length;n+=1)o.push(e(r[n]));return o}return e(r)};module.exports={arrayToObject:c,assign:f,combine:b,compact:i,decode:p,encode:a,isBuffer:l,isRegExp:s,maybeMap:y,merge:u};
},{"./formats":"mdM2"}],"SZfA":[function(require,module,exports) {
"use strict";var e=require("side-channel"),t=require("./utils"),r=require("./formats"),o=Object.prototype.hasOwnProperty,n={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,t){return e+"["+t+"]"},repeat:function(e){return e}},i=Array.isArray,l=Array.prototype.push,a=function(e,t){l.apply(e,i(t)?t:[t])},f=Date.prototype.toISOString,s=r.default,c={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:t.encode,encodeValuesOnly:!1,format:s,formatter:r.formatters[s],indices:!1,serializeDate:function(e){return f.call(e)},skipNulls:!1,strictNullHandling:!1},u=function(e){return"string"==typeof e||"number"==typeof e||"boolean"==typeof e||"symbol"==typeof e||"bigint"==typeof e},d=function r(o,n,l,f,s,d,y,p,m,h,v,b,w,g,D){var k=o;if(D.has(o))throw new RangeError("Cyclic object value");if("function"==typeof y?k=y(n,k):k instanceof Date?k=h(k):"comma"===l&&i(k)&&(k=t.maybeMap(k,function(e){return e instanceof Date?h(e):e})),null===k){if(f)return d&&!w?d(n,c.encoder,g,"key",v):n;k=""}if(u(k)||t.isBuffer(k))return d?[b(w?n:d(n,c.encoder,g,"key",v))+"="+b(d(k,c.encoder,g,"value",v))]:[b(n)+"="+b(String(k))];var N,O=[];if(void 0===k)return O;if("comma"===l&&i(k))N=[{value:k.length>0?k.join(",")||null:void 0}];else if(i(y))N=y;else{var S=Object.keys(k);N=p?S.sort(p):S}for(var j=0;j<N.length;++j){var x=N[j],P="object"==typeof x&&void 0!==x.value?x.value:k[x];if(!s||null!==P){var z=i(k)?"function"==typeof l?l(n,x):n:n+(m?"."+x:"["+x+"]");D.set(o,!0);var E=e();a(O,r(P,z,l,f,s,d,y,p,m,h,v,b,w,g,E))}}return O},y=function(e){if(!e)return c;if(null!==e.encoder&&void 0!==e.encoder&&"function"!=typeof e.encoder)throw new TypeError("Encoder has to be a function.");var t=e.charset||c.charset;if(void 0!==e.charset&&"utf-8"!==e.charset&&"iso-8859-1"!==e.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var n=r.default;if(void 0!==e.format){if(!o.call(r.formatters,e.format))throw new TypeError("Unknown format option provided.");n=e.format}var l=r.formatters[n],a=c.filter;return("function"==typeof e.filter||i(e.filter))&&(a=e.filter),{addQueryPrefix:"boolean"==typeof e.addQueryPrefix?e.addQueryPrefix:c.addQueryPrefix,allowDots:void 0===e.allowDots?c.allowDots:!!e.allowDots,charset:t,charsetSentinel:"boolean"==typeof e.charsetSentinel?e.charsetSentinel:c.charsetSentinel,delimiter:void 0===e.delimiter?c.delimiter:e.delimiter,encode:"boolean"==typeof e.encode?e.encode:c.encode,encoder:"function"==typeof e.encoder?e.encoder:c.encoder,encodeValuesOnly:"boolean"==typeof e.encodeValuesOnly?e.encodeValuesOnly:c.encodeValuesOnly,filter:a,format:n,formatter:l,serializeDate:"function"==typeof e.serializeDate?e.serializeDate:c.serializeDate,skipNulls:"boolean"==typeof e.skipNulls?e.skipNulls:c.skipNulls,sort:"function"==typeof e.sort?e.sort:null,strictNullHandling:"boolean"==typeof e.strictNullHandling?e.strictNullHandling:c.strictNullHandling}};module.exports=function(t,r){var o,l=t,f=y(r);"function"==typeof f.filter?l=(0,f.filter)("",l):i(f.filter)&&(o=f.filter);var s,c=[];if("object"!=typeof l||null===l)return"";s=r&&r.arrayFormat in n?r.arrayFormat:r&&"indices"in r?r.indices?"indices":"repeat":"indices";var u=n[s];o||(o=Object.keys(l)),f.sort&&o.sort(f.sort);for(var p=e(),m=0;m<o.length;++m){var h=o[m];f.skipNulls&&null===l[h]||a(c,d(l[h],h,u,f.strictNullHandling,f.skipNulls,f.encode?f.encoder:null,f.filter,f.sort,f.allowDots,f.serializeDate,f.format,f.formatter,f.encodeValuesOnly,f.charset,p))}var v=c.join(f.delimiter),b=!0===f.addQueryPrefix?"?":"";return f.charsetSentinel&&("iso-8859-1"===f.charset?b+="utf8=%26%2310003%3B&":b+="utf8=%E2%9C%93&"),v.length>0?b+v:""};
},{"side-channel":"iGu9","./utils":"HHEV","./formats":"mdM2"}],"r1PK":[function(require,module,exports) {
"use strict";var e=require("./utils"),r=Object.prototype.hasOwnProperty,t=Array.isArray,i={allowDots:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:e.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},a=function(e){return e.replace(/&#(\d+);/g,function(e,r){return String.fromCharCode(parseInt(r,10))})},o=function(e,r){return e&&"string"==typeof e&&r.comma&&e.indexOf(",")>-1?e.split(","):e},n="utf8=%26%2310003%3B",l="utf8=%E2%9C%93",c=function(c,s){var p,d={},u=s.ignoreQueryPrefix?c.replace(/^\?/,""):c,f=s.parameterLimit===1/0?void 0:s.parameterLimit,m=u.split(s.delimiter,f),y=-1,h=s.charset;if(s.charsetSentinel)for(p=0;p<m.length;++p)0===m[p].indexOf("utf8=")&&(m[p]===l?h="utf-8":m[p]===n&&(h="iso-8859-1"),y=p,p=m.length);for(p=0;p<m.length;++p)if(p!==y){var b,g,w=m[p],O=w.indexOf("]="),v=-1===O?w.indexOf("="):O+1;-1===v?(b=s.decoder(w,i.decoder,h,"key"),g=s.strictNullHandling?null:""):(b=s.decoder(w.slice(0,v),i.decoder,h,"key"),g=e.maybeMap(o(w.slice(v+1),s),function(e){return s.decoder(e,i.decoder,h,"value")})),g&&s.interpretNumericEntities&&"iso-8859-1"===h&&(g=a(g)),w.indexOf("[]=")>-1&&(g=t(g)?[g]:g),r.call(d,b)?d[b]=e.combine(d[b],g):d[b]=g}return d},s=function(e,r,t,i){for(var a=i?r:o(r,t),n=e.length-1;n>=0;--n){var l,c=e[n];if("[]"===c&&t.parseArrays)l=[].concat(a);else{l=t.plainObjects?Object.create(null):{};var s="["===c.charAt(0)&&"]"===c.charAt(c.length-1)?c.slice(1,-1):c,p=parseInt(s,10);t.parseArrays||""!==s?!isNaN(p)&&c!==s&&String(p)===s&&p>=0&&t.parseArrays&&p<=t.arrayLimit?(l=[])[p]=a:l[s]=a:l={0:a}}a=l}return a},p=function(e,t,i,a){if(e){var o=i.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,n=/(\[[^[\]]*])/g,l=i.depth>0&&/(\[[^[\]]*])/.exec(o),c=l?o.slice(0,l.index):o,p=[];if(c){if(!i.plainObjects&&r.call(Object.prototype,c)&&!i.allowPrototypes)return;p.push(c)}for(var d=0;i.depth>0&&null!==(l=n.exec(o))&&d<i.depth;){if(d+=1,!i.plainObjects&&r.call(Object.prototype,l[1].slice(1,-1))&&!i.allowPrototypes)return;p.push(l[1])}return l&&p.push("["+o.slice(l.index)+"]"),s(p,t,i,a)}},d=function(r){if(!r)return i;if(null!==r.decoder&&void 0!==r.decoder&&"function"!=typeof r.decoder)throw new TypeError("Decoder has to be a function.");if(void 0!==r.charset&&"utf-8"!==r.charset&&"iso-8859-1"!==r.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var t=void 0===r.charset?i.charset:r.charset;return{allowDots:void 0===r.allowDots?i.allowDots:!!r.allowDots,allowPrototypes:"boolean"==typeof r.allowPrototypes?r.allowPrototypes:i.allowPrototypes,allowSparse:"boolean"==typeof r.allowSparse?r.allowSparse:i.allowSparse,arrayLimit:"number"==typeof r.arrayLimit?r.arrayLimit:i.arrayLimit,charset:t,charsetSentinel:"boolean"==typeof r.charsetSentinel?r.charsetSentinel:i.charsetSentinel,comma:"boolean"==typeof r.comma?r.comma:i.comma,decoder:"function"==typeof r.decoder?r.decoder:i.decoder,delimiter:"string"==typeof r.delimiter||e.isRegExp(r.delimiter)?r.delimiter:i.delimiter,depth:"number"==typeof r.depth||!1===r.depth?+r.depth:i.depth,ignoreQueryPrefix:!0===r.ignoreQueryPrefix,interpretNumericEntities:"boolean"==typeof r.interpretNumericEntities?r.interpretNumericEntities:i.interpretNumericEntities,parameterLimit:"number"==typeof r.parameterLimit?r.parameterLimit:i.parameterLimit,parseArrays:!1!==r.parseArrays,plainObjects:"boolean"==typeof r.plainObjects?r.plainObjects:i.plainObjects,strictNullHandling:"boolean"==typeof r.strictNullHandling?r.strictNullHandling:i.strictNullHandling}};module.exports=function(r,t){var i=d(t);if(""===r||null==r)return i.plainObjects?Object.create(null):{};for(var a="string"==typeof r?c(r,i):r,o=i.plainObjects?Object.create(null):{},n=Object.keys(a),l=0;l<n.length;++l){var s=n[l],u=p(s,a[s],i,"string"==typeof r);o=e.merge(o,u,i)}return!0===i.allowSparse?o:e.compact(o)};
},{"./utils":"HHEV"}],"OFf3":[function(require,module,exports) {
"use strict";var r=require("./stringify"),e=require("./parse"),s=require("./formats");module.exports={formats:s,parse:e,stringify:r};
},{"./stringify":"SZfA","./parse":"r1PK","./formats":"mdM2"}],"tALL":[function(require,module,exports) {
var global = arguments[3];
var e,d=arguments[3];e="undefined"!=typeof window?window:void 0!==d?d:"undefined"!=typeof self?self:{},module.exports=e;
},{}],"xIVz":[function(require,module,exports) {
module.exports=t;var o=Object.prototype.toString;function t(t){if(!t)return!1;var n=o.call(t);return"[object Function]"===n||"function"==typeof t&&"[object RegExp]"!==n||"undefined"!=typeof window&&(t===window.setTimeout||t===window.alert||t===window.confirm||t===window.prompt)}
},{}],"q9uR":[function(require,module,exports) {
var r=function(r){return r.replace(/^\s+|\s+$/g,"")},e=function(r){return"[object Array]"===Object.prototype.toString.call(r)};module.exports=function(t){if(!t)return{};for(var n={},o=r(t).split("\n"),i=0;i<o.length;i++){var c=o[i],u=c.indexOf(":"),l=r(c.slice(0,u)).toLowerCase(),s=r(c.slice(u+1));void 0===n[l]?n[l]=s:e(n[l])?n[l].push(s):n[l]=[n[l],s]}return n};
},{}],"K5Tb":[function(require,module,exports) {
module.exports=o;var r=Object.prototype.hasOwnProperty;function o(){for(var o={},t=0;t<arguments.length;t++){var e=arguments[t];for(var a in e)r.call(e,a)&&(o[a]=e[a])}return o}
},{}],"NDt3":[function(require,module,exports) {
"use strict";var e=require("@babel/runtime-corejs2/core-js/object/define-property"),t=require("@babel/runtime-corejs2/helpers/interopRequireDefault");e(exports,"__esModule",{value:!0}),exports.default=void 0;var r=t(require("@babel/runtime-corejs2/core-js/json/stringify")),n=require("global/window"),o=require("is-function"),s=require("parse-headers"),u=require("xtend");function a(e,t){for(var r=0;r<e.length;r+=1)t(e[r])}function i(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}function p(e,t,r){var n=e;return o(t)?(r=t,"string"==typeof e&&(n={uri:e})):n=u(t,{uri:e}),n.callback=r,n}function c(e,t,r){return d(t=p(e,t,r))}function d(e){if(void 0===e.callback)throw new Error("callback argument missing");var t=!1,n=function(r,n,o){t||(t=!0,e.callback(r,n,o))};function o(){var e=void 0;if(e=f.response?f.response:f.responseText||l(f),R)try{e=JSON.parse(e)}catch(t){}return e}function u(e){return clearTimeout(m),e instanceof Error||(e=new Error(""+(e||"Unknown XMLHttpRequest Error"))),e.statusCode=0,n(e,v)}function a(){if(!d){var t;clearTimeout(m),t=e.useXDR&&void 0===f.status?200:1223===f.status?204:f.status;var r=v,u=null;return 0!==t?(r={body:o(),statusCode:t,method:q,headers:{},url:h,rawRequest:f},f.getAllResponseHeaders&&(r.headers=s(f.getAllResponseHeaders()))):u=new Error("Internal XMLHttpRequest Error"),n(u,r,r.body)}}var p,d,f=e.xhr||null;f||(f=e.cors||e.useXDR?new c.XDomainRequest:new c.XMLHttpRequest);var m,h=e.uri||e.url,q=e.method||"GET",b=e.body||e.data,y=e.headers||{},w=!!e.sync,R=!1,v={body:void 0,headers:{},statusCode:0,method:q,url:h,rawRequest:f};if("json"in e&&!1!==e.json&&(R=!0,y.accept||y.Accept||(y.Accept="application/json"),"GET"!==q&&"HEAD"!==q&&(y["content-type"]||y["Content-Type"]||(y["Content-Type"]="application/json"),b=(0,r.default)(!0===e.json?b:e.json))),f.onreadystatechange=function(){4===f.readyState&&setTimeout(a,0)},f.onload=a,f.onerror=u,f.onprogress=function(){},f.onabort=function(){d=!0},f.ontimeout=u,f.open(q,h,!w,e.username,e.password),w||(f.withCredentials=!!e.withCredentials),!w&&e.timeout>0&&(m=setTimeout(function(){if(!d){d=!0,f.abort("timeout");var e=new Error("XMLHttpRequest timeout");e.code="ETIMEDOUT",u(e)}},e.timeout)),f.setRequestHeader)for(p in y)y.hasOwnProperty(p)&&f.setRequestHeader(p,y[p]);else if(e.headers&&!i(e.headers))throw new Error("Headers cannot be set on an XDomainRequest object");return"responseType"in e&&(f.responseType=e.responseType),"beforeSend"in e&&"function"==typeof e.beforeSend&&e.beforeSend(f),f.send(b||null),f}function l(e){if("document"===e.responseType)return e.responseXML;var t=e.responseXML&&"parsererror"===e.responseXML.documentElement.nodeName;return""!==e.responseType||t?null:e.responseXML}function f(){}c.XMLHttpRequest=n.XMLHttpRequest||f,c.XDomainRequest="withCredentials"in new c.XMLHttpRequest?c.XMLHttpRequest:n.XDomainRequest,a(["get","put","post","patch","head","delete"],function(e){c["delete"===e?"del":e]=function(t,r,n){return(r=p(t,r,n)).method=e.toUpperCase(),d(r)}});var m=c;exports.default=m;
},{"@babel/runtime-corejs2/core-js/object/define-property":"eIqn","@babel/runtime-corejs2/helpers/interopRequireDefault":"LXwi","@babel/runtime-corejs2/core-js/json/stringify":"E09K","global/window":"tALL","is-function":"xIVz","parse-headers":"q9uR","xtend":"K5Tb"}],"hgoT":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.readFile=exports.writeFileSync=exports.writeFile=exports.read=exports.open=exports.close=exports.stat=exports.createReadStream=exports.pathExists=void 0;const e=require("fs");async function r(r){return new Promise((t,s)=>{e.stat(r,(e,r)=>{e?s(e):t(r)})})}async function t(r){return new Promise((t,s)=>{e.close(r,e=>{e?s(e):t()})})}async function s(r,t){return new Promise((s,o)=>{e.open(r,t,(e,r)=>{e?o(e):s(r)})})}async function o(r,t,s,o,n){return new Promise((i,a)=>{e.read(r,t,s,o,n,(e,r,t)=>{e?a(e):i({bytesRead:r,buffer:t})})})}async function n(r,t){return new Promise((s,o)=>{e.writeFile(r,t,e=>{e?o(e):s()})})}function i(r,t){e.writeFileSync(r,t)}async function a(r){return new Promise((t,s)=>{e.readFile(r,(e,r)=>{e?s(e):t(r)})})}exports.pathExists=e.existsSync,exports.createReadStream=e.createReadStream,exports.stat=r,exports.close=t,exports.open=s,exports.read=o,exports.writeFile=n,exports.writeFileSync=i,exports.readFile=a;
},{"fs":"vKFU"}],"X4iK":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.EndOfStreamError=exports.defaultMessages=void 0,exports.defaultMessages="End-Of-Stream";class e extends Error{constructor(){super(exports.defaultMessages)}}exports.EndOfStreamError=e;
},{}],"cKB7":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.StreamReader=exports.EndOfStreamError=void 0;const e=require("./EndOfFileStream");var r=require("./EndOfFileStream");Object.defineProperty(exports,"EndOfStreamError",{enumerable:!0,get:function(){return r.EndOfStreamError}});class t{constructor(){this.resolve=(()=>null),this.reject=(()=>null),this.promise=new Promise((e,r)=>{this.reject=r,this.resolve=e})}}const s=1048576;class n{constructor(r){if(this.s=r,this.request=null,this.endOfStream=!1,this.peekQueue=[],!r.read||!r.once)throw new Error("Expected an instance of stream.Readable");this.s.once("end",()=>this.reject(new e.EndOfStreamError)),this.s.once("error",e=>this.reject(e)),this.s.once("close",()=>this.reject(new Error("Stream closed")))}async peek(e,r,t){const s=await this.read(e,r,t);return this.peekQueue.push(e.subarray(r,r+s)),s}async read(r,t,n){if(0===n)return 0;if(0===this.peekQueue.length&&this.endOfStream)throw new e.EndOfStreamError;let i=n,h=0;for(;this.peekQueue.length>0&&i>0;){const e=this.peekQueue.pop();if(!e)throw new Error("peekData should be defined");const s=Math.min(e.length,i);r.set(e.subarray(0,s),t+h),h+=s,i-=s,s<e.length&&this.peekQueue.push(e.subarray(s))}for(;i>0&&!this.endOfStream;){const e=Math.min(i,s),n=await this._read(r,t+h,e);if(h+=n,n<e)break;i-=n}return h}async _read(e,r,s){if(this.request)throw new Error("Concurrent read operation?");const n=this.s.read(s);return n?(e.set(n,r),n.length):(this.request={buffer:e,offset:r,length:s,deferred:new t},this.s.once("readable",()=>{this.tryRead()}),this.request.deferred.promise)}tryRead(){if(!this.request)throw new Error("this.request should be defined");const e=this.s.read(this.request.length);e?(this.request.buffer.set(e,this.request.offset),this.request.deferred.resolve(e.length),this.request=null):this.s.once("readable",()=>{this.tryRead()})}reject(e){this.endOfStream=!0,this.request&&(this.request.deferred.reject(e),this.request=null)}}exports.StreamReader=n;
},{"./EndOfFileStream":"X4iK"}],"NAtN":[function(require,module,exports) {
var Buffer = require("buffer").Buffer;
var e=require("buffer").Buffer;Object.defineProperty(exports,"__esModule",{value:!0}),exports.AbstractTokenizer=void 0;const t=require("peek-readable");class i{constructor(e){this.position=0,this.numBuffer=new Uint8Array(8),this.fileInfo=e||{}}async readToken(i,o=this.position){const n=e.alloc(i.len);if(await this.readBuffer(n,{position:o})<i.len)throw new t.EndOfStreamError;return i.get(n,0)}async peekToken(i,o=this.position){const n=e.alloc(i.len);if(await this.peekBuffer(n,{position:o})<i.len)throw new t.EndOfStreamError;return i.get(n,0)}async readNumber(e){if(await this.readBuffer(this.numBuffer,{length:e.len})<e.len)throw new t.EndOfStreamError;return e.get(this.numBuffer,0)}async peekNumber(e){if(await this.peekBuffer(this.numBuffer,{length:e.len})<e.len)throw new t.EndOfStreamError;return e.get(this.numBuffer,0)}async ignore(e){if(void 0!==this.fileInfo.size){const t=this.fileInfo.size-this.position;if(e>t)return this.position+=t,t}return this.position+=e,e}async close(){}normalizeOptions(e,t){if(t&&void 0!==t.position&&t.position<this.position)throw new Error("`options.position` must be equal or greater than `tokenizer.position`");return t?{mayBeLess:!0===t.mayBeLess,offset:t.offset?t.offset:0,length:t.length?t.length:e.length-(t.offset?t.offset:0),position:t.position?t.position:this.position}:{mayBeLess:!1,offset:0,length:e.length,position:this.position}}}exports.AbstractTokenizer=i;
},{"peek-readable":"cKB7","buffer":"peL6"}],"wEYB":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.ReadStreamTokenizer=void 0;const e=require("./AbstractTokenizer"),t=require("peek-readable"),r=256e3;class n extends e.AbstractTokenizer{constructor(e,r){super(r),this.streamReader=new t.StreamReader(e)}async getFileInfo(){return this.fileInfo}async readBuffer(e,r){const n=this.normalizeOptions(e,r),i=n.position-this.position;if(i>0)return await this.ignore(i),this.readBuffer(e,r);if(i<0)throw new Error("`options.position` must be equal or greater than `tokenizer.position`");if(0===n.length)return 0;const s=await this.streamReader.read(e,n.offset,n.length);if(this.position+=s,(!r||!r.mayBeLess)&&s<n.length)throw new t.EndOfStreamError;return s}async peekBuffer(e,r){const n=this.normalizeOptions(e,r);let i=0;if(n.position){const t=n.position-this.position;if(t>0){const r=new Uint8Array(n.length+t);return i=await this.peekBuffer(r,{mayBeLess:n.mayBeLess}),e.set(r.subarray(t),n.offset),i-t}if(t<0)throw new Error("Cannot peek from a negative offset in a stream")}if(n.length>0){try{i=await this.streamReader.peek(e,n.offset,n.length)}catch(s){if(r&&r.mayBeLess&&s instanceof t.EndOfStreamError)return 0;throw s}if(!n.mayBeLess&&i<n.length)throw new t.EndOfStreamError}return i}async ignore(e){const t=Math.min(r,e),n=new Uint8Array(t);let i=0;for(;i<e;){const r=e-i,s=await this.readBuffer(n,{length:Math.min(t,r)});if(s<0)return s;i+=s}return i}}exports.ReadStreamTokenizer=n;
},{"./AbstractTokenizer":"NAtN","peek-readable":"cKB7"}],"VEdc":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.BufferTokenizer=void 0;const e=require("peek-readable"),t=require("./AbstractTokenizer");class i extends t.AbstractTokenizer{constructor(e,t){super(t),this.uint8Array=e,this.fileInfo.size=this.fileInfo.size?this.fileInfo.size:e.length}async readBuffer(e,t){if(t&&t.position){if(t.position<this.position)throw new Error("`options.position` must be equal or greater than `tokenizer.position`");this.position=t.position}const i=await this.peekBuffer(e,t);return this.position+=i,i}async peekBuffer(t,i){const s=this.normalizeOptions(t,i),o=Math.min(this.uint8Array.length-s.position,s.length);if(!s.mayBeLess&&o<s.length)throw new e.EndOfStreamError;return t.set(this.uint8Array.subarray(s.position,s.position+o),s.offset),o}async close(){}}exports.BufferTokenizer=i;
},{"peek-readable":"cKB7","./AbstractTokenizer":"NAtN"}],"YIXo":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.fromBuffer=exports.fromStream=exports.EndOfStreamError=void 0;const e=require("./ReadStreamTokenizer"),r=require("./BufferTokenizer");var t=require("peek-readable");function o(r,t){return t=t||{},new e.ReadStreamTokenizer(r,t)}function n(e,t){return new r.BufferTokenizer(e,t)}Object.defineProperty(exports,"EndOfStreamError",{enumerable:!0,get:function(){return t.EndOfStreamError}}),exports.fromStream=o,exports.fromBuffer=n;
},{"./ReadStreamTokenizer":"wEYB","./BufferTokenizer":"VEdc","peek-readable":"cKB7"}],"zFOe":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.fromFile=exports.FileTokenizer=void 0;const e=require("./AbstractTokenizer"),t=require("peek-readable"),s=require("./FsPromise");class r extends e.AbstractTokenizer{constructor(e,t){super(t),this.fd=e}async readBuffer(e,r){const i=this.normalizeOptions(e,r);this.position=i.position;const o=await s.read(this.fd,e,i.offset,i.length,i.position);if(this.position+=o.bytesRead,o.bytesRead<i.length&&(!r||!r.mayBeLess))throw new t.EndOfStreamError;return o.bytesRead}async peekBuffer(e,r){const i=this.normalizeOptions(e,r),o=await s.read(this.fd,e,i.offset,i.length,i.position);if(!i.mayBeLess&&o.bytesRead<i.length)throw new t.EndOfStreamError;return o.bytesRead}async close(){return s.close(this.fd)}}async function i(e){const t=await s.stat(e);if(!t.isFile)throw new Error(`File not a file: ${e}`);const i=await s.open(e,"r");return new r(i,{path:e,size:t.size})}exports.FileTokenizer=r,exports.fromFile=i;
},{"./AbstractTokenizer":"NAtN","peek-readable":"cKB7","./FsPromise":"hgoT"}],"nrH0":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.fromStream=exports.fromBuffer=exports.EndOfStreamError=exports.fromFile=void 0;const e=require("./FsPromise"),r=require("./core");var t=require("./FileTokenizer");Object.defineProperty(exports,"fromFile",{enumerable:!0,get:function(){return t.fromFile}});var o=require("./core");async function f(t,o){if(o=o||{},t.path){const r=await e.stat(t.path);o.path=t.path,o.size=r.size}return r.fromStream(t,o)}Object.defineProperty(exports,"EndOfStreamError",{enumerable:!0,get:function(){return o.EndOfStreamError}}),Object.defineProperty(exports,"fromBuffer",{enumerable:!0,get:function(){return o.fromBuffer}}),exports.fromStream=f;
},{"./FsPromise":"hgoT","./core":"YIXo","./FileTokenizer":"zFOe"}],"rNGT":[function(require,module,exports) {
var Buffer = require("buffer").Buffer;
var t=require("buffer").Buffer;Object.defineProperty(exports,"__esModule",{value:!0}),exports.AnsiStringType=exports.StringType=exports.BufferType=exports.Uint8ArrayType=exports.IgnoreType=exports.Float80_LE=exports.Float80_BE=exports.Float64_LE=exports.Float64_BE=exports.Float32_LE=exports.Float32_BE=exports.Float16_LE=exports.Float16_BE=exports.INT64_BE=exports.UINT64_BE=exports.INT64_LE=exports.UINT64_LE=exports.INT32_LE=exports.INT32_BE=exports.INT24_BE=exports.INT24_LE=exports.INT16_LE=exports.INT16_BE=exports.INT8=exports.UINT32_BE=exports.UINT32_LE=exports.UINT24_BE=exports.UINT24_LE=exports.UINT16_BE=exports.UINT16_LE=exports.UINT8=void 0;const e=require("ieee754");function r(t){return new DataView(t.buffer,t.byteOffset)}exports.UINT8={len:1,get:(t,e)=>r(t).getUint8(e),put:(t,e,n)=>(r(t).setUint8(e,n),e+1)},exports.UINT16_LE={len:2,get:(t,e)=>r(t).getUint16(e,!0),put:(t,e,n)=>(r(t).setUint16(e,n,!0),e+2)},exports.UINT16_BE={len:2,get:(t,e)=>r(t).getUint16(e),put:(t,e,n)=>(r(t).setUint16(e,n),e+2)},exports.UINT24_LE={len:3,get(t,e){const n=r(t);return n.getUint8(e)+(n.getUint16(e+1,!0)<<8)},put(t,e,n){const s=r(t);return s.setUint8(e,255&n),s.setUint16(e+1,n>>8,!0),e+3}},exports.UINT24_BE={len:3,get(t,e){const n=r(t);return(n.getUint16(e)<<8)+n.getUint8(e+2)},put(t,e,n){const s=r(t);return s.setUint16(e,n>>8),s.setUint8(e+2,255&n),e+3}},exports.UINT32_LE={len:4,get:(t,e)=>r(t).getUint32(e,!0),put:(t,e,n)=>(r(t).setUint32(e,n,!0),e+4)},exports.UINT32_BE={len:4,get:(t,e)=>r(t).getUint32(e),put:(t,e,n)=>(r(t).setUint32(e,n),e+4)},exports.INT8={len:1,get:(t,e)=>r(t).getInt8(e),put:(t,e,n)=>(r(t).setInt8(e,n),e+2)},exports.INT16_BE={len:2,get:(t,e)=>r(t).getInt16(e),put:(t,e,n)=>(r(t).setInt16(e,n),e+2)},exports.INT16_LE={len:2,get:(t,e)=>r(t).getInt16(e,!0),put:(t,e,n)=>(r(t).setInt16(e,n,!0),e+2)},exports.INT24_LE={len:3,get(t,e){const r=exports.UINT24_LE.get(t,e);return r>8388607?r-16777216:r},put(t,e,n){const s=r(t);return s.setUint8(e,255&n),s.setUint16(e+1,n>>8,!0),e+3}},exports.INT24_BE={len:3,get(t,e){const r=exports.UINT24_BE.get(t,e);return r>8388607?r-16777216:r},put(t,e,n){const s=r(t);return s.setUint16(e,n>>8),s.setUint8(e+2,255&n),e+3}},exports.INT32_BE={len:4,get:(t,e)=>r(t).getInt32(e),put:(t,e,n)=>(r(t).setInt32(e,n),e+4)},exports.INT32_LE={len:4,get:(t,e)=>r(t).getInt32(e,!0),put:(t,e,n)=>(r(t).setInt32(e,n,!0),e+4)},exports.UINT64_LE={len:8,get:(t,e)=>r(t).getBigUint64(e,!0),put:(t,e,n)=>(r(t).setBigUint64(e,n,!0),e+8)},exports.INT64_LE={len:8,get:(t,e)=>r(t).getBigInt64(e,!0),put:(t,e,n)=>(r(t).setBigInt64(e,n,!0),e+8)},exports.UINT64_BE={len:8,get:(t,e)=>r(t).getBigUint64(e),put:(t,e,n)=>(r(t).setBigUint64(e,n),e+8)},exports.INT64_BE={len:8,get:(t,e)=>r(t).getBigInt64(e),put:(t,e,n)=>(r(t).setBigInt64(e,n),e+8)},exports.Float16_BE={len:2,get(t,r){return e.read(t,r,!1,10,this.len)},put(t,r,n){return e.write(t,n,r,!1,10,this.len),r+this.len}},exports.Float16_LE={len:2,get(t,r){return e.read(t,r,!0,10,this.len)},put(t,r,n){return e.write(t,n,r,!0,10,this.len),r+this.len}},exports.Float32_BE={len:4,get:(t,e)=>r(t).getFloat32(e),put:(t,e,n)=>(r(t).setFloat32(e,n),e+4)},exports.Float32_LE={len:4,get:(t,e)=>r(t).getFloat32(e,!0),put:(t,e,n)=>(r(t).setFloat32(e,n,!0),e+4)},exports.Float64_BE={len:8,get:(t,e)=>r(t).getFloat64(e),put:(t,e,n)=>(r(t).setFloat64(e,n),e+8)},exports.Float64_LE={len:8,get:(t,e)=>r(t).getFloat64(e,!0),put:(t,e,n)=>(r(t).setFloat64(e,n,!0),e+8)},exports.Float80_BE={len:10,get(t,r){return e.read(t,r,!1,63,this.len)},put(t,r,n){return e.write(t,n,r,!1,63,this.len),r+this.len}},exports.Float80_LE={len:10,get(t,r){return e.read(t,r,!0,63,this.len)},put(t,r,n){return e.write(t,n,r,!0,63,this.len),r+this.len}};class n{constructor(t){this.len=t}get(t,e){}}exports.IgnoreType=n;class s{constructor(t){this.len=t}get(t,e){return t.subarray(e,e+this.len)}}exports.Uint8ArrayType=s;class o{constructor(t){this.len=t}get(t,e){return t.slice(e,e+this.len)}}exports.BufferType=o;class i{constructor(t,e){this.len=t,this.encoding=e}get(e,r){return t.from(e).toString(this.encoding,r,r+this.len)}}exports.StringType=i;class p{constructor(t){this.len=t}static decode(t,e,r){let n="";for(let s=e;s<r;++s)n+=p.codePointToString(p.singleByteDecoder(t[s]));return n}static inRange(t,e,r){return e<=t&&t<=r}static codePointToString(t){return t<=65535?String.fromCharCode(t):(t-=65536,String.fromCharCode(55296+(t>>10),56320+(1023&t)))}static singleByteDecoder(t){if(p.inRange(t,0,127))return t;const e=p.windows1252[t-128];if(null===e)throw Error("invaliding encoding");return e}get(t,e=0){return p.decode(t,e,e+this.len)}}exports.AnsiStringType=p,p.windows1252=[8364,129,8218,402,8222,8230,8224,8225,710,8240,352,8249,338,141,381,143,144,8216,8217,8220,8221,8226,8211,8212,732,8482,353,8250,339,157,382,376,160,161,162,163,164,165,166,167,168,169,170,171,172,173,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,251,252,253,254,255];
},{"ieee754":"JgNJ","buffer":"peL6"}],"pjMP":[function(require,module,exports) {
"use strict";exports.stringToBytes=(t=>[...t].map(t=>t.charCodeAt(0))),exports.tarHeaderChecksumMatches=((t,e=0)=>{const r=parseInt(t.toString("utf8",148,154).replace(/\0.*$/,"").trim(),8);if(isNaN(r))return!1;let s=256;for(let n=e;n<e+148;n++)s+=t[n];for(let n=e+156;n<e+512;n++)s+=t[n];return r===s}),exports.uint32SyncSafeToken={get:(t,e)=>127&t[e+3]|t[e+2]<<7|t[e+1]<<14|t[e]<<21,len:4};
},{}],"mBme":[function(require,module,exports) {
"use strict";module.exports={extensions:["jpg","png","apng","gif","webp","flif","xcf","cr2","cr3","orf","arw","dng","nef","rw2","raf","tif","bmp","icns","jxr","psd","indd","zip","tar","rar","gz","bz2","7z","dmg","mp4","mid","mkv","webm","mov","avi","mpg","mp2","mp3","m4a","oga","ogg","ogv","opus","flac","wav","spx","amr","pdf","epub","exe","swf","rtf","wasm","woff","woff2","eot","ttf","otf","ico","flv","ps","xz","sqlite","nes","crx","xpi","cab","deb","ar","rpm","Z","lz","cfb","mxf","mts","blend","bpg","docx","pptx","xlsx","3gp","3g2","jp2","jpm","jpx","mj2","aif","qcp","odt","ods","odp","xml","mobi","heic","cur","ktx","ape","wv","dcm","ics","glb","pcap","dsf","lnk","alias","voc","ac3","m4v","m4p","m4b","f4v","f4p","f4b","f4a","mie","asf","ogm","ogx","mpc","arrow","shp","aac","mp1","it","s3m","xm","ai","skp","avif","eps","lzh","pgp","asar","stl","chm","3mf","zst","jxl","vcf"],mimeTypes:["image/jpeg","image/png","image/gif","image/webp","image/flif","image/x-xcf","image/x-canon-cr2","image/x-canon-cr3","image/tiff","image/bmp","image/vnd.ms-photo","image/vnd.adobe.photoshop","application/x-indesign","application/epub+zip","application/x-xpinstall","application/vnd.oasis.opendocument.text","application/vnd.oasis.opendocument.spreadsheet","application/vnd.oasis.opendocument.presentation","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/vnd.openxmlformats-officedocument.presentationml.presentation","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","application/zip","application/x-tar","application/x-rar-compressed","application/gzip","application/x-bzip2","application/x-7z-compressed","application/x-apple-diskimage","application/x-apache-arrow","video/mp4","audio/midi","video/x-matroska","video/webm","video/quicktime","video/vnd.avi","audio/vnd.wave","audio/qcelp","audio/x-ms-asf","video/x-ms-asf","application/vnd.ms-asf","video/mpeg","video/3gpp","audio/mpeg","audio/mp4","audio/opus","video/ogg","audio/ogg","application/ogg","audio/x-flac","audio/ape","audio/wavpack","audio/amr","application/pdf","application/x-msdownload","application/x-shockwave-flash","application/rtf","application/wasm","font/woff","font/woff2","application/vnd.ms-fontobject","font/ttf","font/otf","image/x-icon","video/x-flv","application/postscript","application/eps","application/x-xz","application/x-sqlite3","application/x-nintendo-nes-rom","application/x-google-chrome-extension","application/vnd.ms-cab-compressed","application/x-deb","application/x-unix-archive","application/x-rpm","application/x-compress","application/x-lzip","application/x-cfb","application/x-mie","application/mxf","video/mp2t","application/x-blender","image/bpg","image/jp2","image/jpx","image/jpm","image/mj2","audio/aiff","application/xml","application/x-mobipocket-ebook","image/heif","image/heif-sequence","image/heic","image/heic-sequence","image/icns","image/ktx","application/dicom","audio/x-musepack","text/calendar","text/vcard","model/gltf-binary","application/vnd.tcpdump.pcap","audio/x-dsf","application/x.ms.shortcut","application/x.apple.alias","audio/x-voc","audio/vnd.dolby.dd-raw","audio/x-m4a","image/apng","image/x-olympus-orf","image/x-sony-arw","image/x-adobe-dng","image/x-nikon-nef","image/x-panasonic-rw2","image/x-fujifilm-raf","video/x-m4v","video/3gpp2","application/x-esri-shape","audio/aac","audio/x-it","audio/x-s3m","audio/x-xm","video/MP1S","video/MP2P","application/vnd.sketchup.skp","image/avif","application/x-lzh-compressed","application/pgp-encrypted","application/x-asar","model/stl","application/vnd.ms-htmlhelp","model/3mf","image/jxl","application/zstd"]};
},{}],"HYzL":[function(require,module,exports) {
var Buffer = require("buffer").Buffer;
var Buffer=require("buffer").Buffer;const Token=require("token-types"),strtok3=require("strtok3/lib/core"),{stringToBytes:stringToBytes,tarHeaderChecksumMatches:tarHeaderChecksumMatches,uint32SyncSafeToken:uint32SyncSafeToken}=require("./util"),supported=require("./supported"),minimumBytes=4100;async function fromStream(e){const i=await strtok3.fromStream(e);try{return await fromTokenizer(i)}finally{await i.close()}}async function fromBuffer(e){if(!(e instanceof Uint8Array||e instanceof ArrayBuffer||Buffer.isBuffer(e)))throw new TypeError(`Expected the \`input\` argument to be of type \`Uint8Array\` or \`Buffer\` or \`ArrayBuffer\`, got \`${typeof e}\``);const i=e instanceof Buffer?e:Buffer.from(e);if(i&&i.length>1)return fromTokenizer(strtok3.fromBuffer(i))}function _check(e,i,t){t={offset:0,...t};for(const[r,a]of i.entries())if(t.mask){if(a!==(t.mask[r]&e[r+t.offset]))return!1}else if(a!==e[r+t.offset])return!1;return!0}async function fromTokenizer(e){try{return _fromTokenizer(e)}catch(i){if(!(i instanceof strtok3.EndOfStreamError))throw i}}async function _fromTokenizer(e){let i=Buffer.alloc(minimumBytes);const t=(e,t)=>_check(i,e,t),r=(e,i)=>t(stringToBytes(e),i);if(e.fileInfo.size||(e.fileInfo.size=Number.MAX_SAFE_INTEGER),await e.peekBuffer(i,{length:12,mayBeLess:!0}),t([66,77]))return{ext:"bmp",mime:"image/bmp"};if(t([11,119]))return{ext:"ac3",mime:"audio/vnd.dolby.dd-raw"};if(t([120,1]))return{ext:"dmg",mime:"application/x-apple-diskimage"};if(t([77,90]))return{ext:"exe",mime:"application/x-msdownload"};if(t([37,33]))return await e.peekBuffer(i,{length:24,mayBeLess:!0}),r("PS-Adobe-",{offset:2})&&r(" EPSF-",{offset:14})?{ext:"eps",mime:"application/eps"}:{ext:"ps",mime:"application/postscript"};if(t([31,160])||t([31,157]))return{ext:"Z",mime:"application/x-compress"};if(t([255,216,255]))return{ext:"jpg",mime:"image/jpeg"};if(t([73,73,188]))return{ext:"jxr",mime:"image/vnd.ms-photo"};if(t([31,139,8]))return{ext:"gz",mime:"application/gzip"};if(t([66,90,104]))return{ext:"bz2",mime:"application/x-bzip2"};if(r("ID3")){await e.ignore(6);const i=await e.readToken(uint32SyncSafeToken);return e.position+i>e.fileInfo.size?{ext:"mp3",mime:"audio/mpeg"}:(await e.ignore(i),fromTokenizer(e))}if(r("MP+"))return{ext:"mpc",mime:"audio/x-musepack"};if((67===i[0]||70===i[0])&&t([87,83],{offset:1}))return{ext:"swf",mime:"application/x-shockwave-flash"};if(t([71,73,70]))return{ext:"gif",mime:"image/gif"};if(r("FLIF"))return{ext:"flif",mime:"image/flif"};if(r("8BPS"))return{ext:"psd",mime:"image/vnd.adobe.photoshop"};if(r("WEBP",{offset:8}))return{ext:"webp",mime:"image/webp"};if(r("MPCK"))return{ext:"mpc",mime:"audio/x-musepack"};if(r("FORM"))return{ext:"aif",mime:"audio/aiff"};if(r("icns",{offset:0}))return{ext:"icns",mime:"image/icns"};if(t([80,75,3,4])){try{for(;e.position+30<e.fileInfo.size;){await e.readBuffer(i,{length:30});const t={compressedSize:i.readUInt32LE(18),uncompressedSize:i.readUInt32LE(22),filenameLength:i.readUInt16LE(26),extraFieldLength:i.readUInt16LE(28)};if(t.filename=await e.readToken(new Token.StringType(t.filenameLength,"utf-8")),await e.ignore(t.extraFieldLength),"META-INF/mozilla.rsa"===t.filename)return{ext:"xpi",mime:"application/x-xpinstall"};if(t.filename.endsWith(".rels")||t.filename.endsWith(".xml")){switch(t.filename.split("/")[0]){case"_rels":break;case"word":return{ext:"docx",mime:"application/vnd.openxmlformats-officedocument.wordprocessingml.document"};case"ppt":return{ext:"pptx",mime:"application/vnd.openxmlformats-officedocument.presentationml.presentation"};case"xl":return{ext:"xlsx",mime:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}}}if(t.filename.startsWith("xl/"))return{ext:"xlsx",mime:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"};if(t.filename.startsWith("3D/")&&t.filename.endsWith(".model"))return{ext:"3mf",mime:"model/3mf"};if("mimetype"===t.filename&&t.compressedSize===t.uncompressedSize){switch(await e.readToken(new Token.StringType(t.compressedSize,"utf-8"))){case"application/epub+zip":return{ext:"epub",mime:"application/epub+zip"};case"application/vnd.oasis.opendocument.text":return{ext:"odt",mime:"application/vnd.oasis.opendocument.text"};case"application/vnd.oasis.opendocument.spreadsheet":return{ext:"ods",mime:"application/vnd.oasis.opendocument.spreadsheet"};case"application/vnd.oasis.opendocument.presentation":return{ext:"odp",mime:"application/vnd.oasis.opendocument.presentation"}}}if(0===t.compressedSize){let t=-1;for(;t<0&&e.position<e.fileInfo.size;)await e.peekBuffer(i,{mayBeLess:!0}),t=i.indexOf("504B0304",0,"hex"),await e.ignore(t>=0?t:i.length)}else await e.ignore(t.compressedSize)}}catch(o){if(!(o instanceof strtok3.EndOfStreamError))throw o}return{ext:"zip",mime:"application/zip"}}if(r("OggS")){await e.ignore(28);const i=Buffer.alloc(8);return await e.readBuffer(i),_check(i,[79,112,117,115,72,101,97,100])?{ext:"opus",mime:"audio/opus"}:_check(i,[128,116,104,101,111,114,97])?{ext:"ogv",mime:"video/ogg"}:_check(i,[1,118,105,100,101,111,0])?{ext:"ogm",mime:"video/ogg"}:_check(i,[127,70,76,65,67])?{ext:"oga",mime:"audio/ogg"}:_check(i,[83,112,101,101,120,32,32])?{ext:"spx",mime:"audio/ogg"}:_check(i,[1,118,111,114,98,105,115])?{ext:"ogg",mime:"audio/ogg"}:{ext:"ogx",mime:"application/ogg"}}if(t([80,75])&&(3===i[2]||5===i[2]||7===i[2])&&(4===i[3]||6===i[3]||8===i[3]))return{ext:"zip",mime:"application/zip"};if(r("ftyp",{offset:4})&&0!=(96&i[8])){const e=i.toString("binary",8,12).replace("\0"," ").trim();switch(e){case"avif":return{ext:"avif",mime:"image/avif"};case"mif1":return{ext:"heic",mime:"image/heif"};case"msf1":return{ext:"heic",mime:"image/heif-sequence"};case"heic":case"heix":return{ext:"heic",mime:"image/heic"};case"hevc":case"hevx":return{ext:"heic",mime:"image/heic-sequence"};case"qt":return{ext:"mov",mime:"video/quicktime"};case"M4V":case"M4VH":case"M4VP":return{ext:"m4v",mime:"video/x-m4v"};case"M4P":return{ext:"m4p",mime:"video/mp4"};case"M4B":return{ext:"m4b",mime:"audio/mp4"};case"M4A":return{ext:"m4a",mime:"audio/x-m4a"};case"F4V":return{ext:"f4v",mime:"video/mp4"};case"F4P":return{ext:"f4p",mime:"video/mp4"};case"F4A":return{ext:"f4a",mime:"audio/mp4"};case"F4B":return{ext:"f4b",mime:"audio/mp4"};case"crx":return{ext:"cr3",mime:"image/x-canon-cr3"};default:return e.startsWith("3g")?e.startsWith("3g2")?{ext:"3g2",mime:"video/3gpp2"}:{ext:"3gp",mime:"video/3gpp"}:{ext:"mp4",mime:"video/mp4"}}}if(r("MThd"))return{ext:"mid",mime:"audio/midi"};if(r("wOFF")&&(t([0,1,0,0],{offset:4})||r("OTTO",{offset:4})))return{ext:"woff",mime:"font/woff"};if(r("wOF2")&&(t([0,1,0,0],{offset:4})||r("OTTO",{offset:4})))return{ext:"woff2",mime:"font/woff2"};if(t([212,195,178,161])||t([161,178,195,212]))return{ext:"pcap",mime:"application/vnd.tcpdump.pcap"};if(r("DSD "))return{ext:"dsf",mime:"audio/x-dsf"};if(r("LZIP"))return{ext:"lz",mime:"application/x-lzip"};if(r("fLaC"))return{ext:"flac",mime:"audio/x-flac"};if(t([66,80,71,251]))return{ext:"bpg",mime:"image/bpg"};if(r("wvpk"))return{ext:"wv",mime:"audio/wavpack"};if(r("%PDF")){await e.ignore(1350);const i=10485760,t=Buffer.alloc(Math.min(i,e.fileInfo.size));return await e.readBuffer(t,{mayBeLess:!0}),t.includes(Buffer.from("AIPrivateData"))?{ext:"ai",mime:"application/postscript"}:{ext:"pdf",mime:"application/pdf"}}if(t([0,97,115,109]))return{ext:"wasm",mime:"application/wasm"};if(t([73,73,42,0]))return r("CR",{offset:8})?{ext:"cr2",mime:"image/x-canon-cr2"}:t([28,0,254,0],{offset:8})||t([31,0,11,0],{offset:8})?{ext:"nef",mime:"image/x-nikon-nef"}:t([8,0,0,0],{offset:4})&&(t([45,0,254,0],{offset:8})||t([39,0,254,0],{offset:8}))?{ext:"dng",mime:"image/x-adobe-dng"}:(i=Buffer.alloc(24),await e.peekBuffer(i),(t([16,251,134,1],{offset:4})||t([8,0,0,0],{offset:4}))&&t([0,254,0,4,0,1,0,0,0,1,0,0,0,3,1],{offset:9})?{ext:"arw",mime:"image/x-sony-arw"}:{ext:"tif",mime:"image/tiff"});if(t([77,77,0,42]))return{ext:"tif",mime:"image/tiff"};if(r("MAC "))return{ext:"ape",mime:"audio/ape"};if(t([26,69,223,163])){async function a(){const i=await e.peekNumber(Token.UINT8);let t=128,r=0;for(;0==(i&t);)++r,t>>=1;const a=Buffer.alloc(r+1);return await e.readBuffer(a),a}async function m(){const e=await a(),i=await a();i[0]^=128>>i.length-1;const t=Math.min(6,i.length);return{id:e.readUIntBE(0,e.length),len:i.readUIntBE(i.length-t,t)}}const i=await m();switch(await async function(i,t){for(;t>0;){const i=await m();if(17026===i.id)return e.readToken(new Token.StringType(i.len,"utf-8"));await e.ignore(i.len),--t}}(0,i.len)){case"webm":return{ext:"webm",mime:"video/webm"};case"matroska":return{ext:"mkv",mime:"video/x-matroska"};default:return}}if(t([82,73,70,70])){if(t([65,86,73],{offset:8}))return{ext:"avi",mime:"video/vnd.avi"};if(t([87,65,86,69],{offset:8}))return{ext:"wav",mime:"audio/vnd.wave"};if(t([81,76,67,77],{offset:8}))return{ext:"qcp",mime:"audio/qcelp"}}if(r("SQLi"))return{ext:"sqlite",mime:"application/x-sqlite3"};if(t([78,69,83,26]))return{ext:"nes",mime:"application/x-nintendo-nes-rom"};if(r("Cr24"))return{ext:"crx",mime:"application/x-google-chrome-extension"};if(r("MSCF")||r("ISc("))return{ext:"cab",mime:"application/vnd.ms-cab-compressed"};if(t([237,171,238,219]))return{ext:"rpm",mime:"application/x-rpm"};if(t([197,208,211,198]))return{ext:"eps",mime:"application/eps"};if(t([40,181,47,253]))return{ext:"zst",mime:"application/zstd"};if(t([79,84,84,79,0]))return{ext:"otf",mime:"font/otf"};if(r("#!AMR"))return{ext:"amr",mime:"audio/amr"};if(r("{\\rtf"))return{ext:"rtf",mime:"application/rtf"};if(t([70,76,86,1]))return{ext:"flv",mime:"video/x-flv"};if(r("IMPM"))return{ext:"it",mime:"audio/x-it"};if(r("-lh0-",{offset:2})||r("-lh1-",{offset:2})||r("-lh2-",{offset:2})||r("-lh3-",{offset:2})||r("-lh4-",{offset:2})||r("-lh5-",{offset:2})||r("-lh6-",{offset:2})||r("-lh7-",{offset:2})||r("-lzs-",{offset:2})||r("-lz4-",{offset:2})||r("-lz5-",{offset:2})||r("-lhd-",{offset:2}))return{ext:"lzh",mime:"application/x-lzh-compressed"};if(t([0,0,1,186])){if(t([33],{offset:4,mask:[241]}))return{ext:"mpg",mime:"video/MP1S"};if(t([68],{offset:4,mask:[196]}))return{ext:"mpg",mime:"video/MP2P"}}if(r("ITSF"))return{ext:"chm",mime:"application/vnd.ms-htmlhelp"};if(t([253,55,122,88,90,0]))return{ext:"xz",mime:"application/x-xz"};if(r("<?xml "))return{ext:"xml",mime:"application/xml"};if(t([55,122,188,175,39,28]))return{ext:"7z",mime:"application/x-7z-compressed"};if(t([82,97,114,33,26,7])&&(0===i[6]||1===i[6]))return{ext:"rar",mime:"application/x-rar-compressed"};if(r("solid "))return{ext:"stl",mime:"model/stl"};if(r("BLENDER"))return{ext:"blend",mime:"application/x-blender"};if(r("!<arch>")){return await e.ignore(8),"debian-binary"===await e.readToken(new Token.StringType(13,"ascii"))?{ext:"deb",mime:"application/x-deb"}:{ext:"ar",mime:"application/x-unix-archive"}}if(t([137,80,78,71,13,10,26,10])){async function n(){return{length:await e.readToken(Token.INT32_BE),type:await e.readToken(new Token.StringType(4,"binary"))}}await e.ignore(8);do{const i=await n();if(i.length<0)return;switch(i.type){case"IDAT":return{ext:"png",mime:"image/png"};case"acTL":return{ext:"apng",mime:"image/apng"};default:await e.ignore(i.length+4)}}while(e.position+8<e.fileInfo.size);return{ext:"png",mime:"image/png"}}if(t([65,82,82,79,87,49,0,0]))return{ext:"arrow",mime:"application/x-apache-arrow"};if(t([103,108,84,70,2,0,0,0]))return{ext:"glb",mime:"model/gltf-binary"};if(t([102,114,101,101],{offset:4})||t([109,100,97,116],{offset:4})||t([109,111,111,118],{offset:4})||t([119,105,100,101],{offset:4}))return{ext:"mov",mime:"video/quicktime"};if(t([73,73,82,79,8,0,0,0,24]))return{ext:"orf",mime:"image/x-olympus-orf"};if(r("gimp xcf "))return{ext:"xcf",mime:"image/x-xcf"};if(t([73,73,85,0,24,0,0,0,136,231,116,216]))return{ext:"rw2",mime:"image/x-panasonic-rw2"};if(t([48,38,178,117,142,102,207,17,166,217])){async function f(){const i=Buffer.alloc(16);return await e.readBuffer(i),{id:i,size:Number(await e.readToken(Token.UINT64_LE))}}for(await e.ignore(30);e.position+24<e.fileInfo.size;){const i=await f();let t=i.size-24;if(_check(i.id,[145,7,220,183,183,169,207,17,142,230,0,192,12,32,83,101])){const i=Buffer.alloc(16);if(t-=await e.readBuffer(i),_check(i,[64,158,105,248,77,91,207,17,168,253,0,128,95,92,68,43]))return{ext:"asf",mime:"audio/x-ms-asf"};if(_check(i,[192,239,25,188,77,91,207,17,168,253,0,128,95,92,68,43]))return{ext:"asf",mime:"video/x-ms-asf"};break}await e.ignore(t)}return{ext:"asf",mime:"application/vnd.ms-asf"}}if(t([171,75,84,88,32,49,49,187,13,10,26,10]))return{ext:"ktx",mime:"image/ktx"};if((t([126,16,4])||t([126,24,4]))&&t([48,77,73,69],{offset:4}))return{ext:"mie",mime:"application/x-mie"};if(t([39,10,0,0,0,0,0,0,0,0,0,0],{offset:2}))return{ext:"shp",mime:"application/x-esri-shape"};if(t([0,0,0,12,106,80,32,32,13,10,135,10])){switch(await e.ignore(20),await e.readToken(new Token.StringType(4,"ascii"))){case"jp2 ":return{ext:"jp2",mime:"image/jp2"};case"jpx ":return{ext:"jpx",mime:"image/jpx"};case"jpm ":return{ext:"jpm",mime:"image/jpm"};case"mjp2":return{ext:"mj2",mime:"image/mj2"};default:return}}if(t([255,10])||t([0,0,0,12,74,88,76,32,13,10,135,10]))return{ext:"jxl",mime:"image/jxl"};if(t([0,0,1,186])||t([0,0,1,179]))return{ext:"mpg",mime:"video/mpeg"};if(t([0,1,0,0,0]))return{ext:"ttf",mime:"font/ttf"};if(t([0,0,1,0]))return{ext:"ico",mime:"image/x-icon"};if(t([0,0,2,0]))return{ext:"cur",mime:"image/x-icon"};if(t([208,207,17,224,161,177,26,225]))return{ext:"cfb",mime:"application/x-cfb"};if(await e.peekBuffer(i,{length:Math.min(256,e.fileInfo.size),mayBeLess:!0}),r("BEGIN:")){if(r("VCARD",{offset:6}))return{ext:"vcf",mime:"text/vcard"};if(r("VCALENDAR",{offset:6}))return{ext:"ics",mime:"text/calendar"}}if(r("FUJIFILMCCD-RAW"))return{ext:"raf",mime:"image/x-fujifilm-raf"};if(r("Extended Module:"))return{ext:"xm",mime:"audio/x-xm"};if(r("Creative Voice File"))return{ext:"voc",mime:"audio/x-voc"};if(t([4,0,0,0])&&i.length>=16){const e=i.readUInt32LE(12);if(e>12&&i.length>=e+16)try{const t=i.slice(16,e+16).toString();if(JSON.parse(t).files)return{ext:"asar",mime:"application/x-asar"}}catch(s){}}if(t([6,14,43,52,2,5,1,1,13,1,2,1,1,2]))return{ext:"mxf",mime:"application/mxf"};if(r("SCRM",{offset:44}))return{ext:"s3m",mime:"audio/x-s3m"};if(t([71],{offset:4})&&(t([71],{offset:192})||t([71],{offset:196})))return{ext:"mts",mime:"video/mp2t"};if(t([66,79,79,75,77,79,66,73],{offset:60}))return{ext:"mobi",mime:"application/x-mobipocket-ebook"};if(t([68,73,67,77],{offset:128}))return{ext:"dcm",mime:"application/dicom"};if(t([76,0,0,0,1,20,2,0,0,0,0,0,192,0,0,0,0,0,0,70]))return{ext:"lnk",mime:"application/x.ms.shortcut"};if(t([98,111,111,107,0,0,0,0,109,97,114,107,0,0,0,0]))return{ext:"alias",mime:"application/x.apple.alias"};if(t([76,80],{offset:34})&&(t([0,0,1],{offset:8})||t([1,0,2],{offset:8})||t([2,0,2],{offset:8})))return{ext:"eot",mime:"application/vnd.ms-fontobject"};if(t([6,6,237,245,216,29,70,229,189,49,239,231,254,116,183,29]))return{ext:"indd",mime:"application/x-indesign"};if(await e.peekBuffer(i,{length:Math.min(512,e.fileInfo.size),mayBeLess:!0}),tarHeaderChecksumMatches(i))return{ext:"tar",mime:"application/x-tar"};if(t([255,254,255,14,83,0,107,0,101,0,116,0,99,0,104,0,85,0,112,0,32,0,77,0,111,0,100,0,101,0,108,0]))return{ext:"skp",mime:"application/vnd.sketchup.skp"};if(r("-----BEGIN PGP MESSAGE-----"))return{ext:"pgp",mime:"application/pgp-encrypted"};if(i.length>=2&&t([255,224],{offset:0,mask:[255,224]})){if(t([16],{offset:1,mask:[22]}))return t([8],{offset:1,mask:[8]}),{ext:"aac",mime:"audio/aac"};if(t([2],{offset:1,mask:[6]}))return{ext:"mp3",mime:"audio/mpeg"};if(t([4],{offset:1,mask:[6]}))return{ext:"mp2",mime:"audio/mpeg"};if(t([6],{offset:1,mask:[6]}))return{ext:"mp1",mime:"audio/mpeg"}}}const stream=readableStream=>new Promise((resolve,reject)=>{const stream=eval("require")("stream");readableStream.on("error",reject),readableStream.once("readable",async()=>{const e=new stream.PassThrough;let i;i=stream.pipeline?stream.pipeline(readableStream,e,()=>{}):readableStream.pipe(e);const t=readableStream.read(minimumBytes)||readableStream.read()||Buffer.alloc(0);try{const i=await fromBuffer(t);e.fileType=i}catch(r){reject(r)}resolve(i)})}),fileType={fromStream:fromStream,fromTokenizer:fromTokenizer,fromBuffer:fromBuffer,stream:stream};Object.defineProperty(fileType,"extensions",{get:()=>new Set(supported.extensions)}),Object.defineProperty(fileType,"mimeTypes",{get:()=>new Set(supported.mimeTypes)}),module.exports=fileType;
},{"token-types":"rNGT","strtok3/lib/core":"YIXo","./util":"pjMP","./supported":"mBme","buffer":"peL6"}],"oXeu":[function(require,module,exports) {
"use strict";const e=require("strtok3"),t=require("./core");async function r(r){const i=await e.fromFile(r);try{return await t.fromTokenizer(i)}finally{await i.close()}}const i={fromFile:r};Object.assign(i,t),Object.defineProperty(i,"extensions",{get:()=>t.extensions}),Object.defineProperty(i,"mimeTypes",{get:()=>t.mimeTypes}),module.exports=i;
},{"strtok3":"nrH0","./core":"HYzL"}],"FAZt":[function(require,module,exports) {
"use strict";var e=require("@babel/runtime-corejs2/core-js/object/define-property"),r=require("@babel/runtime-corejs2/helpers/interopRequireDefault");e(exports,"__esModule",{value:!0}),exports.default=u;var t=r(require("@babel/runtime-corejs2/regenerator")),n=r(require("@babel/runtime-corejs2/helpers/asyncToGenerator")),a=require("file-type");function u(e){return i.apply(this,arguments)}function i(){return(i=(0,n.default)(t.default.mark(function e(r){var n;return t.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r instanceof Blob||r instanceof ArrayBuffer||r instanceof Uint8Array){e.next=2;break}throw new Error("`detect` requires a buffer of type Blob, ArrayBuffer, or Uint8Array");case 2:if(!(r instanceof Blob)){e.next=4;break}return e.abrupt("return",r.type);case 4:return e.next=6,(0,a.fromBuffer)(r);case 6:if(n=e.sent){e.next=9;break}return e.abrupt("return","application/octet-stream");case 9:return e.abrupt("return",n.mime);case 10:case"end":return e.stop()}},e)}))).apply(this,arguments)}
},{"@babel/runtime-corejs2/core-js/object/define-property":"eIqn","@babel/runtime-corejs2/helpers/interopRequireDefault":"LXwi","@babel/runtime-corejs2/regenerator":"i9LV","@babel/runtime-corejs2/helpers/asyncToGenerator":"OYLD","file-type":"oXeu"}],"vAdo":[function(require,module,exports) {
"use strict";var e=require("@babel/runtime-corejs2/core-js/array/from"),r=require("@babel/runtime-corejs2/core-js/symbol"),t=require("@babel/runtime-corejs2/core-js/symbol/iterator"),o=require("@babel/runtime-corejs2/core-js/array/is-array"),n=require("@babel/runtime-corejs2/core-js/object/define-property"),a=require("@babel/runtime-corejs2/helpers/interopRequireDefault");n(exports,"__esModule",{value:!0}),exports.default=w;var u=a(require("@babel/runtime-corejs2/regenerator")),i=a(require("@babel/runtime-corejs2/core-js/promise")),s=a(require("@babel/runtime-corejs2/core-js/object/keys")),c=a(require("@babel/runtime-corejs2/core-js/reflect/delete-property")),d=a(require("@babel/runtime-corejs2/helpers/typeof")),l=a(require("@babel/runtime-corejs2/helpers/asyncToGenerator")),f=a(require("lodash/pick")),b=a(require("lodash/isArray")),p=a(require("lodash/defaults")),h=a(require("qs")),m=a(require("../lib/xhr")),y=a(require("../lib/detect"));function j(e,n){var a=void 0!==r&&e[t]||e["@@iterator"];if(!a){if(o(e)||(a=q(e))||n&&e&&"number"==typeof e.length){a&&(e=a);var u=0,i=function(){};return{s:i,n:function(){return u>=e.length?{done:!0}:{done:!1,value:e[u++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,c=!0,d=!1;return{s:function(){a=a.call(e)},n:function(){var e=a.next();return c=e.done,e},e:function(e){d=!0,s=e},f:function(){try{c||null==a.return||a.return()}finally{if(d)throw s}}}}function q(r,t){if(r){if("string"==typeof r)return g(r,t);var o=Object.prototype.toString.call(r).slice(8,-1);return"Object"===o&&r.constructor&&(o=r.constructor.name),"Map"===o||"Set"===o?e(r):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?g(r,t):void 0}}function g(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,o=new Array(r);t<r;t++)o[t]=e[t];return o}function w(e){return new i.default(function(t){var o=(0,f.default)(e,"method","uri","withCredentials","headers","timeout","responseType");o.response=!0,function(e){e.xhr=new XMLHttpRequest}(o),function(e,r){e.method&&["PATCH","POST","PUT"].includes(e.method.toUpperCase())&&(e.xhr||(e.xhr=new XMLHttpRequest),e.xhr.upload.onprogress=r.upload.emit.bind(r.upload,"progress"))}(o,e),function(e,r){if(r.auth)if(r.auth.bearer)e.headers.authorization="Bearer ".concat(r.auth.bearer);else{var t=r.auth.user||r.auth.username,o=r.auth.pass||r.auth.password,n=btoa("".concat(t,":").concat(o));e.headers.authorization="Basic ".concat(n)}}(o,e),function(e,r){r.jar&&(e.withCredentials=!0)}(o,e),function(e,r){var t={cors:!0,withCredentials:!1,timeout:0};(0,p.default)(e,(0,f.default)(r,(0,s.default)(t)),t)}(o,e),function(e,r){"buffer"===r.responseType&&(e.responseType="arraybuffer")}(o,e),function(e,t){r.apply(this,arguments)}(o,e),function(e,r){"json"in r&&!0!==r.json||!r.body?r.form?(e.headers["Content-Type"]="application/x-www-form-urlencoded",e.body=h.default.stringify(r.form),(0,c.default)(e,"json")):r.formData?e.body=(0,s.default)(r.formData).reduce(function(e,t){var o=r.formData[t];return function e(r,t,o){if((0,b.default)(o)){var n,a=j(o);try{for(a.s();!(n=a.n()).done;){var u=n.value;e(r,t,u)}}catch(i){a.e(i)}finally{a.f()}return}o=function(e){if(e instanceof ArrayBuffer){var r=e.type?new Blob([e],{type:e.type}):new Blob([e]);return r.filename=e.filename||e.name||"untitled",r}return e}(o);o.name?(o.filename=o.name,r.append(t,o,o.name)):r.append(t,o)}(e,t,o),e},new FormData):(e.body=r.body,(0,c.default)(e,"json")):e.json=r.body}(o,e),function(e,r){r.qs&&(e.uri+="?".concat(h.default.stringify(r.qs)))}(o,e),e.logger.debug("start http ".concat(e.method?e.method:"request"," to ").concat(e.uri)),(0,m.default)(o,function(r,n){r&&e.logger.warn(r),n?(n.statusCode>=400?e.logger.warn("http ".concat(e.method?e.method:"request"," to ").concat(e.uri," result: ").concat(n.statusCode)):e.logger.debug("http ".concat(e.method?e.method:"request"," to ").concat(e.uri," result: ").concat(n.statusCode)),n.options=e,function(e,r){if(!r.json&&"object"!==(0,d.default)(e.body))try{e.body=JSON.parse(e.body)}catch(t){}}(n,o),t(n)):t({statusCode:0,options:e,headers:e.headers,method:e.method,url:e.uri,body:r})}).onprogress=e.download.emit.bind(e.download,"progress")}).catch(function(r){return e.logger.warn(r),{statusCode:0,options:e,headers:e.headers,method:e.method,url:e.uri,body:r}});function r(){return(r=(0,l.default)(u.default.mark(function e(r,t){return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t.body instanceof Blob||t.body instanceof ArrayBuffer)){e.next=8;break}if(t.json=r.json=!1,e.t0=r.headers["content-type"],e.t0){e.next=7;break}return e.next=6,(0,y.default)(t.body);case 6:e.t0=e.sent;case 7:r.headers["content-type"]=e.t0;case 8:case"end":return e.stop()}},e)}))).apply(this,arguments)}}
},{"@babel/runtime-corejs2/core-js/array/from":"ybNn","@babel/runtime-corejs2/core-js/symbol":"mr6k","@babel/runtime-corejs2/core-js/symbol/iterator":"uGl8","@babel/runtime-corejs2/core-js/array/is-array":"BpbX","@babel/runtime-corejs2/core-js/object/define-property":"eIqn","@babel/runtime-corejs2/helpers/interopRequireDefault":"LXwi","@babel/runtime-corejs2/regenerator":"i9LV","@babel/runtime-corejs2/core-js/promise":"eOfj","@babel/runtime-corejs2/core-js/object/keys":"d81a","@babel/runtime-corejs2/core-js/reflect/delete-property":"CFlp","@babel/runtime-corejs2/helpers/typeof":"hVHy","@babel/runtime-corejs2/helpers/asyncToGenerator":"OYLD","lodash/pick":"N5Tq","lodash/isArray":"p0cq","lodash/defaults":"mpS4","qs":"OFf3","../lib/xhr":"NDt3","../lib/detect":"FAZt"}],"BPVW":[function(require,module,exports) {
"use strict";var e=require("@babel/runtime-corejs2/core-js/object/define-property"),r=require("@babel/runtime-corejs2/helpers/interopRequireDefault");e(exports,"__esModule",{value:!0}),exports.default=u;var t=r(require("@babel/runtime-corejs2/core-js/promise")),n=require("events"),o=r(require("./request"));function u(e){return e.url&&(e.uri=e.url,e.url=null),e.headers=e.headers||{},e.download=new n.EventEmitter,e.upload=new n.EventEmitter,r(e.interceptors,"Request").then(function(){for(var r=arguments.length,t=new Array(r),n=0;n<r;n++)t[n]=arguments[n];return o.default.apply(void 0,[e].concat(t))}).then(function(){for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return r.apply(void 0,[e.interceptors.slice().reverse(),"Response"].concat(n))});function r(r,n,o){var u="on".concat(n),i="on".concat(n,"Error");return r.reduce(function(r,n){return r.then(function(r){return n.logOptions(e),n[u]?n[u](e,r):t.default.resolve(r)},function(r){return n.logOptions(e),n[i]?n[i](e,r):t.default.reject(r)})},t.default.resolve(o))}}
},{"@babel/runtime-corejs2/core-js/object/define-property":"eIqn","@babel/runtime-corejs2/helpers/interopRequireDefault":"LXwi","@babel/runtime-corejs2/core-js/promise":"eOfj","events":"FRpO","./request":"vAdo"}],"g47Y":[function(require,module,exports) {
var r=require("./_export");r(r.S,"Number",{isNaN:function(r){return r!=r}});
},{"./_export":"mBzY"}],"pDkX":[function(require,module,exports) {
require("../../modules/es6.number.is-nan"),module.exports=require("../../modules/_core").Number.isNaN;
},{"../../modules/es6.number.is-nan":"g47Y","../../modules/_core":"RosZ"}],"CysC":[function(require,module,exports) {
module.exports=require("core-js/library/fn/number/is-nan");
},{"core-js/library/fn/number/is-nan":"pDkX"}],"ZvaF":[function(require,module,exports) {
var e=require("./_baseGetTag"),r=require("./isObjectLike"),t="[object Number]";function u(u){return"number"==typeof u||r(u)&&e(u)==t}module.exports=u;
},{"./_baseGetTag":"e5TX","./isObjectLike":"OuyB"}],"Kvkp":[function(require,module,exports) {
"use strict";var e=require("@babel/runtime-corejs2/core-js/object/define-property"),r=require("@babel/runtime-corejs2/helpers/interopRequireDefault");e(exports,"__esModule",{value:!0}),exports.default=l;var u=r(require("@babel/runtime-corejs2/core-js/object/define-properties")),t=r(require("@babel/runtime-corejs2/core-js/number/is-nan")),a=r(require("lodash/isNumber"));function l(e,r){(0,u.default)(this,{loaded:{enumerable:!0,value:e,writable:!1},total:{enumerable:!0,value:r,writable:!1},lengthComputable:{enumerable:!0,value:(0,a.default)(e)&&!(0,t.default)(e)&&(0,a.default)(r)&&!(0,t.default)(r)&&r>0,writable:!1}})}
},{"@babel/runtime-corejs2/core-js/object/define-property":"eIqn","@babel/runtime-corejs2/helpers/interopRequireDefault":"LXwi","@babel/runtime-corejs2/core-js/object/define-properties":"CpmN","@babel/runtime-corejs2/core-js/number/is-nan":"CysC","lodash/isNumber":"ZvaF"}],"qRWj":[function(require,module,exports) {
"use strict";var e=require("@babel/runtime-corejs2/core-js/object/define-property"),r=require("@babel/runtime-corejs2/helpers/interopRequireDefault");e(exports,"__esModule",{value:!0}),e(exports,"HttpStatusInterceptor",{enumerable:!0,get:function(){return i.default}}),e(exports,"ProgressEvent",{enumerable:!0,get:function(){return p.default}}),e(exports,"Interceptor",{enumerable:!0,get:function(){return d.default}}),e(exports,"HttpError",{enumerable:!0,get:function(){return f.default}}),e(exports,"detect",{enumerable:!0,get:function(){return b.default}}),exports.request=exports.defaults=void 0;var t=r(require("@babel/runtime-corejs2/core-js/reflect/get-own-property-descriptor")),u=r(require("@babel/runtime-corejs2/core-js/reflect/define-property")),o=r(require("@babel/runtime-corejs2/core-js/reflect/delete-property")),s=r(require("lodash/isString")),n=r(require("lodash/defaults")),l=r(require("lodash/curry")),a=r(require("lodash/assign")),i=r(require("./interceptors/http-status")),c=r(require("./request")),p=r(require("./progress-event")),d=r(require("./lib/interceptor")),f=r(require("./http-error")),b=r(require("./lib/detect")),q=(0,l.default)(function(e,r){if((0,s.default)(r)){var l=r;(r=arguments[2]||{}).uri=l}return["download","interceptors","logger","upload"].forEach(function(e){var o=(0,t.default)(r,e);o=(0,a.default)({},o,{enumerable:!1,writable:!0}),(0,u.default)(r,e,o)}),(0,n.default)(r,e),r.json||!1===r.json||(0,o.default)(r,"json"),r.logger=r.logger||this.logger||console,(0,c.default)(r)}),g={json:!0,interceptors:[i.default.create()]},j=q;exports.defaults=j;var m=q(g);exports.request=m;
},{"@babel/runtime-corejs2/core-js/object/define-property":"eIqn","@babel/runtime-corejs2/helpers/interopRequireDefault":"LXwi","@babel/runtime-corejs2/core-js/reflect/get-own-property-descriptor":"ynE5","@babel/runtime-corejs2/core-js/reflect/define-property":"Gn7E","@babel/runtime-corejs2/core-js/reflect/delete-property":"CFlp","lodash/isString":"CkJF","lodash/defaults":"mpS4","lodash/curry":"L4BM","lodash/assign":"vlVw","./interceptors/http-status":"EnyY","./request":"BPVW","./progress-event":"Kvkp","./lib/interceptor":"Zmdh","./http-error":"n54q","./lib/detect":"FAZt"}],"j3Do":[function(require,module,exports) {
var e="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(e){var o=new Uint8Array(16);module.exports=function(){return e(o),o}}else{var r=new Array(16);module.exports=function(){for(var e,o=0;o<16;o++)0==(3&o)&&(e=4294967296*Math.random()),r[o]=e>>>((3&o)<<3)&255;return r}}
},{}],"HSap":[function(require,module,exports) {
for(var r=[],o=0;o<256;++o)r[o]=(o+256).toString(16).substr(1);function t(o,t){var n=t||0,u=r;return[u[o[n++]],u[o[n++]],u[o[n++]],u[o[n++]],"-",u[o[n++]],u[o[n++]],"-",u[o[n++]],u[o[n++]],"-",u[o[n++]],u[o[n++]],"-",u[o[n++]],u[o[n++]],u[o[n++]],u[o[n++]],u[o[n++]],u[o[n++]]].join("")}module.exports=t;
},{}],"ywjV":[function(require,module,exports) {
var e,r,o=require("./lib/rng"),s=require("./lib/bytesToUuid"),i=0,n=0;function c(c,l,u){var v=l&&u||0,a=l||[],d=(c=c||{}).node||e,t=void 0!==c.clockseq?c.clockseq:r;if(null==d||null==t){var m=o();null==d&&(d=e=[1|m[0],m[1],m[2],m[3],m[4],m[5]]),null==t&&(t=r=16383&(m[6]<<8|m[7]))}var q=void 0!==c.msecs?c.msecs:(new Date).getTime(),f=void 0!==c.nsecs?c.nsecs:n+1,b=q-i+(f-n)/1e4;if(b<0&&void 0===c.clockseq&&(t=t+1&16383),(b<0||q>i)&&void 0===c.nsecs&&(f=0),f>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");i=q,n=f,r=t;var k=(1e4*(268435455&(q+=122192928e5))+f)%4294967296;a[v++]=k>>>24&255,a[v++]=k>>>16&255,a[v++]=k>>>8&255,a[v++]=255&k;var w=q/4294967296*1e4&268435455;a[v++]=w>>>8&255,a[v++]=255&w,a[v++]=w>>>24&15|16,a[v++]=w>>>16&255,a[v++]=t>>>8|128,a[v++]=255&t;for(var g=0;g<6;++g)a[v+g]=d[g];return l||s(a)}module.exports=c;
},{"./lib/rng":"j3Do","./lib/bytesToUuid":"HSap"}],"wbeA":[function(require,module,exports) {
var r=require("./lib/rng"),n=require("./lib/bytesToUuid");function e(e,i,u){var a=i&&u||0;"string"==typeof e&&(i="binary"===e?new Array(16):null,e=null);var l=(e=e||{}).random||(e.rng||r)();if(l[6]=15&l[6]|64,l[8]=63&l[8]|128,i)for(var o=0;o<16;++o)i[a+o]=l[o];return i||n(l)}module.exports=e;
},{"./lib/rng":"j3Do","./lib/bytesToUuid":"HSap"}],"hxMR":[function(require,module,exports) {
var e=require("./v1"),r=require("./v4"),v=r;v.v1=e,v.v4=r,module.exports=v;
},{"./v1":"ywjV","./v4":"wbeA"}],"MoAh":[function(require,module,exports) {
"use strict";var e=require("@babel/runtime-corejs2/core-js/reflect/construct"),r=require("@babel/runtime-corejs2/core-js/object/define-property"),t=require("@babel/runtime-corejs2/helpers/interopRequireDefault");r(exports,"__esModule",{value:!0}),exports.default=void 0;var a=t(require("@babel/runtime-corejs2/core-js/reflect/delete-property")),n=t(require("@babel/runtime-corejs2/core-js/promise")),i=t(require("@babel/runtime-corejs2/helpers/classCallCheck")),u=t(require("@babel/runtime-corejs2/helpers/createClass")),o=t(require("@babel/runtime-corejs2/helpers/inherits")),s=t(require("@babel/runtime-corejs2/helpers/possibleConstructorReturn")),l=t(require("@babel/runtime-corejs2/helpers/getPrototypeOf")),c=require("@webex/http-core");function f(r){var t=h();return function(){var a,n=(0,l.default)(r);if(t){var i=(0,l.default)(this).constructor;a=e(n,arguments,i)}else a=n.apply(this,arguments);return(0,s.default)(this,a)}}function h(){if("undefined"==typeof Reflect||!e)return!1;if(e.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(e(Boolean,[],function(){})),!0}catch(r){return!1}}var d=function(e){(0,o.default)(t,e);var r=f(t);function t(){return(0,i.default)(this,t),r.apply(this,arguments)}return(0,u.default)(t,[{key:"onRequest",value:function(e){var r=this;return e.headers=e.headers||{},"authorization"in e.headers||"auth"in e?(e.headers.authorization||(0,a.default)(e.headers,"authorization"),n.default.resolve(e)):this.requiresCredentials(e).then(function(t){return t?r.webex.credentials.getUserToken().then(function(r){return e.headers.authorization=r.toString(),e}):e})}},{key:"requiresCredentials",value:function(e){var r=this;if(!1===e.addAuthHeader)return n.default.resolve(!1);if(!this.webex.internal.services)return n.default.resolve(!1);var t=this.webex.internal.services,a=(t.getServiceFromUrl(e.uri||"")||{}).name,i=e.resource,u=e.uri,o=e.service||e.api;return o&&"u2c"===o||a&&"u2c"===a?i&&i.includes("limited")||u&&u.includes("limited")?n.default.resolve(!1):n.default.resolve(!0):t.validateDomains&&t.hasAllowedDomains()&&u&&t.isAllowedDomainUrl(u)?n.default.resolve(!0):t.waitForService({name:o,url:u}).then(function(e){return!!t.getServiceFromUrl(e)}).catch(function(e){return r.webex.logger.warn("auth-interceptor: failed to validate service exists in catalog",e),!1})}},{key:"onResponseError",value:function(e,r){var t=this;return this.shouldAttemptReauth(r,e).then(function(i){return i&&(t.webex.logger.info("auth: received 401, attempting to reauthenticate"),r.options.headers&&(0,a.default)(r.options.headers,"authorization"),t.webex.credentials.canRefresh)?t.webex.credentials.refresh().then(function(){return t.replay(e)}):n.default.reject(r)})}},{key:"replay",value:function(e){return e.replayCount?e.replayCount+=1:e.replayCount=1,e.replayCount>this.webex.config.maxAuthenticationReplays?(this.webex.logger.error("auth: failed after ".concat(this.webex.config.maxAuthenticationReplays," replay attempts")),n.default.reject(new Error("Failed after ".concat(this.webex.config.maxAuthenticationReplays," replay attempts")))):(this.webex.logger.info("auth: replaying request ".concat(e.replayCount," time")),this.webex.request(e))}},{key:"shouldAttemptReauth",value:function(e,r){return r&&!1===r.shouldRefreshAccessToken?n.default.resolve(!1):401===e.statusCode?n.default.resolve(!0):n.default.resolve(!1)}}],[{key:"create",value:function(){return new t({webex:this})}}]),t}(c.Interceptor);exports.default=d;
},{"@babel/runtime-corejs2/core-js/reflect/construct":"vZQy","@babel/runtime-corejs2/core-js/object/define-property":"eIqn","@babel/runtime-corejs2/helpers/interopRequireDefault":"LXwi","@babel/runtime-corejs2/core-js/reflect/delete-property":"CFlp","@babel/runtime-corejs2/core-js/promise":"eOfj","@babel/runtime-corejs2/helpers/classCallCheck":"Tzth","@babel/runtime-corejs2/helpers/createClass":"xM5U","@babel/runtime-corejs2/helpers/inherits":"CdTE","@babel/runtime-corejs2/helpers/possibleConstructorReturn":"w9GY","@babel/runtime-corejs2/helpers/getPrototypeOf":"Qxr1","@webex/http-core":"qRWj"}],"usqK":[function(require,module,exports) {
var e=require("./_export");e(e.S,"Date",{now:function(){return(new Date).getTime()}});
},{"./_export":"mBzY"}],"jKUH":[function(require,module,exports) {
require("../../modules/es6.date.now"),module.exports=require("../../modules/_core").Date.now;
},{"../../modules/es6.date.now":"usqK","../../modules/_core":"RosZ"}],"Pb2S":[function(require,module,exports) {
module.exports=require("core-js/library/fn/date/now");
},{"core-js/library/fn/date/now":"jKUH"}],"YlmB":[function(require,module,exports) {
"use strict";var e=require("@babel/runtime-corejs2/core-js/reflect/construct"),r=require("@babel/runtime-corejs2/core-js/object/define-property"),t=require("@babel/runtime-corejs2/helpers/interopRequireDefault");r(exports,"__esModule",{value:!0}),exports.default=void 0;var n=t(require("@babel/runtime-corejs2/core-js/date/now")),u=t(require("@babel/runtime-corejs2/core-js/promise")),o=t(require("@babel/runtime-corejs2/helpers/classCallCheck")),i=t(require("@babel/runtime-corejs2/helpers/createClass")),s=t(require("@babel/runtime-corejs2/helpers/inherits")),a=t(require("@babel/runtime-corejs2/helpers/possibleConstructorReturn")),l=t(require("@babel/runtime-corejs2/helpers/getPrototypeOf")),c=require("@webex/http-core");function f(r){var t=p();return function(){var n,u=(0,l.default)(r);if(t){var o=(0,l.default)(this).constructor;n=e(u,arguments,o)}else n=u.apply(this,arguments);return(0,a.default)(this,n)}}function p(){if("undefined"==typeof Reflect||!e)return!1;if(e.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(e(Boolean,[],function(){})),!0}catch(r){return!1}}var b=function(e){(0,s.default)(t,e);var r=f(t);function t(){return(0,o.default)(this,t),r.apply(this,arguments)}return(0,i.default)(t,[{key:"onRequest",value:function(e){return e.$timings=e.$timings||{},e.$timings.networkStart=(0,n.default)(),e}},{key:"onResponse",value:function(e,r){return e.$timings.networkEnd=(0,n.default)(),r}},{key:"onResponseError",value:function(e,r){return e.$timings.networkEnd=(0,n.default)(),u.default.reject(r)}}],[{key:"create",value:function(e){return new t(this,e)}}]),t}(c.Interceptor);exports.default=b;
},{"@babel/runtime-corejs2/core-js/reflect/construct":"vZQy","@babel/runtime-corejs2/core-js/object/define-property":"eIqn","@babel/runtime-corejs2/helpers/interopRequireDefault":"LXwi","@babel/runtime-corejs2/core-js/date/now":"Pb2S","@babel/runtime-corejs2/core-js/promise":"eOfj","@babel/runtime-corejs2/helpers/classCallCheck":"Tzth","@babel/runtime-corejs2/helpers/createClass":"xM5U","@babel/runtime-corejs2/helpers/inherits":"CdTE","@babel/runtime-corejs2/helpers/possibleConstructorReturn":"w9GY","@babel/runtime-corejs2/helpers/getPrototypeOf":"Qxr1","@webex/http-core":"qRWj"}],"Fn2l":[function(require,module,exports) {
"use strict";var e=require("@babel/runtime-corejs2/core-js/reflect/construct"),r=require("@babel/runtime-corejs2/core-js/object/define-property"),t=require("@babel/runtime-corejs2/helpers/interopRequireDefault");r(exports,"__esModule",{value:!0}),exports.default=void 0;var n=t(require("@babel/runtime-corejs2/core-js/promise")),u=t(require("@babel/runtime-corejs2/helpers/classCallCheck")),o=t(require("@babel/runtime-corejs2/helpers/createClass")),i=t(require("@babel/runtime-corejs2/helpers/inherits")),s=t(require("@babel/runtime-corejs2/helpers/possibleConstructorReturn")),a=t(require("@babel/runtime-corejs2/helpers/getPrototypeOf")),l=require("@webex/http-core");function c(r){var t=f();return function(){var n,u=(0,a.default)(r);if(t){var o=(0,a.default)(this).constructor;n=e(u,arguments,o)}else n=u.apply(this,arguments);return(0,s.default)(this,n)}}function f(){if("undefined"==typeof Reflect||!e)return!1;if(e.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(e(Boolean,[],function(){})),!0}catch(r){return!1}}var b=function(e){(0,i.default)(t,e);var r=c(t);function t(){return(0,u.default)(this,t),r.apply(this,arguments)}return(0,o.default)(t,[{key:"onRequest",value:function(e){return e.noTransform?e:this.webex.transform("outbound",e)}},{key:"onResponse",value:function(e,r){return this.webex.transform("inbound",r)}},{key:"onResponseError",value:function(e,r){return this.webex.transform("inbound",r).then(function(e){return n.default.reject(e||r)})}}],[{key:"create",value:function(){return new t({webex:this})}}]),t}(l.Interceptor);exports.default=b;
},{"@babel/runtime-corejs2/core-js/reflect/construct":"vZQy","@babel/runtime-corejs2/core-js/object/define-property":"eIqn","@babel/runtime-corejs2/helpers/interopRequireDefault":"LXwi","@babel/runtime-corejs2/core-js/promise":"eOfj","@babel/runtime-corejs2/helpers/classCallCheck":"Tzth","@babel/runtime-corejs2/helpers/createClass":"xM5U","@babel/runtime-corejs2/helpers/inherits":"CdTE","@babel/runtime-corejs2/helpers/possibleConstructorReturn":"w9GY","@babel/runtime-corejs2/helpers/getPrototypeOf":"Qxr1","@webex/http-core":"qRWj"}],"ACgM":[function(require,module,exports) {
var e=require("./_baseClone"),r=4;function n(n){return e(n,r)}module.exports=n;
},{"./_baseClone":"s7WH"}],"wTR3":[function(require,module,exports) {
"use strict";var e=require("@babel/runtime-corejs2/core-js/reflect/construct"),r=require("@babel/runtime-corejs2/core-js/object/define-property"),t=require("@babel/runtime-corejs2/helpers/interopRequireDefault");r(exports,"__esModule",{value:!0}),exports.default=void 0;var i=t(require("@babel/runtime-corejs2/core-js/reflect/delete-property")),u=t(require("@babel/runtime-corejs2/core-js/promise")),o=t(require("@babel/runtime-corejs2/helpers/classCallCheck")),n=t(require("@babel/runtime-corejs2/helpers/createClass")),s=t(require("@babel/runtime-corejs2/helpers/inherits")),c=t(require("@babel/runtime-corejs2/helpers/possibleConstructorReturn")),l=t(require("@babel/runtime-corejs2/helpers/getPrototypeOf")),a=t(require("lodash/clone")),d=require("@webex/http-core");function f(r){var t=b();return function(){var i,u=(0,l.default)(r);if(t){var o=(0,l.default)(this).constructor;i=e(u,arguments,o)}else i=u.apply(this,arguments);return(0,c.default)(this,i)}}function b(){if("undefined"==typeof Reflect||!e)return!1;if(e.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(e(Boolean,[],function(){})),!0}catch(r){return!1}}var h="cisco-no-http-redirect",p="cisco-location",x=2000002,m=function(e){(0,s.default)(t,e);var r=f(t);function t(){return(0,o.default)(this,t),r.apply(this,arguments)}return(0,n.default)(t,[{key:"onRequest",value:function(e){return e&&e.uri&&"string"==typeof e.uri&&(e.uri.includes("https://idbroker")||e.uri.includes(this.webex.config.credentials.samlUrl)||e.uri.includes(this.webex.config.credentials.tokenUrl)||e.uri.includes(this.webex.config.credentials.authorizeUrl))?e:h in e.headers?(e.headers[h]||(0,i.default)(e.headers,h),e):(e.headers[h]=!0,e.$redirectCount=e.$redirectCount||0,e)}},{key:"onResponse",value:function(e,r){if(r.headers&&r.headers[p])return(e=(0,a.default)(e)).uri=r.headers[p],e.$redirectCount+=1,e.$redirectCount>this.webex.config.maxAppLevelRedirects?u.default.reject(new Error("Maximum redirects exceeded")):this.webex.request(e);if(r.headers&&r.body&&r.body.errorCode===x&&r.body.location){if(e=(0,a.default)(e),this.webex.logger.warn("redirect: url redirects needed from",e.uri),r.options&&r.options.qs){var t=r.body.location.split("?");e.uri=t[0]}else e.uri=r.body.location;return this.webex.logger.warn("redirect: url redirects needed to",e.uri),e.$redirectCount+=1,e.$redirectCount>this.webex.config.maxLocusRedirects?u.default.reject(new Error("Maximum redirects exceeded")):this.webex.request(e)}return r}}],[{key:"create",value:function(){return new t({webex:this})}}]),t}(d.Interceptor);exports.default=m;
},{"@babel/runtime-corejs2/core-js/reflect/construct":"vZQy","@babel/runtime-corejs2/core-js/object/define-property":"eIqn","@babel/runtime-corejs2/helpers/interopRequireDefault":"LXwi","@babel/runtime-corejs2/core-js/reflect/delete-property":"CFlp","@babel/runtime-corejs2/core-js/promise":"eOfj","@babel/runtime-corejs2/helpers/classCallCheck":"Tzth","@babel/runtime-corejs2/helpers/createClass":"xM5U","@babel/runtime-corejs2/helpers/inherits":"CdTE","@babel/runtime-corejs2/helpers/possibleConstructorReturn":"w9GY","@babel/runtime-corejs2/helpers/getPrototypeOf":"Qxr1","lodash/clone":"ACgM","@webex/http-core":"qRWj"}],"ykRh":[function(require,module,exports) {
"use strict";var e=require("@babel/runtime-corejs2/core-js/reflect/construct"),r=require("@babel/runtime-corejs2/core-js/object/define-property"),t=require("@babel/runtime-corejs2/helpers/interopRequireDefault");r(exports,"__esModule",{value:!0}),exports.default=void 0;var u=t(require("@babel/runtime-corejs2/core-js/promise")),n=t(require("@babel/runtime-corejs2/helpers/classCallCheck")),s=t(require("@babel/runtime-corejs2/helpers/createClass")),o=t(require("@babel/runtime-corejs2/helpers/inherits")),a=t(require("@babel/runtime-corejs2/helpers/possibleConstructorReturn")),i=t(require("@babel/runtime-corejs2/helpers/getPrototypeOf")),l=t(require("lodash/get")),c=require("@webex/http-core");function f(r){var t=h();return function(){var u,n=(0,i.default)(r);if(t){var s=(0,i.default)(this).constructor;u=e(n,arguments,s)}else u=n.apply(this,arguments);return(0,a.default)(this,u)}}function h(){if("undefined"==typeof Reflect||!e)return!1;if(e.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(e(Boolean,[],function(){})),!0}catch(r){return!1}}var d=function(e){(0,o.default)(t,e);var r=f(t);function t(){return(0,n.default)(this,t),r.apply(this,arguments)}return(0,s.default)(t,[{key:"onRequest",value:function(e){var r=(0,l.default)(this,"webex.logger",console);try{this.webex.trigger("request:start",e)}catch(t){r.warn("event handler for request:start failed ",t)}return u.default.resolve(e)}},{key:"onRequestError",value:function(e,r){var t=(0,l.default)(this,"webex.logger",console);try{this.webex.trigger("request:end",e,r),this.webex.trigger("request:failure",e,r)}catch(n){t.warn("event handler for request:end failed ",n)}return u.default.reject(r)}},{key:"onResponse",value:function(e,r){var t=(0,l.default)(this,"webex.logger",console);try{this.webex.trigger("request:success",r.options,r)}catch(n){t.warn("event handler for request:success failed ",n)}return u.default.resolve(r)}},{key:"onResponseError",value:function(e,r){var t=(0,l.default)(this,"webex.logger",console);try{this.webex.trigger("request:end",e,r),this.webex.trigger("request:failure",e,r)}catch(n){t.warn("event handler for request:failure failed ",n)}return u.default.reject(r)}}],[{key:"create",value:function(){return new t({webex:this})}}]),t}(c.Interceptor);exports.default=d;
},{"@babel/runtime-corejs2/core-js/reflect/construct":"vZQy","@babel/runtime-corejs2/core-js/object/define-property":"eIqn","@babel/runtime-corejs2/helpers/interopRequireDefault":"LXwi","@babel/runtime-corejs2/core-js/promise":"eOfj","@babel/runtime-corejs2/helpers/classCallCheck":"Tzth","@babel/runtime-corejs2/helpers/createClass":"xM5U","@babel/runtime-corejs2/helpers/inherits":"CdTE","@babel/runtime-corejs2/helpers/possibleConstructorReturn":"w9GY","@babel/runtime-corejs2/helpers/getPrototypeOf":"Qxr1","lodash/get":"U5YY","@webex/http-core":"qRWj"}],"xzhp":[function(require,module,exports) {
"use strict";var e=require("@babel/runtime-corejs2/core-js/reflect/construct"),r=require("@babel/runtime-corejs2/core-js/object/define-property"),t=require("@babel/runtime-corejs2/helpers/interopRequireDefault");r(exports,"__esModule",{value:!0}),exports.default=void 0;var u=t(require("@babel/runtime-corejs2/core-js/promise")),i=t(require("@babel/runtime-corejs2/helpers/classCallCheck")),o=t(require("@babel/runtime-corejs2/helpers/createClass")),n=t(require("@babel/runtime-corejs2/helpers/inherits")),s=t(require("@babel/runtime-corejs2/helpers/possibleConstructorReturn")),a=t(require("@babel/runtime-corejs2/helpers/getPrototypeOf")),l=t(require("lodash/omit")),c=t(require("lodash/isString")),f=t(require("lodash/isArray")),d=t(require("lodash/has")),h=t(require("lodash/get")),p=t(require("util")),b=require("@webex/http-core");function q(r){var t=v();return function(){var u,i=(0,a.default)(r);if(t){var o=(0,a.default)(this).constructor;u=e(i,arguments,o)}else u=i.apply(this,arguments);return(0,s.default)(this,u)}}function v(){if("undefined"==typeof Reflect||!e)return!1;if(e.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(e(Boolean,[],function(){})),!0}catch(r){return!1}}var j=function(e){(0,n.default)(t,e);var r=q(t);function t(){return(0,i.default)(this,t),r.apply(this,arguments)}return(0,o.default)(t,[{key:"onRequest",value:function(e){var r=(0,h.default)(this,"webex.logger",console);r.info("/**********************************************************************\\ "),r.info("Request:",e.method||"GET",e.uri),r.info("WEBEX_TRACKINGID: ",(0,h.default)(e,"headers.trackingid")),(0,d.default)(e,"headers.x-trans-id")&&r.info("X-Trans-ID: ",(0,h.default)(e,"headers.x-trans-id"));new Date;return u.default.resolve(e)}},{key:"onRequestError",value:function(e,r){this.onRequest(e);var t=(0,h.default)(this,"webex.logger",console);return t.error("Request Failed: ",r.stack),t.info("\\**********************************************************************/"),u.default.reject(r)}}],[{key:"create",value:function(){return new t({webex:this})}}]),t}(b.Interceptor);exports.default=j;
},{"@babel/runtime-corejs2/core-js/reflect/construct":"vZQy","@babel/runtime-corejs2/core-js/object/define-property":"eIqn","@babel/runtime-corejs2/helpers/interopRequireDefault":"LXwi","@babel/runtime-corejs2/core-js/promise":"eOfj","@babel/runtime-corejs2/helpers/classCallCheck":"Tzth","@babel/runtime-corejs2/helpers/createClass":"xM5U","@babel/runtime-corejs2/helpers/inherits":"CdTE","@babel/runtime-corejs2/helpers/possibleConstructorReturn":"w9GY","@babel/runtime-corejs2/helpers/getPrototypeOf":"Qxr1","lodash/omit":"J2GV","lodash/isString":"CkJF","lodash/isArray":"p0cq","lodash/has":"HZ8X","lodash/get":"U5YY","util":"gfUn","@webex/http-core":"qRWj"}],"AgoH":[function(require,module,exports) {
"use strict";var e=require("@babel/runtime-corejs2/core-js/reflect/construct"),r=require("@babel/runtime-corejs2/core-js/object/define-property"),t=require("@babel/runtime-corejs2/helpers/interopRequireDefault");r(exports,"__esModule",{value:!0}),exports.default=void 0;var u=t(require("@babel/runtime-corejs2/core-js/date/now")),n=t(require("@babel/runtime-corejs2/core-js/promise")),i=t(require("@babel/runtime-corejs2/helpers/classCallCheck")),s=t(require("@babel/runtime-corejs2/helpers/createClass")),o=t(require("@babel/runtime-corejs2/helpers/inherits")),l=t(require("@babel/runtime-corejs2/helpers/possibleConstructorReturn")),a=t(require("@babel/runtime-corejs2/helpers/getPrototypeOf")),c=require("@webex/http-core");function f(r){var t=p();return function(){var u,n=(0,a.default)(r);if(t){var i=(0,a.default)(this).constructor;u=e(n,arguments,i)}else u=n.apply(this,arguments);return(0,l.default)(this,u)}}function p(){if("undefined"==typeof Reflect||!e)return!1;if(e.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(e(Boolean,[],function(){})),!0}catch(r){return!1}}var d=function(e){(0,o.default)(t,e);var r=f(t);function t(){return(0,i.default)(this,t),r.apply(this,arguments)}return(0,s.default)(t,[{key:"onRequest",value:function(e){return e.$timings=e.$timings||{},e.$timings.requestStart=(0,u.default)(),e}},{key:"onRequestError",value:function(e){return e.$timings.requestEnd=e.$timings.requestFail=(0,u.default)(),n.default.reject(e)}},{key:"onResponse",value:function(e,r){return e.$timings.requestEnd=(0,u.default)(),n.default.resolve(r)}},{key:"onResponseError",value:function(e,r){return e.$timings.requestEnd=e.$timings.requestFail=(0,u.default)(),n.default.reject(r)}}],[{key:"create",value:function(e){return new t(this,e)}}]),t}(c.Interceptor);exports.default=d;
},{"@babel/runtime-corejs2/core-js/reflect/construct":"vZQy","@babel/runtime-corejs2/core-js/object/define-property":"eIqn","@babel/runtime-corejs2/helpers/interopRequireDefault":"LXwi","@babel/runtime-corejs2/core-js/date/now":"Pb2S","@babel/runtime-corejs2/core-js/promise":"eOfj","@babel/runtime-corejs2/helpers/classCallCheck":"Tzth","@babel/runtime-corejs2/helpers/createClass":"xM5U","@babel/runtime-corejs2/helpers/inherits":"CdTE","@babel/runtime-corejs2/helpers/possibleConstructorReturn":"w9GY","@babel/runtime-corejs2/helpers/getPrototypeOf":"Qxr1","@webex/http-core":"qRWj"}],"Wotp":[function(require,module,exports) {
"use strict";var e=require("@babel/runtime-corejs2/core-js/reflect/construct"),r=require("@babel/runtime-corejs2/core-js/object/define-property"),t=require("@babel/runtime-corejs2/helpers/interopRequireDefault");r(exports,"__esModule",{value:!0}),exports.default=void 0;var n=t(require("@babel/runtime-corejs2/core-js/promise")),o=t(require("@babel/runtime-corejs2/helpers/typeof")),i=t(require("@babel/runtime-corejs2/helpers/classCallCheck")),u=t(require("@babel/runtime-corejs2/helpers/createClass")),s=t(require("@babel/runtime-corejs2/helpers/inherits")),a=t(require("@babel/runtime-corejs2/helpers/possibleConstructorReturn")),l=t(require("@babel/runtime-corejs2/helpers/getPrototypeOf")),c=t(require("lodash/omit")),f=t(require("lodash/get")),p=t(require("util")),d=require("@webex/http-core"),b=require("@webex/common");function h(r){var t=m();return function(){var n,o=(0,l.default)(r);if(t){var i=(0,l.default)(this).constructor;n=e(o,arguments,i)}else n=o.apply(this,arguments);return(0,a.default)(this,n)}}function m(){if("undefined"==typeof Reflect||!e)return!1;if(e.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(e(Boolean,[],function(){})),!0}catch(r){return!1}}var q=function(e){(0,s.default)(t,e);var r=h(t);function t(){return(0,i.default)(this,t),r.apply(this,arguments)}return(0,u.default)(t,[{key:"onResponse",value:function(e,r){new Date;this.printResponseHeader(e,r);var t=(0,f.default)(this,"webex.logger",console);return t.info("\\**********************************************************************/"),r}},{key:"onResponseError",value:function(e,r){new Date;this.printResponseHeader(e,r);var t=(0,f.default)(this,"webex.logger",console);return t.info("\\**********************************************************************/"),n.default.reject(r)}},{key:"printResponseHeader",value:function(e,r){var t=(0,f.default)(this,"webex.logger",console);t.info("Status Code:",r.statusCode),t.info("WEBEX_TRACKINGID:",(0,f.default)(e,"headers.trackingid")||(0,f.default)(r,"headers.trackingid")),t.info("Network duration:",e.$timings.networkEnd-e.$timings.networkStart),t.info("Processing duration:",e.$timings.requestEnd-e.$timings.requestStart)}}],[{key:"create",value:function(){return new t({webex:this})}}]),t}(d.Interceptor);exports.default=q;
},{"@babel/runtime-corejs2/core-js/reflect/construct":"vZQy","@babel/runtime-corejs2/core-js/object/define-property":"eIqn","@babel/runtime-corejs2/helpers/interopRequireDefault":"LXwi","@babel/runtime-corejs2/core-js/promise":"eOfj","@babel/runtime-corejs2/helpers/typeof":"hVHy","@babel/runtime-corejs2/helpers/classCallCheck":"Tzth","@babel/runtime-corejs2/helpers/createClass":"xM5U","@babel/runtime-corejs2/helpers/inherits":"CdTE","@babel/runtime-corejs2/helpers/possibleConstructorReturn":"w9GY","@babel/runtime-corejs2/helpers/getPrototypeOf":"Qxr1","lodash/omit":"J2GV","lodash/get":"U5YY","util":"gfUn","@webex/http-core":"qRWj","@webex/common":"UeF0"}],"vYaN":[function(require,module,exports) {
"use strict";var e=require("@babel/runtime-corejs2/core-js/reflect/construct"),r=require("@babel/runtime-corejs2/core-js/object/define-property"),t=require("@babel/runtime-corejs2/helpers/interopRequireDefault");r(exports,"__esModule",{value:!0}),exports.default=void 0;var o=t(require("@babel/runtime-corejs2/core-js/reflect/apply")),s=t(require("@babel/runtime-corejs2/core-js/reflect/define-property")),i=t(require("@babel/runtime-corejs2/helpers/classCallCheck")),n=t(require("@babel/runtime-corejs2/helpers/createClass")),a=t(require("@babel/runtime-corejs2/helpers/inherits")),u=t(require("@babel/runtime-corejs2/helpers/possibleConstructorReturn")),c=t(require("@babel/runtime-corejs2/helpers/getPrototypeOf")),l=require("@webex/http-core");function p(r){var t=h();return function(){var o,s=(0,c.default)(r);if(t){var i=(0,c.default)(this).constructor;o=e(s,arguments,i)}else o=s.apply(this,arguments);return(0,u.default)(this,o)}}function h(){if("undefined"==typeof Reflect||!e)return!1;if(e.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(e(Boolean,[],function(){})),!0}catch(r){return!1}}var f=function(e){(0,a.default)(t,e);var r=p(t);function t(){return(0,i.default)(this,t),r.apply(this,arguments)}return(0,n.default)(t,[{key:"parse",value:function(e){var r=(0,o.default)(l.HttpError.prototype.parse,this,[e]);return(0,s.default)(this,"options",{enumerable:!1,value:e.options}),this.options.url?r+="\n".concat(this.options.method," ").concat(this.options.url):this.options.uri?r+="\n".concat(this.options.method," ").concat(this.options.uri):r+="\n".concat(this.options.method," ").concat(this.options.service.toUpperCase(),"/").concat(this.options.resource),r+="\nWEBEX_TRACKING_ID: ".concat(this.options.headers.trackingid),this.options.headers&&this.options.headers["x-trans-id"]&&(r+="\nX-Trans-Id: ".concat(this.options.headers["x-trans-id"])),this.headers["retry-after"]&&((0,s.default)(this,"retryAfter",{enumerable:!0,value:this.headers["retry-after"],writeable:!1}),r+="\nRETRY-AFTER: ".concat(this.retryAfter)),r+="\n"}}]),t}(l.HttpError);exports.default=f,l.HttpError.makeSubTypes(f);var d=function(e){(0,a.default)(t,e);var r=p(t);function t(){return(0,i.default)(this,t),r.apply(this,arguments)}return t}(l.HttpError.BadRequest);l.HttpError[429]=d,l.HttpError.TooManyRequests=d;
},{"@babel/runtime-corejs2/core-js/reflect/construct":"vZQy","@babel/runtime-corejs2/core-js/object/define-property":"eIqn","@babel/runtime-corejs2/helpers/interopRequireDefault":"LXwi","@babel/runtime-corejs2/core-js/reflect/apply":"Lf7Q","@babel/runtime-corejs2/core-js/reflect/define-property":"Gn7E","@babel/runtime-corejs2/helpers/classCallCheck":"Tzth","@babel/runtime-corejs2/helpers/createClass":"xM5U","@babel/runtime-corejs2/helpers/inherits":"CdTE","@babel/runtime-corejs2/helpers/possibleConstructorReturn":"w9GY","@babel/runtime-corejs2/helpers/getPrototypeOf":"Qxr1","@webex/http-core":"qRWj"}],"PXFl":[function(require,module,exports) {
"use strict";var e=require("@babel/runtime-corejs2/core-js/reflect/construct"),r=require("@babel/runtime-corejs2/core-js/object/define-property"),t=require("@babel/runtime-corejs2/helpers/interopRequireDefault");r(exports,"__esModule",{value:!0}),exports.default=void 0;var u=t(require("@babel/runtime-corejs2/core-js/weak-map")),a=t(require("@babel/runtime-corejs2/helpers/classCallCheck")),n=t(require("@babel/runtime-corejs2/helpers/createClass")),s=t(require("@babel/runtime-corejs2/helpers/assertThisInitialized")),i=t(require("@babel/runtime-corejs2/helpers/inherits")),o=t(require("@babel/runtime-corejs2/helpers/possibleConstructorReturn")),l=t(require("@babel/runtime-corejs2/helpers/getPrototypeOf")),c=t(require("lodash/get")),f=require("@webex/common"),p=require("@webex/http-core");function b(r){var t=h();return function(){var u,a=(0,l.default)(r);if(t){var n=(0,l.default)(this).constructor;u=e(a,arguments,n)}else u=a.apply(this,arguments);return(0,o.default)(this,u)}}function h(){if("undefined"==typeof Reflect||!e)return!1;if(e.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(e(Boolean,[],function(){})),!0}catch(r){return!1}}var d=new u.default,m=function(e){(0,i.default)(t,e);var r=b(t);function t(){var e,u=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,a.default)(this,t);var n=(0,c.default)(u,"webex.config.appName"),i=(0,c.default)(u,"webex.config.appVersion")||"0.0";return e=r.call(this,u),n?d.set((0,s.default)(e),"".concat(n,"/").concat(i)):d.set((0,s.default)(e),"@webex/http-core"),e}return(0,n.default)(t,[{key:"onRequest",value:function(e){return f.inBrowser?e:(e.headers=e.headers||{},"user-agent"in e.headers&&e.headers["spark-user-agent"]?e:(e.headers["user-agent"]=d.get(this),e))}}],[{key:"create",value:function(){return new t({webex:this})}}]),t}(p.Interceptor);exports.default=m;
},{"@babel/runtime-corejs2/core-js/reflect/construct":"vZQy","@babel/runtime-corejs2/core-js/object/define-property":"eIqn","@babel/runtime-corejs2/helpers/interopRequireDefault":"LXwi","@babel/runtime-corejs2/core-js/weak-map":"HKHU","@babel/runtime-corejs2/helpers/classCallCheck":"Tzth","@babel/runtime-corejs2/helpers/createClass":"xM5U","@babel/runtime-corejs2/helpers/assertThisInitialized":"YqR0","@babel/runtime-corejs2/helpers/inherits":"CdTE","@babel/runtime-corejs2/helpers/possibleConstructorReturn":"w9GY","@babel/runtime-corejs2/helpers/getPrototypeOf":"Qxr1","lodash/get":"U5YY","@webex/common":"UeF0","@webex/http-core":"qRWj"}],"F8mn":[function(require,module,exports) {
"use strict";var e=require("@babel/runtime-corejs2/core-js/reflect/construct"),r=require("@babel/runtime-corejs2/core-js/object/define-property"),t=require("@babel/runtime-corejs2/helpers/interopRequireDefault");r(exports,"__esModule",{value:!0}),exports.default=void 0;var i=t(require("@babel/runtime-corejs2/helpers/classCallCheck")),n=t(require("@babel/runtime-corejs2/helpers/createClass")),u=t(require("@babel/runtime-corejs2/helpers/inherits")),a=t(require("@babel/runtime-corejs2/helpers/possibleConstructorReturn")),s=t(require("@babel/runtime-corejs2/helpers/getPrototypeOf")),c=t(require("@babel/runtime-corejs2/core-js/weak-map")),o=t(require("@babel/runtime-corejs2/core-js/reflect/delete-property")),l=require("@webex/http-core");function d(r){var t=f();return function(){var i,n=(0,s.default)(r);if(t){var u=(0,s.default)(this).constructor;i=e(n,arguments,u)}else i=n.apply(this,arguments);return(0,a.default)(this,i)}}function f(){if("undefined"==typeof Reflect||!e)return!1;if(e.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(e(Boolean,[],function(){})),!0}catch(r){return!1}}var h=new c.default,p=function(e){(0,u.default)(t,e);var r=d(t);function t(){return(0,i.default)(this,t),r.apply(this,arguments)}return(0,n.default)(t,[{key:"sequence",get:function(){var e=h.get(this)||0;return e+=1,h.set(this,e),e}},{key:"onRequest",value:function(e){if(e.headers=e.headers||{},"trackingid"in e.headers)return e.headers.trackingid||(0,o.default)(e.headers,"trackingid"),e;if(this.requiresTrackingId(e)&&(e.headers.trackingid="".concat(this.webex.sessionId,"_").concat(this.sequence)),e.headers.trackingid&&e.replayCount){var r=e.headers.trackingid.split("+");r[1]=e.replayCount,e.headers.trackingid=r.join("+")}return e}},{key:"requiresTrackingId",value:function(e){return!e.headers.trackingid}}],[{key:"create",value:function(){return new t({webex:this})}}]),t}(l.Interceptor);exports.default=p;
},{"@babel/runtime-corejs2/core-js/reflect/construct":"vZQy","@babel/runtime-corejs2/core-js/object/define-property":"eIqn","@babel/runtime-corejs2/helpers/interopRequireDefault":"LXwi","@babel/runtime-corejs2/helpers/classCallCheck":"Tzth","@babel/runtime-corejs2/helpers/createClass":"xM5U","@babel/runtime-corejs2/helpers/inherits":"CdTE","@babel/runtime-corejs2/helpers/possibleConstructorReturn":"w9GY","@babel/runtime-corejs2/helpers/getPrototypeOf":"Qxr1","@babel/runtime-corejs2/core-js/weak-map":"HKHU","@babel/runtime-corejs2/core-js/reflect/delete-property":"CFlp","@webex/http-core":"qRWj"}],"Q0Gt":[function(require,module,exports) {
"use strict";var e=require("@babel/runtime-corejs2/core-js/reflect/construct"),r=require("@babel/runtime-corejs2/core-js/object/define-property"),t=require("@babel/runtime-corejs2/helpers/interopRequireDefault");r(exports,"__esModule",{value:!0}),exports.default=void 0;var i=t(require("@babel/runtime-corejs2/core-js/weak-map")),s=t(require("@babel/runtime-corejs2/core-js/reflect/delete-property")),n=t(require("@babel/runtime-corejs2/helpers/classCallCheck")),u=t(require("@babel/runtime-corejs2/helpers/createClass")),a=t(require("@babel/runtime-corejs2/helpers/assertThisInitialized")),o=t(require("@babel/runtime-corejs2/helpers/inherits")),c=t(require("@babel/runtime-corejs2/helpers/possibleConstructorReturn")),l=t(require("@babel/runtime-corejs2/helpers/getPrototypeOf")),f=t(require("lodash/get")),b=require("@webex/common"),d=require("@webex/http-core");function h(r){var t=p();return function(){var i,s=(0,l.default)(r);if(t){var n=(0,l.default)(this).constructor;i=e(s,arguments,n)}else i=s.apply(this,arguments);return(0,c.default)(this,i)}}function p(){if("undefined"==typeof Reflect||!e)return!1;if(e.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(e(Boolean,[],function(){})),!0}catch(r){return!1}}var w=new i.default,m=function(e){(0,o.default)(t,e);var r=h(t);function t(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,n.default)(this,t);var s=(0,f.default)(i,"webex.webex",!1)?"webex":"webex-js-sdk",u=(0,f.default)(i,"webex.version","development");return e=r.call(this,i),w.set((0,a.default)(e),"".concat(s,"/").concat(u," (").concat(b.inBrowser?"web":"node",")")),e}return(0,u.default)(t,[{key:"onRequest",value:function(e){e.headers=e.headers||{};var r=this.webex&&this.webex.config?this.webex.config:{},t=r.appName,i=r.appVersion,n=w.get(this);return t&&i&&(n="".concat(t,"/").concat(i," ").concat(w.get(this))),e.uri&&e.uri.includes("https://idbroker")?e:e.uri&&(e.uri.includes(this.webex.config.credentials.samlUrl)||e.uri.includes(this.webex.config.credentials.tokenUrl)||e.uri.includes(this.webex.config.credentials.authorizeUrl))?e:"spark-user-agent"in e.headers?(e.headers["spark-user-agent"]||(0,s.default)(e.headers,"spark-user-agent"),e):(e.headers["spark-user-agent"]=n,e)}}],[{key:"create",value:function(){return new t({webex:this})}}]),t}(d.Interceptor);exports.default=m;
},{"@babel/runtime-corejs2/core-js/reflect/construct":"vZQy","@babel/runtime-corejs2/core-js/object/define-property":"eIqn","@babel/runtime-corejs2/helpers/interopRequireDefault":"LXwi","@babel/runtime-corejs2/core-js/weak-map":"HKHU","@babel/runtime-corejs2/core-js/reflect/delete-property":"CFlp","@babel/runtime-corejs2/helpers/classCallCheck":"Tzth","@babel/runtime-corejs2/helpers/createClass":"xM5U","@babel/runtime-corejs2/helpers/assertThisInitialized":"YqR0","@babel/runtime-corejs2/helpers/inherits":"CdTE","@babel/runtime-corejs2/helpers/possibleConstructorReturn":"w9GY","@babel/runtime-corejs2/helpers/getPrototypeOf":"Qxr1","lodash/get":"U5YY","@webex/common":"UeF0","@webex/http-core":"qRWj"}],"Dz8n":[function(require,module,exports) {
"use strict";var e=require("@babel/runtime-corejs2/core-js/reflect/construct"),r=require("@babel/runtime-corejs2/core-js/object/define-property"),t=require("@babel/runtime-corejs2/helpers/interopRequireDefault");r(exports,"__esModule",{value:!0}),exports.default=void 0;var i=t(require("@babel/runtime-corejs2/helpers/classCallCheck")),u=t(require("@babel/runtime-corejs2/helpers/createClass")),n=t(require("@babel/runtime-corejs2/helpers/assertThisInitialized")),a=t(require("@babel/runtime-corejs2/helpers/inherits")),s=t(require("@babel/runtime-corejs2/helpers/possibleConstructorReturn")),l=t(require("@babel/runtime-corejs2/helpers/getPrototypeOf")),o=t(require("@babel/runtime-corejs2/core-js/weak-map")),c=t(require("@babel/runtime-corejs2/core-js/map")),f=t(require("@babel/runtime-corejs2/core-js/promise")),d=require("@webex/http-core");function p(r){var t=b();return function(){var i,u=(0,l.default)(r);if(t){var n=(0,l.default)(this).constructor;i=e(u,arguments,n)}else i=u.apply(this,arguments);return(0,s.default)(this,i)}}function b(){if("undefined"==typeof Reflect||!e)return!1;if(e.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(e(Boolean,[],function(){})),!0}catch(r){return!1}}var m=new o.default,h=/.*(idbroker|identity)(bts)?.ciscospark.com\/([^/]+)/,v=function(e){(0,a.default)(t,e);var r=p(t);function t(){var e;(0,i.default)(this,t);for(var u=arguments.length,a=new Array(u),s=0;s<u;s++)a[s]=arguments[s];return e=r.call.apply(r,[this].concat(a)),m.set((0,n.default)(e),new c.default),e}return(0,u.default)(t,[{key:"onRequest",value:function(e){return this.isRateLimited(e.uri)?f.default.reject(new Error("API rate limited ".concat(e.uri))):f.default.resolve(e)}},{key:"onResponseError",value:function(e,r){return 429===r.statusCode&&(e.uri.includes("idbroker")||e.uri.includes("identity"))&&this.setRateLimitExpiry(e.uri,this.extractRetryAfterTime(e)),f.default.reject(r)}},{key:"extractRetryAfterTime",value:function(e){var r=e.headers["retry-after"]||null;return null===r||r<=0?6e4:r>3600?36e5:1e3*r}},{key:"setRateLimitExpiry",value:function(e,r){var t=this.getApiName(e);if(!t)return!1;var i=(new Date).getTime()+r;return m.get(this).set(t,i)}},{key:"getRateLimitStatus",value:function(e){var r=this.getApiName(e);if(!r)return!1;var t=(new Date).getTime(),i=m.get(this);return void 0!==i.get(r)&&t<i.get(r)}},{key:"getApiName",value:function(e){if(!e)return null;var r=e.match(h);return r?r[2]:null}},{key:"isRateLimited",value:function(e){return!(!e||!e.includes("idbroker")&&!e.includes("identity"))&&this.getRateLimitStatus(e)}}],[{key:"create",value:function(){return new t({webex:this})}}]),t}(d.Interceptor);exports.default=v;
},{"@babel/runtime-corejs2/core-js/reflect/construct":"vZQy","@babel/runtime-corejs2/core-js/object/define-property":"eIqn","@babel/runtime-corejs2/helpers/interopRequireDefault":"LXwi","@babel/runtime-corejs2/helpers/classCallCheck":"Tzth","@babel/runtime-corejs2/helpers/createClass":"xM5U","@babel/runtime-corejs2/helpers/assertThisInitialized":"YqR0","@babel/runtime-corejs2/helpers/inherits":"CdTE","@babel/runtime-corejs2/helpers/possibleConstructorReturn":"w9GY","@babel/runtime-corejs2/helpers/getPrototypeOf":"Qxr1","@babel/runtime-corejs2/core-js/weak-map":"HKHU","@babel/runtime-corejs2/core-js/map":"y6NN","@babel/runtime-corejs2/core-js/promise":"eOfj","@webex/http-core":"qRWj"}],"lzb3":[function(require,module,exports) {
"use strict";var e=require("@babel/runtime-corejs2/core-js/reflect/construct"),r=require("@babel/runtime-corejs2/core-js/object/define-property"),t=require("@babel/runtime-corejs2/helpers/interopRequireDefault");r(exports,"__esModule",{value:!0}),exports.default=void 0;var i=t(require("@babel/runtime-corejs2/core-js/promise")),n=t(require("@babel/runtime-corejs2/helpers/classCallCheck")),u=t(require("@babel/runtime-corejs2/helpers/createClass")),o=t(require("@babel/runtime-corejs2/helpers/inherits")),a=t(require("@babel/runtime-corejs2/helpers/possibleConstructorReturn")),s=t(require("@babel/runtime-corejs2/helpers/getPrototypeOf")),l=require("@webex/http-core");function c(r){var t=f();return function(){var i,n=(0,s.default)(r);if(t){var u=(0,s.default)(this).constructor;i=e(n,arguments,u)}else i=n.apply(this,arguments);return(0,a.default)(this,i)}}function f(){if("undefined"==typeof Reflect||!e)return!1;if(e.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(e(Boolean,[],function(){})),!0}catch(r){return!1}}var b=function(e){(0,o.default)(t,e);var r=c(t);function t(){return(0,n.default)(this,t),r.apply(this,arguments)}return(0,u.default)(t,[{key:"onResponseError",value:function(e,r){if(451===r.statusCode){var t=this.webex.internal.device,n=["Received `HTTP 451 Unavailable For Legal Reasons`, ","discarding credentials and device registration"].join("");t&&this.webex.internal.device.clear(),this.webex.credentials.clear(),this.webex.logger.info(n)}return i.default.reject(r)}}],[{key:"create",value:function(){return new t({webex:this})}}]),t}(l.Interceptor);exports.default=b;
},{"@babel/runtime-corejs2/core-js/reflect/construct":"vZQy","@babel/runtime-corejs2/core-js/object/define-property":"eIqn","@babel/runtime-corejs2/helpers/interopRequireDefault":"LXwi","@babel/runtime-corejs2/core-js/promise":"eOfj","@babel/runtime-corejs2/helpers/classCallCheck":"Tzth","@babel/runtime-corejs2/helpers/createClass":"xM5U","@babel/runtime-corejs2/helpers/inherits":"CdTE","@babel/runtime-corejs2/helpers/possibleConstructorReturn":"w9GY","@babel/runtime-corejs2/helpers/getPrototypeOf":"Qxr1","@webex/http-core":"qRWj"}],"GsVZ":[function(require,module,exports) {
"use strict";var e=require("@babel/runtime-corejs2/core-js/reflect/construct"),r=require("@babel/runtime-corejs2/core-js/object/define-property"),t=require("@babel/runtime-corejs2/helpers/interopRequireDefault");r(exports,"__esModule",{value:!0}),exports.default=void 0;var u=t(require("@babel/runtime-corejs2/core-js/object/keys")),n=t(require("@babel/runtime-corejs2/helpers/classCallCheck")),o=t(require("@babel/runtime-corejs2/helpers/createClass")),i=t(require("@babel/runtime-corejs2/helpers/inherits")),s=t(require("@babel/runtime-corejs2/helpers/possibleConstructorReturn")),l=t(require("@babel/runtime-corejs2/helpers/getPrototypeOf")),a=require("@webex/http-core");function c(r){var t=f();return function(){var u,n=(0,l.default)(r);if(t){var o=(0,l.default)(this).constructor;u=e(n,arguments,o)}else u=n.apply(this,arguments);return(0,s.default)(this,u)}}function f(){if("undefined"==typeof Reflect||!e)return!1;if(e.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(e(Boolean,[],function(){})),!0}catch(r){return!1}}var p=function(e){(0,i.default)(t,e);var r=c(t);function t(){return(0,n.default)(this,t),r.apply(this,arguments)}return(0,o.default)(t,[{key:"onRequest",value:function(e){var r=this.webex.config.defaultRequestOptions;return r?((0,u.default)(r).forEach(function(t){(0,u.default)(e).includes(t)||(e[t]=r[t])}),e):e}}],[{key:"create",value:function(){return new t({webex:this})}}]),t}(a.Interceptor);exports.default=p;
},{"@babel/runtime-corejs2/core-js/reflect/construct":"vZQy","@babel/runtime-corejs2/core-js/object/define-property":"eIqn","@babel/runtime-corejs2/helpers/interopRequireDefault":"LXwi","@babel/runtime-corejs2/core-js/object/keys":"d81a","@babel/runtime-corejs2/helpers/classCallCheck":"Tzth","@babel/runtime-corejs2/helpers/createClass":"xM5U","@babel/runtime-corejs2/helpers/inherits":"CdTE","@babel/runtime-corejs2/helpers/possibleConstructorReturn":"w9GY","@babel/runtime-corejs2/helpers/getPrototypeOf":"Qxr1","@webex/http-core":"qRWj"}],"QCnN":[function(require,module,exports) {
"use strict";var e=require("@babel/runtime-corejs2/core-js/object/define-property"),r=require("@babel/runtime-corejs2/helpers/interopRequireDefault");e(exports,"__esModule",{value:!0}),exports.default=void 0;var t=r(require("ampersand-state")),i=t.default.extend({extraProperties:"allow",props:{idbroker:["object",!1,function(){return{url:"https://idbroker.webex.com"}}],identity:["object",!1,function(){return{url:"https://identity.webex.com"}}],authorizationString:["string",!1,void 0],authorizeUrl:["string",!1,"".concat("https://idbroker.webex.com","/idb/oauth2/v1/authorize")],client_id:["string",!1,void 0],client_secret:["string",!1,void 0],redirect_uri:["string",!1,void 0],scope:["string",!1,void 0],cisService:["string",!1,"webex"]},derived:{activationUrl:{deps:["idbroker.url"],fn:function(){return"".concat(this.idbroker.url||"https://idbroker.webex.com","/idb/token/v1/actions/UserActivation/invoke")},cache:!1},generateOtpUrl:{deps:["idbroker.url"],fn:function(){return"".concat(this.idbroker.url||"https://idbroker.webex.com","/idb/token/v1/actions/UserOTP/Generate/invoke")},cache:!1},validateOtpUrl:{deps:["idbroker.url"],fn:function(){return"".concat(this.idbroker.url||"https://idbroker.webex.com","/idb/token/v1/actions/UserOTP/Validate/invoke")},cache:!1},tokenUrl:{deps:["idbroker.url"],fn:function(){return"".concat(this.idbroker.url,"/idb/oauth2/v1/access_token")},cache:!1},revokeUrl:{deps:["idbroker.url"],fn:function(){return"".concat(this.idbroker.url,"/idb/oauth2/v1/revoke")},cache:!1},logoutUrl:{deps:["idbroker.url"],fn:function(){return"".concat(this.idbroker.url,"/idb/oauth2/v1/logout")},cache:!1},setPasswordUrl:{deps:["identity.url"],fn:function(){return"".concat(this.identity.url||"https://identity.webex.com","/identity/scim/v1/Users")},cache:!1}}}),o=i;exports.default=o;
},{"@babel/runtime-corejs2/core-js/object/define-property":"eIqn","@babel/runtime-corejs2/helpers/interopRequireDefault":"LXwi","ampersand-state":"aEDA"}],"QEXf":[function(require,module,exports) {
"use strict";var e=require("@babel/runtime-corejs2/core-js/object/define-property"),r=require("@babel/runtime-corejs2/helpers/interopRequireDefault");e(exports,"__esModule",{value:!0}),exports.default=void 0;var a=require("./lib/storage"),o=r(require("./credentials-config")),i={maxAppLevelRedirects:10,maxLocusRedirects:5,maxAuthenticationReplays:1,maxReconnectAttempts:1,onBeforeLogout:[],trackingIdPrefix:"webex-js-sdk",trackingIdSuffix:"",AlternateLogger:void 0,credentials:new o.default,services:{discovery:{hydra:"https://api.ciscospark.com/v1",u2c:"https://u2c.wbx2.com/u2c/api/v1"},validateDomains:!0,servicesNotNeedValidation:["webex-appapi-service"],allowedDomains:["wbx2.com","ciscospark.com","webex.com","webexapis.com"]},device:{preDiscoveryServices:{hydra:"https://api.ciscospark.com/v1",hydraServiceUrl:"https://api.ciscospark.com/v1"},validateDomains:!0,whitelistedServiceDomains:["wbx2.com","ciscospark.com","webex.com"]},payloadTransformer:{predicates:[],transforms:[]},storage:{boundedAdapter:a.MemoryStoreAdapter,unboundedAdapter:a.MemoryStoreAdapter}};exports.default=i;
},{"@babel/runtime-corejs2/core-js/object/define-property":"eIqn","@babel/runtime-corejs2/helpers/interopRequireDefault":"LXwi","./lib/storage":"FS8s","./credentials-config":"QCnN"}],"uB3I":[function(require,module,exports) {
"use strict";var e=require("@babel/runtime-corejs2/core-js/object/define-property"),r=require("@babel/runtime-corejs2/helpers/interopRequireDefault");e(exports,"__esModule",{value:!0}),exports.default=d;var o=r(require("@babel/runtime-corejs2/core-js/object/keys")),t=r(require("@babel/runtime-corejs2/core-js/reflect/define-property")),n=r(require("lodash/union")),a=r(require("lodash/merge")),i=r(require("lodash/isFunction")),s=r(require("lodash/isArray")),f=r(require("lodash/has")),c=r(require("lodash/get"));function d(e,r,t){return e.registerPlugin=function(n,i){var d=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!e.prototype._children[n]||d.replace){if(e.prototype._children[n]=i,d.proxies&&d.proxies.forEach(function(r){u(e.prototype,r,{deps:["".concat(n,".").concat(r)],fn:function(){return this[n][r]}})}),d.interceptors&&(0,o.default)(d.interceptors).forEach(function(e){t[e]=d.interceptors[e]}),d.config&&(0,a.default)(r,d.config),(0,f.default)(d,"payloadTransformer.predicates")&&(r.payloadTransformer.predicates=r.payloadTransformer.predicates.concat((0,c.default)(d,"payloadTransformer.predicates"))),(0,f.default)(d,"payloadTransformer.transforms")&&(r.payloadTransformer.transforms=r.payloadTransformer.transforms.concat((0,c.default)(d,"payloadTransformer.transforms"))),d.onBeforeLogout)r.onBeforeLogout=r.onBeforeLogout||[],((0,s.default)(d.onBeforeLogout)?d.onBeforeLogout:[d.onBeforeLogout]).forEach(function(e){return r.onBeforeLogout.push({plugin:n,fn:e})});if(i.prototype._definition&&i.prototype._definition.ready){var p=e.prototype._derived.ready,l=p.fn,y={deps:p.depList.concat("".concat(n,".ready")),fn:l};u(e.prototype,"ready",y)}}},e}function u(e,r,o){(e._derived[r]={fn:(0,i.default)(o)?o:o.fn,cache:!1!==o.cache,depList:o.deps||[]}).depList.forEach(function(o){e._deps[o]=(0,n.default)(e._deps[o]||[],[r])}),(0,t.default)(e,r,{get:function(){return this._getDerivedProperty(r)},set:function(){throw new TypeError("`".concat(r,"` is a derived property, it can't be set directly."))}})}
},{"@babel/runtime-corejs2/core-js/object/define-property":"eIqn","@babel/runtime-corejs2/helpers/interopRequireDefault":"LXwi","@babel/runtime-corejs2/core-js/object/keys":"d81a","@babel/runtime-corejs2/core-js/reflect/define-property":"Gn7E","lodash/union":"ETAe","lodash/merge":"yubd","lodash/isFunction":"dRuq","lodash/isArray":"p0cq","lodash/has":"HZ8X","lodash/get":"U5YY"}],"sXaA":[function(require,module,exports) {
"use strict";var e=require("@babel/runtime-corejs2/core-js/object/define-property"),r=require("@babel/runtime-corejs2/helpers/interopRequireDefault");e(exports,"__esModule",{value:!0}),exports.default=u;var o=r(require("@babel/runtime-corejs2/core-js/object/keys")),t=r(require("@babel/runtime-corejs2/core-js/reflect/define-property")),a=r(require("lodash/union")),n=r(require("lodash/merge")),i=r(require("lodash/isFunction")),s=r(require("lodash/isArray")),f=r(require("lodash/has")),d=r(require("lodash/get"));function u(e,r,t){return e.registerPlugin=function(a,i){var u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!e.prototype._children[a]||u.replace){if(e.prototype._children[a]=i,u.proxies)throw new Error("Proxies are not currently supported for private plugins");if(u.interceptors&&(0,o.default)(u.interceptors).forEach(function(e){t[e]=u.interceptors[e]}),u.config&&(0,n.default)(r,u.config),(0,f.default)(u,"payloadTransformer.predicates")&&(r.payloadTransformer.predicates=r.payloadTransformer.predicates.concat((0,d.default)(u,"payloadTransformer.predicates"))),(0,f.default)(u,"payloadTransformer.transforms")&&(r.payloadTransformer.transforms=r.payloadTransformer.transforms.concat((0,d.default)(u,"payloadTransformer.transforms"))),u.onBeforeLogout)r.onBeforeLogout=r.onBeforeLogout||[],((0,s.default)(u.onBeforeLogout)?u.onBeforeLogout:[u.onBeforeLogout]).forEach(function(e){return r.onBeforeLogout.push({plugin:a,fn:e})});if(i.prototype._definition&&i.prototype._definition.ready){var c=e.prototype._derived.ready,l=c.fn,y={deps:c.depList.concat("".concat(a,".ready")),fn:l};p(e.prototype,"ready",y)}}},e}function p(e,r,o){(e._derived[r]={fn:(0,i.default)(o)?o:o.fn,cache:!1!==o.cache,depList:o.deps||[]}).depList.forEach(function(o){e._deps[o]=(0,a.default)(e._deps[o]||[],[r])}),(0,t.default)(e,r,{get:function(){return this._getDerivedProperty(r)},set:function(){throw new TypeError("`".concat(r,"` is a derived property, it can't be set directly."))}})}
},{"@babel/runtime-corejs2/core-js/object/define-property":"eIqn","@babel/runtime-corejs2/helpers/interopRequireDefault":"LXwi","@babel/runtime-corejs2/core-js/object/keys":"d81a","@babel/runtime-corejs2/core-js/reflect/define-property":"Gn7E","lodash/union":"ETAe","lodash/merge":"yubd","lodash/isFunction":"dRuq","lodash/isArray":"p0cq","lodash/has":"HZ8X","lodash/get":"U5YY"}],"cjMB":[function(require,module,exports) {
"use strict";var e=require("@babel/runtime-corejs2/core-js/object/define-property"),r=require("@babel/runtime-corejs2/helpers/interopRequireDefault");e(exports,"__esModule",{value:!0}),exports.default=void 0;var t=r(require("@babel/runtime-corejs2/core-js/object/keys")),i=r(require("util")),s=r(require("ampersand-state")),u=s.default.extend({derived:{ready:{deps:[],fn:function(){var e=this;return(0,t.default)(this._children).reduce(function(r,t){return r&&e[t]&&!1!==e[t].ready},!0)}}},inspect:function(e){return i.default.inspect(this.serialize({props:!0,session:!0,derived:!0}),{depth:e})}}),n=u;exports.default=n;
},{"@babel/runtime-corejs2/core-js/object/define-property":"eIqn","@babel/runtime-corejs2/helpers/interopRequireDefault":"LXwi","@babel/runtime-corejs2/core-js/object/keys":"d81a","util":"gfUn","ampersand-state":"aEDA"}],"aKAi":[function(require,module,exports) {
var process = require("process");
var e=require("process"),r=require("@babel/runtime-corejs2/core-js/object/keys"),t=require("@babel/runtime-corejs2/core-js/object/get-own-property-symbols"),n=require("@babel/runtime-corejs2/core-js/object/get-own-property-descriptor"),i=require("@babel/runtime-corejs2/core-js/object/get-own-property-descriptors"),o=require("@babel/runtime-corejs2/core-js/object/define-properties"),a=require("@babel/runtime-corejs2/core-js/object/define-property"),u=require("@babel/runtime-corejs2/helpers/interopRequireDefault");a(exports,"__esModule",{value:!0}),exports.registerPlugin=ce,exports.registerInternalPlugin=le,exports.default=void 0;var s,c=u(require("@babel/runtime-corejs2/regenerator")),l=u(require("@babel/runtime-corejs2/core-js/reflect/apply")),d=u(require("@babel/runtime-corejs2/core-js/object/keys")),f=u(require("@babel/runtime-corejs2/core-js/promise")),p=u(require("@babel/runtime-corejs2/core-js/object/assign")),h=u(require("@babel/runtime-corejs2/core-js/json/stringify")),g=u(require("@babel/runtime-corejs2/core-js/reflect/delete-property")),b=u(require("@babel/runtime-corejs2/core-js/object/get-own-property-descriptor")),m=u(require("@babel/runtime-corejs2/helpers/defineProperty")),v=u(require("@babel/runtime-corejs2/helpers/asyncToGenerator")),y=u(require("@babel/runtime-corejs2/helpers/applyDecoratedDescriptor")),q=u(require("lodash/unset")),j=u(require("lodash/set")),k=u(require("lodash/omit")),I=u(require("lodash/merge")),w=u(require("lodash/last")),x=u(require("lodash/isString")),z=u(require("lodash/isFunction")),_=u(require("lodash/get")),T=u(require("lodash/defaultsDeep")),S=require("events"),E=u(require("util")),P=require("@webex/common"),L=require("@webex/http-core"),A=u(require("ampersand-state")),R=u(require("uuid")),B=u(require("./interceptors/auth")),U=u(require("./interceptors/network-timing")),D=u(require("./interceptors/payload-transformer")),O=u(require("./interceptors/redirect")),W=u(require("./interceptors/request-event")),N=u(require("./interceptors/request-logger")),F=u(require("./interceptors/request-timing")),Y=u(require("./interceptors/response-logger")),C=u(require("./lib/webex-http-error")),H=u(require("./interceptors/user-agent")),M=u(require("./interceptors/webex-tracking-id")),V=u(require("./interceptors/webex-user-agent")),G=u(require("./interceptors/rate-limit")),K=u(require("./interceptors/embargo")),$=u(require("./interceptors/default-options")),J=u(require("./config")),Q=require("./lib/storage"),X=u(require("./lib/webex-core-plugin-mixin")),Z=u(require("./lib/webex-internal-core-plugin-mixin")),ee=u(require("./webex-internal-core"));function re(e,i){var o=r(e);if(t){var a=t(e);i&&(a=a.filter(function(r){return n(e,r).enumerable})),o.push.apply(o,a)}return o}function te(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?re(Object(t),!0).forEach(function(r){(0,m.default)(e,r,t[r])}):i?o(e,i(t)):re(Object(t)).forEach(function(r){a(e,r,n(t,r))})}return e}var ne={WebexTrackingIdInterceptor:M.default.create,RequestEventInterceptor:W.default.create,RateLimitInterceptor:G.default.create,RequestLoggerInterceptor:void 0,ResponseLoggerInterceptor:void 0,RequestTimingInterceptor:F.default.create,ServiceInterceptor:void 0,UserAgentInterceptor:H.default.create,WebexUserAgentInterceptor:V.default.create,AuthInterceptor:B.default.create,KmsDryErrorInterceptor:void 0,PayloadTransformerInterceptor:D.default.create,ConversationInterceptor:void 0,RedirectInterceptor:O.default.create,HttpStatusInterceptor:function(){return L.HttpStatusInterceptor.create({error:C.default})},NetworkTimingInterceptor:U.default.create,EmbargoInterceptor:K.default.create,DefaultOptionsInterceptor:$.default.create},ie=["ResponseLoggerInterceptor","RequestTimingInterceptor","RequestEventInterceptor","WebexTrackingIdInterceptor","RateLimitInterceptor"],oe=["HttpStatusInterceptor","NetworkTimingInterceptor","EmbargoInterceptor","RequestLoggerInterceptor","RateLimitInterceptor"],ae=2048,ue=A.default.extend((s={version:"1.150.0",children:{internal:ee.default},constructor:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0;return"string"==typeof e?e={credentials:{supertoken:{access_token:e}}}:(["credentials.authorization","authorization","credentials.supertoken.supertoken","supertoken","access_token","credentials.authorization.supertoken"].forEach(function(r){var t=(0,_.default)(e,r);t&&((0,q.default)(e,r),(0,j.default)(e,"credentials.supertoken",t))}),["credentials","credentials.authorization"].forEach(function(r){var t=(0,_.default)(e,r);"string"==typeof t&&((0,q.default)(e,r),(0,j.default)(e,"credentials.supertoken",t))}),"string"==typeof(0,_.default)(e,"credentials.access_token")&&((0,j.default)(e,"credentials.access_token",this.bearerValidator((0,_.default)(e,"credentials.access_token").trim())),(0,j.default)(e,"credentials.supertoken",e.credentials))),(0,l.default)(A.default,this,[e,r])},derived:{boundedStorage:{deps:[],fn:function(){return(0,Q.makeWebexStore)("bounded",this)}},unboundedStorage:{deps:[],fn:function(){return(0,Q.makeWebexStore)("unbounded",this)}},ready:{deps:["loaded","internal.ready"],fn:function(){var e=this;return this.loaded&&(0,d.default)(this._children).reduce(function(r,t){return r&&e[t]&&!1!==e[t].ready},!0)}}},session:{config:{type:"object"},loaded:{default:!1,type:"boolean"},request:{setOnce:!0,type:"any"},sessionId:{setOnce:!0,type:"string"}},refresh:function(){var e;return(e=this.credentials).refresh.apply(e,arguments)},transform:function(e,r){var t=this,n=this.config.payloadTransformer.predicates.filter(function(r){return!r.direction||r.direction===e}),i={webex:this};return f.default.all(n.map(function(e){return e.test(i,r).then(function(t){if(t)return e.extract(r).then(function(r){return{name:e.name,target:r}})})})).then(function(r){return r.filter(function(e){return Boolean(e)}).reduce(function(r,n){var i=n.name,o=n.target,a=n.alias;return r.then(function(){return a?t.applyNamedTransform(e,a,o):t.applyNamedTransform(e,i,o)})},f.default.resolve())}).then(function(){return r})},applyNamedTransform:function(e,r,t){for(var n=this,i=arguments.length,o=new Array(i>3?i-3:0),a=3;a<i;a++)o[a-3]=arguments[a];return(0,x.default)(r)&&(o.unshift(t),t=r,r={webex:this,transform:function(){for(var t=arguments.length,i=new Array(t),o=0;o<t;o++)i[o]=arguments[o];return n.applyNamedTransform.apply(n,[e,r].concat(i))}}),r.webex.config.payloadTransformer.transforms.filter(function(r){return r.name===t&&(!r.direction||r.direction===e)}).reduce(function(e,t){return e.then(function(){var e;return t.alias?(e=r).transform.apply(e,[t.alias].concat(o)):f.default.resolve(t.fn.apply(t,[r].concat(o)))})},f.default.resolve()).then(function(){return(0,w.default)(o)})},getWindow:function(){return window},initialize:function(){var r=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.config=(0,I.default)({},J.default,t.config),this.trigger("change:config");var n=function e(){r.loaded&&(r.trigger("loaded"),r.stopListening(r,"change:loaded",e))};e.nextTick(function(){r.listenToAndRun(r,"change:loaded",n)});var i=function e(){r.ready&&(r.trigger("ready"),r.stopListening(r,"change:ready",e))};e.nextTick(function(){r.listenToAndRun(r,"change:ready",i)}),(0,d.default)(this.constructor.prototype._children).forEach(function(e){r.listenTo(r[e],"change",function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];n.unshift("change:".concat(e)),r.trigger.apply(r,n)})});var o=function(e,t){var n=ne[t];return(0,z.default)(n)?(e.push((0,l.default)(n,r,[])),e):e},a=[];a=ie.reduce(o,a),a=(0,d.default)(ne).filter(function(e){return!(ie.includes(e)||oe.includes(e))}).reduce(o,a),a=oe.reduce(o,a),this.request=(0,L.defaults)({json:!0,interceptors:a});var u="".concat((0,_.default)(this,"config.trackingIdPrefix","webex-js-sdk"),"_").concat((0,_.default)(this,"config.trackingIdBase",R.default.v4()));(0,_.default)(this,"config.trackingIdSuffix")&&(u+="_".concat((0,_.default)(this,"config.trackingIdSuffix"))),this.sessionId=u},setConfig:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.config=(0,I.default)({},this.config,e)},bearerValidator:function(e){return e.includes("Bearer")&&e.split(" ").length-1==0?(console.warn("Your access token does not have a space between 'Bearer' and the token, please add a space to it or replace it with this already fixed version:\n\n".concat(e.replace("Bearer","Bearer ").replace(/\s+/g," "))),console.info("Tip: You don't need to add 'Bearer' to the access_token field. The token by itself is fine"),e.replace("Bearer","Bearer ").replace(/\s+/g," ")):e.split(" ").length-1>1?(console.warn("Your access token has ".concat(e.split(" ").length-2," too many spaces, please use this format:\n\n").concat(e.replace(/\s+/g," "))),console.info("Tip: You don't need to add 'Bearer' to the access_token field, the token by itself is fine"),e.replace(/\s+/g," ")):e.replace(/\s+/g," ")},inspect:function(e){return E.default.inspect((0,k.default)(this.serialize({props:!0,session:!0,derived:!0}),"boundedStorage","unboundedStorage","request","config"),{depth:e})},logout:function(e){for(var r=this,t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];var o=this.credentials.supertoken&&(this.credentials.supertoken.refresh_token||this.credentials.supertoken.access_token);return e=(0,p.default)({token:o},e),this.config.onBeforeLogout.reverse().reduce(function(t,i){var o=i.plugin,a=i.fn;return t.then(function(){return f.default.resolve((0,l.default)(a,r[o]||r.internal[o],[e].concat(n))).catch(function(e){r.logger.warn("onBeforeLogout from plugin ".concat(o,": failed"),e)})})},f.default.resolve()).then(function(){return f.default.all([r.boundedStorage.clear(),r.unboundedStorage.clear()])}).then(function(){var e;return(e=r.credentials).invalidate.apply(e,n)}).then(function(){var t;return r.authorization&&r.authorization.logout&&(t=r.authorization).logout.apply(t,[e].concat(n))}).then(function(){return r.trigger("client:logout")})},measure:function(){var e;return this.metrics?(e=this.metrics).sendUnstructured.apply(e,arguments):f.default.resolve()},upload:function(e){var r=this;return(0,v.default)(c.default.mark(function t(){var n,i;return c.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e.file){t.next=2;break}return t.abrupt("return",f.default.reject(new Error("`options.file` is required")));case 2:return e.phases=e.phases||{},e.phases.initialize=e.phases.initialize||{},e.phases.upload=e.phases.upload||{},e.phases.finalize=e.phases.finalize||{},(0,T.default)(e.phases.initialize,{method:"POST",body:{uploadProtocol:"content-length"}},(0,k.default)(e,"file","phases")),(0,T.default)(e.phases.upload,{method:"PUT",json:!1,withCredentials:!1,body:e.file,headers:{"x-trans-id":R.default.v4(),authorization:void 0}}),(0,T.default)(e.phases.finalize,{method:"POST"},(0,k.default)(e,"file","phases")),n=new S.EventEmitter,i=r._uploadPhaseInitialize(e).then(function(){var t=r._uploadPhaseUpload(e);return(0,P.transferEvents)("progress",t,n),t}).then(function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return r._uploadPhaseFinalize.apply(r,[e].concat(n))}).then(function(e){return te(te({},e.body),e.headers)}),(0,P.proxyEvents)(n,i),t.abrupt("return",i);case 13:case"end":return t.stop()}},t)}))()},_uploadPhaseInitialize:function(e){var r=this;return this.logger.debug("client: initiating upload session"),this.request(e.phases.initialize).then(function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];var o=1024*(n[0].body.fileUploadSizeLimit||ae)*1024,a=e.file.byteLength;return o&&o<a?r._uploadAbortSession.apply(r,[a].concat(n)):r._uploadApplySession.apply(r,[e].concat(n))}).then(function(e){return r.logger.debug("client: initiated upload session"),e})},_uploadAbortSession:function(e,r){var t=this;return this.logger.debug("client: deleting uploaded file"),this.request({method:"DELETE",url:r.body.url,headers:r.options.headers}).then(function(){t.logger.debug("client: deleting uploaded file complete");var n={currentFileSizeInBytes:e,fileUploadSizeLimitInMB:r.body.fileUploadSizeLimit||ae,message:"file-upload-size-limit-enabled"};return f.default.reject(new Error("".concat((0,h.default)(n))))})},_uploadApplySession:function(e,r){var t=r.body;["upload","finalize"].reduce(function(e,r){return e[r]=(0,d.default)(e[r]).reduce(function(e,r){return r.startsWith("$")&&(e[r.substr(1)]=e[r](t),(0,g.default)(e,r)),e},e[r]),e},e.phases)},_uploadPhaseUpload:function(e){var r=this;this.logger.debug("client: uploading file");var t=this.request(e.phases.upload).then(function(e){return r.logger.debug("client: uploaded file"),e});return(0,P.proxyEvents)(e.phases.upload.upload,t),t},_uploadPhaseFinalize:function(e){var r=this;return this.logger.debug("client: finalizing upload session"),this.request(e.phases.finalize).then(function(e){return r.logger.debug("client: finalized upload session"),e})}},(0,y.default)(s,"_uploadPhaseUpload",[P.retry],(0,b.default)(s,"_uploadPhaseUpload"),s),s));ue.version="1.150.0",(0,Z.default)(ee.default,J.default,ne),(0,X.default)(ue,J.default,ne);var se=ue;function ce(e,r,t){ue.registerPlugin(e,r,t)}function le(e,r,t){ee.default.registerPlugin(e,r,t)}exports.default=se;
},{"@babel/runtime-corejs2/core-js/object/keys":"d81a","@babel/runtime-corejs2/core-js/object/get-own-property-symbols":"DovH","@babel/runtime-corejs2/core-js/object/get-own-property-descriptor":"mQ9c","@babel/runtime-corejs2/core-js/object/get-own-property-descriptors":"Hv1v","@babel/runtime-corejs2/core-js/object/define-properties":"CpmN","@babel/runtime-corejs2/core-js/object/define-property":"eIqn","@babel/runtime-corejs2/helpers/interopRequireDefault":"LXwi","@babel/runtime-corejs2/regenerator":"i9LV","@babel/runtime-corejs2/core-js/reflect/apply":"Lf7Q","@babel/runtime-corejs2/core-js/promise":"eOfj","@babel/runtime-corejs2/core-js/object/assign":"h2Mz","@babel/runtime-corejs2/core-js/json/stringify":"E09K","@babel/runtime-corejs2/core-js/reflect/delete-property":"CFlp","@babel/runtime-corejs2/helpers/defineProperty":"n5FU","@babel/runtime-corejs2/helpers/asyncToGenerator":"OYLD","@babel/runtime-corejs2/helpers/applyDecoratedDescriptor":"WYJH","lodash/unset":"m8Rg","lodash/set":"VHgz","lodash/omit":"J2GV","lodash/merge":"yubd","lodash/last":"uUO9","lodash/isString":"CkJF","lodash/isFunction":"dRuq","lodash/get":"U5YY","lodash/defaultsDeep":"rj5W","events":"FRpO","util":"gfUn","@webex/common":"UeF0","@webex/http-core":"qRWj","ampersand-state":"aEDA","uuid":"hxMR","./interceptors/auth":"MoAh","./interceptors/network-timing":"YlmB","./interceptors/payload-transformer":"Fn2l","./interceptors/redirect":"wTR3","./interceptors/request-event":"ykRh","./interceptors/request-logger":"xzhp","./interceptors/request-timing":"AgoH","./interceptors/response-logger":"Wotp","./lib/webex-http-error":"vYaN","./interceptors/user-agent":"PXFl","./interceptors/webex-tracking-id":"F8mn","./interceptors/webex-user-agent":"Q0Gt","./interceptors/rate-limit":"Dz8n","./interceptors/embargo":"lzb3","./interceptors/default-options":"GsVZ","./config":"QEXf","./lib/storage":"FS8s","./lib/webex-core-plugin-mixin":"uB3I","./lib/webex-internal-core-plugin-mixin":"sXaA","./webex-internal-core":"cjMB","process":"pBGv"}],"Twhd":[function(require,module,exports) {
"use strict";var e=require("@babel/runtime-corejs2/core-js/object/define-property"),r=require("@babel/runtime-corejs2/helpers/interopRequireDefault");e(exports,"__esModule",{value:!0}),exports.default=void 0;var o=r(require("../lib/webex-plugin")),n=require("../webex-core"),i={error:["log"],warn:["error","log"],info:["log"],debug:["info","log"],trace:["debug","info","log"]};function l(e){var r=i[e];if(r)for(r=r.slice();!console[e];)e=r.pop();return function(){for(var r,o=arguments.length,n=new Array(o),i=0;i<o;i++)n[i]=arguments[i];(r=console)[e].apply(r,n)}}var a=o.default.extend({namespace:"Logger",error:l("error"),warn:l("warn"),log:l("log"),info:l("info"),debug:l("debug"),trace:l("trace"),version:"1.150.0"});(0,n.registerPlugin)("logger",a);var t=a;exports.default=t;
},{"@babel/runtime-corejs2/core-js/object/define-property":"eIqn","@babel/runtime-corejs2/helpers/interopRequireDefault":"LXwi","../lib/webex-plugin":"rH5l","../webex-core":"aKAi"}],"J6GP":[function(require,module,exports) {
"use strict";function r(r,e){return Object.prototype.hasOwnProperty.call(r,e)}module.exports=function(t,n,o,a){n=n||"&",o=o||"=";var s={};if("string"!=typeof t||0===t.length)return s;var p=/\+/g;t=t.split(n);var u=1e3;a&&"number"==typeof a.maxKeys&&(u=a.maxKeys);var c=t.length;u>0&&c>u&&(c=u);for(var i=0;i<c;++i){var y,l,f,v,b=t[i].replace(p,"%20"),d=b.indexOf(o);d>=0?(y=b.substr(0,d),l=b.substr(d+1)):(y=b,l=""),f=decodeURIComponent(y),v=decodeURIComponent(l),r(s,f)?e(s[f])?s[f].push(v):s[f]=[s[f],v]:s[f]=v}return s};var e=Array.isArray||function(r){return"[object Array]"===Object.prototype.toString.call(r)};
},{}],"bvhO":[function(require,module,exports) {
"use strict";var n=function(n){switch(typeof n){case"string":return n;case"boolean":return n?"true":"false";case"number":return isFinite(n)?n:"";default:return""}};module.exports=function(o,u,c,a){return u=u||"&",c=c||"=",null===o&&(o=void 0),"object"==typeof o?r(t(o),function(t){var a=encodeURIComponent(n(t))+c;return e(o[t])?r(o[t],function(e){return a+encodeURIComponent(n(e))}).join(u):a+encodeURIComponent(n(o[t]))}).join(u):a?encodeURIComponent(n(a))+c+encodeURIComponent(n(o)):""};var e=Array.isArray||function(n){return"[object Array]"===Object.prototype.toString.call(n)};function r(n,e){if(n.map)return n.map(e);for(var r=[],t=0;t<n.length;t++)r.push(e(n[t],t));return r}var t=Object.keys||function(n){var e=[];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.push(r);return e};
},{}],"fk5h":[function(require,module,exports) {
"use strict";exports.decode=exports.parse=require("./decode"),exports.encode=exports.stringify=require("./encode");
},{"./decode":"J6GP","./encode":"bvhO"}],"oWqx":[function(require,module,exports) {
var global = arguments[3];
var define;
var o,e=arguments[3];!function(n){var r="object"==typeof exports&&exports&&!exports.nodeType&&exports,t="object"==typeof module&&module&&!module.nodeType&&module,u="object"==typeof e&&e;u.global!==u&&u.window!==u&&u.self!==u||(n=u);var i,f,c=2147483647,l=36,s=1,p=26,a=38,d=700,h=72,v=128,g="-",w=/^xn--/,x=/[^\x20-\x7E]/,y=/[\x2E\u3002\uFF0E\uFF61]/g,m={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},C=l-s,b=Math.floor,j=String.fromCharCode;function A(o){throw new RangeError(m[o])}function I(o,e){for(var n=o.length,r=[];n--;)r[n]=e(o[n]);return r}function E(o,e){var n=o.split("@"),r="";return n.length>1&&(r=n[0]+"@",o=n[1]),r+I((o=o.replace(y,".")).split("."),e).join(".")}function F(o){for(var e,n,r=[],t=0,u=o.length;t<u;)(e=o.charCodeAt(t++))>=55296&&e<=56319&&t<u?56320==(64512&(n=o.charCodeAt(t++)))?r.push(((1023&e)<<10)+(1023&n)+65536):(r.push(e),t--):r.push(e);return r}function O(o){return I(o,function(o){var e="";return o>65535&&(e+=j((o-=65536)>>>10&1023|55296),o=56320|1023&o),e+=j(o)}).join("")}function S(o,e){return o+22+75*(o<26)-((0!=e)<<5)}function T(o,e,n){var r=0;for(o=n?b(o/d):o>>1,o+=b(o/e);o>C*p>>1;r+=l)o=b(o/C);return b(r+(C+1)*o/(o+a))}function L(o){var e,n,r,t,u,i,f,a,d,w,x,y=[],m=o.length,C=0,j=v,I=h;for((n=o.lastIndexOf(g))<0&&(n=0),r=0;r<n;++r)o.charCodeAt(r)>=128&&A("not-basic"),y.push(o.charCodeAt(r));for(t=n>0?n+1:0;t<m;){for(u=C,i=1,f=l;t>=m&&A("invalid-input"),((a=(x=o.charCodeAt(t++))-48<10?x-22:x-65<26?x-65:x-97<26?x-97:l)>=l||a>b((c-C)/i))&&A("overflow"),C+=a*i,!(a<(d=f<=I?s:f>=I+p?p:f-I));f+=l)i>b(c/(w=l-d))&&A("overflow"),i*=w;I=T(C-u,e=y.length+1,0==u),b(C/e)>c-j&&A("overflow"),j+=b(C/e),C%=e,y.splice(C++,0,j)}return O(y)}function M(o){var e,n,r,t,u,i,f,a,d,w,x,y,m,C,I,E=[];for(y=(o=F(o)).length,e=v,n=0,u=h,i=0;i<y;++i)(x=o[i])<128&&E.push(j(x));for(r=t=E.length,t&&E.push(g);r<y;){for(f=c,i=0;i<y;++i)(x=o[i])>=e&&x<f&&(f=x);for(f-e>b((c-n)/(m=r+1))&&A("overflow"),n+=(f-e)*m,e=f,i=0;i<y;++i)if((x=o[i])<e&&++n>c&&A("overflow"),x==e){for(a=n,d=l;!(a<(w=d<=u?s:d>=u+p?p:d-u));d+=l)I=a-w,C=l-w,E.push(j(S(w+I%C,0))),a=b(I/C);E.push(j(S(a,0))),u=T(n,m,r==t),n=0,++r}++n,++e}return E.join("")}if(i={version:"1.4.1",ucs2:{decode:F,encode:O},decode:L,encode:M,toASCII:function(o){return E(o,function(o){return x.test(o)?"xn--"+M(o):o})},toUnicode:function(o){return E(o,function(o){return w.test(o)?L(o.slice(4).toLowerCase()):o})}},"function"==typeof o&&"object"==typeof o.amd&&o.amd)o("punycode",function(){return i});else if(r&&t)if(module.exports==r)t.exports=i;else for(f in i)i.hasOwnProperty(f)&&(r[f]=i[f]);else n.punycode=i}(this);
},{}],"YsIc":[function(require,module,exports) {
"use strict";module.exports={isString:function(n){return"string"==typeof n},isObject:function(n){return"object"==typeof n&&null!==n},isNull:function(n){return null===n},isNullOrUndefined:function(n){return null==n}};
},{}],"Mej7":[function(require,module,exports) {
"use strict";var t=require("punycode"),s=require("./util");function h(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}exports.parse=b,exports.resolve=O,exports.resolveObject=d,exports.format=q,exports.Url=h;var e=/^([a-z0-9.+-]+:)/i,a=/:[0-9]*$/,r=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,o=["<",">",'"',"`"," ","\r","\n","\t"],n=["{","}","|","\\","^","`"].concat(o),i=["'"].concat(n),l=["%","/","?",";","#"].concat(i),p=["/","?","#"],c=255,u=/^[+a-z0-9A-Z_-]{0,63}$/,f=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,m={javascript:!0,"javascript:":!0},v={javascript:!0,"javascript:":!0},g={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},y=require("querystring");function b(t,e,a){if(t&&s.isObject(t)&&t instanceof h)return t;var r=new h;return r.parse(t,e,a),r}function q(t){return s.isString(t)&&(t=b(t)),t instanceof h?t.format():h.prototype.format.call(t)}function O(t,s){return b(t,!1,!0).resolve(s)}function d(t,s){return t?b(t,!1,!0).resolveObject(s):s}h.prototype.parse=function(h,a,o){if(!s.isString(h))throw new TypeError("Parameter 'url' must be a string, not "+typeof h);var n=h.indexOf("?"),b=-1!==n&&n<h.indexOf("#")?"?":"#",q=h.split(b);q[0]=q[0].replace(/\\/g,"/");var O=h=q.join(b);if(O=O.trim(),!o&&1===h.split("#").length){var d=r.exec(O);if(d)return this.path=O,this.href=O,this.pathname=d[1],d[2]?(this.search=d[2],this.query=a?y.parse(this.search.substr(1)):this.search.substr(1)):a&&(this.search="",this.query={}),this}var j=e.exec(O);if(j){var x=(j=j[0]).toLowerCase();this.protocol=x,O=O.substr(j.length)}if(o||j||O.match(/^\/\/[^@\/]+@[^@\/]+/)){var A="//"===O.substr(0,2);!A||j&&v[j]||(O=O.substr(2),this.slashes=!0)}if(!v[j]&&(A||j&&!g[j])){for(var C,I,w=-1,U=0;U<p.length;U++){-1!==(k=O.indexOf(p[U]))&&(-1===w||k<w)&&(w=k)}-1!==(I=-1===w?O.lastIndexOf("@"):O.lastIndexOf("@",w))&&(C=O.slice(0,I),O=O.slice(I+1),this.auth=decodeURIComponent(C)),w=-1;for(U=0;U<l.length;U++){var k;-1!==(k=O.indexOf(l[U]))&&(-1===w||k<w)&&(w=k)}-1===w&&(w=O.length),this.host=O.slice(0,w),O=O.slice(w),this.parseHost(),this.hostname=this.hostname||"";var N="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!N)for(var R=this.hostname.split(/\./),S=(U=0,R.length);U<S;U++){var $=R[U];if($&&!$.match(u)){for(var z="",H=0,L=$.length;H<L;H++)$.charCodeAt(H)>127?z+="x":z+=$[H];if(!z.match(u)){var Z=R.slice(0,U),_=R.slice(U+1),E=$.match(f);E&&(Z.push(E[1]),_.unshift(E[2])),_.length&&(O="/"+_.join(".")+O),this.hostname=Z.join(".");break}}}this.hostname.length>c?this.hostname="":this.hostname=this.hostname.toLowerCase(),N||(this.hostname=t.toASCII(this.hostname));var P=this.port?":"+this.port:"",T=this.hostname||"";this.host=T+P,this.href+=this.host,N&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==O[0]&&(O="/"+O))}if(!m[x])for(U=0,S=i.length;U<S;U++){var B=i[U];if(-1!==O.indexOf(B)){var D=encodeURIComponent(B);D===B&&(D=escape(B)),O=O.split(B).join(D)}}var F=O.indexOf("#");-1!==F&&(this.hash=O.substr(F),O=O.slice(0,F));var G=O.indexOf("?");if(-1!==G?(this.search=O.substr(G),this.query=O.substr(G+1),a&&(this.query=y.parse(this.query)),O=O.slice(0,G)):a&&(this.search="",this.query={}),O&&(this.pathname=O),g[x]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){P=this.pathname||"";var J=this.search||"";this.path=P+J}return this.href=this.format(),this},h.prototype.format=function(){var t=this.auth||"";t&&(t=(t=encodeURIComponent(t)).replace(/%3A/i,":"),t+="@");var h=this.protocol||"",e=this.pathname||"",a=this.hash||"",r=!1,o="";this.host?r=t+this.host:this.hostname&&(r=t+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(r+=":"+this.port)),this.query&&s.isObject(this.query)&&Object.keys(this.query).length&&(o=y.stringify(this.query));var n=this.search||o&&"?"+o||"";return h&&":"!==h.substr(-1)&&(h+=":"),this.slashes||(!h||g[h])&&!1!==r?(r="//"+(r||""),e&&"/"!==e.charAt(0)&&(e="/"+e)):r||(r=""),a&&"#"!==a.charAt(0)&&(a="#"+a),n&&"?"!==n.charAt(0)&&(n="?"+n),h+r+(e=e.replace(/[?#]/g,function(t){return encodeURIComponent(t)}))+(n=n.replace("#","%23"))+a},h.prototype.resolve=function(t){return this.resolveObject(b(t,!1,!0)).format()},h.prototype.resolveObject=function(t){if(s.isString(t)){var e=new h;e.parse(t,!1,!0),t=e}for(var a=new h,r=Object.keys(this),o=0;o<r.length;o++){var n=r[o];a[n]=this[n]}if(a.hash=t.hash,""===t.href)return a.href=a.format(),a;if(t.slashes&&!t.protocol){for(var i=Object.keys(t),l=0;l<i.length;l++){var p=i[l];"protocol"!==p&&(a[p]=t[p])}return g[a.protocol]&&a.hostname&&!a.pathname&&(a.path=a.pathname="/"),a.href=a.format(),a}if(t.protocol&&t.protocol!==a.protocol){if(!g[t.protocol]){for(var c=Object.keys(t),u=0;u<c.length;u++){var f=c[u];a[f]=t[f]}return a.href=a.format(),a}if(a.protocol=t.protocol,t.host||v[t.protocol])a.pathname=t.pathname;else{for(var m=(t.pathname||"").split("/");m.length&&!(t.host=m.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),""!==m[0]&&m.unshift(""),m.length<2&&m.unshift(""),a.pathname=m.join("/")}if(a.search=t.search,a.query=t.query,a.host=t.host||"",a.auth=t.auth,a.hostname=t.hostname||t.host,a.port=t.port,a.pathname||a.search){var y=a.pathname||"",b=a.search||"";a.path=y+b}return a.slashes=a.slashes||t.slashes,a.href=a.format(),a}var q=a.pathname&&"/"===a.pathname.charAt(0),O=t.host||t.pathname&&"/"===t.pathname.charAt(0),d=O||q||a.host&&t.pathname,j=d,x=a.pathname&&a.pathname.split("/")||[],A=(m=t.pathname&&t.pathname.split("/")||[],a.protocol&&!g[a.protocol]);if(A&&(a.hostname="",a.port=null,a.host&&(""===x[0]?x[0]=a.host:x.unshift(a.host)),a.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(""===m[0]?m[0]=t.host:m.unshift(t.host)),t.host=null),d=d&&(""===m[0]||""===x[0])),O)a.host=t.host||""===t.host?t.host:a.host,a.hostname=t.hostname||""===t.hostname?t.hostname:a.hostname,a.search=t.search,a.query=t.query,x=m;else if(m.length)x||(x=[]),x.pop(),x=x.concat(m),a.search=t.search,a.query=t.query;else if(!s.isNullOrUndefined(t.search)){if(A)a.hostname=a.host=x.shift(),(k=!!(a.host&&a.host.indexOf("@")>0)&&a.host.split("@"))&&(a.auth=k.shift(),a.host=a.hostname=k.shift());return a.search=t.search,a.query=t.query,s.isNull(a.pathname)&&s.isNull(a.search)||(a.path=(a.pathname?a.pathname:"")+(a.search?a.search:"")),a.href=a.format(),a}if(!x.length)return a.pathname=null,a.search?a.path="/"+a.search:a.path=null,a.href=a.format(),a;for(var C=x.slice(-1)[0],I=(a.host||t.host||x.length>1)&&("."===C||".."===C)||""===C,w=0,U=x.length;U>=0;U--)"."===(C=x[U])?x.splice(U,1):".."===C?(x.splice(U,1),w++):w&&(x.splice(U,1),w--);if(!d&&!j)for(;w--;w)x.unshift("..");!d||""===x[0]||x[0]&&"/"===x[0].charAt(0)||x.unshift(""),I&&"/"!==x.join("/").substr(-1)&&x.push("");var k,N=""===x[0]||x[0]&&"/"===x[0].charAt(0);A&&(a.hostname=a.host=N?"":x.length?x.shift():"",(k=!!(a.host&&a.host.indexOf("@")>0)&&a.host.split("@"))&&(a.auth=k.shift(),a.host=a.hostname=k.shift()));return(d=d||a.host&&x.length)&&!N&&x.unshift(""),x.length?a.pathname=x.join("/"):(a.pathname=null,a.path=null),s.isNull(a.pathname)&&s.isNull(a.search)||(a.path=(a.pathname?a.pathname:"")+(a.search?a.search:"")),a.auth=t.auth||a.auth,a.slashes=a.slashes||t.slashes,a.href=a.format(),a},h.prototype.parseHost=function(){var t=this.host,s=a.exec(t);s&&(":"!==(s=s[0])&&(this.port=s.substr(1)),t=t.substr(0,t.length-s.length)),t&&(this.hostname=t)};
},{"punycode":"oWqx","./util":"YsIc","querystring":"fk5h"}],"Bm0n":[function(require,module,exports) {
"function"==typeof Object.create?module.exports=function(t,e){e&&(t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:module.exports=function(t,e){if(e){t.super_=e;var o=function(){};o.prototype=e.prototype,t.prototype=new o,t.prototype.constructor=t}};
},{}],"Yj0v":[function(require,module,exports) {
var process = require("process");
var n=require("process");function e(e,r,t,c){if("function"!=typeof e)throw new TypeError('"callback" argument must be a function');var i,l,u=arguments.length;switch(u){case 0:case 1:return n.nextTick(e);case 2:return n.nextTick(function(){e.call(null,r)});case 3:return n.nextTick(function(){e.call(null,r,t)});case 4:return n.nextTick(function(){e.call(null,r,t,c)});default:for(i=new Array(u-1),l=0;l<i.length;)i[l++]=arguments[l];return n.nextTick(function(){e.apply(null,i)})}}void 0===n||!n.version||0===n.version.indexOf("v0.")||0===n.version.indexOf("v1.")&&0!==n.version.indexOf("v1.8.")?module.exports={nextTick:e}:module.exports=n;
},{"process":"pBGv"}],"Q8A6":[function(require,module,exports) {
module.exports=require("events").EventEmitter;
},{"events":"FRpO"}],"l6K0":[function(require,module,exports) {

var r=require("buffer"),e=r.Buffer;function n(r,e){for(var n in r)e[n]=r[n]}function o(r,n,o){return e(r,n,o)}e.from&&e.alloc&&e.allocUnsafe&&e.allocUnsafeSlow?module.exports=r:(n(r,exports),exports.Buffer=o),n(e,o),o.from=function(r,n,o){if("number"==typeof r)throw new TypeError("Argument must not be a number");return e(r,n,o)},o.alloc=function(r,n,o){if("number"!=typeof r)throw new TypeError("Argument must be a number");var f=e(r);return void 0!==n?"string"==typeof o?f.fill(n,o):f.fill(n):f.fill(0),f},o.allocUnsafe=function(r){if("number"!=typeof r)throw new TypeError("Argument must be a number");return e(r)},o.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return r.SlowBuffer(e)};
},{"buffer":"peL6"}],"Q14w":[function(require,module,exports) {
var Buffer = require("buffer").Buffer;
var r=require("buffer").Buffer;function t(r){return Array.isArray?Array.isArray(r):"[object Array]"===a(r)}function e(r){return"boolean"==typeof r}function n(r){return null===r}function o(r){return null==r}function i(r){return"number"==typeof r}function u(r){return"string"==typeof r}function s(r){return"symbol"==typeof r}function f(r){return void 0===r}function p(r){return"[object RegExp]"===a(r)}function c(r){return"object"==typeof r&&null!==r}function l(r){return"[object Date]"===a(r)}function y(r){return"[object Error]"===a(r)||r instanceof Error}function x(r){return"function"==typeof r}function b(r){return null===r||"boolean"==typeof r||"number"==typeof r||"string"==typeof r||"symbol"==typeof r||void 0===r}function a(r){return Object.prototype.toString.call(r)}exports.isArray=t,exports.isBoolean=e,exports.isNull=n,exports.isNullOrUndefined=o,exports.isNumber=i,exports.isString=u,exports.isSymbol=s,exports.isUndefined=f,exports.isRegExp=p,exports.isObject=c,exports.isDate=l,exports.isError=y,exports.isFunction=x,exports.isPrimitive=b,exports.isBuffer=r.isBuffer;
},{"buffer":"peL6"}],"Um5I":[function(require,module,exports) {

"use strict";function t(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}var n=require("safe-buffer").Buffer,e=require("util");function i(t,n,e){t.copy(n,e)}module.exports=function(){function e(){t(this,e),this.head=null,this.tail=null,this.length=0}return e.prototype.push=function(t){var n={data:t,next:null};this.length>0?this.tail.next=n:this.head=n,this.tail=n,++this.length},e.prototype.unshift=function(t){var n={data:t,next:this.head};0===this.length&&(this.tail=n),this.head=n,++this.length},e.prototype.shift=function(){if(0!==this.length){var t=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,t}},e.prototype.clear=function(){this.head=this.tail=null,this.length=0},e.prototype.join=function(t){if(0===this.length)return"";for(var n=this.head,e=""+n.data;n=n.next;)e+=t+n.data;return e},e.prototype.concat=function(t){if(0===this.length)return n.alloc(0);if(1===this.length)return this.head.data;for(var e=n.allocUnsafe(t>>>0),h=this.head,a=0;h;)i(h.data,e,a),a+=h.data.length,h=h.next;return e},e}(),e&&e.inspect&&e.inspect.custom&&(module.exports.prototype[e.inspect.custom]=function(){var t=e.inspect({length:this.length});return this.constructor.name+" "+t});
},{"safe-buffer":"l6K0","util":"vKFU"}],"avqi":[function(require,module,exports) {
"use strict";var t=require("process-nextick-args");function e(e,a){var r=this,s=this._readableState&&this._readableState.destroyed,d=this._writableState&&this._writableState.destroyed;return s||d?(a?a(e):!e||this._writableState&&this._writableState.errorEmitted||t.nextTick(i,this,e),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,function(e){!a&&e?(t.nextTick(i,r,e),r._writableState&&(r._writableState.errorEmitted=!0)):a&&a(e)}),this)}function a(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function i(t,e){t.emit("error",e)}module.exports={destroy:e,undestroy:a};
},{"process-nextick-args":"Yj0v"}],"yM1o":[function(require,module,exports) {
var global = arguments[3];
var r=arguments[3];function t(r,t){if(e("noDeprecation"))return r;var n=!1;return function(){if(!n){if(e("throwDeprecation"))throw new Error(t);e("traceDeprecation")?console.trace(t):console.warn(t),n=!0}return r.apply(this,arguments)}}function e(t){try{if(!r.localStorage)return!1}catch(n){return!1}var e=r.localStorage[t];return null!=e&&"true"===String(e).toLowerCase()}module.exports=t;
},{}],"I0x5":[function(require,module,exports) {
var process = require("process");

var global = arguments[3];
var e=require("process"),t=arguments[3],n=require("process-nextick-args");function r(e,t,n){this.chunk=e,this.encoding=t,this.callback=n,this.next=null}function i(e){var t=this;this.next=null,this.entry=null,this.finish=function(){W(t,e)}}module.exports=g;var o,s=n.nextTick;g.WritableState=y;var f=Object.create(require("core-util-is"));f.inherits=require("inherits");var u={deprecate:require("util-deprecate")},a=require("./internal/streams/stream"),c=require("safe-buffer").Buffer,l=t.Uint8Array||function(){};function d(e){return c.from(e)}function h(e){return c.isBuffer(e)||e instanceof l}var b,p=require("./internal/streams/destroy");function w(){}function y(e,t){o=o||require("./_stream_duplex"),e=e||{};var n=t instanceof o;this.objectMode=!!e.objectMode,n&&(this.objectMode=this.objectMode||!!e.writableObjectMode);var r=e.highWaterMark,s=e.writableHighWaterMark,f=this.objectMode?16:16384;this.highWaterMark=r||0===r?r:n&&(s||0===s)?s:f,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var u=!1===e.decodeStrings;this.decodeStrings=!u,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){S(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new i(this)}function g(e){if(o=o||require("./_stream_duplex"),!(b.call(g,this)||this instanceof o))return new g(e);this._writableState=new y(e,this),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final)),a.call(this)}function k(e,t){var r=new Error("write after end");e.emit("error",r),n.nextTick(t,r)}function v(e,t,r,i){var o=!0,s=!1;return null===r?s=new TypeError("May not write null values to stream"):"string"==typeof r||void 0===r||t.objectMode||(s=new TypeError("Invalid non-string/buffer chunk")),s&&(e.emit("error",s),n.nextTick(i,s),o=!1),o}function q(e,t,n){return e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=c.from(t,n)),t}function _(e,t,n,r,i,o){if(!n){var s=q(t,r,i);r!==s&&(n=!0,i="buffer",r=s)}var f=t.objectMode?1:r.length;t.length+=f;var u=t.length<t.highWaterMark;if(u||(t.needDrain=!0),t.writing||t.corked){var a=t.lastBufferedRequest;t.lastBufferedRequest={chunk:r,encoding:i,isBuf:n,callback:o,next:null},a?a.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else m(e,t,!1,f,r,i,o);return u}function m(e,t,n,r,i,o,s){t.writelen=r,t.writecb=s,t.writing=!0,t.sync=!0,n?e._writev(i,t.onwrite):e._write(i,o,t.onwrite),t.sync=!1}function R(e,t,r,i,o){--t.pendingcb,r?(n.nextTick(o,i),n.nextTick(T,e,t),e._writableState.errorEmitted=!0,e.emit("error",i)):(o(i),e._writableState.errorEmitted=!0,e.emit("error",i),T(e,t))}function x(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}function S(e,t){var n=e._writableState,r=n.sync,i=n.writecb;if(x(n),t)R(e,n,r,t,i);else{var o=E(n);o||n.corked||n.bufferProcessing||!n.bufferedRequest||B(e,n),r?s(M,e,n,o,i):M(e,n,o,i)}}function M(e,t,n,r){n||j(e,t),t.pendingcb--,r(),T(e,t)}function j(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}function B(e,t){t.bufferProcessing=!0;var n=t.bufferedRequest;if(e._writev&&n&&n.next){var r=t.bufferedRequestCount,o=new Array(r),s=t.corkedRequestsFree;s.entry=n;for(var f=0,u=!0;n;)o[f]=n,n.isBuf||(u=!1),n=n.next,f+=1;o.allBuffers=u,m(e,t,!0,t.length,o,"",s.finish),t.pendingcb++,t.lastBufferedRequest=null,s.next?(t.corkedRequestsFree=s.next,s.next=null):t.corkedRequestsFree=new i(t),t.bufferedRequestCount=0}else{for(;n;){var a=n.chunk,c=n.encoding,l=n.callback;if(m(e,t,!1,t.objectMode?1:a.length,a,c,l),n=n.next,t.bufferedRequestCount--,t.writing)break}null===n&&(t.lastBufferedRequest=null)}t.bufferedRequest=n,t.bufferProcessing=!1}function E(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function C(e,t){e._final(function(n){t.pendingcb--,n&&e.emit("error",n),t.prefinished=!0,e.emit("prefinish"),T(e,t)})}function P(e,t){t.prefinished||t.finalCalled||("function"==typeof e._final?(t.pendingcb++,t.finalCalled=!0,n.nextTick(C,e,t)):(t.prefinished=!0,e.emit("prefinish")))}function T(e,t){var n=E(t);return n&&(P(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"))),n}function F(e,t,r){t.ending=!0,T(e,t),r&&(t.finished?n.nextTick(r):e.once("finish",r)),t.ended=!0,e.writable=!1}function W(e,t,n){var r=e.entry;for(e.entry=null;r;){var i=r.callback;t.pendingcb--,i(n),r=r.next}t.corkedRequestsFree?t.corkedRequestsFree.next=e:t.corkedRequestsFree=e}f.inherits(g,a),y.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(y.prototype,"buffer",{get:u.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(b=Function.prototype[Symbol.hasInstance],Object.defineProperty(g,Symbol.hasInstance,{value:function(e){return!!b.call(this,e)||this===g&&(e&&e._writableState instanceof y)}})):b=function(e){return e instanceof this},g.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},g.prototype.write=function(e,t,n){var r=this._writableState,i=!1,o=!r.objectMode&&h(e);return o&&!c.isBuffer(e)&&(e=d(e)),"function"==typeof t&&(n=t,t=null),o?t="buffer":t||(t=r.defaultEncoding),"function"!=typeof n&&(n=w),r.ended?k(this,n):(o||v(this,r,e,n))&&(r.pendingcb++,i=_(this,r,o,e,t,n)),i},g.prototype.cork=function(){this._writableState.corked++},g.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.finished||e.bufferProcessing||!e.bufferedRequest||B(this,e))},g.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(g.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),g.prototype._write=function(e,t,n){n(new Error("_write() is not implemented"))},g.prototype._writev=null,g.prototype.end=function(e,t,n){var r=this._writableState;"function"==typeof e?(n=e,e=null,t=null):"function"==typeof t&&(n=t,t=null),null!=e&&this.write(e,t),r.corked&&(r.corked=1,this.uncork()),r.ending||r.finished||F(this,r,n)},Object.defineProperty(g.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),g.prototype.destroy=p.destroy,g.prototype._undestroy=p.undestroy,g.prototype._destroy=function(e,t){this.end(),t(e)};
},{"process-nextick-args":"Yj0v","core-util-is":"Q14w","inherits":"Bm0n","util-deprecate":"yM1o","./internal/streams/stream":"Q8A6","safe-buffer":"l6K0","./internal/streams/destroy":"avqi","./_stream_duplex":"wldW","process":"pBGv"}],"wldW":[function(require,module,exports) {
"use strict";var e=require("process-nextick-args"),t=Object.keys||function(e){var t=[];for(var r in e)t.push(r);return t};module.exports=l;var r=Object.create(require("core-util-is"));r.inherits=require("inherits");var i=require("./_stream_readable"),a=require("./_stream_writable");r.inherits(l,i);for(var o=t(a.prototype),s=0;s<o.length;s++){var n=o[s];l.prototype[n]||(l.prototype[n]=a.prototype[n])}function l(e){if(!(this instanceof l))return new l(e);i.call(this,e),a.call(this,e),e&&!1===e.readable&&(this.readable=!1),e&&!1===e.writable&&(this.writable=!1),this.allowHalfOpen=!0,e&&!1===e.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",h)}function h(){this.allowHalfOpen||this._writableState.ended||e.nextTick(d,this)}function d(e){e.end()}Object.defineProperty(l.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(l.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}}),l.prototype._destroy=function(t,r){this.push(null),this.end(),e.nextTick(r,t)};
},{"process-nextick-args":"Yj0v","core-util-is":"Q14w","inherits":"Bm0n","./_stream_readable":"Ogwm","./_stream_writable":"I0x5"}],"F7WD":[function(require,module,exports) {

"use strict";var t=require("safe-buffer").Buffer,e=t.isEncoding||function(t){switch((t=""+t)&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function s(t){if(!t)return"utf8";for(var e;;)switch(t){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return t;default:if(e)return;t=(""+t).toLowerCase(),e=!0}}function i(i){var a=s(i);if("string"!=typeof a&&(t.isEncoding===e||!e(i)))throw new Error("Unknown encoding: "+i);return a||i}function a(e){var s;switch(this.encoding=i(e),this.encoding){case"utf16le":this.text=c,this.end=f,s=4;break;case"utf8":this.fillLast=l,s=4;break;case"base64":this.text=d,this.end=g,s=3;break;default:return this.write=N,void(this.end=v)}this.lastNeed=0,this.lastTotal=0,this.lastChar=t.allocUnsafe(s)}function r(t){return t<=127?0:t>>5==6?2:t>>4==14?3:t>>3==30?4:t>>6==2?-1:-2}function n(t,e,s){var i=e.length-1;if(i<s)return 0;var a=r(e[i]);return a>=0?(a>0&&(t.lastNeed=a-1),a):--i<s||-2===a?0:(a=r(e[i]))>=0?(a>0&&(t.lastNeed=a-2),a):--i<s||-2===a?0:(a=r(e[i]))>=0?(a>0&&(2===a?a=0:t.lastNeed=a-3),a):0}function h(t,e,s){if(128!=(192&e[0]))return t.lastNeed=0,"";if(t.lastNeed>1&&e.length>1){if(128!=(192&e[1]))return t.lastNeed=1,"";if(t.lastNeed>2&&e.length>2&&128!=(192&e[2]))return t.lastNeed=2,""}}function l(t){var e=this.lastTotal-this.lastNeed,s=h(this,t,e);return void 0!==s?s:this.lastNeed<=t.length?(t.copy(this.lastChar,e,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(t.copy(this.lastChar,e,0,t.length),void(this.lastNeed-=t.length))}function u(t,e){var s=n(this,t,e);if(!this.lastNeed)return t.toString("utf8",e);this.lastTotal=s;var i=t.length-(s-this.lastNeed);return t.copy(this.lastChar,0,i),t.toString("utf8",e,i)}function o(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+"":e}function c(t,e){if((t.length-e)%2==0){var s=t.toString("utf16le",e);if(s){var i=s.charCodeAt(s.length-1);if(i>=55296&&i<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1],s.slice(0,-1)}return s}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=t[t.length-1],t.toString("utf16le",e,t.length-1)}function f(t){var e=t&&t.length?this.write(t):"";if(this.lastNeed){var s=this.lastTotal-this.lastNeed;return e+this.lastChar.toString("utf16le",0,s)}return e}function d(t,e){var s=(t.length-e)%3;return 0===s?t.toString("base64",e):(this.lastNeed=3-s,this.lastTotal=3,1===s?this.lastChar[0]=t[t.length-1]:(this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1]),t.toString("base64",e,t.length-s))}function g(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+this.lastChar.toString("base64",0,3-this.lastNeed):e}function N(t){return t.toString(this.encoding)}function v(t){return t&&t.length?this.write(t):""}exports.StringDecoder=a,a.prototype.write=function(t){if(0===t.length)return"";var e,s;if(this.lastNeed){if(void 0===(e=this.fillLast(t)))return"";s=this.lastNeed,this.lastNeed=0}else s=0;return s<t.length?e?e+this.text(t,s):this.text(t,s):e||""},a.prototype.end=o,a.prototype.text=u,a.prototype.fillLast=function(t){if(this.lastNeed<=t.length)return t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,t.length),this.lastNeed-=t.length};
},{"safe-buffer":"l6K0"}],"Ogwm":[function(require,module,exports) {

var global = arguments[3];
var process = require("process");
var e=arguments[3],t=require("process"),n=require("process-nextick-args");module.exports=_;var r,i=require("isarray");_.ReadableState=w;var a=require("events").EventEmitter,d=function(e,t){return e.listeners(t).length},o=require("./internal/streams/stream"),s=require("safe-buffer").Buffer,u=e.Uint8Array||function(){};function l(e){return s.from(e)}function h(e){return s.isBuffer(e)||e instanceof u}var p=Object.create(require("core-util-is"));p.inherits=require("inherits");var f=require("util"),c=void 0;c=f&&f.debuglog?f.debuglog("stream"):function(){};var g,b=require("./internal/streams/BufferList"),m=require("./internal/streams/destroy");p.inherits(_,o);var v=["error","close","destroy","pause","resume"];function y(e,t,n){if("function"==typeof e.prependListener)return e.prependListener(t,n);e._events&&e._events[t]?i(e._events[t])?e._events[t].unshift(n):e._events[t]=[n,e._events[t]]:e.on(t,n)}function w(e,t){e=e||{};var n=t instanceof(r=r||require("./_stream_duplex"));this.objectMode=!!e.objectMode,n&&(this.objectMode=this.objectMode||!!e.readableObjectMode);var i=e.highWaterMark,a=e.readableHighWaterMark,d=this.objectMode?16:16384;this.highWaterMark=i||0===i?i:n&&(a||0===a)?a:d,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new b,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(g||(g=require("string_decoder/").StringDecoder),this.decoder=new g(e.encoding),this.encoding=e.encoding)}function _(e){if(r=r||require("./_stream_duplex"),!(this instanceof _))return new _(e);this._readableState=new w(e,this),this.readable=!0,e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy)),o.call(this)}function M(e,t,n,r,i){var a,d=e._readableState;null===t?(d.reading=!1,x(e,d)):(i||(a=k(d,t)),a?e.emit("error",a):d.objectMode||t&&t.length>0?("string"==typeof t||d.objectMode||Object.getPrototypeOf(t)===s.prototype||(t=l(t)),r?d.endEmitted?e.emit("error",new Error("stream.unshift() after end event")):S(e,d,t,!0):d.ended?e.emit("error",new Error("stream.push() after EOF")):(d.reading=!1,d.decoder&&!n?(t=d.decoder.write(t),d.objectMode||0!==t.length?S(e,d,t,!1):C(e,d)):S(e,d,t,!1))):r||(d.reading=!1));return j(d)}function S(e,t,n,r){t.flowing&&0===t.length&&!t.sync?(e.emit("data",n),e.read(0)):(t.length+=t.objectMode?1:n.length,r?t.buffer.unshift(n):t.buffer.push(n),t.needReadable&&q(e)),C(e,t)}function k(e,t){var n;return h(t)||"string"==typeof t||void 0===t||e.objectMode||(n=new TypeError("Invalid non-string/buffer chunk")),n}function j(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||0===e.length)}Object.defineProperty(_.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),_.prototype.destroy=m.destroy,_.prototype._undestroy=m.undestroy,_.prototype._destroy=function(e,t){this.push(null),t(e)},_.prototype.push=function(e,t){var n,r=this._readableState;return r.objectMode?n=!0:"string"==typeof e&&((t=t||r.defaultEncoding)!==r.encoding&&(e=s.from(e,t),t=""),n=!0),M(this,e,t,!1,n)},_.prototype.unshift=function(e){return M(this,e,null,!0,!1)},_.prototype.isPaused=function(){return!1===this._readableState.flowing},_.prototype.setEncoding=function(e){return g||(g=require("string_decoder/").StringDecoder),this._readableState.decoder=new g(e),this._readableState.encoding=e,this};var R=8388608;function E(e){return e>=R?e=R:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}function L(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=E(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function x(e,t){if(!t.ended){if(t.decoder){var n=t.decoder.end();n&&n.length&&(t.buffer.push(n),t.length+=t.objectMode?1:n.length)}t.ended=!0,q(e)}}function q(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||(c("emitReadable",t.flowing),t.emittedReadable=!0,t.sync?n.nextTick(W,e):W(e))}function W(e){c("emit readable"),e.emit("readable"),B(e)}function C(e,t){t.readingMore||(t.readingMore=!0,n.nextTick(D,e,t))}function D(e,t){for(var n=t.length;!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark&&(c("maybeReadMore read 0"),e.read(0),n!==t.length);)n=t.length;t.readingMore=!1}function O(e){return function(){var t=e._readableState;c("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&d(e,"data")&&(t.flowing=!0,B(e))}}function T(e){c("readable nexttick read 0"),e.read(0)}function U(e,t){t.resumeScheduled||(t.resumeScheduled=!0,n.nextTick(P,e,t))}function P(e,t){t.reading||(c("resume read 0"),e.read(0)),t.resumeScheduled=!1,t.awaitDrain=0,e.emit("resume"),B(e),t.flowing&&!t.reading&&e.read(0)}function B(e){var t=e._readableState;for(c("flow",t.flowing);t.flowing&&null!==e.read(););}function H(e,t){return 0===t.length?null:(t.objectMode?n=t.buffer.shift():!e||e>=t.length?(n=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.head.data:t.buffer.concat(t.length),t.buffer.clear()):n=I(e,t.buffer,t.decoder),n);var n}function I(e,t,n){var r;return e<t.head.data.length?(r=t.head.data.slice(0,e),t.head.data=t.head.data.slice(e)):r=e===t.head.data.length?t.shift():n?A(e,t):F(e,t),r}function A(e,t){var n=t.head,r=1,i=n.data;for(e-=i.length;n=n.next;){var a=n.data,d=e>a.length?a.length:e;if(d===a.length?i+=a:i+=a.slice(0,e),0===(e-=d)){d===a.length?(++r,n.next?t.head=n.next:t.head=t.tail=null):(t.head=n,n.data=a.slice(d));break}++r}return t.length-=r,i}function F(e,t){var n=s.allocUnsafe(e),r=t.head,i=1;for(r.data.copy(n),e-=r.data.length;r=r.next;){var a=r.data,d=e>a.length?a.length:e;if(a.copy(n,n.length-e,0,d),0===(e-=d)){d===a.length?(++i,r.next?t.head=r.next:t.head=t.tail=null):(t.head=r,r.data=a.slice(d));break}++i}return t.length-=i,n}function z(e){var t=e._readableState;if(t.length>0)throw new Error('"endReadable()" called on non-empty stream');t.endEmitted||(t.ended=!0,n.nextTick(G,t,e))}function G(e,t){e.endEmitted||0!==e.length||(e.endEmitted=!0,t.readable=!1,t.emit("end"))}function J(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1}_.prototype.read=function(e){c("read",e),e=parseInt(e,10);var t=this._readableState,n=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&(t.length>=t.highWaterMark||t.ended))return c("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?z(this):q(this),null;if(0===(e=L(e,t))&&t.ended)return 0===t.length&&z(this),null;var r,i=t.needReadable;return c("need readable",i),(0===t.length||t.length-e<t.highWaterMark)&&c("length less than watermark",i=!0),t.ended||t.reading?c("reading or ended",i=!1):i&&(c("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=L(n,t))),null===(r=e>0?H(e,t):null)?(t.needReadable=!0,e=0):t.length-=e,0===t.length&&(t.ended||(t.needReadable=!0),n!==e&&t.ended&&z(this)),null!==r&&this.emit("data",r),r},_.prototype._read=function(e){this.emit("error",new Error("_read() is not implemented"))},_.prototype.pipe=function(e,r){var i=this,a=this._readableState;switch(a.pipesCount){case 0:a.pipes=e;break;case 1:a.pipes=[a.pipes,e];break;default:a.pipes.push(e)}a.pipesCount+=1,c("pipe count=%d opts=%j",a.pipesCount,r);var o=(!r||!1!==r.end)&&e!==t.stdout&&e!==t.stderr?u:v;function s(t,n){c("onunpipe"),t===i&&n&&!1===n.hasUnpiped&&(n.hasUnpiped=!0,c("cleanup"),e.removeListener("close",b),e.removeListener("finish",m),e.removeListener("drain",l),e.removeListener("error",g),e.removeListener("unpipe",s),i.removeListener("end",u),i.removeListener("end",v),i.removeListener("data",f),h=!0,!a.awaitDrain||e._writableState&&!e._writableState.needDrain||l())}function u(){c("onend"),e.end()}a.endEmitted?n.nextTick(o):i.once("end",o),e.on("unpipe",s);var l=O(i);e.on("drain",l);var h=!1;var p=!1;function f(t){c("ondata"),p=!1,!1!==e.write(t)||p||((1===a.pipesCount&&a.pipes===e||a.pipesCount>1&&-1!==J(a.pipes,e))&&!h&&(c("false write response, pause",i._readableState.awaitDrain),i._readableState.awaitDrain++,p=!0),i.pause())}function g(t){c("onerror",t),v(),e.removeListener("error",g),0===d(e,"error")&&e.emit("error",t)}function b(){e.removeListener("finish",m),v()}function m(){c("onfinish"),e.removeListener("close",b),v()}function v(){c("unpipe"),i.unpipe(e)}return i.on("data",f),y(e,"error",g),e.once("close",b),e.once("finish",m),e.emit("pipe",i),a.flowing||(c("pipe resume"),i.resume()),e},_.prototype.unpipe=function(e){var t=this._readableState,n={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes?this:(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,n),this);if(!e){var r=t.pipes,i=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var a=0;a<i;a++)r[a].emit("unpipe",this,n);return this}var d=J(t.pipes,e);return-1===d?this:(t.pipes.splice(d,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,n),this)},_.prototype.on=function(e,t){var r=o.prototype.on.call(this,e,t);if("data"===e)!1!==this._readableState.flowing&&this.resume();else if("readable"===e){var i=this._readableState;i.endEmitted||i.readableListening||(i.readableListening=i.needReadable=!0,i.emittedReadable=!1,i.reading?i.length&&q(this):n.nextTick(T,this))}return r},_.prototype.addListener=_.prototype.on,_.prototype.resume=function(){var e=this._readableState;return e.flowing||(c("resume"),e.flowing=!0,U(this,e)),this},_.prototype.pause=function(){return c("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(c("pause"),this._readableState.flowing=!1,this.emit("pause")),this},_.prototype.wrap=function(e){var t=this,n=this._readableState,r=!1;for(var i in e.on("end",function(){if(c("wrapped end"),n.decoder&&!n.ended){var e=n.decoder.end();e&&e.length&&t.push(e)}t.push(null)}),e.on("data",function(i){(c("wrapped data"),n.decoder&&(i=n.decoder.write(i)),n.objectMode&&null==i)||(n.objectMode||i&&i.length)&&(t.push(i)||(r=!0,e.pause()))}),e)void 0===this[i]&&"function"==typeof e[i]&&(this[i]=function(t){return function(){return e[t].apply(e,arguments)}}(i));for(var a=0;a<v.length;a++)e.on(v[a],this.emit.bind(this,v[a]));return this._read=function(t){c("wrapped _read",t),r&&(r=!1,e.resume())},this},Object.defineProperty(_.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),_._fromList=H;
},{"process-nextick-args":"Yj0v","isarray":"REa7","events":"FRpO","./internal/streams/stream":"Q8A6","safe-buffer":"l6K0","core-util-is":"Q14w","inherits":"Bm0n","util":"vKFU","./internal/streams/BufferList":"Um5I","./internal/streams/destroy":"avqi","./_stream_duplex":"wldW","string_decoder/":"F7WD","process":"pBGv"}],"I3bg":[function(require,module,exports) {
"use strict";module.exports=n;var t=require("./_stream_duplex"),r=Object.create(require("core-util-is"));function e(t,r){var e=this._transformState;e.transforming=!1;var n=e.writecb;if(!n)return this.emit("error",new Error("write callback called multiple times"));e.writechunk=null,e.writecb=null,null!=r&&this.push(r),n(t);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function n(r){if(!(this instanceof n))return new n(r);t.call(this,r),this._transformState={afterTransform:e.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,r&&("function"==typeof r.transform&&(this._transform=r.transform),"function"==typeof r.flush&&(this._flush=r.flush)),this.on("prefinish",i)}function i(){var t=this;"function"==typeof this._flush?this._flush(function(r,e){a(t,r,e)}):a(this,null,null)}function a(t,r,e){if(r)return t.emit("error",r);if(null!=e&&t.push(e),t._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(t._transformState.transforming)throw new Error("Calling transform done when still transforming");return t.push(null)}r.inherits=require("inherits"),r.inherits(n,t),n.prototype.push=function(r,e){return this._transformState.needTransform=!1,t.prototype.push.call(this,r,e)},n.prototype._transform=function(t,r,e){throw new Error("_transform() is not implemented")},n.prototype._write=function(t,r,e){var n=this._transformState;if(n.writecb=e,n.writechunk=t,n.writeencoding=r,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},n.prototype._read=function(t){var r=this._transformState;null!==r.writechunk&&r.writecb&&!r.transforming?(r.transforming=!0,this._transform(r.writechunk,r.writeencoding,r.afterTransform)):r.needTransform=!0},n.prototype._destroy=function(r,e){var n=this;t.prototype._destroy.call(this,r,function(t){e(t),n.emit("close")})};
},{"./_stream_duplex":"wldW","core-util-is":"Q14w","inherits":"Bm0n"}],"kQBK":[function(require,module,exports) {
"use strict";module.exports=t;var r=require("./_stream_transform"),e=Object.create(require("core-util-is"));function t(e){if(!(this instanceof t))return new t(e);r.call(this,e)}e.inherits=require("inherits"),e.inherits(t,r),t.prototype._transform=function(r,e,t){t(null,r)};
},{"./_stream_transform":"I3bg","core-util-is":"Q14w","inherits":"Bm0n"}],"uwsL":[function(require,module,exports) {
exports=module.exports=require("./lib/_stream_readable.js"),exports.Stream=exports,exports.Readable=exports,exports.Writable=require("./lib/_stream_writable.js"),exports.Duplex=require("./lib/_stream_duplex.js"),exports.Transform=require("./lib/_stream_transform.js"),exports.PassThrough=require("./lib/_stream_passthrough.js");
},{"./lib/_stream_readable.js":"Ogwm","./lib/_stream_writable.js":"I0x5","./lib/_stream_duplex.js":"wldW","./lib/_stream_transform.js":"I3bg","./lib/_stream_passthrough.js":"kQBK"}],"GAH2":[function(require,module,exports) {
module.exports=require("./lib/_stream_writable.js");
},{"./lib/_stream_writable.js":"I0x5"}],"dMbb":[function(require,module,exports) {
module.exports=require("./lib/_stream_duplex.js");
},{"./lib/_stream_duplex.js":"wldW"}],"yG3q":[function(require,module,exports) {
module.exports=require("./readable").Transform;
},{"./readable":"uwsL"}],"jlpe":[function(require,module,exports) {
module.exports=require("./readable").PassThrough;
},{"./readable":"uwsL"}],"fnRj":[function(require,module,exports) {
module.exports=n;var e=require("events").EventEmitter,r=require("inherits");function n(){e.call(this)}r(n,e),n.Readable=require("readable-stream/readable.js"),n.Writable=require("readable-stream/writable.js"),n.Duplex=require("readable-stream/duplex.js"),n.Transform=require("readable-stream/transform.js"),n.PassThrough=require("readable-stream/passthrough.js"),n.Stream=n,n.prototype.pipe=function(r,n){var o=this;function t(e){r.writable&&!1===r.write(e)&&o.pause&&o.pause()}function s(){o.readable&&o.resume&&o.resume()}o.on("data",t),r.on("drain",s),r._isStdio||n&&!1===n.end||(o.on("end",a),o.on("close",u));var i=!1;function a(){i||(i=!0,r.end())}function u(){i||(i=!0,"function"==typeof r.destroy&&r.destroy())}function d(r){if(l(),0===e.listenerCount(this,"error"))throw r}function l(){o.removeListener("data",t),r.removeListener("drain",s),o.removeListener("end",a),o.removeListener("close",u),o.removeListener("error",d),r.removeListener("error",d),o.removeListener("end",l),o.removeListener("close",l),r.removeListener("close",l)}return o.on("error",d),r.on("error",d),o.on("end",l),o.on("close",l),r.on("close",l),r.emit("pipe",o),r};
},{"events":"FRpO","inherits":"Bm0n","readable-stream/readable.js":"uwsL","readable-stream/writable.js":"GAH2","readable-stream/duplex.js":"dMbb","readable-stream/transform.js":"yG3q","readable-stream/passthrough.js":"jlpe"}],"VO8B":[function(require,module,exports) {

var process = require("process");
var e=require("process"),t=require("safe-buffer").Buffer,i=require("stream"),r=require("util");function s(i){if(this.buffer=null,this.writable=!0,this.readable=!0,!i)return this.buffer=t.alloc(0),this;if("function"==typeof i.pipe)return this.buffer=t.alloc(0),i.pipe(this),this;if(i.length||"object"==typeof i)return this.buffer=i,this.writable=!1,e.nextTick(function(){this.emit("end",i),this.readable=!1,this.emit("close")}.bind(this)),this;throw new TypeError("Unexpected data type ("+typeof i+")")}r.inherits(s,i),s.prototype.write=function(e){this.buffer=t.concat([this.buffer,t.from(e)]),this.emit("data",e)},s.prototype.end=function(e){e&&this.write(e),this.emit("end",e),this.emit("close"),this.writable=!1,this.readable=!1},module.exports=s;
},{"safe-buffer":"Wugr","stream":"fnRj","util":"gfUn","process":"pBGv"}],"nhWN":[function(require,module,exports) {

"use strict";var e=require("buffer").Buffer,r=require("buffer").SlowBuffer;function t(r,t){if(!e.isBuffer(r)||!e.isBuffer(t))return!1;if(r.length!==t.length)return!1;for(var u=0,o=0;o<r.length;o++)u|=r[o]^t[o];return 0===u}module.exports=t,t.install=function(){e.prototype.equal=r.prototype.equal=function(e){return t(this,e)}};var u=e.prototype.equal,o=r.prototype.equal;t.restore=function(){e.prototype.equal=u,r.prototype.equal=o};
},{"buffer":"peL6"}],"XJNj":[function(require,module,exports) {

var global = arguments[3];
var process = require("process");
var e=arguments[3],r=require("process"),o=65536,n=4294967295;function t(){throw new Error("Secure random number generation is not supported by this browser.\nUse Chrome, Firefox or Internet Explorer 11")}var s=require("safe-buffer").Buffer,u=e.crypto||e.msCrypto;function a(e,t){if(e>n)throw new RangeError("requested too many random bytes");var a=s.allocUnsafe(e);if(e>0)if(e>o)for(var f=0;f<e;f+=o)u.getRandomValues(a.slice(f,f+o));else u.getRandomValues(a);return"function"==typeof t?r.nextTick(function(){t(null,a)}):a}u&&u.getRandomValues?module.exports=a:module.exports=t;
},{"safe-buffer":"Wugr","process":"pBGv"}],"VCcH":[function(require,module,exports) {

"use strict";function t(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,a)}return n}function e(e){for(var a=1;a<arguments.length;a++){var i=null!=arguments[a]?arguments[a]:{};a%2?t(Object(i),!0).forEach(function(t){n(e,t,i[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):t(Object(i)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))})}return e}function n(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}function r(t,e,n){return e&&i(t.prototype,e),n&&i(t,n),t}var h=require("buffer"),l=h.Buffer,s=require("util"),u=s.inspect,o=u&&u.custom||"inspect";function c(t,e,n){l.prototype.copy.call(t,e,n)}module.exports=function(){function t(){a(this,t),this.head=null,this.tail=null,this.length=0}return r(t,[{key:"push",value:function(t){var e={data:t,next:null};this.length>0?this.tail.next=e:this.head=e,this.tail=e,++this.length}},{key:"unshift",value:function(t){var e={data:t,next:this.head};0===this.length&&(this.tail=e),this.head=e,++this.length}},{key:"shift",value:function(){if(0!==this.length){var t=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,t}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(t){if(0===this.length)return"";for(var e=this.head,n=""+e.data;e=e.next;)n+=t+e.data;return n}},{key:"concat",value:function(t){if(0===this.length)return l.alloc(0);for(var e=l.allocUnsafe(t>>>0),n=this.head,a=0;n;)c(n.data,e,a),a+=n.data.length,n=n.next;return e}},{key:"consume",value:function(t,e){var n;return t<this.head.data.length?(n=this.head.data.slice(0,t),this.head.data=this.head.data.slice(t)):n=t===this.head.data.length?this.shift():e?this._getString(t):this._getBuffer(t),n}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(t){var e=this.head,n=1,a=e.data;for(t-=a.length;e=e.next;){var i=e.data,r=t>i.length?i.length:t;if(r===i.length?a+=i:a+=i.slice(0,t),0===(t-=r)){r===i.length?(++n,e.next?this.head=e.next:this.head=this.tail=null):(this.head=e,e.data=i.slice(r));break}++n}return this.length-=n,a}},{key:"_getBuffer",value:function(t){var e=l.allocUnsafe(t),n=this.head,a=1;for(n.data.copy(e),t-=n.data.length;n=n.next;){var i=n.data,r=t>i.length?i.length:t;if(i.copy(e,e.length-t,0,r),0===(t-=r)){r===i.length?(++a,n.next?this.head=n.next:this.head=this.tail=null):(this.head=n,n.data=i.slice(r));break}++a}return this.length-=a,e}},{key:o,value:function(t,n){return u(this,e({},n,{depth:0,customInspect:!1}))}}]),t}();
},{"buffer":"peL6","util":"vKFU"}],"GRUB":[function(require,module,exports) {
var process = require("process");
var t=require("process");function e(e,r){var d=this,l=this._readableState&&this._readableState.destroyed,o=this._writableState&&this._writableState.destroyed;return l||o?(r?r(e):e&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,t.nextTick(s,this,e)):t.nextTick(s,this,e)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,function(e){!r&&e?d._writableState?d._writableState.errorEmitted?t.nextTick(i,d):(d._writableState.errorEmitted=!0,t.nextTick(a,d,e)):t.nextTick(a,d,e):r?(t.nextTick(i,d),r(e)):t.nextTick(i,d)}),this)}function a(t,e){s(t,e),i(t)}function i(t){t._writableState&&!t._writableState.emitClose||t._readableState&&!t._readableState.emitClose||t.emit("close")}function r(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function s(t,e){t.emit("error",e)}function d(t,e){var a=t._readableState,i=t._writableState;a&&a.autoDestroy||i&&i.autoDestroy?t.destroy(e):t.emit("error",e)}module.exports={destroy:e,undestroy:r,errorOrDestroy:d};
},{"process":"pBGv"}],"Yj9o":[function(require,module,exports) {
"use strict";function t(t,n){t.prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n}var n={};function e(e,r,o){o||(o=Error);var c=function(n){function e(t,e,o){return n.call(this,function(t,n,e){return"string"==typeof r?r:r(t,n,e)}(t,e,o))||this}return t(e,n),e}(o);c.prototype.name=o.name,c.prototype.code=e,n[e]=c}function r(t,n){if(Array.isArray(t)){var e=t.length;return t=t.map(function(t){return String(t)}),e>2?"one of ".concat(n," ").concat(t.slice(0,e-1).join(", "),", or ")+t[e-1]:2===e?"one of ".concat(n," ").concat(t[0]," or ").concat(t[1]):"of ".concat(n," ").concat(t[0])}return"of ".concat(n," ").concat(String(t))}function o(t,n,e){return t.substr(!e||e<0?0:+e,n.length)===n}function c(t,n,e){return(void 0===e||e>t.length)&&(e=t.length),t.substring(e-n.length,e)===n}function a(t,n,e){return"number"!=typeof e&&(e=0),!(e+n.length>t.length)&&-1!==t.indexOf(n,e)}e("ERR_INVALID_OPT_VALUE",function(t,n){return'The value "'+n+'" is invalid for option "'+t+'"'},TypeError),e("ERR_INVALID_ARG_TYPE",function(t,n,e){var E,u;if("string"==typeof n&&o(n,"not ")?(E="must not be",n=n.replace(/^not /,"")):E="must be",c(t," argument"))u="The ".concat(t," ").concat(E," ").concat(r(n,"type"));else{var i=a(t,".")?"property":"argument";u='The "'.concat(t,'" ').concat(i," ").concat(E," ").concat(r(n,"type"))}return u+=". Received type ".concat(typeof e)},TypeError),e("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),e("ERR_METHOD_NOT_IMPLEMENTED",function(t){return"The "+t+" method is not implemented"}),e("ERR_STREAM_PREMATURE_CLOSE","Premature close"),e("ERR_STREAM_DESTROYED",function(t){return"Cannot call "+t+" after a stream was destroyed"}),e("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),e("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),e("ERR_STREAM_WRITE_AFTER_END","write after end"),e("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),e("ERR_UNKNOWN_ENCODING",function(t){return"Unknown encoding: "+t},TypeError),e("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),module.exports.codes=n;
},{}],"TWVJ":[function(require,module,exports) {
"use strict";var r=require("../../../errors").codes.ERR_INVALID_OPT_VALUE;function e(r,e,t){return null!=r.highWaterMark?r.highWaterMark:e?r[t]:null}function t(t,i,o,a){var n=e(i,a,o);if(null!=n){if(!isFinite(n)||Math.floor(n)!==n||n<0)throw new r(a?o:"highWaterMark",n);return Math.floor(n)}return t.objectMode?16:16384}module.exports={getHighWaterMark:t};
},{"../../../errors":"Yj9o"}],"WSyY":[function(require,module,exports) {

var global = arguments[3];
var process = require("process");
var e,t=arguments[3],n=require("process");function r(e,t,n){this.chunk=e,this.encoding=t,this.callback=n,this.next=null}function i(e){var t=this;this.next=null,this.entry=null,this.finish=function(){G(t,e)}}module.exports=x,x.WritableState=m;var o={deprecate:require("util-deprecate")},s=require("./internal/streams/stream"),u=require("buffer").Buffer,f=t.Uint8Array||function(){};function a(e){return u.from(e)}function c(e){return u.isBuffer(e)||e instanceof f}var l,d=require("./internal/streams/destroy"),h=require("./internal/streams/state"),b=h.getHighWaterMark,p=require("../errors").codes,y=p.ERR_INVALID_ARG_TYPE,w=p.ERR_METHOD_NOT_IMPLEMENTED,g=p.ERR_MULTIPLE_CALLBACK,_=p.ERR_STREAM_CANNOT_PIPE,R=p.ERR_STREAM_DESTROYED,k=p.ERR_STREAM_NULL_VALUES,E=p.ERR_STREAM_WRITE_AFTER_END,S=p.ERR_UNKNOWN_ENCODING,q=d.errorOrDestroy;function v(){}function m(t,n,r){e=e||require("./_stream_duplex"),t=t||{},"boolean"!=typeof r&&(r=n instanceof e),this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.writableObjectMode),this.highWaterMark=b(this,t,"writableHighWaterMark",r),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var o=!1===t.decodeStrings;this.decodeStrings=!o,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){O(n,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==t.emitClose,this.autoDestroy=!!t.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new i(this)}function x(t){var n=this instanceof(e=e||require("./_stream_duplex"));if(!n&&!l.call(x,this))return new x(t);this._writableState=new m(t,this,n),this.writable=!0,t&&("function"==typeof t.write&&(this._write=t.write),"function"==typeof t.writev&&(this._writev=t.writev),"function"==typeof t.destroy&&(this._destroy=t.destroy),"function"==typeof t.final&&(this._final=t.final)),s.call(this)}function M(e,t){var r=new E;q(e,r),n.nextTick(t,r)}function B(e,t,r,i){var o;return null===r?o=new k:"string"==typeof r||t.objectMode||(o=new y("chunk",["string","Buffer"],r)),!o||(q(e,o),n.nextTick(i,o),!1)}function T(e,t,n){return e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=u.from(t,n)),t}function D(e,t,n,r,i,o){if(!n){var s=T(t,r,i);r!==s&&(n=!0,i="buffer",r=s)}var u=t.objectMode?1:r.length;t.length+=u;var f=t.length<t.highWaterMark;if(f||(t.needDrain=!0),t.writing||t.corked){var a=t.lastBufferedRequest;t.lastBufferedRequest={chunk:r,encoding:i,isBuf:n,callback:o,next:null},a?a.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else P(e,t,!1,u,r,i,o);return f}function P(e,t,n,r,i,o,s){t.writelen=r,t.writecb=s,t.writing=!0,t.sync=!0,t.destroyed?t.onwrite(new R("write")):n?e._writev(i,t.onwrite):e._write(i,o,t.onwrite),t.sync=!1}function j(e,t,r,i,o){--t.pendingcb,r?(n.nextTick(o,i),n.nextTick(U,e,t),e._writableState.errorEmitted=!0,q(e,i)):(o(i),e._writableState.errorEmitted=!0,q(e,i),U(e,t))}function C(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}function O(e,t){var r=e._writableState,i=r.sync,o=r.writecb;if("function"!=typeof o)throw new g;if(C(r),t)j(e,r,i,t,o);else{var s=I(r)||e.destroyed;s||r.corked||r.bufferProcessing||!r.bufferedRequest||N(e,r),i?n.nextTick(A,e,r,s,o):A(e,r,s,o)}}function A(e,t,n,r){n||L(e,t),t.pendingcb--,r(),U(e,t)}function L(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}function N(e,t){t.bufferProcessing=!0;var n=t.bufferedRequest;if(e._writev&&n&&n.next){var r=t.bufferedRequestCount,o=new Array(r),s=t.corkedRequestsFree;s.entry=n;for(var u=0,f=!0;n;)o[u]=n,n.isBuf||(f=!1),n=n.next,u+=1;o.allBuffers=f,P(e,t,!0,t.length,o,"",s.finish),t.pendingcb++,t.lastBufferedRequest=null,s.next?(t.corkedRequestsFree=s.next,s.next=null):t.corkedRequestsFree=new i(t),t.bufferedRequestCount=0}else{for(;n;){var a=n.chunk,c=n.encoding,l=n.callback;if(P(e,t,!1,t.objectMode?1:a.length,a,c,l),n=n.next,t.bufferedRequestCount--,t.writing)break}null===n&&(t.lastBufferedRequest=null)}t.bufferedRequest=n,t.bufferProcessing=!1}function I(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function W(e,t){e._final(function(n){t.pendingcb--,n&&q(e,n),t.prefinished=!0,e.emit("prefinish"),U(e,t)})}function F(e,t){t.prefinished||t.finalCalled||("function"!=typeof e._final||t.destroyed?(t.prefinished=!0,e.emit("prefinish")):(t.pendingcb++,t.finalCalled=!0,n.nextTick(W,e,t)))}function U(e,t){var n=I(t);if(n&&(F(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"),t.autoDestroy))){var r=e._readableState;(!r||r.autoDestroy&&r.endEmitted)&&e.destroy()}return n}function H(e,t,r){t.ending=!0,U(e,t),r&&(t.finished?n.nextTick(r):e.once("finish",r)),t.ended=!0,e.writable=!1}function G(e,t,n){var r=e.entry;for(e.entry=null;r;){var i=r.callback;t.pendingcb--,i(n),r=r.next}t.corkedRequestsFree.next=e}require("inherits")(x,s),m.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(m.prototype,"buffer",{get:o.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(l=Function.prototype[Symbol.hasInstance],Object.defineProperty(x,Symbol.hasInstance,{value:function(e){return!!l.call(this,e)||this===x&&(e&&e._writableState instanceof m)}})):l=function(e){return e instanceof this},x.prototype.pipe=function(){q(this,new _)},x.prototype.write=function(e,t,n){var r=this._writableState,i=!1,o=!r.objectMode&&c(e);return o&&!u.isBuffer(e)&&(e=a(e)),"function"==typeof t&&(n=t,t=null),o?t="buffer":t||(t=r.defaultEncoding),"function"!=typeof n&&(n=v),r.ending?M(this,n):(o||B(this,r,e,n))&&(r.pendingcb++,i=D(this,r,o,e,t,n)),i},x.prototype.cork=function(){this._writableState.corked++},x.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.bufferProcessing||!e.bufferedRequest||N(this,e))},x.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new S(e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(x.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(x.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),x.prototype._write=function(e,t,n){n(new w("_write()"))},x.prototype._writev=null,x.prototype.end=function(e,t,n){var r=this._writableState;return"function"==typeof e?(n=e,e=null,t=null):"function"==typeof t&&(n=t,t=null),null!=e&&this.write(e,t),r.corked&&(r.corked=1,this.uncork()),r.ending||H(this,r,n),this},Object.defineProperty(x.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(x.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),x.prototype.destroy=d.destroy,x.prototype._undestroy=d.undestroy,x.prototype._destroy=function(e,t){t(e)};
},{"util-deprecate":"yM1o","./internal/streams/stream":"Q8A6","buffer":"peL6","./internal/streams/destroy":"GRUB","./internal/streams/state":"TWVJ","../errors":"Yj9o","inherits":"Bm0n","./_stream_duplex":"Hba0","process":"pBGv"}],"Hba0":[function(require,module,exports) {
var process = require("process");
var e=require("process"),t=Object.keys||function(e){var t=[];for(var r in e)t.push(r);return t};module.exports=l;var r=require("./_stream_readable"),a=require("./_stream_writable");require("inherits")(l,r);for(var i=t(a.prototype),n=0;n<i.length;n++){var o=i[n];l.prototype[o]||(l.prototype[o]=a.prototype[o])}function l(e){if(!(this instanceof l))return new l(e);r.call(this,e),a.call(this,e),this.allowHalfOpen=!0,e&&(!1===e.readable&&(this.readable=!1),!1===e.writable&&(this.writable=!1),!1===e.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",s)))}function s(){this._writableState.ended||e.nextTick(b,this)}function b(e){e.end()}Object.defineProperty(l.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(l.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(l.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(l.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}});
},{"./_stream_readable":"DHrQ","./_stream_writable":"WSyY","inherits":"Bm0n","process":"pBGv"}],"z0rv":[function(require,module,exports) {

"use strict";var t=require("safe-buffer").Buffer,e=t.isEncoding||function(t){switch((t=""+t)&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function s(t){if(!t)return"utf8";for(var e;;)switch(t){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return t;default:if(e)return;t=(""+t).toLowerCase(),e=!0}}function i(i){var a=s(i);if("string"!=typeof a&&(t.isEncoding===e||!e(i)))throw new Error("Unknown encoding: "+i);return a||i}function a(e){var s;switch(this.encoding=i(e),this.encoding){case"utf16le":this.text=c,this.end=f,s=4;break;case"utf8":this.fillLast=l,s=4;break;case"base64":this.text=d,this.end=g,s=3;break;default:return this.write=N,void(this.end=v)}this.lastNeed=0,this.lastTotal=0,this.lastChar=t.allocUnsafe(s)}function r(t){return t<=127?0:t>>5==6?2:t>>4==14?3:t>>3==30?4:t>>6==2?-1:-2}function n(t,e,s){var i=e.length-1;if(i<s)return 0;var a=r(e[i]);return a>=0?(a>0&&(t.lastNeed=a-1),a):--i<s||-2===a?0:(a=r(e[i]))>=0?(a>0&&(t.lastNeed=a-2),a):--i<s||-2===a?0:(a=r(e[i]))>=0?(a>0&&(2===a?a=0:t.lastNeed=a-3),a):0}function h(t,e,s){if(128!=(192&e[0]))return t.lastNeed=0,"";if(t.lastNeed>1&&e.length>1){if(128!=(192&e[1]))return t.lastNeed=1,"";if(t.lastNeed>2&&e.length>2&&128!=(192&e[2]))return t.lastNeed=2,""}}function l(t){var e=this.lastTotal-this.lastNeed,s=h(this,t,e);return void 0!==s?s:this.lastNeed<=t.length?(t.copy(this.lastChar,e,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(t.copy(this.lastChar,e,0,t.length),void(this.lastNeed-=t.length))}function u(t,e){var s=n(this,t,e);if(!this.lastNeed)return t.toString("utf8",e);this.lastTotal=s;var i=t.length-(s-this.lastNeed);return t.copy(this.lastChar,0,i),t.toString("utf8",e,i)}function o(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+"":e}function c(t,e){if((t.length-e)%2==0){var s=t.toString("utf16le",e);if(s){var i=s.charCodeAt(s.length-1);if(i>=55296&&i<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1],s.slice(0,-1)}return s}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=t[t.length-1],t.toString("utf16le",e,t.length-1)}function f(t){var e=t&&t.length?this.write(t):"";if(this.lastNeed){var s=this.lastTotal-this.lastNeed;return e+this.lastChar.toString("utf16le",0,s)}return e}function d(t,e){var s=(t.length-e)%3;return 0===s?t.toString("base64",e):(this.lastNeed=3-s,this.lastTotal=3,1===s?this.lastChar[0]=t[t.length-1]:(this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1]),t.toString("base64",e,t.length-s))}function g(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+this.lastChar.toString("base64",0,3-this.lastNeed):e}function N(t){return t.toString(this.encoding)}function v(t){return t&&t.length?this.write(t):""}exports.StringDecoder=a,a.prototype.write=function(t){if(0===t.length)return"";var e,s;if(this.lastNeed){if(void 0===(e=this.fillLast(t)))return"";s=this.lastNeed,this.lastNeed=0}else s=0;return s<t.length?e?e+this.text(t,s):this.text(t,s):e||""},a.prototype.end=o,a.prototype.text=u,a.prototype.fillLast=function(t){if(this.lastNeed<=t.length)return t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,t.length),this.lastNeed-=t.length};
},{"safe-buffer":"Wugr"}],"mrEY":[function(require,module,exports) {
"use strict";var e=require("../../../errors").codes.ERR_STREAM_PREMATURE_CLOSE;function r(e){var r=!1;return function(){if(!r){r=!0;for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];e.apply(this,n)}}}function t(){}function n(e){return e.setHeader&&"function"==typeof e.abort}function o(i,a,l){if("function"==typeof a)return o(i,null,a);a||(a={}),l=r(l||t);var s=a.readable||!1!==a.readable&&i.readable,c=a.writable||!1!==a.writable&&i.writable,u=function(){i.writable||d()},f=i._writableState&&i._writableState.finished,d=function(){c=!1,f=!0,s||l.call(i)},b=i._readableState&&i._readableState.endEmitted,v=function(){s=!1,b=!0,c||l.call(i)},m=function(e){l.call(i,e)},w=function(){var r;return s&&!b?(i._readableState&&i._readableState.ended||(r=new e),l.call(i,r)):c&&!f?(i._writableState&&i._writableState.ended||(r=new e),l.call(i,r)):void 0},_=function(){i.req.on("finish",d)};return n(i)?(i.on("complete",d),i.on("abort",w),i.req?_():i.on("request",_)):c&&!i._writableState&&(i.on("end",u),i.on("close",u)),i.on("end",v),i.on("finish",d),!1!==a.error&&i.on("error",m),i.on("close",w),function(){i.removeListener("complete",d),i.removeListener("abort",w),i.removeListener("request",_),i.req&&i.req.removeListener("finish",d),i.removeListener("end",u),i.removeListener("close",u),i.removeListener("finish",d),i.removeListener("end",v),i.removeListener("error",m),i.removeListener("close",w)}}module.exports=o;
},{"../../../errors":"Yj9o"}],"AOGM":[function(require,module,exports) {
var process = require("process");
var e,n=require("process");function r(e,n,r){return n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}var t=require("./end-of-stream"),l=Symbol("lastResolve"),u=Symbol("lastReject"),i=Symbol("error"),o=Symbol("ended"),a=Symbol("lastPromise"),s=Symbol("handlePromise"),c=Symbol("stream");function f(e,n){return{value:e,done:n}}function v(e){var n=e[l];if(null!==n){var r=e[c].read();null!==r&&(e[a]=null,e[l]=null,e[u]=null,n(f(r,!1)))}}function d(e){n.nextTick(v,e)}function b(e,n){return function(r,t){e.then(function(){n[o]?r(f(void 0,!0)):n[s](r,t)},t)}}var m=Object.getPrototypeOf(function(){}),h=Object.setPrototypeOf((r(e={get stream(){return this[c]},next:function(){var e=this,r=this[i];if(null!==r)return Promise.reject(r);if(this[o])return Promise.resolve(f(void 0,!0));if(this[c].destroyed)return new Promise(function(r,t){n.nextTick(function(){e[i]?t(e[i]):r(f(void 0,!0))})});var t,l=this[a];if(l)t=new Promise(b(l,this));else{var u=this[c].read();if(null!==u)return Promise.resolve(f(u,!1));t=new Promise(this[s])}return this[a]=t,t}},Symbol.asyncIterator,function(){return this}),r(e,"return",function(){var e=this;return new Promise(function(n,r){e[c].destroy(null,function(e){e?r(e):n(f(void 0,!0))})})}),e),m),y=function(e){var n,v=Object.create(h,(r(n={},c,{value:e,writable:!0}),r(n,l,{value:null,writable:!0}),r(n,u,{value:null,writable:!0}),r(n,i,{value:null,writable:!0}),r(n,o,{value:e._readableState.endEmitted,writable:!0}),r(n,s,{value:function(e,n){var r=v[c].read();r?(v[a]=null,v[l]=null,v[u]=null,e(f(r,!1))):(v[l]=e,v[u]=n)},writable:!0}),n));return v[a]=null,t(e,function(e){if(e&&"ERR_STREAM_PREMATURE_CLOSE"!==e.code){var n=v[u];return null!==n&&(v[a]=null,v[l]=null,v[u]=null,n(e)),void(v[i]=e)}var r=v[l];null!==r&&(v[a]=null,v[l]=null,v[u]=null,r(f(void 0,!0))),v[o]=!0}),e.on("readable",d.bind(null,v)),v};module.exports=y;
},{"./end-of-stream":"mrEY","process":"pBGv"}],"Rr4m":[function(require,module,exports) {
module.exports=function(){throw new Error("Readable.from is not available in the browser")};
},{}],"DHrQ":[function(require,module,exports) {

var global = arguments[3];
var process = require("process");
var e,t=arguments[3],n=require("process");module.exports=j,j.ReadableState=L;var r=require("events").EventEmitter,i=function(e,t){return e.listeners(t).length},a=require("./internal/streams/stream"),d=require("buffer").Buffer,o=t.Uint8Array||function(){};function s(e){return d.from(e)}function l(e){return d.isBuffer(e)||e instanceof o}var u,h=require("util");u=h&&h.debuglog?h.debuglog("stream"):function(){};var p,f,c,b=require("./internal/streams/buffer_list"),g=require("./internal/streams/destroy"),m=require("./internal/streams/state"),y=m.getHighWaterMark,_=require("../errors").codes,v=_.ERR_INVALID_ARG_TYPE,w=_.ERR_STREAM_PUSH_AFTER_EOF,S=_.ERR_METHOD_NOT_IMPLEMENTED,R=_.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;require("inherits")(j,a);var M=g.errorOrDestroy,E=["error","close","destroy","pause","resume"];function k(e,t,n){if("function"==typeof e.prependListener)return e.prependListener(t,n);e._events&&e._events[t]?Array.isArray(e._events[t])?e._events[t].unshift(n):e._events[t]=[n,e._events[t]]:e.on(t,n)}function L(t,n,r){e=e||require("./_stream_duplex"),t=t||{},"boolean"!=typeof r&&(r=n instanceof e),this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.readableObjectMode),this.highWaterMark=y(this,t,"readableHighWaterMark",r),this.buffer=new b,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==t.emitClose,this.autoDestroy=!!t.autoDestroy,this.destroyed=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(p||(p=require("string_decoder/").StringDecoder),this.decoder=new p(t.encoding),this.encoding=t.encoding)}function j(t){if(e=e||require("./_stream_duplex"),!(this instanceof j))return new j(t);var n=this instanceof e;this._readableState=new L(t,this,n),this.readable=!0,t&&("function"==typeof t.read&&(this._read=t.read),"function"==typeof t.destroy&&(this._destroy=t.destroy)),a.call(this)}function D(e,t,n,r,i){u("readableAddChunk",t);var a,o=e._readableState;if(null===t)o.reading=!1,A(e,o);else if(i||(a=T(o,t)),a)M(e,a);else if(o.objectMode||t&&t.length>0)if("string"==typeof t||o.objectMode||Object.getPrototypeOf(t)===d.prototype||(t=s(t)),r)o.endEmitted?M(e,new R):C(e,o,t,!0);else if(o.ended)M(e,new w);else{if(o.destroyed)return!1;o.reading=!1,o.decoder&&!n?(t=o.decoder.write(t),o.objectMode||0!==t.length?C(e,o,t,!1):U(e,o)):C(e,o,t,!1)}else r||(o.reading=!1,U(e,o));return!o.ended&&(o.length<o.highWaterMark||0===o.length)}function C(e,t,n,r){t.flowing&&0===t.length&&!t.sync?(t.awaitDrain=0,e.emit("data",n)):(t.length+=t.objectMode?1:n.length,r?t.buffer.unshift(n):t.buffer.push(n),t.needReadable&&O(e)),U(e,t)}function T(e,t){var n;return l(t)||"string"==typeof t||void 0===t||e.objectMode||(n=new v("chunk",["string","Buffer","Uint8Array"],t)),n}Object.defineProperty(j.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),j.prototype.destroy=g.destroy,j.prototype._undestroy=g.undestroy,j.prototype._destroy=function(e,t){t(e)},j.prototype.push=function(e,t){var n,r=this._readableState;return r.objectMode?n=!0:"string"==typeof e&&((t=t||r.defaultEncoding)!==r.encoding&&(e=d.from(e,t),t=""),n=!0),D(this,e,t,!1,n)},j.prototype.unshift=function(e){return D(this,e,null,!0,!1)},j.prototype.isPaused=function(){return!1===this._readableState.flowing},j.prototype.setEncoding=function(e){p||(p=require("string_decoder/").StringDecoder);var t=new p(e);this._readableState.decoder=t,this._readableState.encoding=this._readableState.decoder.encoding;for(var n=this._readableState.buffer.head,r="";null!==n;)r+=t.write(n.data),n=n.next;return this._readableState.buffer.clear(),""!==r&&this._readableState.buffer.push(r),this._readableState.length=r.length,this};var q=1073741824;function W(e){return e>=q?e=q:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}function x(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=W(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function A(e,t){if(u("onEofChunk"),!t.ended){if(t.decoder){var n=t.decoder.end();n&&n.length&&(t.buffer.push(n),t.length+=t.objectMode?1:n.length)}t.ended=!0,t.sync?O(e):(t.needReadable=!1,t.emittedReadable||(t.emittedReadable=!0,P(e)))}}function O(e){var t=e._readableState;u("emitReadable",t.needReadable,t.emittedReadable),t.needReadable=!1,t.emittedReadable||(u("emitReadable",t.flowing),t.emittedReadable=!0,n.nextTick(P,e))}function P(e){var t=e._readableState;u("emitReadable_",t.destroyed,t.length,t.ended),t.destroyed||!t.length&&!t.ended||(e.emit("readable"),t.emittedReadable=!1),t.needReadable=!t.flowing&&!t.ended&&t.length<=t.highWaterMark,G(e)}function U(e,t){t.readingMore||(t.readingMore=!0,n.nextTick(N,e,t))}function N(e,t){for(;!t.reading&&!t.ended&&(t.length<t.highWaterMark||t.flowing&&0===t.length);){var n=t.length;if(u("maybeReadMore read 0"),e.read(0),n===t.length)break}t.readingMore=!1}function H(e){return function(){var t=e._readableState;u("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&i(e,"data")&&(t.flowing=!0,G(e))}}function I(e){var t=e._readableState;t.readableListening=e.listenerCount("readable")>0,t.resumeScheduled&&!t.paused?t.flowing=!0:e.listenerCount("data")>0&&e.resume()}function F(e){u("readable nexttick read 0"),e.read(0)}function B(e,t){t.resumeScheduled||(t.resumeScheduled=!0,n.nextTick(V,e,t))}function V(e,t){u("resume",t.reading),t.reading||e.read(0),t.resumeScheduled=!1,e.emit("resume"),G(e),t.flowing&&!t.reading&&e.read(0)}function G(e){var t=e._readableState;for(u("flow",t.flowing);t.flowing&&null!==e.read(););}function Y(e,t){return 0===t.length?null:(t.objectMode?n=t.buffer.shift():!e||e>=t.length?(n=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.first():t.buffer.concat(t.length),t.buffer.clear()):n=t.buffer.consume(e,t.decoder),n);var n}function z(e){var t=e._readableState;u("endReadable",t.endEmitted),t.endEmitted||(t.ended=!0,n.nextTick(J,t,e))}function J(e,t){if(u("endReadableNT",e.endEmitted,e.length),!e.endEmitted&&0===e.length&&(e.endEmitted=!0,t.readable=!1,t.emit("end"),e.autoDestroy)){var n=t._writableState;(!n||n.autoDestroy&&n.finished)&&t.destroy()}}function K(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1}j.prototype.read=function(e){u("read",e),e=parseInt(e,10);var t=this._readableState,n=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&((0!==t.highWaterMark?t.length>=t.highWaterMark:t.length>0)||t.ended))return u("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?z(this):O(this),null;if(0===(e=x(e,t))&&t.ended)return 0===t.length&&z(this),null;var r,i=t.needReadable;return u("need readable",i),(0===t.length||t.length-e<t.highWaterMark)&&u("length less than watermark",i=!0),t.ended||t.reading?u("reading or ended",i=!1):i&&(u("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=x(n,t))),null===(r=e>0?Y(e,t):null)?(t.needReadable=t.length<=t.highWaterMark,e=0):(t.length-=e,t.awaitDrain=0),0===t.length&&(t.ended||(t.needReadable=!0),n!==e&&t.ended&&z(this)),null!==r&&this.emit("data",r),r},j.prototype._read=function(e){M(this,new S("_read()"))},j.prototype.pipe=function(e,t){var r=this,a=this._readableState;switch(a.pipesCount){case 0:a.pipes=e;break;case 1:a.pipes=[a.pipes,e];break;default:a.pipes.push(e)}a.pipesCount+=1,u("pipe count=%d opts=%j",a.pipesCount,t);var d=(!t||!1!==t.end)&&e!==n.stdout&&e!==n.stderr?s:g;function o(t,n){u("onunpipe"),t===r&&n&&!1===n.hasUnpiped&&(n.hasUnpiped=!0,u("cleanup"),e.removeListener("close",c),e.removeListener("finish",b),e.removeListener("drain",l),e.removeListener("error",f),e.removeListener("unpipe",o),r.removeListener("end",s),r.removeListener("end",g),r.removeListener("data",p),h=!0,!a.awaitDrain||e._writableState&&!e._writableState.needDrain||l())}function s(){u("onend"),e.end()}a.endEmitted?n.nextTick(d):r.once("end",d),e.on("unpipe",o);var l=H(r);e.on("drain",l);var h=!1;function p(t){u("ondata");var n=e.write(t);u("dest.write",n),!1===n&&((1===a.pipesCount&&a.pipes===e||a.pipesCount>1&&-1!==K(a.pipes,e))&&!h&&(u("false write response, pause",a.awaitDrain),a.awaitDrain++),r.pause())}function f(t){u("onerror",t),g(),e.removeListener("error",f),0===i(e,"error")&&M(e,t)}function c(){e.removeListener("finish",b),g()}function b(){u("onfinish"),e.removeListener("close",c),g()}function g(){u("unpipe"),r.unpipe(e)}return r.on("data",p),k(e,"error",f),e.once("close",c),e.once("finish",b),e.emit("pipe",r),a.flowing||(u("pipe resume"),r.resume()),e},j.prototype.unpipe=function(e){var t=this._readableState,n={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes?this:(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,n),this);if(!e){var r=t.pipes,i=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var a=0;a<i;a++)r[a].emit("unpipe",this,{hasUnpiped:!1});return this}var d=K(t.pipes,e);return-1===d?this:(t.pipes.splice(d,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,n),this)},j.prototype.on=function(e,t){var r=a.prototype.on.call(this,e,t),i=this._readableState;return"data"===e?(i.readableListening=this.listenerCount("readable")>0,!1!==i.flowing&&this.resume()):"readable"===e&&(i.endEmitted||i.readableListening||(i.readableListening=i.needReadable=!0,i.flowing=!1,i.emittedReadable=!1,u("on readable",i.length,i.reading),i.length?O(this):i.reading||n.nextTick(F,this))),r},j.prototype.addListener=j.prototype.on,j.prototype.removeListener=function(e,t){var r=a.prototype.removeListener.call(this,e,t);return"readable"===e&&n.nextTick(I,this),r},j.prototype.removeAllListeners=function(e){var t=a.prototype.removeAllListeners.apply(this,arguments);return"readable"!==e&&void 0!==e||n.nextTick(I,this),t},j.prototype.resume=function(){var e=this._readableState;return e.flowing||(u("resume"),e.flowing=!e.readableListening,B(this,e)),e.paused=!1,this},j.prototype.pause=function(){return u("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(u("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},j.prototype.wrap=function(e){var t=this,n=this._readableState,r=!1;for(var i in e.on("end",function(){if(u("wrapped end"),n.decoder&&!n.ended){var e=n.decoder.end();e&&e.length&&t.push(e)}t.push(null)}),e.on("data",function(i){(u("wrapped data"),n.decoder&&(i=n.decoder.write(i)),n.objectMode&&null==i)||(n.objectMode||i&&i.length)&&(t.push(i)||(r=!0,e.pause()))}),e)void 0===this[i]&&"function"==typeof e[i]&&(this[i]=function(t){return function(){return e[t].apply(e,arguments)}}(i));for(var a=0;a<E.length;a++)e.on(E[a],this.emit.bind(this,E[a]));return this._read=function(t){u("wrapped _read",t),r&&(r=!1,e.resume())},this},"function"==typeof Symbol&&(j.prototype[Symbol.asyncIterator]=function(){return void 0===f&&(f=require("./internal/streams/async_iterator")),f(this)}),Object.defineProperty(j.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(j.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(j.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}}),j._fromList=Y,Object.defineProperty(j.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),"function"==typeof Symbol&&(j.from=function(e,t){return void 0===c&&(c=require("./internal/streams/from")),c(j,e,t)});
},{"events":"FRpO","./internal/streams/stream":"Q8A6","buffer":"peL6","util":"vKFU","./internal/streams/buffer_list":"VCcH","./internal/streams/destroy":"GRUB","./internal/streams/state":"TWVJ","../errors":"Yj9o","inherits":"Bm0n","./_stream_duplex":"Hba0","string_decoder/":"z0rv","./internal/streams/async_iterator":"AOGM","./internal/streams/from":"Rr4m","process":"pBGv"}],"tlBz":[function(require,module,exports) {
"use strict";module.exports=o;var t=require("../errors").codes,r=t.ERR_METHOD_NOT_IMPLEMENTED,e=t.ERR_MULTIPLE_CALLBACK,n=t.ERR_TRANSFORM_ALREADY_TRANSFORMING,i=t.ERR_TRANSFORM_WITH_LENGTH_0,a=require("./_stream_duplex");function s(t,r){var n=this._transformState;n.transforming=!1;var i=n.writecb;if(null===i)return this.emit("error",new e);n.writechunk=null,n.writecb=null,null!=r&&this.push(r),i(t);var a=this._readableState;a.reading=!1,(a.needReadable||a.length<a.highWaterMark)&&this._read(a.highWaterMark)}function o(t){if(!(this instanceof o))return new o(t);a.call(this,t),this._transformState={afterTransform:s.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,t&&("function"==typeof t.transform&&(this._transform=t.transform),"function"==typeof t.flush&&(this._flush=t.flush)),this.on("prefinish",h)}function h(){var t=this;"function"!=typeof this._flush||this._readableState.destroyed?f(this,null,null):this._flush(function(r,e){f(t,r,e)})}function f(t,r,e){if(r)return t.emit("error",r);if(null!=e&&t.push(e),t._writableState.length)throw new i;if(t._transformState.transforming)throw new n;return t.push(null)}require("inherits")(o,a),o.prototype.push=function(t,r){return this._transformState.needTransform=!1,a.prototype.push.call(this,t,r)},o.prototype._transform=function(t,e,n){n(new r("_transform()"))},o.prototype._write=function(t,r,e){var n=this._transformState;if(n.writecb=e,n.writechunk=t,n.writeencoding=r,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},o.prototype._read=function(t){var r=this._transformState;null===r.writechunk||r.transforming?r.needTransform=!0:(r.transforming=!0,this._transform(r.writechunk,r.writeencoding,r.afterTransform))},o.prototype._destroy=function(t,r){a.prototype._destroy.call(this,t,function(t){r(t)})};
},{"../errors":"Yj9o","./_stream_duplex":"Hba0","inherits":"Bm0n"}],"nwyA":[function(require,module,exports) {
"use strict";module.exports=t;var r=require("./_stream_transform");function t(e){if(!(this instanceof t))return new t(e);r.call(this,e)}require("inherits")(t,r),t.prototype._transform=function(r,t,e){e(null,r)};
},{"./_stream_transform":"tlBz","inherits":"Bm0n"}],"AJFC":[function(require,module,exports) {
"use strict";var r;function n(r){var n=!1;return function(){n||(n=!0,r.apply(void 0,arguments))}}var t=require("../../../errors").codes,e=t.ERR_MISSING_ARGS,o=t.ERR_STREAM_DESTROYED;function i(r){if(r)throw r}function u(r){return r.setHeader&&"function"==typeof r.abort}function f(t,e,i,f){f=n(f);var a=!1;t.on("close",function(){a=!0}),void 0===r&&(r=require("./end-of-stream")),r(t,{readable:e,writable:i},function(r){if(r)return f(r);a=!0,f()});var c=!1;return function(r){if(!a&&!c)return c=!0,u(t)?t.abort():"function"==typeof t.destroy?t.destroy():void f(r||new o("pipe"))}}function a(r){r()}function c(r,n){return r.pipe(n)}function p(r){return r.length?"function"!=typeof r[r.length-1]?i:r.pop():i}function s(){for(var r=arguments.length,n=new Array(r),t=0;t<r;t++)n[t]=arguments[t];var o,i=p(n);if(Array.isArray(n[0])&&(n=n[0]),n.length<2)throw new e("streams");var u=n.map(function(r,t){var e=t<n.length-1;return f(r,e,t>0,function(r){o||(o=r),r&&u.forEach(a),e||(u.forEach(a),i(o))})});return n.reduce(c)}module.exports=s;
},{"../../../errors":"Yj9o","./end-of-stream":"mrEY"}],"tzeh":[function(require,module,exports) {
exports=module.exports=require("./lib/_stream_readable.js"),exports.Stream=exports,exports.Readable=exports,exports.Writable=require("./lib/_stream_writable.js"),exports.Duplex=require("./lib/_stream_duplex.js"),exports.Transform=require("./lib/_stream_transform.js"),exports.PassThrough=require("./lib/_stream_passthrough.js"),exports.finished=require("./lib/internal/streams/end-of-stream.js"),exports.pipeline=require("./lib/internal/streams/pipeline.js");
},{"./lib/_stream_readable.js":"DHrQ","./lib/_stream_writable.js":"WSyY","./lib/_stream_duplex.js":"Hba0","./lib/_stream_transform.js":"tlBz","./lib/_stream_passthrough.js":"nwyA","./lib/internal/streams/end-of-stream.js":"mrEY","./lib/internal/streams/pipeline.js":"AJFC"}],"UcQW":[function(require,module,exports) {

"use strict";var t=require("safe-buffer").Buffer,e=require("readable-stream").Transform,i=require("inherits");function r(e,i){if(!t.isBuffer(e)&&"string"!=typeof e)throw new TypeError(i+" must be a string or a buffer")}function o(i){e.call(this),this._block=t.allocUnsafe(i),this._blockSize=i,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}i(o,e),o.prototype._transform=function(t,e,i){var r=null;try{this.update(t,e)}catch(o){r=o}i(r)},o.prototype._flush=function(t){var e=null;try{this.push(this.digest())}catch(i){e=i}t(e)},o.prototype.update=function(e,i){if(r(e,"Data"),this._finalized)throw new Error("Digest already called");t.isBuffer(e)||(e=t.from(e,i));for(var o=this._block,s=0;this._blockOffset+e.length-s>=this._blockSize;){for(var f=this._blockOffset;f<this._blockSize;)o[f++]=e[s++];this._update(),this._blockOffset=0}for(;s<e.length;)o[this._blockOffset++]=e[s++];for(var n=0,h=8*e.length;h>0;++n)this._length[n]+=h,(h=this._length[n]/4294967296|0)>0&&(this._length[n]-=4294967296*h);return this},o.prototype._update=function(){throw new Error("_update is not implemented")},o.prototype.digest=function(t){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var e=this._digest();void 0!==t&&(e=e.toString(t)),this._block.fill(0),this._blockOffset=0;for(var i=0;i<4;++i)this._length[i]=0;return e},o.prototype._digest=function(){throw new Error("_digest is not implemented")},module.exports=o;
},{"safe-buffer":"Wugr","readable-stream":"tzeh","inherits":"Bm0n"}],"OP64":[function(require,module,exports) {

"use strict";var t=require("inherits"),i=require("hash-base"),s=require("safe-buffer").Buffer,e=new Array(16);function h(){i.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}function r(t,i){return t<<i|t>>>32-i}function _(t,i,s,e,h,_,n){return r(t+(i&s|~i&e)+h+_|0,n)+i|0}function n(t,i,s,e,h,_,n){return r(t+(i&e|s&~e)+h+_|0,n)+i|0}function c(t,i,s,e,h,_,n){return r(t+(i^s^e)+h+_|0,n)+i|0}function f(t,i,s,e,h,_,n){return r(t+(s^(i|~e))+h+_|0,n)+i|0}t(h,i),h.prototype._update=function(){for(var t=e,i=0;i<16;++i)t[i]=this._block.readInt32LE(4*i);var s=this._a,h=this._b,r=this._c,o=this._d;s=_(s,h,r,o,t[0],3614090360,7),o=_(o,s,h,r,t[1],3905402710,12),r=_(r,o,s,h,t[2],606105819,17),h=_(h,r,o,s,t[3],3250441966,22),s=_(s,h,r,o,t[4],4118548399,7),o=_(o,s,h,r,t[5],1200080426,12),r=_(r,o,s,h,t[6],2821735955,17),h=_(h,r,o,s,t[7],4249261313,22),s=_(s,h,r,o,t[8],1770035416,7),o=_(o,s,h,r,t[9],2336552879,12),r=_(r,o,s,h,t[10],4294925233,17),h=_(h,r,o,s,t[11],2304563134,22),s=_(s,h,r,o,t[12],1804603682,7),o=_(o,s,h,r,t[13],4254626195,12),r=_(r,o,s,h,t[14],2792965006,17),s=n(s,h=_(h,r,o,s,t[15],1236535329,22),r,o,t[1],4129170786,5),o=n(o,s,h,r,t[6],3225465664,9),r=n(r,o,s,h,t[11],643717713,14),h=n(h,r,o,s,t[0],3921069994,20),s=n(s,h,r,o,t[5],3593408605,5),o=n(o,s,h,r,t[10],38016083,9),r=n(r,o,s,h,t[15],3634488961,14),h=n(h,r,o,s,t[4],3889429448,20),s=n(s,h,r,o,t[9],568446438,5),o=n(o,s,h,r,t[14],3275163606,9),r=n(r,o,s,h,t[3],4107603335,14),h=n(h,r,o,s,t[8],1163531501,20),s=n(s,h,r,o,t[13],2850285829,5),o=n(o,s,h,r,t[2],4243563512,9),r=n(r,o,s,h,t[7],1735328473,14),s=c(s,h=n(h,r,o,s,t[12],2368359562,20),r,o,t[5],4294588738,4),o=c(o,s,h,r,t[8],2272392833,11),r=c(r,o,s,h,t[11],1839030562,16),h=c(h,r,o,s,t[14],4259657740,23),s=c(s,h,r,o,t[1],2763975236,4),o=c(o,s,h,r,t[4],1272893353,11),r=c(r,o,s,h,t[7],4139469664,16),h=c(h,r,o,s,t[10],3200236656,23),s=c(s,h,r,o,t[13],681279174,4),o=c(o,s,h,r,t[0],3936430074,11),r=c(r,o,s,h,t[3],3572445317,16),h=c(h,r,o,s,t[6],76029189,23),s=c(s,h,r,o,t[9],3654602809,4),o=c(o,s,h,r,t[12],3873151461,11),r=c(r,o,s,h,t[15],530742520,16),s=f(s,h=c(h,r,o,s,t[2],3299628645,23),r,o,t[0],4096336452,6),o=f(o,s,h,r,t[7],1126891415,10),r=f(r,o,s,h,t[14],2878612391,15),h=f(h,r,o,s,t[5],4237533241,21),s=f(s,h,r,o,t[12],1700485571,6),o=f(o,s,h,r,t[3],2399980690,10),r=f(r,o,s,h,t[10],4293915773,15),h=f(h,r,o,s,t[1],2240044497,21),s=f(s,h,r,o,t[8],1873313359,6),o=f(o,s,h,r,t[15],4264355552,10),r=f(r,o,s,h,t[6],2734768916,15),h=f(h,r,o,s,t[13],1309151649,21),s=f(s,h,r,o,t[4],4149444226,6),o=f(o,s,h,r,t[11],3174756917,10),r=f(r,o,s,h,t[2],718787259,15),h=f(h,r,o,s,t[9],3951481745,21),this._a=this._a+s|0,this._b=this._b+h|0,this._c=this._c+r|0,this._d=this._d+o|0},h.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var t=s.allocUnsafe(16);return t.writeInt32LE(this._a,0),t.writeInt32LE(this._b,4),t.writeInt32LE(this._c,8),t.writeInt32LE(this._d,12),t},module.exports=h;
},{"inherits":"Bm0n","hash-base":"UcQW","safe-buffer":"Wugr"}],"quyi":[function(require,module,exports) {

"use strict";var t=require("buffer").Buffer,i=require("inherits"),s=require("hash-base"),h=new Array(16),e=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],_=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],r=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],n=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],c=[0,1518500249,1859775393,2400959708,2840853838],o=[1352829926,1548603684,1836072691,2053994217,0];function f(){s.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}function u(t,i){return t<<i|t>>>32-i}function l(t,i,s,h,e,_,r,n){return u(t+(i^s^h)+_+r|0,n)+e|0}function a(t,i,s,h,e,_,r,n){return u(t+(i&s|~i&h)+_+r|0,n)+e|0}function b(t,i,s,h,e,_,r,n){return u(t+((i|~s)^h)+_+r|0,n)+e|0}function d(t,i,s,h,e,_,r,n){return u(t+(i&h|s&~h)+_+r|0,n)+e|0}function k(t,i,s,h,e,_,r,n){return u(t+(i^(s|~h))+_+r|0,n)+e|0}i(f,s),f.prototype._update=function(){for(var t=h,i=0;i<16;++i)t[i]=this._block.readInt32LE(4*i);for(var s=0|this._a,f=0|this._b,w=0|this._c,p=0|this._d,E=0|this._e,I=0|this._a,L=0|this._b,v=0|this._c,O=0|this._d,g=0|this._e,q=0;q<80;q+=1){var y,U;q<16?(y=l(s,f,w,p,E,t[e[q]],c[0],r[q]),U=k(I,L,v,O,g,t[_[q]],o[0],n[q])):q<32?(y=a(s,f,w,p,E,t[e[q]],c[1],r[q]),U=d(I,L,v,O,g,t[_[q]],o[1],n[q])):q<48?(y=b(s,f,w,p,E,t[e[q]],c[2],r[q]),U=b(I,L,v,O,g,t[_[q]],o[2],n[q])):q<64?(y=d(s,f,w,p,E,t[e[q]],c[3],r[q]),U=a(I,L,v,O,g,t[_[q]],o[3],n[q])):(y=k(s,f,w,p,E,t[e[q]],c[4],r[q]),U=l(I,L,v,O,g,t[_[q]],o[4],n[q])),s=E,E=p,p=u(w,10),w=f,f=y,I=g,g=O,O=u(v,10),v=L,L=U}var m=this._b+w+O|0;this._b=this._c+p+g|0,this._c=this._d+E+I|0,this._d=this._e+s+L|0,this._e=this._a+f+v|0,this._a=m},f.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var i=t.alloc?t.alloc(20):new t(20);return i.writeInt32LE(this._a,0),i.writeInt32LE(this._b,4),i.writeInt32LE(this._c,8),i.writeInt32LE(this._d,12),i.writeInt32LE(this._e,16),i},module.exports=f;
},{"buffer":"peL6","inherits":"Bm0n","hash-base":"UcQW"}],"VHby":[function(require,module,exports) {

var t=require("safe-buffer").Buffer;function i(i,e){this._block=t.alloc(i),this._finalSize=e,this._blockSize=i,this._len=0}i.prototype.update=function(i,e){"string"==typeof i&&(e=e||"utf8",i=t.from(i,e));for(var s=this._block,o=this._blockSize,l=i.length,h=this._len,r=0;r<l;){for(var _=h%o,n=Math.min(l-r,o-_),c=0;c<n;c++)s[_+c]=i[r+c];r+=n,(h+=n)%o==0&&this._update(s)}return this._len+=l,this},i.prototype.digest=function(t){var i=this._len%this._blockSize;this._block[i]=128,this._block.fill(0,i+1),i>=this._finalSize&&(this._update(this._block),this._block.fill(0));var e=8*this._len;if(e<=4294967295)this._block.writeUInt32BE(e,this._blockSize-4);else{var s=(4294967295&e)>>>0,o=(e-s)/4294967296;this._block.writeUInt32BE(o,this._blockSize-8),this._block.writeUInt32BE(s,this._blockSize-4)}this._update(this._block);var l=this._hash();return t?l.toString(t):l},i.prototype._update=function(){throw new Error("_update must be implemented by subclass")},module.exports=i;
},{"safe-buffer":"Wugr"}],"j9dE":[function(require,module,exports) {

var t=require("inherits"),i=require("./hash"),r=require("safe-buffer").Buffer,s=[1518500249,1859775393,-1894007588,-899497514],h=new Array(80);function e(){this.init(),this._w=h,i.call(this,64,56)}function n(t){return t<<5|t>>>27}function _(t){return t<<30|t>>>2}function a(t,i,r,s){return 0===t?i&r|~i&s:2===t?i&r|i&s|r&s:i^r^s}t(e,i),e.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},e.prototype._update=function(t){for(var i=this._w,r=0|this._a,h=0|this._b,e=0|this._c,o=0|this._d,u=0|this._e,f=0;f<16;++f)i[f]=t.readInt32BE(4*f);for(;f<80;++f)i[f]=i[f-3]^i[f-8]^i[f-14]^i[f-16];for(var c=0;c<80;++c){var d=~~(c/20),p=n(r)+a(d,h,e,o)+u+i[c]+s[d]|0;u=o,o=e,e=_(h),h=r,r=p}this._a=r+this._a|0,this._b=h+this._b|0,this._c=e+this._c|0,this._d=o+this._d|0,this._e=u+this._e|0},e.prototype._hash=function(){var t=r.allocUnsafe(20);return t.writeInt32BE(0|this._a,0),t.writeInt32BE(0|this._b,4),t.writeInt32BE(0|this._c,8),t.writeInt32BE(0|this._d,12),t.writeInt32BE(0|this._e,16),t},module.exports=e;
},{"inherits":"Bm0n","./hash":"VHby","safe-buffer":"Wugr"}],"oPH4":[function(require,module,exports) {

var t=require("inherits"),i=require("./hash"),r=require("safe-buffer").Buffer,s=[1518500249,1859775393,-1894007588,-899497514],e=new Array(80);function h(){this.init(),this._w=e,i.call(this,64,56)}function n(t){return t<<1|t>>>31}function _(t){return t<<5|t>>>27}function u(t){return t<<30|t>>>2}function o(t,i,r,s){return 0===t?i&r|~i&s:2===t?i&r|i&s|r&s:i^r^s}t(h,i),h.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},h.prototype._update=function(t){for(var i=this._w,r=0|this._a,e=0|this._b,h=0|this._c,a=0|this._d,f=0|this._e,c=0;c<16;++c)i[c]=t.readInt32BE(4*c);for(;c<80;++c)i[c]=n(i[c-3]^i[c-8]^i[c-14]^i[c-16]);for(var d=0;d<80;++d){var p=~~(d/20),w=_(r)+o(p,e,h,a)+f+i[d]+s[p]|0;f=a,a=h,h=u(e),e=r,r=w}this._a=r+this._a|0,this._b=e+this._b|0,this._c=h+this._c|0,this._d=a+this._d|0,this._e=f+this._e|0},h.prototype._hash=function(){var t=r.allocUnsafe(20);return t.writeInt32BE(0|this._a,0),t.writeInt32BE(0|this._b,4),t.writeInt32BE(0|this._c,8),t.writeInt32BE(0|this._d,12),t.writeInt32BE(0|this._e,16),t},module.exports=h;
},{"inherits":"Bm0n","./hash":"VHby","safe-buffer":"Wugr"}],"IUSb":[function(require,module,exports) {

var t=require("inherits"),i=require("./hash"),h=require("safe-buffer").Buffer,s=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],r=new Array(64);function _(){this.init(),this._w=r,i.call(this,64,56)}function n(t,i,h){return h^t&(i^h)}function e(t,i,h){return t&i|h&(t|i)}function u(t){return(t>>>2|t<<30)^(t>>>13|t<<19)^(t>>>22|t<<10)}function f(t){return(t>>>6|t<<26)^(t>>>11|t<<21)^(t>>>25|t<<7)}function o(t){return(t>>>7|t<<25)^(t>>>18|t<<14)^t>>>3}function a(t){return(t>>>17|t<<15)^(t>>>19|t<<13)^t>>>10}t(_,i),_.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this},_.prototype._update=function(t){for(var i=this._w,h=0|this._a,r=0|this._b,_=0|this._c,c=0|this._d,w=0|this._e,B=0|this._f,E=0|this._g,I=0|this._h,d=0;d<16;++d)i[d]=t.readInt32BE(4*d);for(;d<64;++d)i[d]=a(i[d-2])+i[d-7]+o(i[d-15])+i[d-16]|0;for(var p=0;p<64;++p){var b=I+f(w)+n(w,B,E)+s[p]+i[p]|0,g=u(h)+e(h,r,_)|0;I=E,E=B,B=w,w=c+b|0,c=_,_=r,r=h,h=b+g|0}this._a=h+this._a|0,this._b=r+this._b|0,this._c=_+this._c|0,this._d=c+this._d|0,this._e=w+this._e|0,this._f=B+this._f|0,this._g=E+this._g|0,this._h=I+this._h|0},_.prototype._hash=function(){var t=h.allocUnsafe(32);return t.writeInt32BE(this._a,0),t.writeInt32BE(this._b,4),t.writeInt32BE(this._c,8),t.writeInt32BE(this._d,12),t.writeInt32BE(this._e,16),t.writeInt32BE(this._f,20),t.writeInt32BE(this._g,24),t.writeInt32BE(this._h,28),t},module.exports=_;
},{"inherits":"Bm0n","./hash":"VHby","safe-buffer":"Wugr"}],"MeLE":[function(require,module,exports) {

var t=require("inherits"),i=require("./sha256"),e=require("./hash"),r=require("safe-buffer").Buffer,h=new Array(64);function s(){this.init(),this._w=h,e.call(this,64,56)}t(s,i),s.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this},s.prototype._hash=function(){var t=r.allocUnsafe(28);return t.writeInt32BE(this._a,0),t.writeInt32BE(this._b,4),t.writeInt32BE(this._c,8),t.writeInt32BE(this._d,12),t.writeInt32BE(this._e,16),t.writeInt32BE(this._f,20),t.writeInt32BE(this._g,24),t},module.exports=s;
},{"inherits":"Bm0n","./sha256":"IUSb","./hash":"VHby","safe-buffer":"Wugr"}],"sILY":[function(require,module,exports) {

var h=require("inherits"),t=require("./hash"),i=require("safe-buffer").Buffer,s=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],_=new Array(160);function l(){this.init(),this._w=_,t.call(this,128,112)}function r(h,t,i){return i^h&(t^i)}function n(h,t,i){return h&t|i&(h|t)}function e(h,t){return(h>>>28|t<<4)^(t>>>2|h<<30)^(t>>>7|h<<25)}function f(h,t){return(h>>>14|t<<18)^(h>>>18|t<<14)^(t>>>9|h<<23)}function u(h,t){return(h>>>1|t<<31)^(h>>>8|t<<24)^h>>>7}function a(h,t){return(h>>>1|t<<31)^(h>>>8|t<<24)^(h>>>7|t<<25)}function c(h,t){return(h>>>19|t<<13)^(t>>>29|h<<3)^h>>>6}function o(h,t){return(h>>>19|t<<13)^(t>>>29|h<<3)^(h>>>6|t<<26)}function d(h,t){return h>>>0<t>>>0?1:0}h(l,t),l.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this},l.prototype._update=function(h){for(var t=this._w,i=0|this._ah,_=0|this._bh,l=0|this._ch,b=0|this._dh,g=0|this._eh,p=0|this._fh,v=0|this._gh,w=0|this._hh,B=0|this._al,y=0|this._bl,E=0|this._cl,I=0|this._dl,q=0|this._el,m=0|this._fl,x=0|this._gl,A=0|this._hl,U=0;U<32;U+=2)t[U]=h.readInt32BE(4*U),t[U+1]=h.readInt32BE(4*U+4);for(;U<160;U+=2){var j=t[U-30],k=t[U-30+1],z=u(j,k),C=a(k,j),D=c(j=t[U-4],k=t[U-4+1]),F=o(k,j),G=t[U-14],H=t[U-14+1],J=t[U-32],K=t[U-32+1],L=C+H|0,M=z+G+d(L,C)|0;M=(M=M+D+d(L=L+F|0,F)|0)+J+d(L=L+K|0,K)|0,t[U]=M,t[U+1]=L}for(var N=0;N<160;N+=2){M=t[N],L=t[N+1];var O=n(i,_,l),P=n(B,y,E),Q=e(i,B),R=e(B,i),S=f(g,q),T=f(q,g),V=s[N],W=s[N+1],X=r(g,p,v),Y=r(q,m,x),Z=A+T|0,$=w+S+d(Z,A)|0;$=($=($=$+X+d(Z=Z+Y|0,Y)|0)+V+d(Z=Z+W|0,W)|0)+M+d(Z=Z+L|0,L)|0;var hh=R+P|0,th=Q+O+d(hh,R)|0;w=v,A=x,v=p,x=m,p=g,m=q,g=b+$+d(q=I+Z|0,I)|0,b=l,I=E,l=_,E=y,_=i,y=B,i=$+th+d(B=Z+hh|0,Z)|0}this._al=this._al+B|0,this._bl=this._bl+y|0,this._cl=this._cl+E|0,this._dl=this._dl+I|0,this._el=this._el+q|0,this._fl=this._fl+m|0,this._gl=this._gl+x|0,this._hl=this._hl+A|0,this._ah=this._ah+i+d(this._al,B)|0,this._bh=this._bh+_+d(this._bl,y)|0,this._ch=this._ch+l+d(this._cl,E)|0,this._dh=this._dh+b+d(this._dl,I)|0,this._eh=this._eh+g+d(this._el,q)|0,this._fh=this._fh+p+d(this._fl,m)|0,this._gh=this._gh+v+d(this._gl,x)|0,this._hh=this._hh+w+d(this._hl,A)|0},l.prototype._hash=function(){var h=i.allocUnsafe(64);function t(t,i,s){h.writeInt32BE(t,s),h.writeInt32BE(i,s+4)}return t(this._ah,this._al,0),t(this._bh,this._bl,8),t(this._ch,this._cl,16),t(this._dh,this._dl,24),t(this._eh,this._el,32),t(this._fh,this._fl,40),t(this._gh,this._gl,48),t(this._hh,this._hl,56),h},module.exports=l;
},{"inherits":"Bm0n","./hash":"VHby","safe-buffer":"Wugr"}],"V2o3":[function(require,module,exports) {

var h=require("inherits"),t=require("./sha512"),i=require("./hash"),s=require("safe-buffer").Buffer,_=new Array(160);function e(){this.init(),this._w=_,i.call(this,128,112)}h(e,t),e.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this},e.prototype._hash=function(){var h=s.allocUnsafe(48);function t(t,i,s){h.writeInt32BE(t,s),h.writeInt32BE(i,s+4)}return t(this._ah,this._al,0),t(this._bh,this._bl,8),t(this._ch,this._cl,16),t(this._dh,this._dl,24),t(this._eh,this._el,32),t(this._fh,this._fl,40),h},module.exports=e;
},{"inherits":"Bm0n","./sha512":"sILY","./hash":"VHby","safe-buffer":"Wugr"}],"t0b9":[function(require,module,exports) {
var e=module.exports=function(r){r=r.toLowerCase();var s=e[r];if(!s)throw new Error(r+" is not supported (we accept pull requests)");return new s};e.sha=require("./sha"),e.sha1=require("./sha1"),e.sha224=require("./sha224"),e.sha256=require("./sha256"),e.sha384=require("./sha384"),e.sha512=require("./sha512");
},{"./sha":"j9dE","./sha1":"oPH4","./sha224":"MeLE","./sha256":"IUSb","./sha384":"V2o3","./sha512":"sILY"}],"ES0U":[function(require,module,exports) {

"use strict";var t=require("safe-buffer").Buffer,e=t.isEncoding||function(t){switch((t=""+t)&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function s(t){if(!t)return"utf8";for(var e;;)switch(t){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return t;default:if(e)return;t=(""+t).toLowerCase(),e=!0}}function i(i){var a=s(i);if("string"!=typeof a&&(t.isEncoding===e||!e(i)))throw new Error("Unknown encoding: "+i);return a||i}function a(e){var s;switch(this.encoding=i(e),this.encoding){case"utf16le":this.text=c,this.end=f,s=4;break;case"utf8":this.fillLast=l,s=4;break;case"base64":this.text=d,this.end=g,s=3;break;default:return this.write=N,void(this.end=v)}this.lastNeed=0,this.lastTotal=0,this.lastChar=t.allocUnsafe(s)}function r(t){return t<=127?0:t>>5==6?2:t>>4==14?3:t>>3==30?4:t>>6==2?-1:-2}function n(t,e,s){var i=e.length-1;if(i<s)return 0;var a=r(e[i]);return a>=0?(a>0&&(t.lastNeed=a-1),a):--i<s||-2===a?0:(a=r(e[i]))>=0?(a>0&&(t.lastNeed=a-2),a):--i<s||-2===a?0:(a=r(e[i]))>=0?(a>0&&(2===a?a=0:t.lastNeed=a-3),a):0}function h(t,e,s){if(128!=(192&e[0]))return t.lastNeed=0,"";if(t.lastNeed>1&&e.length>1){if(128!=(192&e[1]))return t.lastNeed=1,"";if(t.lastNeed>2&&e.length>2&&128!=(192&e[2]))return t.lastNeed=2,""}}function l(t){var e=this.lastTotal-this.lastNeed,s=h(this,t,e);return void 0!==s?s:this.lastNeed<=t.length?(t.copy(this.lastChar,e,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(t.copy(this.lastChar,e,0,t.length),void(this.lastNeed-=t.length))}function u(t,e){var s=n(this,t,e);if(!this.lastNeed)return t.toString("utf8",e);this.lastTotal=s;var i=t.length-(s-this.lastNeed);return t.copy(this.lastChar,0,i),t.toString("utf8",e,i)}function o(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+"":e}function c(t,e){if((t.length-e)%2==0){var s=t.toString("utf16le",e);if(s){var i=s.charCodeAt(s.length-1);if(i>=55296&&i<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1],s.slice(0,-1)}return s}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=t[t.length-1],t.toString("utf16le",e,t.length-1)}function f(t){var e=t&&t.length?this.write(t):"";if(this.lastNeed){var s=this.lastTotal-this.lastNeed;return e+this.lastChar.toString("utf16le",0,s)}return e}function d(t,e){var s=(t.length-e)%3;return 0===s?t.toString("base64",e):(this.lastNeed=3-s,this.lastTotal=3,1===s?this.lastChar[0]=t[t.length-1]:(this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1]),t.toString("base64",e,t.length-s))}function g(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+this.lastChar.toString("base64",0,3-this.lastNeed):e}function N(t){return t.toString(this.encoding)}function v(t){return t&&t.length?this.write(t):""}exports.StringDecoder=a,a.prototype.write=function(t){if(0===t.length)return"";var e,s;if(this.lastNeed){if(void 0===(e=this.fillLast(t)))return"";s=this.lastNeed,this.lastNeed=0}else s=0;return s<t.length?e?e+this.text(t,s):this.text(t,s):e||""},a.prototype.end=o,a.prototype.text=u,a.prototype.fillLast=function(t){if(this.lastNeed<=t.length)return t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,t.length),this.lastNeed-=t.length};
},{"safe-buffer":"l6K0"}],"bjfr":[function(require,module,exports) {

var t=require("safe-buffer").Buffer,i=require("stream").Transform,r=require("string_decoder").StringDecoder,e=require("inherits");function n(t){i.call(this),this.hashMode="string"==typeof t,this.hashMode?this[t]=this._finalOrDigest:this.final=this._finalOrDigest,this._final&&(this.__final=this._final,this._final=null),this._decoder=null,this._encoding=null}e(n,i),n.prototype.update=function(i,r,e){"string"==typeof i&&(i=t.from(i,r));var n=this._update(i);return this.hashMode?this:(e&&(n=this._toString(n,e)),n)},n.prototype.setAutoPadding=function(){},n.prototype.getAuthTag=function(){throw new Error("trying to get auth tag in unsupported state")},n.prototype.setAuthTag=function(){throw new Error("trying to set auth tag in unsupported state")},n.prototype.setAAD=function(){throw new Error("trying to set aad in unsupported state")},n.prototype._transform=function(t,i,r){var e;try{this.hashMode?this._update(t):this.push(this._update(t))}catch(n){e=n}finally{r(e)}},n.prototype._flush=function(t){var i;try{this.push(this.__final())}catch(r){i=r}t(i)},n.prototype._finalOrDigest=function(i){var r=this.__final()||t.alloc(0);return i&&(r=this._toString(r,i,!0)),r},n.prototype._toString=function(t,i,e){if(this._decoder||(this._decoder=new r(i),this._encoding=i),this._encoding!==i)throw new Error("can't switch encodings");var n=this._decoder.write(t);return e&&(n+=this._decoder.end()),n},module.exports=n;
},{"safe-buffer":"Wugr","stream":"fnRj","string_decoder":"ES0U","inherits":"Bm0n"}],"LF8r":[function(require,module,exports) {
"use strict";var e=require("inherits"),r=require("md5.js"),t=require("ripemd160"),i=require("sha.js"),s=require("cipher-base");function n(e){s.call(this,"digest"),this._hash=e}e(n,s),n.prototype._update=function(e){this._hash.update(e)},n.prototype._final=function(){return this._hash.digest()},module.exports=function(e){return"md5"===(e=e.toLowerCase())?new r:"rmd160"===e||"ripemd160"===e?new t:new n(i(e))};
},{"inherits":"Bm0n","md5.js":"OP64","ripemd160":"quyi","sha.js":"t0b9","cipher-base":"bjfr"}],"aHbo":[function(require,module,exports) {

"use strict";var t=require("inherits"),e=require("safe-buffer").Buffer,a=require("cipher-base"),i=e.alloc(128),s=64;function h(t,h){a.call(this,"digest"),"string"==typeof h&&(h=e.from(h)),this._alg=t,this._key=h,h.length>s?h=t(h):h.length<s&&(h=e.concat([h,i],s));for(var r=this._ipad=e.allocUnsafe(s),o=this._opad=e.allocUnsafe(s),n=0;n<s;n++)r[n]=54^h[n],o[n]=92^h[n];this._hash=[r]}t(h,a),h.prototype._update=function(t){this._hash.push(t)},h.prototype._final=function(){var t=this._alg(e.concat(this._hash));return this._alg(e.concat([this._opad,t]))},module.exports=h;
},{"inherits":"Bm0n","safe-buffer":"Wugr","cipher-base":"bjfr"}],"Mobq":[function(require,module,exports) {
var e=require("md5.js");module.exports=function(r){return(new e).update(r).digest()};
},{"md5.js":"OP64"}],"Cx6S":[function(require,module,exports) {

"use strict";var e=require("inherits"),t=require("./legacy"),r=require("cipher-base"),a=require("safe-buffer").Buffer,i=require("create-hash/md5"),s=require("ripemd160"),h=require("sha.js"),n=a.alloc(128);function d(e,t){r.call(this,"digest"),"string"==typeof t&&(t=a.from(t));var i="sha512"===e||"sha384"===e?128:64;(this._alg=e,this._key=t,t.length>i)?t=("rmd160"===e?new s:h(e)).update(t).digest():t.length<i&&(t=a.concat([t,n],i));for(var d=this._ipad=a.allocUnsafe(i),u=this._opad=a.allocUnsafe(i),o=0;o<i;o++)d[o]=54^t[o],u[o]=92^t[o];this._hash="rmd160"===e?new s:h(e),this._hash.update(d)}e(d,r),d.prototype._update=function(e){this._hash.update(e)},d.prototype._final=function(){var e=this._hash.digest();return("rmd160"===this._alg?new s:h(this._alg)).update(this._opad).update(e).digest()},module.exports=function(e,r){return"rmd160"===(e=e.toLowerCase())||"ripemd160"===e?new d("rmd160",r):"md5"===e?new t(i,r):new d(e,r)};
},{"inherits":"Bm0n","./legacy":"aHbo","cipher-base":"bjfr","safe-buffer":"Wugr","create-hash/md5":"Mobq","ripemd160":"quyi","sha.js":"t0b9"}],"WoCp":[function(require,module,exports) {
module.exports={sha224WithRSAEncryption:{sign:"rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},"RSA-SHA224":{sign:"ecdsa/rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},sha256WithRSAEncryption:{sign:"rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},"RSA-SHA256":{sign:"ecdsa/rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},sha384WithRSAEncryption:{sign:"rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},"RSA-SHA384":{sign:"ecdsa/rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},sha512WithRSAEncryption:{sign:"rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA512":{sign:"ecdsa/rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA1":{sign:"rsa",hash:"sha1",id:"3021300906052b0e03021a05000414"},"ecdsa-with-SHA1":{sign:"ecdsa",hash:"sha1",id:""},sha256:{sign:"ecdsa",hash:"sha256",id:""},sha224:{sign:"ecdsa",hash:"sha224",id:""},sha384:{sign:"ecdsa",hash:"sha384",id:""},sha512:{sign:"ecdsa",hash:"sha512",id:""},"DSA-SHA":{sign:"dsa",hash:"sha1",id:""},"DSA-SHA1":{sign:"dsa",hash:"sha1",id:""},DSA:{sign:"dsa",hash:"sha1",id:""},"DSA-WITH-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-WITH-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-WITH-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-WITH-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-RIPEMD160":{sign:"dsa",hash:"rmd160",id:""},ripemd160WithRSA:{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},"RSA-RIPEMD160":{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},md5WithRSAEncryption:{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"},"RSA-MD5":{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"}};
},{}],"YKr5":[function(require,module,exports) {
module.exports=require("./browser/algorithms.json");
},{"./browser/algorithms.json":"WoCp"}],"Zu0X":[function(require,module,exports) {
var r=Math.pow(2,30)-1;module.exports=function(e,o){if("number"!=typeof e)throw new TypeError("Iterations not a number");if(e<0)throw new TypeError("Bad iterations");if("number"!=typeof o)throw new TypeError("Key length not a number");if(o<0||o>r||o!=o)throw new TypeError("Bad key length")};
},{}],"ATA7":[function(require,module,exports) {
var global = arguments[3];
var process = require("process");
var s,e=arguments[3],r=require("process");if(e.process&&e.process.browser)s="utf-8";else if(e.process&&e.process.version){var o=parseInt(r.version.split(".")[0].slice(1),10);s=o>=6?"utf-8":"binary"}else s="utf-8";module.exports=s;
},{"process":"pBGv"}],"amCB":[function(require,module,exports) {

var r=require("safe-buffer").Buffer;module.exports=function(e,f,u){if(r.isBuffer(e))return e;if("string"==typeof e)return r.from(e,f);if(ArrayBuffer.isView(e))return r.from(e.buffer);throw new TypeError(u+" must be a string, a Buffer, a typed array or a DataView")};
},{"safe-buffer":"Wugr"}],"yOuH":[function(require,module,exports) {

var e=require("create-hash/md5"),r=require("ripemd160"),a=require("sha.js"),t=require("safe-buffer").Buffer,i=require("./precondition"),s=require("./default-encoding"),n=require("./to-buffer"),h=t.alloc(128),o={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,rmd160:20,ripemd160:20};function u(e,r,a){var i=c(e),s="sha512"===e||"sha384"===e?128:64;r.length>s?r=i(r):r.length<s&&(r=t.concat([r,h],s));for(var n=t.allocUnsafe(s+o[e]),u=t.allocUnsafe(s+o[e]),l=0;l<s;l++)n[l]=54^r[l],u[l]=92^r[l];var d=t.allocUnsafe(s+a+4);n.copy(d,0,0,s),this.ipad1=d,this.ipad2=n,this.opad=u,this.alg=e,this.blocksize=s,this.hash=i,this.size=o[e]}function c(t){return"rmd160"===t||"ripemd160"===t?function(e){return(new r).update(e).digest()}:"md5"===t?e:function(e){return a(t).update(e).digest()}}function l(e,r,a,h,c){i(a,h);var l=new u(c=c||"sha1",e=n(e,s,"Password"),(r=n(r,s,"Salt")).length),d=t.allocUnsafe(h),f=t.allocUnsafe(r.length+4);r.copy(f,0,0,r.length);for(var p=0,g=o[c],m=Math.ceil(h/g),v=1;v<=m;v++){f.writeUInt32BE(v,r.length);for(var q=l.run(f,l.ipad1),y=q,U=1;U<a;U++){y=l.run(y,l.ipad2);for(var b=0;b<g;b++)q[b]^=y[b]}q.copy(d,p),p+=g}return d}u.prototype.run=function(e,r){return e.copy(r,this.blocksize),this.hash(r).copy(this.opad,this.blocksize),this.hash(this.opad)},module.exports=l;
},{"create-hash/md5":"Mobq","ripemd160":"quyi","sha.js":"t0b9","safe-buffer":"Wugr","./precondition":"Zu0X","./default-encoding":"ATA7","./to-buffer":"amCB"}],"Q3c6":[function(require,module,exports) {

var global = arguments[3];
var e,r,t=arguments[3],n=require("safe-buffer").Buffer,o=require("./precondition"),i=require("./default-encoding"),u=require("./sync"),s=require("./to-buffer"),c=t.crypto&&t.crypto.subtle,a={sha:"SHA-1","sha-1":"SHA-1",sha1:"SHA-1",sha256:"SHA-256","sha-256":"SHA-256",sha384:"SHA-384","sha-384":"SHA-384","sha-512":"SHA-512",sha512:"SHA-512"},f=[];function h(r){if(t.process&&!t.process.browser)return Promise.resolve(!1);if(!c||!c.importKey||!c.deriveBits)return Promise.resolve(!1);if(void 0!==f[r])return f[r];var o=m(e=e||n.alloc(8),e,10,128,r).then(function(){return!0}).catch(function(){return!1});return f[r]=o,o}function l(){return r||(r=t.process&&t.process.nextTick?t.process.nextTick:t.queueMicrotask?t.queueMicrotask:t.setImmediate?t.setImmediate:t.setTimeout)}function m(e,r,t,o,i){return c.importKey("raw",e,{name:"PBKDF2"},!1,["deriveBits"]).then(function(e){return c.deriveBits({name:"PBKDF2",salt:r,iterations:t,hash:{name:i}},e,o<<3)}).then(function(e){return n.from(e)})}function p(e,r){e.then(function(e){l()(function(){r(null,e)})},function(e){l()(function(){r(e)})})}module.exports=function(e,r,n,c,f,d){"function"==typeof f&&(d=f,f=void 0);var v=a[(f=f||"sha1").toLowerCase()];if(v&&"function"==typeof t.Promise){if(o(n,c),e=s(e,i,"Password"),r=s(r,i,"Salt"),"function"!=typeof d)throw new Error("No callback provided to pbkdf2");p(h(v).then(function(t){return t?m(e,r,n,c,v):u(e,r,n,c,f)}),d)}else l()(function(){var t;try{t=u(e,r,n,c,f)}catch(o){return d(o)}d(null,t)})};
},{"safe-buffer":"Wugr","./precondition":"Zu0X","./default-encoding":"ATA7","./sync":"yOuH","./to-buffer":"amCB"}],"BKdu":[function(require,module,exports) {
exports.pbkdf2=require("./lib/async"),exports.pbkdf2Sync=require("./lib/sync");
},{"./lib/async":"Q3c6","./lib/sync":"yOuH"}],"a957":[function(require,module,exports) {
"use strict";exports.readUInt32BE=function(r,o){return(r[0+o]<<24|r[1+o]<<16|r[2+o]<<8|r[3+o])>>>0},exports.writeUInt32BE=function(r,o,t){r[0+t]=o>>>24,r[1+t]=o>>>16&255,r[2+t]=o>>>8&255,r[3+t]=255&o},exports.ip=function(r,o,t,f){for(var n=0,e=0,u=6;u>=0;u-=2){for(var i=0;i<=24;i+=8)n<<=1,n|=o>>>i+u&1;for(i=0;i<=24;i+=8)n<<=1,n|=r>>>i+u&1}for(u=6;u>=0;u-=2){for(i=1;i<=25;i+=8)e<<=1,e|=o>>>i+u&1;for(i=1;i<=25;i+=8)e<<=1,e|=r>>>i+u&1}t[f+0]=n>>>0,t[f+1]=e>>>0},exports.rip=function(r,o,t,f){for(var n=0,e=0,u=0;u<4;u++)for(var i=24;i>=0;i-=8)n<<=1,n|=o>>>i+u&1,n<<=1,n|=r>>>i+u&1;for(u=4;u<8;u++)for(i=24;i>=0;i-=8)e<<=1,e|=o>>>i+u&1,e<<=1,e|=r>>>i+u&1;t[f+0]=n>>>0,t[f+1]=e>>>0},exports.pc1=function(r,o,t,f){for(var n=0,e=0,u=7;u>=5;u--){for(var i=0;i<=24;i+=8)n<<=1,n|=o>>i+u&1;for(i=0;i<=24;i+=8)n<<=1,n|=r>>i+u&1}for(i=0;i<=24;i+=8)n<<=1,n|=o>>i+u&1;for(u=1;u<=3;u++){for(i=0;i<=24;i+=8)e<<=1,e|=o>>i+u&1;for(i=0;i<=24;i+=8)e<<=1,e|=r>>i+u&1}for(i=0;i<=24;i+=8)e<<=1,e|=r>>i+u&1;t[f+0]=n>>>0,t[f+1]=e>>>0},exports.r28shl=function(r,o){return r<<o&268435455|r>>>28-o};var r=[14,11,17,4,27,23,25,0,13,22,7,18,5,9,16,24,2,20,12,21,1,8,15,26,15,4,25,19,9,1,26,16,5,11,23,8,12,7,17,0,22,3,10,14,6,20,27,24];exports.pc2=function(o,t,f,n){for(var e=0,u=0,i=r.length>>>1,p=0;p<i;p++)e<<=1,e|=o>>>r[p]&1;for(p=i;p<r.length;p++)u<<=1,u|=t>>>r[p]&1;f[n+0]=e>>>0,f[n+1]=u>>>0},exports.expand=function(r,o,t){var f=0,n=0;f=(1&r)<<5|r>>>27;for(var e=23;e>=15;e-=4)f<<=6,f|=r>>>e&63;for(e=11;e>=3;e-=4)n|=r>>>e&63,n<<=6;n|=(31&r)<<1|r>>>31,o[t+0]=f>>>0,o[t+1]=n>>>0};var o=[14,0,4,15,13,7,1,4,2,14,15,2,11,13,8,1,3,10,10,6,6,12,12,11,5,9,9,5,0,3,7,8,4,15,1,12,14,8,8,2,13,4,6,9,2,1,11,7,15,5,12,11,9,3,7,14,3,10,10,0,5,6,0,13,15,3,1,13,8,4,14,7,6,15,11,2,3,8,4,14,9,12,7,0,2,1,13,10,12,6,0,9,5,11,10,5,0,13,14,8,7,10,11,1,10,3,4,15,13,4,1,2,5,11,8,6,12,7,6,12,9,0,3,5,2,14,15,9,10,13,0,7,9,0,14,9,6,3,3,4,15,6,5,10,1,2,13,8,12,5,7,14,11,12,4,11,2,15,8,1,13,1,6,10,4,13,9,0,8,6,15,9,3,8,0,7,11,4,1,15,2,14,12,3,5,11,10,5,14,2,7,12,7,13,13,8,14,11,3,5,0,6,6,15,9,0,10,3,1,4,2,7,8,2,5,12,11,1,12,10,4,14,15,9,10,3,6,15,9,0,0,6,12,10,11,1,7,13,13,8,15,9,1,4,3,5,14,11,5,12,2,7,8,2,4,14,2,14,12,11,4,2,1,12,7,4,10,7,11,13,6,1,8,5,5,0,3,15,15,10,13,3,0,9,14,8,9,6,4,11,2,8,1,12,11,7,10,1,13,14,7,2,8,13,15,6,9,15,12,0,5,9,6,10,3,4,0,5,14,3,12,10,1,15,10,4,15,2,9,7,2,12,6,9,8,5,0,6,13,1,3,13,4,14,14,0,7,11,5,3,11,8,9,4,14,3,15,2,5,12,2,9,8,5,12,15,3,10,7,11,0,14,4,1,10,7,1,6,13,0,11,8,6,13,4,13,11,0,2,11,14,7,15,4,0,9,8,1,13,10,3,14,12,3,9,5,7,12,5,2,10,15,6,8,1,6,1,6,4,11,11,13,13,8,12,1,3,4,7,10,14,7,10,9,15,5,6,0,8,15,0,14,5,2,9,3,2,12,13,1,2,15,8,13,4,8,6,10,15,3,11,7,1,4,10,12,9,5,3,6,14,11,5,0,0,14,12,9,7,2,7,2,11,1,4,14,1,7,9,4,12,10,14,8,2,13,0,15,6,12,10,9,13,0,15,3,3,5,5,6,8,11];exports.substitute=function(r,t){for(var f=0,n=0;n<4;n++){f<<=4,f|=o[64*n+(r>>>18-6*n&63)]}for(n=0;n<4;n++){f<<=4,f|=o[256+64*n+(t>>>18-6*n&63)]}return f>>>0};var t=[16,25,12,11,3,20,4,15,31,17,9,6,27,14,1,22,30,24,8,18,0,5,29,23,13,19,2,26,10,21,28,7];exports.permute=function(r){for(var o=0,f=0;f<t.length;f++)o<<=1,o|=r>>>t[f]&1;return o>>>0},exports.padSplit=function(r,o,t){for(var f=r.toString(2);f.length<o;)f="0"+f;for(var n=[],e=0;e<o;e+=t)n.push(f.slice(e,e+t));return n.join(" ")};
},{}],"MpuC":[function(require,module,exports) {
function r(r,o){if(!r)throw new Error(o||"Assertion failed")}module.exports=r,r.equal=function(r,o,e){if(r!=o)throw new Error(e||"Assertion failed: "+r+" != "+o)};
},{}],"eTzy":[function(require,module,exports) {
"use strict";var t=require("minimalistic-assert");function f(t){this.options=t,this.type=this.options.type,this.blockSize=8,this._init(),this.buffer=new Array(this.blockSize),this.bufferOff=0}module.exports=f,f.prototype._init=function(){},f.prototype.update=function(t){return 0===t.length?[]:"decrypt"===this.type?this._updateDecrypt(t):this._updateEncrypt(t)},f.prototype._buffer=function(t,f){for(var e=Math.min(this.buffer.length-this.bufferOff,t.length-f),r=0;r<e;r++)this.buffer[this.bufferOff+r]=t[f+r];return this.bufferOff+=e,e},f.prototype._flushBuffer=function(t,f){return this._update(this.buffer,0,t,f),this.bufferOff=0,this.blockSize},f.prototype._updateEncrypt=function(t){var f=0,e=0,r=(this.bufferOff+t.length)/this.blockSize|0,i=new Array(r*this.blockSize);0!==this.bufferOff&&(f+=this._buffer(t,f),this.bufferOff===this.buffer.length&&(e+=this._flushBuffer(i,e)));for(var h=t.length-(t.length-f)%this.blockSize;f<h;f+=this.blockSize)this._update(t,f,i,e),e+=this.blockSize;for(;f<t.length;f++,this.bufferOff++)this.buffer[this.bufferOff]=t[f];return i},f.prototype._updateDecrypt=function(t){for(var f=0,e=0,r=Math.ceil((this.bufferOff+t.length)/this.blockSize)-1,i=new Array(r*this.blockSize);r>0;r--)f+=this._buffer(t,f),e+=this._flushBuffer(i,e);return f+=this._buffer(t,f),i},f.prototype.final=function(t){var f,e;return t&&(f=this.update(t)),e="encrypt"===this.type?this._finalEncrypt():this._finalDecrypt(),f?f.concat(e):e},f.prototype._pad=function(t,f){if(0===f)return!1;for(;f<t.length;)t[f++]=0;return!0},f.prototype._finalEncrypt=function(){if(!this._pad(this.buffer,this.bufferOff))return[];var t=new Array(this.blockSize);return this._update(this.buffer,0,t,0),t},f.prototype._unpad=function(t){return t},f.prototype._finalDecrypt=function(){t.equal(this.bufferOff,this.blockSize,"Not enough data to decrypt");var f=new Array(this.blockSize);return this._flushBuffer(f,0),this._unpad(f)};
},{"minimalistic-assert":"MpuC"}],"UVxA":[function(require,module,exports) {
"use strict";var t=require("minimalistic-assert"),e=require("inherits"),r=require("./utils"),n=require("./cipher");function p(){this.tmp=new Array(2),this.keys=null}function i(t){n.call(this,t);var e=new p;this._desState=e,this.deriveKeys(e,t.key)}e(i,n),module.exports=i,i.create=function(t){return new i(t)};var s=[1,1,2,2,2,2,2,2,1,2,2,2,2,2,2,1];i.prototype.deriveKeys=function(e,n){e.keys=new Array(32),t.equal(n.length,this.blockSize,"Invalid key length");var p=r.readUInt32BE(n,0),i=r.readUInt32BE(n,4);r.pc1(p,i,e.tmp,0),p=e.tmp[0],i=e.tmp[1];for(var a=0;a<e.keys.length;a+=2){var u=s[a>>>1];p=r.r28shl(p,u),i=r.r28shl(i,u),r.pc2(p,i,e.keys,a)}},i.prototype._update=function(t,e,n,p){var i=this._desState,s=r.readUInt32BE(t,e),a=r.readUInt32BE(t,e+4);r.ip(s,a,i.tmp,0),s=i.tmp[0],a=i.tmp[1],"encrypt"===this.type?this._encrypt(i,s,a,i.tmp,0):this._decrypt(i,s,a,i.tmp,0),s=i.tmp[0],a=i.tmp[1],r.writeUInt32BE(n,s,p),r.writeUInt32BE(n,a,p+4)},i.prototype._pad=function(t,e){for(var r=t.length-e,n=e;n<t.length;n++)t[n]=r;return!0},i.prototype._unpad=function(e){for(var r=e[e.length-1],n=e.length-r;n<e.length;n++)t.equal(e[n],r);return e.slice(0,e.length-r)},i.prototype._encrypt=function(t,e,n,p,i){for(var s=e,a=n,u=0;u<t.keys.length;u+=2){var o=t.keys[u],y=t.keys[u+1];r.expand(a,t.tmp,0),o^=t.tmp[0],y^=t.tmp[1];var h=r.substitute(o,y),l=a;a=(s^r.permute(h))>>>0,s=l}r.rip(a,s,p,i)},i.prototype._decrypt=function(t,e,n,p,i){for(var s=n,a=e,u=t.keys.length-2;u>=0;u-=2){var o=t.keys[u],y=t.keys[u+1];r.expand(s,t.tmp,0),o^=t.tmp[0],y^=t.tmp[1];var h=r.substitute(o,y),l=s;s=(a^r.permute(h))>>>0,a=l}r.rip(s,a,p,i)};
},{"minimalistic-assert":"MpuC","inherits":"Bm0n","./utils":"a957","./cipher":"eTzy"}],"NN3V":[function(require,module,exports) {
"use strict";var t=require("minimalistic-assert"),i=require("inherits"),e={};function r(i){t.equal(i.length,8,"Invalid IV length"),this.iv=new Array(8);for(var e=0;e<this.iv.length;e++)this.iv[e]=i[e]}function n(t){function r(i){t.call(this,i),this._cbcInit()}i(r,t);for(var n=Object.keys(e),s=0;s<n.length;s++){var c=n[s];r.prototype[c]=e[c]}return r.create=function(t){return new r(t)},r}exports.instantiate=n,e._cbcInit=function(){var t=new r(this.options.iv);this._cbcState=t},e._update=function(t,i,e,r){var n=this._cbcState,s=this.constructor.super_.prototype,c=n.iv;if("encrypt"===this.type){for(var o=0;o<this.blockSize;o++)c[o]^=t[i+o];s._update.call(this,c,0,e,r);for(o=0;o<this.blockSize;o++)c[o]=e[r+o]}else{s._update.call(this,t,i,e,r);for(o=0;o<this.blockSize;o++)e[r+o]^=c[o];for(o=0;o<this.blockSize;o++)c[o]=t[i+o]}};
},{"minimalistic-assert":"MpuC","inherits":"Bm0n"}],"jkwx":[function(require,module,exports) {
"use strict";var e=require("minimalistic-assert"),t=require("inherits"),r=require("./cipher"),p=require("./des");function i(t,r){e.equal(r.length,24,"Invalid key length");var i=r.slice(0,8),c=r.slice(8,16),y=r.slice(16,24);this.ciphers="encrypt"===t?[p.create({type:"encrypt",key:i}),p.create({type:"decrypt",key:c}),p.create({type:"encrypt",key:y})]:[p.create({type:"decrypt",key:y}),p.create({type:"encrypt",key:c}),p.create({type:"decrypt",key:i})]}function c(e){r.call(this,e);var t=new i(this.type,this.options.key);this._edeState=t}t(c,r),module.exports=c,c.create=function(e){return new c(e)},c.prototype._update=function(e,t,r,p){var i=this._edeState;i.ciphers[0]._update(e,t,r,p),i.ciphers[1]._update(r,p,r,p),i.ciphers[2]._update(r,p,r,p)},c.prototype._pad=p.prototype._pad,c.prototype._unpad=p.prototype._unpad;
},{"minimalistic-assert":"MpuC","inherits":"Bm0n","./cipher":"eTzy","./des":"UVxA"}],"Tikc":[function(require,module,exports) {
"use strict";exports.utils=require("./des/utils"),exports.Cipher=require("./des/cipher"),exports.DES=require("./des/des"),exports.CBC=require("./des/cbc"),exports.EDE=require("./des/ede");
},{"./des/utils":"a957","./des/cipher":"eTzy","./des/des":"UVxA","./des/cbc":"NN3V","./des/ede":"jkwx"}],"sKVA":[function(require,module,exports) {

var e=require("cipher-base"),r=require("des.js"),t=require("inherits"),s=require("safe-buffer").Buffer,d={"des-ede3-cbc":r.CBC.instantiate(r.EDE),"des-ede3":r.EDE,"des-ede-cbc":r.CBC.instantiate(r.EDE),"des-ede":r.EDE,"des-cbc":r.CBC.instantiate(r.DES),"des-ecb":r.DES};function i(r){e.call(this);var t,i=r.mode.toLowerCase(),c=d[i];t=r.decrypt?"decrypt":"encrypt";var a=r.key;s.isBuffer(a)||(a=s.from(a)),"des-ede"!==i&&"des-ede-cbc"!==i||(a=s.concat([a,a.slice(0,8)]));var n=r.iv;s.isBuffer(n)||(n=s.from(n)),this._des=c.create({key:a,iv:n,type:t})}d.des=d["des-cbc"],d.des3=d["des-ede3-cbc"],module.exports=i,t(i,e),i.prototype._update=function(e){return s.from(this._des.update(e))},i.prototype._final=function(){return s.from(this._des.final())};
},{"cipher-base":"bjfr","des.js":"Tikc","inherits":"Bm0n","safe-buffer":"Wugr"}],"deTC":[function(require,module,exports) {
exports.encrypt=function(r,c){return r._cipher.encryptBlock(c)},exports.decrypt=function(r,c){return r._cipher.decryptBlock(c)};
},{}],"Bi15":[function(require,module,exports) {
var Buffer = require("buffer").Buffer;
var e=require("buffer").Buffer;module.exports=function(r,n){for(var f=Math.min(r.length,n.length),t=new e(f),u=0;u<f;++u)t[u]=r[u]^n[u];return t};
},{"buffer":"peL6"}],"n4Db":[function(require,module,exports) {
var r=require("buffer-xor");exports.encrypt=function(e,p){var c=r(p,e._prev);return e._prev=e._cipher.encryptBlock(c),e._prev},exports.decrypt=function(e,p){var c=e._prev;e._prev=p;var t=e._cipher.decryptBlock(p);return r(t,c)};
},{"buffer-xor":"Bi15"}],"G0zN":[function(require,module,exports) {

var e=require("safe-buffer").Buffer,c=require("buffer-xor");function r(r,a,n){var t=a.length,h=c(a,r._cache);return r._cache=r._cache.slice(t),r._prev=e.concat([r._prev,n?a:h]),h}exports.encrypt=function(c,a,n){for(var t,h=e.allocUnsafe(0);a.length;){if(0===c._cache.length&&(c._cache=c._cipher.encryptBlock(c._prev),c._prev=e.allocUnsafe(0)),!(c._cache.length<=a.length)){h=e.concat([h,r(c,a,n)]);break}t=c._cache.length,h=e.concat([h,r(c,a.slice(0,t),n)]),a=a.slice(t)}return h};
},{"safe-buffer":"Wugr","buffer-xor":"Bi15"}],"GBMF":[function(require,module,exports) {

var r=require("safe-buffer").Buffer;function e(e,n,c){var f=e._cipher.encryptBlock(e._prev)[0]^n;return e._prev=r.concat([e._prev.slice(1),r.from([c?n:f])]),f}exports.encrypt=function(n,c,f){for(var t=c.length,o=r.allocUnsafe(t),a=-1;++a<t;)o[a]=e(n,c[a],f);return o};
},{"safe-buffer":"Wugr"}],"JZn9":[function(require,module,exports) {

var r=require("safe-buffer").Buffer;function e(r,e,f){for(var t,o,c=-1,a=0;++c<8;)t=e&1<<7-c?128:0,a+=(128&(o=r._cipher.encryptBlock(r._prev)[0]^t))>>c%8,r._prev=n(r._prev,f?t:o);return a}function n(e,n){var f=e.length,t=-1,o=r.allocUnsafe(e.length);for(e=r.concat([e,r.from([n])]);++t<f;)o[t]=e[t]<<1|e[t+1]>>7;return o}exports.encrypt=function(n,f,t){for(var o=f.length,c=r.allocUnsafe(o),a=-1;++a<o;)c[a]=e(n,f[a],t);return c};
},{"safe-buffer":"Wugr"}],"fJ7E":[function(require,module,exports) {
var Buffer = require("buffer").Buffer;
var e=require("buffer").Buffer,c=require("buffer-xor");function r(e){return e._prev=e._cipher.encryptBlock(e._prev),e._prev}exports.encrypt=function(n,t){for(;n._cache.length<t.length;)n._cache=e.concat([n._cache,r(n)]);var h=n._cache.slice(0,t.length);return n._cache=n._cache.slice(t.length),c(t,h)};
},{"buffer-xor":"Bi15","buffer":"peL6"}],"EFOV":[function(require,module,exports) {
function t(t){for(var e,r=t.length;r--;){if(255!==(e=t.readUInt8(r))){e++,t.writeUInt8(e,r);break}t.writeUInt8(0,r)}}module.exports=t;
},{}],"Iyxz":[function(require,module,exports) {

var e=require("buffer-xor"),c=require("safe-buffer").Buffer,r=require("../incr32");function a(e){var c=e._cipher.encryptBlockRaw(e._prev);return r(e._prev),c}var t=16;exports.encrypt=function(r,n){var h=Math.ceil(n.length/t),i=r._cache.length;r._cache=c.concat([r._cache,c.allocUnsafe(h*t)]);for(var _=0;_<h;_++){var f=a(r),l=i+_*t;r._cache.writeUInt32BE(f[0],l+0),r._cache.writeUInt32BE(f[1],l+4),r._cache.writeUInt32BE(f[2],l+8),r._cache.writeUInt32BE(f[3],l+12)}var u=r._cache.slice(0,n.length);return r._cache=r._cache.slice(n.length),e(n,u)};
},{"buffer-xor":"Bi15","safe-buffer":"Wugr","../incr32":"EFOV"}],"veqz":[function(require,module,exports) {
module.exports={"aes-128-ecb":{cipher:"AES",key:128,iv:0,mode:"ECB",type:"block"},"aes-192-ecb":{cipher:"AES",key:192,iv:0,mode:"ECB",type:"block"},"aes-256-ecb":{cipher:"AES",key:256,iv:0,mode:"ECB",type:"block"},"aes-128-cbc":{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},"aes-192-cbc":{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},"aes-256-cbc":{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},aes128:{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},aes192:{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},aes256:{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},"aes-128-cfb":{cipher:"AES",key:128,iv:16,mode:"CFB",type:"stream"},"aes-192-cfb":{cipher:"AES",key:192,iv:16,mode:"CFB",type:"stream"},"aes-256-cfb":{cipher:"AES",key:256,iv:16,mode:"CFB",type:"stream"},"aes-128-cfb8":{cipher:"AES",key:128,iv:16,mode:"CFB8",type:"stream"},"aes-192-cfb8":{cipher:"AES",key:192,iv:16,mode:"CFB8",type:"stream"},"aes-256-cfb8":{cipher:"AES",key:256,iv:16,mode:"CFB8",type:"stream"},"aes-128-cfb1":{cipher:"AES",key:128,iv:16,mode:"CFB1",type:"stream"},"aes-192-cfb1":{cipher:"AES",key:192,iv:16,mode:"CFB1",type:"stream"},"aes-256-cfb1":{cipher:"AES",key:256,iv:16,mode:"CFB1",type:"stream"},"aes-128-ofb":{cipher:"AES",key:128,iv:16,mode:"OFB",type:"stream"},"aes-192-ofb":{cipher:"AES",key:192,iv:16,mode:"OFB",type:"stream"},"aes-256-ofb":{cipher:"AES",key:256,iv:16,mode:"OFB",type:"stream"},"aes-128-ctr":{cipher:"AES",key:128,iv:16,mode:"CTR",type:"stream"},"aes-192-ctr":{cipher:"AES",key:192,iv:16,mode:"CTR",type:"stream"},"aes-256-ctr":{cipher:"AES",key:256,iv:16,mode:"CTR",type:"stream"},"aes-128-gcm":{cipher:"AES",key:128,iv:12,mode:"GCM",type:"auth"},"aes-192-gcm":{cipher:"AES",key:192,iv:12,mode:"GCM",type:"auth"},"aes-256-gcm":{cipher:"AES",key:256,iv:12,mode:"GCM",type:"auth"}};
},{}],"zdSg":[function(require,module,exports) {
var r={ECB:require("./ecb"),CBC:require("./cbc"),CFB:require("./cfb"),CFB8:require("./cfb8"),CFB1:require("./cfb1"),OFB:require("./ofb"),CTR:require("./ctr"),GCM:require("./ctr")},e=require("./list.json");for(var i in e)e[i].module=r[e[i].mode];module.exports=e;
},{"./ecb":"deTC","./cbc":"n4Db","./cfb":"G0zN","./cfb8":"GBMF","./cfb1":"JZn9","./ofb":"fJ7E","./ctr":"Iyxz","./list.json":"veqz"}],"dNn4":[function(require,module,exports) {

var e=require("safe-buffer").Buffer;function t(t){e.isBuffer(t)||(t=e.from(t));for(var r=t.length/4|0,n=new Array(r),o=0;o<r;o++)n[o]=t.readUInt32BE(4*o);return n}function r(e){for(;0<e.length;e++)e[0]=0}function n(e,t,r,n,o){for(var i,B,S,u,c=r[0],_=r[1],f=r[2],a=r[3],s=e[0]^t[0],y=e[1]^t[1],I=e[2]^t[2],X=e[3]^t[3],h=4,l=1;l<o;l++)i=c[s>>>24]^_[y>>>16&255]^f[I>>>8&255]^a[255&X]^t[h++],B=c[y>>>24]^_[I>>>16&255]^f[X>>>8&255]^a[255&s]^t[h++],S=c[I>>>24]^_[X>>>16&255]^f[s>>>8&255]^a[255&y]^t[h++],u=c[X>>>24]^_[s>>>16&255]^f[y>>>8&255]^a[255&I]^t[h++],s=i,y=B,I=S,X=u;return i=(n[s>>>24]<<24|n[y>>>16&255]<<16|n[I>>>8&255]<<8|n[255&X])^t[h++],B=(n[y>>>24]<<24|n[I>>>16&255]<<16|n[X>>>8&255]<<8|n[255&s])^t[h++],S=(n[I>>>24]<<24|n[X>>>16&255]<<16|n[s>>>8&255]<<8|n[255&y])^t[h++],u=(n[X>>>24]<<24|n[s>>>16&255]<<16|n[y>>>8&255]<<8|n[255&I])^t[h++],[i>>>=0,B>>>=0,S>>>=0,u>>>=0]}var o=[0,1,2,4,8,16,32,64,128,27,54],i=function(){for(var e=new Array(256),t=0;t<256;t++)e[t]=t<128?t<<1:t<<1^283;for(var r=[],n=[],o=[[],[],[],[]],i=[[],[],[],[]],B=0,S=0,u=0;u<256;++u){var c=S^S<<1^S<<2^S<<3^S<<4;c=c>>>8^255&c^99,r[B]=c,n[c]=B;var _=e[B],f=e[_],a=e[f],s=257*e[c]^16843008*c;o[0][B]=s<<24|s>>>8,o[1][B]=s<<16|s>>>16,o[2][B]=s<<8|s>>>24,o[3][B]=s,s=16843009*a^65537*f^257*_^16843008*B,i[0][c]=s<<24|s>>>8,i[1][c]=s<<16|s>>>16,i[2][c]=s<<8|s>>>24,i[3][c]=s,0===B?B=S=1:(B=_^e[e[e[a^_]]],S^=e[e[S]])}return{SBOX:r,INV_SBOX:n,SUB_MIX:o,INV_SUB_MIX:i}}();function B(e){this._key=t(e),this._reset()}B.blockSize=16,B.keySize=32,B.prototype.blockSize=B.blockSize,B.prototype.keySize=B.keySize,B.prototype._reset=function(){for(var e=this._key,t=e.length,r=t+6,n=4*(r+1),B=[],S=0;S<t;S++)B[S]=e[S];for(S=t;S<n;S++){var u=B[S-1];S%t==0?(u=u<<8|u>>>24,u=i.SBOX[u>>>24]<<24|i.SBOX[u>>>16&255]<<16|i.SBOX[u>>>8&255]<<8|i.SBOX[255&u],u^=o[S/t|0]<<24):t>6&&S%t==4&&(u=i.SBOX[u>>>24]<<24|i.SBOX[u>>>16&255]<<16|i.SBOX[u>>>8&255]<<8|i.SBOX[255&u]),B[S]=B[S-t]^u}for(var c=[],_=0;_<n;_++){var f=n-_,a=B[f-(_%4?0:4)];c[_]=_<4||f<=4?a:i.INV_SUB_MIX[0][i.SBOX[a>>>24]]^i.INV_SUB_MIX[1][i.SBOX[a>>>16&255]]^i.INV_SUB_MIX[2][i.SBOX[a>>>8&255]]^i.INV_SUB_MIX[3][i.SBOX[255&a]]}this._nRounds=r,this._keySchedule=B,this._invKeySchedule=c},B.prototype.encryptBlockRaw=function(e){return n(e=t(e),this._keySchedule,i.SUB_MIX,i.SBOX,this._nRounds)},B.prototype.encryptBlock=function(t){var r=this.encryptBlockRaw(t),n=e.allocUnsafe(16);return n.writeUInt32BE(r[0],0),n.writeUInt32BE(r[1],4),n.writeUInt32BE(r[2],8),n.writeUInt32BE(r[3],12),n},B.prototype.decryptBlock=function(r){var o=(r=t(r))[1];r[1]=r[3],r[3]=o;var B=n(r,this._invKeySchedule,i.INV_SUB_MIX,i.INV_SBOX,this._nRounds),S=e.allocUnsafe(16);return S.writeUInt32BE(B[0],0),S.writeUInt32BE(B[3],4),S.writeUInt32BE(B[2],8),S.writeUInt32BE(B[1],12),S},B.prototype.scrub=function(){r(this._keySchedule),r(this._invKeySchedule),r(this._key)},module.exports.AES=B;
},{"safe-buffer":"Wugr"}],"vgFu":[function(require,module,exports) {

var t=require("safe-buffer").Buffer,e=t.alloc(16,0);function h(t){return[t.readUInt32BE(0),t.readUInt32BE(4),t.readUInt32BE(8),t.readUInt32BE(12)]}function a(e){var h=t.allocUnsafe(16);return h.writeUInt32BE(e[0]>>>0,0),h.writeUInt32BE(e[1]>>>0,4),h.writeUInt32BE(e[2]>>>0,8),h.writeUInt32BE(e[3]>>>0,12),h}function i(e){this.h=e,this.state=t.alloc(16,0),this.cache=t.allocUnsafe(0)}i.prototype.ghash=function(t){for(var e=-1;++e<t.length;)this.state[e]^=t[e];this._multiply()},i.prototype._multiply=function(){for(var t,e,i=h(this.h),c=[0,0,0,0],s=-1;++s<128;){for(0!=(this.state[~~(s/8)]&1<<7-s%8)&&(c[0]^=i[0],c[1]^=i[1],c[2]^=i[2],c[3]^=i[3]),e=0!=(1&i[3]),t=3;t>0;t--)i[t]=i[t]>>>1|(1&i[t-1])<<31;i[0]=i[0]>>>1,e&&(i[0]=i[0]^225<<24)}this.state=a(c)},i.prototype.update=function(e){var h;for(this.cache=t.concat([this.cache,e]);this.cache.length>=16;)h=this.cache.slice(0,16),this.cache=this.cache.slice(16),this.ghash(h)},i.prototype.final=function(h,i){return this.cache.length&&this.ghash(t.concat([this.cache,e],16)),this.ghash(a([0,h,0,i])),this.state},module.exports=i;
},{"safe-buffer":"Wugr"}],"KDZf":[function(require,module,exports) {

var t=require("./aes"),e=require("safe-buffer").Buffer,r=require("cipher-base"),h=require("inherits"),a=require("./ghash"),i=require("buffer-xor"),n=require("./incr32");function s(t,e){var r=0;t.length!==e.length&&r++;for(var h=Math.min(t.length,e.length),a=0;a<h;++a)r+=t[a]^e[a];return r}function o(t,r,h){if(12===r.length)return t._finID=e.concat([r,e.from([0,0,0,1])]),e.concat([r,e.from([0,0,0,2])]);var i=new a(h),s=r.length,o=s%16;i.update(r),o&&(o=16-o,i.update(e.alloc(o,0))),i.update(e.alloc(8,0));var u=8*s,l=e.alloc(8);l.writeUIntBE(u,0,8),i.update(l),t._finID=i.state;var c=e.from(t._finID);return n(c),c}function u(h,i,n,s){r.call(this);var u=e.alloc(4,0);this._cipher=new t.AES(i);var l=this._cipher.encryptBlock(u);this._ghash=new a(l),n=o(this,n,l),this._prev=e.from(n),this._cache=e.allocUnsafe(0),this._secCache=e.allocUnsafe(0),this._decrypt=s,this._alen=0,this._len=0,this._mode=h,this._authTag=null,this._called=!1}h(u,r),u.prototype._update=function(t){if(!this._called&&this._alen){var r=16-this._alen%16;r<16&&(r=e.alloc(r,0),this._ghash.update(r))}this._called=!0;var h=this._mode.encrypt(this,t);return this._decrypt?this._ghash.update(t):this._ghash.update(h),this._len+=t.length,h},u.prototype._final=function(){if(this._decrypt&&!this._authTag)throw new Error("Unsupported state or unable to authenticate data");var t=i(this._ghash.final(8*this._alen,8*this._len),this._cipher.encryptBlock(this._finID));if(this._decrypt&&s(t,this._authTag))throw new Error("Unsupported state or unable to authenticate data");this._authTag=t,this._cipher.scrub()},u.prototype.getAuthTag=function(){if(this._decrypt||!e.isBuffer(this._authTag))throw new Error("Attempting to get auth tag in unsupported state");return this._authTag},u.prototype.setAuthTag=function(t){if(!this._decrypt)throw new Error("Attempting to set auth tag in unsupported state");this._authTag=t},u.prototype.setAAD=function(t){if(this._called)throw new Error("Attempting to set AAD in unsupported state");this._ghash.update(t),this._alen+=t.length},module.exports=u;
},{"./aes":"dNn4","safe-buffer":"Wugr","cipher-base":"bjfr","inherits":"Bm0n","./ghash":"vgFu","buffer-xor":"Bi15","./incr32":"EFOV"}],"XmsB":[function(require,module,exports) {

var e=require("./aes"),r=require("safe-buffer").Buffer,t=require("cipher-base"),i=require("inherits");function s(i,s,c,h){t.call(this),this._cipher=new e.AES(s),this._prev=r.from(c),this._cache=r.allocUnsafe(0),this._secCache=r.allocUnsafe(0),this._decrypt=h,this._mode=i}i(s,t),s.prototype._update=function(e){return this._mode.encrypt(this,e,this._decrypt)},s.prototype._final=function(){this._cipher.scrub()},module.exports=s;
},{"./aes":"dNn4","safe-buffer":"Wugr","cipher-base":"bjfr","inherits":"Bm0n"}],"exU6":[function(require,module,exports) {

var e=require("safe-buffer").Buffer,r=require("md5.js");function t(t,a,f,l){if(e.isBuffer(t)||(t=e.from(t,"binary")),a&&(e.isBuffer(a)||(a=e.from(a,"binary")),8!==a.length))throw new RangeError("salt should be Buffer with 8 byte length");for(var n=f/8,i=e.alloc(n),o=e.alloc(l||0),u=e.alloc(0);n>0||l>0;){var h=new r;h.update(u),h.update(t),a&&h.update(a),u=h.digest();var g=0;if(n>0){var s=i.length-n;g=Math.min(n,u.length),u.copy(i,s,0,g),n-=g}if(g<u.length&&l>0){var d=o.length-l,v=Math.min(l,u.length-g);u.copy(o,d,g,g+v),l-=v}}return u.fill(0),{key:i,iv:o}}module.exports=t;
},{"safe-buffer":"Wugr","md5.js":"OP64"}],"zRzx":[function(require,module,exports) {

var e=require("./modes"),t=require("./authCipher"),r=require("safe-buffer").Buffer,i=require("./streamCipher"),n=require("cipher-base"),h=require("./aes"),o=require("evp_bytestokey"),a=require("inherits");function c(e,t,i){n.call(this),this._cache=new u,this._cipher=new h.AES(t),this._prev=r.from(i),this._mode=e,this._autopadding=!0}a(c,n),c.prototype._update=function(e){var t,i;this._cache.add(e);for(var n=[];t=this._cache.get();)i=this._mode.encrypt(this,t),n.push(i);return r.concat(n)};var s=r.alloc(16,16);function u(){this.cache=r.allocUnsafe(0)}function p(n,h,o){var a=e[n.toLowerCase()];if(!a)throw new TypeError("invalid suite type");if("string"==typeof h&&(h=r.from(h)),h.length!==a.key/8)throw new TypeError("invalid key length "+h.length);if("string"==typeof o&&(o=r.from(o)),"GCM"!==a.mode&&o.length!==a.iv)throw new TypeError("invalid iv length "+o.length);return"stream"===a.type?new i(a.module,h,o):"auth"===a.type?new t(a.module,h,o):new c(a.module,h,o)}function f(t,r){var i=e[t.toLowerCase()];if(!i)throw new TypeError("invalid suite type");var n=o(r,!1,i.key,i.iv);return p(t,n.key,n.iv)}c.prototype._final=function(){var e=this._cache.flush();if(this._autopadding)return e=this._mode.encrypt(this,e),this._cipher.scrub(),e;if(!e.equals(s))throw this._cipher.scrub(),new Error("data not multiple of block length")},c.prototype.setAutoPadding=function(e){return this._autopadding=!!e,this},u.prototype.add=function(e){this.cache=r.concat([this.cache,e])},u.prototype.get=function(){if(this.cache.length>15){var e=this.cache.slice(0,16);return this.cache=this.cache.slice(16),e}return null},u.prototype.flush=function(){for(var e=16-this.cache.length,t=r.allocUnsafe(e),i=-1;++i<e;)t.writeUInt8(e,i);return r.concat([this.cache,t])},exports.createCipheriv=p,exports.createCipher=f;
},{"./modes":"zdSg","./authCipher":"KDZf","safe-buffer":"Wugr","./streamCipher":"XmsB","cipher-base":"bjfr","./aes":"dNn4","evp_bytestokey":"exU6","inherits":"Bm0n"}],"qK8d":[function(require,module,exports) {

var e=require("./authCipher"),t=require("safe-buffer").Buffer,r=require("./modes"),i=require("./streamCipher"),h=require("cipher-base"),n=require("./aes"),o=require("evp_bytestokey"),a=require("inherits");function c(e,r,i){h.call(this),this._cache=new s,this._last=void 0,this._cipher=new n.AES(r),this._prev=t.from(i),this._mode=e,this._autopadding=!0}function s(){this.cache=t.allocUnsafe(0)}function u(e){var t=e[15];if(t<1||t>16)throw new Error("unable to decrypt data");for(var r=-1;++r<t;)if(e[r+(16-t)]!==t)throw new Error("unable to decrypt data");if(16!==t)return e.slice(0,16-t)}function p(h,n,o){var a=r[h.toLowerCase()];if(!a)throw new TypeError("invalid suite type");if("string"==typeof o&&(o=t.from(o)),"GCM"!==a.mode&&o.length!==a.iv)throw new TypeError("invalid iv length "+o.length);if("string"==typeof n&&(n=t.from(n)),n.length!==a.key/8)throw new TypeError("invalid key length "+n.length);return"stream"===a.type?new i(a.module,n,o,!0):"auth"===a.type?new e(a.module,n,o,!0):new c(a.module,n,o)}function f(e,t){var i=r[e.toLowerCase()];if(!i)throw new TypeError("invalid suite type");var h=o(t,!1,i.key,i.iv);return p(e,h.key,h.iv)}a(c,h),c.prototype._update=function(e){var r,i;this._cache.add(e);for(var h=[];r=this._cache.get(this._autopadding);)i=this._mode.decrypt(this,r),h.push(i);return t.concat(h)},c.prototype._final=function(){var e=this._cache.flush();if(this._autopadding)return u(this._mode.decrypt(this,e));if(e)throw new Error("data not multiple of block length")},c.prototype.setAutoPadding=function(e){return this._autopadding=!!e,this},s.prototype.add=function(e){this.cache=t.concat([this.cache,e])},s.prototype.get=function(e){var t;if(e){if(this.cache.length>16)return t=this.cache.slice(0,16),this.cache=this.cache.slice(16),t}else if(this.cache.length>=16)return t=this.cache.slice(0,16),this.cache=this.cache.slice(16),t;return null},s.prototype.flush=function(){if(this.cache.length)return this.cache},exports.createDecipher=f,exports.createDecipheriv=p;
},{"./authCipher":"KDZf","safe-buffer":"Wugr","./modes":"zdSg","./streamCipher":"XmsB","cipher-base":"bjfr","./aes":"dNn4","evp_bytestokey":"exU6","inherits":"Bm0n"}],"hisC":[function(require,module,exports) {
var e=require("./encrypter"),r=require("./decrypter"),i=require("./modes/list.json");function p(){return Object.keys(i)}exports.createCipher=exports.Cipher=e.createCipher,exports.createCipheriv=exports.Cipheriv=e.createCipheriv,exports.createDecipher=exports.Decipher=r.createDecipher,exports.createDecipheriv=exports.Decipheriv=r.createDecipheriv,exports.listCiphers=exports.getCiphers=p;
},{"./encrypter":"zRzx","./decrypter":"qK8d","./modes/list.json":"veqz"}],"V0IC":[function(require,module,exports) {
exports["des-ecb"]={key:8,iv:0},exports["des-cbc"]=exports.des={key:8,iv:8},exports["des-ede3-cbc"]=exports.des3={key:24,iv:8},exports["des-ede3"]={key:24,iv:0},exports["des-ede-cbc"]={key:16,iv:8},exports["des-ede"]={key:16,iv:0};
},{}],"KTbn":[function(require,module,exports) {
var e=require("browserify-des"),r=require("browserify-aes/browser"),i=require("browserify-aes/modes"),t=require("browserify-des/modes"),o=require("evp_bytestokey");function s(e,r){var s,p;if(e=e.toLowerCase(),i[e])s=i[e].key,p=i[e].iv;else{if(!t[e])throw new TypeError("invalid suite type");s=8*t[e].key,p=t[e].iv}var v=o(r,!1,s,p);return n(e,v.key,v.iv)}function p(e,r){var s,p;if(e=e.toLowerCase(),i[e])s=i[e].key,p=i[e].iv;else{if(!t[e])throw new TypeError("invalid suite type");s=8*t[e].key,p=t[e].iv}var n=o(r,!1,s,p);return v(e,n.key,n.iv)}function n(o,s,p){if(o=o.toLowerCase(),i[o])return r.createCipheriv(o,s,p);if(t[o])return new e({key:s,iv:p,mode:o});throw new TypeError("invalid suite type")}function v(o,s,p){if(o=o.toLowerCase(),i[o])return r.createDecipheriv(o,s,p);if(t[o])return new e({key:s,iv:p,mode:o,decrypt:!0});throw new TypeError("invalid suite type")}function y(){return Object.keys(t).concat(r.getCiphers())}exports.createCipher=exports.Cipher=s,exports.createCipheriv=exports.Cipheriv=n,exports.createDecipher=exports.Decipher=p,exports.createDecipheriv=exports.Decipheriv=v,exports.listCiphers=exports.getCiphers=y;
},{"browserify-des":"sKVA","browserify-aes/browser":"hisC","browserify-aes/modes":"zdSg","browserify-des/modes":"V0IC","evp_bytestokey":"exU6"}],"VXic":[function(require,module,exports) {
var Buffer = require("buffer").Buffer;
var t=require("buffer").Buffer;!function(t,i){"use strict";function r(t,i){if(!t)throw new Error(i||"Assertion failed")}function n(t,i){t.super_=i;var r=function(){};r.prototype=i.prototype,t.prototype=new r,t.prototype.constructor=t}function h(t,i,r){if(h.isBN(t))return t;this.negative=0,this.words=null,this.length=0,this.red=null,null!==t&&("le"!==i&&"be"!==i||(r=i,i=10),this._init(t||0,i||10,r||"be"))}var e;"object"==typeof t?t.exports=h:i.BN=h,h.BN=h,h.wordSize=26;try{e="undefined"!=typeof window&&void 0!==window.Buffer?window.Buffer:require("buffer").Buffer}catch(A){}function o(t,i){var r=t.charCodeAt(i);return r>=65&&r<=70?r-55:r>=97&&r<=102?r-87:r-48&15}function s(t,i,r){var n=o(t,r);return r-1>=i&&(n|=o(t,r-1)<<4),n}function u(t,i,r,n){for(var h=0,e=Math.min(t.length,r),o=i;o<e;o++){var s=t.charCodeAt(o)-48;h*=n,h+=s>=49?s-49+10:s>=17?s-17+10:s}return h}h.isBN=function(t){return t instanceof h||null!==t&&"object"==typeof t&&t.constructor.wordSize===h.wordSize&&Array.isArray(t.words)},h.max=function(t,i){return t.cmp(i)>0?t:i},h.min=function(t,i){return t.cmp(i)<0?t:i},h.prototype._init=function(t,i,n){if("number"==typeof t)return this._initNumber(t,i,n);if("object"==typeof t)return this._initArray(t,i,n);"hex"===i&&(i=16),r(i===(0|i)&&i>=2&&i<=36);var h=0;"-"===(t=t.toString().replace(/\s+/g,""))[0]&&(h++,this.negative=1),h<t.length&&(16===i?this._parseHex(t,h,n):(this._parseBase(t,i,h),"le"===n&&this._initArray(this.toArray(),i,n)))},h.prototype._initNumber=function(t,i,n){t<0&&(this.negative=1,t=-t),t<67108864?(this.words=[67108863&t],this.length=1):t<4503599627370496?(this.words=[67108863&t,t/67108864&67108863],this.length=2):(r(t<9007199254740992),this.words=[67108863&t,t/67108864&67108863,1],this.length=3),"le"===n&&this._initArray(this.toArray(),i,n)},h.prototype._initArray=function(t,i,n){if(r("number"==typeof t.length),t.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(t.length/3),this.words=new Array(this.length);for(var h=0;h<this.length;h++)this.words[h]=0;var e,o,s=0;if("be"===n)for(h=t.length-1,e=0;h>=0;h-=3)o=t[h]|t[h-1]<<8|t[h-2]<<16,this.words[e]|=o<<s&67108863,this.words[e+1]=o>>>26-s&67108863,(s+=24)>=26&&(s-=26,e++);else if("le"===n)for(h=0,e=0;h<t.length;h+=3)o=t[h]|t[h+1]<<8|t[h+2]<<16,this.words[e]|=o<<s&67108863,this.words[e+1]=o>>>26-s&67108863,(s+=24)>=26&&(s-=26,e++);return this.strip()},h.prototype._parseHex=function(t,i,r){this.length=Math.ceil((t.length-i)/6),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var h,e=0,o=0;if("be"===r)for(n=t.length-1;n>=i;n-=2)h=s(t,i,n)<<e,this.words[o]|=67108863&h,e>=18?(e-=18,o+=1,this.words[o]|=h>>>26):e+=8;else for(n=(t.length-i)%2==0?i+1:i;n<t.length;n+=2)h=s(t,i,n)<<e,this.words[o]|=67108863&h,e>=18?(e-=18,o+=1,this.words[o]|=h>>>26):e+=8;this.strip()},h.prototype._parseBase=function(t,i,r){this.words=[0],this.length=1;for(var n=0,h=1;h<=67108863;h*=i)n++;n--,h=h/i|0;for(var e=t.length-r,o=e%n,s=Math.min(e,e-o)+r,a=0,l=r;l<s;l+=n)a=u(t,l,l+n,i),this.imuln(h),this.words[0]+a<67108864?this.words[0]+=a:this._iaddn(a);if(0!==o){var m=1;for(a=u(t,l,t.length,i),l=0;l<o;l++)m*=i;this.imuln(m),this.words[0]+a<67108864?this.words[0]+=a:this._iaddn(a)}this.strip()},h.prototype.copy=function(t){t.words=new Array(this.length);for(var i=0;i<this.length;i++)t.words[i]=this.words[i];t.length=this.length,t.negative=this.negative,t.red=this.red},h.prototype.clone=function(){var t=new h(null);return this.copy(t),t},h.prototype._expand=function(t){for(;this.length<t;)this.words[this.length++]=0;return this},h.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},h.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},h.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var a=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],l=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],m=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function f(t,i,r){r.negative=i.negative^t.negative;var n=t.length+i.length|0;r.length=n,n=n-1|0;var h=0|t.words[0],e=0|i.words[0],o=h*e,s=67108863&o,u=o/67108864|0;r.words[0]=s;for(var a=1;a<n;a++){for(var l=u>>>26,m=67108863&u,f=Math.min(a,i.length-1),d=Math.max(0,a-t.length+1);d<=f;d++){var p=a-d|0;l+=(o=(h=0|t.words[p])*(e=0|i.words[d])+m)/67108864|0,m=67108863&o}r.words[a]=0|m,u=0|l}return 0!==u?r.words[a]=0|u:r.length--,r.strip()}h.prototype.toString=function(t,i){var n;if(i=0|i||1,16===(t=t||10)||"hex"===t){n="";for(var h=0,e=0,o=0;o<this.length;o++){var s=this.words[o],u=(16777215&(s<<h|e)).toString(16);n=0!==(e=s>>>24-h&16777215)||o!==this.length-1?a[6-u.length]+u+n:u+n,(h+=2)>=26&&(h-=26,o--)}for(0!==e&&(n=e.toString(16)+n);n.length%i!=0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}if(t===(0|t)&&t>=2&&t<=36){var f=l[t],d=m[t];n="";var p=this.clone();for(p.negative=0;!p.isZero();){var M=p.modn(d).toString(t);n=(p=p.idivn(d)).isZero()?M+n:a[f-M.length]+M+n}for(this.isZero()&&(n="0"+n);n.length%i!=0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}r(!1,"Base should be between 2 and 36")},h.prototype.toNumber=function(){var t=this.words[0];return 2===this.length?t+=67108864*this.words[1]:3===this.length&&1===this.words[2]?t+=4503599627370496+67108864*this.words[1]:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-t:t},h.prototype.toJSON=function(){return this.toString(16)},h.prototype.toBuffer=function(t,i){return r(void 0!==e),this.toArrayLike(e,t,i)},h.prototype.toArray=function(t,i){return this.toArrayLike(Array,t,i)},h.prototype.toArrayLike=function(t,i,n){var h=this.byteLength(),e=n||Math.max(1,h);r(h<=e,"byte array longer than desired length"),r(e>0,"Requested array length <= 0"),this.strip();var o,s,u="le"===i,a=new t(e),l=this.clone();if(u){for(s=0;!l.isZero();s++)o=l.andln(255),l.iushrn(8),a[s]=o;for(;s<e;s++)a[s]=0}else{for(s=0;s<e-h;s++)a[s]=0;for(s=0;!l.isZero();s++)o=l.andln(255),l.iushrn(8),a[e-s-1]=o}return a},Math.clz32?h.prototype._countBits=function(t){return 32-Math.clz32(t)}:h.prototype._countBits=function(t){var i=t,r=0;return i>=4096&&(r+=13,i>>>=13),i>=64&&(r+=7,i>>>=7),i>=8&&(r+=4,i>>>=4),i>=2&&(r+=2,i>>>=2),r+i},h.prototype._zeroBits=function(t){if(0===t)return 26;var i=t,r=0;return 0==(8191&i)&&(r+=13,i>>>=13),0==(127&i)&&(r+=7,i>>>=7),0==(15&i)&&(r+=4,i>>>=4),0==(3&i)&&(r+=2,i>>>=2),0==(1&i)&&r++,r},h.prototype.bitLength=function(){var t=this.words[this.length-1],i=this._countBits(t);return 26*(this.length-1)+i},h.prototype.zeroBits=function(){if(this.isZero())return 0;for(var t=0,i=0;i<this.length;i++){var r=this._zeroBits(this.words[i]);if(t+=r,26!==r)break}return t},h.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},h.prototype.toTwos=function(t){return 0!==this.negative?this.abs().inotn(t).iaddn(1):this.clone()},h.prototype.fromTwos=function(t){return this.testn(t-1)?this.notn(t).iaddn(1).ineg():this.clone()},h.prototype.isNeg=function(){return 0!==this.negative},h.prototype.neg=function(){return this.clone().ineg()},h.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},h.prototype.iuor=function(t){for(;this.length<t.length;)this.words[this.length++]=0;for(var i=0;i<t.length;i++)this.words[i]=this.words[i]|t.words[i];return this.strip()},h.prototype.ior=function(t){return r(0==(this.negative|t.negative)),this.iuor(t)},h.prototype.or=function(t){return this.length>t.length?this.clone().ior(t):t.clone().ior(this)},h.prototype.uor=function(t){return this.length>t.length?this.clone().iuor(t):t.clone().iuor(this)},h.prototype.iuand=function(t){var i;i=this.length>t.length?t:this;for(var r=0;r<i.length;r++)this.words[r]=this.words[r]&t.words[r];return this.length=i.length,this.strip()},h.prototype.iand=function(t){return r(0==(this.negative|t.negative)),this.iuand(t)},h.prototype.and=function(t){return this.length>t.length?this.clone().iand(t):t.clone().iand(this)},h.prototype.uand=function(t){return this.length>t.length?this.clone().iuand(t):t.clone().iuand(this)},h.prototype.iuxor=function(t){var i,r;this.length>t.length?(i=this,r=t):(i=t,r=this);for(var n=0;n<r.length;n++)this.words[n]=i.words[n]^r.words[n];if(this!==i)for(;n<i.length;n++)this.words[n]=i.words[n];return this.length=i.length,this.strip()},h.prototype.ixor=function(t){return r(0==(this.negative|t.negative)),this.iuxor(t)},h.prototype.xor=function(t){return this.length>t.length?this.clone().ixor(t):t.clone().ixor(this)},h.prototype.uxor=function(t){return this.length>t.length?this.clone().iuxor(t):t.clone().iuxor(this)},h.prototype.inotn=function(t){r("number"==typeof t&&t>=0);var i=0|Math.ceil(t/26),n=t%26;this._expand(i),n>0&&i--;for(var h=0;h<i;h++)this.words[h]=67108863&~this.words[h];return n>0&&(this.words[h]=~this.words[h]&67108863>>26-n),this.strip()},h.prototype.notn=function(t){return this.clone().inotn(t)},h.prototype.setn=function(t,i){r("number"==typeof t&&t>=0);var n=t/26|0,h=t%26;return this._expand(n+1),this.words[n]=i?this.words[n]|1<<h:this.words[n]&~(1<<h),this.strip()},h.prototype.iadd=function(t){var i,r,n;if(0!==this.negative&&0===t.negative)return this.negative=0,i=this.isub(t),this.negative^=1,this._normSign();if(0===this.negative&&0!==t.negative)return t.negative=0,i=this.isub(t),t.negative=1,i._normSign();this.length>t.length?(r=this,n=t):(r=t,n=this);for(var h=0,e=0;e<n.length;e++)i=(0|r.words[e])+(0|n.words[e])+h,this.words[e]=67108863&i,h=i>>>26;for(;0!==h&&e<r.length;e++)i=(0|r.words[e])+h,this.words[e]=67108863&i,h=i>>>26;if(this.length=r.length,0!==h)this.words[this.length]=h,this.length++;else if(r!==this)for(;e<r.length;e++)this.words[e]=r.words[e];return this},h.prototype.add=function(t){var i;return 0!==t.negative&&0===this.negative?(t.negative=0,i=this.sub(t),t.negative^=1,i):0===t.negative&&0!==this.negative?(this.negative=0,i=t.sub(this),this.negative=1,i):this.length>t.length?this.clone().iadd(t):t.clone().iadd(this)},h.prototype.isub=function(t){if(0!==t.negative){t.negative=0;var i=this.iadd(t);return t.negative=1,i._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(t),this.negative=1,this._normSign();var r,n,h=this.cmp(t);if(0===h)return this.negative=0,this.length=1,this.words[0]=0,this;h>0?(r=this,n=t):(r=t,n=this);for(var e=0,o=0;o<n.length;o++)e=(i=(0|r.words[o])-(0|n.words[o])+e)>>26,this.words[o]=67108863&i;for(;0!==e&&o<r.length;o++)e=(i=(0|r.words[o])+e)>>26,this.words[o]=67108863&i;if(0===e&&o<r.length&&r!==this)for(;o<r.length;o++)this.words[o]=r.words[o];return this.length=Math.max(this.length,o),r!==this&&(this.negative=1),this.strip()},h.prototype.sub=function(t){return this.clone().isub(t)};var d=function(t,i,r){var n,h,e,o=t.words,s=i.words,u=r.words,a=0,l=0|o[0],m=8191&l,f=l>>>13,d=0|o[1],p=8191&d,M=d>>>13,v=0|o[2],g=8191&v,c=v>>>13,w=0|o[3],y=8191&w,b=w>>>13,_=0|o[4],k=8191&_,A=_>>>13,x=0|o[5],S=8191&x,q=x>>>13,B=0|o[6],Z=8191&B,R=B>>>13,N=0|o[7],L=8191&N,I=N>>>13,z=0|o[8],T=8191&z,E=z>>>13,O=0|o[9],j=8191&O,K=O>>>13,P=0|s[0],F=8191&P,C=P>>>13,D=0|s[1],H=8191&D,J=D>>>13,U=0|s[2],G=8191&U,Q=U>>>13,V=0|s[3],W=8191&V,X=V>>>13,Y=0|s[4],$=8191&Y,tt=Y>>>13,it=0|s[5],rt=8191&it,nt=it>>>13,ht=0|s[6],et=8191&ht,ot=ht>>>13,st=0|s[7],ut=8191&st,at=st>>>13,lt=0|s[8],mt=8191&lt,ft=lt>>>13,dt=0|s[9],pt=8191&dt,Mt=dt>>>13;r.negative=t.negative^i.negative,r.length=19;var vt=(a+(n=Math.imul(m,F))|0)+((8191&(h=(h=Math.imul(m,C))+Math.imul(f,F)|0))<<13)|0;a=((e=Math.imul(f,C))+(h>>>13)|0)+(vt>>>26)|0,vt&=67108863,n=Math.imul(p,F),h=(h=Math.imul(p,C))+Math.imul(M,F)|0,e=Math.imul(M,C);var gt=(a+(n=n+Math.imul(m,H)|0)|0)+((8191&(h=(h=h+Math.imul(m,J)|0)+Math.imul(f,H)|0))<<13)|0;a=((e=e+Math.imul(f,J)|0)+(h>>>13)|0)+(gt>>>26)|0,gt&=67108863,n=Math.imul(g,F),h=(h=Math.imul(g,C))+Math.imul(c,F)|0,e=Math.imul(c,C),n=n+Math.imul(p,H)|0,h=(h=h+Math.imul(p,J)|0)+Math.imul(M,H)|0,e=e+Math.imul(M,J)|0;var ct=(a+(n=n+Math.imul(m,G)|0)|0)+((8191&(h=(h=h+Math.imul(m,Q)|0)+Math.imul(f,G)|0))<<13)|0;a=((e=e+Math.imul(f,Q)|0)+(h>>>13)|0)+(ct>>>26)|0,ct&=67108863,n=Math.imul(y,F),h=(h=Math.imul(y,C))+Math.imul(b,F)|0,e=Math.imul(b,C),n=n+Math.imul(g,H)|0,h=(h=h+Math.imul(g,J)|0)+Math.imul(c,H)|0,e=e+Math.imul(c,J)|0,n=n+Math.imul(p,G)|0,h=(h=h+Math.imul(p,Q)|0)+Math.imul(M,G)|0,e=e+Math.imul(M,Q)|0;var wt=(a+(n=n+Math.imul(m,W)|0)|0)+((8191&(h=(h=h+Math.imul(m,X)|0)+Math.imul(f,W)|0))<<13)|0;a=((e=e+Math.imul(f,X)|0)+(h>>>13)|0)+(wt>>>26)|0,wt&=67108863,n=Math.imul(k,F),h=(h=Math.imul(k,C))+Math.imul(A,F)|0,e=Math.imul(A,C),n=n+Math.imul(y,H)|0,h=(h=h+Math.imul(y,J)|0)+Math.imul(b,H)|0,e=e+Math.imul(b,J)|0,n=n+Math.imul(g,G)|0,h=(h=h+Math.imul(g,Q)|0)+Math.imul(c,G)|0,e=e+Math.imul(c,Q)|0,n=n+Math.imul(p,W)|0,h=(h=h+Math.imul(p,X)|0)+Math.imul(M,W)|0,e=e+Math.imul(M,X)|0;var yt=(a+(n=n+Math.imul(m,$)|0)|0)+((8191&(h=(h=h+Math.imul(m,tt)|0)+Math.imul(f,$)|0))<<13)|0;a=((e=e+Math.imul(f,tt)|0)+(h>>>13)|0)+(yt>>>26)|0,yt&=67108863,n=Math.imul(S,F),h=(h=Math.imul(S,C))+Math.imul(q,F)|0,e=Math.imul(q,C),n=n+Math.imul(k,H)|0,h=(h=h+Math.imul(k,J)|0)+Math.imul(A,H)|0,e=e+Math.imul(A,J)|0,n=n+Math.imul(y,G)|0,h=(h=h+Math.imul(y,Q)|0)+Math.imul(b,G)|0,e=e+Math.imul(b,Q)|0,n=n+Math.imul(g,W)|0,h=(h=h+Math.imul(g,X)|0)+Math.imul(c,W)|0,e=e+Math.imul(c,X)|0,n=n+Math.imul(p,$)|0,h=(h=h+Math.imul(p,tt)|0)+Math.imul(M,$)|0,e=e+Math.imul(M,tt)|0;var bt=(a+(n=n+Math.imul(m,rt)|0)|0)+((8191&(h=(h=h+Math.imul(m,nt)|0)+Math.imul(f,rt)|0))<<13)|0;a=((e=e+Math.imul(f,nt)|0)+(h>>>13)|0)+(bt>>>26)|0,bt&=67108863,n=Math.imul(Z,F),h=(h=Math.imul(Z,C))+Math.imul(R,F)|0,e=Math.imul(R,C),n=n+Math.imul(S,H)|0,h=(h=h+Math.imul(S,J)|0)+Math.imul(q,H)|0,e=e+Math.imul(q,J)|0,n=n+Math.imul(k,G)|0,h=(h=h+Math.imul(k,Q)|0)+Math.imul(A,G)|0,e=e+Math.imul(A,Q)|0,n=n+Math.imul(y,W)|0,h=(h=h+Math.imul(y,X)|0)+Math.imul(b,W)|0,e=e+Math.imul(b,X)|0,n=n+Math.imul(g,$)|0,h=(h=h+Math.imul(g,tt)|0)+Math.imul(c,$)|0,e=e+Math.imul(c,tt)|0,n=n+Math.imul(p,rt)|0,h=(h=h+Math.imul(p,nt)|0)+Math.imul(M,rt)|0,e=e+Math.imul(M,nt)|0;var _t=(a+(n=n+Math.imul(m,et)|0)|0)+((8191&(h=(h=h+Math.imul(m,ot)|0)+Math.imul(f,et)|0))<<13)|0;a=((e=e+Math.imul(f,ot)|0)+(h>>>13)|0)+(_t>>>26)|0,_t&=67108863,n=Math.imul(L,F),h=(h=Math.imul(L,C))+Math.imul(I,F)|0,e=Math.imul(I,C),n=n+Math.imul(Z,H)|0,h=(h=h+Math.imul(Z,J)|0)+Math.imul(R,H)|0,e=e+Math.imul(R,J)|0,n=n+Math.imul(S,G)|0,h=(h=h+Math.imul(S,Q)|0)+Math.imul(q,G)|0,e=e+Math.imul(q,Q)|0,n=n+Math.imul(k,W)|0,h=(h=h+Math.imul(k,X)|0)+Math.imul(A,W)|0,e=e+Math.imul(A,X)|0,n=n+Math.imul(y,$)|0,h=(h=h+Math.imul(y,tt)|0)+Math.imul(b,$)|0,e=e+Math.imul(b,tt)|0,n=n+Math.imul(g,rt)|0,h=(h=h+Math.imul(g,nt)|0)+Math.imul(c,rt)|0,e=e+Math.imul(c,nt)|0,n=n+Math.imul(p,et)|0,h=(h=h+Math.imul(p,ot)|0)+Math.imul(M,et)|0,e=e+Math.imul(M,ot)|0;var kt=(a+(n=n+Math.imul(m,ut)|0)|0)+((8191&(h=(h=h+Math.imul(m,at)|0)+Math.imul(f,ut)|0))<<13)|0;a=((e=e+Math.imul(f,at)|0)+(h>>>13)|0)+(kt>>>26)|0,kt&=67108863,n=Math.imul(T,F),h=(h=Math.imul(T,C))+Math.imul(E,F)|0,e=Math.imul(E,C),n=n+Math.imul(L,H)|0,h=(h=h+Math.imul(L,J)|0)+Math.imul(I,H)|0,e=e+Math.imul(I,J)|0,n=n+Math.imul(Z,G)|0,h=(h=h+Math.imul(Z,Q)|0)+Math.imul(R,G)|0,e=e+Math.imul(R,Q)|0,n=n+Math.imul(S,W)|0,h=(h=h+Math.imul(S,X)|0)+Math.imul(q,W)|0,e=e+Math.imul(q,X)|0,n=n+Math.imul(k,$)|0,h=(h=h+Math.imul(k,tt)|0)+Math.imul(A,$)|0,e=e+Math.imul(A,tt)|0,n=n+Math.imul(y,rt)|0,h=(h=h+Math.imul(y,nt)|0)+Math.imul(b,rt)|0,e=e+Math.imul(b,nt)|0,n=n+Math.imul(g,et)|0,h=(h=h+Math.imul(g,ot)|0)+Math.imul(c,et)|0,e=e+Math.imul(c,ot)|0,n=n+Math.imul(p,ut)|0,h=(h=h+Math.imul(p,at)|0)+Math.imul(M,ut)|0,e=e+Math.imul(M,at)|0;var At=(a+(n=n+Math.imul(m,mt)|0)|0)+((8191&(h=(h=h+Math.imul(m,ft)|0)+Math.imul(f,mt)|0))<<13)|0;a=((e=e+Math.imul(f,ft)|0)+(h>>>13)|0)+(At>>>26)|0,At&=67108863,n=Math.imul(j,F),h=(h=Math.imul(j,C))+Math.imul(K,F)|0,e=Math.imul(K,C),n=n+Math.imul(T,H)|0,h=(h=h+Math.imul(T,J)|0)+Math.imul(E,H)|0,e=e+Math.imul(E,J)|0,n=n+Math.imul(L,G)|0,h=(h=h+Math.imul(L,Q)|0)+Math.imul(I,G)|0,e=e+Math.imul(I,Q)|0,n=n+Math.imul(Z,W)|0,h=(h=h+Math.imul(Z,X)|0)+Math.imul(R,W)|0,e=e+Math.imul(R,X)|0,n=n+Math.imul(S,$)|0,h=(h=h+Math.imul(S,tt)|0)+Math.imul(q,$)|0,e=e+Math.imul(q,tt)|0,n=n+Math.imul(k,rt)|0,h=(h=h+Math.imul(k,nt)|0)+Math.imul(A,rt)|0,e=e+Math.imul(A,nt)|0,n=n+Math.imul(y,et)|0,h=(h=h+Math.imul(y,ot)|0)+Math.imul(b,et)|0,e=e+Math.imul(b,ot)|0,n=n+Math.imul(g,ut)|0,h=(h=h+Math.imul(g,at)|0)+Math.imul(c,ut)|0,e=e+Math.imul(c,at)|0,n=n+Math.imul(p,mt)|0,h=(h=h+Math.imul(p,ft)|0)+Math.imul(M,mt)|0,e=e+Math.imul(M,ft)|0;var xt=(a+(n=n+Math.imul(m,pt)|0)|0)+((8191&(h=(h=h+Math.imul(m,Mt)|0)+Math.imul(f,pt)|0))<<13)|0;a=((e=e+Math.imul(f,Mt)|0)+(h>>>13)|0)+(xt>>>26)|0,xt&=67108863,n=Math.imul(j,H),h=(h=Math.imul(j,J))+Math.imul(K,H)|0,e=Math.imul(K,J),n=n+Math.imul(T,G)|0,h=(h=h+Math.imul(T,Q)|0)+Math.imul(E,G)|0,e=e+Math.imul(E,Q)|0,n=n+Math.imul(L,W)|0,h=(h=h+Math.imul(L,X)|0)+Math.imul(I,W)|0,e=e+Math.imul(I,X)|0,n=n+Math.imul(Z,$)|0,h=(h=h+Math.imul(Z,tt)|0)+Math.imul(R,$)|0,e=e+Math.imul(R,tt)|0,n=n+Math.imul(S,rt)|0,h=(h=h+Math.imul(S,nt)|0)+Math.imul(q,rt)|0,e=e+Math.imul(q,nt)|0,n=n+Math.imul(k,et)|0,h=(h=h+Math.imul(k,ot)|0)+Math.imul(A,et)|0,e=e+Math.imul(A,ot)|0,n=n+Math.imul(y,ut)|0,h=(h=h+Math.imul(y,at)|0)+Math.imul(b,ut)|0,e=e+Math.imul(b,at)|0,n=n+Math.imul(g,mt)|0,h=(h=h+Math.imul(g,ft)|0)+Math.imul(c,mt)|0,e=e+Math.imul(c,ft)|0;var St=(a+(n=n+Math.imul(p,pt)|0)|0)+((8191&(h=(h=h+Math.imul(p,Mt)|0)+Math.imul(M,pt)|0))<<13)|0;a=((e=e+Math.imul(M,Mt)|0)+(h>>>13)|0)+(St>>>26)|0,St&=67108863,n=Math.imul(j,G),h=(h=Math.imul(j,Q))+Math.imul(K,G)|0,e=Math.imul(K,Q),n=n+Math.imul(T,W)|0,h=(h=h+Math.imul(T,X)|0)+Math.imul(E,W)|0,e=e+Math.imul(E,X)|0,n=n+Math.imul(L,$)|0,h=(h=h+Math.imul(L,tt)|0)+Math.imul(I,$)|0,e=e+Math.imul(I,tt)|0,n=n+Math.imul(Z,rt)|0,h=(h=h+Math.imul(Z,nt)|0)+Math.imul(R,rt)|0,e=e+Math.imul(R,nt)|0,n=n+Math.imul(S,et)|0,h=(h=h+Math.imul(S,ot)|0)+Math.imul(q,et)|0,e=e+Math.imul(q,ot)|0,n=n+Math.imul(k,ut)|0,h=(h=h+Math.imul(k,at)|0)+Math.imul(A,ut)|0,e=e+Math.imul(A,at)|0,n=n+Math.imul(y,mt)|0,h=(h=h+Math.imul(y,ft)|0)+Math.imul(b,mt)|0,e=e+Math.imul(b,ft)|0;var qt=(a+(n=n+Math.imul(g,pt)|0)|0)+((8191&(h=(h=h+Math.imul(g,Mt)|0)+Math.imul(c,pt)|0))<<13)|0;a=((e=e+Math.imul(c,Mt)|0)+(h>>>13)|0)+(qt>>>26)|0,qt&=67108863,n=Math.imul(j,W),h=(h=Math.imul(j,X))+Math.imul(K,W)|0,e=Math.imul(K,X),n=n+Math.imul(T,$)|0,h=(h=h+Math.imul(T,tt)|0)+Math.imul(E,$)|0,e=e+Math.imul(E,tt)|0,n=n+Math.imul(L,rt)|0,h=(h=h+Math.imul(L,nt)|0)+Math.imul(I,rt)|0,e=e+Math.imul(I,nt)|0,n=n+Math.imul(Z,et)|0,h=(h=h+Math.imul(Z,ot)|0)+Math.imul(R,et)|0,e=e+Math.imul(R,ot)|0,n=n+Math.imul(S,ut)|0,h=(h=h+Math.imul(S,at)|0)+Math.imul(q,ut)|0,e=e+Math.imul(q,at)|0,n=n+Math.imul(k,mt)|0,h=(h=h+Math.imul(k,ft)|0)+Math.imul(A,mt)|0,e=e+Math.imul(A,ft)|0;var Bt=(a+(n=n+Math.imul(y,pt)|0)|0)+((8191&(h=(h=h+Math.imul(y,Mt)|0)+Math.imul(b,pt)|0))<<13)|0;a=((e=e+Math.imul(b,Mt)|0)+(h>>>13)|0)+(Bt>>>26)|0,Bt&=67108863,n=Math.imul(j,$),h=(h=Math.imul(j,tt))+Math.imul(K,$)|0,e=Math.imul(K,tt),n=n+Math.imul(T,rt)|0,h=(h=h+Math.imul(T,nt)|0)+Math.imul(E,rt)|0,e=e+Math.imul(E,nt)|0,n=n+Math.imul(L,et)|0,h=(h=h+Math.imul(L,ot)|0)+Math.imul(I,et)|0,e=e+Math.imul(I,ot)|0,n=n+Math.imul(Z,ut)|0,h=(h=h+Math.imul(Z,at)|0)+Math.imul(R,ut)|0,e=e+Math.imul(R,at)|0,n=n+Math.imul(S,mt)|0,h=(h=h+Math.imul(S,ft)|0)+Math.imul(q,mt)|0,e=e+Math.imul(q,ft)|0;var Zt=(a+(n=n+Math.imul(k,pt)|0)|0)+((8191&(h=(h=h+Math.imul(k,Mt)|0)+Math.imul(A,pt)|0))<<13)|0;a=((e=e+Math.imul(A,Mt)|0)+(h>>>13)|0)+(Zt>>>26)|0,Zt&=67108863,n=Math.imul(j,rt),h=(h=Math.imul(j,nt))+Math.imul(K,rt)|0,e=Math.imul(K,nt),n=n+Math.imul(T,et)|0,h=(h=h+Math.imul(T,ot)|0)+Math.imul(E,et)|0,e=e+Math.imul(E,ot)|0,n=n+Math.imul(L,ut)|0,h=(h=h+Math.imul(L,at)|0)+Math.imul(I,ut)|0,e=e+Math.imul(I,at)|0,n=n+Math.imul(Z,mt)|0,h=(h=h+Math.imul(Z,ft)|0)+Math.imul(R,mt)|0,e=e+Math.imul(R,ft)|0;var Rt=(a+(n=n+Math.imul(S,pt)|0)|0)+((8191&(h=(h=h+Math.imul(S,Mt)|0)+Math.imul(q,pt)|0))<<13)|0;a=((e=e+Math.imul(q,Mt)|0)+(h>>>13)|0)+(Rt>>>26)|0,Rt&=67108863,n=Math.imul(j,et),h=(h=Math.imul(j,ot))+Math.imul(K,et)|0,e=Math.imul(K,ot),n=n+Math.imul(T,ut)|0,h=(h=h+Math.imul(T,at)|0)+Math.imul(E,ut)|0,e=e+Math.imul(E,at)|0,n=n+Math.imul(L,mt)|0,h=(h=h+Math.imul(L,ft)|0)+Math.imul(I,mt)|0,e=e+Math.imul(I,ft)|0;var Nt=(a+(n=n+Math.imul(Z,pt)|0)|0)+((8191&(h=(h=h+Math.imul(Z,Mt)|0)+Math.imul(R,pt)|0))<<13)|0;a=((e=e+Math.imul(R,Mt)|0)+(h>>>13)|0)+(Nt>>>26)|0,Nt&=67108863,n=Math.imul(j,ut),h=(h=Math.imul(j,at))+Math.imul(K,ut)|0,e=Math.imul(K,at),n=n+Math.imul(T,mt)|0,h=(h=h+Math.imul(T,ft)|0)+Math.imul(E,mt)|0,e=e+Math.imul(E,ft)|0;var Lt=(a+(n=n+Math.imul(L,pt)|0)|0)+((8191&(h=(h=h+Math.imul(L,Mt)|0)+Math.imul(I,pt)|0))<<13)|0;a=((e=e+Math.imul(I,Mt)|0)+(h>>>13)|0)+(Lt>>>26)|0,Lt&=67108863,n=Math.imul(j,mt),h=(h=Math.imul(j,ft))+Math.imul(K,mt)|0,e=Math.imul(K,ft);var It=(a+(n=n+Math.imul(T,pt)|0)|0)+((8191&(h=(h=h+Math.imul(T,Mt)|0)+Math.imul(E,pt)|0))<<13)|0;a=((e=e+Math.imul(E,Mt)|0)+(h>>>13)|0)+(It>>>26)|0,It&=67108863;var zt=(a+(n=Math.imul(j,pt))|0)+((8191&(h=(h=Math.imul(j,Mt))+Math.imul(K,pt)|0))<<13)|0;return a=((e=Math.imul(K,Mt))+(h>>>13)|0)+(zt>>>26)|0,zt&=67108863,u[0]=vt,u[1]=gt,u[2]=ct,u[3]=wt,u[4]=yt,u[5]=bt,u[6]=_t,u[7]=kt,u[8]=At,u[9]=xt,u[10]=St,u[11]=qt,u[12]=Bt,u[13]=Zt,u[14]=Rt,u[15]=Nt,u[16]=Lt,u[17]=It,u[18]=zt,0!==a&&(u[19]=a,r.length++),r};function p(t,i,r){return(new M).mulp(t,i,r)}function M(t,i){this.x=t,this.y=i}Math.imul||(d=f),h.prototype.mulTo=function(t,i){var r=this.length+t.length;return 10===this.length&&10===t.length?d(this,t,i):r<63?f(this,t,i):r<1024?function(t,i,r){r.negative=i.negative^t.negative,r.length=t.length+i.length;for(var n=0,h=0,e=0;e<r.length-1;e++){var o=h;h=0;for(var s=67108863&n,u=Math.min(e,i.length-1),a=Math.max(0,e-t.length+1);a<=u;a++){var l=e-a,m=(0|t.words[l])*(0|i.words[a]),f=67108863&m;s=67108863&(f=f+s|0),h+=(o=(o=o+(m/67108864|0)|0)+(f>>>26)|0)>>>26,o&=67108863}r.words[e]=s,n=o,o=h}return 0!==n?r.words[e]=n:r.length--,r.strip()}(this,t,i):p(this,t,i)},M.prototype.makeRBT=function(t){for(var i=new Array(t),r=h.prototype._countBits(t)-1,n=0;n<t;n++)i[n]=this.revBin(n,r,t);return i},M.prototype.revBin=function(t,i,r){if(0===t||t===r-1)return t;for(var n=0,h=0;h<i;h++)n|=(1&t)<<i-h-1,t>>=1;return n},M.prototype.permute=function(t,i,r,n,h,e){for(var o=0;o<e;o++)n[o]=i[t[o]],h[o]=r[t[o]]},M.prototype.transform=function(t,i,r,n,h,e){this.permute(e,t,i,r,n,h);for(var o=1;o<h;o<<=1)for(var s=o<<1,u=Math.cos(2*Math.PI/s),a=Math.sin(2*Math.PI/s),l=0;l<h;l+=s)for(var m=u,f=a,d=0;d<o;d++){var p=r[l+d],M=n[l+d],v=r[l+d+o],g=n[l+d+o],c=m*v-f*g;g=m*g+f*v,v=c,r[l+d]=p+v,n[l+d]=M+g,r[l+d+o]=p-v,n[l+d+o]=M-g,d!==s&&(c=u*m-a*f,f=u*f+a*m,m=c)}},M.prototype.guessLen13b=function(t,i){var r=1|Math.max(i,t),n=1&r,h=0;for(r=r/2|0;r;r>>>=1)h++;return 1<<h+1+n},M.prototype.conjugate=function(t,i,r){if(!(r<=1))for(var n=0;n<r/2;n++){var h=t[n];t[n]=t[r-n-1],t[r-n-1]=h,h=i[n],i[n]=-i[r-n-1],i[r-n-1]=-h}},M.prototype.normalize13b=function(t,i){for(var r=0,n=0;n<i/2;n++){var h=8192*Math.round(t[2*n+1]/i)+Math.round(t[2*n]/i)+r;t[n]=67108863&h,r=h<67108864?0:h/67108864|0}return t},M.prototype.convert13b=function(t,i,n,h){for(var e=0,o=0;o<i;o++)e+=0|t[o],n[2*o]=8191&e,e>>>=13,n[2*o+1]=8191&e,e>>>=13;for(o=2*i;o<h;++o)n[o]=0;r(0===e),r(0==(-8192&e))},M.prototype.stub=function(t){for(var i=new Array(t),r=0;r<t;r++)i[r]=0;return i},M.prototype.mulp=function(t,i,r){var n=2*this.guessLen13b(t.length,i.length),h=this.makeRBT(n),e=this.stub(n),o=new Array(n),s=new Array(n),u=new Array(n),a=new Array(n),l=new Array(n),m=new Array(n),f=r.words;f.length=n,this.convert13b(t.words,t.length,o,n),this.convert13b(i.words,i.length,a,n),this.transform(o,e,s,u,n,h),this.transform(a,e,l,m,n,h);for(var d=0;d<n;d++){var p=s[d]*l[d]-u[d]*m[d];u[d]=s[d]*m[d]+u[d]*l[d],s[d]=p}return this.conjugate(s,u,n),this.transform(s,u,f,e,n,h),this.conjugate(f,e,n),this.normalize13b(f,n),r.negative=t.negative^i.negative,r.length=t.length+i.length,r.strip()},h.prototype.mul=function(t){var i=new h(null);return i.words=new Array(this.length+t.length),this.mulTo(t,i)},h.prototype.mulf=function(t){var i=new h(null);return i.words=new Array(this.length+t.length),p(this,t,i)},h.prototype.imul=function(t){return this.clone().mulTo(t,this)},h.prototype.imuln=function(t){r("number"==typeof t),r(t<67108864);for(var i=0,n=0;n<this.length;n++){var h=(0|this.words[n])*t,e=(67108863&h)+(67108863&i);i>>=26,i+=h/67108864|0,i+=e>>>26,this.words[n]=67108863&e}return 0!==i&&(this.words[n]=i,this.length++),this},h.prototype.muln=function(t){return this.clone().imuln(t)},h.prototype.sqr=function(){return this.mul(this)},h.prototype.isqr=function(){return this.imul(this.clone())},h.prototype.pow=function(t){var i=function(t){for(var i=new Array(t.bitLength()),r=0;r<i.length;r++){var n=r/26|0,h=r%26;i[r]=(t.words[n]&1<<h)>>>h}return i}(t);if(0===i.length)return new h(1);for(var r=this,n=0;n<i.length&&0===i[n];n++,r=r.sqr());if(++n<i.length)for(var e=r.sqr();n<i.length;n++,e=e.sqr())0!==i[n]&&(r=r.mul(e));return r},h.prototype.iushln=function(t){r("number"==typeof t&&t>=0);var i,n=t%26,h=(t-n)/26,e=67108863>>>26-n<<26-n;if(0!==n){var o=0;for(i=0;i<this.length;i++){var s=this.words[i]&e,u=(0|this.words[i])-s<<n;this.words[i]=u|o,o=s>>>26-n}o&&(this.words[i]=o,this.length++)}if(0!==h){for(i=this.length-1;i>=0;i--)this.words[i+h]=this.words[i];for(i=0;i<h;i++)this.words[i]=0;this.length+=h}return this.strip()},h.prototype.ishln=function(t){return r(0===this.negative),this.iushln(t)},h.prototype.iushrn=function(t,i,n){var h;r("number"==typeof t&&t>=0),h=i?(i-i%26)/26:0;var e=t%26,o=Math.min((t-e)/26,this.length),s=67108863^67108863>>>e<<e,u=n;if(h-=o,h=Math.max(0,h),u){for(var a=0;a<o;a++)u.words[a]=this.words[a];u.length=o}if(0===o);else if(this.length>o)for(this.length-=o,a=0;a<this.length;a++)this.words[a]=this.words[a+o];else this.words[0]=0,this.length=1;var l=0;for(a=this.length-1;a>=0&&(0!==l||a>=h);a--){var m=0|this.words[a];this.words[a]=l<<26-e|m>>>e,l=m&s}return u&&0!==l&&(u.words[u.length++]=l),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},h.prototype.ishrn=function(t,i,n){return r(0===this.negative),this.iushrn(t,i,n)},h.prototype.shln=function(t){return this.clone().ishln(t)},h.prototype.ushln=function(t){return this.clone().iushln(t)},h.prototype.shrn=function(t){return this.clone().ishrn(t)},h.prototype.ushrn=function(t){return this.clone().iushrn(t)},h.prototype.testn=function(t){r("number"==typeof t&&t>=0);var i=t%26,n=(t-i)/26,h=1<<i;return!(this.length<=n)&&!!(this.words[n]&h)},h.prototype.imaskn=function(t){r("number"==typeof t&&t>=0);var i=t%26,n=(t-i)/26;if(r(0===this.negative,"imaskn works only with positive numbers"),this.length<=n)return this;if(0!==i&&n++,this.length=Math.min(n,this.length),0!==i){var h=67108863^67108863>>>i<<i;this.words[this.length-1]&=h}return this.strip()},h.prototype.maskn=function(t){return this.clone().imaskn(t)},h.prototype.iaddn=function(t){return r("number"==typeof t),r(t<67108864),t<0?this.isubn(-t):0!==this.negative?1===this.length&&(0|this.words[0])<t?(this.words[0]=t-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(t),this.negative=1,this):this._iaddn(t)},h.prototype._iaddn=function(t){this.words[0]+=t;for(var i=0;i<this.length&&this.words[i]>=67108864;i++)this.words[i]-=67108864,i===this.length-1?this.words[i+1]=1:this.words[i+1]++;return this.length=Math.max(this.length,i+1),this},h.prototype.isubn=function(t){if(r("number"==typeof t),r(t<67108864),t<0)return this.iaddn(-t);if(0!==this.negative)return this.negative=0,this.iaddn(t),this.negative=1,this;if(this.words[0]-=t,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var i=0;i<this.length&&this.words[i]<0;i++)this.words[i]+=67108864,this.words[i+1]-=1;return this.strip()},h.prototype.addn=function(t){return this.clone().iaddn(t)},h.prototype.subn=function(t){return this.clone().isubn(t)},h.prototype.iabs=function(){return this.negative=0,this},h.prototype.abs=function(){return this.clone().iabs()},h.prototype._ishlnsubmul=function(t,i,n){var h,e,o=t.length+n;this._expand(o);var s=0;for(h=0;h<t.length;h++){e=(0|this.words[h+n])+s;var u=(0|t.words[h])*i;s=((e-=67108863&u)>>26)-(u/67108864|0),this.words[h+n]=67108863&e}for(;h<this.length-n;h++)s=(e=(0|this.words[h+n])+s)>>26,this.words[h+n]=67108863&e;if(0===s)return this.strip();for(r(-1===s),s=0,h=0;h<this.length;h++)s=(e=-(0|this.words[h])+s)>>26,this.words[h]=67108863&e;return this.negative=1,this.strip()},h.prototype._wordDiv=function(t,i){var r=(this.length,t.length),n=this.clone(),e=t,o=0|e.words[e.length-1];0!==(r=26-this._countBits(o))&&(e=e.ushln(r),n.iushln(r),o=0|e.words[e.length-1]);var s,u=n.length-e.length;if("mod"!==i){(s=new h(null)).length=u+1,s.words=new Array(s.length);for(var a=0;a<s.length;a++)s.words[a]=0}var l=n.clone()._ishlnsubmul(e,1,u);0===l.negative&&(n=l,s&&(s.words[u]=1));for(var m=u-1;m>=0;m--){var f=67108864*(0|n.words[e.length+m])+(0|n.words[e.length+m-1]);for(f=Math.min(f/o|0,67108863),n._ishlnsubmul(e,f,m);0!==n.negative;)f--,n.negative=0,n._ishlnsubmul(e,1,m),n.isZero()||(n.negative^=1);s&&(s.words[m]=f)}return s&&s.strip(),n.strip(),"div"!==i&&0!==r&&n.iushrn(r),{div:s||null,mod:n}},h.prototype.divmod=function(t,i,n){return r(!t.isZero()),this.isZero()?{div:new h(0),mod:new h(0)}:0!==this.negative&&0===t.negative?(s=this.neg().divmod(t,i),"mod"!==i&&(e=s.div.neg()),"div"!==i&&(o=s.mod.neg(),n&&0!==o.negative&&o.iadd(t)),{div:e,mod:o}):0===this.negative&&0!==t.negative?(s=this.divmod(t.neg(),i),"mod"!==i&&(e=s.div.neg()),{div:e,mod:s.mod}):0!=(this.negative&t.negative)?(s=this.neg().divmod(t.neg(),i),"div"!==i&&(o=s.mod.neg(),n&&0!==o.negative&&o.isub(t)),{div:s.div,mod:o}):t.length>this.length||this.cmp(t)<0?{div:new h(0),mod:this}:1===t.length?"div"===i?{div:this.divn(t.words[0]),mod:null}:"mod"===i?{div:null,mod:new h(this.modn(t.words[0]))}:{div:this.divn(t.words[0]),mod:new h(this.modn(t.words[0]))}:this._wordDiv(t,i);var e,o,s},h.prototype.div=function(t){return this.divmod(t,"div",!1).div},h.prototype.mod=function(t){return this.divmod(t,"mod",!1).mod},h.prototype.umod=function(t){return this.divmod(t,"mod",!0).mod},h.prototype.divRound=function(t){var i=this.divmod(t);if(i.mod.isZero())return i.div;var r=0!==i.div.negative?i.mod.isub(t):i.mod,n=t.ushrn(1),h=t.andln(1),e=r.cmp(n);return e<0||1===h&&0===e?i.div:0!==i.div.negative?i.div.isubn(1):i.div.iaddn(1)},h.prototype.modn=function(t){r(t<=67108863);for(var i=(1<<26)%t,n=0,h=this.length-1;h>=0;h--)n=(i*n+(0|this.words[h]))%t;return n},h.prototype.idivn=function(t){r(t<=67108863);for(var i=0,n=this.length-1;n>=0;n--){var h=(0|this.words[n])+67108864*i;this.words[n]=h/t|0,i=h%t}return this.strip()},h.prototype.divn=function(t){return this.clone().idivn(t)},h.prototype.egcd=function(t){r(0===t.negative),r(!t.isZero());var i=this,n=t.clone();i=0!==i.negative?i.umod(t):i.clone();for(var e=new h(1),o=new h(0),s=new h(0),u=new h(1),a=0;i.isEven()&&n.isEven();)i.iushrn(1),n.iushrn(1),++a;for(var l=n.clone(),m=i.clone();!i.isZero();){for(var f=0,d=1;0==(i.words[0]&d)&&f<26;++f,d<<=1);if(f>0)for(i.iushrn(f);f-- >0;)(e.isOdd()||o.isOdd())&&(e.iadd(l),o.isub(m)),e.iushrn(1),o.iushrn(1);for(var p=0,M=1;0==(n.words[0]&M)&&p<26;++p,M<<=1);if(p>0)for(n.iushrn(p);p-- >0;)(s.isOdd()||u.isOdd())&&(s.iadd(l),u.isub(m)),s.iushrn(1),u.iushrn(1);i.cmp(n)>=0?(i.isub(n),e.isub(s),o.isub(u)):(n.isub(i),s.isub(e),u.isub(o))}return{a:s,b:u,gcd:n.iushln(a)}},h.prototype._invmp=function(t){r(0===t.negative),r(!t.isZero());var i=this,n=t.clone();i=0!==i.negative?i.umod(t):i.clone();for(var e,o=new h(1),s=new h(0),u=n.clone();i.cmpn(1)>0&&n.cmpn(1)>0;){for(var a=0,l=1;0==(i.words[0]&l)&&a<26;++a,l<<=1);if(a>0)for(i.iushrn(a);a-- >0;)o.isOdd()&&o.iadd(u),o.iushrn(1);for(var m=0,f=1;0==(n.words[0]&f)&&m<26;++m,f<<=1);if(m>0)for(n.iushrn(m);m-- >0;)s.isOdd()&&s.iadd(u),s.iushrn(1);i.cmp(n)>=0?(i.isub(n),o.isub(s)):(n.isub(i),s.isub(o))}return(e=0===i.cmpn(1)?o:s).cmpn(0)<0&&e.iadd(t),e},h.prototype.gcd=function(t){if(this.isZero())return t.abs();if(t.isZero())return this.abs();var i=this.clone(),r=t.clone();i.negative=0,r.negative=0;for(var n=0;i.isEven()&&r.isEven();n++)i.iushrn(1),r.iushrn(1);for(;;){for(;i.isEven();)i.iushrn(1);for(;r.isEven();)r.iushrn(1);var h=i.cmp(r);if(h<0){var e=i;i=r,r=e}else if(0===h||0===r.cmpn(1))break;i.isub(r)}return r.iushln(n)},h.prototype.invm=function(t){return this.egcd(t).a.umod(t)},h.prototype.isEven=function(){return 0==(1&this.words[0])},h.prototype.isOdd=function(){return 1==(1&this.words[0])},h.prototype.andln=function(t){return this.words[0]&t},h.prototype.bincn=function(t){r("number"==typeof t);var i=t%26,n=(t-i)/26,h=1<<i;if(this.length<=n)return this._expand(n+1),this.words[n]|=h,this;for(var e=h,o=n;0!==e&&o<this.length;o++){var s=0|this.words[o];e=(s+=e)>>>26,s&=67108863,this.words[o]=s}return 0!==e&&(this.words[o]=e,this.length++),this},h.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},h.prototype.cmpn=function(t){var i,n=t<0;if(0!==this.negative&&!n)return-1;if(0===this.negative&&n)return 1;if(this.strip(),this.length>1)i=1;else{n&&(t=-t),r(t<=67108863,"Number is too big");var h=0|this.words[0];i=h===t?0:h<t?-1:1}return 0!==this.negative?0|-i:i},h.prototype.cmp=function(t){if(0!==this.negative&&0===t.negative)return-1;if(0===this.negative&&0!==t.negative)return 1;var i=this.ucmp(t);return 0!==this.negative?0|-i:i},h.prototype.ucmp=function(t){if(this.length>t.length)return 1;if(this.length<t.length)return-1;for(var i=0,r=this.length-1;r>=0;r--){var n=0|this.words[r],h=0|t.words[r];if(n!==h){n<h?i=-1:n>h&&(i=1);break}}return i},h.prototype.gtn=function(t){return 1===this.cmpn(t)},h.prototype.gt=function(t){return 1===this.cmp(t)},h.prototype.gten=function(t){return this.cmpn(t)>=0},h.prototype.gte=function(t){return this.cmp(t)>=0},h.prototype.ltn=function(t){return-1===this.cmpn(t)},h.prototype.lt=function(t){return-1===this.cmp(t)},h.prototype.lten=function(t){return this.cmpn(t)<=0},h.prototype.lte=function(t){return this.cmp(t)<=0},h.prototype.eqn=function(t){return 0===this.cmpn(t)},h.prototype.eq=function(t){return 0===this.cmp(t)},h.red=function(t){return new _(t)},h.prototype.toRed=function(t){return r(!this.red,"Already a number in reduction context"),r(0===this.negative,"red works only with positives"),t.convertTo(this)._forceRed(t)},h.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},h.prototype._forceRed=function(t){return this.red=t,this},h.prototype.forceRed=function(t){return r(!this.red,"Already a number in reduction context"),this._forceRed(t)},h.prototype.redAdd=function(t){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,t)},h.prototype.redIAdd=function(t){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,t)},h.prototype.redSub=function(t){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,t)},h.prototype.redISub=function(t){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,t)},h.prototype.redShl=function(t){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,t)},h.prototype.redMul=function(t){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.mul(this,t)},h.prototype.redIMul=function(t){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.imul(this,t)},h.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},h.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},h.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},h.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},h.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},h.prototype.redPow=function(t){return r(this.red&&!t.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,t)};var v={k256:null,p224:null,p192:null,p25519:null};function g(t,i){this.name=t,this.p=new h(i,16),this.n=this.p.bitLength(),this.k=new h(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function c(){g.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function w(){g.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function y(){g.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function b(){g.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function _(t){if("string"==typeof t){var i=h._prime(t);this.m=i.p,this.prime=i}else r(t.gtn(1),"modulus must be greater than 1"),this.m=t,this.prime=null}function k(t){_.call(this,t),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new h(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}g.prototype._tmp=function(){var t=new h(null);return t.words=new Array(Math.ceil(this.n/13)),t},g.prototype.ireduce=function(t){var i,r=t;do{this.split(r,this.tmp),i=(r=(r=this.imulK(r)).iadd(this.tmp)).bitLength()}while(i>this.n);var n=i<this.n?-1:r.ucmp(this.p);return 0===n?(r.words[0]=0,r.length=1):n>0?r.isub(this.p):void 0!==r.strip?r.strip():r._strip(),r},g.prototype.split=function(t,i){t.iushrn(this.n,0,i)},g.prototype.imulK=function(t){return t.imul(this.k)},n(c,g),c.prototype.split=function(t,i){for(var r=Math.min(t.length,9),n=0;n<r;n++)i.words[n]=t.words[n];if(i.length=r,t.length<=9)return t.words[0]=0,void(t.length=1);var h=t.words[9];for(i.words[i.length++]=4194303&h,n=10;n<t.length;n++){var e=0|t.words[n];t.words[n-10]=(4194303&e)<<4|h>>>22,h=e}h>>>=22,t.words[n-10]=h,0===h&&t.length>10?t.length-=10:t.length-=9},c.prototype.imulK=function(t){t.words[t.length]=0,t.words[t.length+1]=0,t.length+=2;for(var i=0,r=0;r<t.length;r++){var n=0|t.words[r];i+=977*n,t.words[r]=67108863&i,i=64*n+(i/67108864|0)}return 0===t.words[t.length-1]&&(t.length--,0===t.words[t.length-1]&&t.length--),t},n(w,g),n(y,g),n(b,g),b.prototype.imulK=function(t){for(var i=0,r=0;r<t.length;r++){var n=19*(0|t.words[r])+i,h=67108863&n;n>>>=26,t.words[r]=h,i=n}return 0!==i&&(t.words[t.length++]=i),t},h._prime=function(t){if(v[t])return v[t];var i;if("k256"===t)i=new c;else if("p224"===t)i=new w;else if("p192"===t)i=new y;else{if("p25519"!==t)throw new Error("Unknown prime "+t);i=new b}return v[t]=i,i},_.prototype._verify1=function(t){r(0===t.negative,"red works only with positives"),r(t.red,"red works only with red numbers")},_.prototype._verify2=function(t,i){r(0==(t.negative|i.negative),"red works only with positives"),r(t.red&&t.red===i.red,"red works only with red numbers")},_.prototype.imod=function(t){return this.prime?this.prime.ireduce(t)._forceRed(this):t.umod(this.m)._forceRed(this)},_.prototype.neg=function(t){return t.isZero()?t.clone():this.m.sub(t)._forceRed(this)},_.prototype.add=function(t,i){this._verify2(t,i);var r=t.add(i);return r.cmp(this.m)>=0&&r.isub(this.m),r._forceRed(this)},_.prototype.iadd=function(t,i){this._verify2(t,i);var r=t.iadd(i);return r.cmp(this.m)>=0&&r.isub(this.m),r},_.prototype.sub=function(t,i){this._verify2(t,i);var r=t.sub(i);return r.cmpn(0)<0&&r.iadd(this.m),r._forceRed(this)},_.prototype.isub=function(t,i){this._verify2(t,i);var r=t.isub(i);return r.cmpn(0)<0&&r.iadd(this.m),r},_.prototype.shl=function(t,i){return this._verify1(t),this.imod(t.ushln(i))},_.prototype.imul=function(t,i){return this._verify2(t,i),this.imod(t.imul(i))},_.prototype.mul=function(t,i){return this._verify2(t,i),this.imod(t.mul(i))},_.prototype.isqr=function(t){return this.imul(t,t.clone())},_.prototype.sqr=function(t){return this.mul(t,t)},_.prototype.sqrt=function(t){if(t.isZero())return t.clone();var i=this.m.andln(3);if(r(i%2==1),3===i){var n=this.m.add(new h(1)).iushrn(2);return this.pow(t,n)}for(var e=this.m.subn(1),o=0;!e.isZero()&&0===e.andln(1);)o++,e.iushrn(1);r(!e.isZero());var s=new h(1).toRed(this),u=s.redNeg(),a=this.m.subn(1).iushrn(1),l=this.m.bitLength();for(l=new h(2*l*l).toRed(this);0!==this.pow(l,a).cmp(u);)l.redIAdd(u);for(var m=this.pow(l,e),f=this.pow(t,e.addn(1).iushrn(1)),d=this.pow(t,e),p=o;0!==d.cmp(s);){for(var M=d,v=0;0!==M.cmp(s);v++)M=M.redSqr();r(v<p);var g=this.pow(m,new h(1).iushln(p-v-1));f=f.redMul(g),m=g.redSqr(),d=d.redMul(m),p=v}return f},_.prototype.invm=function(t){var i=t._invmp(this.m);return 0!==i.negative?(i.negative=0,this.imod(i).redNeg()):this.imod(i)},_.prototype.pow=function(t,i){if(i.isZero())return new h(1).toRed(this);if(0===i.cmpn(1))return t.clone();var r=new Array(16);r[0]=new h(1).toRed(this),r[1]=t;for(var n=2;n<r.length;n++)r[n]=this.mul(r[n-1],t);var e=r[0],o=0,s=0,u=i.bitLength()%26;for(0===u&&(u=26),n=i.length-1;n>=0;n--){for(var a=i.words[n],l=u-1;l>=0;l--){var m=a>>l&1;e!==r[0]&&(e=this.sqr(e)),0!==m||0!==o?(o<<=1,o|=m,(4===++s||0===n&&0===l)&&(e=this.mul(e,r[o]),s=0,o=0)):s=0}u=26}return e},_.prototype.convertTo=function(t){var i=t.umod(this.m);return i===t?i.clone():i},_.prototype.convertFrom=function(t){var i=t.clone();return i.red=null,i},h.mont=function(t){return new k(t)},n(k,_),k.prototype.convertTo=function(t){return this.imod(t.ushln(this.shift))},k.prototype.convertFrom=function(t){var i=this.imod(t.mul(this.rinv));return i.red=null,i},k.prototype.imul=function(t,i){if(t.isZero()||i.isZero())return t.words[0]=0,t.length=1,t;var r=t.imul(i),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),h=r.isub(n).iushrn(this.shift),e=h;return h.cmp(this.m)>=0?e=h.isub(this.m):h.cmpn(0)<0&&(e=h.iadd(this.m)),e._forceRed(this)},k.prototype.mul=function(t,i){if(t.isZero()||i.isZero())return new h(0)._forceRed(this);var r=t.mul(i),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),e=r.isub(n).iushrn(this.shift),o=e;return e.cmp(this.m)>=0?o=e.isub(this.m):e.cmpn(0)<0&&(o=e.iadd(this.m)),o._forceRed(this)},k.prototype.invm=function(t){return this.imod(t._invmp(this.m).mul(this.r2))._forceRed(this)}}("undefined"==typeof module||module,this);
},{"buffer":"vKFU"}],"e03B":[function(require,module,exports) {
var t;function e(t){this.rand=t}if(module.exports=function(r){return t||(t=new e(null)),t.generate(r)},module.exports.Rand=e,e.prototype.generate=function(t){return this._rand(t)},e.prototype._rand=function(t){if(this.rand.getBytes)return this.rand.getBytes(t);for(var e=new Uint8Array(t),r=0;r<e.length;r++)e[r]=this.rand.getByte();return e},"object"==typeof self)self.crypto&&self.crypto.getRandomValues?e.prototype._rand=function(t){var e=new Uint8Array(t);return self.crypto.getRandomValues(e),e}:self.msCrypto&&self.msCrypto.getRandomValues?e.prototype._rand=function(t){var e=new Uint8Array(t);return self.msCrypto.getRandomValues(e),e}:"object"==typeof window&&(e.prototype._rand=function(){throw new Error("Not implemented yet")});else try{var r=require("crypto");if("function"!=typeof r.randomBytes)throw new Error("Not supported");e.prototype._rand=function(t){return r.randomBytes(t)}}catch(n){}
},{"crypto":"vKFU"}],"VQun":[function(require,module,exports) {
var r=require("bn.js"),e=require("brorand");function n(r){this.rand=r||new e.Rand}module.exports=n,n.create=function(r){return new n(r)},n.prototype._randbelow=function(e){var n=e.bitLength(),t=Math.ceil(n/8);do{var o=new r(this.rand.generate(t))}while(o.cmp(e)>=0);return o},n.prototype._randrange=function(r,e){var n=e.sub(r);return r.add(this._randbelow(n))},n.prototype.test=function(e,n,t){var o=e.bitLength(),a=r.mont(e),d=new r(1).toRed(a);n||(n=Math.max(1,o/48|0));for(var i=e.subn(1),u=0;!i.testn(u);u++);for(var f=e.shrn(u),c=i.toRed(a);n>0;n--){var p=this._randrange(new r(2),i);t&&t(p);var s=p.toRed(a).redPow(f);if(0!==s.cmp(d)&&0!==s.cmp(c)){for(var m=1;m<u;m++){if(0===(s=s.redSqr()).cmp(d))return!1;if(0===s.cmp(c))break}if(m===u)return!1}}return!0},n.prototype.getDivisor=function(e,n){var t=e.bitLength(),o=r.mont(e),a=new r(1).toRed(o);n||(n=Math.max(1,t/48|0));for(var d=e.subn(1),i=0;!d.testn(i);i++);for(var u=e.shrn(i),f=d.toRed(o);n>0;n--){var c=this._randrange(new r(2),d),p=e.gcd(c);if(0!==p.cmpn(1))return p;var s=c.toRed(o).redPow(u);if(0!==s.cmp(a)&&0!==s.cmp(f)){for(var m=1;m<i;m++){if(0===(s=s.redSqr()).cmp(a))return s.fromRed().subn(1).gcd(e);if(0===s.cmp(f))break}if(m===i)return(s=s.redSqr()).fromRed().subn(1).gcd(e)}}return!1};
},{"bn.js":"VXic","brorand":"e03B"}],"Lj8n":[function(require,module,exports) {
var e=require("randombytes");module.exports=M,M.simpleSieve=b,M.fermatTest=q;var n=require("bn.js"),r=new n(24),t=require("miller-rabin"),i=new t,o=new n(1),f=new n(2),a=new n(5),u=new n(16),w=new n(8),d=new n(10),m=new n(3),s=new n(7),c=new n(11),l=new n(4),v=new n(12),p=null;function h(){if(null!==p)return p;var e=[];e[0]=2;for(var n=1,r=3;r<1048576;r+=2){for(var t=Math.ceil(Math.sqrt(r)),i=0;i<n&&e[i]<=t&&r%e[i]!=0;i++);n!==i&&e[i]<=t||(e[n++]=r)}return p=e,e}function b(e){for(var n=h(),r=0;r<n.length;r++)if(0===e.modn(n[r]))return 0===e.cmpn(n[r]);return!0}function q(e){var r=n.mont(e);return 0===f.toRed(r).redPow(e.subn(1)).fromRed().cmpn(1)}function M(t,u){if(t<16)return new n(2===u||5===u?[140,123]:[140,39]);var w,s;for(u=new n(u);;){for(w=new n(e(Math.ceil(t/8)));w.bitLength()>t;)w.ishrn(1);if(w.isEven()&&w.iadd(o),w.testn(1)||w.iadd(f),u.cmp(f)){if(!u.cmp(a))for(;w.mod(d).cmp(m);)w.iadd(l)}else for(;w.mod(r).cmp(c);)w.iadd(l);if(b(s=w.shrn(1))&&b(w)&&q(s)&&q(w)&&i.test(s)&&i.test(w))return w}}
},{"randombytes":"XJNj","bn.js":"VXic","miller-rabin":"VQun"}],"nq14":[function(require,module,exports) {
module.exports={modp1:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a63a3620ffffffffffffffff"},modp2:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece65381ffffffffffffffff"},modp5:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca237327ffffffffffffffff"},modp14:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aacaa68ffffffffffffffff"},modp15:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a93ad2caffffffffffffffff"},modp16:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c934063199ffffffffffffffff"},modp17:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dcc4024ffffffffffffffff"},modp18:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dbe115974a3926f12fee5e438777cb6a932df8cd8bec4d073b931ba3bc832b68d9dd300741fa7bf8afc47ed2576f6936ba424663aab639c5ae4f5683423b4742bf1c978238f16cbe39d652de3fdb8befc848ad922222e04a4037c0713eb57a81a23f0c73473fc646cea306b4bcbc8862f8385ddfa9d4b7fa2c087e879683303ed5bdd3a062b3cf5b3a278a66d2a13f83f44f82ddf310ee074ab6a364597e899a0255dc164f31cc50846851df9ab48195ded7ea1b1d510bd7ee74d73faf36bc31ecfa268359046f4eb879f924009438b481c6cd7889a002ed5ee382bc9190da6fc026e479558e4475677e9aa9e3050e2765694dfc81f56e880b96e7160c980dd98edd3dfffffffffffffffff"}};
},{}],"SXPn":[function(require,module,exports) {
var Buffer = require("buffer").Buffer;
var e=require("buffer").Buffer,t=require("bn.js"),r=require("miller-rabin"),i=new r,n=new t(24),o=new t(11),s=new t(10),u=new t(3),p=new t(7),h=require("./generatePrime"),f=require("randombytes");function _(r,i){return i=i||"utf8",e.isBuffer(r)||(r=new e(r,i)),this._pub=new t(r),this}function m(r,i){return i=i||"utf8",e.isBuffer(r)||(r=new e(r,i)),this._priv=new t(r),this}module.exports=g;var c={};function a(e,t){var r=t.toString("hex"),f=[r,e.toString(16)].join("_");if(f in c)return c[f];var _,m=0;if(e.isEven()||!h.simpleSieve||!h.fermatTest(e)||!i.test(e))return m+=1,m+="02"===r||"05"===r?8:4,c[f]=m,m;switch(i.test(e.shrn(1))||(m+=2),r){case"02":e.mod(n).cmp(o)&&(m+=8);break;case"05":(_=e.mod(s)).cmp(u)&&_.cmp(p)&&(m+=8);break;default:m+=4}return c[f]=m,m}function g(e,r,i){this.setGenerator(r),this.__prime=new t(e),this._prime=t.mont(this.__prime),this._primeLen=e.length,this._pub=void 0,this._priv=void 0,this._primeCode=void 0,i?(this.setPublicKey=_,this.setPrivateKey=m):this._primeCode=8}function v(t,r){var i=new e(t.toArray());return r?i.toString(r):i}Object.defineProperty(g.prototype,"verifyError",{enumerable:!0,get:function(){return"number"!=typeof this._primeCode&&(this._primeCode=a(this.__prime,this.__gen)),this._primeCode}}),g.prototype.generateKeys=function(){return this._priv||(this._priv=new t(f(this._primeLen))),this._pub=this._gen.toRed(this._prime).redPow(this._priv).fromRed(),this.getPublicKey()},g.prototype.computeSecret=function(r){var i=(r=(r=new t(r)).toRed(this._prime)).redPow(this._priv).fromRed(),n=new e(i.toArray()),o=this.getPrime();if(n.length<o.length){var s=new e(o.length-n.length);s.fill(0),n=e.concat([s,n])}return n},g.prototype.getPublicKey=function(e){return v(this._pub,e)},g.prototype.getPrivateKey=function(e){return v(this._priv,e)},g.prototype.getPrime=function(e){return v(this.__prime,e)},g.prototype.getGenerator=function(e){return v(this._gen,e)},g.prototype.setGenerator=function(r,i){return i=i||"utf8",e.isBuffer(r)||(r=new e(r,i)),this.__gen=r,this._gen=new t(r),this};
},{"bn.js":"VXic","miller-rabin":"VQun","./generatePrime":"Lj8n","randombytes":"XJNj","buffer":"peL6"}],"WFL2":[function(require,module,exports) {
var Buffer = require("buffer").Buffer;
var e=require("buffer").Buffer,r=require("./lib/generatePrime"),i=require("./lib/primes.json"),n=require("./lib/dh");function f(r){var f=new e(i[r].prime,"hex"),a=new e(i[r].gen,"hex");return new n(f,a)}var a={binary:!0,hex:!0,base64:!0};function u(i,f,t,l){return e.isBuffer(f)||void 0===a[f]?u(i,"binary",f,t):(f=f||"binary",l=l||"binary",t=t||new e([2]),e.isBuffer(t)||(t=new e(t,l)),"number"==typeof i?new n(r(i,t),t,!0):(e.isBuffer(i)||(i=new e(i,f)),new n(i,t,!0)))}exports.DiffieHellmanGroup=exports.createDiffieHellmanGroup=exports.getDiffieHellman=f,exports.createDiffieHellman=exports.DiffieHellman=u;
},{"./lib/generatePrime":"Lj8n","./lib/primes.json":"nq14","./lib/dh":"SXPn","buffer":"peL6"}],"BOxy":[function(require,module,exports) {
var Buffer = require("buffer").Buffer;
var t=require("buffer").Buffer;!function(t,i){"use strict";function r(t,i){if(!t)throw new Error(i||"Assertion failed")}function n(t,i){t.super_=i;var r=function(){};r.prototype=i.prototype,t.prototype=new r,t.prototype.constructor=t}function h(t,i,r){if(h.isBN(t))return t;this.negative=0,this.words=null,this.length=0,this.red=null,null!==t&&("le"!==i&&"be"!==i||(r=i,i=10),this._init(t||0,i||10,r||"be"))}var e;"object"==typeof t?t.exports=h:i.BN=h,h.BN=h,h.wordSize=26;try{e="undefined"!=typeof window&&void 0!==window.Buffer?window.Buffer:require("buffer").Buffer}catch(B){}function o(t,i){var n=t.charCodeAt(i);return n>=48&&n<=57?n-48:n>=65&&n<=70?n-55:n>=97&&n<=102?n-87:void r(!1,"Invalid character in "+t)}function s(t,i,r){var n=o(t,r);return r-1>=i&&(n|=o(t,r-1)<<4),n}function u(t,i,n,h){for(var e=0,o=0,s=Math.min(t.length,n),u=i;u<s;u++){var a=t.charCodeAt(u)-48;e*=h,o=a>=49?a-49+10:a>=17?a-17+10:a,r(a>=0&&o<h,"Invalid character"),e+=o}return e}function a(t,i){t.words=i.words,t.length=i.length,t.negative=i.negative,t.red=i.red}if(h.isBN=function(t){return t instanceof h||null!==t&&"object"==typeof t&&t.constructor.wordSize===h.wordSize&&Array.isArray(t.words)},h.max=function(t,i){return t.cmp(i)>0?t:i},h.min=function(t,i){return t.cmp(i)<0?t:i},h.prototype._init=function(t,i,n){if("number"==typeof t)return this._initNumber(t,i,n);if("object"==typeof t)return this._initArray(t,i,n);"hex"===i&&(i=16),r(i===(0|i)&&i>=2&&i<=36);var h=0;"-"===(t=t.toString().replace(/\s+/g,""))[0]&&(h++,this.negative=1),h<t.length&&(16===i?this._parseHex(t,h,n):(this._parseBase(t,i,h),"le"===n&&this._initArray(this.toArray(),i,n)))},h.prototype._initNumber=function(t,i,n){t<0&&(this.negative=1,t=-t),t<67108864?(this.words=[67108863&t],this.length=1):t<4503599627370496?(this.words=[67108863&t,t/67108864&67108863],this.length=2):(r(t<9007199254740992),this.words=[67108863&t,t/67108864&67108863,1],this.length=3),"le"===n&&this._initArray(this.toArray(),i,n)},h.prototype._initArray=function(t,i,n){if(r("number"==typeof t.length),t.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(t.length/3),this.words=new Array(this.length);for(var h=0;h<this.length;h++)this.words[h]=0;var e,o,s=0;if("be"===n)for(h=t.length-1,e=0;h>=0;h-=3)o=t[h]|t[h-1]<<8|t[h-2]<<16,this.words[e]|=o<<s&67108863,this.words[e+1]=o>>>26-s&67108863,(s+=24)>=26&&(s-=26,e++);else if("le"===n)for(h=0,e=0;h<t.length;h+=3)o=t[h]|t[h+1]<<8|t[h+2]<<16,this.words[e]|=o<<s&67108863,this.words[e+1]=o>>>26-s&67108863,(s+=24)>=26&&(s-=26,e++);return this._strip()},h.prototype._parseHex=function(t,i,r){this.length=Math.ceil((t.length-i)/6),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var h,e=0,o=0;if("be"===r)for(n=t.length-1;n>=i;n-=2)h=s(t,i,n)<<e,this.words[o]|=67108863&h,e>=18?(e-=18,o+=1,this.words[o]|=h>>>26):e+=8;else for(n=(t.length-i)%2==0?i+1:i;n<t.length;n+=2)h=s(t,i,n)<<e,this.words[o]|=67108863&h,e>=18?(e-=18,o+=1,this.words[o]|=h>>>26):e+=8;this._strip()},h.prototype._parseBase=function(t,i,r){this.words=[0],this.length=1;for(var n=0,h=1;h<=67108863;h*=i)n++;n--,h=h/i|0;for(var e=t.length-r,o=e%n,s=Math.min(e,e-o)+r,a=0,l=r;l<s;l+=n)a=u(t,l,l+n,i),this.imuln(h),this.words[0]+a<67108864?this.words[0]+=a:this._iaddn(a);if(0!==o){var m=1;for(a=u(t,l,t.length,i),l=0;l<o;l++)m*=i;this.imuln(m),this.words[0]+a<67108864?this.words[0]+=a:this._iaddn(a)}this._strip()},h.prototype.copy=function(t){t.words=new Array(this.length);for(var i=0;i<this.length;i++)t.words[i]=this.words[i];t.length=this.length,t.negative=this.negative,t.red=this.red},h.prototype._move=function(t){a(t,this)},h.prototype.clone=function(){var t=new h(null);return this.copy(t),t},h.prototype._expand=function(t){for(;this.length<t;)this.words[this.length++]=0;return this},h.prototype._strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},h.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},"undefined"!=typeof Symbol&&"function"==typeof Symbol.for)try{h.prototype[Symbol.for("nodejs.util.inspect.custom")]=l}catch(B){h.prototype.inspect=l}else h.prototype.inspect=l;function l(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var m=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],f=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],d=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];h.prototype.toString=function(t,i){var n;if(i=0|i||1,16===(t=t||10)||"hex"===t){n="";for(var h=0,e=0,o=0;o<this.length;o++){var s=this.words[o],u=(16777215&(s<<h|e)).toString(16);n=0!==(e=s>>>24-h&16777215)||o!==this.length-1?m[6-u.length]+u+n:u+n,(h+=2)>=26&&(h-=26,o--)}for(0!==e&&(n=e.toString(16)+n);n.length%i!=0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}if(t===(0|t)&&t>=2&&t<=36){var a=f[t],l=d[t];n="";var p=this.clone();for(p.negative=0;!p.isZero();){var M=p.modrn(l).toString(t);n=(p=p.idivn(l)).isZero()?M+n:m[a-M.length]+M+n}for(this.isZero()&&(n="0"+n);n.length%i!=0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}r(!1,"Base should be between 2 and 36")},h.prototype.toNumber=function(){var t=this.words[0];return 2===this.length?t+=67108864*this.words[1]:3===this.length&&1===this.words[2]?t+=4503599627370496+67108864*this.words[1]:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-t:t},h.prototype.toJSON=function(){return this.toString(16,2)},e&&(h.prototype.toBuffer=function(t,i){return this.toArrayLike(e,t,i)}),h.prototype.toArray=function(t,i){return this.toArrayLike(Array,t,i)};function p(t,i,r){r.negative=i.negative^t.negative;var n=t.length+i.length|0;r.length=n,n=n-1|0;var h=0|t.words[0],e=0|i.words[0],o=h*e,s=67108863&o,u=o/67108864|0;r.words[0]=s;for(var a=1;a<n;a++){for(var l=u>>>26,m=67108863&u,f=Math.min(a,i.length-1),d=Math.max(0,a-t.length+1);d<=f;d++){var p=a-d|0;l+=(o=(h=0|t.words[p])*(e=0|i.words[d])+m)/67108864|0,m=67108863&o}r.words[a]=0|m,u=0|l}return 0!==u?r.words[a]=0|u:r.length--,r._strip()}h.prototype.toArrayLike=function(t,i,n){this._strip();var h=this.byteLength(),e=n||Math.max(1,h);r(h<=e,"byte array longer than desired length"),r(e>0,"Requested array length <= 0");var o=function(t,i){return t.allocUnsafe?t.allocUnsafe(i):new t(i)}(t,e);return this["_toArrayLike"+("le"===i?"LE":"BE")](o,h),o},h.prototype._toArrayLikeLE=function(t,i){for(var r=0,n=0,h=0,e=0;h<this.length;h++){var o=this.words[h]<<e|n;t[r++]=255&o,r<t.length&&(t[r++]=o>>8&255),r<t.length&&(t[r++]=o>>16&255),6===e?(r<t.length&&(t[r++]=o>>24&255),n=0,e=0):(n=o>>>24,e+=2)}if(r<t.length)for(t[r++]=n;r<t.length;)t[r++]=0},h.prototype._toArrayLikeBE=function(t,i){for(var r=t.length-1,n=0,h=0,e=0;h<this.length;h++){var o=this.words[h]<<e|n;t[r--]=255&o,r>=0&&(t[r--]=o>>8&255),r>=0&&(t[r--]=o>>16&255),6===e?(r>=0&&(t[r--]=o>>24&255),n=0,e=0):(n=o>>>24,e+=2)}if(r>=0)for(t[r--]=n;r>=0;)t[r--]=0},Math.clz32?h.prototype._countBits=function(t){return 32-Math.clz32(t)}:h.prototype._countBits=function(t){var i=t,r=0;return i>=4096&&(r+=13,i>>>=13),i>=64&&(r+=7,i>>>=7),i>=8&&(r+=4,i>>>=4),i>=2&&(r+=2,i>>>=2),r+i},h.prototype._zeroBits=function(t){if(0===t)return 26;var i=t,r=0;return 0==(8191&i)&&(r+=13,i>>>=13),0==(127&i)&&(r+=7,i>>>=7),0==(15&i)&&(r+=4,i>>>=4),0==(3&i)&&(r+=2,i>>>=2),0==(1&i)&&r++,r},h.prototype.bitLength=function(){var t=this.words[this.length-1],i=this._countBits(t);return 26*(this.length-1)+i},h.prototype.zeroBits=function(){if(this.isZero())return 0;for(var t=0,i=0;i<this.length;i++){var r=this._zeroBits(this.words[i]);if(t+=r,26!==r)break}return t},h.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},h.prototype.toTwos=function(t){return 0!==this.negative?this.abs().inotn(t).iaddn(1):this.clone()},h.prototype.fromTwos=function(t){return this.testn(t-1)?this.notn(t).iaddn(1).ineg():this.clone()},h.prototype.isNeg=function(){return 0!==this.negative},h.prototype.neg=function(){return this.clone().ineg()},h.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},h.prototype.iuor=function(t){for(;this.length<t.length;)this.words[this.length++]=0;for(var i=0;i<t.length;i++)this.words[i]=this.words[i]|t.words[i];return this._strip()},h.prototype.ior=function(t){return r(0==(this.negative|t.negative)),this.iuor(t)},h.prototype.or=function(t){return this.length>t.length?this.clone().ior(t):t.clone().ior(this)},h.prototype.uor=function(t){return this.length>t.length?this.clone().iuor(t):t.clone().iuor(this)},h.prototype.iuand=function(t){var i;i=this.length>t.length?t:this;for(var r=0;r<i.length;r++)this.words[r]=this.words[r]&t.words[r];return this.length=i.length,this._strip()},h.prototype.iand=function(t){return r(0==(this.negative|t.negative)),this.iuand(t)},h.prototype.and=function(t){return this.length>t.length?this.clone().iand(t):t.clone().iand(this)},h.prototype.uand=function(t){return this.length>t.length?this.clone().iuand(t):t.clone().iuand(this)},h.prototype.iuxor=function(t){var i,r;this.length>t.length?(i=this,r=t):(i=t,r=this);for(var n=0;n<r.length;n++)this.words[n]=i.words[n]^r.words[n];if(this!==i)for(;n<i.length;n++)this.words[n]=i.words[n];return this.length=i.length,this._strip()},h.prototype.ixor=function(t){return r(0==(this.negative|t.negative)),this.iuxor(t)},h.prototype.xor=function(t){return this.length>t.length?this.clone().ixor(t):t.clone().ixor(this)},h.prototype.uxor=function(t){return this.length>t.length?this.clone().iuxor(t):t.clone().iuxor(this)},h.prototype.inotn=function(t){r("number"==typeof t&&t>=0);var i=0|Math.ceil(t/26),n=t%26;this._expand(i),n>0&&i--;for(var h=0;h<i;h++)this.words[h]=67108863&~this.words[h];return n>0&&(this.words[h]=~this.words[h]&67108863>>26-n),this._strip()},h.prototype.notn=function(t){return this.clone().inotn(t)},h.prototype.setn=function(t,i){r("number"==typeof t&&t>=0);var n=t/26|0,h=t%26;return this._expand(n+1),this.words[n]=i?this.words[n]|1<<h:this.words[n]&~(1<<h),this._strip()},h.prototype.iadd=function(t){var i,r,n;if(0!==this.negative&&0===t.negative)return this.negative=0,i=this.isub(t),this.negative^=1,this._normSign();if(0===this.negative&&0!==t.negative)return t.negative=0,i=this.isub(t),t.negative=1,i._normSign();this.length>t.length?(r=this,n=t):(r=t,n=this);for(var h=0,e=0;e<n.length;e++)i=(0|r.words[e])+(0|n.words[e])+h,this.words[e]=67108863&i,h=i>>>26;for(;0!==h&&e<r.length;e++)i=(0|r.words[e])+h,this.words[e]=67108863&i,h=i>>>26;if(this.length=r.length,0!==h)this.words[this.length]=h,this.length++;else if(r!==this)for(;e<r.length;e++)this.words[e]=r.words[e];return this},h.prototype.add=function(t){var i;return 0!==t.negative&&0===this.negative?(t.negative=0,i=this.sub(t),t.negative^=1,i):0===t.negative&&0!==this.negative?(this.negative=0,i=t.sub(this),this.negative=1,i):this.length>t.length?this.clone().iadd(t):t.clone().iadd(this)},h.prototype.isub=function(t){if(0!==t.negative){t.negative=0;var i=this.iadd(t);return t.negative=1,i._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(t),this.negative=1,this._normSign();var r,n,h=this.cmp(t);if(0===h)return this.negative=0,this.length=1,this.words[0]=0,this;h>0?(r=this,n=t):(r=t,n=this);for(var e=0,o=0;o<n.length;o++)e=(i=(0|r.words[o])-(0|n.words[o])+e)>>26,this.words[o]=67108863&i;for(;0!==e&&o<r.length;o++)e=(i=(0|r.words[o])+e)>>26,this.words[o]=67108863&i;if(0===e&&o<r.length&&r!==this)for(;o<r.length;o++)this.words[o]=r.words[o];return this.length=Math.max(this.length,o),r!==this&&(this.negative=1),this._strip()},h.prototype.sub=function(t){return this.clone().isub(t)};var M=function(t,i,r){var n,h,e,o=t.words,s=i.words,u=r.words,a=0,l=0|o[0],m=8191&l,f=l>>>13,d=0|o[1],p=8191&d,M=d>>>13,v=0|o[2],g=8191&v,c=v>>>13,w=0|o[3],y=8191&w,b=w>>>13,_=0|o[4],k=8191&_,A=_>>>13,S=0|o[5],x=8191&S,B=S>>>13,q=0|o[6],R=8191&q,Z=q>>>13,L=0|o[7],N=8191&L,I=L>>>13,E=0|o[8],z=8191&E,T=E>>>13,O=0|o[9],j=8191&O,K=O>>>13,P=0|s[0],F=8191&P,U=P>>>13,C=0|s[1],D=8191&C,H=C>>>13,J=0|s[2],G=8191&J,Q=J>>>13,V=0|s[3],W=8191&V,X=V>>>13,Y=0|s[4],$=8191&Y,tt=Y>>>13,it=0|s[5],rt=8191&it,nt=it>>>13,ht=0|s[6],et=8191&ht,ot=ht>>>13,st=0|s[7],ut=8191&st,at=st>>>13,lt=0|s[8],mt=8191&lt,ft=lt>>>13,dt=0|s[9],pt=8191&dt,Mt=dt>>>13;r.negative=t.negative^i.negative,r.length=19;var vt=(a+(n=Math.imul(m,F))|0)+((8191&(h=(h=Math.imul(m,U))+Math.imul(f,F)|0))<<13)|0;a=((e=Math.imul(f,U))+(h>>>13)|0)+(vt>>>26)|0,vt&=67108863,n=Math.imul(p,F),h=(h=Math.imul(p,U))+Math.imul(M,F)|0,e=Math.imul(M,U);var gt=(a+(n=n+Math.imul(m,D)|0)|0)+((8191&(h=(h=h+Math.imul(m,H)|0)+Math.imul(f,D)|0))<<13)|0;a=((e=e+Math.imul(f,H)|0)+(h>>>13)|0)+(gt>>>26)|0,gt&=67108863,n=Math.imul(g,F),h=(h=Math.imul(g,U))+Math.imul(c,F)|0,e=Math.imul(c,U),n=n+Math.imul(p,D)|0,h=(h=h+Math.imul(p,H)|0)+Math.imul(M,D)|0,e=e+Math.imul(M,H)|0;var ct=(a+(n=n+Math.imul(m,G)|0)|0)+((8191&(h=(h=h+Math.imul(m,Q)|0)+Math.imul(f,G)|0))<<13)|0;a=((e=e+Math.imul(f,Q)|0)+(h>>>13)|0)+(ct>>>26)|0,ct&=67108863,n=Math.imul(y,F),h=(h=Math.imul(y,U))+Math.imul(b,F)|0,e=Math.imul(b,U),n=n+Math.imul(g,D)|0,h=(h=h+Math.imul(g,H)|0)+Math.imul(c,D)|0,e=e+Math.imul(c,H)|0,n=n+Math.imul(p,G)|0,h=(h=h+Math.imul(p,Q)|0)+Math.imul(M,G)|0,e=e+Math.imul(M,Q)|0;var wt=(a+(n=n+Math.imul(m,W)|0)|0)+((8191&(h=(h=h+Math.imul(m,X)|0)+Math.imul(f,W)|0))<<13)|0;a=((e=e+Math.imul(f,X)|0)+(h>>>13)|0)+(wt>>>26)|0,wt&=67108863,n=Math.imul(k,F),h=(h=Math.imul(k,U))+Math.imul(A,F)|0,e=Math.imul(A,U),n=n+Math.imul(y,D)|0,h=(h=h+Math.imul(y,H)|0)+Math.imul(b,D)|0,e=e+Math.imul(b,H)|0,n=n+Math.imul(g,G)|0,h=(h=h+Math.imul(g,Q)|0)+Math.imul(c,G)|0,e=e+Math.imul(c,Q)|0,n=n+Math.imul(p,W)|0,h=(h=h+Math.imul(p,X)|0)+Math.imul(M,W)|0,e=e+Math.imul(M,X)|0;var yt=(a+(n=n+Math.imul(m,$)|0)|0)+((8191&(h=(h=h+Math.imul(m,tt)|0)+Math.imul(f,$)|0))<<13)|0;a=((e=e+Math.imul(f,tt)|0)+(h>>>13)|0)+(yt>>>26)|0,yt&=67108863,n=Math.imul(x,F),h=(h=Math.imul(x,U))+Math.imul(B,F)|0,e=Math.imul(B,U),n=n+Math.imul(k,D)|0,h=(h=h+Math.imul(k,H)|0)+Math.imul(A,D)|0,e=e+Math.imul(A,H)|0,n=n+Math.imul(y,G)|0,h=(h=h+Math.imul(y,Q)|0)+Math.imul(b,G)|0,e=e+Math.imul(b,Q)|0,n=n+Math.imul(g,W)|0,h=(h=h+Math.imul(g,X)|0)+Math.imul(c,W)|0,e=e+Math.imul(c,X)|0,n=n+Math.imul(p,$)|0,h=(h=h+Math.imul(p,tt)|0)+Math.imul(M,$)|0,e=e+Math.imul(M,tt)|0;var bt=(a+(n=n+Math.imul(m,rt)|0)|0)+((8191&(h=(h=h+Math.imul(m,nt)|0)+Math.imul(f,rt)|0))<<13)|0;a=((e=e+Math.imul(f,nt)|0)+(h>>>13)|0)+(bt>>>26)|0,bt&=67108863,n=Math.imul(R,F),h=(h=Math.imul(R,U))+Math.imul(Z,F)|0,e=Math.imul(Z,U),n=n+Math.imul(x,D)|0,h=(h=h+Math.imul(x,H)|0)+Math.imul(B,D)|0,e=e+Math.imul(B,H)|0,n=n+Math.imul(k,G)|0,h=(h=h+Math.imul(k,Q)|0)+Math.imul(A,G)|0,e=e+Math.imul(A,Q)|0,n=n+Math.imul(y,W)|0,h=(h=h+Math.imul(y,X)|0)+Math.imul(b,W)|0,e=e+Math.imul(b,X)|0,n=n+Math.imul(g,$)|0,h=(h=h+Math.imul(g,tt)|0)+Math.imul(c,$)|0,e=e+Math.imul(c,tt)|0,n=n+Math.imul(p,rt)|0,h=(h=h+Math.imul(p,nt)|0)+Math.imul(M,rt)|0,e=e+Math.imul(M,nt)|0;var _t=(a+(n=n+Math.imul(m,et)|0)|0)+((8191&(h=(h=h+Math.imul(m,ot)|0)+Math.imul(f,et)|0))<<13)|0;a=((e=e+Math.imul(f,ot)|0)+(h>>>13)|0)+(_t>>>26)|0,_t&=67108863,n=Math.imul(N,F),h=(h=Math.imul(N,U))+Math.imul(I,F)|0,e=Math.imul(I,U),n=n+Math.imul(R,D)|0,h=(h=h+Math.imul(R,H)|0)+Math.imul(Z,D)|0,e=e+Math.imul(Z,H)|0,n=n+Math.imul(x,G)|0,h=(h=h+Math.imul(x,Q)|0)+Math.imul(B,G)|0,e=e+Math.imul(B,Q)|0,n=n+Math.imul(k,W)|0,h=(h=h+Math.imul(k,X)|0)+Math.imul(A,W)|0,e=e+Math.imul(A,X)|0,n=n+Math.imul(y,$)|0,h=(h=h+Math.imul(y,tt)|0)+Math.imul(b,$)|0,e=e+Math.imul(b,tt)|0,n=n+Math.imul(g,rt)|0,h=(h=h+Math.imul(g,nt)|0)+Math.imul(c,rt)|0,e=e+Math.imul(c,nt)|0,n=n+Math.imul(p,et)|0,h=(h=h+Math.imul(p,ot)|0)+Math.imul(M,et)|0,e=e+Math.imul(M,ot)|0;var kt=(a+(n=n+Math.imul(m,ut)|0)|0)+((8191&(h=(h=h+Math.imul(m,at)|0)+Math.imul(f,ut)|0))<<13)|0;a=((e=e+Math.imul(f,at)|0)+(h>>>13)|0)+(kt>>>26)|0,kt&=67108863,n=Math.imul(z,F),h=(h=Math.imul(z,U))+Math.imul(T,F)|0,e=Math.imul(T,U),n=n+Math.imul(N,D)|0,h=(h=h+Math.imul(N,H)|0)+Math.imul(I,D)|0,e=e+Math.imul(I,H)|0,n=n+Math.imul(R,G)|0,h=(h=h+Math.imul(R,Q)|0)+Math.imul(Z,G)|0,e=e+Math.imul(Z,Q)|0,n=n+Math.imul(x,W)|0,h=(h=h+Math.imul(x,X)|0)+Math.imul(B,W)|0,e=e+Math.imul(B,X)|0,n=n+Math.imul(k,$)|0,h=(h=h+Math.imul(k,tt)|0)+Math.imul(A,$)|0,e=e+Math.imul(A,tt)|0,n=n+Math.imul(y,rt)|0,h=(h=h+Math.imul(y,nt)|0)+Math.imul(b,rt)|0,e=e+Math.imul(b,nt)|0,n=n+Math.imul(g,et)|0,h=(h=h+Math.imul(g,ot)|0)+Math.imul(c,et)|0,e=e+Math.imul(c,ot)|0,n=n+Math.imul(p,ut)|0,h=(h=h+Math.imul(p,at)|0)+Math.imul(M,ut)|0,e=e+Math.imul(M,at)|0;var At=(a+(n=n+Math.imul(m,mt)|0)|0)+((8191&(h=(h=h+Math.imul(m,ft)|0)+Math.imul(f,mt)|0))<<13)|0;a=((e=e+Math.imul(f,ft)|0)+(h>>>13)|0)+(At>>>26)|0,At&=67108863,n=Math.imul(j,F),h=(h=Math.imul(j,U))+Math.imul(K,F)|0,e=Math.imul(K,U),n=n+Math.imul(z,D)|0,h=(h=h+Math.imul(z,H)|0)+Math.imul(T,D)|0,e=e+Math.imul(T,H)|0,n=n+Math.imul(N,G)|0,h=(h=h+Math.imul(N,Q)|0)+Math.imul(I,G)|0,e=e+Math.imul(I,Q)|0,n=n+Math.imul(R,W)|0,h=(h=h+Math.imul(R,X)|0)+Math.imul(Z,W)|0,e=e+Math.imul(Z,X)|0,n=n+Math.imul(x,$)|0,h=(h=h+Math.imul(x,tt)|0)+Math.imul(B,$)|0,e=e+Math.imul(B,tt)|0,n=n+Math.imul(k,rt)|0,h=(h=h+Math.imul(k,nt)|0)+Math.imul(A,rt)|0,e=e+Math.imul(A,nt)|0,n=n+Math.imul(y,et)|0,h=(h=h+Math.imul(y,ot)|0)+Math.imul(b,et)|0,e=e+Math.imul(b,ot)|0,n=n+Math.imul(g,ut)|0,h=(h=h+Math.imul(g,at)|0)+Math.imul(c,ut)|0,e=e+Math.imul(c,at)|0,n=n+Math.imul(p,mt)|0,h=(h=h+Math.imul(p,ft)|0)+Math.imul(M,mt)|0,e=e+Math.imul(M,ft)|0;var St=(a+(n=n+Math.imul(m,pt)|0)|0)+((8191&(h=(h=h+Math.imul(m,Mt)|0)+Math.imul(f,pt)|0))<<13)|0;a=((e=e+Math.imul(f,Mt)|0)+(h>>>13)|0)+(St>>>26)|0,St&=67108863,n=Math.imul(j,D),h=(h=Math.imul(j,H))+Math.imul(K,D)|0,e=Math.imul(K,H),n=n+Math.imul(z,G)|0,h=(h=h+Math.imul(z,Q)|0)+Math.imul(T,G)|0,e=e+Math.imul(T,Q)|0,n=n+Math.imul(N,W)|0,h=(h=h+Math.imul(N,X)|0)+Math.imul(I,W)|0,e=e+Math.imul(I,X)|0,n=n+Math.imul(R,$)|0,h=(h=h+Math.imul(R,tt)|0)+Math.imul(Z,$)|0,e=e+Math.imul(Z,tt)|0,n=n+Math.imul(x,rt)|0,h=(h=h+Math.imul(x,nt)|0)+Math.imul(B,rt)|0,e=e+Math.imul(B,nt)|0,n=n+Math.imul(k,et)|0,h=(h=h+Math.imul(k,ot)|0)+Math.imul(A,et)|0,e=e+Math.imul(A,ot)|0,n=n+Math.imul(y,ut)|0,h=(h=h+Math.imul(y,at)|0)+Math.imul(b,ut)|0,e=e+Math.imul(b,at)|0,n=n+Math.imul(g,mt)|0,h=(h=h+Math.imul(g,ft)|0)+Math.imul(c,mt)|0,e=e+Math.imul(c,ft)|0;var xt=(a+(n=n+Math.imul(p,pt)|0)|0)+((8191&(h=(h=h+Math.imul(p,Mt)|0)+Math.imul(M,pt)|0))<<13)|0;a=((e=e+Math.imul(M,Mt)|0)+(h>>>13)|0)+(xt>>>26)|0,xt&=67108863,n=Math.imul(j,G),h=(h=Math.imul(j,Q))+Math.imul(K,G)|0,e=Math.imul(K,Q),n=n+Math.imul(z,W)|0,h=(h=h+Math.imul(z,X)|0)+Math.imul(T,W)|0,e=e+Math.imul(T,X)|0,n=n+Math.imul(N,$)|0,h=(h=h+Math.imul(N,tt)|0)+Math.imul(I,$)|0,e=e+Math.imul(I,tt)|0,n=n+Math.imul(R,rt)|0,h=(h=h+Math.imul(R,nt)|0)+Math.imul(Z,rt)|0,e=e+Math.imul(Z,nt)|0,n=n+Math.imul(x,et)|0,h=(h=h+Math.imul(x,ot)|0)+Math.imul(B,et)|0,e=e+Math.imul(B,ot)|0,n=n+Math.imul(k,ut)|0,h=(h=h+Math.imul(k,at)|0)+Math.imul(A,ut)|0,e=e+Math.imul(A,at)|0,n=n+Math.imul(y,mt)|0,h=(h=h+Math.imul(y,ft)|0)+Math.imul(b,mt)|0,e=e+Math.imul(b,ft)|0;var Bt=(a+(n=n+Math.imul(g,pt)|0)|0)+((8191&(h=(h=h+Math.imul(g,Mt)|0)+Math.imul(c,pt)|0))<<13)|0;a=((e=e+Math.imul(c,Mt)|0)+(h>>>13)|0)+(Bt>>>26)|0,Bt&=67108863,n=Math.imul(j,W),h=(h=Math.imul(j,X))+Math.imul(K,W)|0,e=Math.imul(K,X),n=n+Math.imul(z,$)|0,h=(h=h+Math.imul(z,tt)|0)+Math.imul(T,$)|0,e=e+Math.imul(T,tt)|0,n=n+Math.imul(N,rt)|0,h=(h=h+Math.imul(N,nt)|0)+Math.imul(I,rt)|0,e=e+Math.imul(I,nt)|0,n=n+Math.imul(R,et)|0,h=(h=h+Math.imul(R,ot)|0)+Math.imul(Z,et)|0,e=e+Math.imul(Z,ot)|0,n=n+Math.imul(x,ut)|0,h=(h=h+Math.imul(x,at)|0)+Math.imul(B,ut)|0,e=e+Math.imul(B,at)|0,n=n+Math.imul(k,mt)|0,h=(h=h+Math.imul(k,ft)|0)+Math.imul(A,mt)|0,e=e+Math.imul(A,ft)|0;var qt=(a+(n=n+Math.imul(y,pt)|0)|0)+((8191&(h=(h=h+Math.imul(y,Mt)|0)+Math.imul(b,pt)|0))<<13)|0;a=((e=e+Math.imul(b,Mt)|0)+(h>>>13)|0)+(qt>>>26)|0,qt&=67108863,n=Math.imul(j,$),h=(h=Math.imul(j,tt))+Math.imul(K,$)|0,e=Math.imul(K,tt),n=n+Math.imul(z,rt)|0,h=(h=h+Math.imul(z,nt)|0)+Math.imul(T,rt)|0,e=e+Math.imul(T,nt)|0,n=n+Math.imul(N,et)|0,h=(h=h+Math.imul(N,ot)|0)+Math.imul(I,et)|0,e=e+Math.imul(I,ot)|0,n=n+Math.imul(R,ut)|0,h=(h=h+Math.imul(R,at)|0)+Math.imul(Z,ut)|0,e=e+Math.imul(Z,at)|0,n=n+Math.imul(x,mt)|0,h=(h=h+Math.imul(x,ft)|0)+Math.imul(B,mt)|0,e=e+Math.imul(B,ft)|0;var Rt=(a+(n=n+Math.imul(k,pt)|0)|0)+((8191&(h=(h=h+Math.imul(k,Mt)|0)+Math.imul(A,pt)|0))<<13)|0;a=((e=e+Math.imul(A,Mt)|0)+(h>>>13)|0)+(Rt>>>26)|0,Rt&=67108863,n=Math.imul(j,rt),h=(h=Math.imul(j,nt))+Math.imul(K,rt)|0,e=Math.imul(K,nt),n=n+Math.imul(z,et)|0,h=(h=h+Math.imul(z,ot)|0)+Math.imul(T,et)|0,e=e+Math.imul(T,ot)|0,n=n+Math.imul(N,ut)|0,h=(h=h+Math.imul(N,at)|0)+Math.imul(I,ut)|0,e=e+Math.imul(I,at)|0,n=n+Math.imul(R,mt)|0,h=(h=h+Math.imul(R,ft)|0)+Math.imul(Z,mt)|0,e=e+Math.imul(Z,ft)|0;var Zt=(a+(n=n+Math.imul(x,pt)|0)|0)+((8191&(h=(h=h+Math.imul(x,Mt)|0)+Math.imul(B,pt)|0))<<13)|0;a=((e=e+Math.imul(B,Mt)|0)+(h>>>13)|0)+(Zt>>>26)|0,Zt&=67108863,n=Math.imul(j,et),h=(h=Math.imul(j,ot))+Math.imul(K,et)|0,e=Math.imul(K,ot),n=n+Math.imul(z,ut)|0,h=(h=h+Math.imul(z,at)|0)+Math.imul(T,ut)|0,e=e+Math.imul(T,at)|0,n=n+Math.imul(N,mt)|0,h=(h=h+Math.imul(N,ft)|0)+Math.imul(I,mt)|0,e=e+Math.imul(I,ft)|0;var Lt=(a+(n=n+Math.imul(R,pt)|0)|0)+((8191&(h=(h=h+Math.imul(R,Mt)|0)+Math.imul(Z,pt)|0))<<13)|0;a=((e=e+Math.imul(Z,Mt)|0)+(h>>>13)|0)+(Lt>>>26)|0,Lt&=67108863,n=Math.imul(j,ut),h=(h=Math.imul(j,at))+Math.imul(K,ut)|0,e=Math.imul(K,at),n=n+Math.imul(z,mt)|0,h=(h=h+Math.imul(z,ft)|0)+Math.imul(T,mt)|0,e=e+Math.imul(T,ft)|0;var Nt=(a+(n=n+Math.imul(N,pt)|0)|0)+((8191&(h=(h=h+Math.imul(N,Mt)|0)+Math.imul(I,pt)|0))<<13)|0;a=((e=e+Math.imul(I,Mt)|0)+(h>>>13)|0)+(Nt>>>26)|0,Nt&=67108863,n=Math.imul(j,mt),h=(h=Math.imul(j,ft))+Math.imul(K,mt)|0,e=Math.imul(K,ft);var It=(a+(n=n+Math.imul(z,pt)|0)|0)+((8191&(h=(h=h+Math.imul(z,Mt)|0)+Math.imul(T,pt)|0))<<13)|0;a=((e=e+Math.imul(T,Mt)|0)+(h>>>13)|0)+(It>>>26)|0,It&=67108863;var Et=(a+(n=Math.imul(j,pt))|0)+((8191&(h=(h=Math.imul(j,Mt))+Math.imul(K,pt)|0))<<13)|0;return a=((e=Math.imul(K,Mt))+(h>>>13)|0)+(Et>>>26)|0,Et&=67108863,u[0]=vt,u[1]=gt,u[2]=ct,u[3]=wt,u[4]=yt,u[5]=bt,u[6]=_t,u[7]=kt,u[8]=At,u[9]=St,u[10]=xt,u[11]=Bt,u[12]=qt,u[13]=Rt,u[14]=Zt,u[15]=Lt,u[16]=Nt,u[17]=It,u[18]=Et,0!==a&&(u[19]=a,r.length++),r};function v(t,i,r){r.negative=i.negative^t.negative,r.length=t.length+i.length;for(var n=0,h=0,e=0;e<r.length-1;e++){var o=h;h=0;for(var s=67108863&n,u=Math.min(e,i.length-1),a=Math.max(0,e-t.length+1);a<=u;a++){var l=e-a,m=(0|t.words[l])*(0|i.words[a]),f=67108863&m;s=67108863&(f=f+s|0),h+=(o=(o=o+(m/67108864|0)|0)+(f>>>26)|0)>>>26,o&=67108863}r.words[e]=s,n=o,o=h}return 0!==n?r.words[e]=n:r.length--,r._strip()}function g(t,i,r){return v(t,i,r)}function c(t,i){this.x=t,this.y=i}Math.imul||(M=p),h.prototype.mulTo=function(t,i){var r=this.length+t.length;return 10===this.length&&10===t.length?M(this,t,i):r<63?p(this,t,i):r<1024?v(this,t,i):g(this,t,i)},c.prototype.makeRBT=function(t){for(var i=new Array(t),r=h.prototype._countBits(t)-1,n=0;n<t;n++)i[n]=this.revBin(n,r,t);return i},c.prototype.revBin=function(t,i,r){if(0===t||t===r-1)return t;for(var n=0,h=0;h<i;h++)n|=(1&t)<<i-h-1,t>>=1;return n},c.prototype.permute=function(t,i,r,n,h,e){for(var o=0;o<e;o++)n[o]=i[t[o]],h[o]=r[t[o]]},c.prototype.transform=function(t,i,r,n,h,e){this.permute(e,t,i,r,n,h);for(var o=1;o<h;o<<=1)for(var s=o<<1,u=Math.cos(2*Math.PI/s),a=Math.sin(2*Math.PI/s),l=0;l<h;l+=s)for(var m=u,f=a,d=0;d<o;d++){var p=r[l+d],M=n[l+d],v=r[l+d+o],g=n[l+d+o],c=m*v-f*g;g=m*g+f*v,v=c,r[l+d]=p+v,n[l+d]=M+g,r[l+d+o]=p-v,n[l+d+o]=M-g,d!==s&&(c=u*m-a*f,f=u*f+a*m,m=c)}},c.prototype.guessLen13b=function(t,i){var r=1|Math.max(i,t),n=1&r,h=0;for(r=r/2|0;r;r>>>=1)h++;return 1<<h+1+n},c.prototype.conjugate=function(t,i,r){if(!(r<=1))for(var n=0;n<r/2;n++){var h=t[n];t[n]=t[r-n-1],t[r-n-1]=h,h=i[n],i[n]=-i[r-n-1],i[r-n-1]=-h}},c.prototype.normalize13b=function(t,i){for(var r=0,n=0;n<i/2;n++){var h=8192*Math.round(t[2*n+1]/i)+Math.round(t[2*n]/i)+r;t[n]=67108863&h,r=h<67108864?0:h/67108864|0}return t},c.prototype.convert13b=function(t,i,n,h){for(var e=0,o=0;o<i;o++)e+=0|t[o],n[2*o]=8191&e,e>>>=13,n[2*o+1]=8191&e,e>>>=13;for(o=2*i;o<h;++o)n[o]=0;r(0===e),r(0==(-8192&e))},c.prototype.stub=function(t){for(var i=new Array(t),r=0;r<t;r++)i[r]=0;return i},c.prototype.mulp=function(t,i,r){var n=2*this.guessLen13b(t.length,i.length),h=this.makeRBT(n),e=this.stub(n),o=new Array(n),s=new Array(n),u=new Array(n),a=new Array(n),l=new Array(n),m=new Array(n),f=r.words;f.length=n,this.convert13b(t.words,t.length,o,n),this.convert13b(i.words,i.length,a,n),this.transform(o,e,s,u,n,h),this.transform(a,e,l,m,n,h);for(var d=0;d<n;d++){var p=s[d]*l[d]-u[d]*m[d];u[d]=s[d]*m[d]+u[d]*l[d],s[d]=p}return this.conjugate(s,u,n),this.transform(s,u,f,e,n,h),this.conjugate(f,e,n),this.normalize13b(f,n),r.negative=t.negative^i.negative,r.length=t.length+i.length,r._strip()},h.prototype.mul=function(t){var i=new h(null);return i.words=new Array(this.length+t.length),this.mulTo(t,i)},h.prototype.mulf=function(t){var i=new h(null);return i.words=new Array(this.length+t.length),g(this,t,i)},h.prototype.imul=function(t){return this.clone().mulTo(t,this)},h.prototype.imuln=function(t){var i=t<0;i&&(t=-t),r("number"==typeof t),r(t<67108864);for(var n=0,h=0;h<this.length;h++){var e=(0|this.words[h])*t,o=(67108863&e)+(67108863&n);n>>=26,n+=e/67108864|0,n+=o>>>26,this.words[h]=67108863&o}return 0!==n&&(this.words[h]=n,this.length++),i?this.ineg():this},h.prototype.muln=function(t){return this.clone().imuln(t)},h.prototype.sqr=function(){return this.mul(this)},h.prototype.isqr=function(){return this.imul(this.clone())},h.prototype.pow=function(t){var i=function(t){for(var i=new Array(t.bitLength()),r=0;r<i.length;r++){var n=r/26|0,h=r%26;i[r]=t.words[n]>>>h&1}return i}(t);if(0===i.length)return new h(1);for(var r=this,n=0;n<i.length&&0===i[n];n++,r=r.sqr());if(++n<i.length)for(var e=r.sqr();n<i.length;n++,e=e.sqr())0!==i[n]&&(r=r.mul(e));return r},h.prototype.iushln=function(t){r("number"==typeof t&&t>=0);var i,n=t%26,h=(t-n)/26,e=67108863>>>26-n<<26-n;if(0!==n){var o=0;for(i=0;i<this.length;i++){var s=this.words[i]&e,u=(0|this.words[i])-s<<n;this.words[i]=u|o,o=s>>>26-n}o&&(this.words[i]=o,this.length++)}if(0!==h){for(i=this.length-1;i>=0;i--)this.words[i+h]=this.words[i];for(i=0;i<h;i++)this.words[i]=0;this.length+=h}return this._strip()},h.prototype.ishln=function(t){return r(0===this.negative),this.iushln(t)},h.prototype.iushrn=function(t,i,n){var h;r("number"==typeof t&&t>=0),h=i?(i-i%26)/26:0;var e=t%26,o=Math.min((t-e)/26,this.length),s=67108863^67108863>>>e<<e,u=n;if(h-=o,h=Math.max(0,h),u){for(var a=0;a<o;a++)u.words[a]=this.words[a];u.length=o}if(0===o);else if(this.length>o)for(this.length-=o,a=0;a<this.length;a++)this.words[a]=this.words[a+o];else this.words[0]=0,this.length=1;var l=0;for(a=this.length-1;a>=0&&(0!==l||a>=h);a--){var m=0|this.words[a];this.words[a]=l<<26-e|m>>>e,l=m&s}return u&&0!==l&&(u.words[u.length++]=l),0===this.length&&(this.words[0]=0,this.length=1),this._strip()},h.prototype.ishrn=function(t,i,n){return r(0===this.negative),this.iushrn(t,i,n)},h.prototype.shln=function(t){return this.clone().ishln(t)},h.prototype.ushln=function(t){return this.clone().iushln(t)},h.prototype.shrn=function(t){return this.clone().ishrn(t)},h.prototype.ushrn=function(t){return this.clone().iushrn(t)},h.prototype.testn=function(t){r("number"==typeof t&&t>=0);var i=t%26,n=(t-i)/26,h=1<<i;return!(this.length<=n)&&!!(this.words[n]&h)},h.prototype.imaskn=function(t){r("number"==typeof t&&t>=0);var i=t%26,n=(t-i)/26;if(r(0===this.negative,"imaskn works only with positive numbers"),this.length<=n)return this;if(0!==i&&n++,this.length=Math.min(n,this.length),0!==i){var h=67108863^67108863>>>i<<i;this.words[this.length-1]&=h}return this._strip()},h.prototype.maskn=function(t){return this.clone().imaskn(t)},h.prototype.iaddn=function(t){return r("number"==typeof t),r(t<67108864),t<0?this.isubn(-t):0!==this.negative?1===this.length&&(0|this.words[0])<=t?(this.words[0]=t-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(t),this.negative=1,this):this._iaddn(t)},h.prototype._iaddn=function(t){this.words[0]+=t;for(var i=0;i<this.length&&this.words[i]>=67108864;i++)this.words[i]-=67108864,i===this.length-1?this.words[i+1]=1:this.words[i+1]++;return this.length=Math.max(this.length,i+1),this},h.prototype.isubn=function(t){if(r("number"==typeof t),r(t<67108864),t<0)return this.iaddn(-t);if(0!==this.negative)return this.negative=0,this.iaddn(t),this.negative=1,this;if(this.words[0]-=t,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var i=0;i<this.length&&this.words[i]<0;i++)this.words[i]+=67108864,this.words[i+1]-=1;return this._strip()},h.prototype.addn=function(t){return this.clone().iaddn(t)},h.prototype.subn=function(t){return this.clone().isubn(t)},h.prototype.iabs=function(){return this.negative=0,this},h.prototype.abs=function(){return this.clone().iabs()},h.prototype._ishlnsubmul=function(t,i,n){var h,e,o=t.length+n;this._expand(o);var s=0;for(h=0;h<t.length;h++){e=(0|this.words[h+n])+s;var u=(0|t.words[h])*i;s=((e-=67108863&u)>>26)-(u/67108864|0),this.words[h+n]=67108863&e}for(;h<this.length-n;h++)s=(e=(0|this.words[h+n])+s)>>26,this.words[h+n]=67108863&e;if(0===s)return this._strip();for(r(-1===s),s=0,h=0;h<this.length;h++)s=(e=-(0|this.words[h])+s)>>26,this.words[h]=67108863&e;return this.negative=1,this._strip()},h.prototype._wordDiv=function(t,i){var r=(this.length,t.length),n=this.clone(),e=t,o=0|e.words[e.length-1];0!==(r=26-this._countBits(o))&&(e=e.ushln(r),n.iushln(r),o=0|e.words[e.length-1]);var s,u=n.length-e.length;if("mod"!==i){(s=new h(null)).length=u+1,s.words=new Array(s.length);for(var a=0;a<s.length;a++)s.words[a]=0}var l=n.clone()._ishlnsubmul(e,1,u);0===l.negative&&(n=l,s&&(s.words[u]=1));for(var m=u-1;m>=0;m--){var f=67108864*(0|n.words[e.length+m])+(0|n.words[e.length+m-1]);for(f=Math.min(f/o|0,67108863),n._ishlnsubmul(e,f,m);0!==n.negative;)f--,n.negative=0,n._ishlnsubmul(e,1,m),n.isZero()||(n.negative^=1);s&&(s.words[m]=f)}return s&&s._strip(),n._strip(),"div"!==i&&0!==r&&n.iushrn(r),{div:s||null,mod:n}},h.prototype.divmod=function(t,i,n){return r(!t.isZero()),this.isZero()?{div:new h(0),mod:new h(0)}:0!==this.negative&&0===t.negative?(s=this.neg().divmod(t,i),"mod"!==i&&(e=s.div.neg()),"div"!==i&&(o=s.mod.neg(),n&&0!==o.negative&&o.iadd(t)),{div:e,mod:o}):0===this.negative&&0!==t.negative?(s=this.divmod(t.neg(),i),"mod"!==i&&(e=s.div.neg()),{div:e,mod:s.mod}):0!=(this.negative&t.negative)?(s=this.neg().divmod(t.neg(),i),"div"!==i&&(o=s.mod.neg(),n&&0!==o.negative&&o.isub(t)),{div:s.div,mod:o}):t.length>this.length||this.cmp(t)<0?{div:new h(0),mod:this}:1===t.length?"div"===i?{div:this.divn(t.words[0]),mod:null}:"mod"===i?{div:null,mod:new h(this.modrn(t.words[0]))}:{div:this.divn(t.words[0]),mod:new h(this.modrn(t.words[0]))}:this._wordDiv(t,i);var e,o,s},h.prototype.div=function(t){return this.divmod(t,"div",!1).div},h.prototype.mod=function(t){return this.divmod(t,"mod",!1).mod},h.prototype.umod=function(t){return this.divmod(t,"mod",!0).mod},h.prototype.divRound=function(t){var i=this.divmod(t);if(i.mod.isZero())return i.div;var r=0!==i.div.negative?i.mod.isub(t):i.mod,n=t.ushrn(1),h=t.andln(1),e=r.cmp(n);return e<0||1===h&&0===e?i.div:0!==i.div.negative?i.div.isubn(1):i.div.iaddn(1)},h.prototype.modrn=function(t){var i=t<0;i&&(t=-t),r(t<=67108863);for(var n=(1<<26)%t,h=0,e=this.length-1;e>=0;e--)h=(n*h+(0|this.words[e]))%t;return i?-h:h},h.prototype.modn=function(t){return this.modrn(t)},h.prototype.idivn=function(t){var i=t<0;i&&(t=-t),r(t<=67108863);for(var n=0,h=this.length-1;h>=0;h--){var e=(0|this.words[h])+67108864*n;this.words[h]=e/t|0,n=e%t}return this._strip(),i?this.ineg():this},h.prototype.divn=function(t){return this.clone().idivn(t)},h.prototype.egcd=function(t){r(0===t.negative),r(!t.isZero());var i=this,n=t.clone();i=0!==i.negative?i.umod(t):i.clone();for(var e=new h(1),o=new h(0),s=new h(0),u=new h(1),a=0;i.isEven()&&n.isEven();)i.iushrn(1),n.iushrn(1),++a;for(var l=n.clone(),m=i.clone();!i.isZero();){for(var f=0,d=1;0==(i.words[0]&d)&&f<26;++f,d<<=1);if(f>0)for(i.iushrn(f);f-- >0;)(e.isOdd()||o.isOdd())&&(e.iadd(l),o.isub(m)),e.iushrn(1),o.iushrn(1);for(var p=0,M=1;0==(n.words[0]&M)&&p<26;++p,M<<=1);if(p>0)for(n.iushrn(p);p-- >0;)(s.isOdd()||u.isOdd())&&(s.iadd(l),u.isub(m)),s.iushrn(1),u.iushrn(1);i.cmp(n)>=0?(i.isub(n),e.isub(s),o.isub(u)):(n.isub(i),s.isub(e),u.isub(o))}return{a:s,b:u,gcd:n.iushln(a)}},h.prototype._invmp=function(t){r(0===t.negative),r(!t.isZero());var i=this,n=t.clone();i=0!==i.negative?i.umod(t):i.clone();for(var e,o=new h(1),s=new h(0),u=n.clone();i.cmpn(1)>0&&n.cmpn(1)>0;){for(var a=0,l=1;0==(i.words[0]&l)&&a<26;++a,l<<=1);if(a>0)for(i.iushrn(a);a-- >0;)o.isOdd()&&o.iadd(u),o.iushrn(1);for(var m=0,f=1;0==(n.words[0]&f)&&m<26;++m,f<<=1);if(m>0)for(n.iushrn(m);m-- >0;)s.isOdd()&&s.iadd(u),s.iushrn(1);i.cmp(n)>=0?(i.isub(n),o.isub(s)):(n.isub(i),s.isub(o))}return(e=0===i.cmpn(1)?o:s).cmpn(0)<0&&e.iadd(t),e},h.prototype.gcd=function(t){if(this.isZero())return t.abs();if(t.isZero())return this.abs();var i=this.clone(),r=t.clone();i.negative=0,r.negative=0;for(var n=0;i.isEven()&&r.isEven();n++)i.iushrn(1),r.iushrn(1);for(;;){for(;i.isEven();)i.iushrn(1);for(;r.isEven();)r.iushrn(1);var h=i.cmp(r);if(h<0){var e=i;i=r,r=e}else if(0===h||0===r.cmpn(1))break;i.isub(r)}return r.iushln(n)},h.prototype.invm=function(t){return this.egcd(t).a.umod(t)},h.prototype.isEven=function(){return 0==(1&this.words[0])},h.prototype.isOdd=function(){return 1==(1&this.words[0])},h.prototype.andln=function(t){return this.words[0]&t},h.prototype.bincn=function(t){r("number"==typeof t);var i=t%26,n=(t-i)/26,h=1<<i;if(this.length<=n)return this._expand(n+1),this.words[n]|=h,this;for(var e=h,o=n;0!==e&&o<this.length;o++){var s=0|this.words[o];e=(s+=e)>>>26,s&=67108863,this.words[o]=s}return 0!==e&&(this.words[o]=e,this.length++),this},h.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},h.prototype.cmpn=function(t){var i,n=t<0;if(0!==this.negative&&!n)return-1;if(0===this.negative&&n)return 1;if(this._strip(),this.length>1)i=1;else{n&&(t=-t),r(t<=67108863,"Number is too big");var h=0|this.words[0];i=h===t?0:h<t?-1:1}return 0!==this.negative?0|-i:i},h.prototype.cmp=function(t){if(0!==this.negative&&0===t.negative)return-1;if(0===this.negative&&0!==t.negative)return 1;var i=this.ucmp(t);return 0!==this.negative?0|-i:i},h.prototype.ucmp=function(t){if(this.length>t.length)return 1;if(this.length<t.length)return-1;for(var i=0,r=this.length-1;r>=0;r--){var n=0|this.words[r],h=0|t.words[r];if(n!==h){n<h?i=-1:n>h&&(i=1);break}}return i},h.prototype.gtn=function(t){return 1===this.cmpn(t)},h.prototype.gt=function(t){return 1===this.cmp(t)},h.prototype.gten=function(t){return this.cmpn(t)>=0},h.prototype.gte=function(t){return this.cmp(t)>=0},h.prototype.ltn=function(t){return-1===this.cmpn(t)},h.prototype.lt=function(t){return-1===this.cmp(t)},h.prototype.lten=function(t){return this.cmpn(t)<=0},h.prototype.lte=function(t){return this.cmp(t)<=0},h.prototype.eqn=function(t){return 0===this.cmpn(t)},h.prototype.eq=function(t){return 0===this.cmp(t)},h.red=function(t){return new S(t)},h.prototype.toRed=function(t){return r(!this.red,"Already a number in reduction context"),r(0===this.negative,"red works only with positives"),t.convertTo(this)._forceRed(t)},h.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},h.prototype._forceRed=function(t){return this.red=t,this},h.prototype.forceRed=function(t){return r(!this.red,"Already a number in reduction context"),this._forceRed(t)},h.prototype.redAdd=function(t){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,t)},h.prototype.redIAdd=function(t){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,t)},h.prototype.redSub=function(t){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,t)},h.prototype.redISub=function(t){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,t)},h.prototype.redShl=function(t){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,t)},h.prototype.redMul=function(t){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.mul(this,t)},h.prototype.redIMul=function(t){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.imul(this,t)},h.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},h.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},h.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},h.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},h.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},h.prototype.redPow=function(t){return r(this.red&&!t.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,t)};var w={k256:null,p224:null,p192:null,p25519:null};function y(t,i){this.name=t,this.p=new h(i,16),this.n=this.p.bitLength(),this.k=new h(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function b(){y.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function _(){y.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function k(){y.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function A(){y.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function S(t){if("string"==typeof t){var i=h._prime(t);this.m=i.p,this.prime=i}else r(t.gtn(1),"modulus must be greater than 1"),this.m=t,this.prime=null}function x(t){S.call(this,t),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new h(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}y.prototype._tmp=function(){var t=new h(null);return t.words=new Array(Math.ceil(this.n/13)),t},y.prototype.ireduce=function(t){var i,r=t;do{this.split(r,this.tmp),i=(r=(r=this.imulK(r)).iadd(this.tmp)).bitLength()}while(i>this.n);var n=i<this.n?-1:r.ucmp(this.p);return 0===n?(r.words[0]=0,r.length=1):n>0?r.isub(this.p):void 0!==r.strip?r.strip():r._strip(),r},y.prototype.split=function(t,i){t.iushrn(this.n,0,i)},y.prototype.imulK=function(t){return t.imul(this.k)},n(b,y),b.prototype.split=function(t,i){for(var r=Math.min(t.length,9),n=0;n<r;n++)i.words[n]=t.words[n];if(i.length=r,t.length<=9)return t.words[0]=0,void(t.length=1);var h=t.words[9];for(i.words[i.length++]=4194303&h,n=10;n<t.length;n++){var e=0|t.words[n];t.words[n-10]=(4194303&e)<<4|h>>>22,h=e}h>>>=22,t.words[n-10]=h,0===h&&t.length>10?t.length-=10:t.length-=9},b.prototype.imulK=function(t){t.words[t.length]=0,t.words[t.length+1]=0,t.length+=2;for(var i=0,r=0;r<t.length;r++){var n=0|t.words[r];i+=977*n,t.words[r]=67108863&i,i=64*n+(i/67108864|0)}return 0===t.words[t.length-1]&&(t.length--,0===t.words[t.length-1]&&t.length--),t},n(_,y),n(k,y),n(A,y),A.prototype.imulK=function(t){for(var i=0,r=0;r<t.length;r++){var n=19*(0|t.words[r])+i,h=67108863&n;n>>>=26,t.words[r]=h,i=n}return 0!==i&&(t.words[t.length++]=i),t},h._prime=function(t){if(w[t])return w[t];var i;if("k256"===t)i=new b;else if("p224"===t)i=new _;else if("p192"===t)i=new k;else{if("p25519"!==t)throw new Error("Unknown prime "+t);i=new A}return w[t]=i,i},S.prototype._verify1=function(t){r(0===t.negative,"red works only with positives"),r(t.red,"red works only with red numbers")},S.prototype._verify2=function(t,i){r(0==(t.negative|i.negative),"red works only with positives"),r(t.red&&t.red===i.red,"red works only with red numbers")},S.prototype.imod=function(t){return this.prime?this.prime.ireduce(t)._forceRed(this):(a(t,t.umod(this.m)._forceRed(this)),t)},S.prototype.neg=function(t){return t.isZero()?t.clone():this.m.sub(t)._forceRed(this)},S.prototype.add=function(t,i){this._verify2(t,i);var r=t.add(i);return r.cmp(this.m)>=0&&r.isub(this.m),r._forceRed(this)},S.prototype.iadd=function(t,i){this._verify2(t,i);var r=t.iadd(i);return r.cmp(this.m)>=0&&r.isub(this.m),r},S.prototype.sub=function(t,i){this._verify2(t,i);var r=t.sub(i);return r.cmpn(0)<0&&r.iadd(this.m),r._forceRed(this)},S.prototype.isub=function(t,i){this._verify2(t,i);var r=t.isub(i);return r.cmpn(0)<0&&r.iadd(this.m),r},S.prototype.shl=function(t,i){return this._verify1(t),this.imod(t.ushln(i))},S.prototype.imul=function(t,i){return this._verify2(t,i),this.imod(t.imul(i))},S.prototype.mul=function(t,i){return this._verify2(t,i),this.imod(t.mul(i))},S.prototype.isqr=function(t){return this.imul(t,t.clone())},S.prototype.sqr=function(t){return this.mul(t,t)},S.prototype.sqrt=function(t){if(t.isZero())return t.clone();var i=this.m.andln(3);if(r(i%2==1),3===i){var n=this.m.add(new h(1)).iushrn(2);return this.pow(t,n)}for(var e=this.m.subn(1),o=0;!e.isZero()&&0===e.andln(1);)o++,e.iushrn(1);r(!e.isZero());var s=new h(1).toRed(this),u=s.redNeg(),a=this.m.subn(1).iushrn(1),l=this.m.bitLength();for(l=new h(2*l*l).toRed(this);0!==this.pow(l,a).cmp(u);)l.redIAdd(u);for(var m=this.pow(l,e),f=this.pow(t,e.addn(1).iushrn(1)),d=this.pow(t,e),p=o;0!==d.cmp(s);){for(var M=d,v=0;0!==M.cmp(s);v++)M=M.redSqr();r(v<p);var g=this.pow(m,new h(1).iushln(p-v-1));f=f.redMul(g),m=g.redSqr(),d=d.redMul(m),p=v}return f},S.prototype.invm=function(t){var i=t._invmp(this.m);return 0!==i.negative?(i.negative=0,this.imod(i).redNeg()):this.imod(i)},S.prototype.pow=function(t,i){if(i.isZero())return new h(1).toRed(this);if(0===i.cmpn(1))return t.clone();var r=new Array(16);r[0]=new h(1).toRed(this),r[1]=t;for(var n=2;n<r.length;n++)r[n]=this.mul(r[n-1],t);var e=r[0],o=0,s=0,u=i.bitLength()%26;for(0===u&&(u=26),n=i.length-1;n>=0;n--){for(var a=i.words[n],l=u-1;l>=0;l--){var m=a>>l&1;e!==r[0]&&(e=this.sqr(e)),0!==m||0!==o?(o<<=1,o|=m,(4===++s||0===n&&0===l)&&(e=this.mul(e,r[o]),s=0,o=0)):s=0}u=26}return e},S.prototype.convertTo=function(t){var i=t.umod(this.m);return i===t?i.clone():i},S.prototype.convertFrom=function(t){var i=t.clone();return i.red=null,i},h.mont=function(t){return new x(t)},n(x,S),x.prototype.convertTo=function(t){return this.imod(t.ushln(this.shift))},x.prototype.convertFrom=function(t){var i=this.imod(t.mul(this.rinv));return i.red=null,i},x.prototype.imul=function(t,i){if(t.isZero()||i.isZero())return t.words[0]=0,t.length=1,t;var r=t.imul(i),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),h=r.isub(n).iushrn(this.shift),e=h;return h.cmp(this.m)>=0?e=h.isub(this.m):h.cmpn(0)<0&&(e=h.iadd(this.m)),e._forceRed(this)},x.prototype.mul=function(t,i){if(t.isZero()||i.isZero())return new h(0)._forceRed(this);var r=t.mul(i),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),e=r.isub(n).iushrn(this.shift),o=e;return e.cmp(this.m)>=0?o=e.isub(this.m):e.cmpn(0)<0&&(o=e.iadd(this.m)),o._forceRed(this)},x.prototype.invm=function(t){return this.imod(t._invmp(this.m).mul(this.r2))._forceRed(this)}}("undefined"==typeof module||module,this);
},{"buffer":"vKFU"}],"Aukv":[function(require,module,exports) {
var Buffer = require("buffer").Buffer;
var e=require("buffer").Buffer,r=require("bn.js"),u=require("randombytes");function o(e){var u=n(e);return{blinder:u.toRed(r.mont(e.modulus)).redPow(new r(e.publicExponent)).fromRed(),unblinder:u.invm(e.modulus)}}function n(e){var o,n=e.modulus.byteLength();do{o=new r(u(n))}while(o.cmp(e.modulus)>=0||!o.umod(e.prime1)||!o.umod(e.prime2));return o}function m(u,n){var m=o(n),d=n.modulus.byteLength(),i=new r(u).mul(m.blinder).umod(n.modulus),t=i.toRed(r.mont(n.prime1)),l=i.toRed(r.mont(n.prime2)),b=n.coefficient,f=n.prime1,p=n.prime2,s=t.redPow(n.exponent1).fromRed(),a=l.redPow(n.exponent2).fromRed(),c=s.isub(a).imul(b).umod(f).imul(p);return a.iadd(c).imul(m.unblinder).umod(n.modulus).toArrayLike(e,"be",d)}m.getr=n,module.exports=m;
},{"bn.js":"BOxy","randombytes":"XJNj","buffer":"peL6"}],"bNi7":[function(require,module,exports) {
module.exports={name:"elliptic",version:"6.5.4",description:"EC cryptography",main:"lib/elliptic.js",files:["lib"],scripts:{lint:"eslint lib test","lint:fix":"npm run lint -- --fix",unit:"istanbul test _mocha --reporter=spec test/index.js",test:"npm run lint && npm run unit",version:"grunt dist && git add dist/"},repository:{type:"git",url:"git@github.com:indutny/elliptic"},keywords:["EC","Elliptic","curve","Cryptography"],author:"Fedor Indutny <fedor@indutny.com>",license:"MIT",bugs:{url:"https://github.com/indutny/elliptic/issues"},homepage:"https://github.com/indutny/elliptic",devDependencies:{brfs:"^2.0.2",coveralls:"^3.1.0",eslint:"^7.6.0",grunt:"^1.2.1","grunt-browserify":"^5.3.0","grunt-cli":"^1.3.2","grunt-contrib-connect":"^3.0.0","grunt-contrib-copy":"^1.0.0","grunt-contrib-uglify":"^5.0.0","grunt-mocha-istanbul":"^5.0.2","grunt-saucelabs":"^9.0.1",istanbul:"^0.4.5",mocha:"^8.0.1"},dependencies:{"bn.js":"^4.11.9",brorand:"^1.1.0","hash.js":"^1.0.0","hmac-drbg":"^1.0.1",inherits:"^2.0.4","minimalistic-assert":"^1.0.1","minimalistic-crypto-utils":"^1.0.1"}};
},{}],"vl2S":[function(require,module,exports) {
"use strict";var r=exports;function e(r,e){if(Array.isArray(r))return r.slice();if(!r)return[];var t=[];if("string"!=typeof r){for(var n=0;n<r.length;n++)t[n]=0|r[n];return t}if("hex"===e){(r=r.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(r="0"+r);for(n=0;n<r.length;n+=2)t.push(parseInt(r[n]+r[n+1],16))}else for(n=0;n<r.length;n++){var o=r.charCodeAt(n),u=o>>8,i=255&o;u?t.push(u,i):t.push(i)}return t}function t(r){return 1===r.length?"0"+r:r}function n(r){for(var e="",n=0;n<r.length;n++)e+=t(r[n].toString(16));return e}r.toArray=e,r.zero2=t,r.toHex=n,r.encode=function(r,e){return"hex"===e?n(r):r};
},{}],"F8Ez":[function(require,module,exports) {
"use strict";var r=exports,n=require("bn.js"),t=require("minimalistic-assert"),e=require("minimalistic-crypto-utils");function i(r,n,t){var e=new Array(Math.max(r.bitLength(),t)+1);e.fill(0);for(var i=1<<n+1,o=r.clone(),a=0;a<e.length;a++){var s,u=o.andln(i-1);o.isOdd()?(s=u>(i>>1)-1?(i>>1)-u:u,o.isubn(s)):s=0,e[a]=s,o.iushrn(1)}return e}function o(r,n){var t=[[],[]];r=r.clone(),n=n.clone();for(var e,i=0,o=0;r.cmpn(-i)>0||n.cmpn(-o)>0;){var a,s,u=r.andln(3)+i&3,c=n.andln(3)+o&3;3===u&&(u=-1),3===c&&(c=-1),a=0==(1&u)?0:3!==(e=r.andln(7)+i&7)&&5!==e||2!==c?u:-u,t[0].push(a),s=0==(1&c)?0:3!==(e=n.andln(7)+o&7)&&5!==e||2!==u?c:-c,t[1].push(s),2*i===a+1&&(i=1-i),2*o===s+1&&(o=1-o),r.iushrn(1),n.iushrn(1)}return t}function a(r,n,t){var e="_"+n;r.prototype[n]=function(){return void 0!==this[e]?this[e]:this[e]=t.call(this)}}function s(n){return"string"==typeof n?r.toArray(n,"hex"):n}function u(r){return new n(r,"hex","le")}r.assert=t,r.toArray=e.toArray,r.zero2=e.zero2,r.toHex=e.toHex,r.encode=e.encode,r.getNAF=i,r.getJSF=o,r.cachedProperty=a,r.parseBytes=s,r.intFromLE=u;
},{"bn.js":"VXic","minimalistic-assert":"MpuC","minimalistic-crypto-utils":"vl2S"}],"NX8i":[function(require,module,exports) {
"use strict";var t=require("bn.js"),e=require("../utils"),n=e.getNAF,r=e.getJSF,i=e.assert;function o(e,n){this.type=e,this.p=new t(n.p,16),this.red=n.prime?t.red(n.prime):t.mont(this.p),this.zero=new t(0).toRed(this.red),this.one=new t(1).toRed(this.red),this.two=new t(2).toRed(this.red),this.n=n.n&&new t(n.n,16),this.g=n.g&&this.pointFromJSON(n.g,n.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var r=this.n&&this.p.div(this.n);!r||r.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}function s(t,e){this.curve=t,this.type=e,this.precomputed=null}module.exports=o,o.prototype.point=function(){throw new Error("Not implemented")},o.prototype.validate=function(){throw new Error("Not implemented")},o.prototype._fixedNafMul=function(t,e){i(t.precomputed);var r=t._getDoubles(),o=n(e,1,this._bitLength),s=(1<<r.step+1)-(r.step%2==0?2:1);s/=3;var p,h,d=[];for(p=0;p<o.length;p+=r.step){h=0;for(var u=p+r.step-1;u>=p;u--)h=(h<<1)+o[u];d.push(h)}for(var a=this.jpoint(null,null,null),l=this.jpoint(null,null,null),f=s;f>0;f--){for(p=0;p<d.length;p++)(h=d[p])===f?l=l.mixedAdd(r.points[p]):h===-f&&(l=l.mixedAdd(r.points[p].neg()));a=a.add(l)}return a.toP()},o.prototype._wnafMul=function(t,e){var r=4,o=t._getNAFPoints(r);r=o.wnd;for(var s=o.points,p=n(e,r,this._bitLength),h=this.jpoint(null,null,null),d=p.length-1;d>=0;d--){for(var u=0;d>=0&&0===p[d];d--)u++;if(d>=0&&u++,h=h.dblp(u),d<0)break;var a=p[d];i(0!==a),h="affine"===t.type?a>0?h.mixedAdd(s[a-1>>1]):h.mixedAdd(s[-a-1>>1].neg()):a>0?h.add(s[a-1>>1]):h.add(s[-a-1>>1].neg())}return"affine"===t.type?h.toP():h},o.prototype._wnafMulAdd=function(t,e,i,o,s){var p,h,d,u=this._wnafT1,a=this._wnafT2,l=this._wnafT3,f=0;for(p=0;p<o;p++){var c=(d=e[p])._getNAFPoints(t);u[p]=c.wnd,a[p]=c.points}for(p=o-1;p>=1;p-=2){var g=p-1,m=p;if(1===u[g]&&1===u[m]){var y=[e[g],null,null,e[m]];0===e[g].y.cmp(e[m].y)?(y[1]=e[g].add(e[m]),y[2]=e[g].toJ().mixedAdd(e[m].neg())):0===e[g].y.cmp(e[m].y.redNeg())?(y[1]=e[g].toJ().mixedAdd(e[m]),y[2]=e[g].add(e[m].neg())):(y[1]=e[g].toJ().mixedAdd(e[m]),y[2]=e[g].toJ().mixedAdd(e[m].neg()));var v=[-3,-1,-5,-7,0,7,5,1,3],w=r(i[g],i[m]);for(f=Math.max(w[0].length,f),l[g]=new Array(f),l[m]=new Array(f),h=0;h<f;h++){var b=0|w[0][h],_=0|w[1][h];l[g][h]=v[3*(b+1)+(_+1)],l[m][h]=0,a[g]=y}}else l[g]=n(i[g],u[g],this._bitLength),l[m]=n(i[m],u[m],this._bitLength),f=Math.max(l[g].length,f),f=Math.max(l[m].length,f)}var A=this.jpoint(null,null,null),x=this._wnafT4;for(p=f;p>=0;p--){for(var N=0;p>=0;){var L=!0;for(h=0;h<o;h++)x[h]=0|l[h][p],0!==x[h]&&(L=!1);if(!L)break;N++,p--}if(p>=0&&N++,A=A.dblp(N),p<0)break;for(h=0;h<o;h++){var P=x[h];0!==P&&(P>0?d=a[h][P-1>>1]:P<0&&(d=a[h][-P-1>>1].neg()),A="affine"===d.type?A.mixedAdd(d):A.add(d))}}for(p=0;p<o;p++)a[p]=null;return s?A:A.toP()},o.BasePoint=s,s.prototype.eq=function(){throw new Error("Not implemented")},s.prototype.validate=function(){return this.curve.validate(this)},o.prototype.decodePoint=function(t,n){t=e.toArray(t,n);var r=this.p.byteLength();if((4===t[0]||6===t[0]||7===t[0])&&t.length-1==2*r)return 6===t[0]?i(t[t.length-1]%2==0):7===t[0]&&i(t[t.length-1]%2==1),this.point(t.slice(1,1+r),t.slice(1+r,1+2*r));if((2===t[0]||3===t[0])&&t.length-1===r)return this.pointFromX(t.slice(1,1+r),3===t[0]);throw new Error("Unknown point format")},s.prototype.encodeCompressed=function(t){return this.encode(t,!0)},s.prototype._encode=function(t){var e=this.curve.p.byteLength(),n=this.getX().toArray("be",e);return t?[this.getY().isEven()?2:3].concat(n):[4].concat(n,this.getY().toArray("be",e))},s.prototype.encode=function(t,n){return e.encode(this._encode(n),t)},s.prototype.precompute=function(t){if(this.precomputed)return this;var e={doubles:null,naf:null,beta:null};return e.naf=this._getNAFPoints(8),e.doubles=this._getDoubles(4,t),e.beta=this._getBeta(),this.precomputed=e,this},s.prototype._hasDoubles=function(t){if(!this.precomputed)return!1;var e=this.precomputed.doubles;return!!e&&e.points.length>=Math.ceil((t.bitLength()+1)/e.step)},s.prototype._getDoubles=function(t,e){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var n=[this],r=this,i=0;i<e;i+=t){for(var o=0;o<t;o++)r=r.dbl();n.push(r)}return{step:t,points:n}},s.prototype._getNAFPoints=function(t){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var e=[this],n=(1<<t)-1,r=1===n?null:this.dbl(),i=1;i<n;i++)e[i]=e[i-1].add(r);return{wnd:t,points:e}},s.prototype._getBeta=function(){return null},s.prototype.dblp=function(t){for(var e=this,n=0;n<t;n++)e=e.dbl();return e};
},{"bn.js":"VXic","../utils":"F8Ez"}],"CO0D":[function(require,module,exports) {
"use strict";var r=require("../utils"),e=require("bn.js"),t=require("inherits"),d=require("./base"),i=r.assert;function n(r){d.call(this,"short",r),this.a=new e(r.a,16).toRed(this.red),this.b=new e(r.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=0===this.a.fromRed().cmpn(0),this.threeA=0===this.a.fromRed().sub(this.p).cmpn(-3),this.endo=this._getEndomorphism(r),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}function u(r,t,i,n){d.BasePoint.call(this,r,"affine"),null===t&&null===i?(this.x=null,this.y=null,this.inf=!0):(this.x=new e(t,16),this.y=new e(i,16),n&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}function s(r,t,i,n){d.BasePoint.call(this,r,"jacobian"),null===t&&null===i&&null===n?(this.x=this.curve.one,this.y=this.curve.one,this.z=new e(0)):(this.x=new e(t,16),this.y=new e(i,16),this.z=new e(n,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}t(n,d),module.exports=n,n.prototype._getEndomorphism=function(r){if(this.zeroA&&this.g&&this.n&&1===this.p.modn(3)){var t,d;if(r.beta)t=new e(r.beta,16).toRed(this.red);else{var n=this._getEndoRoots(this.p);t=(t=n[0].cmp(n[1])<0?n[0]:n[1]).toRed(this.red)}if(r.lambda)d=new e(r.lambda,16);else{var u=this._getEndoRoots(this.n);0===this.g.mul(u[0]).x.cmp(this.g.x.redMul(t))?d=u[0]:(d=u[1],i(0===this.g.mul(d).x.cmp(this.g.x.redMul(t))))}return{beta:t,lambda:d,basis:r.basis?r.basis.map(function(r){return{a:new e(r.a,16),b:new e(r.b,16)}}):this._getEndoBasis(d)}}},n.prototype._getEndoRoots=function(r){var t=r===this.p?this.red:e.mont(r),d=new e(2).toRed(t).redInvm(),i=d.redNeg(),n=new e(3).toRed(t).redNeg().redSqrt().redMul(d);return[i.redAdd(n).fromRed(),i.redSub(n).fromRed()]},n.prototype._getEndoBasis=function(r){for(var t,d,i,n,u,s,o,h,p,l=this.n.ushrn(Math.floor(this.n.bitLength()/2)),a=r,f=this.n.clone(),c=new e(1),S=new e(0),b=new e(0),v=new e(1),I=0;0!==a.cmpn(0);){var y=f.div(a);h=f.sub(y.mul(a)),p=b.sub(y.mul(c));var A=v.sub(y.mul(S));if(!i&&h.cmp(l)<0)t=o.neg(),d=c,i=h.neg(),n=p;else if(i&&2==++I)break;o=h,f=a,a=h,b=c,c=p,v=S,S=A}u=h.neg(),s=p;var m=i.sqr().add(n.sqr());return u.sqr().add(s.sqr()).cmp(m)>=0&&(u=t,s=d),i.negative&&(i=i.neg(),n=n.neg()),u.negative&&(u=u.neg(),s=s.neg()),[{a:i,b:n},{a:u,b:s}]},n.prototype._endoSplit=function(r){var e=this.endo.basis,t=e[0],d=e[1],i=d.b.mul(r).divRound(this.n),n=t.b.neg().mul(r).divRound(this.n),u=i.mul(t.a),s=n.mul(d.a),o=i.mul(t.b),h=n.mul(d.b);return{k1:r.sub(u).sub(s),k2:o.add(h).neg()}},n.prototype.pointFromX=function(r,t){(r=new e(r,16)).red||(r=r.toRed(this.red));var d=r.redSqr().redMul(r).redIAdd(r.redMul(this.a)).redIAdd(this.b),i=d.redSqrt();if(0!==i.redSqr().redSub(d).cmp(this.zero))throw new Error("invalid point");var n=i.fromRed().isOdd();return(t&&!n||!t&&n)&&(i=i.redNeg()),this.point(r,i)},n.prototype.validate=function(r){if(r.inf)return!0;var e=r.x,t=r.y,d=this.a.redMul(e),i=e.redSqr().redMul(e).redIAdd(d).redIAdd(this.b);return 0===t.redSqr().redISub(i).cmpn(0)},n.prototype._endoWnafMulAdd=function(r,e,t){for(var d=this._endoWnafT1,i=this._endoWnafT2,n=0;n<r.length;n++){var u=this._endoSplit(e[n]),s=r[n],o=s._getBeta();u.k1.negative&&(u.k1.ineg(),s=s.neg(!0)),u.k2.negative&&(u.k2.ineg(),o=o.neg(!0)),d[2*n]=s,d[2*n+1]=o,i[2*n]=u.k1,i[2*n+1]=u.k2}for(var h=this._wnafMulAdd(1,d,i,2*n,t),p=0;p<2*n;p++)d[p]=null,i[p]=null;return h},t(u,d.BasePoint),n.prototype.point=function(r,e,t){return new u(this,r,e,t)},n.prototype.pointFromJSON=function(r,e){return u.fromJSON(this,r,e)},u.prototype._getBeta=function(){if(this.curve.endo){var r=this.precomputed;if(r&&r.beta)return r.beta;var e=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(r){var t=this.curve,d=function(r){return t.point(r.x.redMul(t.endo.beta),r.y)};r.beta=e,e.precomputed={beta:null,naf:r.naf&&{wnd:r.naf.wnd,points:r.naf.points.map(d)},doubles:r.doubles&&{step:r.doubles.step,points:r.doubles.points.map(d)}}}return e}},u.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},u.fromJSON=function(r,e,t){"string"==typeof e&&(e=JSON.parse(e));var d=r.point(e[0],e[1],t);if(!e[2])return d;function i(e){return r.point(e[0],e[1],t)}var n=e[2];return d.precomputed={beta:null,doubles:n.doubles&&{step:n.doubles.step,points:[d].concat(n.doubles.points.map(i))},naf:n.naf&&{wnd:n.naf.wnd,points:[d].concat(n.naf.points.map(i))}},d},u.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},u.prototype.isInfinity=function(){return this.inf},u.prototype.add=function(r){if(this.inf)return r;if(r.inf)return this;if(this.eq(r))return this.dbl();if(this.neg().eq(r))return this.curve.point(null,null);if(0===this.x.cmp(r.x))return this.curve.point(null,null);var e=this.y.redSub(r.y);0!==e.cmpn(0)&&(e=e.redMul(this.x.redSub(r.x).redInvm()));var t=e.redSqr().redISub(this.x).redISub(r.x),d=e.redMul(this.x.redSub(t)).redISub(this.y);return this.curve.point(t,d)},u.prototype.dbl=function(){if(this.inf)return this;var r=this.y.redAdd(this.y);if(0===r.cmpn(0))return this.curve.point(null,null);var e=this.curve.a,t=this.x.redSqr(),d=r.redInvm(),i=t.redAdd(t).redIAdd(t).redIAdd(e).redMul(d),n=i.redSqr().redISub(this.x.redAdd(this.x)),u=i.redMul(this.x.redSub(n)).redISub(this.y);return this.curve.point(n,u)},u.prototype.getX=function(){return this.x.fromRed()},u.prototype.getY=function(){return this.y.fromRed()},u.prototype.mul=function(r){return r=new e(r,16),this.isInfinity()?this:this._hasDoubles(r)?this.curve._fixedNafMul(this,r):this.curve.endo?this.curve._endoWnafMulAdd([this],[r]):this.curve._wnafMul(this,r)},u.prototype.mulAdd=function(r,e,t){var d=[this,e],i=[r,t];return this.curve.endo?this.curve._endoWnafMulAdd(d,i):this.curve._wnafMulAdd(1,d,i,2)},u.prototype.jmulAdd=function(r,e,t){var d=[this,e],i=[r,t];return this.curve.endo?this.curve._endoWnafMulAdd(d,i,!0):this.curve._wnafMulAdd(1,d,i,2,!0)},u.prototype.eq=function(r){return this===r||this.inf===r.inf&&(this.inf||0===this.x.cmp(r.x)&&0===this.y.cmp(r.y))},u.prototype.neg=function(r){if(this.inf)return this;var e=this.curve.point(this.x,this.y.redNeg());if(r&&this.precomputed){var t=this.precomputed,d=function(r){return r.neg()};e.precomputed={naf:t.naf&&{wnd:t.naf.wnd,points:t.naf.points.map(d)},doubles:t.doubles&&{step:t.doubles.step,points:t.doubles.points.map(d)}}}return e},u.prototype.toJ=function(){return this.inf?this.curve.jpoint(null,null,null):this.curve.jpoint(this.x,this.y,this.curve.one)},t(s,d.BasePoint),n.prototype.jpoint=function(r,e,t){return new s(this,r,e,t)},s.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var r=this.z.redInvm(),e=r.redSqr(),t=this.x.redMul(e),d=this.y.redMul(e).redMul(r);return this.curve.point(t,d)},s.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},s.prototype.add=function(r){if(this.isInfinity())return r;if(r.isInfinity())return this;var e=r.z.redSqr(),t=this.z.redSqr(),d=this.x.redMul(e),i=r.x.redMul(t),n=this.y.redMul(e.redMul(r.z)),u=r.y.redMul(t.redMul(this.z)),s=d.redSub(i),o=n.redSub(u);if(0===s.cmpn(0))return 0!==o.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var h=s.redSqr(),p=h.redMul(s),l=d.redMul(h),a=o.redSqr().redIAdd(p).redISub(l).redISub(l),f=o.redMul(l.redISub(a)).redISub(n.redMul(p)),c=this.z.redMul(r.z).redMul(s);return this.curve.jpoint(a,f,c)},s.prototype.mixedAdd=function(r){if(this.isInfinity())return r.toJ();if(r.isInfinity())return this;var e=this.z.redSqr(),t=this.x,d=r.x.redMul(e),i=this.y,n=r.y.redMul(e).redMul(this.z),u=t.redSub(d),s=i.redSub(n);if(0===u.cmpn(0))return 0!==s.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var o=u.redSqr(),h=o.redMul(u),p=t.redMul(o),l=s.redSqr().redIAdd(h).redISub(p).redISub(p),a=s.redMul(p.redISub(l)).redISub(i.redMul(h)),f=this.z.redMul(u);return this.curve.jpoint(l,a,f)},s.prototype.dblp=function(r){if(0===r)return this;if(this.isInfinity())return this;if(!r)return this.dbl();var e;if(this.curve.zeroA||this.curve.threeA){var t=this;for(e=0;e<r;e++)t=t.dbl();return t}var d=this.curve.a,i=this.curve.tinv,n=this.x,u=this.y,s=this.z,o=s.redSqr().redSqr(),h=u.redAdd(u);for(e=0;e<r;e++){var p=n.redSqr(),l=h.redSqr(),a=l.redSqr(),f=p.redAdd(p).redIAdd(p).redIAdd(d.redMul(o)),c=n.redMul(l),S=f.redSqr().redISub(c.redAdd(c)),b=c.redISub(S),v=f.redMul(b);v=v.redIAdd(v).redISub(a);var I=h.redMul(s);e+1<r&&(o=o.redMul(a)),n=S,s=I,h=v}return this.curve.jpoint(n,h.redMul(i),s)},s.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},s.prototype._zeroDbl=function(){var r,e,t;if(this.zOne){var d=this.x.redSqr(),i=this.y.redSqr(),n=i.redSqr(),u=this.x.redAdd(i).redSqr().redISub(d).redISub(n);u=u.redIAdd(u);var s=d.redAdd(d).redIAdd(d),o=s.redSqr().redISub(u).redISub(u),h=n.redIAdd(n);h=(h=h.redIAdd(h)).redIAdd(h),r=o,e=s.redMul(u.redISub(o)).redISub(h),t=this.y.redAdd(this.y)}else{var p=this.x.redSqr(),l=this.y.redSqr(),a=l.redSqr(),f=this.x.redAdd(l).redSqr().redISub(p).redISub(a);f=f.redIAdd(f);var c=p.redAdd(p).redIAdd(p),S=c.redSqr(),b=a.redIAdd(a);b=(b=b.redIAdd(b)).redIAdd(b),r=S.redISub(f).redISub(f),e=c.redMul(f.redISub(r)).redISub(b),t=(t=this.y.redMul(this.z)).redIAdd(t)}return this.curve.jpoint(r,e,t)},s.prototype._threeDbl=function(){var r,e,t;if(this.zOne){var d=this.x.redSqr(),i=this.y.redSqr(),n=i.redSqr(),u=this.x.redAdd(i).redSqr().redISub(d).redISub(n);u=u.redIAdd(u);var s=d.redAdd(d).redIAdd(d).redIAdd(this.curve.a),o=s.redSqr().redISub(u).redISub(u);r=o;var h=n.redIAdd(n);h=(h=h.redIAdd(h)).redIAdd(h),e=s.redMul(u.redISub(o)).redISub(h),t=this.y.redAdd(this.y)}else{var p=this.z.redSqr(),l=this.y.redSqr(),a=this.x.redMul(l),f=this.x.redSub(p).redMul(this.x.redAdd(p));f=f.redAdd(f).redIAdd(f);var c=a.redIAdd(a),S=(c=c.redIAdd(c)).redAdd(c);r=f.redSqr().redISub(S),t=this.y.redAdd(this.z).redSqr().redISub(l).redISub(p);var b=l.redSqr();b=(b=(b=b.redIAdd(b)).redIAdd(b)).redIAdd(b),e=f.redMul(c.redISub(r)).redISub(b)}return this.curve.jpoint(r,e,t)},s.prototype._dbl=function(){var r=this.curve.a,e=this.x,t=this.y,d=this.z,i=d.redSqr().redSqr(),n=e.redSqr(),u=t.redSqr(),s=n.redAdd(n).redIAdd(n).redIAdd(r.redMul(i)),o=e.redAdd(e),h=(o=o.redIAdd(o)).redMul(u),p=s.redSqr().redISub(h.redAdd(h)),l=h.redISub(p),a=u.redSqr();a=(a=(a=a.redIAdd(a)).redIAdd(a)).redIAdd(a);var f=s.redMul(l).redISub(a),c=t.redAdd(t).redMul(d);return this.curve.jpoint(p,f,c)},s.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var r=this.x.redSqr(),e=this.y.redSqr(),t=this.z.redSqr(),d=e.redSqr(),i=r.redAdd(r).redIAdd(r),n=i.redSqr(),u=this.x.redAdd(e).redSqr().redISub(r).redISub(d),s=(u=(u=(u=u.redIAdd(u)).redAdd(u).redIAdd(u)).redISub(n)).redSqr(),o=d.redIAdd(d);o=(o=(o=o.redIAdd(o)).redIAdd(o)).redIAdd(o);var h=i.redIAdd(u).redSqr().redISub(n).redISub(s).redISub(o),p=e.redMul(h);p=(p=p.redIAdd(p)).redIAdd(p);var l=this.x.redMul(s).redISub(p);l=(l=l.redIAdd(l)).redIAdd(l);var a=this.y.redMul(h.redMul(o.redISub(h)).redISub(u.redMul(s)));a=(a=(a=a.redIAdd(a)).redIAdd(a)).redIAdd(a);var f=this.z.redAdd(u).redSqr().redISub(t).redISub(s);return this.curve.jpoint(l,a,f)},s.prototype.mul=function(r,t){return r=new e(r,t),this.curve._wnafMul(this,r)},s.prototype.eq=function(r){if("affine"===r.type)return this.eq(r.toJ());if(this===r)return!0;var e=this.z.redSqr(),t=r.z.redSqr();if(0!==this.x.redMul(t).redISub(r.x.redMul(e)).cmpn(0))return!1;var d=e.redMul(this.z),i=t.redMul(r.z);return 0===this.y.redMul(i).redISub(r.y.redMul(d)).cmpn(0)},s.prototype.eqXToP=function(r){var e=this.z.redSqr(),t=r.toRed(this.curve.red).redMul(e);if(0===this.x.cmp(t))return!0;for(var d=r.clone(),i=this.curve.redN.redMul(e);;){if(d.iadd(this.curve.n),d.cmp(this.curve.p)>=0)return!1;if(t.redIAdd(i),0===this.x.cmp(t))return!0}},s.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},s.prototype.isInfinity=function(){return 0===this.z.cmpn(0)};
},{"../utils":"F8Ez","bn.js":"VXic","inherits":"Bm0n","./base":"NX8i"}],"PwwO":[function(require,module,exports) {
"use strict";var t=require("bn.js"),r=require("inherits"),e=require("./base"),i=require("../utils");function o(r){e.call(this,"mont",r),this.a=new t(r.a,16).toRed(this.red),this.b=new t(r.b,16).toRed(this.red),this.i4=new t(4).toRed(this.red).redInvm(),this.two=new t(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}function n(r,i,o){e.BasePoint.call(this,r,"projective"),null===i&&null===o?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new t(i,16),this.z=new t(o,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}r(o,e),module.exports=o,o.prototype.validate=function(t){var r=t.normalize().x,e=r.redSqr(),i=e.redMul(r).redAdd(e.redMul(this.a)).redAdd(r);return 0===i.redSqrt().redSqr().cmp(i)},r(n,e.BasePoint),o.prototype.decodePoint=function(t,r){return this.point(i.toArray(t,r),1)},o.prototype.point=function(t,r){return new n(this,t,r)},o.prototype.pointFromJSON=function(t){return n.fromJSON(this,t)},n.prototype.precompute=function(){},n.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())},n.fromJSON=function(t,r){return new n(t,r[0],r[1]||t.one)},n.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},n.prototype.isInfinity=function(){return 0===this.z.cmpn(0)},n.prototype.dbl=function(){var t=this.x.redAdd(this.z).redSqr(),r=this.x.redSub(this.z).redSqr(),e=t.redSub(r),i=t.redMul(r),o=e.redMul(r.redAdd(this.curve.a24.redMul(e)));return this.curve.point(i,o)},n.prototype.add=function(){throw new Error("Not supported on Montgomery curve")},n.prototype.diffAdd=function(t,r){var e=this.x.redAdd(this.z),i=this.x.redSub(this.z),o=t.x.redAdd(t.z),n=t.x.redSub(t.z).redMul(e),d=o.redMul(i),u=r.z.redMul(n.redAdd(d).redSqr()),s=r.x.redMul(n.redISub(d).redSqr());return this.curve.point(u,s)},n.prototype.mul=function(t){for(var r=t.clone(),e=this,i=this.curve.point(null,null),o=[];0!==r.cmpn(0);r.iushrn(1))o.push(r.andln(1));for(var n=o.length-1;n>=0;n--)0===o[n]?(e=e.diffAdd(i,this),i=i.dbl()):(i=e.diffAdd(i,this),e=e.dbl());return i},n.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")},n.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")},n.prototype.eq=function(t){return 0===this.getX().cmp(t.getX())},n.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},n.prototype.getX=function(){return this.normalize(),this.x.fromRed()};
},{"bn.js":"VXic","inherits":"Bm0n","./base":"NX8i","../utils":"F8Ez"}],"tiqw":[function(require,module,exports) {
"use strict";var t=require("../utils"),e=require("bn.js"),r=require("inherits"),i=require("./base"),d=t.assert;function s(t){this.twisted=1!=(0|t.a),this.mOneA=this.twisted&&-1==(0|t.a),this.extended=this.mOneA,i.call(this,"edwards",t),this.a=new e(t.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new e(t.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new e(t.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),d(!this.twisted||0===this.c.fromRed().cmpn(1)),this.oneC=1==(0|t.c)}function u(t,r,d,s,u){i.BasePoint.call(this,t,"projective"),null===r&&null===d&&null===s?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new e(r,16),this.y=new e(d,16),this.z=s?new e(s,16):this.curve.one,this.t=u&&new e(u,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}r(s,i),module.exports=s,s.prototype._mulA=function(t){return this.mOneA?t.redNeg():this.a.redMul(t)},s.prototype._mulC=function(t){return this.oneC?t:this.c.redMul(t)},s.prototype.jpoint=function(t,e,r,i){return this.point(t,e,r,i)},s.prototype.pointFromX=function(t,r){(t=new e(t,16)).red||(t=t.toRed(this.red));var i=t.redSqr(),d=this.c2.redSub(this.a.redMul(i)),s=this.one.redSub(this.c2.redMul(this.d).redMul(i)),u=d.redMul(s.redInvm()),h=u.redSqrt();if(0!==h.redSqr().redSub(u).cmp(this.zero))throw new Error("invalid point");var n=h.fromRed().isOdd();return(r&&!n||!r&&n)&&(h=h.redNeg()),this.point(t,h)},s.prototype.pointFromY=function(t,r){(t=new e(t,16)).red||(t=t.toRed(this.red));var i=t.redSqr(),d=i.redSub(this.c2),s=i.redMul(this.d).redMul(this.c2).redSub(this.a),u=d.redMul(s.redInvm());if(0===u.cmp(this.zero)){if(r)throw new Error("invalid point");return this.point(this.zero,t)}var h=u.redSqrt();if(0!==h.redSqr().redSub(u).cmp(this.zero))throw new Error("invalid point");return h.fromRed().isOdd()!==r&&(h=h.redNeg()),this.point(h,t)},s.prototype.validate=function(t){if(t.isInfinity())return!0;t.normalize();var e=t.x.redSqr(),r=t.y.redSqr(),i=e.redMul(this.a).redAdd(r),d=this.c2.redMul(this.one.redAdd(this.d.redMul(e).redMul(r)));return 0===i.cmp(d)},r(u,i.BasePoint),s.prototype.pointFromJSON=function(t){return u.fromJSON(this,t)},s.prototype.point=function(t,e,r,i){return new u(this,t,e,r,i)},u.fromJSON=function(t,e){return new u(t,e[0],e[1],e[2])},u.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},u.prototype.isInfinity=function(){return 0===this.x.cmpn(0)&&(0===this.y.cmp(this.z)||this.zOne&&0===this.y.cmp(this.curve.c))},u.prototype._extDbl=function(){var t=this.x.redSqr(),e=this.y.redSqr(),r=this.z.redSqr();r=r.redIAdd(r);var i=this.curve._mulA(t),d=this.x.redAdd(this.y).redSqr().redISub(t).redISub(e),s=i.redAdd(e),u=s.redSub(r),h=i.redSub(e),n=d.redMul(u),o=s.redMul(h),c=d.redMul(h),l=u.redMul(s);return this.curve.point(n,o,l,c)},u.prototype._projDbl=function(){var t,e,r,i,d,s,u=this.x.redAdd(this.y).redSqr(),h=this.x.redSqr(),n=this.y.redSqr();if(this.curve.twisted){var o=(i=this.curve._mulA(h)).redAdd(n);this.zOne?(t=u.redSub(h).redSub(n).redMul(o.redSub(this.curve.two)),e=o.redMul(i.redSub(n)),r=o.redSqr().redSub(o).redSub(o)):(d=this.z.redSqr(),s=o.redSub(d).redISub(d),t=u.redSub(h).redISub(n).redMul(s),e=o.redMul(i.redSub(n)),r=o.redMul(s))}else i=h.redAdd(n),d=this.curve._mulC(this.z).redSqr(),s=i.redSub(d).redSub(d),t=this.curve._mulC(u.redISub(i)).redMul(s),e=this.curve._mulC(i).redMul(h.redISub(n)),r=i.redMul(s);return this.curve.point(t,e,r)},u.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},u.prototype._extAdd=function(t){var e=this.y.redSub(this.x).redMul(t.y.redSub(t.x)),r=this.y.redAdd(this.x).redMul(t.y.redAdd(t.x)),i=this.t.redMul(this.curve.dd).redMul(t.t),d=this.z.redMul(t.z.redAdd(t.z)),s=r.redSub(e),u=d.redSub(i),h=d.redAdd(i),n=r.redAdd(e),o=s.redMul(u),c=h.redMul(n),l=s.redMul(n),p=u.redMul(h);return this.curve.point(o,c,p,l)},u.prototype._projAdd=function(t){var e,r,i=this.z.redMul(t.z),d=i.redSqr(),s=this.x.redMul(t.x),u=this.y.redMul(t.y),h=this.curve.d.redMul(s).redMul(u),n=d.redSub(h),o=d.redAdd(h),c=this.x.redAdd(this.y).redMul(t.x.redAdd(t.y)).redISub(s).redISub(u),l=i.redMul(n).redMul(c);return this.curve.twisted?(e=i.redMul(o).redMul(u.redSub(this.curve._mulA(s))),r=n.redMul(o)):(e=i.redMul(o).redMul(u.redSub(s)),r=this.curve._mulC(n).redMul(o)),this.curve.point(l,e,r)},u.prototype.add=function(t){return this.isInfinity()?t:t.isInfinity()?this:this.curve.extended?this._extAdd(t):this._projAdd(t)},u.prototype.mul=function(t){return this._hasDoubles(t)?this.curve._fixedNafMul(this,t):this.curve._wnafMul(this,t)},u.prototype.mulAdd=function(t,e,r){return this.curve._wnafMulAdd(1,[this,e],[t,r],2,!1)},u.prototype.jmulAdd=function(t,e,r){return this.curve._wnafMulAdd(1,[this,e],[t,r],2,!0)},u.prototype.normalize=function(){if(this.zOne)return this;var t=this.z.redInvm();return this.x=this.x.redMul(t),this.y=this.y.redMul(t),this.t&&(this.t=this.t.redMul(t)),this.z=this.curve.one,this.zOne=!0,this},u.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},u.prototype.getX=function(){return this.normalize(),this.x.fromRed()},u.prototype.getY=function(){return this.normalize(),this.y.fromRed()},u.prototype.eq=function(t){return this===t||0===this.getX().cmp(t.getX())&&0===this.getY().cmp(t.getY())},u.prototype.eqXToP=function(t){var e=t.toRed(this.curve.red).redMul(this.z);if(0===this.x.cmp(e))return!0;for(var r=t.clone(),i=this.curve.redN.redMul(this.z);;){if(r.iadd(this.curve.n),r.cmp(this.curve.p)>=0)return!1;if(e.redIAdd(i),0===this.x.cmp(e))return!0}},u.prototype.toP=u.prototype.normalize,u.prototype.mixedAdd=u.prototype.add;
},{"../utils":"F8Ez","bn.js":"VXic","inherits":"Bm0n","./base":"NX8i"}],"P4Ml":[function(require,module,exports) {
"use strict";var r=exports;r.base=require("./base"),r.short=require("./short"),r.mont=require("./mont"),r.edwards=require("./edwards");
},{"./base":"NX8i","./short":"CO0D","./mont":"PwwO","./edwards":"tiqw"}],"eeOV":[function(require,module,exports) {
"use strict";var r=require("minimalistic-assert"),t=require("inherits");function n(r,t){return 55296==(64512&r.charCodeAt(t))&&(!(t<0||t+1>=r.length)&&56320==(64512&r.charCodeAt(t+1)))}function e(r,t){if(Array.isArray(r))return r.slice();if(!r)return[];var e=[];if("string"==typeof r)if(t){if("hex"===t)for((r=r.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(r="0"+r),u=0;u<r.length;u+=2)e.push(parseInt(r[u]+r[u+1],16))}else for(var o=0,u=0;u<r.length;u++){var i=r.charCodeAt(u);i<128?e[o++]=i:i<2048?(e[o++]=i>>6|192,e[o++]=63&i|128):n(r,u)?(i=65536+((1023&i)<<10)+(1023&r.charCodeAt(++u)),e[o++]=i>>18|240,e[o++]=i>>12&63|128,e[o++]=i>>6&63|128,e[o++]=63&i|128):(e[o++]=i>>12|224,e[o++]=i>>6&63|128,e[o++]=63&i|128)}else for(u=0;u<r.length;u++)e[u]=0|r[u];return e}function o(r){for(var t="",n=0;n<r.length;n++)t+=s(r[n].toString(16));return t}function u(r){return(r>>>24|r>>>8&65280|r<<8&16711680|(255&r)<<24)>>>0}function i(r,t){for(var n="",e=0;e<r.length;e++){var o=r[e];"little"===t&&(o=u(o)),n+=f(o.toString(16))}return n}function s(r){return 1===r.length?"0"+r:r}function f(r){return 7===r.length?"0"+r:6===r.length?"00"+r:5===r.length?"000"+r:4===r.length?"0000"+r:3===r.length?"00000"+r:2===r.length?"000000"+r:1===r.length?"0000000"+r:r}function c(t,n,e,o){var u=e-n;r(u%4==0);for(var i=new Array(u/4),s=0,f=n;s<i.length;s++,f+=4){var c;c="big"===o?t[f]<<24|t[f+1]<<16|t[f+2]<<8|t[f+3]:t[f+3]<<24|t[f+2]<<16|t[f+1]<<8|t[f],i[s]=c>>>0}return i}function h(r,t){for(var n=new Array(4*r.length),e=0,o=0;e<r.length;e++,o+=4){var u=r[e];"big"===t?(n[o]=u>>>24,n[o+1]=u>>>16&255,n[o+2]=u>>>8&255,n[o+3]=255&u):(n[o+3]=u>>>24,n[o+2]=u>>>16&255,n[o+1]=u>>>8&255,n[o]=255&u)}return n}function l(r,t){return r>>>t|r<<32-t}function p(r,t){return r<<t|r>>>32-t}function a(r,t){return r+t>>>0}function x(r,t,n){return r+t+n>>>0}function g(r,t,n,e){return r+t+n+e>>>0}function _(r,t,n,e,o){return r+t+n+e+o>>>0}function v(r,t,n,e){var o=r[t],u=e+r[t+1]>>>0,i=(u<e?1:0)+n+o;r[t]=i>>>0,r[t+1]=u}function m(r,t,n,e){return(t+e>>>0<t?1:0)+r+n>>>0}function A(r,t,n,e){return t+e>>>0}function y(r,t,n,e,o,u,i,s){var f=0,c=t;return f+=(c=c+e>>>0)<t?1:0,f+=(c=c+u>>>0)<u?1:0,r+n+o+i+(f+=(c=c+s>>>0)<s?1:0)>>>0}function d(r,t,n,e,o,u,i,s){return t+e+u+s>>>0}function C(r,t,n,e,o,u,i,s,f,c){var h=0,l=t;return h+=(l=l+e>>>0)<t?1:0,h+=(l=l+u>>>0)<u?1:0,h+=(l=l+s>>>0)<s?1:0,r+n+o+i+f+(h+=(l=l+c>>>0)<c?1:0)>>>0}function z(r,t,n,e,o,u,i,s,f,c){return t+e+u+s+c>>>0}function b(r,t,n){return(t<<32-n|r>>>n)>>>0}function q(r,t,n){return(r<<32-n|t>>>n)>>>0}function w(r,t,n){return r>>>n}function H(r,t,n){return(r<<32-n|t>>>n)>>>0}exports.inherits=t,exports.toArray=e,exports.toHex=o,exports.htonl=u,exports.toHex32=i,exports.zero2=s,exports.zero8=f,exports.join32=c,exports.split32=h,exports.rotr32=l,exports.rotl32=p,exports.sum32=a,exports.sum32_3=x,exports.sum32_4=g,exports.sum32_5=_,exports.sum64=v,exports.sum64_hi=m,exports.sum64_lo=A,exports.sum64_4_hi=y,exports.sum64_4_lo=d,exports.sum64_5_hi=C,exports.sum64_5_lo=z,exports.rotr64_hi=b,exports.rotr64_lo=q,exports.shr64_hi=w,exports.shr64_lo=H;
},{"minimalistic-assert":"MpuC","inherits":"Bm0n"}],"p0gz":[function(require,module,exports) {
"use strict";var t=require("./utils"),i=require("minimalistic-assert");function n(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}exports.BlockHash=n,n.prototype.update=function(i,n){if(i=t.toArray(i,n),this.pending?this.pending=this.pending.concat(i):this.pending=i,this.pendingTotal+=i.length,this.pending.length>=this._delta8){var e=(i=this.pending).length%this._delta8;this.pending=i.slice(i.length-e,i.length),0===this.pending.length&&(this.pending=null),i=t.join32(i,0,i.length-e,this.endian);for(var h=0;h<i.length;h+=this._delta32)this._update(i,h,h+this._delta32)}return this},n.prototype.digest=function(t){return this.update(this._pad()),i(null===this.pending),this._digest(t)},n.prototype._pad=function(){var t=this.pendingTotal,i=this._delta8,n=i-(t+this.padLength)%i,e=new Array(n+this.padLength);e[0]=128;for(var h=1;h<n;h++)e[h]=0;if(t<<=3,"big"===this.endian){for(var s=8;s<this.padLength;s++)e[h++]=0;e[h++]=0,e[h++]=0,e[h++]=0,e[h++]=0,e[h++]=t>>>24&255,e[h++]=t>>>16&255,e[h++]=t>>>8&255,e[h++]=255&t}else for(e[h++]=255&t,e[h++]=t>>>8&255,e[h++]=t>>>16&255,e[h++]=t>>>24&255,e[h++]=0,e[h++]=0,e[h++]=0,e[h++]=0,s=8;s<this.padLength;s++)e[h++]=0;return e};
},{"./utils":"eeOV","minimalistic-assert":"MpuC"}],"qR4i":[function(require,module,exports) {
"use strict";var r=require("../utils"),t=r.rotr32;function n(r,t,n,s){return 0===r?e(t,n,s):1===r||3===r?o(t,n,s):2===r?u(t,n,s):void 0}function e(r,t,n){return r&t^~r&n}function u(r,t,n){return r&t^r&n^t&n}function o(r,t,n){return r^t^n}function s(r){return t(r,2)^t(r,13)^t(r,22)}function i(r){return t(r,6)^t(r,11)^t(r,25)}function c(r){return t(r,7)^t(r,18)^r>>>3}function f(r){return t(r,17)^t(r,19)^r>>>10}exports.ft_1=n,exports.ch32=e,exports.maj32=u,exports.p32=o,exports.s0_256=s,exports.s1_256=i,exports.g0_256=c,exports.g1_256=f;
},{"../utils":"eeOV"}],"rIEX":[function(require,module,exports) {
"use strict";var t=require("../utils"),h=require("../common"),i=require("./common"),s=t.rotl32,e=t.sum32,r=t.sum32_5,o=i.ft_1,n=h.BlockHash,u=[1518500249,1859775393,2400959708,3395469782];function a(){if(!(this instanceof a))return new a;n.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}t.inherits(a,n),module.exports=a,a.blockSize=512,a.outSize=160,a.hmacStrength=80,a.padLength=64,a.prototype._update=function(t,h){for(var i=this.W,n=0;n<16;n++)i[n]=t[h+n];for(;n<i.length;n++)i[n]=s(i[n-3]^i[n-8]^i[n-14]^i[n-16],1);var a=this.h[0],c=this.h[1],l=this.h[2],f=this.h[3],m=this.h[4];for(n=0;n<i.length;n++){var p=~~(n/20),g=r(s(a,5),o(p,c,l,f),m,i[n],u[p]);m=f,f=l,l=s(c,30),c=a,a=g}this.h[0]=e(this.h[0],a),this.h[1]=e(this.h[1],c),this.h[2]=e(this.h[2],l),this.h[3]=e(this.h[3],f),this.h[4]=e(this.h[4],m)},a.prototype._digest=function(h){return"hex"===h?t.toHex32(this.h,"big"):t.split32(this.h,"big")};
},{"../utils":"eeOV","../common":"p0gz","./common":"qR4i"}],"iJWs":[function(require,module,exports) {
"use strict";var h=require("../utils"),t=require("../common"),i=require("./common"),s=require("minimalistic-assert"),e=h.sum32,r=h.sum32_4,n=h.sum32_5,o=i.ch32,u=i.maj32,a=i.s0_256,c=i.s1_256,l=i.g0_256,m=i.g1_256,g=t.BlockHash,f=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function p(){if(!(this instanceof p))return new p;g.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=f,this.W=new Array(64)}h.inherits(p,g),module.exports=p,p.blockSize=512,p.outSize=256,p.hmacStrength=192,p.padLength=64,p.prototype._update=function(h,t){for(var i=this.W,g=0;g<16;g++)i[g]=h[t+g];for(;g<i.length;g++)i[g]=r(m(i[g-2]),i[g-7],l(i[g-15]),i[g-16]);var f=this.h[0],p=this.h[1],_=this.h[2],k=this.h[3],d=this.h[4],q=this.h[5],v=this.h[6],b=this.h[7];for(s(this.k.length===i.length),g=0;g<i.length;g++){var x=n(b,c(d),o(d,q,v),this.k[g],i[g]),y=e(a(f),u(f,p,_));b=v,v=q,q=d,d=e(k,x),k=_,_=p,p=f,f=e(x,y)}this.h[0]=e(this.h[0],f),this.h[1]=e(this.h[1],p),this.h[2]=e(this.h[2],_),this.h[3]=e(this.h[3],k),this.h[4]=e(this.h[4],d),this.h[5]=e(this.h[5],q),this.h[6]=e(this.h[6],v),this.h[7]=e(this.h[7],b)},p.prototype._digest=function(t){return"hex"===t?h.toHex32(this.h,"big"):h.split32(this.h,"big")};
},{"../utils":"eeOV","../common":"p0gz","./common":"qR4i","minimalistic-assert":"MpuC"}],"NwVK":[function(require,module,exports) {
"use strict";var t=require("../utils"),i=require("./256");function e(){if(!(this instanceof e))return new e;i.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}t.inherits(e,i),module.exports=e,e.blockSize=512,e.outSize=224,e.hmacStrength=192,e.padLength=64,e.prototype._digest=function(i){return"hex"===i?t.toHex32(this.h.slice(0,7),"big"):t.split32(this.h.slice(0,7),"big")};
},{"../utils":"eeOV","./256":"iJWs"}],"CY40":[function(require,module,exports) {
"use strict";var t=require("../utils"),h=require("../common"),i=require("minimalistic-assert"),r=t.rotr64_hi,n=t.rotr64_lo,s=t.shr64_hi,e=t.shr64_lo,u=t.sum64,o=t.sum64_hi,a=t.sum64_lo,c=t.sum64_4_hi,f=t.sum64_4_lo,l=t.sum64_5_hi,v=t.sum64_5_lo,_=h.BlockHash,p=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function m(){if(!(this instanceof m))return new m;_.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=p,this.W=new Array(160)}function g(t,h,i,r,n){var s=t&i^~t&n;return s<0&&(s+=4294967296),s}function k(t,h,i,r,n,s){var e=h&r^~h&s;return e<0&&(e+=4294967296),e}function d(t,h,i,r,n){var s=t&i^t&n^i&n;return s<0&&(s+=4294967296),s}function y(t,h,i,r,n,s){var e=h&r^h&s^r&s;return e<0&&(e+=4294967296),e}function b(t,h){var i=r(t,h,28)^r(h,t,2)^r(h,t,7);return i<0&&(i+=4294967296),i}function q(t,h){var i=n(t,h,28)^n(h,t,2)^n(h,t,7);return i<0&&(i+=4294967296),i}function x(t,h){var i=r(t,h,14)^r(t,h,18)^r(h,t,9);return i<0&&(i+=4294967296),i}function B(t,h){var i=n(t,h,14)^n(t,h,18)^n(h,t,9);return i<0&&(i+=4294967296),i}function S(t,h){var i=r(t,h,1)^r(t,h,8)^s(t,h,7);return i<0&&(i+=4294967296),i}function W(t,h){var i=n(t,h,1)^n(t,h,8)^e(t,h,7);return i<0&&(i+=4294967296),i}function w(t,h){var i=r(t,h,19)^r(h,t,29)^s(t,h,6);return i<0&&(i+=4294967296),i}function z(t,h){var i=n(t,h,19)^n(h,t,29)^e(t,h,6);return i<0&&(i+=4294967296),i}t.inherits(m,_),module.exports=m,m.blockSize=1024,m.outSize=512,m.hmacStrength=192,m.padLength=128,m.prototype._prepareBlock=function(t,h){for(var i=this.W,r=0;r<32;r++)i[r]=t[h+r];for(;r<i.length;r+=2){var n=w(i[r-4],i[r-3]),s=z(i[r-4],i[r-3]),e=i[r-14],u=i[r-13],o=S(i[r-30],i[r-29]),a=W(i[r-30],i[r-29]),l=i[r-32],v=i[r-31];i[r]=c(n,s,e,u,o,a,l,v),i[r+1]=f(n,s,e,u,o,a,l,v)}},m.prototype._update=function(t,h){this._prepareBlock(t,h);var r=this.W,n=this.h[0],s=this.h[1],e=this.h[2],c=this.h[3],f=this.h[4],_=this.h[5],p=this.h[6],m=this.h[7],S=this.h[8],W=this.h[9],w=this.h[10],z=this.h[11],H=this.h[12],A=this.h[13],L=this.h[14],j=this.h[15];i(this.k.length===r.length);for(var C=0;C<r.length;C+=2){var D=L,E=j,F=x(S,W),G=B(S,W),I=g(S,W,w,z,H,A),J=k(S,W,w,z,H,A),K=this.k[C],M=this.k[C+1],N=r[C],O=r[C+1],P=l(D,E,F,G,I,J,K,M,N,O),Q=v(D,E,F,G,I,J,K,M,N,O);D=b(n,s),E=q(n,s),F=d(n,s,e,c,f,_),G=y(n,s,e,c,f,_);var R=o(D,E,F,G),T=a(D,E,F,G);L=H,j=A,H=w,A=z,w=S,z=W,S=o(p,m,P,Q),W=a(m,m,P,Q),p=f,m=_,f=e,_=c,e=n,c=s,n=o(P,Q,R,T),s=a(P,Q,R,T)}u(this.h,0,n,s),u(this.h,2,e,c),u(this.h,4,f,_),u(this.h,6,p,m),u(this.h,8,S,W),u(this.h,10,w,z),u(this.h,12,H,A),u(this.h,14,L,j)},m.prototype._digest=function(h){return"hex"===h?t.toHex32(this.h,"big"):t.split32(this.h,"big")};
},{"../utils":"eeOV","../common":"p0gz","minimalistic-assert":"MpuC"}],"sAVb":[function(require,module,exports) {
"use strict";var t=require("../utils"),i=require("./512");function e(){if(!(this instanceof e))return new e;i.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}t.inherits(e,i),module.exports=e,e.blockSize=1024,e.outSize=384,e.hmacStrength=192,e.padLength=128,e.prototype._digest=function(i){return"hex"===i?t.toHex32(this.h.slice(0,12),"big"):t.split32(this.h.slice(0,12),"big")};
},{"../utils":"eeOV","./512":"CY40"}],"BhcK":[function(require,module,exports) {
"use strict";exports.sha1=require("./sha/1"),exports.sha224=require("./sha/224"),exports.sha256=require("./sha/256"),exports.sha384=require("./sha/384"),exports.sha512=require("./sha/512");
},{"./sha/1":"rIEX","./sha/224":"NwVK","./sha/256":"iJWs","./sha/384":"sAVb","./sha/512":"CY40"}],"tE3w":[function(require,module,exports) {
"use strict";var t=require("./utils"),h=require("./common"),i=t.rotl32,s=t.sum32,e=t.sum32_3,r=t.sum32_4,n=h.BlockHash;function o(){if(!(this instanceof o))return new o;n.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}function u(t,h,i,s){return t<=15?h^i^s:t<=31?h&i|~h&s:t<=47?(h|~i)^s:t<=63?h&s|i&~s:h^(i|~s)}function c(t){return t<=15?0:t<=31?1518500249:t<=47?1859775393:t<=63?2400959708:2840853838}function l(t){return t<=15?1352829926:t<=31?1548603684:t<=47?1836072691:t<=63?2053994217:0}t.inherits(o,n),exports.ripemd160=o,o.blockSize=512,o.outSize=160,o.hmacStrength=192,o.padLength=64,o.prototype._update=function(t,h){for(var n=this.h[0],o=this.h[1],d=this.h[2],v=this.h[3],_=this.h[4],g=n,x=o,S=d,k=v,q=_,y=0;y<80;y++){var z=s(i(r(n,u(y,o,d,v),t[a[y]+h],c(y)),p[y]),_);n=_,_=v,v=i(d,10),d=o,o=z,z=s(i(r(g,u(79-y,x,S,k),t[f[y]+h],l(y)),m[y]),q),g=q,q=k,k=i(S,10),S=x,x=z}z=e(this.h[1],d,k),this.h[1]=e(this.h[2],v,q),this.h[2]=e(this.h[3],_,g),this.h[3]=e(this.h[4],n,x),this.h[4]=e(this.h[0],o,S),this.h[0]=z},o.prototype._digest=function(h){return"hex"===h?t.toHex32(this.h,"little"):t.split32(this.h,"little")};var a=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],f=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],p=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],m=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11];
},{"./utils":"eeOV","./common":"p0gz"}],"AA3E":[function(require,module,exports) {
"use strict";var t=require("./utils"),i=require("minimalistic-assert");function e(i,s,n){if(!(this instanceof e))return new e(i,s,n);this.Hash=i,this.blockSize=i.blockSize/8,this.outSize=i.outSize/8,this.inner=null,this.outer=null,this._init(t.toArray(s,n))}module.exports=e,e.prototype._init=function(t){t.length>this.blockSize&&(t=(new this.Hash).update(t).digest()),i(t.length<=this.blockSize);for(var e=t.length;e<this.blockSize;e++)t.push(0);for(e=0;e<t.length;e++)t[e]^=54;for(this.inner=(new this.Hash).update(t),e=0;e<t.length;e++)t[e]^=106;this.outer=(new this.Hash).update(t)},e.prototype.update=function(t,i){return this.inner.update(t,i),this},e.prototype.digest=function(t){return this.outer.update(this.inner.digest()),this.outer.digest(t)};
},{"./utils":"eeOV","minimalistic-assert":"MpuC"}],"fVGI":[function(require,module,exports) {
var h=exports;h.utils=require("./hash/utils"),h.common=require("./hash/common"),h.sha=require("./hash/sha"),h.ripemd=require("./hash/ripemd"),h.hmac=require("./hash/hmac"),h.sha1=h.sha.sha1,h.sha256=h.sha.sha256,h.sha224=h.sha.sha224,h.sha384=h.sha.sha384,h.sha512=h.sha.sha512,h.ripemd160=h.ripemd.ripemd160;
},{"./hash/utils":"eeOV","./hash/common":"p0gz","./hash/sha":"BhcK","./hash/ripemd":"tE3w","./hash/hmac":"AA3E"}],"khx4":[function(require,module,exports) {
module.exports={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}};
},{}],"ExaX":[function(require,module,exports) {
"use strict";var f,e=exports,a=require("hash.js"),b=require("./curve"),c=require("./utils"),d=c.assert;function r(f){"short"===f.type?this.curve=new b.short(f):"edwards"===f.type?this.curve=new b.edwards(f):this.curve=new b.mont(f),this.g=this.curve.g,this.n=this.curve.n,this.hash=f.hash,d(this.g.validate(),"Invalid curve"),d(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}function s(f,a){Object.defineProperty(e,f,{configurable:!0,enumerable:!0,get:function(){var b=new r(a);return Object.defineProperty(e,f,{configurable:!0,enumerable:!0,value:b}),b}})}e.PresetCurve=r,s("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:a.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),s("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:a.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),s("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:a.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),s("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:a.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),s("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:a.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),s("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:a.sha256,gRed:!1,g:["9"]}),s("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:a.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});try{f=require("./precomputed/secp256k1")}catch(t){f=void 0}s("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:a.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",f]});
},{"hash.js":"fVGI","./curve":"P4Ml","./utils":"F8Ez","./precomputed/secp256k1":"khx4"}],"vdhc":[function(require,module,exports) {
"use strict";var t=require("hash.js"),e=require("minimalistic-crypto-utils"),i=require("minimalistic-assert");function s(t){if(!(this instanceof s))return new s(t);this.hash=t.hash,this.predResist=!!t.predResist,this.outLen=this.hash.outSize,this.minEntropy=t.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var h=e.toArray(t.entropy,t.entropyEnc||"hex"),r=e.toArray(t.nonce,t.nonceEnc||"hex"),n=e.toArray(t.pers,t.persEnc||"hex");i(h.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(h,r,n)}module.exports=s,s.prototype._init=function(t,e,i){var s=t.concat(e).concat(i);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var h=0;h<this.V.length;h++)this.K[h]=0,this.V[h]=1;this._update(s),this._reseed=1,this.reseedInterval=281474976710656},s.prototype._hmac=function(){return new t.hmac(this.hash,this.K)},s.prototype._update=function(t){var e=this._hmac().update(this.V).update([0]);t&&(e=e.update(t)),this.K=e.digest(),this.V=this._hmac().update(this.V).digest(),t&&(this.K=this._hmac().update(this.V).update([1]).update(t).digest(),this.V=this._hmac().update(this.V).digest())},s.prototype.reseed=function(t,s,h,r){"string"!=typeof s&&(r=h,h=s,s=null),t=e.toArray(t,s),h=e.toArray(h,r),i(t.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(t.concat(h||[])),this._reseed=1},s.prototype.generate=function(t,i,s,h){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");"string"!=typeof i&&(h=s,s=i,i=null),s&&(s=e.toArray(s,h||"hex"),this._update(s));for(var r=[];r.length<t;)this.V=this._hmac().update(this.V).digest(),r=r.concat(this.V);var n=r.slice(0,t);return this._update(s),this._reseed++,e.encode(n,i)};
},{"hash.js":"fVGI","minimalistic-crypto-utils":"vl2S","minimalistic-assert":"MpuC"}],"YPk7":[function(require,module,exports) {
"use strict";var t=require("bn.js"),i=require("../utils"),e=i.assert;function r(t,i){this.ec=t,this.priv=null,this.pub=null,i.priv&&this._importPrivate(i.priv,i.privEnc),i.pub&&this._importPublic(i.pub,i.pubEnc)}module.exports=r,r.fromPublic=function(t,i,e){return i instanceof r?i:new r(t,{pub:i,pubEnc:e})},r.fromPrivate=function(t,i,e){return i instanceof r?i:new r(t,{priv:i,privEnc:e})},r.prototype.validate=function(){var t=this.getPublic();return t.isInfinity()?{result:!1,reason:"Invalid public key"}:t.validate()?t.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},r.prototype.getPublic=function(t,i){return"string"==typeof t&&(i=t,t=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),i?this.pub.encode(i,t):this.pub},r.prototype.getPrivate=function(t){return"hex"===t?this.priv.toString(16,2):this.priv},r.prototype._importPrivate=function(i,e){this.priv=new t(i,e||16),this.priv=this.priv.umod(this.ec.curve.n)},r.prototype._importPublic=function(t,i){if(t.x||t.y)return"mont"===this.ec.curve.type?e(t.x,"Need x coordinate"):"short"!==this.ec.curve.type&&"edwards"!==this.ec.curve.type||e(t.x&&t.y,"Need both x and y coordinate"),void(this.pub=this.ec.curve.point(t.x,t.y));this.pub=this.ec.curve.decodePoint(t,i)},r.prototype.derive=function(t){return t.validate()||e(t.validate(),"public point not validated"),t.mul(this.priv).getX()},r.prototype.sign=function(t,i,e){return this.ec.sign(t,this,i,e)},r.prototype.verify=function(t,i){return this.ec.verify(t,i,this)},r.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"};
},{"bn.js":"VXic","../utils":"F8Ez"}],"g9QR":[function(require,module,exports) {
"use strict";var r=require("bn.js"),e=require("../utils"),t=e.assert;function n(e,a){if(e instanceof n)return e;this._importDER(e,a)||(t(e.r&&e.s,"Signature without r or s"),this.r=new r(e.r,16),this.s=new r(e.s,16),void 0===e.recoveryParam?this.recoveryParam=null:this.recoveryParam=e.recoveryParam)}function a(){this.place=0}function i(r,e){var t=r[e.place++];if(!(128&t))return t;var n=15&t;if(0===n||n>4)return!1;for(var a=0,i=0,c=e.place;i<n;i++,c++)a<<=8,a|=r[c],a>>>=0;return!(a<=127)&&(e.place=c,a)}function c(r){for(var e=0,t=r.length-1;!r[e]&&!(128&r[e+1])&&e<t;)e++;return 0===e?r:r.slice(e)}function o(r,e){if(e<128)r.push(e);else{var t=1+(Math.log(e)/Math.LN2>>>3);for(r.push(128|t);--t;)r.push(e>>>(t<<3)&255);r.push(e)}}module.exports=n,n.prototype._importDER=function(t,n){t=e.toArray(t,n);var c=new a;if(48!==t[c.place++])return!1;var o=i(t,c);if(!1===o)return!1;if(o+c.place!==t.length)return!1;if(2!==t[c.place++])return!1;var u=i(t,c);if(!1===u)return!1;var s=t.slice(c.place,u+c.place);if(c.place+=u,2!==t[c.place++])return!1;var l=i(t,c);if(!1===l)return!1;if(t.length!==l+c.place)return!1;var f=t.slice(c.place,l+c.place);if(0===s[0]){if(!(128&s[1]))return!1;s=s.slice(1)}if(0===f[0]){if(!(128&f[1]))return!1;f=f.slice(1)}return this.r=new r(s),this.s=new r(f),this.recoveryParam=null,!0},n.prototype.toDER=function(r){var t=this.r.toArray(),n=this.s.toArray();for(128&t[0]&&(t=[0].concat(t)),128&n[0]&&(n=[0].concat(n)),t=c(t),n=c(n);!(n[0]||128&n[1]);)n=n.slice(1);var a=[2];o(a,t.length),(a=a.concat(t)).push(2),o(a,n.length);var i=a.concat(n),u=[48];return o(u,i.length),u=u.concat(i),e.encode(u,r)};
},{"bn.js":"VXic","../utils":"F8Ez"}],"Ly8t":[function(require,module,exports) {
"use strict";var e=require("bn.js"),r=require("hmac-drbg"),t=require("../utils"),n=require("../curves"),i=require("brorand"),s=t.assert,o=require("./key"),u=require("./signature");function h(e){if(!(this instanceof h))return new h(e);"string"==typeof e&&(s(Object.prototype.hasOwnProperty.call(n,e),"Unknown curve "+e),e=n[e]),e instanceof n.PresetCurve&&(e={curve:e}),this.curve=e.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=e.curve.g,this.g.precompute(e.curve.n.bitLength()+1),this.hash=e.hash||e.curve.hash}module.exports=h,h.prototype.keyPair=function(e){return new o(this,e)},h.prototype.keyFromPrivate=function(e,r){return o.fromPrivate(this,e,r)},h.prototype.keyFromPublic=function(e,r){return o.fromPublic(this,e,r)},h.prototype.genKeyPair=function(t){t||(t={});for(var n=new r({hash:this.hash,pers:t.pers,persEnc:t.persEnc||"utf8",entropy:t.entropy||i(this.hash.hmacStrength),entropyEnc:t.entropy&&t.entropyEnc||"utf8",nonce:this.n.toArray()}),s=this.n.byteLength(),o=this.n.sub(new e(2));;){var u=new e(n.generate(s));if(!(u.cmp(o)>0))return u.iaddn(1),this.keyFromPrivate(u)}},h.prototype._truncateToN=function(e,r){var t=8*e.byteLength()-this.n.bitLength();return t>0&&(e=e.ushrn(t)),!r&&e.cmp(this.n)>=0?e.sub(this.n):e},h.prototype.sign=function(t,n,i,s){"object"==typeof i&&(s=i,i=null),s||(s={}),n=this.keyFromPrivate(n,i),t=this._truncateToN(new e(t,16));for(var o=this.n.byteLength(),h=n.getPrivate().toArray("be",o),c=t.toArray("be",o),a=new r({hash:this.hash,entropy:h,nonce:c,pers:s.pers,persEnc:s.persEnc||"utf8"}),p=this.n.sub(new e(1)),m=0;;m++){var v=s.k?s.k(m):new e(a.generate(this.n.byteLength()));if(!((v=this._truncateToN(v,!0)).cmpn(1)<=0||v.cmp(p)>=0)){var y=this.g.mul(v);if(!y.isInfinity()){var f=y.getX(),g=f.umod(this.n);if(0!==g.cmpn(0)){var d=v.invm(this.n).mul(g.mul(n.getPrivate()).iadd(t));if(0!==(d=d.umod(this.n)).cmpn(0)){var l=(y.getY().isOdd()?1:0)|(0!==f.cmp(g)?2:0);return s.canonical&&d.cmp(this.nh)>0&&(d=this.n.sub(d),l^=1),new u({r:g,s:d,recoveryParam:l})}}}}}},h.prototype.verify=function(r,t,n,i){r=this._truncateToN(new e(r,16)),n=this.keyFromPublic(n,i);var s=(t=new u(t,"hex")).r,o=t.s;if(s.cmpn(1)<0||s.cmp(this.n)>=0)return!1;if(o.cmpn(1)<0||o.cmp(this.n)>=0)return!1;var h,c=o.invm(this.n),a=c.mul(r).umod(this.n),p=c.mul(s).umod(this.n);return this.curve._maxwellTrick?!(h=this.g.jmulAdd(a,n.getPublic(),p)).isInfinity()&&h.eqXToP(s):!(h=this.g.mulAdd(a,n.getPublic(),p)).isInfinity()&&0===h.getX().umod(this.n).cmp(s)},h.prototype.recoverPubKey=function(r,t,n,i){s((3&n)===n,"The recovery param is more than two bits"),t=new u(t,i);var o=this.n,h=new e(r),c=t.r,a=t.s,p=1&n,m=n>>1;if(c.cmp(this.curve.p.umod(this.curve.n))>=0&&m)throw new Error("Unable to find sencond key candinate");c=m?this.curve.pointFromX(c.add(this.curve.n),p):this.curve.pointFromX(c,p);var v=t.r.invm(o),y=o.sub(h).mul(v).umod(o),f=a.mul(v).umod(o);return this.g.mulAdd(y,c,f)},h.prototype.getKeyRecoveryParam=function(e,r,t,n){if(null!==(r=new u(r,n)).recoveryParam)return r.recoveryParam;for(var i=0;i<4;i++){var s;try{s=this.recoverPubKey(e,r,i)}catch(e){continue}if(s.eq(t))return i}throw new Error("Unable to find valid recovery factor")};
},{"bn.js":"VXic","hmac-drbg":"vdhc","../utils":"F8Ez","../curves":"ExaX","brorand":"e03B","./key":"YPk7","./signature":"g9QR"}],"mg26":[function(require,module,exports) {
"use strict";var t=require("../utils"),e=t.assert,s=t.parseBytes,i=t.cachedProperty;function n(t,e){this.eddsa=t,this._secret=s(e.secret),t.isPoint(e.pub)?this._pub=e.pub:this._pubBytes=s(e.pub)}n.fromPublic=function(t,e){return e instanceof n?e:new n(t,{pub:e})},n.fromSecret=function(t,e){return e instanceof n?e:new n(t,{secret:e})},n.prototype.secret=function(){return this._secret},i(n,"pubBytes",function(){return this.eddsa.encodePoint(this.pub())}),i(n,"pub",function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())}),i(n,"privBytes",function(){var t=this.eddsa,e=this.hash(),s=t.encodingLength-1,i=e.slice(0,t.encodingLength);return i[0]&=248,i[s]&=127,i[s]|=64,i}),i(n,"priv",function(){return this.eddsa.decodeInt(this.privBytes())}),i(n,"hash",function(){return this.eddsa.hash().update(this.secret()).digest()}),i(n,"messagePrefix",function(){return this.hash().slice(this.eddsa.encodingLength)}),n.prototype.sign=function(t){return e(this._secret,"KeyPair can only verify"),this.eddsa.sign(t,this)},n.prototype.verify=function(t,e){return this.eddsa.verify(t,e,this)},n.prototype.getSecret=function(s){return e(this._secret,"KeyPair is public only"),t.encode(this.secret(),s)},n.prototype.getPublic=function(e){return t.encode(this.pubBytes(),e)},module.exports=n;
},{"../utils":"F8Ez"}],"p5it":[function(require,module,exports) {
"use strict";var e=require("bn.js"),t=require("../utils"),n=t.assert,o=t.cachedProperty,d=t.parseBytes;function i(t,o){this.eddsa=t,"object"!=typeof o&&(o=d(o)),Array.isArray(o)&&(o={R:o.slice(0,t.encodingLength),S:o.slice(t.encodingLength)}),n(o.R&&o.S,"Signature without R or S"),t.isPoint(o.R)&&(this._R=o.R),o.S instanceof e&&(this._S=o.S),this._Rencoded=Array.isArray(o.R)?o.R:o.Rencoded,this._Sencoded=Array.isArray(o.S)?o.S:o.Sencoded}o(i,"S",function(){return this.eddsa.decodeInt(this.Sencoded())}),o(i,"R",function(){return this.eddsa.decodePoint(this.Rencoded())}),o(i,"Rencoded",function(){return this.eddsa.encodePoint(this.R())}),o(i,"Sencoded",function(){return this.eddsa.encodeInt(this.S())}),i.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())},i.prototype.toHex=function(){return t.encode(this.toBytes(),"hex").toUpperCase()},module.exports=i;
},{"bn.js":"VXic","../utils":"F8Ez"}],"a3LM":[function(require,module,exports) {
"use strict";var t=require("hash.js"),e=require("../curves"),n=require("../utils"),r=n.assert,i=n.parseBytes,o=require("./key"),s=require("./signature");function u(n){if(r("ed25519"===n,"only tested with ed25519 so far"),!(this instanceof u))return new u(n);n=e[n].curve,this.curve=n,this.g=n.g,this.g.precompute(n.n.bitLength()+1),this.pointClass=n.point().constructor,this.encodingLength=Math.ceil(n.n.bitLength()/8),this.hash=t.sha512}module.exports=u,u.prototype.sign=function(t,e){t=i(t);var n=this.keyFromSecret(e),r=this.hashInt(n.messagePrefix(),t),o=this.g.mul(r),s=this.encodePoint(o),u=this.hashInt(s,n.pubBytes(),t).mul(n.priv()),h=r.add(u).umod(this.curve.n);return this.makeSignature({R:o,S:h,Rencoded:s})},u.prototype.verify=function(t,e,n){t=i(t),e=this.makeSignature(e);var r=this.keyFromPublic(n),o=this.hashInt(e.Rencoded(),r.pubBytes(),t),s=this.g.mul(e.S());return e.R().add(r.pub().mul(o)).eq(s)},u.prototype.hashInt=function(){for(var t=this.hash(),e=0;e<arguments.length;e++)t.update(arguments[e]);return n.intFromLE(t.digest()).umod(this.curve.n)},u.prototype.keyFromPublic=function(t){return o.fromPublic(this,t)},u.prototype.keyFromSecret=function(t){return o.fromSecret(this,t)},u.prototype.makeSignature=function(t){return t instanceof s?t:new s(this,t)},u.prototype.encodePoint=function(t){var e=t.getY().toArray("le",this.encodingLength);return e[this.encodingLength-1]|=t.getX().isOdd()?128:0,e},u.prototype.decodePoint=function(t){var e=(t=n.parseBytes(t)).length-1,r=t.slice(0,e).concat(-129&t[e]),i=0!=(128&t[e]),o=n.intFromLE(r);return this.curve.pointFromY(o,i)},u.prototype.encodeInt=function(t){return t.toArray("le",this.encodingLength)},u.prototype.decodeInt=function(t){return n.intFromLE(t)},u.prototype.isPoint=function(t){return t instanceof this.pointClass};
},{"hash.js":"fVGI","../curves":"ExaX","../utils":"F8Ez","./key":"mg26","./signature":"p5it"}],"xha3":[function(require,module,exports) {
"use strict";var e=exports;e.version=require("../package.json").version,e.utils=require("./elliptic/utils"),e.rand=require("brorand"),e.curve=require("./elliptic/curve"),e.curves=require("./elliptic/curves"),e.ec=require("./elliptic/ec"),e.eddsa=require("./elliptic/eddsa");
},{"../package.json":"bNi7","./elliptic/utils":"F8Ez","brorand":"e03B","./elliptic/curve":"P4Ml","./elliptic/curves":"ExaX","./elliptic/ec":"Ly8t","./elliptic/eddsa":"a3LM"}],"rE8J":[function(require,module,exports) {

var process = require("process");
var e,r=require("process"),t=require("buffer"),n=t.Buffer,o={};for(e in t)t.hasOwnProperty(e)&&"SlowBuffer"!==e&&"Buffer"!==e&&(o[e]=t[e]);var f=o.Buffer={};for(e in n)n.hasOwnProperty(e)&&"allocUnsafe"!==e&&"allocUnsafeSlow"!==e&&(f[e]=n[e]);if(o.Buffer.prototype=n.prototype,f.from&&f.from!==Uint8Array.from||(f.from=function(e,r,t){if("number"==typeof e)throw new TypeError('The "value" argument must not be of type number. Received type '+typeof e);if(e&&void 0===e.length)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);return n(e,r,t)}),f.alloc||(f.alloc=function(e,r,t){if("number"!=typeof e)throw new TypeError('The "size" argument must be of type number. Received type '+typeof e);if(e<0||e>=2*(1<<30))throw new RangeError('The value "'+e+'" is invalid for option "size"');var o=n(e);return r&&0!==r.length?"string"==typeof t?o.fill(r,t):o.fill(r):o.fill(0),o}),!o.kStringMaxLength)try{o.kStringMaxLength=r.binding("buffer").kStringMaxLength}catch(i){}o.constants||(o.constants={MAX_LENGTH:o.kMaxLength},o.kStringMaxLength&&(o.constants.MAX_STRING_LENGTH=o.kStringMaxLength)),module.exports=o;
},{"buffer":"peL6","process":"pBGv"}],"BhoU":[function(require,module,exports) {
"use strict";const t=require("inherits");function r(t){this._reporterState={obj:null,path:[],options:t||{},errors:[]}}function e(t,r){this.path=t,this.rethrow(r)}exports.Reporter=r,r.prototype.isError=function(t){return t instanceof e},r.prototype.save=function(){const t=this._reporterState;return{obj:t.obj,pathLen:t.path.length}},r.prototype.restore=function(t){const r=this._reporterState;r.obj=t.obj,r.path=r.path.slice(0,t.pathLen)},r.prototype.enterKey=function(t){return this._reporterState.path.push(t)},r.prototype.exitKey=function(t){const r=this._reporterState;r.path=r.path.slice(0,t-1)},r.prototype.leaveKey=function(t,r,e){const o=this._reporterState;this.exitKey(t),null!==o.obj&&(o.obj[r]=e)},r.prototype.path=function(){return this._reporterState.path.join("/")},r.prototype.enterObject=function(){const t=this._reporterState,r=t.obj;return t.obj={},r},r.prototype.leaveObject=function(t){const r=this._reporterState,e=r.obj;return r.obj=t,e},r.prototype.error=function(t){let r;const o=this._reporterState,n=t instanceof e;if(r=n?t:new e(o.path.map(function(t){return"["+JSON.stringify(t)+"]"}).join(""),t.message||t,t.stack),!o.options.partial)throw r;return n||o.errors.push(r),r},r.prototype.wrapResult=function(t){const r=this._reporterState;return r.options.partial?{result:this.isError(t)?null:t,errors:r.errors}:t},t(e,Error),e.prototype.rethrow=function(t){if(this.message=t+" at: "+(this.path||"(shallow)"),Error.captureStackTrace&&Error.captureStackTrace(this,e),!this.stack)try{throw new Error(this.message)}catch(r){this.stack=r.stack}return this};
},{"inherits":"Bm0n"}],"JJX4":[function(require,module,exports) {

"use strict";const e=require("inherits"),t=require("../base/reporter").Reporter,r=require("safer-buffer").Buffer;function o(e,o){t.call(this,o),r.isBuffer(e)?(this.base=e,this.offset=0,this.length=e.length):this.error("Input not Buffer")}function f(e,t){if(Array.isArray(e))this.length=0,this.value=e.map(function(e){return f.isEncoderBuffer(e)||(e=new f(e,t)),this.length+=e.length,e},this);else if("number"==typeof e){if(!(0<=e&&e<=255))return t.error("non-byte EncoderBuffer value");this.value=e,this.length=1}else if("string"==typeof e)this.value=e,this.length=r.byteLength(e);else{if(!r.isBuffer(e))return t.error("Unsupported type: "+typeof e);this.value=e,this.length=e.length}}e(o,t),exports.DecoderBuffer=o,o.isDecoderBuffer=function(e){if(e instanceof o)return!0;return"object"==typeof e&&r.isBuffer(e.base)&&"DecoderBuffer"===e.constructor.name&&"number"==typeof e.offset&&"number"==typeof e.length&&"function"==typeof e.save&&"function"==typeof e.restore&&"function"==typeof e.isEmpty&&"function"==typeof e.readUInt8&&"function"==typeof e.skip&&"function"==typeof e.raw},o.prototype.save=function(){return{offset:this.offset,reporter:t.prototype.save.call(this)}},o.prototype.restore=function(e){const r=new o(this.base);return r.offset=e.offset,r.length=this.offset,this.offset=e.offset,t.prototype.restore.call(this,e.reporter),r},o.prototype.isEmpty=function(){return this.offset===this.length},o.prototype.readUInt8=function(e){return this.offset+1<=this.length?this.base.readUInt8(this.offset++,!0):this.error(e||"DecoderBuffer overrun")},o.prototype.skip=function(e,t){if(!(this.offset+e<=this.length))return this.error(t||"DecoderBuffer overrun");const r=new o(this.base);return r._reporterState=this._reporterState,r.offset=this.offset,r.length=this.offset+e,this.offset+=e,r},o.prototype.raw=function(e){return this.base.slice(e?e.offset:this.offset,this.length)},exports.EncoderBuffer=f,f.isEncoderBuffer=function(e){if(e instanceof f)return!0;return"object"==typeof e&&"EncoderBuffer"===e.constructor.name&&"number"==typeof e.length&&"function"==typeof e.join},f.prototype.join=function(e,t){return e||(e=r.alloc(this.length)),t||(t=0),0===this.length?e:(Array.isArray(this.value)?this.value.forEach(function(r){r.join(e,t),t+=r.length}):("number"==typeof this.value?e[t]=this.value:"string"==typeof this.value?e.write(this.value,t):r.isBuffer(this.value)&&this.value.copy(e,t),t+=this.length),e)};
},{"inherits":"Bm0n","../base/reporter":"BhoU","safer-buffer":"rE8J"}],"kZXB":[function(require,module,exports) {
"use strict";const e=require("../base/reporter").Reporter,t=require("../base/buffer").EncoderBuffer,n=require("../base/buffer").DecoderBuffer,i=require("minimalistic-assert"),o=["seq","seqof","set","setof","objid","bool","gentime","utctime","null_","enum","int","objDesc","bitstr","bmpstr","charstr","genstr","graphstr","ia5str","iso646str","numstr","octstr","printstr","t61str","unistr","utf8str","videostr"],r=["key","obj","use","optional","explicit","implicit","def","choice","any","contains"].concat(o),s=["_peekTag","_decodeTag","_use","_decodeStr","_decodeObjid","_decodeTime","_decodeNull","_decodeInt","_decodeBool","_decodeList","_encodeComposite","_encodeStr","_encodeObjid","_encodeTime","_encodeNull","_encodeInt","_encodeBool"];function c(e,t,n){const i={};this._baseState=i,i.name=n,i.enc=e,i.parent=t||null,i.children=null,i.tag=null,i.args=null,i.reverseArgs=null,i.choice=null,i.optional=!1,i.any=!1,i.obj=!1,i.use=null,i.useDecoder=null,i.key=null,i.default=null,i.explicit=null,i.implicit=null,i.contains=null,i.parent||(i.children=[],this._wrap())}module.exports=c;const l=["enc","parent","children","tag","args","reverseArgs","choice","optional","any","obj","use","alteredUse","key","default","explicit","implicit","contains"];c.prototype.clone=function(){const e=this._baseState,t={};l.forEach(function(n){t[n]=e[n]});const n=new this.constructor(t.parent);return n._baseState=t,n},c.prototype._wrap=function(){const e=this._baseState;r.forEach(function(t){this[t]=function(){const n=new this.constructor(this);return e.children.push(n),n[t].apply(n,arguments)}},this)},c.prototype._init=function(e){const t=this._baseState;i(null===t.parent),e.call(this),t.children=t.children.filter(function(e){return e._baseState.parent===this},this),i.equal(t.children.length,1,"Root node can have only one child")},c.prototype._useArgs=function(e){const t=this._baseState,n=e.filter(function(e){return e instanceof this.constructor},this);e=e.filter(function(e){return!(e instanceof this.constructor)},this),0!==n.length&&(i(null===t.children),t.children=n,n.forEach(function(e){e._baseState.parent=this},this)),0!==e.length&&(i(null===t.args),t.args=e,t.reverseArgs=e.map(function(e){if("object"!=typeof e||e.constructor!==Object)return e;const t={};return Object.keys(e).forEach(function(n){n==(0|n)&&(n|=0);const i=e[n];t[i]=n}),t}))},s.forEach(function(e){c.prototype[e]=function(){const t=this._baseState;throw new Error(e+" not implemented for encoding: "+t.enc)}}),o.forEach(function(e){c.prototype[e]=function(){const t=this._baseState,n=Array.prototype.slice.call(arguments);return i(null===t.tag),t.tag=e,this._useArgs(n),this}}),c.prototype.use=function(e){i(e);const t=this._baseState;return i(null===t.use),t.use=e,this},c.prototype.optional=function(){return this._baseState.optional=!0,this},c.prototype.def=function(e){const t=this._baseState;return i(null===t.default),t.default=e,t.optional=!0,this},c.prototype.explicit=function(e){const t=this._baseState;return i(null===t.explicit&&null===t.implicit),t.explicit=e,this},c.prototype.implicit=function(e){const t=this._baseState;return i(null===t.explicit&&null===t.implicit),t.implicit=e,this},c.prototype.obj=function(){const e=this._baseState,t=Array.prototype.slice.call(arguments);return e.obj=!0,0!==t.length&&this._useArgs(t),this},c.prototype.key=function(e){const t=this._baseState;return i(null===t.key),t.key=e,this},c.prototype.any=function(){return this._baseState.any=!0,this},c.prototype.choice=function(e){const t=this._baseState;return i(null===t.choice),t.choice=e,this._useArgs(Object.keys(e).map(function(t){return e[t]})),this},c.prototype.contains=function(e){const t=this._baseState;return i(null===t.use),t.contains=e,this},c.prototype._decode=function(e,t){const i=this._baseState;if(null===i.parent)return e.wrapResult(i.children[0]._decode(e,t));let o,r=i.default,s=!0,c=null;if(null!==i.key&&(c=e.enterKey(i.key)),i.optional){let n=null;if(null!==i.explicit?n=i.explicit:null!==i.implicit?n=i.implicit:null!==i.tag&&(n=i.tag),null!==n||i.any){if(s=this._peekTag(e,n,i.any),e.isError(s))return s}else{const n=e.save();try{null===i.choice?this._decodeGeneric(i.tag,e,t):this._decodeChoice(e,t),s=!0}catch(l){s=!1}e.restore(n)}}if(i.obj&&s&&(o=e.enterObject()),s){if(null!==i.explicit){const t=this._decodeTag(e,i.explicit);if(e.isError(t))return t;e=t}const o=e.offset;if(null===i.use&&null===i.choice){let t;i.any&&(t=e.save());const n=this._decodeTag(e,null!==i.implicit?i.implicit:i.tag,i.any);if(e.isError(n))return n;i.any?r=e.raw(t):e=n}if(t&&t.track&&null!==i.tag&&t.track(e.path(),o,e.length,"tagged"),t&&t.track&&null!==i.tag&&t.track(e.path(),e.offset,e.length,"content"),i.any||(r=null===i.choice?this._decodeGeneric(i.tag,e,t):this._decodeChoice(e,t)),e.isError(r))return r;if(i.any||null!==i.choice||null===i.children||i.children.forEach(function(n){n._decode(e,t)}),i.contains&&("octstr"===i.tag||"bitstr"===i.tag)){const o=new n(r);r=this._getUse(i.contains,e._reporterState.obj)._decode(o,t)}}return i.obj&&s&&(r=e.leaveObject(o)),null===i.key||null===r&&!0!==s?null!==c&&e.exitKey(c):e.leaveKey(c,i.key,r),r},c.prototype._decodeGeneric=function(e,t,n){const i=this._baseState;return"seq"===e||"set"===e?null:"seqof"===e||"setof"===e?this._decodeList(t,e,i.args[0],n):/str$/.test(e)?this._decodeStr(t,e,n):"objid"===e&&i.args?this._decodeObjid(t,i.args[0],i.args[1],n):"objid"===e?this._decodeObjid(t,null,null,n):"gentime"===e||"utctime"===e?this._decodeTime(t,e,n):"null_"===e?this._decodeNull(t,n):"bool"===e?this._decodeBool(t,n):"objDesc"===e?this._decodeStr(t,e,n):"int"===e||"enum"===e?this._decodeInt(t,i.args&&i.args[0],n):null!==i.use?this._getUse(i.use,t._reporterState.obj)._decode(t,n):t.error("unknown tag: "+e)},c.prototype._getUse=function(e,t){const n=this._baseState;return n.useDecoder=this._use(e,t),i(null===n.useDecoder._baseState.parent),n.useDecoder=n.useDecoder._baseState.children[0],n.implicit!==n.useDecoder._baseState.implicit&&(n.useDecoder=n.useDecoder.clone(),n.useDecoder._baseState.implicit=n.implicit),n.useDecoder},c.prototype._decodeChoice=function(e,t){const n=this._baseState;let i=null,o=!1;return Object.keys(n.choice).some(function(r){const s=e.save(),c=n.choice[r];try{const n=c._decode(e,t);if(e.isError(n))return!1;i={type:r,value:n},o=!0}catch(l){return e.restore(s),!1}return!0},this),o?i:e.error("Choice not matched")},c.prototype._createEncoderBuffer=function(e){return new t(e,this.reporter)},c.prototype._encode=function(e,t,n){const i=this._baseState;if(null!==i.default&&i.default===e)return;const o=this._encodeValue(e,t,n);return void 0===o||this._skipDefault(o,t,n)?void 0:o},c.prototype._encodeValue=function(t,n,i){const o=this._baseState;if(null===o.parent)return o.children[0]._encode(t,n||new e);let r=null;if(this.reporter=n,o.optional&&void 0===t){if(null===o.default)return;t=o.default}let s=null,c=!1;if(o.any)r=this._createEncoderBuffer(t);else if(o.choice)r=this._encodeChoice(t,n);else if(o.contains)s=this._getUse(o.contains,i)._encode(t,n),c=!0;else if(o.children)s=o.children.map(function(e){if("null_"===e._baseState.tag)return e._encode(null,n,t);if(null===e._baseState.key)return n.error("Child should have a key");const i=n.enterKey(e._baseState.key);if("object"!=typeof t)return n.error("Child expected, but input is not object");const o=e._encode(t[e._baseState.key],n,t);return n.leaveKey(i),o},this).filter(function(e){return e}),s=this._createEncoderBuffer(s);else if("seqof"===o.tag||"setof"===o.tag){if(!o.args||1!==o.args.length)return n.error("Too many args for : "+o.tag);if(!Array.isArray(t))return n.error("seqof/setof, but data is not Array");const e=this.clone();e._baseState.implicit=null,s=this._createEncoderBuffer(t.map(function(e){const i=this._baseState;return this._getUse(i.args[0],t)._encode(e,n)},e))}else null!==o.use?r=this._getUse(o.use,i)._encode(t,n):(s=this._encodePrimitive(o.tag,t),c=!0);if(!o.any&&null===o.choice){const e=null!==o.implicit?o.implicit:o.tag,t=null===o.implicit?"universal":"context";null===e?null===o.use&&n.error("Tag could be omitted only for .use()"):null===o.use&&(r=this._encodeComposite(e,c,t,s))}return null!==o.explicit&&(r=this._encodeComposite(o.explicit,!1,"context",r)),r},c.prototype._encodeChoice=function(e,t){const n=this._baseState,o=n.choice[e.type];return o||i(!1,e.type+" not found in "+JSON.stringify(Object.keys(n.choice))),o._encode(e.value,t)},c.prototype._encodePrimitive=function(e,t){const n=this._baseState;if(/str$/.test(e))return this._encodeStr(t,e);if("objid"===e&&n.args)return this._encodeObjid(t,n.reverseArgs[0],n.args[1]);if("objid"===e)return this._encodeObjid(t,null,null);if("gentime"===e||"utctime"===e)return this._encodeTime(t,e);if("null_"===e)return this._encodeNull();if("int"===e||"enum"===e)return this._encodeInt(t,n.args&&n.reverseArgs[0]);if("bool"===e)return this._encodeBool(t);if("objDesc"===e)return this._encodeStr(t,e);throw new Error("Unsupported tag: "+e)},c.prototype._isNumstr=function(e){return/^[0-9 ]*$/.test(e)},c.prototype._isPrintstr=function(e){return/^[A-Za-z0-9 '()+,-./:=?]*$/.test(e)};
},{"../base/reporter":"BhoU","../base/buffer":"JJX4","minimalistic-assert":"MpuC"}],"psPF":[function(require,module,exports) {
"use strict";function t(t){const s={};return Object.keys(t).forEach(function(e){(0|e)==e&&(e|=0);const r=t[e];s[r]=e}),s}exports.tagClass={0:"universal",1:"application",2:"context",3:"private"},exports.tagClassByName=t(exports.tagClass),exports.tag={0:"end",1:"bool",2:"int",3:"bitstr",4:"octstr",5:"null_",6:"objid",7:"objDesc",8:"external",9:"real",10:"enum",11:"embed",12:"utf8str",13:"relativeOid",16:"seq",17:"set",18:"numstr",19:"printstr",20:"t61str",21:"videostr",22:"ia5str",23:"utctime",24:"gentime",25:"graphstr",26:"iso646str",27:"genstr",28:"unistr",29:"charstr",30:"bmpstr"},exports.tagByName=t(exports.tag);
},{}],"adTp":[function(require,module,exports) {

"use strict";const e=require("inherits"),t=require("safer-buffer").Buffer,r=require("../base/node"),n=require("../constants/der");function o(e){this.enc="der",this.name=e.name,this.entity=e,this.tree=new i,this.tree._init(e.body)}function i(e){r.call(this,"der",e)}function s(e){return e<10?"0"+e:e}function f(e,t,r,o){let i;if("seqof"===e?e="seq":"setof"===e&&(e="set"),n.tagByName.hasOwnProperty(e))i=n.tagByName[e];else{if("number"!=typeof e||(0|e)!==e)return o.error("Unknown tag: "+e);i=e}return i>=31?o.error("Multi-octet tag encoding unsupported"):(t||(i|=32),i|=n.tagClassByName[r||"universal"]<<6)}module.exports=o,o.prototype.encode=function(e,t){return this.tree._encode(e,t).join()},e(i,r),i.prototype._encodeComposite=function(e,r,n,o){const i=f(e,r,n,this.reporter);if(o.length<128){const e=t.alloc(2);return e[0]=i,e[1]=o.length,this._createEncoderBuffer([e,o])}let s=1;for(let t=o.length;t>=256;t>>=8)s++;const u=t.alloc(2+s);u[0]=i,u[1]=128|s;for(let t=1+s,f=o.length;f>0;t--,f>>=8)u[t]=255&f;return this._createEncoderBuffer([u,o])},i.prototype._encodeStr=function(e,r){if("bitstr"===r)return this._createEncoderBuffer([0|e.unused,e.data]);if("bmpstr"===r){const r=t.alloc(2*e.length);for(let t=0;t<e.length;t++)r.writeUInt16BE(e.charCodeAt(t),2*t);return this._createEncoderBuffer(r)}return"numstr"===r?this._isNumstr(e)?this._createEncoderBuffer(e):this.reporter.error("Encoding of string type: numstr supports only digits and space"):"printstr"===r?this._isPrintstr(e)?this._createEncoderBuffer(e):this.reporter.error("Encoding of string type: printstr supports only latin upper and lower case letters, digits, space, apostrophe, left and rigth parenthesis, plus sign, comma, hyphen, dot, slash, colon, equal sign, question mark"):/str$/.test(r)?this._createEncoderBuffer(e):"objDesc"===r?this._createEncoderBuffer(e):this.reporter.error("Encoding of string type: "+r+" unsupported")},i.prototype._encodeObjid=function(e,r,n){if("string"==typeof e){if(!r)return this.reporter.error("string objid given, but no values map found");if(!r.hasOwnProperty(e))return this.reporter.error("objid not found in values map");e=r[e].split(/[\s.]+/g);for(let t=0;t<e.length;t++)e[t]|=0}else if(Array.isArray(e)){e=e.slice();for(let t=0;t<e.length;t++)e[t]|=0}if(!Array.isArray(e))return this.reporter.error("objid() should be either array or string, got: "+JSON.stringify(e));if(!n){if(e[1]>=40)return this.reporter.error("Second objid identifier OOB");e.splice(0,2,40*e[0]+e[1])}let o=0;for(let t=0;t<e.length;t++){let r=e[t];for(o++;r>=128;r>>=7)o++}const i=t.alloc(o);let s=i.length-1;for(let t=e.length-1;t>=0;t--){let r=e[t];for(i[s--]=127&r;(r>>=7)>0;)i[s--]=128|127&r}return this._createEncoderBuffer(i)},i.prototype._encodeTime=function(e,t){let r;const n=new Date(e);return"gentime"===t?r=[s(n.getUTCFullYear()),s(n.getUTCMonth()+1),s(n.getUTCDate()),s(n.getUTCHours()),s(n.getUTCMinutes()),s(n.getUTCSeconds()),"Z"].join(""):"utctime"===t?r=[s(n.getUTCFullYear()%100),s(n.getUTCMonth()+1),s(n.getUTCDate()),s(n.getUTCHours()),s(n.getUTCMinutes()),s(n.getUTCSeconds()),"Z"].join(""):this.reporter.error("Encoding "+t+" time is not supported yet"),this._encodeStr(r,"octstr")},i.prototype._encodeNull=function(){return this._createEncoderBuffer("")},i.prototype._encodeInt=function(e,r){if("string"==typeof e){if(!r)return this.reporter.error("String int or enum given, but no values map");if(!r.hasOwnProperty(e))return this.reporter.error("Values map doesn't contain: "+JSON.stringify(e));e=r[e]}if("number"!=typeof e&&!t.isBuffer(e)){const r=e.toArray();!e.sign&&128&r[0]&&r.unshift(0),e=t.from(r)}if(t.isBuffer(e)){let r=e.length;0===e.length&&r++;const n=t.alloc(r);return e.copy(n),0===e.length&&(n[0]=0),this._createEncoderBuffer(n)}if(e<128)return this._createEncoderBuffer(e);if(e<256)return this._createEncoderBuffer([0,e]);let n=1;for(let t=e;t>=256;t>>=8)n++;const o=new Array(n);for(let t=o.length-1;t>=0;t--)o[t]=255&e,e>>=8;return 128&o[0]&&o.unshift(0),this._createEncoderBuffer(t.from(o))},i.prototype._encodeBool=function(e){return this._createEncoderBuffer(e?255:0)},i.prototype._use=function(e,t){return"function"==typeof e&&(e=e(t)),e._getEncoder("der").tree},i.prototype._skipDefault=function(e,t,r){const n=this._baseState;let o;if(null===n.default)return!1;const i=e.join();if(void 0===n.defaultBuffer&&(n.defaultBuffer=this._encodeValue(n.default,t,r).join()),i.length!==n.defaultBuffer.length)return!1;for(o=0;o<i.length;o++)if(i[o]!==n.defaultBuffer[o])return!1;return!0};
},{"inherits":"Bm0n","safer-buffer":"rE8J","../base/node":"kZXB","../constants/der":"psPF"}],"Yqnf":[function(require,module,exports) {
"use strict";const e=require("inherits"),t=require("./der");function n(e){t.call(this,e),this.enc="pem"}e(n,t),module.exports=n,n.prototype.encode=function(e,n){const o=t.prototype.encode.call(this,e).toString("base64"),r=["-----BEGIN "+n.label+"-----"];for(let t=0;t<o.length;t+=64)r.push(o.slice(t,t+64));return r.push("-----END "+n.label+"-----"),r.join("\n")};
},{"inherits":"Bm0n","./der":"adTp"}],"YGCS":[function(require,module,exports) {
"use strict";const e=exports;e.der=require("./der"),e.pem=require("./pem");
},{"./der":"adTp","./pem":"Yqnf"}],"Hd0I":[function(require,module,exports) {
"use strict";const t=require("inherits"),r=require("bn.js"),e=require("../base/buffer").DecoderBuffer,i=require("../base/node"),o=require("../constants/der");function n(t){this.enc="der",this.name=t.name,this.entity=t,this.tree=new s,this.tree._init(t.body)}function s(t){i.call(this,"der",t)}function c(t,r){let e=t.readUInt8(r);if(t.isError(e))return e;const i=o.tagClass[e>>6],n=0==(32&e);if(31==(31&e)){let i=e;for(e=0;128==(128&i);){if(i=t.readUInt8(r),t.isError(i))return i;e<<=7,e|=127&i}}else e&=31;return{cls:i,primitive:n,tag:e,tagStr:o.tag[e]}}function u(t,r,e){let i=t.readUInt8(e);if(t.isError(i))return i;if(!r&&128===i)return null;if(0==(128&i))return i;const o=127&i;if(o>4)return t.error("length octect is too long");i=0;for(let n=0;n<o;n++){i<<=8;const r=t.readUInt8(e);if(t.isError(r))return r;i|=r}return i}module.exports=n,n.prototype.decode=function(t,r){return e.isDecoderBuffer(t)||(t=new e(t,r)),this.tree._decode(t,r)},t(s,i),s.prototype._peekTag=function(t,r,e){if(t.isEmpty())return!1;const i=t.save(),o=c(t,'Failed to peek tag: "'+r+'"');return t.isError(o)?o:(t.restore(i),o.tag===r||o.tagStr===r||o.tagStr+"of"===r||e)},s.prototype._decodeTag=function(t,r,e){const i=c(t,'Failed to decode tag of "'+r+'"');if(t.isError(i))return i;let o=u(t,i.primitive,'Failed to get length of "'+r+'"');if(t.isError(o))return o;if(!e&&i.tag!==r&&i.tagStr!==r&&i.tagStr+"of"!==r)return t.error('Failed to match tag: "'+r+'"');if(i.primitive||null!==o)return t.skip(o,'Failed to match body of: "'+r+'"');const n=t.save(),s=this._skipUntilEnd(t,'Failed to skip indefinite length body: "'+this.tag+'"');return t.isError(s)?s:(o=t.offset-n.offset,t.restore(n),t.skip(o,'Failed to match body of: "'+r+'"'))},s.prototype._skipUntilEnd=function(t,r){for(;;){const e=c(t,r);if(t.isError(e))return e;const i=u(t,e.primitive,r);if(t.isError(i))return i;let o;if(o=e.primitive||null!==i?t.skip(i):this._skipUntilEnd(t,r),t.isError(o))return o;if("end"===e.tagStr)break}},s.prototype._decodeList=function(t,r,e,i){const o=[];for(;!t.isEmpty();){const r=this._peekTag(t,"end");if(t.isError(r))return r;const n=e.decode(t,"der",i);if(t.isError(n)&&r)break;o.push(n)}return o},s.prototype._decodeStr=function(t,r){if("bitstr"===r){const r=t.readUInt8();return t.isError(r)?r:{unused:r,data:t.raw()}}if("bmpstr"===r){const r=t.raw();if(r.length%2==1)return t.error("Decoding of string type: bmpstr length mismatch");let e="";for(let t=0;t<r.length/2;t++)e+=String.fromCharCode(r.readUInt16BE(2*t));return e}if("numstr"===r){const r=t.raw().toString("ascii");return this._isNumstr(r)?r:t.error("Decoding of string type: numstr unsupported characters")}if("octstr"===r)return t.raw();if("objDesc"===r)return t.raw();if("printstr"===r){const r=t.raw().toString("ascii");return this._isPrintstr(r)?r:t.error("Decoding of string type: printstr unsupported characters")}return/str$/.test(r)?t.raw().toString():t.error("Decoding of string type: "+r+" unsupported")},s.prototype._decodeObjid=function(t,r,e){let i;const o=[];let n=0,s=0;for(;!t.isEmpty();)n<<=7,n|=127&(s=t.readUInt8()),0==(128&s)&&(o.push(n),n=0);128&s&&o.push(n);const c=o[0]/40|0,u=o[0]%40;if(i=e?o:[c,u].concat(o.slice(1)),r){let t=r[i.join(" ")];void 0===t&&(t=r[i.join(".")]),void 0!==t&&(i=t)}return i},s.prototype._decodeTime=function(t,r){const e=t.raw().toString();let i,o,n,s,c,u;if("gentime"===r)i=0|e.slice(0,4),o=0|e.slice(4,6),n=0|e.slice(6,8),s=0|e.slice(8,10),c=0|e.slice(10,12),u=0|e.slice(12,14);else{if("utctime"!==r)return t.error("Decoding "+r+" time is not supported yet");i=0|e.slice(0,2),o=0|e.slice(2,4),n=0|e.slice(4,6),s=0|e.slice(6,8),c=0|e.slice(8,10),u=0|e.slice(10,12),i=i<70?2e3+i:1900+i}return Date.UTC(i,o-1,n,s,c,u,0)},s.prototype._decodeNull=function(){return null},s.prototype._decodeBool=function(t){const r=t.readUInt8();return t.isError(r)?r:0!==r},s.prototype._decodeInt=function(t,e){const i=t.raw();let o=new r(i);return e&&(o=e[o.toString(10)]||o),o},s.prototype._use=function(t,r){return"function"==typeof t&&(t=t(r)),t._getDecoder("der").tree};
},{"inherits":"Bm0n","bn.js":"VXic","../base/buffer":"JJX4","../base/node":"kZXB","../constants/der":"psPF"}],"byl7":[function(require,module,exports) {

"use strict";const e=require("inherits"),r=require("safer-buffer").Buffer,t=require("./der");function o(e){t.call(this,e),this.enc="pem"}e(o,t),module.exports=o,o.prototype.decode=function(e,o){const i=e.toString().split(/[\r\n]+/g),n=o.label.toUpperCase(),s=/^-----(BEGIN|END) ([^-]+)-----$/;let c=-1,f=-1;for(let r=0;r<i.length;r++){const e=i[r].match(s);if(null!==e&&e[2]===n){if(-1!==c){if("END"!==e[1])break;f=r;break}if("BEGIN"!==e[1])break;c=r}}if(-1===c||-1===f)throw new Error("PEM section not found for: "+n);const l=i.slice(c+1,f).join("");l.replace(/[^a-z0-9+/=]+/gi,"");const a=r.from(l,"base64");return t.prototype.decode.call(this,a,o)};
},{"inherits":"Bm0n","safer-buffer":"rE8J","./der":"Hd0I"}],"Sn5H":[function(require,module,exports) {
"use strict";const e=exports;e.der=require("./der"),e.pem=require("./pem");
},{"./der":"Hd0I","./pem":"byl7"}],"gOko":[function(require,module,exports) {
"use strict";const e=require("./encoders"),t=require("./decoders"),r=require("inherits"),n=exports;function o(e,t){this.name=e,this.body=t,this.decoders={},this.encoders={}}n.define=function(e,t){return new o(e,t)},o.prototype._createNamed=function(e){const t=this.name;function n(e){this._initNamed(e,t)}return r(n,e),n.prototype._initNamed=function(t,r){e.call(this,t,r)},new n(this)},o.prototype._getDecoder=function(e){return e=e||"der",this.decoders.hasOwnProperty(e)||(this.decoders[e]=this._createNamed(t[e])),this.decoders[e]},o.prototype.decode=function(e,t,r){return this._getDecoder(t).decode(e,r)},o.prototype._getEncoder=function(t){return t=t||"der",this.encoders.hasOwnProperty(t)||(this.encoders[t]=this._createNamed(e[t])),this.encoders[t]},o.prototype.encode=function(e,t,r){return this._getEncoder(t).encode(e,r)};
},{"./encoders":"YGCS","./decoders":"Sn5H","inherits":"Bm0n"}],"G4cX":[function(require,module,exports) {
"use strict";const e=exports;e.Reporter=require("./reporter").Reporter,e.DecoderBuffer=require("./buffer").DecoderBuffer,e.EncoderBuffer=require("./buffer").EncoderBuffer,e.Node=require("./node");
},{"./reporter":"BhoU","./buffer":"JJX4","./node":"kZXB"}],"yW9S":[function(require,module,exports) {
"use strict";const e=exports;e._reverse=function(e){const r={};return Object.keys(e).forEach(function(t){(0|t)==t&&(t|=0);const c=e[t];r[c]=t}),r},e.der=require("./der");
},{"./der":"psPF"}],"NNmB":[function(require,module,exports) {
"use strict";const e=exports;e.bignum=require("bn.js"),e.define=require("./asn1/api").define,e.base=require("./asn1/base"),e.constants=require("./asn1/constants"),e.decoders=require("./asn1/decoders"),e.encoders=require("./asn1/encoders");
},{"bn.js":"VXic","./asn1/api":"gOko","./asn1/base":"G4cX","./asn1/constants":"yW9S","./asn1/decoders":"Sn5H","./asn1/encoders":"YGCS"}],"XsN6":[function(require,module,exports) {
"use strict";var e=require("asn1.js"),i=e.define("Time",function(){this.choice({utcTime:this.utctime(),generalTime:this.gentime()})}),t=e.define("AttributeTypeValue",function(){this.seq().obj(this.key("type").objid(),this.key("value").any())}),s=e.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("parameters").optional(),this.key("curve").objid().optional())}),n=e.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(s),this.key("subjectPublicKey").bitstr())}),o=e.define("RelativeDistinguishedName",function(){this.setof(t)}),u=e.define("RDNSequence",function(){this.seqof(o)}),h=e.define("Name",function(){this.choice({rdnSequence:this.use(u)})}),c=e.define("Validity",function(){this.seq().obj(this.key("notBefore").use(i),this.key("notAfter").use(i))}),r=e.define("Extension",function(){this.seq().obj(this.key("extnID").objid(),this.key("critical").bool().def(!1),this.key("extnValue").octstr())}),f=e.define("TBSCertificate",function(){this.seq().obj(this.key("version").explicit(0).int().optional(),this.key("serialNumber").int(),this.key("signature").use(s),this.key("issuer").use(h),this.key("validity").use(c),this.key("subject").use(h),this.key("subjectPublicKeyInfo").use(n),this.key("issuerUniqueID").implicit(1).bitstr().optional(),this.key("subjectUniqueID").implicit(2).bitstr().optional(),this.key("extensions").explicit(3).seqof(r).optional())}),y=e.define("X509Certificate",function(){this.seq().obj(this.key("tbsCertificate").use(f),this.key("signatureAlgorithm").use(s),this.key("signatureValue").bitstr())});module.exports=y;
},{"asn1.js":"NNmB"}],"hfk5":[function(require,module,exports) {
"use strict";var e=require("asn1.js");exports.certificate=require("./certificate");var i=e.define("RSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("modulus").int(),this.key("publicExponent").int(),this.key("privateExponent").int(),this.key("prime1").int(),this.key("prime2").int(),this.key("exponent1").int(),this.key("exponent2").int(),this.key("coefficient").int())});exports.RSAPrivateKey=i;var t=e.define("RSAPublicKey",function(){this.seq().obj(this.key("modulus").int(),this.key("publicExponent").int())});exports.RSAPublicKey=t;var s=e.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(n),this.key("subjectPublicKey").bitstr())});exports.PublicKey=s;var n=e.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("none").null_().optional(),this.key("curve").objid().optional(),this.key("params").seq().obj(this.key("p").int(),this.key("q").int(),this.key("g").int()).optional())}),o=e.define("PrivateKeyInfo",function(){this.seq().obj(this.key("version").int(),this.key("algorithm").use(n),this.key("subjectPrivateKey").octstr())});exports.PrivateKey=o;var r=e.define("EncryptedPrivateKeyInfo",function(){this.seq().obj(this.key("algorithm").seq().obj(this.key("id").objid(),this.key("decrypt").seq().obj(this.key("kde").seq().obj(this.key("id").objid(),this.key("kdeparams").seq().obj(this.key("salt").octstr(),this.key("iters").int())),this.key("cipher").seq().obj(this.key("algo").objid(),this.key("iv").octstr()))),this.key("subjectPrivateKey").octstr())});exports.EncryptedPrivateKey=r;var y=e.define("DSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("p").int(),this.key("q").int(),this.key("g").int(),this.key("pub_key").int(),this.key("priv_key").int())});exports.DSAPrivateKey=y,exports.DSAparam=e.define("DSAparam",function(){this.int()});var h=e.define("ECPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("privateKey").octstr(),this.key("parameters").optional().explicit(0).use(a),this.key("publicKey").optional().explicit(1).bitstr())});exports.ECPrivateKey=h;var a=e.define("ECParameters",function(){this.choice({namedCurve:this.objid()})});exports.signature=e.define("signature",function(){this.seq().obj(this.key("r").int(),this.key("s").int())});
},{"asn1.js":"NNmB","./certificate":"XsN6"}],"QyaF":[function(require,module,exports) {
module.exports={"2.16.840.1.101.3.4.1.1":"aes-128-ecb","2.16.840.1.101.3.4.1.2":"aes-128-cbc","2.16.840.1.101.3.4.1.3":"aes-128-ofb","2.16.840.1.101.3.4.1.4":"aes-128-cfb","2.16.840.1.101.3.4.1.21":"aes-192-ecb","2.16.840.1.101.3.4.1.22":"aes-192-cbc","2.16.840.1.101.3.4.1.23":"aes-192-ofb","2.16.840.1.101.3.4.1.24":"aes-192-cfb","2.16.840.1.101.3.4.1.41":"aes-256-ecb","2.16.840.1.101.3.4.1.42":"aes-256-cbc","2.16.840.1.101.3.4.1.43":"aes-256-ofb","2.16.840.1.101.3.4.1.44":"aes-256-cfb"};
},{}],"PyvQ":[function(require,module,exports) {

var e=/Proc-Type: 4,ENCRYPTED[\n\r]+DEK-Info: AES-((?:128)|(?:192)|(?:256))-CBC,([0-9A-H]+)[\n\r]+([0-9A-z\n\r+/=]+)[\n\r]+/m,r=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----/m,a=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----([0-9A-z\n\r+/=]+)-----END \1-----$/m,t=require("evp_bytestokey"),n=require("browserify-aes"),f=require("safe-buffer").Buffer;module.exports=function(s,E){var c,o=s.toString(),i=o.match(e);if(i){var u="aes"+i[1],m=f.from(i[2],"hex"),p=f.from(i[3].replace(/[\r\n]/g,""),"base64"),I=t(E,m.slice(0,8),parseInt(i[1],10)).key,h=[],C=n.createDecipheriv(u,I,m);h.push(C.update(p)),h.push(C.final()),c=f.concat(h)}else{var l=o.match(a);c=f.from(l[2].replace(/[\r\n]/g,""),"base64")}return{tag:o.match(r)[1],data:c}};
},{"evp_bytestokey":"exU6","browserify-aes":"hisC","safe-buffer":"Wugr"}],"g6E9":[function(require,module,exports) {

var e=require("./asn1"),r=require("./aesid.json"),a=require("./fixProc"),t=require("browserify-aes"),i=require("pbkdf2"),c=require("safe-buffer").Buffer;function d(r){var t;"object"!=typeof r||c.isBuffer(r)||(t=r.passphrase,r=r.key),"string"==typeof r&&(r=c.from(r));var i,d,u=a(r,t),o=u.tag,n=u.data;switch(o){case"CERTIFICATE":d=e.certificate.decode(n,"der").tbsCertificate.subjectPublicKeyInfo;case"PUBLIC KEY":switch(d||(d=e.PublicKey.decode(n,"der")),i=d.algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return e.RSAPublicKey.decode(d.subjectPublicKey.data,"der");case"1.2.840.10045.2.1":return d.subjectPrivateKey=d.subjectPublicKey,{type:"ec",data:d};case"1.2.840.10040.4.1":return d.algorithm.params.pub_key=e.DSAparam.decode(d.subjectPublicKey.data,"der"),{type:"dsa",data:d.algorithm.params};default:throw new Error("unknown key id "+i)}case"ENCRYPTED PRIVATE KEY":n=s(n=e.EncryptedPrivateKey.decode(n,"der"),t);case"PRIVATE KEY":switch(i=(d=e.PrivateKey.decode(n,"der")).algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return e.RSAPrivateKey.decode(d.subjectPrivateKey,"der");case"1.2.840.10045.2.1":return{curve:d.algorithm.curve,privateKey:e.ECPrivateKey.decode(d.subjectPrivateKey,"der").privateKey};case"1.2.840.10040.4.1":return d.algorithm.params.priv_key=e.DSAparam.decode(d.subjectPrivateKey,"der"),{type:"dsa",params:d.algorithm.params};default:throw new Error("unknown key id "+i)}case"RSA PUBLIC KEY":return e.RSAPublicKey.decode(n,"der");case"RSA PRIVATE KEY":return e.RSAPrivateKey.decode(n,"der");case"DSA PRIVATE KEY":return{type:"dsa",params:e.DSAPrivateKey.decode(n,"der")};case"EC PRIVATE KEY":return{curve:(n=e.ECPrivateKey.decode(n,"der")).parameters.value,privateKey:n.privateKey};default:throw new Error("unknown key type "+o)}}function s(e,a){var d=e.algorithm.decrypt.kde.kdeparams.salt,s=parseInt(e.algorithm.decrypt.kde.kdeparams.iters.toString(),10),u=r[e.algorithm.decrypt.cipher.algo.join(".")],o=e.algorithm.decrypt.cipher.iv,n=e.subjectPrivateKey,p=parseInt(u.split("-")[1],10)/8,y=i.pbkdf2Sync(a,d,s,p,"sha1"),K=t.createDecipheriv(u,y,o),l=[];return l.push(K.update(n)),l.push(K.final()),c.concat(l)}module.exports=d,d.signature=e.signature;
},{"./asn1":"hfk5","./aesid.json":"QyaF","./fixProc":"PyvQ","browserify-aes":"hisC","pbkdf2":"BKdu","safe-buffer":"Wugr"}],"lPVM":[function(require,module,exports) {
module.exports={"1.3.132.0.10":"secp256k1","1.3.132.0.33":"p224","1.2.840.10045.3.1.1":"p192","1.2.840.10045.3.1.7":"p256","1.3.132.0.34":"p384","1.3.132.0.35":"p521"};
},{}],"oj83":[function(require,module,exports) {

var e=require("safe-buffer").Buffer,r=require("create-hmac"),t=require("browserify-rsa"),n=require("elliptic").ec,a=require("bn.js"),o=require("parse-asn1"),u=require("./curves.json");function i(r,n,a,u,i){var p=o(n);if(p.curve){if("ecdsa"!==u&&"ecdsa/rsa"!==u)throw new Error("wrong private key type");return c(r,p)}if("dsa"===p.type){if("dsa"!==u)throw new Error("wrong private key type");return d(r,p,a)}if("rsa"!==u&&"ecdsa/rsa"!==u)throw new Error("wrong private key type");r=e.concat([i,r]);for(var f=p.modulus.byteLength(),s=[0,1];r.length+s.length+1<f;)s.push(255);s.push(0);for(var l=-1;++l<r.length;)s.push(r[l]);return t(s,p)}function c(r,t){var a=u[t.curve.join(".")];if(!a)throw new Error("unknown curve "+t.curve.join("."));var o=new n(a).keyFromPrivate(t.privateKey).sign(r);return e.from(o.toDER())}function d(e,r,t){for(var n,o=r.params.priv_key,u=r.params.p,i=r.params.q,c=r.params.g,d=new a(0),l=s(e,i).mod(i),h=!1,m=f(o,i,e,t);!1===h;)d=v(c,n=g(i,m,t),u,i),0===(h=n.invm(i).imul(l.add(o.mul(d))).mod(i)).cmpn(0)&&(h=!1,d=new a(0));return p(d,h)}function p(r,t){r=r.toArray(),t=t.toArray(),128&r[0]&&(r=[0].concat(r)),128&t[0]&&(t=[0].concat(t));var n=[48,r.length+t.length+4,2,r.length];return n=n.concat(r,[2,t.length],t),e.from(n)}function f(t,n,a,o){if((t=e.from(t.toArray())).length<n.byteLength()){var u=e.alloc(n.byteLength()-t.length);t=e.concat([u,t])}var i=a.length,c=l(a,n),d=e.alloc(i);d.fill(1);var p=e.alloc(i);return p=r(o,p).update(d).update(e.from([0])).update(t).update(c).digest(),d=r(o,p).update(d).digest(),{k:p=r(o,p).update(d).update(e.from([1])).update(t).update(c).digest(),v:d=r(o,p).update(d).digest()}}function s(e,r){var t=new a(e),n=(e.length<<3)-r.bitLength();return n>0&&t.ishrn(n),t}function l(r,t){r=(r=s(r,t)).mod(t);var n=e.from(r.toArray());if(n.length<t.byteLength()){var a=e.alloc(t.byteLength()-n.length);n=e.concat([a,n])}return n}function g(t,n,a){var o,u;do{for(o=e.alloc(0);8*o.length<t.bitLength();)n.v=r(a,n.k).update(n.v).digest(),o=e.concat([o,n.v]);u=s(o,t),n.k=r(a,n.k).update(n.v).update(e.from([0])).digest(),n.v=r(a,n.k).update(n.v).digest()}while(-1!==u.cmp(t));return u}function v(e,r,t,n){return e.toRed(a.mont(t)).redPow(r).fromRed().mod(n)}module.exports=i,module.exports.getKey=f,module.exports.makeKey=g;
},{"safe-buffer":"Wugr","create-hmac":"Cx6S","browserify-rsa":"Aukv","elliptic":"xha3","bn.js":"BOxy","parse-asn1":"g6E9","./curves.json":"lPVM"}],"pXUL":[function(require,module,exports) {

var r=require("safe-buffer").Buffer,e=require("bn.js"),n=require("elliptic").ec,o=require("parse-asn1"),t=require("./curves.json");function a(n,t,a,d,f){var c=o(a);if("ec"===c.type){if("ecdsa"!==d&&"ecdsa/rsa"!==d)throw new Error("wrong public key type");return u(n,t,c)}if("dsa"===c.type){if("dsa"!==d)throw new Error("wrong public key type");return i(n,t,c)}if("rsa"!==d&&"ecdsa/rsa"!==d)throw new Error("wrong public key type");t=r.concat([f,t]);for(var s=c.modulus.byteLength(),m=[1],l=0;t.length+m.length+2<s;)m.push(255),l++;m.push(0);for(var w=-1;++w<t.length;)m.push(t[w]);m=r.from(m);var p=e.mont(c.modulus);n=(n=new e(n).toRed(p)).redPow(new e(c.publicExponent)),n=r.from(n.fromRed().toArray());var h=l<8?1:0;for(s=Math.min(n.length,m.length),n.length!==m.length&&(h=1),w=-1;++w<s;)h|=n[w]^m[w];return 0===h}function u(r,e,o){var a=t[o.data.algorithm.curve.join(".")];if(!a)throw new Error("unknown curve "+o.data.algorithm.curve.join("."));var u=new n(a),i=o.data.subjectPrivateKey.data;return u.verify(e,r,i)}function i(r,n,t){var a=t.data.p,u=t.data.q,i=t.data.g,f=t.data.pub_key,c=o.signature.decode(r,"der"),s=c.s,m=c.r;d(s,u),d(m,u);var l=e.mont(a),w=s.invm(u);return 0===i.toRed(l).redPow(new e(n).mul(w).mod(u)).fromRed().mul(f.toRed(l).redPow(m.mul(w).mod(u)).fromRed()).mod(a).mod(u).cmp(m)}function d(r,e){if(r.cmpn(0)<=0)throw new Error("invalid sig");if(r.cmp(e)>=e)throw new Error("invalid sig")}module.exports=a;
},{"safe-buffer":"Wugr","bn.js":"BOxy","elliptic":"xha3","parse-asn1":"g6E9","./curves.json":"lPVM"}],"BAbM":[function(require,module,exports) {

var t=require("safe-buffer").Buffer,e=require("create-hash"),i=require("readable-stream"),r=require("inherits"),s=require("./sign"),h=require("./verify"),n=require("./algorithms.json");function a(t){i.Writable.call(this);var r=n[t];if(!r)throw new Error("Unknown message digest");this._hashType=r.hash,this._hash=e(r.hash),this._tag=r.id,this._signType=r.sign}function o(t){i.Writable.call(this);var r=n[t];if(!r)throw new Error("Unknown message digest");this._hash=e(r.hash),this._tag=r.id,this._signType=r.sign}function u(t){return new a(t)}function f(t){return new o(t)}Object.keys(n).forEach(function(e){n[e].id=t.from(n[e].id,"hex"),n[e.toLowerCase()]=n[e]}),r(a,i.Writable),a.prototype._write=function(t,e,i){this._hash.update(t),i()},a.prototype.update=function(e,i){return"string"==typeof e&&(e=t.from(e,i)),this._hash.update(e),this},a.prototype.sign=function(t,e){this.end();var i=this._hash.digest(),r=s(i,t,this._hashType,this._signType,this._tag);return e?r.toString(e):r},r(o,i.Writable),o.prototype._write=function(t,e,i){this._hash.update(t),i()},o.prototype.update=function(e,i){return"string"==typeof e&&(e=t.from(e,i)),this._hash.update(e),this},o.prototype.verify=function(e,i,r){"string"==typeof i&&(i=t.from(i,r)),this.end();var s=this._hash.digest();return h(i,s,e,this._signType,this._tag)},module.exports={Sign:u,Verify:f,createSign:u,createVerify:f};
},{"safe-buffer":"Wugr","create-hash":"LF8r","readable-stream":"tzeh","inherits":"Bm0n","./sign":"oj83","./verify":"pXUL","./algorithms.json":"WoCp"}],"x3tl":[function(require,module,exports) {
var Buffer = require("buffer").Buffer;
var e=require("buffer").Buffer,t=require("elliptic"),r=require("bn.js");module.exports=function(e){return new n(e)};var i={secp256k1:{name:"secp256k1",byteLength:32},secp224r1:{name:"p224",byteLength:28},prime256v1:{name:"p256",byteLength:32},prime192v1:{name:"p192",byteLength:24},ed25519:{name:"ed25519",byteLength:32},secp384r1:{name:"p384",byteLength:48},secp521r1:{name:"p521",byteLength:66}};function n(e){this.curveType=i[e],this.curveType||(this.curveType={name:e}),this.curve=new t.ec(this.curveType.name),this.keys=void 0}function s(t,r,i){Array.isArray(t)||(t=t.toArray());var n=new e(t);if(i&&n.length<i){var s=new e(i-n.length);s.fill(0),n=e.concat([s,n])}return r?n.toString(r):n}i.p224=i.secp224r1,i.p256=i.secp256r1=i.prime256v1,i.p192=i.secp192r1=i.prime192v1,i.p384=i.secp384r1,i.p521=i.secp521r1,n.prototype.generateKeys=function(e,t){return this.keys=this.curve.genKeyPair(),this.getPublicKey(e,t)},n.prototype.computeSecret=function(t,r,i){return r=r||"utf8",e.isBuffer(t)||(t=new e(t,r)),s(this.curve.keyFromPublic(t).getPublic().mul(this.keys.getPrivate()).getX(),i,this.curveType.byteLength)},n.prototype.getPublicKey=function(e,t){var r=this.keys.getPublic("compressed"===t,!0);return"hybrid"===t&&(r[r.length-1]%2?r[0]=7:r[0]=6),s(r,e)},n.prototype.getPrivateKey=function(e){return s(this.keys.getPrivate(),e)},n.prototype.setPublicKey=function(t,r){return r=r||"utf8",e.isBuffer(t)||(t=new e(t,r)),this.keys._importPublic(t),this},n.prototype.setPrivateKey=function(t,i){i=i||"utf8",e.isBuffer(t)||(t=new e(t,i));var n=new r(t);return n=n.toString(16),this.keys=this.curve.genKeyPair(),this.keys._importPrivate(n),this};
},{"elliptic":"xha3","bn.js":"VXic","buffer":"peL6"}],"QJXH":[function(require,module,exports) {

var e=require("create-hash"),r=require("safe-buffer").Buffer;function a(e){var a=r.allocUnsafe(4);return a.writeUInt32BE(e,0),a}module.exports=function(t,u){for(var n,f=r.alloc(0),c=0;f.length<u;)n=a(c++),f=r.concat([f,e("sha1").update(t).update(n).digest()]);return f.slice(0,u)};
},{"create-hash":"LF8r","safe-buffer":"Wugr"}],"CItV":[function(require,module,exports) {
module.exports=function(r,e){for(var n=r.length,o=-1;++o<n;)r[o]^=e[o];return r};
},{}],"kM9E":[function(require,module,exports) {

var e=require("bn.js"),r=require("safe-buffer").Buffer;function o(o,u){return r.from(o.toRed(e.mont(u.modulus)).redPow(new e(u.publicExponent)).fromRed().toArray())}module.exports=o;
},{"bn.js":"VXic","safe-buffer":"Wugr"}],"U4Qp":[function(require,module,exports) {

var r=require("parse-asn1"),e=require("randombytes"),o=require("create-hash"),n=require("./mgf"),a=require("./xor"),t=require("bn.js"),u=require("./withPublic"),l=require("browserify-rsa"),i=require("safe-buffer").Buffer;function s(r,u){var l=r.modulus.byteLength(),s=u.length,f=o("sha1").update(i.alloc(0)).digest(),c=f.length,g=2*c;if(s>l-g-2)throw new Error("message too long");var d=i.alloc(l-s-g-2),h=l-c-1,w=e(c),m=a(i.concat([f,d,i.alloc(1,1),u],h),n(w,h)),q=a(w,n(m,c));return new t(i.concat([i.alloc(1),q,m],l))}function f(r,e,o){var n,a=e.length,u=r.modulus.byteLength();if(a>u-11)throw new Error("message too long");return n=o?i.alloc(u-a-3,255):c(u-a-3),new t(i.concat([i.from([0,o?1:2]),n,i.alloc(1),e],u))}function c(r){for(var o,n=i.allocUnsafe(r),a=0,t=e(2*r),u=0;a<r;)u===t.length&&(t=e(2*r),u=0),(o=t[u++])&&(n[a++]=o);return n}module.exports=function(e,o,n){var a;a=e.padding?e.padding:n?1:4;var i,c=r(e);if(4===a)i=s(c,o);else if(1===a)i=f(c,o,n);else{if(3!==a)throw new Error("unknown padding");if((i=new t(o)).cmp(c.modulus)>=0)throw new Error("data too long for modulus")}return n?l(i,c):u(i,c)};
},{"parse-asn1":"g6E9","randombytes":"XJNj","create-hash":"LF8r","./mgf":"QJXH","./xor":"CItV","bn.js":"VXic","./withPublic":"kM9E","browserify-rsa":"Aukv","safe-buffer":"Wugr"}],"mWkL":[function(require,module,exports) {

var r=require("parse-asn1"),e=require("./mgf"),n=require("./xor"),t=require("bn.js"),o=require("browserify-rsa"),i=require("create-hash"),u=require("./withPublic"),a=require("safe-buffer").Buffer;function l(r,t){var o=r.modulus.byteLength(),u=i("sha1").update(a.alloc(0)).digest(),l=u.length;if(0!==t[0])throw new Error("decryption error");var f=t.slice(1,l+1),c=t.slice(l+1),s=n(f,e(c,l)),g=n(c,e(s,o-l-1));if(h(u,g.slice(0,l)))throw new Error("decryption error");for(var d=l;0===g[d];)d++;if(1!==g[d++])throw new Error("decryption error");return g.slice(d)}function f(r,e,n){for(var t=e.slice(0,2),o=2,i=0;0!==e[o++];)if(o>=e.length){i++;break}var u=e.slice(2,o-1);if(("0002"!==t.toString("hex")&&!n||"0001"!==t.toString("hex")&&n)&&i++,u.length<8&&i++,i)throw new Error("decryption error");return e.slice(o)}function h(r,e){r=a.from(r),e=a.from(e);var n=0,t=r.length;r.length!==e.length&&(n++,t=Math.min(r.length,e.length));for(var o=-1;++o<t;)n+=r[o]^e[o];return n}module.exports=function(e,n,i){var h;h=e.padding?e.padding:i?1:4;var c,s=r(e),g=s.modulus.byteLength();if(n.length>g||new t(n).cmp(s.modulus)>=0)throw new Error("decryption error");c=i?u(new t(n),s):o(n,s);var d=a.alloc(g-c.length);if(c=a.concat([d,c],g),4===h)return l(s,c);if(1===h)return f(s,c,i);if(3===h)return c;throw new Error("unknown padding")};
},{"parse-asn1":"g6E9","./mgf":"QJXH","./xor":"CItV","bn.js":"VXic","browserify-rsa":"Aukv","create-hash":"LF8r","./withPublic":"kM9E","safe-buffer":"Wugr"}],"WjUF":[function(require,module,exports) {
exports.publicEncrypt=require("./publicEncrypt"),exports.privateDecrypt=require("./privateDecrypt"),exports.privateEncrypt=function(r,p){return exports.publicEncrypt(r,p,!0)},exports.publicDecrypt=function(r,p){return exports.privateDecrypt(r,p,!0)};
},{"./publicEncrypt":"U4Qp","./privateDecrypt":"mWkL"}],"ODza":[function(require,module,exports) {

var global = arguments[3];
var process = require("process");
var r=arguments[3],e=require("process");function n(){throw new Error("secure random number generation not supported by this browser\nuse chrome, FireFox or Internet Explorer 11")}var t=require("safe-buffer"),o=require("randombytes"),f=t.Buffer,u=t.kMaxLength,i=r.crypto||r.msCrypto,a=Math.pow(2,32)-1;function s(r,e){if("number"!=typeof r||r!=r)throw new TypeError("offset must be a number");if(r>a||r<0)throw new TypeError("offset must be a uint32");if(r>u||r>e)throw new RangeError("offset out of range")}function m(r,e,n){if("number"!=typeof r||r!=r)throw new TypeError("size must be a number");if(r>a||r<0)throw new TypeError("size must be a uint32");if(r+e>n||r>u)throw new RangeError("buffer too small")}function l(e,n,t,o){if(!(f.isBuffer(e)||e instanceof r.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');if("function"==typeof n)o=n,n=0,t=e.length;else if("function"==typeof t)o=t,t=e.length-n;else if("function"!=typeof o)throw new TypeError('"cb" argument must be a function');return s(n,e.length),m(t,n,e.length),p(e,n,t,o)}function p(r,n,t,o){var f=r.buffer,u=new Uint8Array(f,n,t);return i.getRandomValues(u),o?void e.nextTick(function(){o(null,r)}):r}function w(e,n,t){if(void 0===n&&(n=0),!(f.isBuffer(e)||e instanceof r.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');return s(n,e.length),void 0===t&&(t=e.length-n),m(t,n,e.length),p(e,n,t)}i&&i.getRandomValues?(exports.randomFill=l,exports.randomFillSync=w):(exports.randomFill=n,exports.randomFillSync=n);
},{"safe-buffer":"Wugr","randombytes":"XJNj","process":"pBGv"}],"mRF4":[function(require,module,exports) {
"use strict";exports.randomBytes=exports.rng=exports.pseudoRandomBytes=exports.prng=require("randombytes"),exports.createHash=exports.Hash=require("create-hash"),exports.createHmac=exports.Hmac=require("create-hmac");var e=require("browserify-sign/algos"),r=Object.keys(e),t=["sha1","sha224","sha256","sha384","sha512","md5","rmd160"].concat(r);exports.getHashes=function(){return t};var i=require("pbkdf2");exports.pbkdf2=i.pbkdf2,exports.pbkdf2Sync=i.pbkdf2Sync;var p=require("browserify-cipher");exports.Cipher=p.Cipher,exports.createCipher=p.createCipher,exports.Cipheriv=p.Cipheriv,exports.createCipheriv=p.createCipheriv,exports.Decipher=p.Decipher,exports.createDecipher=p.createDecipher,exports.Decipheriv=p.Decipheriv,exports.createDecipheriv=p.createDecipheriv,exports.getCiphers=p.getCiphers,exports.listCiphers=p.listCiphers;var s=require("diffie-hellman");exports.DiffieHellmanGroup=s.DiffieHellmanGroup,exports.createDiffieHellmanGroup=s.createDiffieHellmanGroup,exports.getDiffieHellman=s.getDiffieHellman,exports.createDiffieHellman=s.createDiffieHellman,exports.DiffieHellman=s.DiffieHellman;var a=require("browserify-sign");exports.createSign=a.createSign,exports.Sign=a.Sign,exports.createVerify=a.createVerify,exports.Verify=a.Verify,exports.createECDH=require("create-ecdh");var o=require("public-encrypt");exports.publicEncrypt=o.publicEncrypt,exports.privateEncrypt=o.privateEncrypt,exports.publicDecrypt=o.publicDecrypt,exports.privateDecrypt=o.privateDecrypt;var c=require("randomfill");exports.randomFill=c.randomFill,exports.randomFillSync=c.randomFillSync,exports.createCredentials=function(){throw new Error(["sorry, createCredentials is not implemented yet","we accept pull requests","https://github.com/crypto-browserify/crypto-browserify"].join("\n"))},exports.constants={DH_CHECK_P_NOT_SAFE_PRIME:2,DH_CHECK_P_NOT_PRIME:1,DH_UNABLE_TO_CHECK_GENERATOR:4,DH_NOT_SUITABLE_GENERATOR:8,NPN_ENABLED:1,ALPN_ENABLED:1,RSA_PKCS1_PADDING:1,RSA_SSLV23_PADDING:2,RSA_NO_PADDING:3,RSA_PKCS1_OAEP_PADDING:4,RSA_X931_PADDING:5,RSA_PKCS1_PSS_PADDING:6,POINT_CONVERSION_COMPRESSED:2,POINT_CONVERSION_UNCOMPRESSED:4,POINT_CONVERSION_HYBRID:6};
},{"randombytes":"XJNj","create-hash":"LF8r","create-hmac":"Cx6S","browserify-sign/algos":"YKr5","pbkdf2":"BKdu","browserify-cipher":"KTbn","diffie-hellman":"WFL2","browserify-sign":"BAbM","create-ecdh":"x3tl","public-encrypt":"WjUF","randomfill":"ODza"}],"JZSy":[function(require,module,exports) {
"use strict";function r(r){return(r/8|0)+(r%8==0?0:1)}var n={ES256:r(256),ES384:r(384),ES512:r(521)};function t(r){var t=n[r];if(t)return t;throw new Error('Unknown algorithm "'+r+'"')}module.exports=t;
},{}],"qrjx":[function(require,module,exports) {

"use strict";var r=require("safe-buffer").Buffer,e=require("./param-bytes-for-alg"),o=128,t=0,n=32,f=16,i=2,a=f|n|t<<6,s=i|t<<6;function c(r){return r.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function u(e){if(r.isBuffer(e))return e;if("string"==typeof e)return r.from(e,"base64");throw new TypeError("ECDSA signature must be a Base64 string or a Buffer")}function l(t,n){t=u(t);var f=e(n),i=f+1,l=t.length,p=0;if(t[p++]!==a)throw new Error('Could not find expected "seq"');var w=t[p++];if(w===(1|o)&&(w=t[p++]),l-p<w)throw new Error('"seq" specified length of "'+w+'", only "'+(l-p)+'" remaining');if(t[p++]!==s)throw new Error('Could not find expected "int" for "r"');var h=t[p++];if(l-p-2<h)throw new Error('"r" specified length of "'+h+'", only "'+(l-p-2)+'" available');if(i<h)throw new Error('"r" specified length of "'+h+'", max of "'+i+'" is acceptable');var d=p;if(p+=h,t[p++]!==s)throw new Error('Could not find expected "int" for "s"');var g=t[p++];if(l-p!==g)throw new Error('"s" specified length of "'+g+'", expected "'+(l-p)+'"');if(i<g)throw new Error('"s" specified length of "'+g+'", max of "'+i+'" is acceptable');var y=p;if((p+=g)!==l)throw new Error('Expected to consume entire buffer, but "'+(l-p)+'" bytes remain');var b=f-h,v=f-g,E=r.allocUnsafe(b+h+v+g);for(p=0;p<b;++p)E[p]=0;t.copy(E,p,d+Math.max(-b,0),d+h);for(var m=p=f;p<m+v;++p)E[p]=0;return t.copy(E,p,y+Math.max(-v,0),y+g),E=c(E=E.toString("base64"))}function p(r,e,t){for(var n=0;e+n<t&&0===r[e+n];)++n;return r[e+n]>=o&&--n,n}function w(t,n){t=u(t);var f=e(n),i=t.length;if(i!==2*f)throw new TypeError('"'+n+'" signatures must be "'+2*f+'" bytes, saw "'+i+'"');var c=p(t,0,f),l=p(t,f,t.length),w=f-c,h=f-l,d=2+w+1+1+h,g=d<o,y=r.allocUnsafe((g?2:3)+d),b=0;return y[b++]=a,g?y[b++]=d:(y[b++]=1|o,y[b++]=255&d),y[b++]=s,y[b++]=w,c<0?(y[b++]=0,b+=t.copy(y,b,0,f)):b+=t.copy(y,b,c,f),y[b++]=s,y[b++]=h,l<0?(y[b++]=0,t.copy(y,b,f)):t.copy(y,b,f+l),y}module.exports={derToJose:l,joseToDer:w};
},{"safe-buffer":"Wugr","./param-bytes-for-alg":"JZSy"}],"rsbN":[function(require,module,exports) {

var r=require("buffer-equal-constant-time"),e=require("safe-buffer").Buffer,t=require("crypto"),n=require("ecdsa-sig-formatter"),o=require("util"),i='"%s" is not a valid algorithm.\n  Supported algorithms are:\n  "HS256", "HS384", "HS512", "RS256", "RS384", "RS512", "PS256", "PS384", "PS512", "ES256", "ES384", "ES512" and "none".',f="secret must be a string or buffer",u="key must be a string or a buffer",a="key must be a string, a buffer or an object",c="function"==typeof t.createPublicKey;function s(r){if(!e.isBuffer(r)&&"string"!=typeof r){if(!c)throw l(u);if("object"!=typeof r)throw l(u);if("string"!=typeof r.type)throw l(u);if("string"!=typeof r.asymmetricKeyType)throw l(u);if("function"!=typeof r.export)throw l(u)}}function S(r){if(!e.isBuffer(r)&&"string"!=typeof r&&"object"!=typeof r)throw l(a)}function p(r){if(!e.isBuffer(r)){if("string"==typeof r)return r;if(!c)throw l(f);if("object"!=typeof r)throw l(f);if("secret"!==r.type)throw l(f);if("function"!=typeof r.export)throw l(f)}}function y(r){return r.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function g(r){var e=4-(r=r.toString()).length%4;if(4!==e)for(var t=0;t<e;++t)r+="=";return r.replace(/\-/g,"+").replace(/_/g,"/")}function l(r){var e=[].slice.call(arguments,1),t=o.format.bind(o,r).apply(null,e);return new TypeError(t)}function b(r){return e.isBuffer(r)||"string"==typeof r}function h(r){return b(r)||(r=JSON.stringify(r)),r}function v(r){return function(e,n){p(n),e=h(e);var o=t.createHmac("sha"+r,n);return y((o.update(e),o.digest("base64")))}}function d(t){return function(n,o,i){var f=v(t)(n,i);return r(e.from(o),e.from(f))}}function A(r){return function(e,n){S(n),e=h(e);var o=t.createSign("RSA-SHA"+r);return y((o.update(e),o.sign(n,"base64")))}}function m(r){return function(e,n,o){s(o),e=h(e),n=g(n);var i=t.createVerify("RSA-SHA"+r);return i.update(e),i.verify(o,n,"base64")}}function _(r){return function(e,n){S(n),e=h(e);var o=t.createSign("RSA-SHA"+r);return y((o.update(e),o.sign({key:n,padding:t.constants.RSA_PKCS1_PSS_PADDING,saltLength:t.constants.RSA_PSS_SALTLEN_DIGEST},"base64")))}}function w(r){return function(e,n,o){s(o),e=h(e),n=g(n);var i=t.createVerify("RSA-SHA"+r);return i.update(e),i.verify({key:o,padding:t.constants.RSA_PKCS1_PSS_PADDING,saltLength:t.constants.RSA_PSS_SALTLEN_DIGEST},n,"base64")}}function P(r){var e=A(r);return function(){var t=e.apply(null,arguments);return t=n.derToJose(t,"ES"+r)}}function R(r){var e=m(r);return function(t,o,i){return o=n.joseToDer(o,"ES"+r).toString("base64"),e(t,o,i)}}function E(){return function(){return""}}function H(){return function(r,e){return""===e}}c&&(u+=" or a KeyObject",f+="or a KeyObject"),module.exports=function(r){var e={hs:v,rs:A,ps:_,es:P,none:E},t={hs:d,rs:m,ps:w,es:R,none:H},n=r.match(/^(RS|PS|ES|HS)(256|384|512)$|^(none)$/i);if(!n)throw l(i,r);var o=(n[1]||n[3]).toLowerCase(),f=n[2];return{sign:e[o](f),verify:t[o](f)}};
},{"buffer-equal-constant-time":"nhWN","safe-buffer":"Wugr","crypto":"mRF4","ecdsa-sig-formatter":"qrjx","util":"gfUn"}],"CSk2":[function(require,module,exports) {

var r=require("buffer").Buffer;module.exports=function(e){return"string"==typeof e?e:"number"==typeof e||r.isBuffer(e)?e.toString():JSON.stringify(e)};
},{"buffer":"peL6"}],"CWEE":[function(require,module,exports) {

var e=require("safe-buffer").Buffer,t=require("./data-stream"),i=require("jwa"),r=require("stream"),a=require("./tostring"),s=require("util");function n(t,i){return e.from(t,i).toString("base64").replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function h(e,t,i){i=i||"utf8";var r=n(a(e),"binary"),h=n(a(t),i);return s.format("%s.%s",r,h)}function o(e){var t=e.header,r=e.payload,a=e.secret||e.privateKey,n=e.encoding,o=i(t.alg),c=h(t,r,n),d=o.sign(c,a);return s.format("%s.%s",c,d)}function c(e){var i=e.secret||e.privateKey||e.key,r=new t(i);this.readable=!0,this.header=e.header,this.encoding=e.encoding,this.secret=this.privateKey=this.key=r,this.payload=new t(e.payload),this.secret.once("close",function(){!this.payload.writable&&this.readable&&this.sign()}.bind(this)),this.payload.once("close",function(){!this.secret.writable&&this.readable&&this.sign()}.bind(this))}s.inherits(c,r),c.prototype.sign=function(){try{var e=o({header:this.header,payload:this.payload.buffer,secret:this.secret.buffer,encoding:this.encoding});return this.emit("done",e),this.emit("data",e),this.emit("end"),this.readable=!1,e}catch(t){this.readable=!1,this.emit("error",t),this.emit("close")}},c.sign=o,module.exports=c;
},{"safe-buffer":"Wugr","./data-stream":"VO8B","jwa":"rsbN","stream":"fnRj","./tostring":"CSk2","util":"gfUn"}],"euQ6":[function(require,module,exports) {

var t=require("safe-buffer").Buffer,e=require("./data-stream"),r=require("jwa"),i=require("stream"),n=require("./tostring"),s=require("util"),a=/^[a-zA-Z0-9\-_]+?\.[a-zA-Z0-9\-_]+?\.([a-zA-Z0-9\-_]+)?$/;function u(t){return"[object Object]"===Object.prototype.toString.call(t)}function o(t){if(u(t))return t;try{return JSON.parse(t)}catch(e){return}}function c(e){var r=e.split(".",1)[0];return o(t.from(r,"base64").toString("binary"))}function f(t){return t.split(".",2).join(".")}function h(t){return t.split(".")[2]}function l(e,r){r=r||"utf8";var i=e.split(".")[1];return t.from(i,"base64").toString(r)}function d(t){return a.test(t)&&!!c(t)}function b(t,e,i){if(!e){var s=new Error("Missing algorithm parameter for jws.verify");throw s.code="MISSING_ALGORITHM",s}var a=h(t=n(t)),u=f(t);return r(e).verify(u,a,i)}function g(t,e){if(e=e||{},!d(t=n(t)))return null;var r=c(t);if(!r)return null;var i=l(t);return("JWT"===r.typ||e.json)&&(i=JSON.parse(i,e.encoding)),{header:r,payload:i,signature:h(t)}}function y(t){var r=(t=t||{}).secret||t.publicKey||t.key,i=new e(r);this.readable=!0,this.algorithm=t.algorithm,this.encoding=t.encoding,this.secret=this.publicKey=this.key=i,this.signature=new e(t.signature),this.secret.once("close",function(){!this.signature.writable&&this.readable&&this.verify()}.bind(this)),this.signature.once("close",function(){!this.secret.writable&&this.readable&&this.verify()}.bind(this))}s.inherits(y,i),y.prototype.verify=function(){try{var t=b(this.signature.buffer,this.algorithm,this.key.buffer),e=g(this.signature.buffer,this.encoding);return this.emit("done",t,e),this.emit("data",t),this.emit("end"),this.readable=!1,t}catch(r){this.readable=!1,this.emit("error",r),this.emit("close")}},y.decode=g,y.isValid=d,y.verify=b,module.exports=y;
},{"safe-buffer":"Wugr","./data-stream":"VO8B","jwa":"rsbN","stream":"fnRj","./tostring":"CSk2","util":"gfUn"}],"kAAO":[function(require,module,exports) {
var e=require("./lib/sign-stream"),r=require("./lib/verify-stream"),i=["HS256","HS384","HS512","RS256","RS384","RS512","PS256","PS384","PS512","ES256","ES384","ES512"];exports.ALGORITHMS=i,exports.sign=e.sign,exports.verify=r.verify,exports.decode=r.decode,exports.isValid=r.isValid,exports.createSign=function(r){return new e(r)},exports.createVerify=function(e){return new r(e)};
},{"./lib/sign-stream":"CWEE","./lib/verify-stream":"euQ6"}],"smfd":[function(require,module,exports) {
var e=require("jws");module.exports=function(r,a){a=a||{};var t=e.decode(r,a);if(!t)return null;var o=t.payload;if("string"==typeof o)try{var n=JSON.parse(o);null!==n&&"object"==typeof n&&(o=n)}catch(u){}return!0===a.complete?{header:t.header,payload:o,signature:t.signature}:o};
},{"jws":"kAAO"}],"Sgmk":[function(require,module,exports) {
var r=function(r,t){Error.call(this,r),Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor),this.name="JsonWebTokenError",this.message=r,t&&(this.inner=t)};r.prototype=Object.create(Error.prototype),r.prototype.constructor=r,module.exports=r;
},{}],"INvn":[function(require,module,exports) {
var o=require("./JsonWebTokenError"),r=function(r,t){o.call(this,r),this.name="NotBeforeError",this.date=t};r.prototype=Object.create(o.prototype),r.prototype.constructor=r,module.exports=r;
},{"./JsonWebTokenError":"Sgmk"}],"lLu7":[function(require,module,exports) {
var r=require("./JsonWebTokenError"),e=function(e,o){r.call(this,e),this.name="TokenExpiredError",this.expiredAt=o};e.prototype=Object.create(r.prototype),e.prototype.constructor=e,module.exports=e;
},{"./JsonWebTokenError":"Sgmk"}],"IAgR":[function(require,module,exports) {
var s=1e3,e=60*s,r=60*e,a=24*r,n=7*a,c=365.25*a;function t(t){if(!((t=String(t)).length>100)){var u=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(t);if(u){var i=parseFloat(u[1]);switch((u[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return i*c;case"weeks":case"week":case"w":return i*n;case"days":case"day":case"d":return i*a;case"hours":case"hour":case"hrs":case"hr":case"h":return i*r;case"minutes":case"minute":case"mins":case"min":case"m":return i*e;case"seconds":case"second":case"secs":case"sec":case"s":return i*s;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return i;default:return}}}}function u(n){var c=Math.abs(n);return c>=a?Math.round(n/a)+"d":c>=r?Math.round(n/r)+"h":c>=e?Math.round(n/e)+"m":c>=s?Math.round(n/s)+"s":n+"ms"}function i(n){var c=Math.abs(n);return c>=a?o(n,c,a,"day"):c>=r?o(n,c,r,"hour"):c>=e?o(n,c,e,"minute"):c>=s?o(n,c,s,"second"):n+" ms"}function o(s,e,r,a){var n=e>=1.5*r;return Math.round(s/r)+" "+a+(n?"s":"")}module.exports=function(s,e){e=e||{};var r=typeof s;if("string"===r&&s.length>0)return t(s);if("number"===r&&isFinite(s))return e.long?i(s):u(s);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(s))};
},{}],"BVtP":[function(require,module,exports) {
var r=require("ms");module.exports=function(e,o){var t=o||Math.floor(Date.now()/1e3);if("string"==typeof e){var n=r(e);if(void 0===n)return;return Math.floor(t+n/1e3)}return"number"==typeof e?t+e:void 0};
},{"ms":"IAgR"}],"DMih":[function(require,module,exports) {
var process = require("process");
var e,r=require("process");exports=module.exports=W,"object"==typeof r&&r.env,e=function(){},exports.SEMVER_SPEC_VERSION="2.0.0";var t=256,n=Number.MAX_SAFE_INTEGER||9007199254740991,o=16,s=exports.re=[],i=exports.src=[],a=0,p=a++;i[p]="0|[1-9]\\d*";var u=a++;i[u]="[0-9]+";var c=a++;i[c]="\\d*[a-zA-Z-][a-zA-Z0-9-]*";var h=a++;i[h]="("+i[p]+")\\.("+i[p]+")\\.("+i[p]+")";var l=a++;i[l]="("+i[u]+")\\.("+i[u]+")\\.("+i[u]+")";var f=a++;i[f]="(?:"+i[p]+"|"+i[c]+")";var v=a++;i[v]="(?:"+i[u]+"|"+i[c]+")";var m=a++;i[m]="(?:-("+i[f]+"(?:\\."+i[f]+")*))";var w=a++;i[w]="(?:-?("+i[v]+"(?:\\."+i[v]+")*))";var g=a++;i[g]="[0-9A-Za-z-]+";var x=a++;i[x]="(?:\\+("+i[g]+"(?:\\."+i[g]+")*))";var y=a++,d="v?"+i[h]+i[m]+"?"+i[x]+"?";i[y]="^"+d+"$";var j="[v=\\s]*"+i[l]+i[w]+"?"+i[x]+"?",E=a++;i[E]="^"+j+"$";var b=a++;i[b]="((?:<|>)?=?)";var $=a++;i[$]=i[u]+"|x|X|\\*";var R=a++;i[R]=i[p]+"|x|X|\\*";var S=a++;i[S]="[v=\\s]*("+i[R]+")(?:\\.("+i[R]+")(?:\\.("+i[R]+")(?:"+i[m]+")?"+i[x]+"?)?)?";var T=a++;i[T]="[v=\\s]*("+i[$]+")(?:\\.("+i[$]+")(?:\\.("+i[$]+")(?:"+i[w]+")?"+i[x]+"?)?)?";var P=a++;i[P]="^"+i[b]+"\\s*"+i[S]+"$";var k=a++;i[k]="^"+i[b]+"\\s*"+i[T]+"$";var I=a++;i[I]="(?:^|[^\\d])(\\d{1,"+o+"})(?:\\.(\\d{1,"+o+"}))?(?:\\.(\\d{1,"+o+"}))?(?:$|[^\\d])";var V=a++;i[V]="(?:~>?)";var C=a++;i[C]="(\\s*)"+i[V]+"\\s+",s[C]=new RegExp(i[C],"g");var q="$1~",A=a++;i[A]="^"+i[V]+i[S]+"$";var M=a++;i[M]="^"+i[V]+i[T]+"$";var N=a++;i[N]="(?:\\^)";var X=a++;i[X]="(\\s*)"+i[N]+"\\s+",s[X]=new RegExp(i[X],"g");var _="$1^",z=a++;i[z]="^"+i[N]+i[S]+"$";var Z=a++;i[Z]="^"+i[N]+i[T]+"$";var L=a++;i[L]="^"+i[b]+"\\s*("+j+")$|^$";var F=a++;i[F]="^"+i[b]+"\\s*("+d+")$|^$";var G=a++;i[G]="(\\s*)"+i[b]+"\\s*("+j+"|"+i[S]+")",s[G]=new RegExp(i[G],"g");var O="$1$2$3",U=a++;i[U]="^\\s*("+i[S]+")\\s+-\\s+("+i[S]+")\\s*$";var B=a++;i[B]="^\\s*("+i[T]+")\\s+-\\s+("+i[T]+")\\s*$";var D=a++;i[D]="(<|>)?=?\\s*\\*";for(var H=0;H<a;H++)e(H,i[H]),s[H]||(s[H]=new RegExp(i[H]));function J(e,r){if(r&&"object"==typeof r||(r={loose:!!r,includePrerelease:!1}),e instanceof W)return e;if("string"!=typeof e)return null;if(e.length>t)return null;if(!(r.loose?s[E]:s[y]).test(e))return null;try{return new W(e,r)}catch(n){return null}}function K(e,r){var t=J(e,r);return t?t.version:null}function Q(e,r){var t=J(e.trim().replace(/^[=v]+/,""),r);return t?t.version:null}function W(r,o){if(o&&"object"==typeof o||(o={loose:!!o,includePrerelease:!1}),r instanceof W){if(r.loose===o.loose)return r;r=r.version}else if("string"!=typeof r)throw new TypeError("Invalid Version: "+r);if(r.length>t)throw new TypeError("version is longer than "+t+" characters");if(!(this instanceof W))return new W(r,o);e("SemVer",r,o),this.options=o,this.loose=!!o.loose;var i=r.trim().match(o.loose?s[E]:s[y]);if(!i)throw new TypeError("Invalid Version: "+r);if(this.raw=r,this.major=+i[1],this.minor=+i[2],this.patch=+i[3],this.major>n||this.major<0)throw new TypeError("Invalid major version");if(this.minor>n||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>n||this.patch<0)throw new TypeError("Invalid patch version");i[4]?this.prerelease=i[4].split(".").map(function(e){if(/^[0-9]+$/.test(e)){var r=+e;if(r>=0&&r<n)return r}return e}):this.prerelease=[],this.build=i[5]?i[5].split("."):[],this.format()}function Y(e,r,t,n){"string"==typeof t&&(n=t,t=void 0);try{return new W(e,t).inc(r,n).version}catch(o){return null}}function ee(e,r){if(ve(e,r))return null;var t=J(e),n=J(r),o="";if(t.prerelease.length||n.prerelease.length){o="pre";var s="prerelease"}for(var i in t)if(("major"===i||"minor"===i||"patch"===i)&&t[i]!==n[i])return o+i;return s}exports.parse=J,exports.valid=K,exports.clean=Q,exports.SemVer=W,W.prototype.format=function(){return this.version=this.major+"."+this.minor+"."+this.patch,this.prerelease.length&&(this.version+="-"+this.prerelease.join(".")),this.version},W.prototype.toString=function(){return this.version},W.prototype.compare=function(r){return e("SemVer.compare",this.version,this.options,r),r instanceof W||(r=new W(r,this.options)),this.compareMain(r)||this.comparePre(r)},W.prototype.compareMain=function(e){return e instanceof W||(e=new W(e,this.options)),te(this.major,e.major)||te(this.minor,e.minor)||te(this.patch,e.patch)},W.prototype.comparePre=function(r){if(r instanceof W||(r=new W(r,this.options)),this.prerelease.length&&!r.prerelease.length)return-1;if(!this.prerelease.length&&r.prerelease.length)return 1;if(!this.prerelease.length&&!r.prerelease.length)return 0;var t=0;do{var n=this.prerelease[t],o=r.prerelease[t];if(e("prerelease compare",t,n,o),void 0===n&&void 0===o)return 0;if(void 0===o)return 1;if(void 0===n)return-1;if(n!==o)return te(n,o)}while(++t)},W.prototype.inc=function(e,r){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",r);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",r);break;case"prepatch":this.prerelease.length=0,this.inc("patch",r),this.inc("pre",r);break;case"prerelease":0===this.prerelease.length&&this.inc("patch",r),this.inc("pre",r);break;case"major":0===this.minor&&0===this.patch&&0!==this.prerelease.length||this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":0===this.patch&&0!==this.prerelease.length||this.minor++,this.patch=0,this.prerelease=[];break;case"patch":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case"pre":if(0===this.prerelease.length)this.prerelease=[0];else{for(var t=this.prerelease.length;--t>=0;)"number"==typeof this.prerelease[t]&&(this.prerelease[t]++,t=-2);-1===t&&this.prerelease.push(0)}r&&(this.prerelease[0]===r?isNaN(this.prerelease[1])&&(this.prerelease=[r,0]):this.prerelease=[r,0]);break;default:throw new Error("invalid increment argument: "+e)}return this.format(),this.raw=this.version,this},exports.inc=Y,exports.diff=ee,exports.compareIdentifiers=te;var re=/^[0-9]+$/;function te(e,r){var t=re.test(e),n=re.test(r);return t&&n&&(e=+e,r=+r),e===r?0:t&&!n?-1:n&&!t?1:e<r?-1:1}function ne(e,r){return te(r,e)}function oe(e,r){return new W(e,r).major}function se(e,r){return new W(e,r).minor}function ie(e,r){return new W(e,r).patch}function ae(e,r,t){return new W(e,t).compare(new W(r,t))}function pe(e,r){return ae(e,r,!0)}function ue(e,r,t){return ae(r,e,t)}function ce(e,r){return e.sort(function(e,t){return exports.compare(e,t,r)})}function he(e,r){return e.sort(function(e,t){return exports.rcompare(e,t,r)})}function le(e,r,t){return ae(e,r,t)>0}function fe(e,r,t){return ae(e,r,t)<0}function ve(e,r,t){return 0===ae(e,r,t)}function me(e,r,t){return 0!==ae(e,r,t)}function we(e,r,t){return ae(e,r,t)>=0}function ge(e,r,t){return ae(e,r,t)<=0}function xe(e,r,t,n){switch(r){case"===":return"object"==typeof e&&(e=e.version),"object"==typeof t&&(t=t.version),e===t;case"!==":return"object"==typeof e&&(e=e.version),"object"==typeof t&&(t=t.version),e!==t;case"":case"=":case"==":return ve(e,t,n);case"!=":return me(e,t,n);case">":return le(e,t,n);case">=":return we(e,t,n);case"<":return fe(e,t,n);case"<=":return ge(e,t,n);default:throw new TypeError("Invalid operator: "+r)}}function ye(r,t){if(t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),r instanceof ye){if(r.loose===!!t.loose)return r;r=r.value}if(!(this instanceof ye))return new ye(r,t);e("comparator",r,t),this.options=t,this.loose=!!t.loose,this.parse(r),this.semver===de?this.value="":this.value=this.operator+this.semver.version,e("comp",this)}exports.rcompareIdentifiers=ne,exports.major=oe,exports.minor=se,exports.patch=ie,exports.compare=ae,exports.compareLoose=pe,exports.rcompare=ue,exports.sort=ce,exports.rsort=he,exports.gt=le,exports.lt=fe,exports.eq=ve,exports.neq=me,exports.gte=we,exports.lte=ge,exports.cmp=xe,exports.Comparator=ye;var de={};function je(e,r){if(r&&"object"==typeof r||(r={loose:!!r,includePrerelease:!1}),e instanceof je)return e.loose===!!r.loose&&e.includePrerelease===!!r.includePrerelease?e:new je(e.raw,r);if(e instanceof ye)return new je(e.value,r);if(!(this instanceof je))return new je(e,r);if(this.options=r,this.loose=!!r.loose,this.includePrerelease=!!r.includePrerelease,this.raw=e,this.set=e.split(/\s*\|\|\s*/).map(function(e){return this.parseRange(e.trim())},this).filter(function(e){return e.length}),!this.set.length)throw new TypeError("Invalid SemVer Range: "+e);this.format()}function Ee(e,r){return new je(e,r).set.map(function(e){return e.map(function(e){return e.value}).join(" ").trim().split(" ")})}function be(r,t){return e("comp",r,t),r=Te(r,t),e("caret",r),r=Re(r,t),e("tildes",r),r=ke(r,t),e("xrange",r),r=Ve(r,t),e("stars",r),r}function $e(e){return!e||"x"===e.toLowerCase()||"*"===e}function Re(e,r){return e.trim().split(/\s+/).map(function(e){return Se(e,r)}).join(" ")}function Se(r,t){var n=t.loose?s[M]:s[A];return r.replace(n,function(t,n,o,s,i){var a;return e("tilde",r,t,n,o,s,i),$e(n)?a="":$e(o)?a=">="+n+".0.0 <"+(+n+1)+".0.0":$e(s)?a=">="+n+"."+o+".0 <"+n+"."+(+o+1)+".0":i?(e("replaceTilde pr",i),a=">="+n+"."+o+"."+s+"-"+i+" <"+n+"."+(+o+1)+".0"):a=">="+n+"."+o+"."+s+" <"+n+"."+(+o+1)+".0",e("tilde return",a),a})}function Te(e,r){return e.trim().split(/\s+/).map(function(e){return Pe(e,r)}).join(" ")}function Pe(r,t){e("caret",r,t);var n=t.loose?s[Z]:s[z];return r.replace(n,function(t,n,o,s,i){var a;return e("caret",r,t,n,o,s,i),$e(n)?a="":$e(o)?a=">="+n+".0.0 <"+(+n+1)+".0.0":$e(s)?a="0"===n?">="+n+"."+o+".0 <"+n+"."+(+o+1)+".0":">="+n+"."+o+".0 <"+(+n+1)+".0.0":i?(e("replaceCaret pr",i),a="0"===n?"0"===o?">="+n+"."+o+"."+s+"-"+i+" <"+n+"."+o+"."+(+s+1):">="+n+"."+o+"."+s+"-"+i+" <"+n+"."+(+o+1)+".0":">="+n+"."+o+"."+s+"-"+i+" <"+(+n+1)+".0.0"):(e("no pr"),a="0"===n?"0"===o?">="+n+"."+o+"."+s+" <"+n+"."+o+"."+(+s+1):">="+n+"."+o+"."+s+" <"+n+"."+(+o+1)+".0":">="+n+"."+o+"."+s+" <"+(+n+1)+".0.0"),e("caret return",a),a})}function ke(r,t){return e("replaceXRanges",r,t),r.split(/\s+/).map(function(e){return Ie(e,t)}).join(" ")}function Ie(r,t){r=r.trim();var n=t.loose?s[k]:s[P];return r.replace(n,function(t,n,o,s,i,a){e("xRange",r,t,n,o,s,i,a);var p=$e(o),u=p||$e(s),c=u||$e(i);return"="===n&&c&&(n=""),p?t=">"===n||"<"===n?"<0.0.0":"*":n&&c?(u&&(s=0),i=0,">"===n?(n=">=",u?(o=+o+1,s=0,i=0):(s=+s+1,i=0)):"<="===n&&(n="<",u?o=+o+1:s=+s+1),t=n+o+"."+s+"."+i):u?t=">="+o+".0.0 <"+(+o+1)+".0.0":c&&(t=">="+o+"."+s+".0 <"+o+"."+(+s+1)+".0"),e("xRange return",t),t})}function Ve(r,t){return e("replaceStars",r,t),r.trim().replace(s[D],"")}function Ce(e,r,t,n,o,s,i,a,p,u,c,h,l){return((r=$e(t)?"":$e(n)?">="+t+".0.0":$e(o)?">="+t+"."+n+".0":">="+r)+" "+(a=$e(p)?"":$e(u)?"<"+(+p+1)+".0.0":$e(c)?"<"+p+"."+(+u+1)+".0":h?"<="+p+"."+u+"."+c+"-"+h:"<="+a)).trim()}function qe(r,t,n){for(var o=0;o<r.length;o++)if(!r[o].test(t))return!1;if(t.prerelease.length&&!n.includePrerelease){for(o=0;o<r.length;o++)if(e(r[o].semver),r[o].semver!==de&&r[o].semver.prerelease.length>0){var s=r[o].semver;if(s.major===t.major&&s.minor===t.minor&&s.patch===t.patch)return!0}return!1}return!0}function Ae(e,r,t){try{r=new je(r,t)}catch(n){return!1}return r.test(e)}function Me(e,r,t){var n=null,o=null;try{var s=new je(r,t)}catch(i){return null}return e.forEach(function(e){s.test(e)&&(n&&-1!==o.compare(e)||(o=new W(n=e,t)))}),n}function Ne(e,r,t){var n=null,o=null;try{var s=new je(r,t)}catch(i){return null}return e.forEach(function(e){s.test(e)&&(n&&1!==o.compare(e)||(o=new W(n=e,t)))}),n}function Xe(e,r){e=new je(e,r);var t=new W("0.0.0");if(e.test(t))return t;if(t=new W("0.0.0-0"),e.test(t))return t;t=null;for(var n=0;n<e.set.length;++n){e.set[n].forEach(function(e){var r=new W(e.semver.version);switch(e.operator){case">":0===r.prerelease.length?r.patch++:r.prerelease.push(0),r.raw=r.format();case"":case">=":t&&!le(t,r)||(t=r);break;case"<":case"<=":break;default:throw new Error("Unexpected operation: "+e.operator)}})}return t&&e.test(t)?t:null}function _e(e,r){try{return new je(e,r).range||"*"}catch(t){return null}}function ze(e,r,t){return Le(e,r,"<",t)}function Ze(e,r,t){return Le(e,r,">",t)}function Le(e,r,t,n){var o,s,i,a,p;switch(e=new W(e,n),r=new je(r,n),t){case">":o=le,s=ge,i=fe,a=">",p=">=";break;case"<":o=fe,s=we,i=le,a="<",p="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(Ae(e,r,n))return!1;for(var u=0;u<r.set.length;++u){var c=r.set[u],h=null,l=null;if(c.forEach(function(e){e.semver===de&&(e=new ye(">=0.0.0")),h=h||e,l=l||e,o(e.semver,h.semver,n)?h=e:i(e.semver,l.semver,n)&&(l=e)}),h.operator===a||h.operator===p)return!1;if((!l.operator||l.operator===a)&&s(e,l.semver))return!1;if(l.operator===p&&i(e,l.semver))return!1}return!0}function Fe(e,r){var t=J(e,r);return t&&t.prerelease.length?t.prerelease:null}function Ge(e,r,t){return e=new je(e,t),r=new je(r,t),e.intersects(r)}function Oe(e){if(e instanceof W)return e;if("string"!=typeof e)return null;var r=e.match(s[I]);return null==r?null:J(r[1]+"."+(r[2]||"0")+"."+(r[3]||"0"))}ye.prototype.parse=function(e){var r=this.options.loose?s[L]:s[F],t=e.match(r);if(!t)throw new TypeError("Invalid comparator: "+e);this.operator=t[1],"="===this.operator&&(this.operator=""),t[2]?this.semver=new W(t[2],this.options.loose):this.semver=de},ye.prototype.toString=function(){return this.value},ye.prototype.test=function(r){return e("Comparator.test",r,this.options.loose),this.semver===de||("string"==typeof r&&(r=new W(r,this.options)),xe(r,this.operator,this.semver,this.options))},ye.prototype.intersects=function(e,r){if(!(e instanceof ye))throw new TypeError("a Comparator is required");var t;if(r&&"object"==typeof r||(r={loose:!!r,includePrerelease:!1}),""===this.operator)return t=new je(e.value,r),Ae(this.value,t,r);if(""===e.operator)return t=new je(this.value,r),Ae(e.semver,t,r);var n=!(">="!==this.operator&&">"!==this.operator||">="!==e.operator&&">"!==e.operator),o=!("<="!==this.operator&&"<"!==this.operator||"<="!==e.operator&&"<"!==e.operator),s=this.semver.version===e.semver.version,i=!(">="!==this.operator&&"<="!==this.operator||">="!==e.operator&&"<="!==e.operator),a=xe(this.semver,"<",e.semver,r)&&(">="===this.operator||">"===this.operator)&&("<="===e.operator||"<"===e.operator),p=xe(this.semver,">",e.semver,r)&&("<="===this.operator||"<"===this.operator)&&(">="===e.operator||">"===e.operator);return n||o||s&&i||a||p},exports.Range=je,je.prototype.format=function(){return this.range=this.set.map(function(e){return e.join(" ").trim()}).join("||").trim(),this.range},je.prototype.toString=function(){return this.range},je.prototype.parseRange=function(r){var t=this.options.loose;r=r.trim();var n=t?s[B]:s[U];r=r.replace(n,Ce),e("hyphen replace",r),r=r.replace(s[G],O),e("comparator trim",r,s[G]),r=(r=(r=r.replace(s[C],q)).replace(s[X],_)).split(/\s+/).join(" ");var o=t?s[L]:s[F],i=r.split(" ").map(function(e){return be(e,this.options)},this).join(" ").split(/\s+/);return this.options.loose&&(i=i.filter(function(e){return!!e.match(o)})),i=i.map(function(e){return new ye(e,this.options)},this)},je.prototype.intersects=function(e,r){if(!(e instanceof je))throw new TypeError("a Range is required");return this.set.some(function(t){return t.every(function(t){return e.set.some(function(e){return e.every(function(e){return t.intersects(e,r)})})})})},exports.toComparators=Ee,je.prototype.test=function(e){if(!e)return!1;"string"==typeof e&&(e=new W(e,this.options));for(var r=0;r<this.set.length;r++)if(qe(this.set[r],e,this.options))return!0;return!1},exports.satisfies=Ae,exports.maxSatisfying=Me,exports.minSatisfying=Ne,exports.minVersion=Xe,exports.validRange=_e,exports.ltr=ze,exports.gtr=Ze,exports.outside=Le,exports.prerelease=Fe,exports.intersects=Ge,exports.coerce=Oe;
},{"process":"pBGv"}],"GCxj":[function(require,module,exports) {
var process = require("process");
var e=require("process"),r=require("semver");module.exports=r.satisfies(e.version,"^6.12.0 || >=8.0.0");
},{"semver":"DMih","process":"pBGv"}],"nva4":[function(require,module,exports) {
var e=require("./lib/JsonWebTokenError"),r=require("./lib/NotBeforeError"),n=require("./lib/TokenExpiredError"),i=require("./decode"),t=require("./lib/timespan"),a=require("./lib/psSupported"),u=require("jws"),o=["RS256","RS384","RS512","ES256","ES384","ES512"],s=["RS256","RS384","RS512"],c=["HS256","HS384","HS512"];a&&(o.splice(3,0,"PS256","PS384","PS512"),s.splice(3,0,"PS256","PS384","PS512")),module.exports=function(a,f,d,l){var p;if("function"!=typeof d||l||(l=d,d={}),d||(d={}),d=Object.assign({},d),p=l||function(e,r){if(e)throw e;return r},d.clockTimestamp&&"number"!=typeof d.clockTimestamp)return p(new e("clockTimestamp must be a number"));if(void 0!==d.nonce&&("string"!=typeof d.nonce||""===d.nonce.trim()))return p(new e("nonce must be a non-empty string"));var w=d.clockTimestamp||Math.floor(Date.now()/1e3);if(!a)return p(new e("jwt must be provided"));if("string"!=typeof a)return p(new e("jwt must be a string"));var m,b=a.split(".");if(3!==b.length)return p(new e("jwt malformed"));try{m=i(a,{complete:!0})}catch(x){return p(x)}if(!m)return p(new e("invalid token"));var g,v=m.header;if("function"==typeof f){if(!l)return p(new e("verify must be called asynchronous if secret or public key is provided as a callback"));g=f}else g=function(e,r){return r(null,f)};return g(v,function(i,f){if(i)return p(new e("error in secret or public key callback: "+i.message));var l,g=""!==b[2].trim();if(!g&&f)return p(new e("jwt signature is required"));if(g&&!f)return p(new e("secret or public key must be provided"));if(g||d.algorithms||(d.algorithms=["none"]),d.algorithms||(d.algorithms=~f.toString().indexOf("BEGIN CERTIFICATE")||~f.toString().indexOf("BEGIN PUBLIC KEY")?o:~f.toString().indexOf("BEGIN RSA PUBLIC KEY")?s:c),!~d.algorithms.indexOf(m.header.alg))return p(new e("invalid algorithm"));try{l=u.verify(a,m.header.alg,f)}catch(h){return p(h)}if(!l)return p(new e("invalid signature"));var x=m.payload;if(void 0!==x.nbf&&!d.ignoreNotBefore){if("number"!=typeof x.nbf)return p(new e("invalid nbf value"));if(x.nbf>w+(d.clockTolerance||0))return p(new r("jwt not active",new Date(1e3*x.nbf)))}if(void 0!==x.exp&&!d.ignoreExpiration){if("number"!=typeof x.exp)return p(new e("invalid exp value"));if(w>=x.exp+(d.clockTolerance||0))return p(new n("jwt expired",new Date(1e3*x.exp)))}if(d.audience){var y=Array.isArray(d.audience)?d.audience:[d.audience];if(!(Array.isArray(x.aud)?x.aud:[x.aud]).some(function(e){return y.some(function(r){return r instanceof RegExp?r.test(e):r===e})}))return p(new e("jwt audience invalid. expected: "+y.join(" or ")))}if(d.issuer&&("string"==typeof d.issuer&&x.iss!==d.issuer||Array.isArray(d.issuer)&&-1===d.issuer.indexOf(x.iss)))return p(new e("jwt issuer invalid. expected: "+d.issuer));if(d.subject&&x.sub!==d.subject)return p(new e("jwt subject invalid. expected: "+d.subject));if(d.jwtid&&x.jti!==d.jwtid)return p(new e("jwt jwtid invalid. expected: "+d.jwtid));if(d.nonce&&x.nonce!==d.nonce)return p(new e("jwt nonce invalid. expected: "+d.nonce));if(d.maxAge){if("number"!=typeof x.iat)return p(new e("iat required when maxAge is specified"));var j=t(d.maxAge,x.iat);if(void 0===j)return p(new e('"maxAge" should be a number of seconds or string representing a timespan eg: "1d", "20h", 60'));if(w>=j+(d.clockTolerance||0))return p(new n("maxAge exceeded",new Date(1e3*j)))}if(!0===d.complete){var S=m.signature;return p(null,{header:v,payload:x,signature:S})}return p(null,x)})};
},{"./lib/JsonWebTokenError":"Sgmk","./lib/NotBeforeError":"INvn","./lib/TokenExpiredError":"lLu7","./decode":"smfd","./lib/timespan":"BVtP","./lib/psSupported":"GCxj","jws":"kAAO"}],"R8Ln":[function(require,module,exports) {
var n=1/0,r=9007199254740991,t=1.7976931348623157e308,e=NaN,u="[object Arguments]",o="[object Function]",c="[object GeneratorFunction]",f="[object String]",i="[object Symbol]",a=/^\s+|\s+$/g,l=/^[-+]0x[0-9a-f]+$/i,p=/^0b[01]+$/i,s=/^0o[0-7]+$/i,y=/^(?:0|[1-9]\d*)$/,v=parseInt;function b(n,r){for(var t=-1,e=n?n.length:0,u=Array(e);++t<e;)u[t]=r(n[t],t,n);return u}function g(n,r,t,e){for(var u=n.length,o=t+(e?1:-1);e?o--:++o<u;)if(r(n[o],o,n))return o;return-1}function h(n,r,t){if(r!=r)return g(n,j,t);for(var e=t-1,u=n.length;++e<u;)if(n[e]===r)return e;return-1}function j(n){return n!=n}function m(n,r){for(var t=-1,e=Array(n);++t<n;)e[t]=r(t);return e}function O(n,r){return b(r,function(r){return n[r]})}function A(n,r){return function(t){return n(r(t))}}var $=Object.prototype,x=$.hasOwnProperty,S=$.toString,d=$.propertyIsEnumerable,F=A(Object.keys,Object),I=Math.max;function N(n,r){var t=P(n)||M(n)?m(n.length,String):[],e=t.length,u=!!e;for(var o in n)!r&&!x.call(n,o)||u&&("length"==o||w(o,e))||t.push(o);return t}function k(n){if(!E(n))return F(n);var r=[];for(var t in Object(n))x.call(n,t)&&"constructor"!=t&&r.push(t);return r}function w(n,t){return!!(t=null==t?r:t)&&("number"==typeof n||y.test(n))&&n>-1&&n%1==0&&n<t}function E(n){var r=n&&n.constructor;return n===("function"==typeof r&&r.prototype||$)}function G(n,r,t,e){n=q(n)?n:U(n),t=t&&!e?Q(t):0;var u=n.length;return t<0&&(t=I(u+t,0)),J(n)?t<=u&&n.indexOf(r,t)>-1:!!u&&h(n,r,t)>-1}function M(n){return z(n)&&x.call(n,"callee")&&(!d.call(n,"callee")||S.call(n)==u)}var P=Array.isArray;function q(n){return null!=n&&C(n.length)&&!B(n)}function z(n){return H(n)&&q(n)}function B(n){var r=D(n)?S.call(n):"";return r==o||r==c}function C(n){return"number"==typeof n&&n>-1&&n%1==0&&n<=r}function D(n){var r=typeof n;return!!n&&("object"==r||"function"==r)}function H(n){return!!n&&"object"==typeof n}function J(n){return"string"==typeof n||!P(n)&&H(n)&&S.call(n)==f}function K(n){return"symbol"==typeof n||H(n)&&S.call(n)==i}function L(r){return r?(r=R(r))===n||r===-n?(r<0?-1:1)*t:r==r?r:0:0===r?r:0}function Q(n){var r=L(n),t=r%1;return r==r?t?r-t:r:0}function R(n){if("number"==typeof n)return n;if(K(n))return e;if(D(n)){var r="function"==typeof n.valueOf?n.valueOf():n;n=D(r)?r+"":r}if("string"!=typeof n)return 0===n?n:+n;n=n.replace(a,"");var t=p.test(n);return t||s.test(n)?v(n.slice(2),t?2:8):l.test(n)?e:+n}function T(n){return q(n)?N(n):k(n)}function U(n){return n?O(n,T(n)):[]}module.exports=G;
},{}],"fb6B":[function(require,module,exports) {
var t="[object Boolean]",o=Object.prototype,e=o.toString;function n(o){return!0===o||!1===o||r(o)&&e.call(o)==t}function r(t){return!!t&&"object"==typeof t}module.exports=n;
},{}],"pN6T":[function(require,module,exports) {
var t=1/0,e=1.7976931348623157e308,n=NaN,r="[object Symbol]",o=/^\s+|\s+$/g,u=/^[-+]0x[0-9a-f]+$/i,f=/^0b[01]+$/i,i=/^0o[0-7]+$/i,c=parseInt,a=Object.prototype,p=a.toString;function s(t){return"number"==typeof t&&t==m(t)}function y(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function b(t){return!!t&&"object"==typeof t}function l(t){return"symbol"==typeof t||b(t)&&p.call(t)==r}function v(n){return n?(n=j(n))===t||n===-t?(n<0?-1:1)*e:n==n?n:0:0===n?n:0}function m(t){var e=v(t),n=e%1;return e==e?n?e-n:e:0}function j(t){if("number"==typeof t)return t;if(l(t))return n;if(y(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=y(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(o,"");var r=f.test(t);return r||i.test(t)?c(t.slice(2),r?2:8):u.test(t)?n:+t}module.exports=s;
},{}],"IN1P":[function(require,module,exports) {
var t="[object Number]",e=Object.prototype,o=e.toString;function r(t){return!!t&&"object"==typeof t}function n(e){return"number"==typeof e||r(e)&&o.call(e)==t}module.exports=n;
},{}],"hT6N":[function(require,module,exports) {
var t="[object Object]";function n(t){var n=!1;if(null!=t&&"function"!=typeof t.toString)try{n=!!(t+"")}catch(r){}return n}function r(t,n){return function(r){return t(n(r))}}var o=Function.prototype,c=Object.prototype,e=o.toString,u=c.hasOwnProperty,f=e.call(Object),i=c.toString,l=r(Object.getPrototypeOf,Object);function a(t){return!!t&&"object"==typeof t}function p(r){if(!a(r)||i.call(r)!=t||n(r))return!1;var o=l(r);if(null===o)return!0;var c=u.call(o,"constructor")&&o.constructor;return"function"==typeof c&&c instanceof c&&e.call(c)==f}module.exports=p;
},{}],"eMen":[function(require,module,exports) {
var t="[object String]",r=Object.prototype,o=r.toString,e=Array.isArray;function n(t){return!!t&&"object"==typeof t}function c(r){return"string"==typeof r||!e(r)&&n(r)&&o.call(r)==t}module.exports=c;
},{}],"Lf7l":[function(require,module,exports) {
var t="Expected a function",n=1/0,e=1.7976931348623157e308,r=NaN,o="[object Symbol]",u=/^\s+|\s+$/g,f=/^[-+]0x[0-9a-f]+$/i,i=/^0b[01]+$/i,c=/^0o[0-7]+$/i,p=parseInt,a=Object.prototype,y=a.toString;function s(n,e){var r;if("function"!=typeof e)throw new TypeError(t);return n=$(n),function(){return--n>0&&(r=e.apply(this,arguments)),n<=1&&(e=void 0),r}}function l(t){return s(2,t)}function v(t){var n=typeof t;return!!t&&("object"==n||"function"==n)}function b(t){return!!t&&"object"==typeof t}function j(t){return"symbol"==typeof t||b(t)&&y.call(t)==o}function m(t){return t?(t=d(t))===n||t===-n?(t<0?-1:1)*e:t==t?t:0:0===t?t:0}function $(t){var n=m(t),e=n%1;return n==n?e?n-e:n:0}function d(t){if("number"==typeof t)return t;if(j(t))return r;if(v(t)){var n="function"==typeof t.valueOf?t.valueOf():t;t=v(n)?n+"":n}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(u,"");var e=i.test(t);return e||c.test(t)?p(t.slice(2),e?2:8):f.test(t)?r:+t}module.exports=l;
},{}],"IQzl":[function(require,module,exports) {
var Buffer = require("buffer").Buffer;
var e=require("buffer").Buffer,r=require("./lib/timespan"),i=require("./lib/psSupported"),n=require("jws"),o=require("lodash.includes"),a=require("lodash.isboolean"),s=require("lodash.isinteger"),t=require("lodash.isnumber"),d=require("lodash.isplainobject"),u=require("lodash.isstring"),l=require("lodash.once"),f=["RS256","RS384","RS512","ES256","ES384","ES512","HS256","HS384","HS512","none"];i&&f.splice(3,0,"PS256","PS384","PS512");var p={expiresIn:{isValid:function(e){return s(e)||u(e)&&e},message:'"expiresIn" should be a number of seconds or string representing a timespan'},notBefore:{isValid:function(e){return s(e)||u(e)&&e},message:'"notBefore" should be a number of seconds or string representing a timespan'},audience:{isValid:function(e){return u(e)||Array.isArray(e)},message:'"audience" must be a string or array'},algorithm:{isValid:o.bind(null,f),message:'"algorithm" must be a valid string enum value'},header:{isValid:d,message:'"header" must be an object'},encoding:{isValid:u,message:'"encoding" must be a string'},issuer:{isValid:u,message:'"issuer" must be a string'},subject:{isValid:u,message:'"subject" must be a string'},jwtid:{isValid:u,message:'"jwtid" must be a string'},noTimestamp:{isValid:a,message:'"noTimestamp" must be a boolean'},keyid:{isValid:u,message:'"keyid" must be a string'},mutatePayload:{isValid:a,message:'"mutatePayload" must be a boolean'}},c={iat:{isValid:t,message:'"iat" should be a number of seconds'},exp:{isValid:t,message:'"exp" should be a number of seconds'},nbf:{isValid:t,message:'"nbf" should be a number of seconds'}};function m(e,r,i,n){if(!d(i))throw new Error('Expected "'+n+'" to be a plain object.');Object.keys(i).forEach(function(o){var a=e[o];if(a){if(!a.isValid(i[o]))throw new Error(a.message)}else if(!r)throw new Error('"'+o+'" is not allowed in "'+n+'"')})}function b(e){return m(p,!1,e,"options")}function g(e){return m(c,!0,e,"payload")}var h={audience:"aud",issuer:"iss",subject:"sub",jwtid:"jti"},y=["expiresIn","notBefore","noTimestamp","audience","issuer","subject","jwtid"];module.exports=function(i,o,a,s){"function"==typeof a?(s=a,a={}):a=a||{};var t="object"==typeof i&&!e.isBuffer(i),d=Object.assign({alg:a.algorithm||"HS256",typ:t?"JWT":void 0,kid:a.keyid},a.header);function u(e){if(s)return s(e);throw e}if(!o&&"none"!==a.algorithm)return u(new Error("secretOrPrivateKey must have a value"));if(void 0===i)return u(new Error("payload is required"));if(t){try{g(i)}catch(m){return u(m)}a.mutatePayload||(i=Object.assign({},i))}else{var f=y.filter(function(e){return void 0!==a[e]});if(f.length>0)return u(new Error("invalid "+f.join(",")+" option for "+typeof i+" payload"))}if(void 0!==i.exp&&void 0!==a.expiresIn)return u(new Error('Bad "options.expiresIn" option the payload already has an "exp" property.'));if(void 0!==i.nbf&&void 0!==a.notBefore)return u(new Error('Bad "options.notBefore" option the payload already has an "nbf" property.'));try{b(a)}catch(m){return u(m)}var p=i.iat||Math.floor(Date.now()/1e3);if(a.noTimestamp?delete i.iat:t&&(i.iat=p),void 0!==a.notBefore){try{i.nbf=r(a.notBefore,p)}catch(v){return u(v)}if(void 0===i.nbf)return u(new Error('"notBefore" should be a number of seconds or string representing a timespan eg: "1d", "20h", 60'))}if(void 0!==a.expiresIn&&"object"==typeof i){try{i.exp=r(a.expiresIn,p)}catch(v){return u(v)}if(void 0===i.exp)return u(new Error('"expiresIn" should be a number of seconds or string representing a timespan eg: "1d", "20h", 60'))}Object.keys(h).forEach(function(e){var r=h[e];if(void 0!==a[e]){if(void 0!==i[r])return u(new Error('Bad "options.'+e+'" option. The payload already has an "'+r+'" property.'));i[r]=a[e]}});var c=a.encoding||"utf8";if("function"!=typeof s)return n.sign({header:d,payload:i,secret:o,encoding:c});s=s&&l(s),n.createSign({header:d,privateKey:o,payload:i,encoding:c}).once("error",s).once("done",function(e){s(null,e)})};
},{"./lib/timespan":"BVtP","./lib/psSupported":"GCxj","jws":"kAAO","lodash.includes":"R8Ln","lodash.isboolean":"fb6B","lodash.isinteger":"pN6T","lodash.isnumber":"IN1P","lodash.isplainobject":"hT6N","lodash.isstring":"eMen","lodash.once":"Lf7l","buffer":"peL6"}],"JDSz":[function(require,module,exports) {
module.exports={decode:require("./decode"),verify:require("./verify"),sign:require("./sign"),JsonWebTokenError:require("./lib/JsonWebTokenError"),NotBeforeError:require("./lib/NotBeforeError"),TokenExpiredError:require("./lib/TokenExpiredError")};
},{"./decode":"smfd","./verify":"nva4","./sign":"IQzl","./lib/JsonWebTokenError":"Sgmk","./lib/NotBeforeError":"INvn","./lib/TokenExpiredError":"lLu7"}],"oZaC":[function(require,module,exports) {
"use strict";var e=require("@babel/runtime-corejs2/core-js/object/define-property");function r(){var e=setTimeout.apply(void 0,arguments);return e.unref&&e.unref(),e}function t(){var e=setInterval.apply(void 0,arguments);return e.unref&&e.unref(),e}e(exports,"__esModule",{value:!0}),exports.safeSetTimeout=r,exports.safeSetInterval=t;
},{"@babel/runtime-corejs2/core-js/object/define-property":"eIqn"}],"XR7s":[function(require,module,exports) {
"use strict";var r=require("@babel/runtime-corejs2/core-js/reflect/construct"),e=require("@babel/runtime-corejs2/core-js/object/define-property"),t=require("@babel/runtime-corejs2/helpers/interopRequireDefault");e(exports,"__esModule",{value:!0}),exports.default=exports.OAuthError=void 0;var u=t(require("@babel/runtime-corejs2/core-js/object/define-properties")),n=t(require("@babel/runtime-corejs2/helpers/classCallCheck")),i=t(require("@babel/runtime-corejs2/helpers/createClass")),o=t(require("@babel/runtime-corejs2/helpers/inherits")),a=t(require("@babel/runtime-corejs2/helpers/possibleConstructorReturn")),l=t(require("@babel/runtime-corejs2/helpers/getPrototypeOf")),s=require("@webex/common");function c(e){var t=f();return function(){var u,n=(0,l.default)(e);if(t){var i=(0,l.default)(this).constructor;u=r(n,arguments,i)}else u=n.apply(this,arguments);return(0,a.default)(this,u)}}function f(){if("undefined"==typeof Reflect||!r)return!1;if(r.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(r(Boolean,[],function(){})),!0}catch(e){return!1}}var p=function(r){(0,o.default)(t,r);var e=c(t);function t(){return(0,n.default)(this,t),e.apply(this,arguments)}return(0,i.default)(t,[{key:"parse",value:function(r){var e=r.body||r;return(0,u.default)(this,{error:{enumerable:!0,value:e.error},errorDescription:{enumerable:!0,value:e.error_description},errorUri:{enumerable:!0,value:e.error_uri},res:{enumerable:!1,value:r}}),this.errorDescription}}]),t}(s.Exception);exports.OAuthError=p;var d=function(r){(0,o.default)(t,r);var e=c(t);function t(){return(0,n.default)(this,t),e.apply(this,arguments)}return t}(p),h=function(r){(0,o.default)(t,r);var e=c(t);function t(){return(0,n.default)(this,t),e.apply(this,arguments)}return t}(p),v=function(r){(0,o.default)(t,r);var e=c(t);function t(){return(0,n.default)(this,t),e.apply(this,arguments)}return t}(p),b=function(r){(0,o.default)(t,r);var e=c(t);function t(){return(0,n.default)(this,t),e.apply(this,arguments)}return t}(p),y=function(r){(0,o.default)(t,r);var e=c(t);function t(){return(0,n.default)(this,t),e.apply(this,arguments)}return t}(p),m=function(r){(0,o.default)(t,r);var e=c(t);function t(){return(0,n.default)(this,t),e.apply(this,arguments)}return t}(p),j={OAuthError:p,InvalidRequestError:d,InvalidClientError:h,InvalidGrantError:v,UnauthorizedClientError:b,UnsupportGrantTypeError:y,InvalidScopeError:m,invalid_request:d,invalid_client:h,invalid_grant:v,unauthorized_client:b,unsupported_grant_type:y,invalid_scope:m,select:function(r){return j[r]||p}},q=j;exports.default=q;
},{"@babel/runtime-corejs2/core-js/reflect/construct":"vZQy","@babel/runtime-corejs2/core-js/object/define-property":"eIqn","@babel/runtime-corejs2/helpers/interopRequireDefault":"LXwi","@babel/runtime-corejs2/core-js/object/define-properties":"CpmN","@babel/runtime-corejs2/helpers/classCallCheck":"Tzth","@babel/runtime-corejs2/helpers/createClass":"xM5U","@babel/runtime-corejs2/helpers/inherits":"CdTE","@babel/runtime-corejs2/helpers/possibleConstructorReturn":"w9GY","@babel/runtime-corejs2/helpers/getPrototypeOf":"Qxr1","@webex/common":"UeF0"}],"SnIK":[function(require,module,exports) {
"use strict";var e=require("@babel/runtime-corejs2/core-js/object/define-property");function r(e){return e?e.split(" ").sort().join(" "):""}function t(e,r){return r?r.split(" ").filter(function(r){return r!==e}).sort().join(" "):""}e(exports,"__esModule",{value:!0}),exports.sortScope=r,exports.filterScope=t;
},{"@babel/runtime-corejs2/core-js/object/define-property":"eIqn"}],"jsWr":[function(require,module,exports) {
var e=require("@babel/runtime-corejs2/core-js/array/is-array");function r(r){if(e(r))return r}module.exports=r,module.exports.default=module.exports,module.exports.__esModule=!0;
},{"@babel/runtime-corejs2/core-js/array/is-array":"BpbX"}],"WgV3":[function(require,module,exports) {
var e=require("@babel/runtime-corejs2/core-js/symbol"),r=require("@babel/runtime-corejs2/core-js/symbol/iterator");function l(l,o){var t=null==l?null:void 0!==e&&l[r]||l["@@iterator"];if(null!=t){var u,n,a=[],i=!0,s=!1;try{for(t=t.call(l);!(i=(u=t.next()).done)&&(a.push(u.value),!o||a.length!==o);i=!0);}catch(c){s=!0,n=c}finally{try{i||null==t.return||t.return()}finally{if(s)throw n}}return a}}module.exports=l,module.exports.default=module.exports,module.exports.__esModule=!0;
},{"@babel/runtime-corejs2/core-js/symbol":"mr6k","@babel/runtime-corejs2/core-js/symbol/iterator":"uGl8"}],"vuZA":[function(require,module,exports) {
function e(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}module.exports=e,module.exports.default=module.exports,module.exports.__esModule=!0;
},{}],"vwJD":[function(require,module,exports) {
var e=require("./arrayWithHoles.js"),r=require("./iterableToArrayLimit.js"),o=require("./unsupportedIterableToArray.js"),t=require("./nonIterableRest.js");function u(u,s){return e(u)||r(u,s)||o(u,s)||t()}module.exports=u,module.exports.default=module.exports,module.exports.__esModule=!0;
},{"./arrayWithHoles.js":"jsWr","./iterableToArrayLimit.js":"WgV3","./unsupportedIterableToArray.js":"Q4vU","./nonIterableRest.js":"vuZA"}],"JIql":[function(require,module,exports) {
"use strict";var e=require("@babel/runtime-corejs2/helpers/typeof"),t=require("@babel/runtime-corejs2/core-js/weak-map"),r=require("@babel/runtime-corejs2/core-js/object/define-property"),n=require("@babel/runtime-corejs2/core-js/object/get-own-property-descriptor"),o=require("@babel/runtime-corejs2/helpers/interopRequireDefault");r(exports,"__esModule",{value:!0}),exports.default=void 0;var s,i,c=o(require("@babel/runtime-corejs2/helpers/slicedToArray")),a=o(require("@babel/runtime-corejs2/helpers/applyDecoratedDescriptor")),u=o(require("@babel/runtime-corejs2/core-js/promise")),f=o(require("@babel/runtime-corejs2/core-js/object/assign")),l=o(require("@babel/runtime-corejs2/core-js/reflect/apply")),h=o(require("@babel/runtime-corejs2/core-js/date/now")),p=o(require("@babel/runtime-corejs2/core-js/object/get-own-property-descriptor")),d=o(require("lodash/pick")),k=require("@webex/common"),_=require("@webex/common-timers"),g=o(require("../webex-http-error")),b=o(require("../webex-plugin")),w=require("./scope"),v=m(require("./grant-errors"));function x(e){if("function"!=typeof t)return null;var r=new t,n=new t;return(x=function(e){return e?n:r})(e)}function m(t,o){if(!o&&t&&t.__esModule)return t;if(null===t||"object"!==e(t)&&"function"!=typeof t)return{default:t};var s=x(o);if(s&&s.has(t))return s.get(t);var i={},c=r&&n;for(var a in t)if("default"!==a&&Object.prototype.hasOwnProperty.call(t,a)){var u=c?n(t,a):null;u&&(u.get||u.set)?r(i,a,u):i[a]=t[a]}return i.default=t,s&&s.set(t,i),i}function y(e){if(400!==e.statusCode)return u.default.reject(e);var t=v.default.select(e.body.error);return t===v.OAuthError&&e instanceof g.default?u.default.reject(e):t?u.default.reject(new t(e._res||e)):u.default.reject(e)}var j=b.default.extend((s=(0,k.oneFlight)({keyFactory:function(e){return e}}),i={derived:{canAuthorize:{deps:["access_token","isExpired"],fn:function(){return!!this.access_token&&!this.isExpired}},canDownscope:{deps:["canAuthorize"],fn:function(){return this.canAuthorize&&!!this.config.client_id}},canRefresh:{deps:["refresh_token"],fn:function(){return k.inBrowser?!!this.refresh_token&&!!this.config.refreshCallback:!!this.refresh_token&&!!this.config.client_secret}},isExpired:{deps:["expires","_isExpired"],fn:function(){return!!this.expires&&this._isExpired}},_string:{deps:["access_token","token_type"],fn:function(){return this.access_token&&this.token_type?"".concat(this.token_type," ").concat(this.access_token):""}}},namespace:"Credentials",props:{scope:"string",access_token:"string",expires:"number",expires_in:"number",refresh_token:"string",refresh_token_expires:"number",refresh_token_expires_in:"number",token_type:{default:"Bearer",type:"string"}},session:{_isExpired:{default:!1,type:"boolean"},previousToken:{type:"state"}},downscope:function(e){var t=this;return this.logger.info("token: downscoping token to ".concat(e)),this.isExpired?(this.logger.info("token: request received to downscope expired access_token"),u.default.reject(new Error("cannot downscope expired access token"))):this.canDownscope?(e&&(e=(0,w.sortScope)(e)),e===(0,w.sortScope)(this.config.scope)?u.default.reject(new Error("token: scope reduction requires a reduced scope")):this.webex.request({method:"POST",uri:this.config.tokenUrl,addAuthHeader:!1,form:{grant_type:"urn:cisco:oauth:grant-type:scope-reduction",token:this.access_token,scope:e,client_id:this.config.client_id,self_contained_token:!0}}).then(function(r){return t.logger.info("token: downscoped token to ".concat(e)),new j((0,f.default)(r.body,{scope:e}),{parent:t.parent})})):(this.config.client_id?this.logger.info("token: request received to downscope invalid access_token"):this.logger.trace("token: cannot downscope without client_id"),u.default.reject(new Error("cannot downscope access token")))},initialize:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if((0,l.default)(b.default.prototype.initialize,this,[t,r]),"string"==typeof t&&(this.access_token=t),!this.access_token)throw new Error("`access_token` is required");this.expires&&(this.expires<(0,h.default)()?this._isExpired=!0:(0,_.safeSetTimeout)(function(){e._isExpired=!0},this.expires-(0,h.default)()))},refresh:function(){var e,t=this;if(!this.canRefresh)throw new Error("Not enough information available to refresh this access token");if(k.inBrowser){if(!this.config.refreshCallback)throw new Error("Cannot refresh access token without refreshCallback");e=u.default.resolve(this.config.refreshCallback(this.webex,this))}return(e||this.webex.request({method:"POST",uri:this.config.tokenUrl,form:{grant_type:"refresh_token",redirect_uri:this.config.redirect_uri,refresh_token:this.refresh_token},auth:{user:this.config.client_id,pass:this.config.client_secret,sendImmediately:!0},shouldRefreshAccessToken:!1}).then(function(e){return e.body})).then(function(e){if(!e)throw new Error("token: refreshCallback() did not produce an object");return e.refresh_token||(0,f.default)(e,(0,d.default)(t,"refresh_token","refresh_token_expires","refresh_token_expires_in")),t.access_token===e.access_token?(t.logger.error("token: new token matches current token"),u.default.reject(new Error("new token matches current token"))):(t.previousToken&&(t.previousToken.revoke(),t.unset("previousToken")),e.previousToken=t,e.scope=t.scope,new j(e,{parent:t.parent}))}).catch(y)},revoke:function(){var e=this;return this.isExpired?(this.logger.info("token: already expired, not making making revocation request"),u.default.resolve()):this.canAuthorize?this.config.client_secret?(this.logger.info("token: revoking access token"),this.webex.request({method:"POST",uri:this.config.revokeUrl,form:{token:this.access_token,token_type_hint:"access_token"},auth:{user:this.config.client_id,pass:this.config.client_secret,sendImmediately:!0},shouldRefreshAccessToken:!1}).then(function(){e.unset(["access_token","expires","expires_in","token_type"]),e.logger.info("token: access token revoked")}).catch(y)):(this.logger.info("token: no client secret available, not making revocation request"),u.default.resolve()):(this.logger.info("token: no longer valid, not making revocation request"),u.default.resolve())},set:function(){var e=this._filterSetParameters.apply(this,arguments),t=(0,c.default)(e,2),r=t[0],n=t[1];if(!r.token_type&&r.access_token&&r.access_token.includes(" ")){var o=r.access_token.split(" "),s=(0,c.default)(o,2),i=s[0],a=s[1];r=(0,f.default)({},r,{access_token:a,token_type:i})}var u=(0,h.default)();return!r.expires&&r.expires_in&&(r.expires=u+1e3*r.expires_in),!r.refresh_token_expires&&r.refresh_token_expires_in&&(r.refresh_token_expires=u+1e3*r.refresh_token_expires_in),r.scope&&(r.scope=(0,w.sortScope)(r.scope)),(0,l.default)(b.default.prototype.set,this,[r,n])},toString:function(){if(!this._string)throw new Error("cannot stringify Token");return this._string},validate:function(){throw new Error("Token#validate() must not be used in production")},version:"1.150.0"},(0,a.default)(i,"downscope",[s],(0,p.default)(i,"downscope"),i),(0,a.default)(i,"refresh",[k.oneFlight],(0,p.default)(i,"refresh"),i),(0,a.default)(i,"revoke",[k.oneFlight],(0,p.default)(i,"revoke"),i),i)),q=j;exports.default=q;
},{"@babel/runtime-corejs2/helpers/typeof":"hVHy","@babel/runtime-corejs2/core-js/weak-map":"HKHU","@babel/runtime-corejs2/core-js/object/define-property":"eIqn","@babel/runtime-corejs2/core-js/object/get-own-property-descriptor":"mQ9c","@babel/runtime-corejs2/helpers/interopRequireDefault":"LXwi","@babel/runtime-corejs2/helpers/slicedToArray":"vwJD","@babel/runtime-corejs2/helpers/applyDecoratedDescriptor":"WYJH","@babel/runtime-corejs2/core-js/promise":"eOfj","@babel/runtime-corejs2/core-js/object/assign":"h2Mz","@babel/runtime-corejs2/core-js/reflect/apply":"Lf7Q","@babel/runtime-corejs2/core-js/date/now":"Pb2S","lodash/pick":"N5Tq","@webex/common":"UeF0","@webex/common-timers":"oZaC","../webex-http-error":"vYaN","../webex-plugin":"rH5l","./scope":"SnIK","./grant-errors":"XR7s"}],"FseE":[function(require,module,exports) {
var t=require("lodash/assign"),r=function(r){var o,p=this,n=[].slice.call(arguments);o=r&&r.hasOwnProperty("constructor")?r.constructor:function(){return p.apply(this,arguments)},t(o,p);var e=function(){this.constructor=o};return e.prototype=p.prototype,o.prototype=new e,r&&(n.unshift(o.prototype),t.apply(null,n)),o.__super__=p.prototype,o};module.exports=r;
},{"lodash/assign":"vlVw"}],"k93N":[function(require,module,exports) {
var e=require("./_baseRest"),r=require("./_createWrap"),a=require("./_getHolder"),l=require("./_replaceHolders"),t=1,u=32,i=e(function(e,o,c){var d=t;if(c.length){var n=l(c,a(i));d|=u}return r(e,d,o,c,n)});i.placeholder={},module.exports=i;
},{"./_baseRest":"f4Fl","./_createWrap":"aYWg","./_getHolder":"coim","./_replaceHolders":"bU1I"}],"qvaR":[function(require,module,exports) {
var e=require("ampersand-events"),t=require("ampersand-class-extend"),i=require("lodash/isArray"),r=require("lodash/bind"),s=require("lodash/assign"),n=[].slice;function o(e,t){if(t||(t={}),t.model&&(this.model=t.model),t.comparator&&(this.comparator=t.comparator),t.parent&&(this.parent=t.parent),!this.mainIndex){var i=this.model&&this.model.prototype&&this.model.prototype.idAttribute;this.mainIndex=i||"id"}this._reset(),this.initialize.apply(this,arguments),e&&this.reset(e,s({silent:!0},t))}s(o.prototype,e,{initialize:function(){},isModel:function(e){return this.model&&e instanceof this.model},add:function(e,t){return this.set(e,s({merge:!1,add:!0,remove:!1},t))},parse:function(e,t){return e},serialize:function(){return this.map(function(e){if(e.serialize)return e.serialize();var t={};return s(t,e),delete t.collection,t})},toJSON:function(){return this.serialize()},set:function(e,t){(t=s({add:!0,remove:!0,merge:!0},t)).parse&&(e=this.parse(e,t));var r,n,o,h,d,a,l,c=!i(e);e=c?e?[e]:[]:e.slice();var f=t.at,m=this.comparator&&null==f&&!1!==t.sort,u="string"==typeof this.comparator?this.comparator:null,p=[],g=[],v={},x=t.add,_=t.merge,y=t.remove,I=!(m||!x||!y)&&[],w=this.model&&this.model.prototype||Object.prototype;for(a=0,l=e.length;a<l;a++){if(o=e[a]||{},this.isModel(o)?r=n=o:w.generateId?r=w.generateId(o):void 0===(r=o[this.mainIndex])&&this._isDerivedIndex(w)&&(r=w._derived[this.mainIndex].fn.call(o)),h=this.get(r))y&&(v[h.cid||h[this.mainIndex]]=!0),_&&(o=o===n?n.attributes:o,t.parse&&(o=h.parse(o,t)),h.set?(h.set(o,t),m&&!d&&h.hasChanged(u)&&(d=!0)):s(h,o)),e[a]=h;else if(x){if(!(n=e[a]=this._prepareModel(o,t)))continue;p.push(n),this._addReference(n,t)}(n=h||n)&&(I&&(n.isNew&&n.isNew()||!n[this.mainIndex]||!v[n.cid||n[this.mainIndex]])&&I.push(n),v[n[this.mainIndex]]=!0)}if(y){for(a=0,l=this.length;a<l;a++)v[(n=this.models[a]).cid||n[this.mainIndex]]||g.push(n);for(g.length&&this.remove(g,t),a=0,l=p.length;a<l;a++)this._index(p[a])}if(p.length||I&&I.length)if(m&&(d=!0),null!=f)for(a=0,l=p.length;a<l;a++)this.models.splice(f+a,0,p[a]);else{var E=I||p;for(a=0,l=E.length;a<l;a++)this.models.push(E[a])}if(d&&this.sort({silent:!0}),!t.silent){for(a=0,l=p.length;a<l;a++)(n=p[a]).trigger?n.trigger("add",n,this,t):this.trigger("add",n,this,t);(d||I&&I.length)&&this.trigger("sort",this,t)}return c?e[0]:e},get:function(e,t){if(null!=e){var i=this.mainIndex,r=this._indexes[t||i];return r&&(r[e]||void 0!==e[i]&&r[e[i]])||this._indexes.cid[e]||this._indexes.cid[e.cid]}},at:function(e){return this.models[e]},remove:function(e,t){var r,s,o,h,d=!i(e);for(t||(t={}),r=0,s=(e=d?[e]:n.call(e)).length;r<s;r++)(o=e[r]=this.get(e[r]))&&(this._deIndex(o),h=this.models.indexOf(o),this.models.splice(h,1),t.silent||(t.index=h,o.trigger?o.trigger("remove",o,this,t):this.trigger("remove",o,this,t)),this._removeReference(o,t));return d?e[0]:e},reset:function(e,t){t||(t={});for(var i=0,r=this.models.length;i<r;i++)this._removeReference(this.models[i],t);return t.previousModels=this.models,this._reset(),e=this.add(e,s({silent:!0},t)),t.silent||this.trigger("reset",this,t),e},sort:function(e){var t=this;if(!this.comparator)throw new Error("Cannot sort a set without a comparator");return e||(e={}),"string"==typeof this.comparator?this.models.sort(function(e,i){return e.get?(e=e.get(t.comparator),i=i.get(t.comparator)):(e=e[t.comparator],i=i[t.comparator]),e>i||void 0===e?1:e<i||void 0===i?-1:0}):1===this.comparator.length?this.models.sort(function(e,i){return(e=t.comparator(e))>(i=t.comparator(i))||void 0===e?1:e<i||void 0===i?-1:0}):this.models.sort(r(this.comparator,this)),e.silent||this.trigger("sort",this,e),this},_reset:function(){var e=n.call(this.indexes||[]),t=0;e.push(this.mainIndex),e.push("cid");var i=e.length;for(this.models=[],this._indexes={};t<i;t++)this._indexes[e[t]]={}},_prepareModel:function(e,t){if(!this.model)return e;if(this.isModel(e))return e.collection||(e.collection=this),e;(t=t?s({},t):{}).collection=this;var i=new this.model(e,t);return i.validationError?(this.trigger("invalid",this,i.validationError,t),!1):i},_deIndex:function(e,t,i){var r;if(void 0===t)for(var s in this._indexes)r=e.hasOwnProperty(s)?e[s]:e.get&&e.get(s),delete this._indexes[s][r];else{if(void 0===this._indexes[t])throw new Error("Given attribute is not an index");delete this._indexes[t][i]}},_index:function(e,t){var i;if(void 0===t)for(var r in this._indexes)null!=(i=e.hasOwnProperty(r)?e[r]:e.get&&e.get(r))&&(this._indexes[r][i]=e);else{if(void 0===this._indexes[t])throw new Error("Given attribute is not an index");(i=e[t]||e.get&&e.get(t))&&(this._indexes[t][i]=e)}},_isDerivedIndex:function(e){return!(!e||"object"!=typeof e._derived)&&Object.keys(e._derived).indexOf(this.mainIndex)>=0},_addReference:function(e,t){this._index(e),e.collection||(e.collection=this),e.on&&e.on("all",this._onModelEvent,this)},_removeReference:function(e,t){this===e.collection&&delete e.collection,this._deIndex(e),e.off&&e.off("all",this._onModelEvent,this)},_onModelEvent:function(e,t,i,r){var s=e.split(":")[0],n=e.split(":")[1];("add"!==s&&"remove"!==s||i===this)&&("destroy"===s&&this.remove(t,r),t&&"change"===s&&n&&this._indexes[n]&&(this._deIndex(t,n,t.previousAttributes()[n]),this._index(t,n)),this.trigger.apply(this,arguments))}}),Object.defineProperties(o.prototype,{length:{get:function(){return this.models.length}},isCollection:{get:function(){return!0}}});var h=["indexOf","lastIndexOf","every","some","forEach","map","filter","reduce","reduceRight"];h.forEach(function(e){o.prototype[e]=function(){return this.models[e].apply(this.models,arguments)}}),o.prototype.each=o.prototype.forEach,o.extend=t,module.exports=o;
},{"ampersand-events":"fXyO","ampersand-class-extend":"FseE","lodash/isArray":"p0cq","lodash/bind":"k93N","lodash/assign":"vlVw"}],"kY5F":[function(require,module,exports) {
"use strict";var e=require("@babel/runtime-corejs2/core-js/object/define-property"),r=require("@babel/runtime-corejs2/helpers/interopRequireDefault");e(exports,"__esModule",{value:!0}),exports.default=void 0;var t=r(require("ampersand-collection")),a=r(require("./token")),o=t.default.extend({mainIndex:"scope",model:a.default,namespace:"Credentials"}),u=o;exports.default=u;
},{"@babel/runtime-corejs2/core-js/object/define-property":"eIqn","@babel/runtime-corejs2/helpers/interopRequireDefault":"LXwi","ampersand-collection":"qvaR","./token":"JIql"}],"eyzh":[function(require,module,exports) {
"use strict";var e=require("@babel/runtime-corejs2/core-js/object/define-property"),t=require("@babel/runtime-corejs2/helpers/interopRequireDefault");e(exports,"__esModule",{value:!0}),exports.default=void 0;var r,n,o,i,s,a,u,c=t(require("@babel/runtime-corejs2/core-js/reflect/delete-property")),l=t(require("@babel/runtime-corejs2/core-js/json/stringify")),f=t(require("@babel/runtime-corejs2/core-js/object/assign")),d=t(require("@babel/runtime-corejs2/core-js/object/keys")),h=t(require("@babel/runtime-corejs2/core-js/reflect/apply")),p=t(require("@babel/runtime-corejs2/core-js/promise")),g=t(require("@babel/runtime-corejs2/core-js/date/now")),k=t(require("@babel/runtime-corejs2/core-js/object/get-own-property-descriptor")),m=t(require("@babel/runtime-corejs2/helpers/applyDecoratedDescriptor")),v=t(require("lodash/isEmpty")),b=t(require("lodash/isObject")),T=t(require("lodash/cloneDeep")),y=t(require("lodash/clone")),w=t(require("querystring")),q=t(require("url")),j=t(require("jsonwebtoken")),_=require("@webex/common"),x=require("@webex/common-timers"),R=t(require("../webex-plugin")),z=require("../storage/decorators"),I=t(require("./grant-errors")),O=require("./scope"),U=t(require("./token")),F=t(require("./token-collection")),S=R.default.extend((r=(0,_.oneFlight)({keyFactory:function(e){return e}}),n=(0,z.waitForValue)("@"),o=(0,z.persist)("@"),i=(0,z.waitForValue)("@"),s=(0,_.whileInFlight)("isRefreshing"),a=(0,z.waitForValue)("@"),u={collections:{userTokens:F.default},dataTypes:{token:(0,_.makeStateDataType)(U.default,"token").dataType},derived:{canAuthorize:{deps:["supertoken","supertoken.canAuthorize","canRefresh"],fn:function(){return Boolean(this.supertoken&&this.supertoken.canAuthorize||this.canRefresh)}},canRefresh:{deps:["supertoken","supertoken.canRefresh"],fn:function(){return!!this.config.jwtRefreshCallback||Boolean(this.supertoken&&this.supertoken.canRefresh)}}},props:{supertoken:(0,_.makeStateDataType)(U.default,"token").prop},namespace:"Credentials",session:{isRefreshing:{default:!1,type:"boolean"},ready:{default:!1,type:"boolean"},refreshTimer:{default:void 0,type:"any"}},buildLoginUrl:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{clientType:"public"};if(e.state&&!(0,b.default)(e.state))throw new Error("if specified, `options.state` must be an object");return e.client_id=this.config.client_id,e.redirect_uri=this.config.redirect_uri,e.scope=this.config.scope,(e=(0,T.default)(e)).response_type||(e.response_type="public"===e.clientType?"token":"code"),(0,c.default)(e,"clientType"),e.state&&((0,v.default)(e.state)?delete e.state:e.state=_.base64.toBase64Url((0,l.default)(e.state))),"".concat(this.config.authorizeUrl,"?").concat(w.default.stringify(e))},getOrgId:function(){this.logger.info("credentials: attempting to retrieve the OrgId from token");try{return this.logger.info("credentials: trying to extract OrgId from JWT"),this.extractOrgIdFromJWT(this.supertoken.access_token)}catch(e){return this.logger.info("credentials: could not extract OrgId from JWT"),this.logger.info("credentials: attempting to extract OrgId from user token"),this.extractOrgIdFromUserToken(this.supertoken.access_token)}},extractOrgIdFromJWT:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=j.default.decode(e);if(!t)throw new Error("unable to extract the OrgId from the provided JWT");if(!t.realm)throw new Error("the provided JWT does not contain an OrgId");return t.realm},extractOrgIdFromUserToken:function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").split("_");if(3!==e.length)throw new Error("the provided token is not a valid format");return e[2]},buildLogoutUrl:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return"".concat(this.config.logoutUrl,"?").concat(w.default.stringify((0,f.default)({cisService:this.config.service,goto:this.config.redirect_uri},e)))},calcRefreshTimeout:function(e){return Math.floor((Math.floor(4*Math.random())+6)/10*e)},constructor:function(){var e=this;this._dataTypes=(0,T.default)(this._dataTypes),(0,d.default)(this._dataTypes).forEach(function(t){e._dataTypes[t].set&&(e._dataTypes[t].set=e._dataTypes[t].set.bind(e))});for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];(0,h.default)(R.default,this,r)},downscope:function(e){var t=this;return this.supertoken.downscope(e).catch(function(r){return t.logger.trace("credentials: failed to downscope supertoken to ".concat(e),r),t.logger.trace("credentials: falling back to supertoken for ".concat(e)),p.default.resolve(new U.default((0,f.default)({scope:e},t.supertoken.serialize())),{parent:t})})},getClientToken:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.logger.info("credentials: requesting client credentials grant"),this.webex.request({method:"POST",uri:t.uri||this.config.tokenUrl,form:{grant_type:"client_credentials",scope:t.scope||"webexsquare:admin",self_contained_token:!0},auth:{user:this.config.client_id,pass:this.config.client_secret,sendImmediately:!0},shouldRefreshAccessToken:!1}).then(function(t){return new U.default(t.body,{parent:e})}).catch(function(e){if(400!==e.statusCode)return p.default.reject(e);var t=I.default.select(e.body.error);return p.default.reject(new t(e._res||e))})},getUserToken:function(e){var t=this;return p.default.resolve(!this.isRefreshing||new p.default(function(e){t.logger.info("credentials: token refresh inflight; delaying getUserToken until refresh completes"),t.once("change:isRefreshing",function(){t.logger.info("credentials: token refresh complete; reinvoking getUserToken"),e()})})).then(function(){if(!t.canAuthorize)return t.logger.info("credentials: cannot produce an access token from current state"),p.default.reject(new Error("Current state cannot produce an access token"));if(e||(e=(0,O.filterScope)("spark:kms",t.config.scope)),(e=(0,O.sortScope)(e))===(0,O.sortScope)(t.config.scope))return p.default.resolve(t.supertoken);var r=t.userTokens.get(e);return r&&r.access_token?p.default.resolve(r):t.downscope(e).then((0,_.tap)(function(e){return t.userTokens.add(e)}))})},initialize:function(e,t){var r=this;e&&("string"==typeof e&&(this.supertoken=e),e.access_token&&(this.supertoken=e),e.authorization&&(e.authorization.supertoken?this.supertoken=e.authorization.supertoken:this.supertoken=e.authorization),this.supertoken&&this.supertoken.expires&&this.scheduleRefresh(this.supertoken.expires)),(0,h.default)(R.default.prototype.initialize,this,[e,t]),this.listenToOnce(this.parent,"change:config",function(){if(r.config.authorizationString){var e=q.default.parse(r.config.authorizationString,!0);r.config.client_id=e.query.client_id,r.config.redirect_uri=e.query.redirect_uri,r.config.scope=e.query.scope,r.config.authorizeUrl=e.href.substr(0,e.href.indexOf("?"))}}),this.webex.once("loaded",function(){r.ready=!0})},invalidate:function(){this.logger.info("credentials: invalidating tokens"),this.refreshTimer&&(clearTimeout(this.refreshTimer),this.unset("refreshTimer"));try{this.unset("supertoken")}catch(e){this.logger.warn("credentials: failed to clear supertoken",e)}for(;this.userTokens.models.length;)try{this.userTokens.remove(this.userTokens.models[0])}catch(e){this.logger.warn("credentials: failed to remove user token",e)}return this.logger.info("credentials: finished removing tokens"),p.default.resolve()},refresh:function(){var e=this;this.logger.info("credentials: refresh requested");var t=this.supertoken,r=(0,y.default)(this.userTokens.models);return this.config.jwtRefreshCallback?this.config.jwtRefreshCallback(this.webex).then(function(t){return e.webex.authorization.requestAccessTokenFromJwt({jwt:t})}):(this.webex.internal.services&&this.webex.internal.services.updateCredentialsConfig(),t.refresh().then(function(t){return e.refreshTimer&&(clearTimeout(e.refreshTimer),e.unset("refreshTimer")),e.supertoken=t,p.default.all(r.map(function(t){return e.downscope(t.scope).then(function(r){return e.logger.info("credentials: revoking token for ".concat(t.scope)),t.revoke().catch(function(t){e.logger.warn("credentials: failed to revoke user token",t)}).then(function(){e.userTokens.remove(t.scope),e.userTokens.add(r)})})}))}).then(function(){e.scheduleRefresh(e.supertoken.expires)}).catch(function(t){if(t instanceof I.default.InvalidRequestError){for(e.unset("supertoken");e.userTokens.models.length;)try{e.userTokens.remove(e.userTokens.models[0])}catch(r){e.logger.warn("credentials: failed to remove user token",r)}e.webex.trigger("client:InvalidRequestError")}return p.default.reject(t)}))},scheduleRefresh:function(e){var t=this,r=e-(0,g.default)();if(r>0){var n=this.calcRefreshTimeout(r);this.refreshTimer=(0,x.safeSetTimeout)(function(){return t.refresh()},n)}else this.refresh()},version:"1.150.0"},(0,m.default)(u,"getUserToken",[r,n],(0,k.default)(u,"getUserToken"),u),(0,m.default)(u,"initialize",[o],(0,k.default)(u,"initialize"),u),(0,m.default)(u,"invalidate",[_.oneFlight,i],(0,k.default)(u,"invalidate"),u),(0,m.default)(u,"refresh",[_.oneFlight,s,a],(0,k.default)(u,"refresh"),u),u)),C=S;exports.default=C;
},{"@babel/runtime-corejs2/core-js/object/define-property":"eIqn","@babel/runtime-corejs2/helpers/interopRequireDefault":"LXwi","@babel/runtime-corejs2/core-js/reflect/delete-property":"CFlp","@babel/runtime-corejs2/core-js/json/stringify":"E09K","@babel/runtime-corejs2/core-js/object/assign":"h2Mz","@babel/runtime-corejs2/core-js/object/keys":"d81a","@babel/runtime-corejs2/core-js/reflect/apply":"Lf7Q","@babel/runtime-corejs2/core-js/promise":"eOfj","@babel/runtime-corejs2/core-js/date/now":"Pb2S","@babel/runtime-corejs2/core-js/object/get-own-property-descriptor":"mQ9c","@babel/runtime-corejs2/helpers/applyDecoratedDescriptor":"WYJH","lodash/isEmpty":"BBRi","lodash/isObject":"u9vI","lodash/cloneDeep":"Y0zI","lodash/clone":"ACgM","querystring":"fk5h","url":"Mej7","jsonwebtoken":"JDSz","@webex/common":"UeF0","@webex/common-timers":"oZaC","../webex-plugin":"rH5l","../storage/decorators":"SJRt","./grant-errors":"XR7s","./scope":"SnIK","./token":"JIql","./token-collection":"kY5F"}],"zdlg":[function(require,module,exports) {
"use strict";var e=require("@babel/runtime-corejs2/core-js/object/define-property"),r=require("@babel/runtime-corejs2/helpers/interopRequireDefault");e(exports,"__esModule",{value:!0}),e(exports,"Credentials",{enumerable:!0,get:function(){return u.default}}),e(exports,"filterScope",{enumerable:!0,get:function(){return n.filterScope}}),e(exports,"sortScope",{enumerable:!0,get:function(){return n.sortScope}}),e(exports,"Token",{enumerable:!0,get:function(){return o.default}}),e(exports,"grantErrors",{enumerable:!0,get:function(){return i.default}});var t=require("../../webex-core"),u=r(require("./credentials")),n=require("./scope"),o=r(require("./token")),i=r(require("./grant-errors"));(0,t.registerPlugin)("credentials",u.default,{proxies:["canAuthorize","canRefresh"]});
},{"@babel/runtime-corejs2/core-js/object/define-property":"eIqn","@babel/runtime-corejs2/helpers/interopRequireDefault":"LXwi","../../webex-core":"aKAi","./credentials":"eyzh","./scope":"SnIK","./token":"JIql","./grant-errors":"XR7s"}],"O6rb":[function(require,module,exports) {
"use strict";var E=require("@babel/runtime-corejs2/core-js/object/define-property");E(exports,"__esModule",{value:!0}),exports.SERVICE_CATALOGS=exports.NAMESPACE=exports.SERVICE_CATALOGS_ENUM_TYPES=void 0;var e="services";exports.NAMESPACE=e;var r=["discovery","limited","signin","postauth","custom"];exports.SERVICE_CATALOGS=r;var S={STRING:"SERVICE_CATALOGS_ENUM_TYPES_STRING",NUMBER:"SERVICE_CATALOGS_ENUM_TYPES_NUMBER"};exports.SERVICE_CATALOGS_ENUM_TYPES=S;
},{"@babel/runtime-corejs2/core-js/object/define-property":"eIqn"}],"KOvs":[function(require,module,exports) {
var define;
var global = arguments[3];
var t,n=arguments[3];!function(n,e){"object"==typeof exports?module.exports=exports=e():"function"==typeof t&&t.amd?t([],e):n.CryptoJS=e()}(this,function(){var t=t||function(t,e){var i;if("undefined"!=typeof window&&window.crypto&&(i=window.crypto),"undefined"!=typeof self&&self.crypto&&(i=self.crypto),"undefined"!=typeof globalThis&&globalThis.crypto&&(i=globalThis.crypto),!i&&"undefined"!=typeof window&&window.msCrypto&&(i=window.msCrypto),!i&&void 0!==n&&n.crypto&&(i=n.crypto),!i&&"function"==typeof require)try{i=require("crypto")}catch(g){}var r=function(){if(i){if("function"==typeof i.getRandomValues)try{return i.getRandomValues(new Uint32Array(1))[0]}catch(g){}if("function"==typeof i.randomBytes)try{return i.randomBytes(4).readInt32LE()}catch(g){}}throw new Error("Native crypto module could not be used to get secure random number.")},o=Object.create||function(){function t(){}return function(n){var e;return t.prototype=n,e=new t,t.prototype=null,e}}(),s={},a=s.lib={},c=a.Base={extend:function(t){var n=o(this);return t&&n.mixIn(t),n.hasOwnProperty("init")&&this.init!==n.init||(n.init=function(){n.$super.init.apply(this,arguments)}),n.init.prototype=n,n.$super=this,n},create:function(){var t=this.extend();return t.init.apply(t,arguments),t},init:function(){},mixIn:function(t){for(var n in t)t.hasOwnProperty(n)&&(this[n]=t[n]);t.hasOwnProperty("toString")&&(this.toString=t.toString)},clone:function(){return this.init.prototype.extend(this)}},u=a.WordArray=c.extend({init:function(t,n){t=this.words=t||[],this.sigBytes=null!=n?n:4*t.length},toString:function(t){return(t||p).stringify(this)},concat:function(t){var n=this.words,e=t.words,i=this.sigBytes,r=t.sigBytes;if(this.clamp(),i%4)for(var o=0;o<r;o++){var s=e[o>>>2]>>>24-o%4*8&255;n[i+o>>>2]|=s<<24-(i+o)%4*8}else for(var a=0;a<r;a+=4)n[i+a>>>2]=e[a>>>2];return this.sigBytes+=r,this},clamp:function(){var n=this.words,e=this.sigBytes;n[e>>>2]&=4294967295<<32-e%4*8,n.length=t.ceil(e/4)},clone:function(){var t=c.clone.call(this);return t.words=this.words.slice(0),t},random:function(t){for(var n=[],e=0;e<t;e+=4)n.push(r());return new u.init(n,t)}}),f=s.enc={},p=f.Hex={stringify:function(t){for(var n=t.words,e=t.sigBytes,i=[],r=0;r<e;r++){var o=n[r>>>2]>>>24-r%4*8&255;i.push((o>>>4).toString(16)),i.push((15&o).toString(16))}return i.join("")},parse:function(t){for(var n=t.length,e=[],i=0;i<n;i+=2)e[i>>>3]|=parseInt(t.substr(i,2),16)<<24-i%8*4;return new u.init(e,n/2)}},h=f.Latin1={stringify:function(t){for(var n=t.words,e=t.sigBytes,i=[],r=0;r<e;r++){var o=n[r>>>2]>>>24-r%4*8&255;i.push(String.fromCharCode(o))}return i.join("")},parse:function(t){for(var n=t.length,e=[],i=0;i<n;i++)e[i>>>2]|=(255&t.charCodeAt(i))<<24-i%4*8;return new u.init(e,n)}},d=f.Utf8={stringify:function(t){try{return decodeURIComponent(escape(h.stringify(t)))}catch(n){throw new Error("Malformed UTF-8 data")}},parse:function(t){return h.parse(unescape(encodeURIComponent(t)))}},l=a.BufferedBlockAlgorithm=c.extend({reset:function(){this._data=new u.init,this._nDataBytes=0},_append:function(t){"string"==typeof t&&(t=d.parse(t)),this._data.concat(t),this._nDataBytes+=t.sigBytes},_process:function(n){var e,i=this._data,r=i.words,o=i.sigBytes,s=this.blockSize,a=o/(4*s),c=(a=n?t.ceil(a):t.max((0|a)-this._minBufferSize,0))*s,f=t.min(4*c,o);if(c){for(var p=0;p<c;p+=s)this._doProcessBlock(r,p);e=r.splice(0,c),i.sigBytes-=f}return new u.init(e,f)},clone:function(){var t=c.clone.call(this);return t._data=this._data.clone(),t},_minBufferSize:0}),y=(a.Hasher=l.extend({cfg:c.extend(),init:function(t){this.cfg=this.cfg.extend(t),this.reset()},reset:function(){l.reset.call(this),this._doReset()},update:function(t){return this._append(t),this._process(),this},finalize:function(t){return t&&this._append(t),this._doFinalize()},blockSize:16,_createHelper:function(t){return function(n,e){return new t.init(e).finalize(n)}},_createHmacHelper:function(t){return function(n,e){return new y.HMAC.init(t,e).finalize(n)}}}),s.algo={});return s}(Math);return t});
},{"crypto":"vKFU"}],"A0uM":[function(require,module,exports) {
var define;
var r;!function(t,e){"object"==typeof exports?module.exports=exports=e(require("./core")):"function"==typeof r&&r.amd?r(["./core"],e):e(t.CryptoJS)}(this,function(r){return function(t){var e=r,o=e.lib,n=o.WordArray,s=o.Hasher,i=e.algo,a=[],c=[];!function(){function r(r){for(var e=t.sqrt(r),o=2;o<=e;o++)if(!(r%o))return!1;return!0}function e(r){return 4294967296*(r-(0|r))|0}for(var o=2,n=0;n<64;)r(o)&&(n<8&&(a[n]=e(t.pow(o,.5))),c[n]=e(t.pow(o,1/3)),n++),o++}();var h=[],f=i.SHA256=s.extend({_doReset:function(){this._hash=new n.init(a.slice(0))},_doProcessBlock:function(r,t){for(var e=this._hash.words,o=e[0],n=e[1],s=e[2],i=e[3],a=e[4],f=e[5],u=e[6],l=e[7],_=0;_<64;_++){if(_<16)h[_]=0|r[t+_];else{var p=h[_-15],d=(p<<25|p>>>7)^(p<<14|p>>>18)^p>>>3,v=h[_-2],H=(v<<15|v>>>17)^(v<<13|v>>>19)^v>>>10;h[_]=d+h[_-7]+H+h[_-16]}var y=o&n^o&s^n&s,w=(o<<30|o>>>2)^(o<<19|o>>>13)^(o<<10|o>>>22),A=l+((a<<26|a>>>6)^(a<<21|a>>>11)^(a<<7|a>>>25))+(a&f^~a&u)+c[_]+h[_];l=u,u=f,f=a,a=i+A|0,i=s,s=n,n=o,o=A+(w+y)|0}e[0]=e[0]+o|0,e[1]=e[1]+n|0,e[2]=e[2]+s|0,e[3]=e[3]+i|0,e[4]=e[4]+a|0,e[5]=e[5]+f|0,e[6]=e[6]+u|0,e[7]=e[7]+l|0},_doFinalize:function(){var r=this._data,e=r.words,o=8*this._nDataBytes,n=8*r.sigBytes;return e[n>>>5]|=128<<24-n%32,e[14+(n+64>>>9<<4)]=t.floor(o/4294967296),e[15+(n+64>>>9<<4)]=o,r.sigBytes=4*e.length,this._process(),this._hash},clone:function(){var r=s.clone.call(this);return r._hash=this._hash.clone(),r}});e.SHA256=s._createHelper(f),e.HmacSHA256=s._createHmacHelper(f)}(Math),r.SHA256});
},{"./core":"KOvs"}],"fyQI":[function(require,module,exports) {
"use strict";var t=require("@babel/runtime-corejs2/core-js/object/define-property"),r=require("@babel/runtime-corejs2/helpers/interopRequireDefault");t(exports,"__esModule",{value:!0}),exports.default=void 0;var e=r(require("url")),i=r(require("ampersand-state")),n=i.default.extend({namespace:"ServiceUrl",props:{defaultUrl:["string",!0,void 0],hosts:["array",!1,function(){return[]}],name:["string",!0,void 0]},_generateHostUrl:function(t){var r=e.default.parse(this.defaultUrl);return r.host="".concat(t).concat(r.port?":".concat(r.port):""),e.default.format(r)},_getHostUrls:function(){var t=this;return this.hosts.map(function(r){return{url:t._generateHostUrl(r.host),priority:r.priority}})},_getPriorityHostUrl:function(t){if(0===this.hosts.length)return this.defaultUrl;var r=t?this.hosts.filter(function(r){return r.id===t}):this.hosts.filter(function(t){return t.homeCluster}),e=r.filter(function(t){return!t.failed});return r=0===e.length?r.map(function(t){return t.failed=!1,t}):e,this._generateHostUrl(r.reduce(function(t,r){return t.priority>r.priority||!t.homeCluster?r:t},{}).host)},failHost:function(t){if(t===this.defaultUrl)return!0;var r=e.default.parse(t).hostname,i=this.hosts.find(function(t){return t.host===r});return i&&(i.failed=!0),void 0!==i},get:function(t,r){return t?this._getPriorityHostUrl(r):this.defaultUrl}}),o=n;exports.default=o;
},{"@babel/runtime-corejs2/core-js/object/define-property":"eIqn","@babel/runtime-corejs2/helpers/interopRequireDefault":"LXwi","url":"Mej7","ampersand-state":"aEDA"}],"j449":[function(require,module,exports) {
"use strict";var e=require("@babel/runtime-corejs2/core-js/array/from"),r=require("@babel/runtime-corejs2/core-js/symbol"),t=require("@babel/runtime-corejs2/core-js/symbol/iterator"),i=require("@babel/runtime-corejs2/core-js/array/is-array"),s=require("@babel/runtime-corejs2/core-js/object/keys"),n=require("@babel/runtime-corejs2/core-js/object/get-own-property-symbols"),o=require("@babel/runtime-corejs2/core-js/object/get-own-property-descriptor"),u=require("@babel/runtime-corejs2/core-js/object/get-own-property-descriptors"),a=require("@babel/runtime-corejs2/core-js/object/define-properties"),c=require("@babel/runtime-corejs2/core-js/object/define-property"),l=require("@babel/runtime-corejs2/helpers/interopRequireDefault");c(exports,"__esModule",{value:!0}),exports.default=void 0;var f=l(require("@babel/runtime-corejs2/core-js/object/keys")),d=l(require("@babel/runtime-corejs2/core-js/promise")),h=l(require("@babel/runtime-corejs2/helpers/defineProperty")),v=l(require("@babel/runtime-corejs2/helpers/toConsumableArray")),p=l(require("url")),m=l(require("ampersand-state")),b=l(require("./service-url"));function y(e,r){var t=s(e);if(n){var i=n(e);r&&(i=i.filter(function(r){return o(e,r).enumerable})),t.push.apply(t,i)}return t}function g(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?y(Object(t),!0).forEach(function(r){(0,h.default)(e,r,t[r])}):u?a(e,u(t)):y(Object(t)).forEach(function(r){c(e,r,o(t,r))})}return e}function j(e,s){var n=void 0!==r&&e[t]||e["@@iterator"];if(!n){if(i(e)||(n=G(e))||s&&e&&"number"==typeof e.length){n&&(e=n);var o=0,u=function(){};return{s:u,n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:u}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,c=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return c=e.done,e},e:function(e){l=!0,a=e},f:function(){try{c||null==n.return||n.return()}finally{if(l)throw a}}}}function G(r,t){if(r){if("string"==typeof r)return w(r,t);var i=Object.prototype.toString.call(r).slice(8,-1);return"Object"===i&&r.constructor&&(i=r.constructor.name),"Map"===i||"Set"===i?e(r):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?w(r,t):void 0}}function w(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,i=new Array(r);t<r;t++)i[t]=e[t];return i}var U=m.default.extend({namespace:"ServiceCatalog",props:{serviceGroups:["object",!0,function(){return{discovery:[],override:[],preauth:[],postauth:[],signin:[]}}],status:["object",!0,function(){return{discovery:{ready:!1,collecting:!1},override:{ready:!1,collecting:!1},preauth:{ready:!1,collecting:!1},postauth:{ready:!1,collecting:!1},signin:{ready:!1,collecting:!1}}}],isReady:["boolean",!1,!1],allowedDomains:["array",!1,function(){return[]}]},_getUrl:function(e,r){return("string"==typeof r?this.serviceGroups[r]||[]:[].concat((0,v.default)(this.serviceGroups.override),(0,v.default)(this.serviceGroups.postauth),(0,v.default)(this.serviceGroups.signin),(0,v.default)(this.serviceGroups.preauth),(0,v.default)(this.serviceGroups.discovery))).find(function(r){return r.name===e})},_listServiceUrls:function(){return[].concat((0,v.default)(this.serviceGroups.override),(0,v.default)(this.serviceGroups.postauth),(0,v.default)(this.serviceGroups.signin),(0,v.default)(this.serviceGroups.preauth),(0,v.default)(this.serviceGroups.discovery))},_loadServiceUrls:function(e,r){var t=this;return r.forEach(function(r){t._getUrl(r.name,e)||t.serviceGroups[e].push(r)}),this},_unloadServiceUrls:function(e,r){var t,i=this;return r.forEach(function(r){(t=i._getUrl(r.name,e))&&i.serviceGroups[e].splice(i.serviceGroups[e].indexOf(t),1)}),this},clean:function(){this.serviceGroups.preauth.length=0,this.serviceGroups.signin.length=0,this.serviceGroups.postauth.length=0,this.status.preauth={ready:!1},this.status.signin={ready:!1},this.status.postauth={ready:!1}},findClusterId:function(e){for(var r,t=p.default.parse(e),i=0,s=(0,f.default)(this.serviceGroups);i<s.length;i++){var n,o=s[i],u=j(this.serviceGroups[o]);try{for(u.s();!(n=u.n()).done;){var a=n.value;r=p.default.parse(a.defaultUrl);var c,l=j(a.hosts);try{for(l.s();!(c=l.n()).done;){var d=c.value;if(t.hostname===d.host&&d.id)return d.id}}catch(b){l.e(b)}finally{l.f()}if(r.hostname===t.hostname&&a.hosts.length>0){var h,v=j(a.hosts);try{for(v.s();!(h=v.n()).done;){var m=h.value;if(m.homeCluster)return m.id}}catch(b){v.e(b)}finally{v.f()}return a.hosts[0].id}}}catch(b){u.e(b)}finally{u.f()}}},findServiceFromClusterId:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=e.clusterId,t=e.priorityHost,i=void 0===t||t,s=e.serviceGroup,n=("string"==typeof s?this.serviceGroups[s]||[]:[].concat((0,v.default)(this.serviceGroups.override),(0,v.default)(this.serviceGroups.postauth),(0,v.default)(this.serviceGroups.signin),(0,v.default)(this.serviceGroups.preauth),(0,v.default)(this.serviceGroups.discovery))).find(function(e){return e.hosts.find(function(e){return e.id===r})});if(n)return{name:n.name,url:n.get(i,r)}},findServiceUrlFromUrl:function(e){var r=p.default.parse(e);return[].concat((0,v.default)(this.serviceGroups.discovery),(0,v.default)(this.serviceGroups.preauth),(0,v.default)(this.serviceGroups.signin),(0,v.default)(this.serviceGroups.postauth),(0,v.default)(this.serviceGroups.override)).find(function(e){return r.hostname===p.default.parse(e.defaultUrl).hostname||!!e.hosts.find(function(e){return e.host===r.hostname})})},findAllowedDomain:function(e){var r=p.default.parse(e);if(r.host)return this.allowedDomains.find(function(e){return r.host.includes(e)})},get:function(e,r,t){var i=this._getUrl(e,t);return i?i.get(r):void 0},getAllowedDomains:function(){return(0,v.default)(this.allowedDomains)},list:function(e,r){var t={},i="string"==typeof r?this.serviceGroups[r]||[]:[].concat((0,v.default)(this.serviceGroups.discovery),(0,v.default)(this.serviceGroups.preauth),(0,v.default)(this.serviceGroups.signin),(0,v.default)(this.serviceGroups.postauth),(0,v.default)(this.serviceGroups.override));return i&&i.forEach(function(r){t[r.name]=r.get(e)}),t},markFailedUrl:function(e,r){var t=this,i=this._getUrl((0,f.default)(this.list()).find(function(r){return t._getUrl(r).failHost(e)}));if(i)return r?i.get(!1):i.get(!0)},setAllowedDomains:function(e){this.allowedDomains=(0,v.default)(e)},updateServiceUrls:function(e,r){var t=this,i=this.serviceGroups[e].filter(function(e){return r.every(function(r){return r.name!==e.name})});return this._unloadServiceUrls(e,i),r.forEach(function(r){var i=t._getUrl(r.name,e);i?(i.defaultUrl=r.defaultUrl,i.hosts=r.hosts||[]):t._loadServiceUrls(e,[new b.default(g({},r))])}),this.status[e].ready=!0,this.trigger(e),this},waitForCatalog:function(e,r){var t=this;return new d.default(function(i,s){t.status[e].ready&&i();var n=setTimeout(function(){return s(new Error("services: timeout occured while waiting for '".concat(e,"' catalog to populate")))},r?1e3*r:6e4);t.once(e,function(){clearTimeout(n),i()})})}}),q=U;exports.default=q;
},{"@babel/runtime-corejs2/core-js/array/from":"ybNn","@babel/runtime-corejs2/core-js/symbol":"mr6k","@babel/runtime-corejs2/core-js/symbol/iterator":"uGl8","@babel/runtime-corejs2/core-js/array/is-array":"BpbX","@babel/runtime-corejs2/core-js/object/keys":"d81a","@babel/runtime-corejs2/core-js/object/get-own-property-symbols":"DovH","@babel/runtime-corejs2/core-js/object/get-own-property-descriptor":"mQ9c","@babel/runtime-corejs2/core-js/object/get-own-property-descriptors":"Hv1v","@babel/runtime-corejs2/core-js/object/define-properties":"CpmN","@babel/runtime-corejs2/core-js/object/define-property":"eIqn","@babel/runtime-corejs2/helpers/interopRequireDefault":"LXwi","@babel/runtime-corejs2/core-js/promise":"eOfj","@babel/runtime-corejs2/helpers/defineProperty":"n5FU","@babel/runtime-corejs2/helpers/toConsumableArray":"TW4i","url":"Mej7","ampersand-state":"aEDA","./service-url":"fyQI"}],"rgYV":[function(require,module,exports) {
"use strict";var t=require("@babel/runtime-corejs2/core-js/object/define-property"),e=require("@babel/runtime-corejs2/helpers/interopRequireDefault");t(exports,"__esModule",{value:!0}),exports.default=void 0;var r=e(require("@babel/runtime-corejs2/helpers/classCallCheck")),i=e(require("@babel/runtime-corejs2/helpers/createClass")),a=e(require("url")),s=require("./constants"),u=function(){function t(e){(0,r.default)(this,t),t.validate(e),this.catalog=e.catalog,this.default=e.defaultUri,this.hostGroup=e.hostGroup,this.id=e.id,this.priority=e.priority,this.uri=e.uri,this.failed=!1,this.replaced=!1}return(0,i.default)(t,[{key:"active",get:function(){return!this.failed&&!this.replaced}},{key:"local",get:function(){return this.default.includes(this.hostGroup)}},{key:"service",get:function(){return this.id.split(":")[3]}},{key:"url",get:function(){var t=a.default.parse(this.default);return t.host="".concat(this.uri).concat(t.port?":".concat(t.port):""),a.default.format(t)}},{key:"setStatus",value:function(t){var e=t.failed,r=t.replaced;return void 0!==e&&(this.failed=e),void 0!==r&&(this.replaced=r),this}}],[{key:"polyGenerate",value:function(e){var r=e.catalog,i=e.name,s=e.url;return new t({catalog:r,defaultUri:s,hostGroup:a.default.parse(s).host,id:i?"poly-head:poly-group:poly-cluster:".concat(i):void 0,priority:1,uri:a.default.parse(s).host})}},{key:"validate",value:function(t){var e=t.catalog,r=t.defaultUri,i=t.hostGroup,a=t.id,u=t.priority,o=t.uri,l=function(t){throw new Error("service-host: invalid constructor parameters, ".concat(t))};s.SERVICE_CATALOGS.includes(e)||l("'catalog' must be a string"),"string"!=typeof r&&l("'defaultUri' must be a string"),"string"!=typeof i&&l("'hostGroup' must be a string"),"string"==typeof a&&4===a.split(":").length||l("'id' must be a string that contains 3 ':' characters"),"number"!=typeof u&&l("'priority' must be a number"),"string"!=typeof o&&l("'uri' must be a string")}}]),t}();exports.default=u;
},{"@babel/runtime-corejs2/core-js/object/define-property":"eIqn","@babel/runtime-corejs2/helpers/interopRequireDefault":"LXwi","@babel/runtime-corejs2/helpers/classCallCheck":"Tzth","@babel/runtime-corejs2/helpers/createClass":"xM5U","url":"Mej7","./constants":"O6rb"}],"lflp":[function(require,module,exports) {
"use strict";var e=require("@babel/runtime-corejs2/core-js/object/keys"),t=require("@babel/runtime-corejs2/core-js/object/get-own-property-symbols"),r=require("@babel/runtime-corejs2/core-js/object/get-own-property-descriptor"),i=require("@babel/runtime-corejs2/core-js/object/get-own-property-descriptors"),n=require("@babel/runtime-corejs2/core-js/object/define-properties"),u=require("@babel/runtime-corejs2/core-js/object/define-property"),o=require("@babel/runtime-corejs2/helpers/interopRequireDefault");u(exports,"__esModule",{value:!0}),exports.default=void 0;var a=o(require("@babel/runtime-corejs2/core-js/array/is-array")),l=o(require("@babel/runtime-corejs2/core-js/object/keys")),s=o(require("@babel/runtime-corejs2/helpers/toConsumableArray")),c=o(require("@babel/runtime-corejs2/helpers/defineProperty")),f=o(require("@babel/runtime-corejs2/helpers/classCallCheck")),d=o(require("@babel/runtime-corejs2/helpers/createClass")),h=require("./constants"),p=o(require("./service-host"));function v(i,n){var u=e(i);if(t){var o=t(i);n&&(o=o.filter(function(e){return r(i,e).enumerable})),u.push.apply(u,o)}return u}function E(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?v(Object(o),!0).forEach(function(t){(0,c.default)(e,t,o[t])}):i?n(e,i(o)):v(Object(o)).forEach(function(t){u(e,t,r(o,t))})}return e}var S=function(){function e(){(0,f.default)(this,e),this.hosts=[]}return(0,d.default)(e,[{key:"map",get:function(){return this.find({active:!0,local:!0,priority:!0}).reduce(function(e,t){var r={};return r[t.service]=t.url,E(E({},e),r)},{})}},{key:"clear",value:function(e){var t=this.find(e);return this.hosts=this.hosts.filter(function(e){return!t.includes(e)}),t}},{key:"failed",value:function(e){var t=this.find(e);return t.forEach(function(e){e.setStatus({failed:!0})}),t}},{key:"filterActive",value:function(e){return"boolean"==typeof e?this.hosts.filter(function(t){return t.active===e}):(0,s.default)(this.hosts)}},{key:"filterCatalog",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],r=((0,a.default)(t)?t:[t]).map(function(t){return e.mapCatalogName({id:t,type:h.SERVICE_CATALOGS_ENUM_TYPES.STRING})||t});return r.length>0?this.hosts.filter(function(e){return r.includes(e.catalog)}):(0,s.default)(this.hosts)}},{key:"filterCluster",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=(0,a.default)(e)?e:[e];return t.length>0?this.hosts.filter(function(e){return t.includes(e.id)}):(0,s.default)(this.hosts)}},{key:"filterLocal",value:function(e){return"boolean"==typeof e?this.hosts.filter(function(t){return t.local===e}):(0,s.default)(this.hosts)}},{key:"filterPriority",value:function(t){return t?this.hosts.reduce(function(t,r){if(!r.active)return t;var i=t.find(function(e){return e.hostGroup===r.hostGroup});return i?((e.mapCatalogName({id:i.catalog,type:h.SERVICE_CATALOGS_ENUM_TYPES.NUMBER})<e.mapCatalogName({id:r.catalog,type:h.SERVICE_CATALOGS_ENUM_TYPES.NUMBER})||i.priority<r.priority)&&(t.splice(t.indexOf(i,1)),t.push(r)),t):(t.push(r),t)},[]):(0,s.default)(this.hosts)}},{key:"filterService",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=(0,a.default)(e)?e:[e];return t.length>0?this.hosts.filter(function(e){return t.includes(e.service)}):(0,s.default)(this.hosts)}},{key:"filterUrl",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=(0,a.default)(e)?e:[e];return t.length>0?this.hosts.filter(function(e){return t.includes(e.url)}):(0,s.default)(this.hosts)}},{key:"find",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.active,i=t.catalog,n=t.cluster,u=t.local,o=t.priority,a=t.service,l=t.url;return this.hosts.filter(function(t){return e.filterActive(r).includes(t)&&e.filterCatalog(i).includes(t)&&e.filterCluster(n).includes(t)&&e.filterLocal(u).includes(t)&&e.filterPriority(o).includes(t)&&e.filterService(a).includes(t)&&e.filterUrl(l).includes(t)})}},{key:"load",value:function(){var t,r=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).filter(function(t){return!!e.mapCatalogName({id:t.catalog,type:h.SERVICE_CATALOGS_ENUM_TYPES.STRING})});return(t=this.hosts).push.apply(t,(0,s.default)(r.map(function(e){return new p.default(e)}))),this}},{key:"replaced",value:function(e){var t=this.find(e);return t.forEach(function(e){e.setStatus({replaced:!0})}),t}},{key:"reset",value:function(e){var t=this.find(e);return t.forEach(function(e){e.setStatus({failed:!1})}),t}}],[{key:"mapCatalogName",value:function(e){var t=e.id,r=e.type;if("number"==typeof t){if(r===h.SERVICE_CATALOGS_ENUM_TYPES.NUMBER)return void 0!==h.SERVICE_CATALOGS[t]?t:void 0;if(r===h.SERVICE_CATALOGS_ENUM_TYPES.STRING)return h.SERVICE_CATALOGS[t]}if("string"==typeof t){if(r===h.SERVICE_CATALOGS_ENUM_TYPES.STRING)return h.SERVICE_CATALOGS.includes(t)?t:void 0;if(r===h.SERVICE_CATALOGS_ENUM_TYPES.NUMBER)return h.SERVICE_CATALOGS.includes(t)?h.SERVICE_CATALOGS.indexOf(t):void 0}}},{key:"mapRemoteCatalog",value:function(t){var r=t.catalog,i=t.hostCatalog,n=t.serviceLinks,u=e.mapCatalogName({id:r,type:h.SERVICE_CATALOGS_ENUM_TYPES.STRING});if(!h.SERVICE_CATALOGS.includes(u))throw new Error("service-catalogs: '".concat(r,"' is not a valid catalog"));return(0,l.default)(i).reduce(function(e,t){return e.push.apply(e,(0,s.default)(i[t].map(function(e){return{catalog:u,defaultUri:n[e.id.split(":")[3]],hostGroup:t,id:e.id,priority:e.priority,uri:e.host}}))),e},[])}}]),e}();exports.default=S;
},{"@babel/runtime-corejs2/core-js/object/keys":"d81a","@babel/runtime-corejs2/core-js/object/get-own-property-symbols":"DovH","@babel/runtime-corejs2/core-js/object/get-own-property-descriptor":"mQ9c","@babel/runtime-corejs2/core-js/object/get-own-property-descriptors":"Hv1v","@babel/runtime-corejs2/core-js/object/define-properties":"CpmN","@babel/runtime-corejs2/core-js/object/define-property":"eIqn","@babel/runtime-corejs2/helpers/interopRequireDefault":"LXwi","@babel/runtime-corejs2/core-js/array/is-array":"BpbX","@babel/runtime-corejs2/helpers/toConsumableArray":"TW4i","@babel/runtime-corejs2/helpers/defineProperty":"n5FU","@babel/runtime-corejs2/helpers/classCallCheck":"Tzth","@babel/runtime-corejs2/helpers/createClass":"xM5U","./constants":"O6rb","./service-host":"rgYV"}],"nCf2":[function(require,module,exports) {
"use strict";var e=require("@babel/runtime-corejs2/core-js/object/define-property"),t=require("@babel/runtime-corejs2/helpers/interopRequireDefault");e(exports,"__esModule",{value:!0}),exports.default=void 0;var r=t(require("@babel/runtime-corejs2/helpers/classCallCheck")),a=t(require("@babel/runtime-corejs2/helpers/createClass")),i=require("./constants"),l=function(){function e(){var t=this;(0,r.default)(this,e),i.SERVICE_CATALOGS.forEach(function(r){t[r]=e.generateCatalogState()})}return(0,a.default)(e,[{key:"setCollecting",value:function(e,t){this[e]&&(this[e].collecting=t)}},{key:"setReady",value:function(e,t){this[e]&&(this[e].ready=t)}}],[{key:"generateCatalogState",value:function(){return{collecting:!1,ready:!1}}}]),e}();exports.default=l;
},{"@babel/runtime-corejs2/core-js/object/define-property":"eIqn","@babel/runtime-corejs2/helpers/interopRequireDefault":"LXwi","@babel/runtime-corejs2/helpers/classCallCheck":"Tzth","@babel/runtime-corejs2/helpers/createClass":"xM5U","./constants":"O6rb"}],"dV4V":[function(require,module,exports) {
"use strict";var e=require("@babel/runtime-corejs2/core-js/object/keys"),t=require("@babel/runtime-corejs2/core-js/object/get-own-property-symbols"),r=require("@babel/runtime-corejs2/core-js/object/get-own-property-descriptor"),i=require("@babel/runtime-corejs2/core-js/object/get-own-property-descriptors"),n=require("@babel/runtime-corejs2/core-js/object/define-properties"),a=require("@babel/runtime-corejs2/core-js/object/define-property"),o=require("@babel/runtime-corejs2/helpers/interopRequireDefault");a(exports,"__esModule",{value:!0}),exports.default=void 0;var s=o(require("@babel/runtime-corejs2/helpers/toConsumableArray")),u=o(require("@babel/runtime-corejs2/helpers/slicedToArray")),c=o(require("@babel/runtime-corejs2/helpers/defineProperty")),l=o(require("@babel/runtime-corejs2/core-js/weak-map")),d=o(require("@babel/runtime-corejs2/core-js/object/keys")),f=o(require("@babel/runtime-corejs2/core-js/promise")),h=o(require("url")),g=o(require("crypto-js/sha256")),v=o(require("../webex-plugin")),m=o(require("./service-catalog")),p=o(require("./service-registry")),b=o(require("./service-state"));function w(i,n){var a=e(i);if(t){var o=t(i);n&&(o=o.filter(function(e){return r(i,e).enumerable})),a.push.apply(a,o)}return a}function C(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?w(Object(o),!0).forEach(function(t){(0,c.default)(e,t,o[t])}):i?n(e,i(o)):w(Object(o)).forEach(function(t){a(e,t,r(o,t))})}return e}var y=/(?:^\/)|(?:\/$)/,U=v.default.extend({namespace:"Services",registries:new l.default,states:new l.default,props:{validateDomains:["boolean",!1,!0]},_catalogs:new l.default,_serviceUrls:null,getRegistry:function(){return this.registries.get(this.webex)},getState:function(){return this.states.get(this.webex)},_getCatalog:function(){return this._catalogs.get(this.webex)},get:function(e,t,r){return this._getCatalog().get(e,t,r)},hasService:function(e){return!!this.get(e)},hasAllowedDomains:function(){return this._getCatalog().getAllowedDomains().length>0},list:function(e,t){return this._getCatalog().list(e,t)},markFailedUrl:function(e,t){return this._getCatalog().markFailedUrl(e,t)},_updateServiceUrls:function(e){this._serviceUrls=C(C({},this._serviceUrls),e)},updateServices:function(){var e,t,r=this,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=i.from,a=i.query,o=i.token,s=i.forceRefresh,u=this._getCatalog();switch(n){case"limited":t="preauth";break;case"signin":t="signin";break;default:t="postauth"}if(u.status[t].collecting)return this.waitForCatalog(t);if(u.status[t].collecting=!0,"preauth"===t){var c=a&&(0,d.default)(a)[0];if(!["email","emailhash","userId","orgId","mode"].includes(c))return f.default.reject(new Error("a query param of email, emailhash, userId, orgId, or mode is required"))}if("preauth"===t||"signin"===t){var l=(0,d.default)(a)[0];e={},"email"===l&&a.email?e.emailhash=(0,g.default)(a.email.toLowerCase()).toString():e[l]=a[l]}return this._fetchNewServiceHostmap({from:n,token:o,query:e,forceRefresh:s}).then(function(e){u.updateServiceUrls(t,e),r.updateCredentialsConfig(),u.status[t].collecting=!1}).catch(function(e){return u.status[t].collecting=!1,f.default.reject(e)})},validateUser:function(e){var t=this,r=e.email,i=e.reqId,n=void 0===i?"WEBCLIENT":i,a=e.forceRefresh,o=void 0!==a&&a,s=e.activationOptions,c=void 0===s?{}:s,l=e.preloginUserId;if(this.logger.info("services: validating a user"),!r)return f.default.reject(new Error("`email` is required"));if(this.webex.credentials.canAuthorize)return this.updateServices({forceRefresh:o}).then(function(){return t.webex.credentials.getUserToken()}).then(function(e){return t.sendUserActivation({email:r,reqId:n,token:e.toString(),activationOptions:c,preloginUserId:l})}).then(function(e){return{activated:!0,exists:!0,details:"user is authorized via a user token",user:e}});var d,h=this.webex.credentials.config,g=h.client_id,v=h.client_secret;return g&&v?this.collectPreauthCatalog({email:r}).then(function(){var e=t.get("idbroker",!0);return t.webex.credentials.getClientToken({uri:"".concat(e,"idb/oauth2/v1/access_token"),scope:"webexsquare:admin webexsquare:get_conversation Identity:SCIM"})}).then(function(e){return d=e.toString(),t.collectSigninCatalog({email:r,token:d,forceRefresh:o})}).catch(function(e){return{exists:"NotFound"!==e.name,activated:!1,details:"NotFound"!==e.name?"user exists but is not activated":"user does not exist and is not activated"}}).then(function(e){return f.default.all([e||{activated:!0,exists:!0,details:"user exists and is activated"},t.sendUserActivation({email:r,reqId:n,token:d,activationOptions:c,preloginUserId:l})])}).then(function(e){var t=(0,u.default)(e,2),r=t[0],i=t[1];return C(C({},r),{},{user:i})}).catch(function(e){var t={statusCode:e.statusCode,responseText:e.body&&e.body.message,body:e.body};return f.default.reject(t)}):f.default.reject(new Error("client authentication details are not available"))},fetchClientRegionInfo:function(){var e=this;return this.request({uri:"https://ds.ciscospark.com/v1/region",addAuthHeader:!1,headers:{"spark-user-agent":null}}).then(function(t){return e.logger.info("services: received user region info"),t.body}).catch(function(t){e.logger.info("services: was not able to get user region info",t)})},sendUserActivation:function(e){var t,r,i=this,n=e.email,a=e.reqId,o=e.token,s=e.activationOptions,u=e.preloginUserId;return this.logger.info("services: sending user activation request"),this.fetchClientRegionInfo().then(function(e){return e&&(t=e.countryCode,r=e.timezone),i.request({service:"license",resource:"users/activations",method:"POST",headers:{accept:"application/json",authorization:o,"x-prelogin-userid":u},body:C({email:n,reqId:a,countryCode:t,timeZone:r},s),shouldRefreshAccessToken:!1})}).then(function(e){return e.body}).catch(function(e){return f.default.reject(e)})},collectPreauthCatalog:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e?this.updateServices({from:"limited",query:e,forceRefresh:t}):this.updateServices({from:"limited",query:{mode:"DEFAULT_BY_PROXIMITY"},forceRefresh:t})},collectSigninCatalog:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.email,r=e.token,i=e.forceRefresh;return t?r?this.updateServices({from:"signin",query:{email:t},token:r,forceRefresh:i}):f.default.reject(new Error("`token` is required")):f.default.reject(new Error("`email` is required"))},updateCredentialsConfig:function(){var e=this.list(!0),t=e.idbroker,r=e.identity;if(t&&r){var i=this.webex.config.credentials,n=i.authorizationString,a=i.authorizeUrl;this.webex.config.credentials.authorizeUrl=n?a:"".concat(t.replace(y,""),"/idb/oauth2/v1/authorize"),this.webex.setConfig({credentials:{idbroker:{url:t.replace(y,"")},identity:{url:r.replace(y,"")}}})}},waitForCatalog:function(e,t){var r=this._getCatalog(),i=this.webex.credentials.supertoken;return"postauth"===e&&i&&i.access_token&&!r.status.postauth.collecting&&!r.status.postauth.ready?r.status.preauth.ready?this.updateServices():this.initServiceCatalogs():r.waitForCatalog(e,t)},waitForService:function(e){var t=this,r=e.name,i=e.timeout,n=void 0===i?5:i,a=e.url,o=this.webex.config.services,s=this._getCatalog();if(o.servicesNotNeedValidation.find(function(e){return e===r}))return f.default.resolve(this._serviceUrls[r]);var u=this.get(r,!0),c=this.getServiceFromUrl(a);return u||c?f.default.resolve(u||c.priorityUrl):s.isReady?a?f.default.resolve(a):f.default.reject(new Error("services: service '".concat(r,"' was not found in any of the catalogs"))):new f.default(function(e,i){f.default.all(["preauth","signin","postauth"].map(function(i){return o=i,s.waitForCatalog(o,n).then(function(){var i=t.get(r,!0),n=t.getServiceFromUrl(a);(i||n)&&e(i||n.priorityUrl)}).catch(function(){});var o})).then(function(){i(new Error("services: service '".concat(r,"' was not found after waiting")))})})},_formatReceivedHostmap:function(e){var t=(0,d.default)(e.hostCatalog).reduce(function(t,r){var i;if(0===e.hostCatalog[r].length)return t;var n=e.hostCatalog[r][0].id.split(":")[3],a=e.serviceLinks[n],o=t.find(function(e){return e.name===n});return o||(o={name:n,defaultUrl:a,defaultHost:h.default.parse(a).hostname,hosts:[]},t.push(o)),(i=o.hosts).push.apply(i,[{host:r,ttl:-1,priority:10,id:e.hostCatalog[r][0].id,homeCluster:o.defaultHost===r}].concat((0,s.default)(e.hostCatalog[r].map(function(e){return C(C({},e),{},{homeCluster:o.defaultHost===r})})))),t},[]);return(0,d.default)(e.serviceLinks).forEach(function(r){t.find(function(e){return e.name===r})||t.push({name:r,defaultUrl:e.serviceLinks[r],defaultHost:h.default.parse(e.serviceLinks[r]).hostname,hosts:[]})}),this._updateServiceUrls(e.serviceLinks),t},getClusterId:function(e){return this._getCatalog().findClusterId(e)},getServiceFromClusterId:function(e){return this._getCatalog().findServiceFromClusterId(e)},getServiceFromUrl:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=this._getCatalog().findServiceUrlFromUrl(e);if(t)return{name:t.name,priorityUrl:t.get(!0),defaultUrl:t.get()}},isServiceUrl:function(e){return!!this._getCatalog().findServiceUrlFromUrl(e)},isAllowedDomainUrl:function(e){return!!this._getCatalog().findAllowedDomain(e)},convertUrlToPriorityHostUrl:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=this.getServiceFromUrl(e);if(!t)throw Error("No service associated with url: [".concat(e,"]"));return e.replace(t.defaultUrl,t.priorityUrl)},_fetchNewServiceHostmap:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.from,i=t.query,n=t.token,a=t.forceRefresh,o=r?"/".concat(r,"/catalog"):"/catalog",s=C(C({},i),{},{format:"hostmap"});a&&(s.timestamp=(new Date).getTime());var u={method:"GET",service:"u2c",resource:o,qs:s};return n&&(u.headers={authorization:n}),this.request(u).then(function(t){var r=t.body;return e._formatReceivedHostmap(r)})},initConfig:function(){var e=this._getCatalog(),t=this.webex.config.services;if(t){if(t.discovery){var r=(0,d.default)(t.discovery).map(function(e){return{name:e,defaultUrl:t.discovery[e]}});e.updateServiceUrls("discovery",r)}if(t.override){var i=(0,d.default)(t.override).map(function(e){return{name:e,defaultUrl:t.override[e]}});e.updateServiceUrls("override",i)}t.allowedDomains&&e.setAllowedDomains(t.allowedDomains),this.validateDomains=t.validateDomains}},initServiceCatalogs:function(){var e=this;this.logger.info("services: initializing initial service catalogs");var t=this.webex.credentials;return f.default.resolve().then(function(){return t.getOrgId()}).then(function(t){return e.collectPreauthCatalog({orgId:t})}).then(function(){return t.canAuthorize?e.updateServices().catch(function(){return e.logger.warn("services: cannot retrieve postauth catalog")}):f.default.resolve()})},initialize:function(){var e=this,t=new m.default,r=new p.default,i=new b.default;this._catalogs.set(this.webex,t),this.registries.set(this.webex,r),this.states.set(this.webex,i),this.listenToOnce(this.webex,"change:config",function(){e.initConfig()}),this.listenToOnce(this.webex,"ready",function(){var r=e.webex.credentials.supertoken;if(r&&r.access_token)e.initServiceCatalogs().then(function(){t.isReady=!0}).catch(function(t){return e.logger.error("services: failed to init initial services, ".concat(t.message))});else{var i=e.webex.config.email;e.collectPreauthCatalog(i?{email:i}:void 0)}})},version:"1.150.0"}),q=U;exports.default=q;
},{"@babel/runtime-corejs2/core-js/object/keys":"d81a","@babel/runtime-corejs2/core-js/object/get-own-property-symbols":"DovH","@babel/runtime-corejs2/core-js/object/get-own-property-descriptor":"mQ9c","@babel/runtime-corejs2/core-js/object/get-own-property-descriptors":"Hv1v","@babel/runtime-corejs2/core-js/object/define-properties":"CpmN","@babel/runtime-corejs2/core-js/object/define-property":"eIqn","@babel/runtime-corejs2/helpers/interopRequireDefault":"LXwi","@babel/runtime-corejs2/helpers/toConsumableArray":"TW4i","@babel/runtime-corejs2/helpers/slicedToArray":"vwJD","@babel/runtime-corejs2/helpers/defineProperty":"n5FU","@babel/runtime-corejs2/core-js/weak-map":"HKHU","@babel/runtime-corejs2/core-js/promise":"eOfj","url":"Mej7","crypto-js/sha256":"A0uM","../webex-plugin":"rH5l","./service-catalog":"j449","./service-registry":"lflp","./service-state":"nCf2"}],"ZoYI":[function(require,module,exports) {
"use strict";var e=require("@babel/runtime-corejs2/core-js/reflect/construct"),r=require("@babel/runtime-corejs2/core-js/object/define-property"),t=require("@babel/runtime-corejs2/helpers/interopRequireDefault");r(exports,"__esModule",{value:!0}),exports.default=void 0;var i=t(require("@babel/runtime-corejs2/core-js/promise")),n=t(require("@babel/runtime-corejs2/helpers/classCallCheck")),u=t(require("@babel/runtime-corejs2/helpers/createClass")),a=t(require("@babel/runtime-corejs2/helpers/inherits")),o=t(require("@babel/runtime-corejs2/helpers/possibleConstructorReturn")),s=t(require("@babel/runtime-corejs2/helpers/getPrototypeOf")),l=require("@webex/http-core"),c=require("@webex/webex-core");function f(r){var t=b();return function(){var i,n=(0,s.default)(r);if(t){var u=(0,s.default)(this).constructor;i=e(n,arguments,u)}else i=n.apply(this,arguments);return(0,o.default)(this,i)}}function b(){if("undefined"==typeof Reflect||!e)return!1;if(e.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(e(Boolean,[],function(){})),!0}catch(r){return!1}}var p=function(e){(0,a.default)(t,e);var r=f(t);function t(){return(0,n.default)(this,t),r.apply(this,arguments)}return(0,u.default)(t,[{key:"onResponseError",value:function(e,r){if((r instanceof c.WebexHttpError.InternalServerError||r instanceof c.WebexHttpError.BadGateway||r instanceof c.WebexHttpError.ServiceUnavailable)&&e.uri){var t=this.webex.internal.device.features.developer.get("web-high-availability");if(t&&t.value)return this.webex.internal.metrics.submitClientMetrics("web-ha",{fields:{success:!1},tags:{action:"failed",error:r.message,url:e.uri}}),i.default.resolve(this.webex.internal.services.markFailedUrl(e.uri)).then(function(){return i.default.reject(r)})}return i.default.reject(r)}}],[{key:"create",value:function(){return new t({webex:this})}}]),t}(l.Interceptor);exports.default=p;
},{"@babel/runtime-corejs2/core-js/reflect/construct":"vZQy","@babel/runtime-corejs2/core-js/object/define-property":"eIqn","@babel/runtime-corejs2/helpers/interopRequireDefault":"LXwi","@babel/runtime-corejs2/core-js/promise":"eOfj","@babel/runtime-corejs2/helpers/classCallCheck":"Tzth","@babel/runtime-corejs2/helpers/createClass":"xM5U","@babel/runtime-corejs2/helpers/inherits":"CdTE","@babel/runtime-corejs2/helpers/possibleConstructorReturn":"w9GY","@babel/runtime-corejs2/helpers/getPrototypeOf":"Qxr1","@webex/http-core":"qRWj","@webex/webex-core":"bqGz"}],"v7mP":[function(require,module,exports) {
"use strict";var e=require("@babel/runtime-corejs2/core-js/reflect/construct"),r=require("@babel/runtime-corejs2/core-js/object/define-property"),t=require("@babel/runtime-corejs2/helpers/interopRequireDefault");r(exports,"__esModule",{value:!0}),exports.default=void 0;var i=t(require("@babel/runtime-corejs2/core-js/promise")),n=t(require("@babel/runtime-corejs2/helpers/classCallCheck")),u=t(require("@babel/runtime-corejs2/helpers/createClass")),o=t(require("@babel/runtime-corejs2/helpers/inherits")),a=t(require("@babel/runtime-corejs2/helpers/possibleConstructorReturn")),c=t(require("@babel/runtime-corejs2/helpers/getPrototypeOf")),s=require("@webex/http-core");function l(r){var t=f();return function(){var i,n=(0,c.default)(r);if(t){var u=(0,c.default)(this).constructor;i=e(n,arguments,u)}else i=n.apply(this,arguments);return(0,a.default)(this,i)}}function f(){if("undefined"==typeof Reflect||!e)return!1;if(e.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(e(Boolean,[],function(){})),!0}catch(r){return!1}}var p=/(?:^\/)|(?:\/$)/,v=function(e){(0,o.default)(t,e);var r=l(t);function t(){return(0,n.default)(this,t),r.apply(this,arguments)}return(0,u.default)(t,[{key:"onRequest",value:function(e){var r=this;if(e.uri)return e;this.normalizeOptions(e),this.validateOptions(e);var t=this.webex.internal.services,n=e.service,u=e.resource;return t.waitForService({name:n}).then(function(t){return e.uri=r.generateUri(t,u),e}).catch(function(){return i.default.reject(new Error("service-interceptor: '".concat(n,"' is not a known service")))})}},{key:"generateUri",value:function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",t=e.replace(p,""),i=r.replace(p,"");return"".concat(t,"/").concat(i)}},{key:"normalizeOptions",value:function(e){e.api&&(e.service=e.service||e.api,delete e.api)}},{key:"validateOptions",value:function(e){if(!e.resource)throw new Error("a `resource` parameter is required");if(!e.service)throw new Error("a valid 'service' parameter is required")}}],[{key:"create",value:function(){return new t({webex:this})}}]),t}(s.Interceptor);exports.default=v;
},{"@babel/runtime-corejs2/core-js/reflect/construct":"vZQy","@babel/runtime-corejs2/core-js/object/define-property":"eIqn","@babel/runtime-corejs2/helpers/interopRequireDefault":"LXwi","@babel/runtime-corejs2/core-js/promise":"eOfj","@babel/runtime-corejs2/helpers/classCallCheck":"Tzth","@babel/runtime-corejs2/helpers/createClass":"xM5U","@babel/runtime-corejs2/helpers/inherits":"CdTE","@babel/runtime-corejs2/helpers/possibleConstructorReturn":"w9GY","@babel/runtime-corejs2/helpers/getPrototypeOf":"Qxr1","@webex/http-core":"qRWj"}],"PI5T":[function(require,module,exports) {
"use strict";var e=require("@babel/runtime-corejs2/helpers/typeof"),r=require("@babel/runtime-corejs2/core-js/weak-map"),t=require("@babel/runtime-corejs2/core-js/object/define-property"),u=require("@babel/runtime-corejs2/core-js/object/get-own-property-descriptor"),n=require("@babel/runtime-corejs2/helpers/interopRequireDefault");t(exports,"__esModule",{value:!0}),t(exports,"Services",{enumerable:!0,get:function(){return c.default}}),t(exports,"ServerErrorInterceptor",{enumerable:!0,get:function(){return s.default}}),t(exports,"ServiceInterceptor",{enumerable:!0,get:function(){return a.default}}),t(exports,"ServiceCatalog",{enumerable:!0,get:function(){return l.default}}),t(exports,"ServiceRegistry",{enumerable:!0,get:function(){return f.default}}),t(exports,"ServiceState",{enumerable:!0,get:function(){return p.default}}),t(exports,"ServiceHost",{enumerable:!0,get:function(){return v.default}}),t(exports,"ServiceUrl",{enumerable:!0,get:function(){return b.default}}),exports.constants=void 0;var i=require("../../webex-core"),o=g(require("./constants"));exports.constants=o;var c=n(require("./services")),s=n(require("./interceptors/server-error")),a=n(require("./interceptors/service")),l=n(require("./service-catalog")),f=n(require("./service-registry")),p=n(require("./service-state")),v=n(require("./service-host")),b=n(require("./service-url"));function d(e){if("function"!=typeof r)return null;var t=new r,u=new r;return(d=function(e){return e?u:t})(e)}function g(r,n){if(!n&&r&&r.__esModule)return r;if(null===r||"object"!==e(r)&&"function"!=typeof r)return{default:r};var i=d(n);if(i&&i.has(r))return i.get(r);var o={},c=t&&u;for(var s in r)if("default"!==s&&Object.prototype.hasOwnProperty.call(r,s)){var a=c?u(r,s):null;a&&(a.get||a.set)?t(o,s,a):o[s]=r[s]}return o.default=r,i&&i.set(r,o),o}(0,i.registerInternalPlugin)("services",c.default,{interceptors:{ServiceInterceptor:a.default.create,ServerErrorInterceptor:s.default.create}});
},{"@babel/runtime-corejs2/helpers/typeof":"hVHy","@babel/runtime-corejs2/core-js/weak-map":"HKHU","@babel/runtime-corejs2/core-js/object/define-property":"eIqn","@babel/runtime-corejs2/core-js/object/get-own-property-descriptor":"mQ9c","@babel/runtime-corejs2/helpers/interopRequireDefault":"LXwi","../../webex-core":"aKAi","./constants":"O6rb","./services":"dV4V","./interceptors/server-error":"ZoYI","./interceptors/service":"v7mP","./service-catalog":"j449","./service-registry":"lflp","./service-state":"nCf2","./service-host":"rgYV","./service-url":"fyQI"}],"xLTj":[function(require,module,exports) {
var e=require("@babel/runtime-corejs2/core-js/object/define-property");function r(r,l,i,o){i&&e(r,l,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(o):void 0})}module.exports=r,module.exports.default=module.exports,module.exports.__esModule=!0;
},{"@babel/runtime-corejs2/core-js/object/define-property":"eIqn"}],"gSFI":[function(require,module,exports) {
function e(e,r){throw new Error("Decorating class property failed. Please ensure that proposal-class-properties is enabled and runs after the decorators transform.")}module.exports=e,module.exports.default=module.exports,module.exports.__esModule=!0;
},{}],"p3K5":[function(require,module,exports) {
"use strict";var e=require("@babel/runtime-corejs2/core-js/object/define-property"),r=require("@babel/runtime-corejs2/helpers/interopRequireDefault");e(exports,"__esModule",{value:!0}),exports.default=void 0;var t,i,a=r(require("@babel/runtime-corejs2/helpers/initializerDefineProperty")),n=r(require("@babel/runtime-corejs2/helpers/classCallCheck")),o=r(require("@babel/runtime-corejs2/helpers/createClass")),s=r(require("@babel/runtime-corejs2/helpers/defineProperty")),u=r(require("@babel/runtime-corejs2/helpers/applyDecoratedDescriptor")),l=r(require("@babel/runtime-corejs2/helpers/initializerWarningHelper")),c=r(require("@babel/runtime-corejs2/core-js/weak-map")),p=r(require("@babel/runtime-corejs2/core-js/object/assign")),b=require("core-decorators"),f=r(require("ampersand-events")),h=new c.default,d=(t=function(){function e(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,n.default)(this,e),(0,a.default)(this,"ready",i,this);var o=r.webex||t.parent;if(!o)throw new Error("One of `attrs.webex` or `options.parent` must be supplied when initializing a StatelessWebexPlugin");for(;o.parent||o.collection;)o=o.parent||o.collection;h.set(this,o)}return(0,o.default)(e,[{key:"config",get:function(){var e=this.getNamespace?this.getNamespace():this.namespace;return e?(e=e.toLowerCase(),this.webex.config[e]):this.webex.config}},{key:"logger",get:function(){return this.webex.logger}},{key:"webex",get:function(){return h.get(this)}},{key:"request",value:function(){var e;return(e=this.webex).request.apply(e,arguments)}},{key:"upload",value:function(){var e;return(e=this.webex).upload.apply(e,arguments)}}]),e}(),i=(0,u.default)(t.prototype,"ready",[b.readonly],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),t);exports.default=d,(0,p.default)(d.prototype,f.default);
},{"@babel/runtime-corejs2/core-js/object/define-property":"eIqn","@babel/runtime-corejs2/helpers/interopRequireDefault":"LXwi","@babel/runtime-corejs2/helpers/initializerDefineProperty":"xLTj","@babel/runtime-corejs2/helpers/classCallCheck":"Tzth","@babel/runtime-corejs2/helpers/createClass":"xM5U","@babel/runtime-corejs2/helpers/defineProperty":"n5FU","@babel/runtime-corejs2/helpers/applyDecoratedDescriptor":"WYJH","@babel/runtime-corejs2/helpers/initializerWarningHelper":"gSFI","@babel/runtime-corejs2/core-js/weak-map":"HKHU","@babel/runtime-corejs2/core-js/object/assign":"h2Mz","core-decorators":"YupF","ampersand-events":"fXyO"}],"QJpw":[function(require,module,exports) {
"use strict";var e=require("@babel/runtime-corejs2/core-js/object/define-property"),t=require("@babel/runtime-corejs2/helpers/interopRequireDefault");e(exports,"__esModule",{value:!0}),exports.default=void 0;var r=t(require("@babel/runtime-corejs2/core-js/map")),n=t(require("@babel/runtime-corejs2/core-js/promise")),u=t(require("lodash/has")),i=require("@webex/common"),o=t(require("./webex-plugin")),s=t(require("./webex-http-error")),c=o.default.extend({session:{deferreds:{type:"object",default:function(){return new r.default}},queue:{type:"array",default:function(){return[]}}},derived:{bounce:{fn:function(){var e=this;return(0,i.cappedDebounce)(function(){return e.executeQueue.apply(e,arguments)},this.config.batcherWait,{maxCalls:this.config.batcherMaxCalls,maxWait:this.config.batcherMaxWait})}}},request:function(e){var t=this,r=new i.Defer;return this.fingerprintRequest(e).then(function(u){t.deferreds.has(u)?r.resolve(t.deferreds.get(u).promise):(t.deferreds.set(u,r),t.prepareItem(e).then(function(e){r.promise=r.promise.then((0,i.tap)(function(){return t.deferreds.delete(u)})).catch(function(e){return t.deferreds.delete(u),n.default.reject(e)}),t.enqueue(e).then(function(){return t.bounce()}).catch(function(e){return r.reject(e)})}).catch(function(e){return r.reject(e)}))}).catch(function(e){return r.reject(e)}),r.promise},enqueue:function(e){return this.queue.push(e),n.default.resolve()},prepareItem:function(e){return n.default.resolve(e)},executeQueue:function(){var e=this,t=this.queue.splice(0,this.config.batcherMaxCalls);return new n.default(function(r){r(e.prepareRequest(t).then(function(t){return e.submitHttpRequest(t).then(function(t){return e.handleHttpSuccess(t)})}).catch(function(r){return r instanceof s.default?e.handleHttpError(r):n.default.all(t.map(function(t){return e.getDeferredForRequest(t).then(function(e){e.reject(r)})}))}))}).catch(function(t){return e.logger.error(t),n.default.reject(t)})},prepareRequest:function(e){return n.default.resolve(e)},submitHttpRequest:function(e){throw new Error("request() must be implemented")},handleHttpSuccess:function(e){var t=this;return n.default.all((e.body&&e.body.items||e.body).map(function(e){return t.acceptItem(e)}))},handleHttpError:function(e){var t=this;return e instanceof s.default&&(0,u.default)(e,"options.body.map")?n.default.all(e.options.body.map(function(r){return t.getDeferredForRequest(r).then(function(t){t.reject(e)})})):(this.logger.error("http error handler called without a WebexHttpError object",e),n.default.reject(e))},acceptItem:function(e){var t=this;return this.didItemFail(e).then(function(r){return r?t.handleItemFailure(e):t.handleItemSuccess(e)})},didItemFail:function(e){return n.default.resolve(!1)},handleItemFailure:function(e){return this.getDeferredForResponse(e).then(function(t){t.reject(e)})},handleItemSuccess:function(e){return this.getDeferredForResponse(e).then(function(t){t.resolve(e)})},getDeferredForRequest:function(e){var t=this;return this.fingerprintRequest(e).then(function(e){var r=t.deferreds.get(e);if(!r)throw new Error("Could not find pending request for received response");return r})},getDeferredForResponse:function(e){var t=this;return this.fingerprintResponse(e).then(function(e){var r=t.deferreds.get(e);if(!r)throw new Error("Could not find pending request for received response");return r})},fingerprintRequest:function(e){throw new Error("fingerprintRequest() must be implemented")},fingerprintResponse:function(e){throw new Error("fingerprintResponse() must be implemented")},version:"1.150.0"}),f=c;exports.default=f;
},{"@babel/runtime-corejs2/core-js/object/define-property":"eIqn","@babel/runtime-corejs2/helpers/interopRequireDefault":"LXwi","@babel/runtime-corejs2/core-js/map":"y6NN","@babel/runtime-corejs2/core-js/promise":"eOfj","lodash/has":"HZ8X","@webex/common":"UeF0","./webex-plugin":"rH5l","./webex-http-error":"vYaN"}],"WnhC":[function(require,module,exports) {
"use strict";var e=require("@babel/runtime-corejs2/core-js/object/define-property"),t=require("@babel/runtime-corejs2/helpers/interopRequireDefault");e(exports,"__esModule",{value:!0}),exports.default=void 0;var r=t(require("@babel/runtime-corejs2/helpers/classCallCheck")),n=t(require("@babel/runtime-corejs2/helpers/createClass")),i=t(require("@babel/runtime-corejs2/core-js/weak-map")),u=t(require("@babel/runtime-corejs2/core-js/array/is-array")),s=t(require("@babel/runtime-corejs2/core-js/symbol/iterator")),a=new i.default,l=new i.default,o=new i.default,c=function(e){function t(e,n){return(0,r.default)(this,t),a.set(this,e.body.items),l.set(this,t.parseLinkHeaders(e.headers.link)),o.set(this,n),this}return(0,n.default)(t,[{key:"items",get:function(){return a.get(this)}},{key:"length",get:function(){return this.items.length}},{key:"links",get:function(){return l.get(this)}},{key:"webex",get:function(){return o.get(this)}},{key:"next",value:function(){return this.getLink("next")}},{key:"hasNext",value:function(){return this.hasLink("next")}},{key:"previous",value:function(){return this.getLink("previous")}},{key:"hasPrevious",value:function(){return this.hasLink("previous")}},{key:"getLink",value:function(e){var r=this;return this.webex.request({uri:this.links[e]}).then(function(e){return new t(e,r.webex)})}},{key:"hasLink",value:function(e){return Boolean(this.links[e])}},{key:e,value:function(){var e=this,t=-1;return{next:function(){return(t+=1)<e.length?{value:e.items[t]}:{done:!0}}}}}],[{key:"parseLinkHeaders",value:function(e){return e?(e=(0,u.default)(e)?e:[e]).reduce(function(e,t){var r=(t=t.split(";"))[0].replace("<","").replace(">","");return e[t[1].split("=")[1].replace(/"/g,"")]=r,e},{}):{}}}]),t}(s.default);exports.default=c;
},{"@babel/runtime-corejs2/core-js/object/define-property":"eIqn","@babel/runtime-corejs2/helpers/interopRequireDefault":"LXwi","@babel/runtime-corejs2/helpers/classCallCheck":"Tzth","@babel/runtime-corejs2/helpers/createClass":"xM5U","@babel/runtime-corejs2/core-js/weak-map":"HKHU","@babel/runtime-corejs2/core-js/array/is-array":"BpbX","@babel/runtime-corejs2/core-js/symbol/iterator":"uGl8"}],"bqGz":[function(require,module,exports) {
"use strict";var e=require("@babel/runtime-corejs2/helpers/typeof"),r=require("@babel/runtime-corejs2/core-js/weak-map"),t=require("@babel/runtime-corejs2/core-js/object/define-property"),n=require("@babel/runtime-corejs2/core-js/object/get-own-property-descriptor"),u=require("@babel/runtime-corejs2/helpers/interopRequireDefault");t(exports,"__esModule",{value:!0}),t(exports,"Credentials",{enumerable:!0,get:function(){return o.Credentials}}),t(exports,"filterScope",{enumerable:!0,get:function(){return o.filterScope}}),t(exports,"grantErrors",{enumerable:!0,get:function(){return o.grantErrors}}),t(exports,"sortScope",{enumerable:!0,get:function(){return o.sortScope}}),t(exports,"Token",{enumerable:!0,get:function(){return o.Token}}),t(exports,"serviceConstants",{enumerable:!0,get:function(){return i.constants}}),t(exports,"ServiceCatalog",{enumerable:!0,get:function(){return i.ServiceCatalog}}),t(exports,"ServiceRegistry",{enumerable:!0,get:function(){return i.ServiceRegistry}}),t(exports,"ServiceState",{enumerable:!0,get:function(){return i.ServiceState}}),t(exports,"ServiceInterceptor",{enumerable:!0,get:function(){return i.ServiceInterceptor}}),t(exports,"ServerErrorInterceptor",{enumerable:!0,get:function(){return i.ServerErrorInterceptor}}),t(exports,"Services",{enumerable:!0,get:function(){return i.Services}}),t(exports,"ServiceHost",{enumerable:!0,get:function(){return i.ServiceHost}}),t(exports,"ServiceUrl",{enumerable:!0,get:function(){return i.ServiceUrl}}),t(exports,"makeWebexStore",{enumerable:!0,get:function(){return a.makeWebexStore}}),t(exports,"makeWebexPluginStore",{enumerable:!0,get:function(){return a.makeWebexPluginStore}}),t(exports,"MemoryStoreAdapter",{enumerable:!0,get:function(){return a.MemoryStoreAdapter}}),t(exports,"NotFoundError",{enumerable:!0,get:function(){return a.NotFoundError}}),t(exports,"persist",{enumerable:!0,get:function(){return a.persist}}),t(exports,"StorageError",{enumerable:!0,get:function(){return a.StorageError}}),t(exports,"waitForValue",{enumerable:!0,get:function(){return a.waitForValue}}),t(exports,"default",{enumerable:!0,get:function(){return s.default}}),t(exports,"registerPlugin",{enumerable:!0,get:function(){return s.registerPlugin}}),t(exports,"registerInternalPlugin",{enumerable:!0,get:function(){return s.registerInternalPlugin}}),t(exports,"WebexHttpError",{enumerable:!0,get:function(){return l.default}}),t(exports,"StatelessWebexPlugin",{enumerable:!0,get:function(){return c.default}}),t(exports,"WebexPlugin",{enumerable:!0,get:function(){return p.default}}),t(exports,"AuthInterceptor",{enumerable:!0,get:function(){return g.default}}),t(exports,"NetworkTimingInterceptor",{enumerable:!0,get:function(){return f.default}}),t(exports,"PayloadTransformerInterceptor",{enumerable:!0,get:function(){return b.default}}),t(exports,"RedirectInterceptor",{enumerable:!0,get:function(){return m.default}}),t(exports,"ResponseLoggerInterceptor",{enumerable:!0,get:function(){return x.default}}),t(exports,"RequestEventInterceptor",{enumerable:!0,get:function(){return d.default}}),t(exports,"RequestLoggerInterceptor",{enumerable:!0,get:function(){return q.default}}),t(exports,"RequestTimingInterceptor",{enumerable:!0,get:function(){return S.default}}),t(exports,"UserAgentInterceptor",{enumerable:!0,get:function(){return v.default}}),t(exports,"WebexTrackingIdInterceptor",{enumerable:!0,get:function(){return I.default}}),t(exports,"WebexUserAgentInterceptor",{enumerable:!0,get:function(){return w.default}}),t(exports,"RateLimitInterceptor",{enumerable:!0,get:function(){return y.default}}),t(exports,"EmbargoInterceptor",{enumerable:!0,get:function(){return j.default}}),t(exports,"DefaultOptionsInterceptor",{enumerable:!0,get:function(){return k.default}}),t(exports,"Batcher",{enumerable:!0,get:function(){return E.default}}),t(exports,"Page",{enumerable:!0,get:function(){return P.default}}),t(exports,"config",{enumerable:!0,get:function(){return h.default}}),require("./plugins/logger");var o=require("./lib/credentials"),i=require("./lib/services"),a=require("./lib/storage"),s=W(require("./webex-core")),l=u(require("./lib/webex-http-error")),c=u(require("./lib/stateless-webex-plugin")),p=u(require("./lib/webex-plugin")),g=u(require("./interceptors/auth")),f=u(require("./interceptors/network-timing")),b=u(require("./interceptors/payload-transformer")),m=u(require("./interceptors/redirect")),x=u(require("./interceptors/response-logger")),d=u(require("./interceptors/request-event")),q=u(require("./interceptors/request-logger")),S=u(require("./interceptors/request-timing")),v=u(require("./interceptors/user-agent")),I=u(require("./interceptors/webex-tracking-id")),w=u(require("./interceptors/webex-user-agent")),y=u(require("./interceptors/rate-limit")),j=u(require("./interceptors/embargo")),k=u(require("./interceptors/default-options")),E=u(require("./lib/batcher")),P=u(require("./lib/page")),h=u(require("./config"));function R(e){if("function"!=typeof r)return null;var t=new r,n=new r;return(R=function(e){return e?n:t})(e)}function W(r,u){if(!u&&r&&r.__esModule)return r;if(null===r||"object"!==e(r)&&"function"!=typeof r)return{default:r};var o=R(u);if(o&&o.has(r))return o.get(r);var i={},a=t&&n;for(var s in r)if("default"!==s&&Object.prototype.hasOwnProperty.call(r,s)){var l=a?n(r,s):null;l&&(l.get||l.set)?t(i,s,l):i[s]=r[s]}return i.default=r,o&&o.set(r,i),i}
},{"@babel/runtime-corejs2/helpers/typeof":"hVHy","@babel/runtime-corejs2/core-js/weak-map":"HKHU","@babel/runtime-corejs2/core-js/object/define-property":"eIqn","@babel/runtime-corejs2/core-js/object/get-own-property-descriptor":"mQ9c","@babel/runtime-corejs2/helpers/interopRequireDefault":"LXwi","./plugins/logger":"Twhd","./lib/credentials":"zdlg","./lib/services":"PI5T","./lib/storage":"FS8s","./webex-core":"aKAi","./lib/webex-http-error":"vYaN","./lib/stateless-webex-plugin":"p3K5","./lib/webex-plugin":"rH5l","./interceptors/auth":"MoAh","./interceptors/network-timing":"YlmB","./interceptors/payload-transformer":"Fn2l","./interceptors/redirect":"wTR3","./interceptors/response-logger":"Wotp","./interceptors/request-event":"ykRh","./interceptors/request-logger":"xzhp","./interceptors/request-timing":"AgoH","./interceptors/user-agent":"PXFl","./interceptors/webex-tracking-id":"F8mn","./interceptors/webex-user-agent":"Q0Gt","./interceptors/rate-limit":"Dz8n","./interceptors/embargo":"lzb3","./interceptors/default-options":"GsVZ","./lib/batcher":"QJpw","./lib/page":"WnhC","./config":"QEXf"}],"JNrP":[function(require,module,exports) {
"use strict";var E=require("@babel/runtime-corejs2/core-js/object/define-property");E(exports,"__esModule",{value:!0}),exports.DEVICE_EVENTS=exports.DEVICE_EVENT_REGISTRATION_SUCCESS=exports.FEATURE_TYPES=exports.FEATURE_COLLECTION_NAMES=exports.CISCO_DEVICE_URL=exports.FEATURE_COLLECTION_USER=exports.FEATURE_COLLECTION_ENTITLEMENT=exports.FEATURE_COLLECTION_DEVELOPER=void 0;var e="developer";exports.FEATURE_COLLECTION_DEVELOPER=e;var r="entitlement";exports.FEATURE_COLLECTION_ENTITLEMENT=r;var T="user";exports.FEATURE_COLLECTION_USER=T;var _="cisco-device-url";exports.CISCO_DEVICE_URL=_;var C=[e,r,T];exports.FEATURE_COLLECTION_NAMES=C;var s={BOOLEAN:"boolean",NUMBER:"number",STRING:"string"};exports.FEATURE_TYPES=s;var o="registration:success";exports.DEVICE_EVENT_REGISTRATION_SUCCESS=o;var t=[o];exports.DEVICE_EVENTS=t;
},{"@babel/runtime-corejs2/core-js/object/define-property":"eIqn"}],"TdgV":[function(require,module,exports) {
"use strict";var e=require("@babel/runtime-corejs2/core-js/object/keys"),r=require("@babel/runtime-corejs2/core-js/object/get-own-property-symbols"),t=require("@babel/runtime-corejs2/core-js/object/get-own-property-descriptor"),o=require("@babel/runtime-corejs2/core-js/object/get-own-property-descriptors"),u=require("@babel/runtime-corejs2/core-js/object/define-properties"),a=require("@babel/runtime-corejs2/core-js/object/define-property"),i=require("@babel/runtime-corejs2/helpers/interopRequireDefault");a(exports,"__esModule",{value:!0}),exports.default=void 0;var s=i(require("@babel/runtime-corejs2/core-js/reflect/apply")),n=i(require("@babel/runtime-corejs2/core-js/number/is-nan")),l=i(require("@babel/runtime-corejs2/helpers/defineProperty")),c=i(require("@babel/runtime-corejs2/helpers/typeof")),p=i(require("lodash/isObject")),f=i(require("lodash/defaults")),b=i(require("ampersand-state")),d=require("../constants");function j(o,u){var a=e(o);if(r){var i=r(o);u&&(i=i.filter(function(e){return t(o,e).enumerable})),a.push.apply(a,i)}return a}function y(e){for(var r=1;r<arguments.length;r++){var i=null!=arguments[r]?arguments[r]:{};r%2?j(Object(i),!0).forEach(function(r){(0,l.default)(e,r,i[r])}):o?u(e,o(i)):j(Object(i)).forEach(function(r){a(e,r,t(i,r))})}return e}var v=b.default.extend({idAttribute:"key",props:{key:"string",lastModified:"date",mutable:"boolean",type:"string",val:"string",value:"any"},constructor:function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,f.default)(r,{parse:!0}),(0,s.default)(b.default.prototype.constructor,this,[e,r])},parse:function(e){if(!e||"object"!==(0,c.default)(e))return{};var r=y({},e),t=r.val;return(0,n.default)(Number(t))?"string"==typeof t&&"true"===t.toLowerCase()?(r.type=d.FEATURE_TYPES.BOOLEAN,r.value=!0):"string"==typeof t&&"false"===t.toLowerCase()?(r.type=d.FEATURE_TYPES.BOOLEAN,r.value=!1):(r.type=d.FEATURE_TYPES.STRING,r.value=t):(r.type=d.FEATURE_TYPES.NUMBER,r.value=Number(t)),r},serialize:function(){for(var e=arguments.length,r=new Array(e),t=0;t<e;t++)r[t]=arguments[t];var o=(0,s.default)(b.default.prototype.serialize,this,r);return o.lastModified&&(o.lastModified=new Date(o.lastModified).toISOString()),o},set:function(e,r,t){var o,u;return(0,p.default)(e)||null===e?(o=e,u=r):((o={})[e]=r,u=t),o=this.parse(o,u),(0,s.default)(b.default.prototype.set,this,[o,u])}}),m=v;exports.default=m;
},{"@babel/runtime-corejs2/core-js/object/keys":"d81a","@babel/runtime-corejs2/core-js/object/get-own-property-symbols":"DovH","@babel/runtime-corejs2/core-js/object/get-own-property-descriptor":"mQ9c","@babel/runtime-corejs2/core-js/object/get-own-property-descriptors":"Hv1v","@babel/runtime-corejs2/core-js/object/define-properties":"CpmN","@babel/runtime-corejs2/core-js/object/define-property":"eIqn","@babel/runtime-corejs2/helpers/interopRequireDefault":"LXwi","@babel/runtime-corejs2/core-js/reflect/apply":"Lf7Q","@babel/runtime-corejs2/core-js/number/is-nan":"CysC","@babel/runtime-corejs2/helpers/defineProperty":"n5FU","@babel/runtime-corejs2/helpers/typeof":"hVHy","lodash/isObject":"u9vI","lodash/defaults":"mpS4","ampersand-state":"aEDA","../constants":"JNrP"}],"Z3CM":[function(require,module,exports) {
"use strict";var e=require("@babel/runtime-corejs2/core-js/object/define-property"),r=require("@babel/runtime-corejs2/helpers/interopRequireDefault");e(exports,"__esModule",{value:!0}),exports.default=void 0;var t=r(require("ampersand-collection")),u=r(require("./feature-model")),o=t.default.extend({mainIndex:"key",model:u.default}),a=o;exports.default=a;
},{"@babel/runtime-corejs2/core-js/object/define-property":"eIqn","@babel/runtime-corejs2/helpers/interopRequireDefault":"LXwi","ampersand-collection":"qvaR","./feature-model":"TdgV"}],"Arkm":[function(require,module,exports) {
"use strict";var e=require("@babel/runtime-corejs2/core-js/object/define-property"),t=require("@babel/runtime-corejs2/helpers/interopRequireDefault");e(exports,"__esModule",{value:!0}),exports.default=void 0;var r=t(require("@babel/runtime-corejs2/core-js/object/keys")),i=t(require("ampersand-state")),n=require("../constants"),o=t(require("./feature-collection")),a=i.default.extend({collections:{developer:o.default,entitlement:o.default,user:o.default},clear:function(e){var t=this;return(0,r.default)(this.attributes).forEach(function(r){t.unset(r,e)}),(0,r.default)(this._children).forEach(function(e){t[e].clear()}),(0,r.default)(this._collections).forEach(function(e){t[e].reset()}),this},initialize:function(){var e=this;["change:value","add","remove"].forEach(function(t){n.FEATURE_COLLECTION_NAMES.forEach(function(r){e[r].on(t,function(t,i){e.trigger("change:".concat(r),e,e[r],i)})})})}}),u=a;exports.default=u;
},{"@babel/runtime-corejs2/core-js/object/define-property":"eIqn","@babel/runtime-corejs2/helpers/interopRequireDefault":"LXwi","@babel/runtime-corejs2/core-js/object/keys":"d81a","ampersand-state":"aEDA","../constants":"JNrP","./feature-collection":"Z3CM"}],"IqLF":[function(require,module,exports) {
"use strict";var e=require("@babel/runtime-corejs2/core-js/object/keys"),t=require("@babel/runtime-corejs2/core-js/object/get-own-property-symbols"),r=require("@babel/runtime-corejs2/core-js/object/get-own-property-descriptor"),i=require("@babel/runtime-corejs2/core-js/object/get-own-property-descriptors"),n=require("@babel/runtime-corejs2/core-js/object/define-properties"),o=require("@babel/runtime-corejs2/core-js/object/define-property"),s=require("@babel/runtime-corejs2/helpers/interopRequireDefault");o(exports,"__esModule",{value:!0}),exports.default=void 0;var a,c,u,l,g,d,h=s(require("@babel/runtime-corejs2/core-js/promise")),f=s(require("@babel/runtime-corejs2/core-js/reflect/apply")),v=s(require("@babel/runtime-corejs2/core-js/date/now")),b=s(require("@babel/runtime-corejs2/core-js/object/get-own-property-descriptor")),m=s(require("@babel/runtime-corejs2/helpers/defineProperty")),p=s(require("@babel/runtime-corejs2/helpers/applyDecoratedDescriptor")),w=require("@webex/common"),y=require("@webex/webex-core"),T=require("@webex/common-timers"),k=require("./constants"),j=s(require("./features/features-model"));function U(i,n){var o=e(i);if(t){var s=t(i);n&&(s=s.filter(function(e){return r(i,e).enumerable})),o.push.apply(o,s)}return o}function E(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?U(Object(s),!0).forEach(function(t){(0,m.default)(e,t,s[t])}):i?n(e,i(s)):U(Object(s)).forEach(function(t){o(e,t,r(s,t))})}return e}function I(){return!this.config.ephemeral}var S=y.WebexPlugin.extend((a=(0,y.waitForValue)("@"),c=(0,y.waitForValue)("@"),u=(0,y.waitForValue)("@"),l=(0,w.deprecated)("device#markUrlFailedAndGetNew(): Use services#markFailedUrl()"),g=(0,y.persist)("@",I),d={namespace:"Device",extraProperties:"allow",idAttribute:"url",children:{features:j.default},props:{clientMessagingGiphy:"string",customerCompanyName:"string",customerLogoUrl:"string",deviceType:"string",helpUrl:"string",intranetInactivityDuration:"number",intranetInactivityCheckUrl:"string",inNetworkInactivityDuration:"number",ecmEnabledForAllUsers:["boolean",!1,!1],ecmSupportedStorageProviders:["array",!1,function(){return[]}],modificationTime:"string",navigationBarColor:"string",partnerCompanyName:"string",partnerLogoUrl:"string",peopleInsightsEnabled:"boolean",reportingSiteDesc:"string",reportingSiteUrl:"string",searchEncryptionKeyUrl:"string",showSupportText:"boolean",supportProviderCompanyName:"string",supportProviderLogoUrl:"string",url:"string",userId:"string",webFileShareControl:"string",webSocketUrl:"string",whiteboardFileShareControl:"string"},derived:{registered:{deps:["url"],fn:function(){return!!this.url}}},session:{logoutTimer:"any",lastUserActivityDate:"number",isReachabilityChecked:["boolean",!1,!1],isInMeeting:"boolean",isInNetwork:"boolean"},meetingStarted:function(){this.webex.trigger("meeting started")},meetingEnded:function(){this.webex.trigger("meeting ended")},refresh:function(){var e=this;return this.logger.info("device: refreshing"),this.canRegister().then(function(){if(!e.registered)return e.logger.info("device: device not registered, registering"),e.register();var t=E(E({},e.serialize()),e.config.body?e.config.body:{});delete t.features,delete t.mediaCluster,e.config.ephemeral&&(t.ttl=e.config.ephemeralDeviceTTL);var r=E(E({},e.config.defaults.headers?e.config.defaults.headers:{}),e.config.headers?e.config.headers:{});return e.request({method:"PUT",uri:e.url,body:t,headers:r}).then(function(t){return e.processRegistrationSuccess(t)}).catch(function(t){return 404===t.statusCode?(e.logger.info("device: refresh failed, device is not valid"),e.logger.info("device: attempting to register a new device"),e.clear(),e.register()):h.default.reject(t)})})},register:function(){var e=this;return this.logger.info("device: registering"),this.canRegister().then(function(){if(e.registered)return e.logger.info("device: device already registered, refreshing"),e.refresh();var t=E(E({},e.config.defaults.body?e.config.defaults.body:{}),e.config.body?e.config.body:{}),r=E(E({},e.config.defaults.headers?e.config.defaults.headers:{}),e.config.headers?e.config.headers:{});return e.config.ephemeral&&(t.ttl=e.config.ephemeralDeviceTTL),e.request({method:"POST",service:"wdm",resource:"devices",body:t,headers:r}).then(function(t){return e.processRegistrationSuccess(t)})})},unregister:function(){var e=this;return this.logger.info("device: unregistering"),this.registered?this.request({uri:this.url,method:"DELETE"}).then(function(){return e.clear()}):(this.logger.warn("device: not registered"),h.default.resolve())},canRegister:function(){this.logger.info("device: validating if registration can occur");var e=this.webex.internal.services;return e.waitForCatalog("postauth",this.config.canRegisterWaitDuration).then(function(){return e.get("wdm")?h.default.resolve():h.default.reject(new Error(["device: cannot register,","'wdm' service is not available from the postauth catalog"].join(" ")))})},checkNetworkReachability:function(){var e=this;if(this.logger.info("device: checking network reachability"),this.isReachabilityChecked)return h.default.resolve(this.resetLogoutTimer());if(this.isReachabilityChecked=!0,!this.intranetInactivityCheckUrl)return this.isInNetwork=!1,h.default.resolve(this.resetLogoutTimer());return this.request({headers:{"cisco-no-http-redirect":null,"spark-user-agent":null,trackingid:null},method:"GET",uri:this.intranetInactivityCheckUrl}).then(function(){return e.isInNetwork=!0,h.default.resolve(e.resetLogoutTimer())}).catch(function(){return e.logger.info("device: did not reach ping endpoint"),e.logger.info("device: triggering off-network timer"),e.isInNetwork=!1,h.default.resolve(e.resetLogoutTimer())})},clear:function(){this.logger.info("device: clearing registered device");for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];(0,f.default)(y.WebexPlugin.prototype.clear,this,t)},getWebSocketUrl:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.logger.info("device: getting the current websocket url");var r=this.webex.internal.services;if(t)return this.waitForRegistration().then(function(){return r.convertUrlToPriorityHostUrl(e.webSocketUrl)}).catch(function(t){return e.logger.warn(t.message),h.default.reject(new Error("device: failed to get the current websocket url"))});if(!this.registered)return h.default.reject(new Error("device: cannot get websocket url, device is not registered"));var i=r.convertUrlToPriorityHostUrl(this.webSocketUrl);return i?h.default.resolve(i):h.default.reject(new Error("device: failed to get the current websocket url"))},processRegistrationSuccess:function(e){var t=this;this.logger.info("device: received registration payload");var r=E({},e.body);if(delete r.services,delete r.serviceHostMap,this.set(r),this.config.ephemeral){this.logger.info("device: enqueuing device refresh");var i=1e3*(this.config.ephemeralDeviceTTL/2+60);this.refreshTimer=(0,T.safeSetTimeout)(function(){return t.refresh()},i)}this.trigger(k.DEVICE_EVENT_REGISTRATION_SUCCESS,this)},resetLogoutTimer:function(){this.logger.info("device: resetting logout timer"),clearTimeout(this.logoutTimer),this.off("change:lastUserActivityDate"),this.unset("logoutTimer"),!this.isInMeeting&&this.config.enableInactivityEnforcement&&this.isReachabilityChecked&&(this.isInNetwork?this.setLogoutTimer(this.inNetworkInactivityDuration):this.setLogoutTimer(this.intranetInactivityDuration))},setLogoutTimer:function(e){var t=this;this.logger.info("device: setting logout timer"),!e||e<=0||(this.on("change:lastUserActivityDate",function(){t.resetLogoutTimer()}),this.logoutTimer=(0,T.safeSetTimeout)(function(){t.webex.logout()},1e3*e))},waitForRegistration:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10;return this.logger.info("device: waiting for registration"),new h.default(function(r,i){e.registered&&r();var n=(0,T.safeSetTimeout)(function(){return i(new Error("device: timeout occured while waiting for registration"))},1e3*t);e.once(k.DEVICE_EVENT_REGISTRATION_SUCCESS,function(){clearTimeout(n),r()})})},markUrlFailedAndGetNew:function(e){return h.default.resolve(this.webex.internal.services.markFailedUrl(e))},initialize:function(){for(var e=this,t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];(0,f.default)(y.WebexPlugin.prototype.initialize,this,r),k.FEATURE_COLLECTION_NAMES.forEach(function(t){e.features.on("change:".concat(t),function(t,r,i){e.trigger("change",e,i),e.trigger("change:features",e,e.features,i)})}),this.on("change:intranetInactivityCheckUrl",function(){e.checkNetworkReachability()}),this.on("change:intranetInactivityDuration",function(){e.checkNetworkReachability()}),this.on("change:inNetworkInactivityDuration",function(){e.checkNetworkReachability()}),this.listenTo(this.webex,"user-activity",function(){e.lastUserActivityDate=(0,v.default)()}),this.listenTo(this.webex,"meeting started",function(){e.isInMeeting=!0,e.resetLogoutTimer()}),this.listenTo(this.webex,"meeting ended",function(){e.isInMeeting=!1,e.resetLogoutTimer()})},version:"1.150.0"},(0,p.default)(d,"refresh",[w.oneFlight,a],(0,b.default)(d,"refresh"),d),(0,p.default)(d,"register",[w.oneFlight,c],(0,b.default)(d,"register"),d),(0,p.default)(d,"unregister",[w.oneFlight,u],(0,b.default)(d,"unregister"),d),(0,p.default)(d,"markUrlFailedAndGetNew",[l],(0,b.default)(d,"markUrlFailedAndGetNew"),d),(0,p.default)(d,"initialize",[g],(0,b.default)(d,"initialize"),d),d)),C=S;exports.default=C;
},{"@babel/runtime-corejs2/core-js/object/keys":"d81a","@babel/runtime-corejs2/core-js/object/get-own-property-symbols":"DovH","@babel/runtime-corejs2/core-js/object/get-own-property-descriptor":"mQ9c","@babel/runtime-corejs2/core-js/object/get-own-property-descriptors":"Hv1v","@babel/runtime-corejs2/core-js/object/define-properties":"CpmN","@babel/runtime-corejs2/core-js/object/define-property":"eIqn","@babel/runtime-corejs2/helpers/interopRequireDefault":"LXwi","@babel/runtime-corejs2/core-js/promise":"eOfj","@babel/runtime-corejs2/core-js/reflect/apply":"Lf7Q","@babel/runtime-corejs2/core-js/date/now":"Pb2S","@babel/runtime-corejs2/helpers/defineProperty":"n5FU","@babel/runtime-corejs2/helpers/applyDecoratedDescriptor":"WYJH","@webex/common":"UeF0","@webex/webex-core":"bqGz","@webex/common-timers":"oZaC","./constants":"JNrP","./features/features-model":"Arkm"}],"rZ2m":[function(require,module,exports) {
"use strict";var e=require("@babel/runtime-corejs2/core-js/object/define-property"),r=require("@babel/runtime-corejs2/helpers/interopRequireDefault");e(exports,"__esModule",{value:!0}),e(exports,"FeatureCollection",{enumerable:!0,get:function(){return t.default}}),e(exports,"FeatureModel",{enumerable:!0,get:function(){return u.default}}),e(exports,"FeaturesModel",{enumerable:!0,get:function(){return o.default}});var t=r(require("./feature-collection")),u=r(require("./feature-model")),o=r(require("./features-model"));
},{"@babel/runtime-corejs2/core-js/object/define-property":"eIqn","@babel/runtime-corejs2/helpers/interopRequireDefault":"LXwi","./feature-collection":"Z3CM","./feature-model":"TdgV","./features-model":"Arkm"}],"SnIi":[function(require,module,exports) {
"use strict";var e=require("@babel/runtime-corejs2/core-js/reflect/construct"),r=require("@babel/runtime-corejs2/core-js/object/define-property"),t=require("@babel/runtime-corejs2/helpers/interopRequireDefault");r(exports,"__esModule",{value:!0}),exports.default=void 0;var u=t(require("@babel/runtime-corejs2/core-js/promise")),n=t(require("@babel/runtime-corejs2/helpers/classCallCheck")),i=t(require("@babel/runtime-corejs2/helpers/createClass")),a=t(require("@babel/runtime-corejs2/helpers/inherits")),o=t(require("@babel/runtime-corejs2/helpers/possibleConstructorReturn")),s=t(require("@babel/runtime-corejs2/helpers/getPrototypeOf")),c=t(require("lodash/set")),l=require("@webex/http-core"),f=require("../constants");function h(r){var t=p();return function(){var u,n=(0,s.default)(r);if(t){var i=(0,s.default)(this).constructor;u=e(n,arguments,i)}else u=n.apply(this,arguments);return(0,o.default)(this,u)}}function p(){if("undefined"==typeof Reflect||!e)return!1;if(e.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(e(Boolean,[],function(){})),!0}catch(r){return!1}}var b=function(e){(0,a.default)(t,e);var r=h(t);function t(){return(0,n.default)(this,t),r.apply(this,arguments)}return(0,i.default)(t,[{key:"onRequest",value:function(e){var r=e.headers,t=e.service,n=e.uri,i=this.webex.internal,a=i.device,o=i.services;return!a.url||r&&f.CISCO_DEVICE_URL in r&&!r[f.CISCO_DEVICE_URL]?u.default.resolve(e):o.waitForService({service:t,url:n}).then(function(r){var t=(o.getServiceFromUrl(r)||{}).name;return t&&!["idbroker","oauth","saml"].includes(t)&&(0,c.default)(e,"headers['".concat(f.CISCO_DEVICE_URL,"']"),a.url),e}).catch(function(r){return r.message.match(/was not found after waiting/)?e:u.default.reject(r)})}}],[{key:"create",value:function(){return new t({webex:this})}}]),t}(l.Interceptor);exports.default=b;
},{"@babel/runtime-corejs2/core-js/reflect/construct":"vZQy","@babel/runtime-corejs2/core-js/object/define-property":"eIqn","@babel/runtime-corejs2/helpers/interopRequireDefault":"LXwi","@babel/runtime-corejs2/core-js/promise":"eOfj","@babel/runtime-corejs2/helpers/classCallCheck":"Tzth","@babel/runtime-corejs2/helpers/createClass":"xM5U","@babel/runtime-corejs2/helpers/inherits":"CdTE","@babel/runtime-corejs2/helpers/possibleConstructorReturn":"w9GY","@babel/runtime-corejs2/helpers/getPrototypeOf":"Qxr1","lodash/set":"VHgz","@webex/http-core":"qRWj","../constants":"JNrP"}],"wPJZ":[function(require,module,exports) {
var process = require("process");
var e=require("process"),r=require("@babel/runtime-corejs2/core-js/object/define-property");r(exports,"__esModule",{value:!0}),exports.default=void 0;var t=require("@webex/common"),i={device:{canRegisterWaitDuration:10,defaults:{body:{name:("string"==typeof e.title?e.title.trim():void 0)||t.inBrowser&&"browser"||"javascript",deviceType:t.deviceType.WEB,model:"web-js-sdk",localizedModel:"webex-js-sdk",systemName:"WEBEX_JS_SDK",systemVersion:"1.0.0"}},enableInactivityEnforcement:!1,ephemeral:!1,ephemeralDeviceTTL:1800}};exports.default=i;
},{"@babel/runtime-corejs2/core-js/object/define-property":"eIqn","@webex/common":"UeF0","process":"pBGv"}],"Ori7":[function(require,module,exports) {
"use strict";var e=require("@babel/runtime-corejs2/helpers/typeof"),r=require("@babel/runtime-corejs2/core-js/weak-map"),t=require("@babel/runtime-corejs2/core-js/object/define-property"),n=require("@babel/runtime-corejs2/core-js/object/get-own-property-descriptor"),u=require("@babel/runtime-corejs2/helpers/interopRequireDefault");t(exports,"__esModule",{value:!0}),t(exports,"default",{enumerable:!0,get:function(){return i.default}}),t(exports,"FeatureCollection",{enumerable:!0,get:function(){return a.FeatureCollection}}),t(exports,"FeatureModel",{enumerable:!0,get:function(){return a.FeatureModel}}),t(exports,"FeaturesModel",{enumerable:!0,get:function(){return a.FeaturesModel}}),t(exports,"DeviceUrlInterceptor",{enumerable:!0,get:function(){return l.default}}),t(exports,"config",{enumerable:!0,get:function(){return s.default}}),exports.constants=void 0;var o=require("@webex/webex-core"),i=u(require("./device")),a=require("./features/index"),l=u(require("./interceptors/device-url")),c=p(require("./constants"));exports.constants=c;var s=u(require("./config"));function f(e){if("function"!=typeof r)return null;var t=new r,n=new r;return(f=function(e){return e?n:t})(e)}function p(r,u){if(!u&&r&&r.__esModule)return r;if(null===r||"object"!==e(r)&&"function"!=typeof r)return{default:r};var o=f(u);if(o&&o.has(r))return o.get(r);var i={},a=t&&n;for(var l in r)if("default"!==l&&Object.prototype.hasOwnProperty.call(r,l)){var c=a?n(r,l):null;c&&(c.get||c.set)?t(i,l,c):i[l]=r[l]}return i.default=r,o&&o.set(r,i),i}(0,o.registerInternalPlugin)("device",i.default,{config:s.default,interceptors:{DeviceUrlInterceptor:l.default.create},onBeforeLogout:function(){return this.unregister()}});
},{"@babel/runtime-corejs2/helpers/typeof":"hVHy","@babel/runtime-corejs2/core-js/weak-map":"HKHU","@babel/runtime-corejs2/core-js/object/define-property":"eIqn","@babel/runtime-corejs2/core-js/object/get-own-property-descriptor":"mQ9c","@babel/runtime-corejs2/helpers/interopRequireDefault":"LXwi","@webex/webex-core":"bqGz","./device":"IqLF","./features/index":"rZ2m","./interceptors/device-url":"SnIi","./constants":"JNrP","./config":"wPJZ"}],"qXcJ":[function(require,module,exports) {
var e,r,o=require("./lib/rng"),s=require("./lib/bytesToUuid"),i=0,n=0;function c(c,l,u){var v=l&&u||0,a=l||[],d=(c=c||{}).node||e,t=void 0!==c.clockseq?c.clockseq:r;if(null==d||null==t){var m=o();null==d&&(d=e=[1|m[0],m[1],m[2],m[3],m[4],m[5]]),null==t&&(t=r=16383&(m[6]<<8|m[7]))}var q=void 0!==c.msecs?c.msecs:(new Date).getTime(),f=void 0!==c.nsecs?c.nsecs:n+1,b=q-i+(f-n)/1e4;if(b<0&&void 0===c.clockseq&&(t=t+1&16383),(b<0||q>i)&&void 0===c.nsecs&&(f=0),f>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");i=q,n=f,r=t;var k=(1e4*(268435455&(q+=122192928e5))+f)%4294967296;a[v++]=k>>>24&255,a[v++]=k>>>16&255,a[v++]=k>>>8&255,a[v++]=255&k;var w=q/4294967296*1e4&268435455;a[v++]=w>>>8&255,a[v++]=255&w,a[v++]=w>>>24&15|16,a[v++]=w>>>16&255,a[v++]=t>>>8|128,a[v++]=255&t;for(var g=0;g<6;++g)a[v+g]=d[g];return l||s(a)}module.exports=c;
},{"./lib/rng":"j3Do","./lib/bytesToUuid":"HSap"}],"pXu4":[function(require,module,exports) {
var r=require("./lib/rng"),n=require("./lib/bytesToUuid");function e(e,i,u){var a=i&&u||0;"string"==typeof e&&(i="binary"===e?new Array(16):null,e=null);var l=(e=e||{}).random||(e.rng||r)();if(l[6]=15&l[6]|64,l[8]=63&l[8]|128,i)for(var o=0;o<16;++o)i[a+o]=l[o];return i||n(l)}module.exports=e;
},{"./lib/rng":"j3Do","./lib/bytesToUuid":"HSap"}],"Vl5p":[function(require,module,exports) {
var e=require("./v1"),r=require("./v4"),v=r;v.v1=e,v.v4=r,module.exports=v;
},{"./v1":"qXcJ","./v4":"pXu4"}],"TbAx":[function(require,module,exports) {
var process = require("process");
var e=require("process"),t=require("@babel/runtime-corejs2/core-js/object/define-property"),r=require("@babel/runtime-corejs2/helpers/interopRequireDefault");t(exports,"__esModule",{value:!0}),exports.default=void 0;var i,n,o,s=r(require("@babel/runtime-corejs2/helpers/applyDecoratedDescriptor")),a=r(require("@babel/runtime-corejs2/core-js/json/stringify")),u=r(require("@babel/runtime-corejs2/core-js/reflect/apply")),c=r(require("@babel/runtime-corejs2/core-js/object/assign")),h=r(require("@babel/runtime-corejs2/core-js/promise")),l=r(require("@babel/runtime-corejs2/core-js/reflect/delete-property")),d=r(require("@babel/runtime-corejs2/core-js/parse-int")),f=r(require("@babel/runtime-corejs2/core-js/object/get-own-property-descriptor")),p=r(require("lodash/omit")),b=r(require("lodash/isEmpty")),g=r(require("lodash/cloneDeep")),w=r(require("querystring")),_=r(require("url")),x=require("@webex/common"),k=require("@webex/webex-core"),y=r(require("uuid")),m="oauth2-csrf-token",v=x.base64.encode((0,a.default)({})),q=k.WebexPlugin.extend((i=(0,x.whileInFlight)("isAuthorizing"),n=(0,x.whileInFlight)("isAuthorizing"),o={derived:{isAuthenticating:{deps:["isAuthorizing"],fn:function(){return this.isAuthorizing}}},session:{isAuthorizing:{default:!1,type:"boolean"},ready:{default:!1,type:"boolean"}},namespace:"Credentials",initialize:function(t,r){var i=this,n=(0,u.default)(k.WebexPlugin.prototype.initialize,this,[t,r]);if(!1===t.parse)return this.ready=!0,n;var o=_.default.parse(this.webex.getWindow().location.href,!0);this._checkForErrors(o);var s=o.hash;if(!s)return this.ready=!0,n;s.includes("#")&&(s=s.substr(1)),o.hash=w.default.parse(s),o.hash.state&&(o.hash.state=JSON.parse(x.base64.decode(o.hash.state)));var a=this._parseHash(o);return a?(this._cleanUrl(o),e.nextTick(function(){i.webex.credentials.set({supertoken:a}),i.ready=!0}),n):n},initiateLogin:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.state=e.state||{},e.state.csrf_token=this._generateSecurityToken(),"confidential"===this.config.clientType?this.initiateAuthorizationCodeGrant(e):this.initiateImplicitGrant(e)},initiateImplicitGrant:function(e){return this.logger.info("authorization: initiating implicit grant flow"),this.webex.getWindow().location=this.webex.credentials.buildLoginUrl((0,c.default)({response_type:"token"},e)),h.default.resolve()},initiateAuthorizationCodeGrant:function(e){return this.logger.info("authorization: initiating authorization code grant flow"),this.webex.getWindow().location=this.webex.credentials.buildLoginUrl((0,c.default)({response_type:"code"},e)),h.default.resolve()},requestAccessTokenFromJwt:function(e){var t=this,r=e.jwt,i=this.webex.internal.services.get("hydra",!0);return i&&"/"!==i.slice(-1)&&(i+="/"),i=i||"https://api.ciscospark.com/v1/",this.webex.request({method:"POST",uri:"".concat(i,"jwt/login"),headers:{authorization:r}}).then(function(e){var t=e.body;return{access_token:t.token,token_type:"Bearer",expires_in:t.expiresIn}}).then(function(e){t.webex.credentials.set({supertoken:e})}).then(function(){return t.webex.internal.services.initServiceCatalogs()})},logout:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.noRedirect||(this.webex.getWindow().location=this.webex.credentials.buildLogoutUrl(e))},_checkForErrors:function(e){var t=e.query;if(t&&t.error)throw new(k.grantErrors.select(t.error))(t)},_cleanUrl:function(e){e=(0,g.default)(e),this.webex.getWindow().history&&this.webex.getWindow().history.replaceState&&(["access_token","token_type","expires_in","refresh_token","refresh_token_expires_in"].forEach(function(t){return(0,l.default)(e.hash,t)}),(0,b.default)(e.hash.state)?(0,l.default)(e.hash,"state"):(e.hash.state=x.base64.encode((0,a.default)((0,p.default)(e.hash.state,"csrf_token"))),e.hash.state===v&&(0,l.default)(e.hash,"state")),e.hash=w.default.stringify(e.hash),this.webex.getWindow().history.replaceState({},null,_.default.format(e)))},_generateSecurityToken:function(){this.logger.info("authorization: generating csrf token");var e=y.default.v4();return this.webex.getWindow().sessionStorage.setItem("oauth2-csrf-token",e),e},_parseHash:function(e){var t=(0,g.default)(e.hash);if(t&&this._verifySecurityToken(t),t.access_token)return t.expires_in&&(t.expires_in=(0,d.default)(t.expires_in,10)),t.refresh_token_expires_in&&(t.refresh_token_expires_in=(0,d.default)(t.refresh_token_expires_in,10)),t;this.ready=!0},_verifySecurityToken:function(e){var t=this.webex.getWindow().sessionStorage.getItem(m);if(this.webex.getWindow().sessionStorage.removeItem(m),t){if(!e.state)throw new Error("Expected CSRF token ".concat(t,", but not found in redirect hash"));if(!e.state.csrf_token)throw new Error("Expected CSRF token ".concat(t,", but not found in redirect hash"));var r=e.state.csrf_token;if(r!==t)throw new Error("CSRF token ".concat(r," does not match stored token ").concat(t))}},version:"1.150.0"},(0,s.default)(o,"initiateImplicitGrant",[i],(0,f.default)(o,"initiateImplicitGrant"),o),(0,s.default)(o,"initiateAuthorizationCodeGrant",[n],(0,f.default)(o,"initiateAuthorizationCodeGrant"),o),(0,s.default)(o,"requestAccessTokenFromJwt",[x.oneFlight],(0,f.default)(o,"requestAccessTokenFromJwt"),o),o)),j=q;exports.default=j;
},{"@babel/runtime-corejs2/core-js/object/define-property":"eIqn","@babel/runtime-corejs2/helpers/interopRequireDefault":"LXwi","@babel/runtime-corejs2/helpers/applyDecoratedDescriptor":"WYJH","@babel/runtime-corejs2/core-js/json/stringify":"E09K","@babel/runtime-corejs2/core-js/reflect/apply":"Lf7Q","@babel/runtime-corejs2/core-js/object/assign":"h2Mz","@babel/runtime-corejs2/core-js/promise":"eOfj","@babel/runtime-corejs2/core-js/reflect/delete-property":"CFlp","@babel/runtime-corejs2/core-js/parse-int":"TiYh","@babel/runtime-corejs2/core-js/object/get-own-property-descriptor":"mQ9c","lodash/omit":"J2GV","lodash/isEmpty":"BBRi","lodash/cloneDeep":"Y0zI","querystring":"fk5h","url":"Mej7","@webex/common":"UeF0","@webex/webex-core":"bqGz","uuid":"Vl5p","process":"pBGv"}],"Pv7z":[function(require,module,exports) {
"use strict";var e=require("@babel/runtime-corejs2/core-js/object/define-property");e(exports,"__esModule",{value:!0}),exports.default=void 0;var r={credentials:{clientType:"public"}};exports.default=r;
},{"@babel/runtime-corejs2/core-js/object/define-property":"eIqn"}],"Fv1y":[function(require,module,exports) {
"use strict";var e=require("@babel/runtime-corejs2/core-js/object/define-property"),r=require("@babel/runtime-corejs2/helpers/interopRequireDefault");e(exports,"__esModule",{value:!0}),e(exports,"default",{enumerable:!0,get:function(){return t.default}}),e(exports,"config",{enumerable:!0,get:function(){return u.default}}),require("@webex/internal-plugin-device");var i=require("@webex/webex-core"),t=r(require("./authorization")),u=r(require("./config")),n=["isAuthorizing","isAuthenticating"];(0,i.registerPlugin)("authorization",t.default,{config:u.default,proxies:n});
},{"@babel/runtime-corejs2/core-js/object/define-property":"eIqn","@babel/runtime-corejs2/helpers/interopRequireDefault":"LXwi","@webex/internal-plugin-device":"Ori7","@webex/webex-core":"bqGz","./authorization":"TbAx","./config":"Pv7z"}],"Ile2":[function(require,module,exports) {
"use strict";var e=require("@babel/runtime-corejs2/helpers/typeof"),r=require("@babel/runtime-corejs2/core-js/weak-map"),t=require("@babel/runtime-corejs2/core-js/object/define-property"),n=require("@babel/runtime-corejs2/core-js/object/get-own-property-descriptor");t(exports,"__esModule",{value:!0}),t(exports,"default",{enumerable:!0,get:function(){return u.default}}),t(exports,"config",{enumerable:!0,get:function(){return u.config}});var u=i(require("@webex/plugin-authorization-browser"));function o(e){if("function"!=typeof r)return null;var t=new r,n=new r;return(o=function(e){return e?n:t})(e)}function i(r,u){if(!u&&r&&r.__esModule)return r;if(null===r||"object"!==e(r)&&"function"!=typeof r)return{default:r};var i=o(u);if(i&&i.has(r))return i.get(r);var a={},f=t&&n;for(var l in r)if("default"!==l&&Object.prototype.hasOwnProperty.call(r,l)){var c=f?n(r,l):null;c&&(c.get||c.set)?t(a,l,c):a[l]=r[l]}return a.default=r,i&&i.set(r,a),a}
},{"@babel/runtime-corejs2/helpers/typeof":"hVHy","@babel/runtime-corejs2/core-js/weak-map":"HKHU","@babel/runtime-corejs2/core-js/object/define-property":"eIqn","@babel/runtime-corejs2/core-js/object/get-own-property-descriptor":"mQ9c","@webex/plugin-authorization-browser":"Fv1y"}],"Zt7E":[function(require,module,exports) {
var define;
var global = arguments[3];
var process = require("process");
var t,e=arguments[3],n=require("process");!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n():"function"==typeof t&&t.amd?t(n):e.ES6Promise=n()}(this,function(){"use strict";function t(t){return"function"==typeof t}var r=Array.isArray?Array.isArray:function(t){return"[object Array]"===Object.prototype.toString.call(t)},o=0,i=void 0,s=void 0,u=function(t,e){p[o]=t,p[o+1]=e,2===(o+=2)&&(s?s(_):w())};var c="undefined"!=typeof window?window:void 0,a=c||{},f=a.MutationObserver||a.WebKitMutationObserver,l="undefined"==typeof self&&void 0!==n&&"[object process]"==={}.toString.call(n),h="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel;function v(){var t=setTimeout;return function(){return t(_,1)}}var p=new Array(1e3);function _(){for(var t=0;t<o;t+=2){(0,p[t])(p[t+1]),p[t]=void 0,p[t+1]=void 0}o=0}var d,y,m,b,w=void 0;function g(t,e){var n=this,r=new this.constructor(S);void 0===r[j]&&K(r);var o=n._state;if(o){var i=arguments[o-1];u(function(){return k(o,r,i,n._result)})}else F(n,r,t,e);return r}function A(t){if(t&&"object"==typeof t&&t.constructor===this)return t;var e=new this(S);return x(e,t),e}l?w=function(){return n.nextTick(_)}:f?(y=0,m=new f(_),b=document.createTextNode(""),m.observe(b,{characterData:!0}),w=function(){b.data=y=++y%2}):h?((d=new MessageChannel).port1.onmessage=_,w=function(){return d.port2.postMessage(0)}):w=void 0===c&&"function"==typeof require?function(){try{var t=Function("return this")().require("vertx");return void 0!==(i=t.runOnLoop||t.runOnContext)?function(){i(_)}:v()}catch(e){return v()}}():v();var j=Math.random().toString(36).substring(2);function S(){}var E=void 0,T=1,M=2;function P(e,n,r){n.constructor===e.constructor&&r===g&&n.constructor.resolve===A?function(t,e){e._state===T?O(t,e._result):e._state===M?q(t,e._result):F(e,void 0,function(e){return x(t,e)},function(e){return q(t,e)})}(e,n):void 0===r?O(e,n):t(r)?function(t,e,n){u(function(t){var r=!1,o=function(t,e,n,r){try{t.call(e,n,r)}catch(o){return o}}(n,e,function(n){r||(r=!0,e!==n?x(t,n):O(t,n))},function(e){r||(r=!0,q(t,e))},t._label);!r&&o&&(r=!0,q(t,o))},t)}(e,n,r):O(e,n)}function x(t,e){if(t===e)q(t,new TypeError("You cannot resolve a promise with itself"));else if(o=typeof(r=e),null===r||"object"!==o&&"function"!==o)O(t,e);else{var n=void 0;try{n=e.then}catch(i){return void q(t,i)}P(t,e,n)}var r,o}function C(t){t._onerror&&t._onerror(t._result),Y(t)}function O(t,e){t._state===E&&(t._result=e,t._state=T,0!==t._subscribers.length&&u(Y,t))}function q(t,e){t._state===E&&(t._state=M,t._result=e,u(C,t))}function F(t,e,n,r){var o=t._subscribers,i=o.length;t._onerror=null,o[i]=e,o[i+T]=n,o[i+M]=r,0===i&&t._state&&u(Y,t)}function Y(t){var e=t._subscribers,n=t._state;if(0!==e.length){for(var r=void 0,o=void 0,i=t._result,s=0;s<e.length;s+=3)r=e[s],o=e[s+n],r?k(n,r,o,i):o(i);t._subscribers.length=0}}function k(e,n,r,o){var i=t(r),s=void 0,u=void 0,c=!0;if(i){try{s=r(o)}catch(a){c=!1,u=a}if(n===s)return void q(n,new TypeError("A promises callback cannot return that same promise."))}else s=o;n._state!==E||(i&&c?x(n,s):!1===c?q(n,u):e===T?O(n,s):e===M&&q(n,s))}var D=0;function K(t){t[j]=D++,t._state=void 0,t._result=void 0,t._subscribers=[]}var L=function(){function t(t,e){this._instanceConstructor=t,this.promise=new t(S),this.promise[j]||K(this.promise),r(e)?(this.length=e.length,this._remaining=e.length,this._result=new Array(this.length),0===this.length?O(this.promise,this._result):(this.length=this.length||0,this._enumerate(e),0===this._remaining&&O(this.promise,this._result))):q(this.promise,new Error("Array Methods must be provided an Array"))}return t.prototype._enumerate=function(t){for(var e=0;this._state===E&&e<t.length;e++)this._eachEntry(t[e],e)},t.prototype._eachEntry=function(t,e){var n=this._instanceConstructor,r=n.resolve;if(r===A){var o=void 0,i=void 0,s=!1;try{o=t.then}catch(c){s=!0,i=c}if(o===g&&t._state!==E)this._settledAt(t._state,e,t._result);else if("function"!=typeof o)this._remaining--,this._result[e]=t;else if(n===N){var u=new n(S);s?q(u,i):P(u,t,o),this._willSettleAt(u,e)}else this._willSettleAt(new n(function(e){return e(t)}),e)}else this._willSettleAt(r(t),e)},t.prototype._settledAt=function(t,e,n){var r=this.promise;r._state===E&&(this._remaining--,t===M?q(r,n):this._result[e]=n),0===this._remaining&&O(r,this._result)},t.prototype._willSettleAt=function(t,e){var n=this;F(t,void 0,function(t){return n._settledAt(T,e,t)},function(t){return n._settledAt(M,e,t)})},t}();var N=function(){function e(t){this[j]=D++,this._result=this._state=void 0,this._subscribers=[],S!==t&&("function"!=typeof t&&function(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}(),this instanceof e?function(t,e){try{e(function(e){x(t,e)},function(e){q(t,e)})}catch(n){q(t,n)}}(this,t):function(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}())}return e.prototype.catch=function(t){return this.then(null,t)},e.prototype.finally=function(e){var n=this.constructor;return t(e)?this.then(function(t){return n.resolve(e()).then(function(){return t})},function(t){return n.resolve(e()).then(function(){throw t})}):this.then(e,e)},e}();return N.prototype.then=g,N.all=function(t){return new L(this,t).promise},N.race=function(t){var e=this;return r(t)?new e(function(n,r){for(var o=t.length,i=0;i<o;i++)e.resolve(t[i]).then(n,r)}):new e(function(t,e){return e(new TypeError("You must pass an array to race."))})},N.resolve=A,N.reject=function(t){var e=new this(S);return q(e,t),e},N._setScheduler=function(t){s=t},N._setAsap=function(t){u=t},N._asap=u,N.polyfill=function(){var t=void 0;if(void 0!==e)t=e;else if("undefined"!=typeof self)t=self;else try{t=Function("return this")()}catch(o){throw new Error("polyfill failed because global object is unavailable in this environment")}var n=t.Promise;if(n){var r=null;try{r=Object.prototype.toString.call(n.resolve())}catch(o){}if("[object Promise]"===r&&!n.cast)return}t.Promise=N},N.Promise=N,N});
},{"process":"pBGv"}],"mJWJ":[function(require,module,exports) {
var e=require("./_baseRest"),r=require("./_createWrap"),a=require("./_getHolder"),o=require("./_replaceHolders"),u=64,i=e(function(e,l){var t=o(l,a(i));return r(e,u,void 0,l,t)});i.placeholder={},module.exports=i;
},{"./_baseRest":"f4Fl","./_createWrap":"aYWg","./_getHolder":"coim","./_replaceHolders":"bU1I"}],"KrzH":[function(require,module,exports) {
var Buffer = require("buffer").Buffer;
var r=require("buffer").Buffer,e=require("lodash/partialRight"),n=require("lodash/merge"),t=function(){var r=[];return"undefined"!=typeof Uint8ClampedArray&&r.push(Uint8ClampedArray),"undefined"!=typeof Uint8Array&&r.push(Uint8Array),"undefined"!=typeof Uint16Array&&r.push(Uint16Array),"undefined"!=typeof Uint32Array&&r.push(Uint32Array),"undefined"!=typeof Float32Array&&r.push(Float32Array),"undefined"!=typeof Float64Array&&r.push(Float64Array),r}();function a(r){for(var e,n=0;!e&&t.length>n;n++)r instanceof t[n]&&(e=t[n]);return e}function f(e,n){if(r.isBuffer(n))n=r.from(n);else{var t=a(n);n=t?new t(n,n.byteOffset,n.byteLength):void 0}return n,n}module.exports=e(n,f);
},{"lodash/partialRight":"mJWJ","lodash/merge":"yubd","buffer":"peL6"}],"o20S":[function(require,module,exports) {
module.exports={options:{usePureJavaScript:!1}};
},{}],"JEMJ":[function(require,module,exports) {
var Buffer = require("buffer").Buffer;
var r=require("buffer").Buffer,e={};module.exports=e;var t={};function n(r,e){var t=0,n=e.length,o=e.charAt(0),a=[0];for(t=0;t<r.length();++t){for(var f=0,h=r.at(t);f<a.length;++f)h+=a[f]<<8,a[f]=h%n,h=h/n|0;for(;h>0;)a.push(h%n),h=h/n|0}var i="";for(t=0;0===r.at(t)&&t<r.length()-1;++t)i+=o;for(t=a.length-1;t>=0;--t)i+=e[a[t]];return i}e.encode=function(r,e,t){if("string"!=typeof e)throw new TypeError('"alphabet" must be a string.');if(void 0!==t&&"number"!=typeof t)throw new TypeError('"maxline" must be a number.');var o="";if(r instanceof Uint8Array){var a=0,f=e.length,h=e.charAt(0),i=[0];for(a=0;a<r.length;++a){for(var g=0,u=r[a];g<i.length;++g)u+=i[g]<<8,i[g]=u%f,u=u/f|0;for(;u>0;)i.push(u%f),u=u/f|0}for(a=0;0===r[a]&&a<r.length-1;++a)o+=h;for(a=i.length-1;a>=0;--a)o+=e[i[a]]}else o=n(r,e);if(t){var l=new RegExp(".{1,"+t+"}","g");o=o.match(l).join("\r\n")}return o},e.decode=function(e,n){if("string"!=typeof e)throw new TypeError('"input" must be a string.');if("string"!=typeof n)throw new TypeError('"alphabet" must be a string.');var o=t[n];if(!o){o=t[n]=[];for(var a=0;a<n.length;++a)o[n.charCodeAt(a)]=a}e=e.replace(/\s/g,"");var f=n.length,h=n.charAt(0),i=[0];for(a=0;a<e.length;a++){var g=o[e.charCodeAt(a)];if(void 0===g)return;for(var u=0,l=g;u<i.length;++u)l+=i[u]*f,i[u]=255&l,l>>=8;for(;l>0;)i.push(255&l),l>>=8}for(var s=0;e[s]===h&&s<e.length-1;++s)i.push(0);return void 0!==r?r.from(i.reverse()):new Uint8Array(i.reverse())};
},{"buffer":"vKFU"}],"lWyh":[function(require,module,exports) {
var process = require("process");
var global = arguments[3];
var Buffer = require("buffer").Buffer;
var t=require("process"),e=arguments[3],r=require("buffer").Buffer,n=require("./forge"),a=require("./baseN"),i=module.exports=n.util=n.util||{};function o(t){if(8!==t&&16!==t&&24!==t&&32!==t)throw new Error("Only 8, 16, 24, or 32 bits supported: "+t)}function s(t){if(this.data="",this.read=0,"string"==typeof t)this.data=t;else if(i.isArrayBuffer(t)||i.isArrayBufferView(t))if(void 0!==r&&t instanceof r)this.data=t.toString("binary");else{var e=new Uint8Array(t);try{this.data=String.fromCharCode.apply(null,e)}catch(a){for(var n=0;n<e.length;++n)this.putByte(e[n])}}else(t instanceof s||"object"==typeof t&&"string"==typeof t.data&&"number"==typeof t.read)&&(this.data=t.data,this.read=t.read);this._constructedStringLength=0}!function(){if(void 0!==t&&t.nextTick,"function"==typeof setImmediate)return i.setImmediate=function(){return setImmediate.apply(void 0,arguments)},void(i.nextTick=function(t){return setImmediate(t)});if(i.setImmediate=function(t){setTimeout(t,0)},"undefined"!=typeof window&&"function"==typeof window.postMessage){var e="forge.setImmediate",r=[];i.setImmediate=function(t){r.push(t),1===r.length&&window.postMessage(e,"*")},window.addEventListener("message",function(t){if(t.source===window&&t.data===e){t.stopPropagation();var n=r.slice();r.length=0,n.forEach(function(t){t()})}},!0)}if("undefined"!=typeof MutationObserver){var n=Date.now(),a=!0,o=document.createElement("div");r=[];new MutationObserver(function(){var t=r.slice();r.length=0,t.forEach(function(t){t()})}).observe(o,{attributes:!0});var s=i.setImmediate;i.setImmediate=function(t){Date.now()-n>15?(n=Date.now(),s(t)):(r.push(t),1===r.length&&o.setAttribute("a",a=!a))}}i.nextTick=i.setImmediate}(),i.isNodejs=void 0!==t&&t.versions&&t.versions.node,i.globalScope=i.isNodejs?e:"undefined"==typeof self?window:self,i.isArray=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)},i.isArrayBuffer=function(t){return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer},i.isArrayBufferView=function(t){return t&&i.isArrayBuffer(t.buffer)&&void 0!==t.byteLength},i.ByteBuffer=s,i.ByteStringBuffer=s;var u=4096;function f(t,e){e=e||{},this.read=e.readOffset||0,this.growSize=e.growSize||1024;var r=i.isArrayBuffer(t),n=i.isArrayBufferView(t);if(r||n)return this.data=r?new DataView(t):new DataView(t.buffer,t.byteOffset,t.byteLength),void(this.write="writeOffset"in e?e.writeOffset:this.data.byteLength);this.data=new DataView(new ArrayBuffer(0)),this.write=0,null!=t&&this.putBytes(t),"writeOffset"in e&&(this.write=e.writeOffset)}i.ByteStringBuffer.prototype._optimizeConstructedString=function(t){this._constructedStringLength+=t,this._constructedStringLength>u&&(this.data.substr(0,1),this._constructedStringLength=0)},i.ByteStringBuffer.prototype.length=function(){return this.data.length-this.read},i.ByteStringBuffer.prototype.isEmpty=function(){return this.length()<=0},i.ByteStringBuffer.prototype.putByte=function(t){return this.putBytes(String.fromCharCode(t))},i.ByteStringBuffer.prototype.fillWithByte=function(t,e){t=String.fromCharCode(t);for(var r=this.data;e>0;)1&e&&(r+=t),(e>>>=1)>0&&(t+=t);return this.data=r,this._optimizeConstructedString(e),this},i.ByteStringBuffer.prototype.putBytes=function(t){return this.data+=t,this._optimizeConstructedString(t.length),this},i.ByteStringBuffer.prototype.putString=function(t){return this.putBytes(i.encodeUtf8(t))},i.ByteStringBuffer.prototype.putInt16=function(t){return this.putBytes(String.fromCharCode(t>>8&255)+String.fromCharCode(255&t))},i.ByteStringBuffer.prototype.putInt24=function(t){return this.putBytes(String.fromCharCode(t>>16&255)+String.fromCharCode(t>>8&255)+String.fromCharCode(255&t))},i.ByteStringBuffer.prototype.putInt32=function(t){return this.putBytes(String.fromCharCode(t>>24&255)+String.fromCharCode(t>>16&255)+String.fromCharCode(t>>8&255)+String.fromCharCode(255&t))},i.ByteStringBuffer.prototype.putInt16Le=function(t){return this.putBytes(String.fromCharCode(255&t)+String.fromCharCode(t>>8&255))},i.ByteStringBuffer.prototype.putInt24Le=function(t){return this.putBytes(String.fromCharCode(255&t)+String.fromCharCode(t>>8&255)+String.fromCharCode(t>>16&255))},i.ByteStringBuffer.prototype.putInt32Le=function(t){return this.putBytes(String.fromCharCode(255&t)+String.fromCharCode(t>>8&255)+String.fromCharCode(t>>16&255)+String.fromCharCode(t>>24&255))},i.ByteStringBuffer.prototype.putInt=function(t,e){o(e);var r="";do{e-=8,r+=String.fromCharCode(t>>e&255)}while(e>0);return this.putBytes(r)},i.ByteStringBuffer.prototype.putSignedInt=function(t,e){return t<0&&(t+=2<<e-1),this.putInt(t,e)},i.ByteStringBuffer.prototype.putBuffer=function(t){return this.putBytes(t.getBytes())},i.ByteStringBuffer.prototype.getByte=function(){return this.data.charCodeAt(this.read++)},i.ByteStringBuffer.prototype.getInt16=function(){var t=this.data.charCodeAt(this.read)<<8^this.data.charCodeAt(this.read+1);return this.read+=2,t},i.ByteStringBuffer.prototype.getInt24=function(){var t=this.data.charCodeAt(this.read)<<16^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2);return this.read+=3,t},i.ByteStringBuffer.prototype.getInt32=function(){var t=this.data.charCodeAt(this.read)<<24^this.data.charCodeAt(this.read+1)<<16^this.data.charCodeAt(this.read+2)<<8^this.data.charCodeAt(this.read+3);return this.read+=4,t},i.ByteStringBuffer.prototype.getInt16Le=function(){var t=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8;return this.read+=2,t},i.ByteStringBuffer.prototype.getInt24Le=function(){var t=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2)<<16;return this.read+=3,t},i.ByteStringBuffer.prototype.getInt32Le=function(){var t=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2)<<16^this.data.charCodeAt(this.read+3)<<24;return this.read+=4,t},i.ByteStringBuffer.prototype.getInt=function(t){o(t);var e=0;do{e=(e<<8)+this.data.charCodeAt(this.read++),t-=8}while(t>0);return e},i.ByteStringBuffer.prototype.getSignedInt=function(t){var e=this.getInt(t),r=2<<t-2;return e>=r&&(e-=r<<1),e},i.ByteStringBuffer.prototype.getBytes=function(t){var e;return t?(t=Math.min(this.length(),t),e=this.data.slice(this.read,this.read+t),this.read+=t):0===t?e="":(e=0===this.read?this.data:this.data.slice(this.read),this.clear()),e},i.ByteStringBuffer.prototype.bytes=function(t){return void 0===t?this.data.slice(this.read):this.data.slice(this.read,this.read+t)},i.ByteStringBuffer.prototype.at=function(t){return this.data.charCodeAt(this.read+t)},i.ByteStringBuffer.prototype.setAt=function(t,e){return this.data=this.data.substr(0,this.read+t)+String.fromCharCode(e)+this.data.substr(this.read+t+1),this},i.ByteStringBuffer.prototype.last=function(){return this.data.charCodeAt(this.data.length-1)},i.ByteStringBuffer.prototype.copy=function(){var t=i.createBuffer(this.data);return t.read=this.read,t},i.ByteStringBuffer.prototype.compact=function(){return this.read>0&&(this.data=this.data.slice(this.read),this.read=0),this},i.ByteStringBuffer.prototype.clear=function(){return this.data="",this.read=0,this},i.ByteStringBuffer.prototype.truncate=function(t){var e=Math.max(0,this.length()-t);return this.data=this.data.substr(this.read,e),this.read=0,this},i.ByteStringBuffer.prototype.toHex=function(){for(var t="",e=this.read;e<this.data.length;++e){var r=this.data.charCodeAt(e);r<16&&(t+="0"),t+=r.toString(16)}return t},i.ByteStringBuffer.prototype.toString=function(){return i.decodeUtf8(this.bytes())},i.DataBuffer=f,i.DataBuffer.prototype.length=function(){return this.write-this.read},i.DataBuffer.prototype.isEmpty=function(){return this.length()<=0},i.DataBuffer.prototype.accommodate=function(t,e){if(this.length()>=t)return this;e=Math.max(e||this.growSize,t);var r=new Uint8Array(this.data.buffer,this.data.byteOffset,this.data.byteLength),n=new Uint8Array(this.length()+e);return n.set(r),this.data=new DataView(n.buffer),this},i.DataBuffer.prototype.putByte=function(t){return this.accommodate(1),this.data.setUint8(this.write++,t),this},i.DataBuffer.prototype.fillWithByte=function(t,e){this.accommodate(e);for(var r=0;r<e;++r)this.data.setUint8(t);return this},i.DataBuffer.prototype.putBytes=function(t,e){if(i.isArrayBufferView(t)){var r=(n=new Uint8Array(t.buffer,t.byteOffset,t.byteLength)).byteLength-n.byteOffset;return this.accommodate(r),new Uint8Array(this.data.buffer,this.write).set(n),this.write+=r,this}if(i.isArrayBuffer(t)){var n=new Uint8Array(t);return this.accommodate(n.byteLength),new Uint8Array(this.data.buffer).set(n,this.write),this.write+=n.byteLength,this}if(t instanceof i.DataBuffer||"object"==typeof t&&"number"==typeof t.read&&"number"==typeof t.write&&i.isArrayBufferView(t.data)){n=new Uint8Array(t.data.byteLength,t.read,t.length());return this.accommodate(n.byteLength),new Uint8Array(t.data.byteLength,this.write).set(n),this.write+=n.byteLength,this}if(t instanceof i.ByteStringBuffer&&(t=t.data,e="binary"),e=e||"binary","string"==typeof t){var a;if("hex"===e)return this.accommodate(Math.ceil(t.length/2)),a=new Uint8Array(this.data.buffer,this.write),this.write+=i.binary.hex.decode(t,a,this.write),this;if("base64"===e)return this.accommodate(3*Math.ceil(t.length/4)),a=new Uint8Array(this.data.buffer,this.write),this.write+=i.binary.base64.decode(t,a,this.write),this;if("utf8"===e&&(t=i.encodeUtf8(t),e="binary"),"binary"===e||"raw"===e)return this.accommodate(t.length),a=new Uint8Array(this.data.buffer,this.write),this.write+=i.binary.raw.decode(a),this;if("utf16"===e)return this.accommodate(2*t.length),a=new Uint16Array(this.data.buffer,this.write),this.write+=i.text.utf16.encode(a),this;throw new Error("Invalid encoding: "+e)}throw Error("Invalid parameter: "+t)},i.DataBuffer.prototype.putBuffer=function(t){return this.putBytes(t),t.clear(),this},i.DataBuffer.prototype.putString=function(t){return this.putBytes(t,"utf16")},i.DataBuffer.prototype.putInt16=function(t){return this.accommodate(2),this.data.setInt16(this.write,t),this.write+=2,this},i.DataBuffer.prototype.putInt24=function(t){return this.accommodate(3),this.data.setInt16(this.write,t>>8&65535),this.data.setInt8(this.write,t>>16&255),this.write+=3,this},i.DataBuffer.prototype.putInt32=function(t){return this.accommodate(4),this.data.setInt32(this.write,t),this.write+=4,this},i.DataBuffer.prototype.putInt16Le=function(t){return this.accommodate(2),this.data.setInt16(this.write,t,!0),this.write+=2,this},i.DataBuffer.prototype.putInt24Le=function(t){return this.accommodate(3),this.data.setInt8(this.write,t>>16&255),this.data.setInt16(this.write,t>>8&65535,!0),this.write+=3,this},i.DataBuffer.prototype.putInt32Le=function(t){return this.accommodate(4),this.data.setInt32(this.write,t,!0),this.write+=4,this},i.DataBuffer.prototype.putInt=function(t,e){o(e),this.accommodate(e/8);do{e-=8,this.data.setInt8(this.write++,t>>e&255)}while(e>0);return this},i.DataBuffer.prototype.putSignedInt=function(t,e){return o(e),this.accommodate(e/8),t<0&&(t+=2<<e-1),this.putInt(t,e)},i.DataBuffer.prototype.getByte=function(){return this.data.getInt8(this.read++)},i.DataBuffer.prototype.getInt16=function(){var t=this.data.getInt16(this.read);return this.read+=2,t},i.DataBuffer.prototype.getInt24=function(){var t=this.data.getInt16(this.read)<<8^this.data.getInt8(this.read+2);return this.read+=3,t},i.DataBuffer.prototype.getInt32=function(){var t=this.data.getInt32(this.read);return this.read+=4,t},i.DataBuffer.prototype.getInt16Le=function(){var t=this.data.getInt16(this.read,!0);return this.read+=2,t},i.DataBuffer.prototype.getInt24Le=function(){var t=this.data.getInt8(this.read)^this.data.getInt16(this.read+1,!0)<<8;return this.read+=3,t},i.DataBuffer.prototype.getInt32Le=function(){var t=this.data.getInt32(this.read,!0);return this.read+=4,t},i.DataBuffer.prototype.getInt=function(t){o(t);var e=0;do{e=(e<<8)+this.data.getInt8(this.read++),t-=8}while(t>0);return e},i.DataBuffer.prototype.getSignedInt=function(t){var e=this.getInt(t),r=2<<t-2;return e>=r&&(e-=r<<1),e},i.DataBuffer.prototype.getBytes=function(t){var e;return t?(t=Math.min(this.length(),t),e=this.data.slice(this.read,this.read+t),this.read+=t):0===t?e="":(e=0===this.read?this.data:this.data.slice(this.read),this.clear()),e},i.DataBuffer.prototype.bytes=function(t){return void 0===t?this.data.slice(this.read):this.data.slice(this.read,this.read+t)},i.DataBuffer.prototype.at=function(t){return this.data.getUint8(this.read+t)},i.DataBuffer.prototype.setAt=function(t,e){return this.data.setUint8(t,e),this},i.DataBuffer.prototype.last=function(){return this.data.getUint8(this.write-1)},i.DataBuffer.prototype.copy=function(){return new i.DataBuffer(this)},i.DataBuffer.prototype.compact=function(){if(this.read>0){var t=new Uint8Array(this.data.buffer,this.read),e=new Uint8Array(t.byteLength);e.set(t),this.data=new DataView(e),this.write-=this.read,this.read=0}return this},i.DataBuffer.prototype.clear=function(){return this.data=new DataView(new ArrayBuffer(0)),this.read=this.write=0,this},i.DataBuffer.prototype.truncate=function(t){return this.write=Math.max(0,this.length()-t),this.read=Math.min(this.read,this.write),this},i.DataBuffer.prototype.toHex=function(){for(var t="",e=this.read;e<this.data.byteLength;++e){var r=this.data.getUint8(e);r<16&&(t+="0"),t+=r.toString(16)}return t},i.DataBuffer.prototype.toString=function(t){var e=new Uint8Array(this.data,this.read,this.length());if("binary"===(t=t||"utf8")||"raw"===t)return i.binary.raw.encode(e);if("hex"===t)return i.binary.hex.encode(e);if("base64"===t)return i.binary.base64.encode(e);if("utf8"===t)return i.text.utf8.decode(e);if("utf16"===t)return i.text.utf16.decode(e);throw new Error("Invalid encoding: "+t)},i.createBuffer=function(t,e){return e=e||"raw",void 0!==t&&"utf8"===e&&(t=i.encodeUtf8(t)),new i.ByteBuffer(t)},i.fillString=function(t,e){for(var r="";e>0;)1&e&&(r+=t),(e>>>=1)>0&&(t+=t);return r},i.xorBytes=function(t,e,r){for(var n="",a="",i="",o=0,s=0;r>0;--r,++o)a=t.charCodeAt(o)^e.charCodeAt(o),s>=10&&(n+=i,i="",s=0),i+=String.fromCharCode(a),++s;return n+=i},i.hexToBytes=function(t){var e="",r=0;for(!0&t.length&&(r=1,e+=String.fromCharCode(parseInt(t[0],16)));r<t.length;r+=2)e+=String.fromCharCode(parseInt(t.substr(r,2),16));return e},i.bytesToHex=function(t){return i.createBuffer(t).toHex()},i.int32ToBytes=function(t){return String.fromCharCode(t>>24&255)+String.fromCharCode(t>>16&255)+String.fromCharCode(t>>8&255)+String.fromCharCode(255&t)};var h="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",d=[62,-1,-1,-1,63,52,53,54,55,56,57,58,59,60,61,-1,-1,-1,64,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-1,-1,-1,-1,-1,-1,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51],c="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";i.encode64=function(t,e){for(var r,n,a,i="",o="",s=0;s<t.length;)r=t.charCodeAt(s++),n=t.charCodeAt(s++),a=t.charCodeAt(s++),i+=h.charAt(r>>2),i+=h.charAt((3&r)<<4|n>>4),isNaN(n)?i+="==":(i+=h.charAt((15&n)<<2|a>>6),i+=isNaN(a)?"=":h.charAt(63&a)),e&&i.length>e&&(o+=i.substr(0,e)+"\r\n",i=i.substr(e));return o+=i},i.decode64=function(t){t=t.replace(/[^A-Za-z0-9\+\/\=]/g,"");for(var e,r,n,a,i="",o=0;o<t.length;)e=d[t.charCodeAt(o++)-43],r=d[t.charCodeAt(o++)-43],n=d[t.charCodeAt(o++)-43],a=d[t.charCodeAt(o++)-43],i+=String.fromCharCode(e<<2|r>>4),64!==n&&(i+=String.fromCharCode((15&r)<<4|n>>2),64!==a&&(i+=String.fromCharCode((3&n)<<6|a)));return i},i.encodeUtf8=function(t){return unescape(encodeURIComponent(t))},i.decodeUtf8=function(t){return decodeURIComponent(escape(t))},i.binary={raw:{},hex:{},base64:{},base58:{},baseN:{encode:a.encode,decode:a.decode}},i.binary.raw.encode=function(t){return String.fromCharCode.apply(null,t)},i.binary.raw.decode=function(t,e,r){var n=e;n||(n=new Uint8Array(t.length));for(var a=r=r||0,i=0;i<t.length;++i)n[a++]=t.charCodeAt(i);return e?a-r:n},i.binary.hex.encode=i.bytesToHex,i.binary.hex.decode=function(t,e,r){var n=e;n||(n=new Uint8Array(Math.ceil(t.length/2)));var a=0,i=r=r||0;for(1&t.length&&(a=1,n[i++]=parseInt(t[0],16));a<t.length;a+=2)n[i++]=parseInt(t.substr(a,2),16);return e?i-r:n},i.binary.base64.encode=function(t,e){for(var r,n,a,i="",o="",s=0;s<t.byteLength;)r=t[s++],n=t[s++],a=t[s++],i+=h.charAt(r>>2),i+=h.charAt((3&r)<<4|n>>4),isNaN(n)?i+="==":(i+=h.charAt((15&n)<<2|a>>6),i+=isNaN(a)?"=":h.charAt(63&a)),e&&i.length>e&&(o+=i.substr(0,e)+"\r\n",i=i.substr(e));return o+=i},i.binary.base64.decode=function(t,e,r){var n,a,i,o,s=e;s||(s=new Uint8Array(3*Math.ceil(t.length/4))),t=t.replace(/[^A-Za-z0-9\+\/\=]/g,"");for(var u=0,f=r=r||0;u<t.length;)n=d[t.charCodeAt(u++)-43],a=d[t.charCodeAt(u++)-43],i=d[t.charCodeAt(u++)-43],o=d[t.charCodeAt(u++)-43],s[f++]=n<<2|a>>4,64!==i&&(s[f++]=(15&a)<<4|i>>2,64!==o&&(s[f++]=(3&i)<<6|o));return e?f-r:s.subarray(0,f)},i.binary.base58.encode=function(t,e){return i.binary.baseN.encode(t,c,e)},i.binary.base58.decode=function(t,e){return i.binary.baseN.decode(t,c,e)},i.text={utf8:{},utf16:{}},i.text.utf8.encode=function(t,e,r){t=i.encodeUtf8(t);var n=e;n||(n=new Uint8Array(t.length));for(var a=r=r||0,o=0;o<t.length;++o)n[a++]=t.charCodeAt(o);return e?a-r:n},i.text.utf8.decode=function(t){return i.decodeUtf8(String.fromCharCode.apply(null,t))},i.text.utf16.encode=function(t,e,r){var n=e;n||(n=new Uint8Array(2*t.length));for(var a=new Uint16Array(n.buffer),i=r=r||0,o=r,s=0;s<t.length;++s)a[o++]=t.charCodeAt(s),i+=2;return e?i-r:n},i.text.utf16.decode=function(t){return String.fromCharCode.apply(null,new Uint16Array(t.buffer))},i.deflate=function(t,e,r){if(e=i.decode64(t.deflate(i.encode64(e)).rval),r){var n=2;32&e.charCodeAt(1)&&(n=6),e=e.substring(n,e.length-4)}return e},i.inflate=function(t,e,r){var n=t.inflate(i.encode64(e)).rval;return null===n?null:i.decode64(n)};var p=function(t,e,r){if(!t)throw new Error("WebStorage not available.");var n;if(null===r?n=t.removeItem(e):(r=i.encode64(JSON.stringify(r)),n=t.setItem(e,r)),void 0!==n&&!0!==n.rval){var a=new Error(n.error.message);throw a.id=n.error.id,a.name=n.error.name,a}},y=function(t,e){if(!t)throw new Error("WebStorage not available.");var r=t.getItem(e);if(t.init)if(null===r.rval){if(r.error){var n=new Error(r.error.message);throw n.id=r.error.id,n.name=r.error.name,n}r=null}else r=r.rval;return null!==r&&(r=JSON.parse(i.decode64(r))),r},g=function(t,e,r,n){var a=y(t,e);null===a&&(a={}),a[r]=n,p(t,e,a)},l=function(t,e,r){var n=y(t,e);return null!==n&&(n=r in n?n[r]:null),n},B=function(t,e,r){var n=y(t,e);if(null!==n&&r in n){delete n[r];var a=!0;for(var i in n){a=!1;break}a&&(n=null),p(t,e,n)}},m=function(t,e){p(t,e,null)},v=function(t,e,r){var n,a=null;void 0===r&&(r=["web","flash"]);var i=!1,o=null;for(var s in r){n=r[s];try{if("flash"===n||"both"===n){if(null===e[0])throw new Error("Flash local storage not available.");a=t.apply(this,e),i="flash"===n}"web"!==n&&"both"!==n||(e[0]=localStorage,a=t.apply(this,e),i=!0)}catch(u){o=u}if(i)break}if(!i)throw o;return a};i.setItem=function(t,e,r,n,a){v(g,arguments,a)},i.getItem=function(t,e,r,n){return v(l,arguments,n)},i.removeItem=function(t,e,r,n){v(B,arguments,n)},i.clearItems=function(t,e,r){v(m,arguments,r)},i.parseUrl=function(t){var e=/^(https?):\/\/([^:&^\/]*):?(\d*)(.*)$/g;e.lastIndex=0;var r=e.exec(t),n=null===r?null:{full:t,scheme:r[1],host:r[2],port:r[3],path:r[4]};return n&&(n.fullHost=n.host,n.port?80!==n.port&&"http"===n.scheme?n.fullHost+=":"+n.port:443!==n.port&&"https"===n.scheme&&(n.fullHost+=":"+n.port):"http"===n.scheme?n.port=80:"https"===n.scheme&&(n.port=443),n.full=n.scheme+"://"+n.fullHost),n};var w=null;i.getQueryVariables=function(t){var e,r=function(t){for(var e={},r=t.split("&"),n=0;n<r.length;n++){var a,i,o=r[n].indexOf("=");o>0?(a=r[n].substring(0,o),i=r[n].substring(o+1)):(a=r[n],i=null),a in e||(e[a]=[]),a in Object.prototype||null===i||e[a].push(unescape(i))}return e};return void 0===t?(null===w&&(w="undefined"!=typeof window&&window.location&&window.location.search?r(window.location.search.substring(1)):{}),e=w):e=r(t),e},i.parseFragment=function(t){var e=t,r="",n=t.indexOf("?");n>0&&(e=t.substring(0,n),r=t.substring(n+1));var a=e.split("/");return a.length>0&&""===a[0]&&a.shift(),{pathString:e,queryString:r,path:a,query:""===r?{}:i.getQueryVariables(r)}},i.makeRequest=function(t){var e=i.parseFragment(t),r={path:e.pathString,query:e.queryString,getPath:function(t){return void 0===t?e.path:e.path[t]},getQuery:function(t,r){var n;return void 0===t?n=e.query:(n=e.query[t])&&void 0!==r&&(n=n[r]),n},getQueryLast:function(t,e){var n=r.getQuery(t);return n?n[n.length-1]:e}};return r},i.makeLink=function(t,e,r){t=jQuery.isArray(t)?t.join("/"):t;var n=jQuery.param(e||{});return r=r||"",t+(n.length>0?"?"+n:"")+(r.length>0?"#"+r:"")},i.isEmpty=function(t){for(var e in t)if(t.hasOwnProperty(e))return!1;return!0},i.format=function(t){for(var e,r,n=/%./g,a=0,i=[],o=0;e=n.exec(t);){(r=t.substring(o,n.lastIndex-2)).length>0&&i.push(r),o=n.lastIndex;var s=e[0][1];switch(s){case"s":case"o":a<arguments.length?i.push(arguments[1+a++]):i.push("<?>");break;case"%":i.push("%");break;default:i.push("<%"+s+"?>")}}return i.push(t.substring(o)),i.join("")},i.formatNumber=function(t,e,r,n){var a=t,i=isNaN(e=Math.abs(e))?2:e,o=void 0===r?",":r,s=void 0===n?".":n,u=a<0?"-":"",f=parseInt(a=Math.abs(+a||0).toFixed(i),10)+"",h=f.length>3?f.length%3:0;return u+(h?f.substr(0,h)+s:"")+f.substr(h).replace(/(\d{3})(?=\d)/g,"$1"+s)+(i?o+Math.abs(a-f).toFixed(i).slice(2):"")},i.formatSize=function(t){return t=t>=1073741824?i.formatNumber(t/1073741824,2,".","")+" GiB":t>=1048576?i.formatNumber(t/1048576,2,".","")+" MiB":t>=1024?i.formatNumber(t/1024,0)+" KiB":i.formatNumber(t,0)+" bytes"},i.bytesFromIP=function(t){return-1!==t.indexOf(".")?i.bytesFromIPv4(t):-1!==t.indexOf(":")?i.bytesFromIPv6(t):null},i.bytesFromIPv4=function(t){if(4!==(t=t.split(".")).length)return null;for(var e=i.createBuffer(),r=0;r<t.length;++r){var n=parseInt(t[r],10);if(isNaN(n))return null;e.putByte(n)}return e.getBytes()},i.bytesFromIPv6=function(t){for(var e=0,r=2*(8-(t=t.split(":").filter(function(t){return 0===t.length&&++e,!0})).length+e),n=i.createBuffer(),a=0;a<8;++a)if(t[a]&&0!==t[a].length){var o=i.hexToBytes(t[a]);o.length<2&&n.putByte(0),n.putBytes(o)}else n.fillWithByte(0,r),r=0;return n.getBytes()},i.bytesToIP=function(t){return 4===t.length?i.bytesToIPv4(t):16===t.length?i.bytesToIPv6(t):null},i.bytesToIPv4=function(t){if(4!==t.length)return null;for(var e=[],r=0;r<t.length;++r)e.push(t.charCodeAt(r));return e.join(".")},i.bytesToIPv6=function(t){if(16!==t.length)return null;for(var e=[],r=[],n=0,a=0;a<t.length;a+=2){for(var o=i.bytesToHex(t[a]+t[a+1]);"0"===o[0]&&"0"!==o;)o=o.substr(1);if("0"===o){var s=r[r.length-1],u=e.length;s&&u===s.end+1?(s.end=u,s.end-s.start>r[n].end-r[n].start&&(n=r.length-1)):r.push({start:u,end:u})}e.push(o)}if(r.length>0){var f=r[n];f.end-f.start>0&&(e.splice(f.start,f.end-f.start+1,""),0===f.start&&e.unshift(""),7===f.end&&e.push(""))}return e.join(":")},i.estimateCores=function(t,e){if("function"==typeof t&&(e=t,t={}),t=t||{},"cores"in i&&!t.update)return e(null,i.cores);if("undefined"!=typeof navigator&&"hardwareConcurrency"in navigator&&navigator.hardwareConcurrency>0)return i.cores=navigator.hardwareConcurrency,e(null,i.cores);if("undefined"==typeof Worker)return i.cores=1,e(null,i.cores);if("undefined"==typeof Blob)return i.cores=2,e(null,i.cores);var r=URL.createObjectURL(new Blob(["(",function(){self.addEventListener("message",function(t){for(var e=Date.now(),r=e+4;Date.now()<r;);self.postMessage({st:e,et:r})})}.toString(),")()"],{type:"application/javascript"}));!function t(n,a,o){if(0===a){var s=Math.floor(n.reduce(function(t,e){return t+e},0)/n.length);return i.cores=Math.max(1,s),URL.revokeObjectURL(r),e(null,i.cores)}!function(t,e){for(var n=[],a=[],i=0;i<t;++i){var o=new Worker(r);o.addEventListener("message",function(r){if(a.push(r.data),a.length===t){for(var i=0;i<t;++i)n[i].terminate();e(null,a)}}),n.push(o)}for(var i=0;i<t;++i)n[i].postMessage(i)}(o,function(e,r){n.push(function(t,e){for(var r=[],n=0;n<t;++n)for(var a=e[n],i=r[n]=[],o=0;o<t;++o)if(n!==o){var s=e[o];(a.st>s.st&&a.st<s.et||s.st>a.st&&s.st<a.et)&&i.push(o)}return r.reduce(function(t,e){return Math.max(t,e.length)},0)}(o,r)),t(n,a-1,o)})}([],5,16)};
},{"./forge":"o20S","./baseN":"JEMJ","process":"vKFU","buffer":"vKFU"}],"UdiU":[function(require,module,exports) {
var t=require("./forge");require("./util"),module.exports=t.cipher=t.cipher||{},t.cipher.algorithms=t.cipher.algorithms||{},t.cipher.createCipher=function(i,e){var r=i;if("string"==typeof r&&(r=t.cipher.getAlgorithm(r))&&(r=r()),!r)throw new Error("Unsupported algorithm: "+i);return new t.cipher.BlockCipher({algorithm:r,key:e,decrypt:!1})},t.cipher.createDecipher=function(i,e){var r=i;if("string"==typeof r&&(r=t.cipher.getAlgorithm(r))&&(r=r()),!r)throw new Error("Unsupported algorithm: "+i);return new t.cipher.BlockCipher({algorithm:r,key:e,decrypt:!0})},t.cipher.registerAlgorithm=function(i,e){i=i.toUpperCase(),t.cipher.algorithms[i]=e},t.cipher.getAlgorithm=function(i){return(i=i.toUpperCase())in t.cipher.algorithms?t.cipher.algorithms[i]:null};var i=t.cipher.BlockCipher=function(t){this.algorithm=t.algorithm,this.mode=this.algorithm.mode,this.blockSize=this.mode.blockSize,this._finish=!1,this._input=null,this.output=null,this._op=t.decrypt?this.mode.decrypt:this.mode.encrypt,this._decrypt=t.decrypt,this.algorithm.initialize(t)};i.prototype.start=function(i){i=i||{};var e={};for(var r in i)e[r]=i[r];e.decrypt=this._decrypt,this._finish=!1,this._input=t.util.createBuffer(),this.output=i.output||t.util.createBuffer(),this.mode.start(e)},i.prototype.update=function(t){for(t&&this._input.putBuffer(t);!this._op.call(this.mode,this._input,this.output,this._finish)&&!this._finish;);this._input.compact()},i.prototype.finish=function(t){!t||"ECB"!==this.mode.name&&"CBC"!==this.mode.name||(this.mode.pad=function(i){return t(this.blockSize,i,!1)},this.mode.unpad=function(i){return t(this.blockSize,i,!0)});var i={};return i.decrypt=this._decrypt,i.overflow=this._input.length()%this.blockSize,!(!this._decrypt&&this.mode.pad&&!this.mode.pad(this._input,i))&&(this._finish=!0,this.update(),!(this._decrypt&&this.mode.unpad&&!this.mode.unpad(this.output,i))&&!(this.mode.afterFinish&&!this.mode.afterFinish(this.output,i)))};
},{"./forge":"o20S","./util":"lWyh"}],"PpVb":[function(require,module,exports) {
var t=require("./forge");require("./util"),t.cipher=t.cipher||{};var i=module.exports=t.cipher.modes=t.cipher.modes||{};function s(i,s){if("string"==typeof i&&(i=t.util.createBuffer(i)),t.util.isArray(i)&&i.length>4){var e=i;i=t.util.createBuffer();for(var h=0;h<e.length;++h)i.putByte(e[h])}if(i.length()<s)throw new Error("Invalid IV length; got "+i.length()+" bytes and expected "+s+" bytes.");if(!t.util.isArray(i)){var r=[],o=s/4;for(h=0;h<o;++h)r.push(i.getInt32());i=r}return i}function e(t){t[t.length-1]=t[t.length-1]+1&4294967295}function h(t){return[t/4294967296|0,4294967295&t]}i.ecb=function(t){t=t||{},this.name="ECB",this.cipher=t.cipher,this.blockSize=t.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints)},i.ecb.prototype.start=function(t){},i.ecb.prototype.encrypt=function(t,i,s){if(t.length()<this.blockSize&&!(s&&t.length()>0))return!0;for(var e=0;e<this._ints;++e)this._inBlock[e]=t.getInt32();this.cipher.encrypt(this._inBlock,this._outBlock);for(e=0;e<this._ints;++e)i.putInt32(this._outBlock[e])},i.ecb.prototype.decrypt=function(t,i,s){if(t.length()<this.blockSize&&!(s&&t.length()>0))return!0;for(var e=0;e<this._ints;++e)this._inBlock[e]=t.getInt32();this.cipher.decrypt(this._inBlock,this._outBlock);for(e=0;e<this._ints;++e)i.putInt32(this._outBlock[e])},i.ecb.prototype.pad=function(t,i){var s=t.length()===this.blockSize?this.blockSize:this.blockSize-t.length();return t.fillWithByte(s,s),!0},i.ecb.prototype.unpad=function(t,i){if(i.overflow>0)return!1;var s=t.length(),e=t.at(s-1);return!(e>this.blockSize<<2)&&(t.truncate(e),!0)},i.cbc=function(t){t=t||{},this.name="CBC",this.cipher=t.cipher,this.blockSize=t.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints)},i.cbc.prototype.start=function(t){if(null===t.iv){if(!this._prev)throw new Error("Invalid IV parameter.");this._iv=this._prev.slice(0)}else{if(!("iv"in t))throw new Error("Invalid IV parameter.");this._iv=s(t.iv,this.blockSize),this._prev=this._iv.slice(0)}},i.cbc.prototype.encrypt=function(t,i,s){if(t.length()<this.blockSize&&!(s&&t.length()>0))return!0;for(var e=0;e<this._ints;++e)this._inBlock[e]=this._prev[e]^t.getInt32();this.cipher.encrypt(this._inBlock,this._outBlock);for(e=0;e<this._ints;++e)i.putInt32(this._outBlock[e]);this._prev=this._outBlock},i.cbc.prototype.decrypt=function(t,i,s){if(t.length()<this.blockSize&&!(s&&t.length()>0))return!0;for(var e=0;e<this._ints;++e)this._inBlock[e]=t.getInt32();this.cipher.decrypt(this._inBlock,this._outBlock);for(e=0;e<this._ints;++e)i.putInt32(this._prev[e]^this._outBlock[e]);this._prev=this._inBlock.slice(0)},i.cbc.prototype.pad=function(t,i){var s=t.length()===this.blockSize?this.blockSize:this.blockSize-t.length();return t.fillWithByte(s,s),!0},i.cbc.prototype.unpad=function(t,i){if(i.overflow>0)return!1;var s=t.length(),e=t.at(s-1);return!(e>this.blockSize<<2)&&(t.truncate(e),!0)},i.cfb=function(i){i=i||{},this.name="CFB",this.cipher=i.cipher,this.blockSize=i.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialBlock=new Array(this._ints),this._partialOutput=t.util.createBuffer(),this._partialBytes=0},i.cfb.prototype.start=function(t){if(!("iv"in t))throw new Error("Invalid IV parameter.");this._iv=s(t.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0},i.cfb.prototype.encrypt=function(t,i,s){var e=t.length();if(0===e)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),0===this._partialBytes&&e>=this.blockSize)for(var h=0;h<this._ints;++h)this._inBlock[h]=t.getInt32()^this._outBlock[h],i.putInt32(this._inBlock[h]);else{var r=(this.blockSize-e)%this.blockSize;r>0&&(r=this.blockSize-r),this._partialOutput.clear();for(h=0;h<this._ints;++h)this._partialBlock[h]=t.getInt32()^this._outBlock[h],this._partialOutput.putInt32(this._partialBlock[h]);if(r>0)t.read-=this.blockSize;else for(h=0;h<this._ints;++h)this._inBlock[h]=this._partialBlock[h];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),r>0&&!s)return i.putBytes(this._partialOutput.getBytes(r-this._partialBytes)),this._partialBytes=r,!0;i.putBytes(this._partialOutput.getBytes(e-this._partialBytes)),this._partialBytes=0}},i.cfb.prototype.decrypt=function(t,i,s){var e=t.length();if(0===e)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),0===this._partialBytes&&e>=this.blockSize)for(var h=0;h<this._ints;++h)this._inBlock[h]=t.getInt32(),i.putInt32(this._inBlock[h]^this._outBlock[h]);else{var r=(this.blockSize-e)%this.blockSize;r>0&&(r=this.blockSize-r),this._partialOutput.clear();for(h=0;h<this._ints;++h)this._partialBlock[h]=t.getInt32(),this._partialOutput.putInt32(this._partialBlock[h]^this._outBlock[h]);if(r>0)t.read-=this.blockSize;else for(h=0;h<this._ints;++h)this._inBlock[h]=this._partialBlock[h];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),r>0&&!s)return i.putBytes(this._partialOutput.getBytes(r-this._partialBytes)),this._partialBytes=r,!0;i.putBytes(this._partialOutput.getBytes(e-this._partialBytes)),this._partialBytes=0}},i.ofb=function(i){i=i||{},this.name="OFB",this.cipher=i.cipher,this.blockSize=i.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialOutput=t.util.createBuffer(),this._partialBytes=0},i.ofb.prototype.start=function(t){if(!("iv"in t))throw new Error("Invalid IV parameter.");this._iv=s(t.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0},i.ofb.prototype.encrypt=function(t,i,s){var e=t.length();if(0===t.length())return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),0===this._partialBytes&&e>=this.blockSize)for(var h=0;h<this._ints;++h)i.putInt32(t.getInt32()^this._outBlock[h]),this._inBlock[h]=this._outBlock[h];else{var r=(this.blockSize-e)%this.blockSize;r>0&&(r=this.blockSize-r),this._partialOutput.clear();for(h=0;h<this._ints;++h)this._partialOutput.putInt32(t.getInt32()^this._outBlock[h]);if(r>0)t.read-=this.blockSize;else for(h=0;h<this._ints;++h)this._inBlock[h]=this._outBlock[h];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),r>0&&!s)return i.putBytes(this._partialOutput.getBytes(r-this._partialBytes)),this._partialBytes=r,!0;i.putBytes(this._partialOutput.getBytes(e-this._partialBytes)),this._partialBytes=0}},i.ofb.prototype.decrypt=i.ofb.prototype.encrypt,i.ctr=function(i){i=i||{},this.name="CTR",this.cipher=i.cipher,this.blockSize=i.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialOutput=t.util.createBuffer(),this._partialBytes=0},i.ctr.prototype.start=function(t){if(!("iv"in t))throw new Error("Invalid IV parameter.");this._iv=s(t.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0},i.ctr.prototype.encrypt=function(t,i,s){var h=t.length();if(0===h)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),0===this._partialBytes&&h>=this.blockSize)for(var r=0;r<this._ints;++r)i.putInt32(t.getInt32()^this._outBlock[r]);else{var o=(this.blockSize-h)%this.blockSize;o>0&&(o=this.blockSize-o),this._partialOutput.clear();for(r=0;r<this._ints;++r)this._partialOutput.putInt32(t.getInt32()^this._outBlock[r]);if(o>0&&(t.read-=this.blockSize),this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),o>0&&!s)return i.putBytes(this._partialOutput.getBytes(o-this._partialBytes)),this._partialBytes=o,!0;i.putBytes(this._partialOutput.getBytes(h-this._partialBytes)),this._partialBytes=0}e(this._inBlock)},i.ctr.prototype.decrypt=i.ctr.prototype.encrypt,i.gcm=function(i){i=i||{},this.name="GCM",this.cipher=i.cipher,this.blockSize=i.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints),this._partialOutput=t.util.createBuffer(),this._partialBytes=0,this._R=3774873600},i.gcm.prototype.start=function(i){if(!("iv"in i))throw new Error("Invalid IV parameter.");var s,r=t.util.createBuffer(i.iv);if(this._cipherLength=0,s="additionalData"in i?t.util.createBuffer(i.additionalData):t.util.createBuffer(),this._tagLength="tagLength"in i?i.tagLength:128,this._tag=null,i.decrypt&&(this._tag=t.util.createBuffer(i.tag).getBytes(),this._tag.length!==this._tagLength/8))throw new Error("Authentication tag does not match tag length.");this._hashBlock=new Array(this._ints),this.tag=null,this._hashSubkey=new Array(this._ints),this.cipher.encrypt([0,0,0,0],this._hashSubkey),this.componentBits=4,this._m=this.generateHashTable(this._hashSubkey,this.componentBits);var o=r.length();if(12===o)this._j0=[r.getInt32(),r.getInt32(),r.getInt32(),1];else{for(this._j0=[0,0,0,0];r.length()>0;)this._j0=this.ghash(this._hashSubkey,this._j0,[r.getInt32(),r.getInt32(),r.getInt32(),r.getInt32()]);this._j0=this.ghash(this._hashSubkey,this._j0,[0,0].concat(h(8*o)))}this._inBlock=this._j0.slice(0),e(this._inBlock),this._partialBytes=0,s=t.util.createBuffer(s),this._aDataLength=h(8*s.length());var a=s.length()%this.blockSize;for(a&&s.fillWithByte(0,this.blockSize-a),this._s=[0,0,0,0];s.length()>0;)this._s=this.ghash(this._hashSubkey,this._s,[s.getInt32(),s.getInt32(),s.getInt32(),s.getInt32()])},i.gcm.prototype.encrypt=function(t,i,s){var h=t.length();if(0===h)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),0===this._partialBytes&&h>=this.blockSize){for(var r=0;r<this._ints;++r)i.putInt32(this._outBlock[r]^=t.getInt32());this._cipherLength+=this.blockSize}else{var o=(this.blockSize-h)%this.blockSize;o>0&&(o=this.blockSize-o),this._partialOutput.clear();for(r=0;r<this._ints;++r)this._partialOutput.putInt32(t.getInt32()^this._outBlock[r]);if(o<=0||s){if(s){var a=h%this.blockSize;this._cipherLength+=a,this._partialOutput.truncate(this.blockSize-a)}else this._cipherLength+=this.blockSize;for(r=0;r<this._ints;++r)this._outBlock[r]=this._partialOutput.getInt32();this._partialOutput.read-=this.blockSize}if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),o>0&&!s)return t.read-=this.blockSize,i.putBytes(this._partialOutput.getBytes(o-this._partialBytes)),this._partialBytes=o,!0;i.putBytes(this._partialOutput.getBytes(h-this._partialBytes)),this._partialBytes=0}this._s=this.ghash(this._hashSubkey,this._s,this._outBlock),e(this._inBlock)},i.gcm.prototype.decrypt=function(t,i,s){var h=t.length();if(h<this.blockSize&&!(s&&h>0))return!0;this.cipher.encrypt(this._inBlock,this._outBlock),e(this._inBlock),this._hashBlock[0]=t.getInt32(),this._hashBlock[1]=t.getInt32(),this._hashBlock[2]=t.getInt32(),this._hashBlock[3]=t.getInt32(),this._s=this.ghash(this._hashSubkey,this._s,this._hashBlock);for(var r=0;r<this._ints;++r)i.putInt32(this._outBlock[r]^this._hashBlock[r]);h<this.blockSize?this._cipherLength+=h%this.blockSize:this._cipherLength+=this.blockSize},i.gcm.prototype.afterFinish=function(i,s){var e=!0;s.decrypt&&s.overflow&&i.truncate(this.blockSize-s.overflow),this.tag=t.util.createBuffer();var r=this._aDataLength.concat(h(8*this._cipherLength));this._s=this.ghash(this._hashSubkey,this._s,r);var o=[];this.cipher.encrypt(this._j0,o);for(var a=0;a<this._ints;++a)this.tag.putInt32(this._s[a]^o[a]);return this.tag.truncate(this.tag.length()%(this._tagLength/8)),s.decrypt&&this.tag.bytes()!==this._tag&&(e=!1),e},i.gcm.prototype.multiply=function(t,i){for(var s=[0,0,0,0],e=i.slice(0),h=0;h<128;++h){t[h/32|0]&1<<31-h%32&&(s[0]^=e[0],s[1]^=e[1],s[2]^=e[2],s[3]^=e[3]),this.pow(e,e)}return s},i.gcm.prototype.pow=function(t,i){for(var s=1&t[3],e=3;e>0;--e)i[e]=t[e]>>>1|(1&t[e-1])<<31;i[0]=t[0]>>>1,s&&(i[0]^=this._R)},i.gcm.prototype.tableMultiply=function(t){for(var i=[0,0,0,0],s=0;s<32;++s){var e=t[s/8|0]>>>4*(7-s%8)&15,h=this._m[s][e];i[0]^=h[0],i[1]^=h[1],i[2]^=h[2],i[3]^=h[3]}return i},i.gcm.prototype.ghash=function(t,i,s){return i[0]^=s[0],i[1]^=s[1],i[2]^=s[2],i[3]^=s[3],this.tableMultiply(i)},i.gcm.prototype.generateHashTable=function(t,i){for(var s=8/i,e=4*s,h=16*s,r=new Array(h),o=0;o<h;++o){var a=[0,0,0,0],n=(e-1-o%e)*i;a[o/e|0]=1<<i-1<<n,r[o]=this.generateSubHashTable(this.multiply(a,t),i)}return r},i.gcm.prototype.generateSubHashTable=function(t,i){var s=1<<i,e=s>>>1,h=new Array(s);h[e]=t.slice(0);for(var r=e>>>1;r>0;)this.pow(h[2*r],h[r]=[]),r>>=1;for(r=2;r<e;){for(var o=1;o<r;++o){var a=h[r],n=h[o];h[r+o]=[a[0]^n[0],a[1]^n[1],a[2]^n[2],a[3]^n[3]]}r*=2}for(h[0]=[0,0,0,0],r=e+1;r<s;++r){var l=h[r^e];h[r]=[t[0]^l[0],t[1]^l[1],t[2]^l[2],t[3]^l[3]]}return h};
},{"./forge":"o20S","./util":"lWyh"}],"EkQ3":[function(require,module,exports) {
var e=require("./forge");function r(r,t){e.cipher.registerAlgorithm(r,function(){return new e.aes.Algorithm(r,t)})}require("./cipher"),require("./cipherModes"),require("./util"),module.exports=e.aes=e.aes||{},e.aes.startEncrypting=function(e,r,t,n){var i=s({key:e,output:t,decrypt:!1,mode:n});return i.start(r),i},e.aes.createEncryptionCipher=function(e,r){return s({key:e,output:null,decrypt:!1,mode:r})},e.aes.startDecrypting=function(e,r,t,n){var i=s({key:e,output:t,decrypt:!0,mode:n});return i.start(r),i},e.aes.createDecryptionCipher=function(e,r){return s({key:e,output:null,decrypt:!0,mode:r})},e.aes.Algorithm=function(e,r){c||f();var t=this;t.name=e,t.mode=new r({blockSize:16,cipher:{encrypt:function(e,r){return l(t._w,e,r,!1)},decrypt:function(e,r){return l(t._w,e,r,!0)}}}),t._init=!1},e.aes.Algorithm.prototype.initialize=function(r){if(!this._init){var t,n=r.key;if("string"!=typeof n||16!==n.length&&24!==n.length&&32!==n.length){if(e.util.isArray(n)&&(16===n.length||24===n.length||32===n.length)){t=n,n=e.util.createBuffer();for(var i=0;i<t.length;++i)n.putByte(t[i])}}else n=e.util.createBuffer(n);if(!e.util.isArray(n)){t=n,n=[];var o=t.length();if(16===o||24===o||32===o){o>>>=2;for(i=0;i<o;++i)n.push(t.getInt32())}}if(!e.util.isArray(n)||4!==n.length&&6!==n.length&&8!==n.length)throw new Error("Invalid key parameter.");var a=this.mode.name,c=-1!==["CFB","OFB","CTR","GCM"].indexOf(a);this._w=p(n,r.decrypt&&!c),this._init=!0}},e.aes._expandKey=function(e,r){return c||f(),p(e,r)},e.aes._updateBlock=l,r("AES-ECB",e.cipher.modes.ecb),r("AES-CBC",e.cipher.modes.cbc),r("AES-CFB",e.cipher.modes.cfb),r("AES-OFB",e.cipher.modes.ofb),r("AES-CTR",e.cipher.modes.ctr),r("AES-GCM",e.cipher.modes.gcm);var t,n,i,o,a,c=!1,u=4;function f(){c=!0,i=[0,1,2,4,8,16,32,64,128,27,54];for(var e=new Array(256),r=0;r<128;++r)e[r]=r<<1,e[r+128]=r+128<<1^283;t=new Array(256),n=new Array(256),o=new Array(4),a=new Array(4);for(r=0;r<4;++r)o[r]=new Array(256),a[r]=new Array(256);var u,f,p,l,s,h,y,d=0,g=0;for(r=0;r<256;++r){l=(l=g^g<<1^g<<2^g<<3^g<<4)>>8^255&l^99,t[d]=l,n[l]=d,h=(s=e[l])<<24^l<<16^l<<8^l^s,y=((u=e[d])^(f=e[u])^(p=e[f]))<<24^(d^p)<<16^(d^f^p)<<8^d^u^p;for(var m=0;m<4;++m)o[m][d]=h,a[m][l]=y,h=h<<24|h>>>8,y=y<<24|y>>>8;0===d?d=g=1:(d=u^e[e[e[u^p]]],g^=e[e[g]])}}function p(e,r){for(var n,o=e.slice(0),c=1,f=o.length,p=u*(f+6+1),l=f;l<p;++l)n=o[l-1],l%f==0?(n=t[n>>>16&255]<<24^t[n>>>8&255]<<16^t[255&n]<<8^t[n>>>24]^i[c]<<24,c++):f>6&&l%f==4&&(n=t[n>>>24]<<24^t[n>>>16&255]<<16^t[n>>>8&255]<<8^t[255&n]),o[l]=o[l-f]^n;if(r){for(var s,h=a[0],y=a[1],d=a[2],g=a[3],m=o.slice(0),v=(l=0,(p=o.length)-u);l<p;l+=u,v-=u)if(0===l||l===p-u)m[l]=o[v],m[l+1]=o[v+3],m[l+2]=o[v+2],m[l+3]=o[v+1];else for(var A=0;A<u;++A)s=o[v+A],m[l+(3&-A)]=h[t[s>>>24]]^y[t[s>>>16&255]]^d[t[s>>>8&255]]^g[t[255&s]];o=m}return o}function l(e,r,i,c){var u,f,p,l,s,h,y,d,g,m,v,A,C=e.length/4-1;c?(u=a[0],f=a[1],p=a[2],l=a[3],s=n):(u=o[0],f=o[1],p=o[2],l=o[3],s=t),h=r[0]^e[0],y=r[c?3:1]^e[1],d=r[2]^e[2],g=r[c?1:3]^e[3];for(var w=3,B=1;B<C;++B)m=u[h>>>24]^f[y>>>16&255]^p[d>>>8&255]^l[255&g]^e[++w],v=u[y>>>24]^f[d>>>16&255]^p[g>>>8&255]^l[255&h]^e[++w],A=u[d>>>24]^f[g>>>16&255]^p[h>>>8&255]^l[255&y]^e[++w],g=u[g>>>24]^f[h>>>16&255]^p[y>>>8&255]^l[255&d]^e[++w],h=m,y=v,d=A;i[0]=s[h>>>24]<<24^s[y>>>16&255]<<16^s[d>>>8&255]<<8^s[255&g]^e[++w],i[c?3:1]=s[y>>>24]<<24^s[d>>>16&255]<<16^s[g>>>8&255]<<8^s[255&h]^e[++w],i[2]=s[d>>>24]<<24^s[g>>>16&255]<<16^s[h>>>8&255]<<8^s[255&y]^e[++w],i[c?1:3]=s[g>>>24]<<24^s[h>>>16&255]<<16^s[y>>>8&255]<<8^s[255&d]^e[++w]}function s(r){var t,n="AES-"+((r=r||{}).mode||"CBC").toUpperCase(),i=(t=r.decrypt?e.cipher.createDecipher(n,r.key):e.cipher.createCipher(n,r.key)).start;return t.start=function(r,n){var o=null;n instanceof e.util.ByteBuffer&&(o=n,n={}),(n=n||{}).output=o,n.iv=r,i.call(t,n)},t}
},{"./forge":"o20S","./cipher":"UdiU","./cipherModes":"PpVb","./util":"lWyh"}],"rbLR":[function(require,module,exports) {
var i=require("./forge");i.pki=i.pki||{};var t=module.exports=i.pki.oids=i.oids=i.oids||{};function e(i,e){t[i]=e,t[e]=i}function s(i,e){t[i]=e}e("1.2.840.113549.1.1.1","rsaEncryption"),e("1.2.840.113549.1.1.4","md5WithRSAEncryption"),e("1.2.840.113549.1.1.5","sha1WithRSAEncryption"),e("1.2.840.113549.1.1.7","RSAES-OAEP"),e("1.2.840.113549.1.1.8","mgf1"),e("1.2.840.113549.1.1.9","pSpecified"),e("1.2.840.113549.1.1.10","RSASSA-PSS"),e("1.2.840.113549.1.1.11","sha256WithRSAEncryption"),e("1.2.840.113549.1.1.12","sha384WithRSAEncryption"),e("1.2.840.113549.1.1.13","sha512WithRSAEncryption"),e("1.3.101.112","EdDSA25519"),e("1.2.840.10040.4.3","dsa-with-sha1"),e("1.3.14.3.2.7","desCBC"),e("1.3.14.3.2.26","sha1"),e("2.16.840.1.101.3.4.2.1","sha256"),e("2.16.840.1.101.3.4.2.2","sha384"),e("2.16.840.1.101.3.4.2.3","sha512"),e("1.2.840.113549.2.5","md5"),e("1.2.840.113549.1.7.1","data"),e("1.2.840.113549.1.7.2","signedData"),e("1.2.840.113549.1.7.3","envelopedData"),e("1.2.840.113549.1.7.4","signedAndEnvelopedData"),e("1.2.840.113549.1.7.5","digestedData"),e("1.2.840.113549.1.7.6","encryptedData"),e("1.2.840.113549.1.9.1","emailAddress"),e("1.2.840.113549.1.9.2","unstructuredName"),e("1.2.840.113549.1.9.3","contentType"),e("1.2.840.113549.1.9.4","messageDigest"),e("1.2.840.113549.1.9.5","signingTime"),e("1.2.840.113549.1.9.6","counterSignature"),e("1.2.840.113549.1.9.7","challengePassword"),e("1.2.840.113549.1.9.8","unstructuredAddress"),e("1.2.840.113549.1.9.14","extensionRequest"),e("1.2.840.113549.1.9.20","friendlyName"),e("1.2.840.113549.1.9.21","localKeyId"),e("1.2.840.113549.1.9.22.1","x509Certificate"),e("1.2.840.113549.1.12.10.1.1","keyBag"),e("1.2.840.113549.1.12.10.1.2","pkcs8ShroudedKeyBag"),e("1.2.840.113549.1.12.10.1.3","certBag"),e("1.2.840.113549.1.12.10.1.4","crlBag"),e("1.2.840.113549.1.12.10.1.5","secretBag"),e("1.2.840.113549.1.12.10.1.6","safeContentsBag"),e("1.2.840.113549.1.5.13","pkcs5PBES2"),e("1.2.840.113549.1.5.12","pkcs5PBKDF2"),e("1.2.840.113549.1.12.1.1","pbeWithSHAAnd128BitRC4"),e("1.2.840.113549.1.12.1.2","pbeWithSHAAnd40BitRC4"),e("1.2.840.113549.1.12.1.3","pbeWithSHAAnd3-KeyTripleDES-CBC"),e("1.2.840.113549.1.12.1.4","pbeWithSHAAnd2-KeyTripleDES-CBC"),e("1.2.840.113549.1.12.1.5","pbeWithSHAAnd128BitRC2-CBC"),e("1.2.840.113549.1.12.1.6","pbewithSHAAnd40BitRC2-CBC"),e("1.2.840.113549.2.7","hmacWithSHA1"),e("1.2.840.113549.2.8","hmacWithSHA224"),e("1.2.840.113549.2.9","hmacWithSHA256"),e("1.2.840.113549.2.10","hmacWithSHA384"),e("1.2.840.113549.2.11","hmacWithSHA512"),e("1.2.840.113549.3.7","des-EDE3-CBC"),e("2.16.840.1.101.3.4.1.2","aes128-CBC"),e("2.16.840.1.101.3.4.1.22","aes192-CBC"),e("2.16.840.1.101.3.4.1.42","aes256-CBC"),e("2.5.4.3","commonName"),e("2.5.4.5","serialName"),e("2.5.4.6","countryName"),e("2.5.4.7","localityName"),e("2.5.4.8","stateOrProvinceName"),e("2.5.4.9","streetAddress"),e("2.5.4.10","organizationName"),e("2.5.4.11","organizationalUnitName"),e("2.5.4.13","description"),e("2.5.4.15","businessCategory"),e("2.5.4.17","postalCode"),e("1.3.6.1.4.1.311.60.2.1.2","jurisdictionOfIncorporationStateOrProvinceName"),e("1.3.6.1.4.1.311.60.2.1.3","jurisdictionOfIncorporationCountryName"),e("2.16.840.1.113730.1.1","nsCertType"),e("2.16.840.1.113730.1.13","nsComment"),s("2.5.29.1","authorityKeyIdentifier"),s("2.5.29.2","keyAttributes"),s("2.5.29.3","certificatePolicies"),s("2.5.29.4","keyUsageRestriction"),s("2.5.29.5","policyMapping"),s("2.5.29.6","subtreesConstraint"),s("2.5.29.7","subjectAltName"),s("2.5.29.8","issuerAltName"),s("2.5.29.9","subjectDirectoryAttributes"),s("2.5.29.10","basicConstraints"),s("2.5.29.11","nameConstraints"),s("2.5.29.12","policyConstraints"),s("2.5.29.13","basicConstraints"),e("2.5.29.14","subjectKeyIdentifier"),e("2.5.29.15","keyUsage"),s("2.5.29.16","privateKeyUsagePeriod"),e("2.5.29.17","subjectAltName"),e("2.5.29.18","issuerAltName"),e("2.5.29.19","basicConstraints"),s("2.5.29.20","cRLNumber"),s("2.5.29.21","cRLReason"),s("2.5.29.22","expirationDate"),s("2.5.29.23","instructionCode"),s("2.5.29.24","invalidityDate"),s("2.5.29.25","cRLDistributionPoints"),s("2.5.29.26","issuingDistributionPoint"),s("2.5.29.27","deltaCRLIndicator"),s("2.5.29.28","issuingDistributionPoint"),s("2.5.29.29","certificateIssuer"),s("2.5.29.30","nameConstraints"),e("2.5.29.31","cRLDistributionPoints"),e("2.5.29.32","certificatePolicies"),s("2.5.29.33","policyMappings"),s("2.5.29.34","policyConstraints"),e("2.5.29.35","authorityKeyIdentifier"),s("2.5.29.36","policyConstraints"),e("2.5.29.37","extKeyUsage"),s("2.5.29.46","freshestCRL"),s("2.5.29.54","inhibitAnyPolicy"),e("1.3.6.1.4.1.11129.2.4.2","timestampList"),e("1.3.6.1.5.5.7.1.1","authorityInfoAccess"),e("1.3.6.1.5.5.7.3.1","serverAuth"),e("1.3.6.1.5.5.7.3.2","clientAuth"),e("1.3.6.1.5.5.7.3.3","codeSigning"),e("1.3.6.1.5.5.7.3.4","emailProtection"),e("1.3.6.1.5.5.7.3.8","timeStamping");
},{"./forge":"o20S"}],"BA5j":[function(require,module,exports) {
var e=require("./forge");require("./util"),require("./oids");var t=module.exports=e.asn1=e.asn1||{};function r(e,t,r){if(r>t){var a=new Error("Too few bytes to parse DER.");throw a.available=e.length(),a.remaining=t,a.requested=r,a}}t.Class={UNIVERSAL:0,APPLICATION:64,CONTEXT_SPECIFIC:128,PRIVATE:192},t.Type={NONE:0,BOOLEAN:1,INTEGER:2,BITSTRING:3,OCTETSTRING:4,NULL:5,OID:6,ODESC:7,EXTERNAL:8,REAL:9,ENUMERATED:10,EMBEDDED:11,UTF8:12,ROID:13,SEQUENCE:16,SET:17,PRINTABLESTRING:19,IA5STRING:22,UTCTIME:23,GENERALIZEDTIME:24,BMPSTRING:30},t.create=function(r,a,n,s,i){if(e.util.isArray(s)){for(var u=[],o=0;o<s.length;++o)void 0!==s[o]&&u.push(s[o]);s=u}var l={tagClass:r,type:a,constructed:n,composed:n||e.util.isArray(s),value:s};return i&&"bitStringContents"in i&&(l.bitStringContents=i.bitStringContents,l.original=t.copy(l)),l},t.copy=function(r,a){var n;if(e.util.isArray(r)){n=[];for(var s=0;s<r.length;++s)n.push(t.copy(r[s],a));return n}return"string"==typeof r?r:(n={tagClass:r.tagClass,type:r.type,constructed:r.constructed,composed:r.composed,value:t.copy(r.value,a)},a&&!a.excludeBitStringContents&&(n.bitStringContents=r.bitStringContents),n)},t.equals=function(r,a,n){if(e.util.isArray(r)){if(!e.util.isArray(a))return!1;if(r.length!==a.length)return!1;for(var s=0;s<r.length;++s)if(!t.equals(r[s],a[s]))return!1;return!0}if(typeof r!=typeof a)return!1;if("string"==typeof r)return r===a;var i=r.tagClass===a.tagClass&&r.type===a.type&&r.constructed===a.constructed&&r.composed===a.composed&&t.equals(r.value,a.value);return n&&n.includeBitStringContents&&(i=i&&r.bitStringContents===a.bitStringContents),i},t.getBerValueLength=function(e){var t=e.getByte();if(128!==t)return 128&t?e.getInt((127&t)<<3):t};var a=function(e,t){var a=e.getByte();if(128!==a){var n;if(128&a){var s=127&a;r(e,--t,s),n=e.getInt(s<<3)}else n=a;if(n<0)throw new Error("Negative length: "+n);return n}};function n(e,s,i,u){var o;r(e,s,2);var l=e.getByte();s--;var p=192&l,g=31&l;o=e.length();var c,T,f=a(e,s);if(s-=o-e.length(),void 0!==f&&f>s){if(u.strict){var v=new Error("Too few bytes to read ASN.1 value.");throw v.available=e.length(),v.remaining=s,v.requested=f,v}f=s}var y=32==(32&l);if(y)if(c=[],void 0===f)for(;;){if(r(e,s,2),e.bytes(2)===String.fromCharCode(0,0)){e.getBytes(2),s-=2;break}o=e.length(),c.push(n(e,s,i+1,u)),s-=o-e.length()}else for(;f>0;)o=e.length(),c.push(n(e,f,i+1,u)),s-=o-e.length(),f-=o-e.length();if(void 0===c&&p===t.Class.UNIVERSAL&&g===t.Type.BITSTRING&&(T=e.bytes(f)),void 0===c&&u.decodeBitStrings&&p===t.Class.UNIVERSAL&&g===t.Type.BITSTRING&&f>1){var d=e.read,h=s,I=0;if(g===t.Type.BITSTRING&&(r(e,s,1),I=e.getByte(),s--),0===I)try{o=e.length();var C=n(e,s,i+1,{verbose:u.verbose,strict:!0,decodeBitStrings:!0}),S=o-e.length();s-=S,g==t.Type.BITSTRING&&S++;var b=C.tagClass;S!==f||b!==t.Class.UNIVERSAL&&b!==t.Class.CONTEXT_SPECIFIC||(c=[C])}catch(B){}void 0===c&&(e.read=d,s=h)}if(void 0===c){if(void 0===f){if(u.strict)throw new Error("Non-constructed ASN.1 object of indefinite length.");f=s}if(g===t.Type.BMPSTRING)for(c="";f>0;f-=2)r(e,s,2),c+=String.fromCharCode(e.getInt16()),s-=2;else c=e.getBytes(f)}var E=void 0===T?null:{bitStringContents:T};return t.create(p,g,y,c,E)}t.fromDer=function(t,r){return void 0===r&&(r={strict:!0,decodeBitStrings:!0}),"boolean"==typeof r&&(r={strict:r,decodeBitStrings:!0}),"strict"in r||(r.strict=!0),"decodeBitStrings"in r||(r.decodeBitStrings=!0),"string"==typeof t&&(t=e.util.createBuffer(t)),n(t,t.length(),0,r)},t.toDer=function(r){var a=e.util.createBuffer(),n=r.tagClass|r.type,s=e.util.createBuffer(),i=!1;if("bitStringContents"in r&&(i=!0,r.original&&(i=t.equals(r,r.original))),i)s.putBytes(r.bitStringContents);else if(r.composed){r.constructed?n|=32:s.putByte(0);for(var u=0;u<r.value.length;++u)void 0!==r.value[u]&&s.putBuffer(t.toDer(r.value[u]))}else if(r.type===t.Type.BMPSTRING)for(u=0;u<r.value.length;++u)s.putInt16(r.value.charCodeAt(u));else r.type===t.Type.INTEGER&&r.value.length>1&&(0===r.value.charCodeAt(0)&&0==(128&r.value.charCodeAt(1))||255===r.value.charCodeAt(0)&&128==(128&r.value.charCodeAt(1)))?s.putBytes(r.value.substr(1)):s.putBytes(r.value);if(a.putByte(n),s.length()<=127)a.putByte(127&s.length());else{var o=s.length(),l="";do{l+=String.fromCharCode(255&o),o>>>=8}while(o>0);a.putByte(128|l.length);for(u=l.length-1;u>=0;--u)a.putByte(l.charCodeAt(u))}return a.putBuffer(s),a},t.oidToDer=function(t){var r,a,n,s,i=t.split("."),u=e.util.createBuffer();u.putByte(40*parseInt(i[0],10)+parseInt(i[1],10));for(var o=2;o<i.length;++o){r=!0,a=[],n=parseInt(i[o],10);do{s=127&n,n>>>=7,r||(s|=128),a.push(s),r=!1}while(n>0);for(var l=a.length-1;l>=0;--l)u.putByte(a[l])}return u},t.derToOid=function(t){var r;"string"==typeof t&&(t=e.util.createBuffer(t));var a=t.getByte();r=Math.floor(a/40)+"."+a%40;for(var n=0;t.length()>0;)n<<=7,128&(a=t.getByte())?n+=127&a:(r+="."+(n+a),n=0);return r},t.utcTimeToDate=function(e){var t=new Date,r=parseInt(e.substr(0,2),10);r=r>=50?1900+r:2e3+r;var a=parseInt(e.substr(2,2),10)-1,n=parseInt(e.substr(4,2),10),s=parseInt(e.substr(6,2),10),i=parseInt(e.substr(8,2),10),u=0;if(e.length>11){var o=e.charAt(10),l=10;"+"!==o&&"-"!==o&&(u=parseInt(e.substr(10,2),10),l+=2)}if(t.setUTCFullYear(r,a,n),t.setUTCHours(s,i,u,0),l&&("+"===(o=e.charAt(l))||"-"===o)){var p=60*parseInt(e.substr(l+1,2),10)+parseInt(e.substr(l+4,2),10);p*=6e4,"+"===o?t.setTime(+t-p):t.setTime(+t+p)}return t},t.generalizedTimeToDate=function(e){var t=new Date,r=parseInt(e.substr(0,4),10),a=parseInt(e.substr(4,2),10)-1,n=parseInt(e.substr(6,2),10),s=parseInt(e.substr(8,2),10),i=parseInt(e.substr(10,2),10),u=parseInt(e.substr(12,2),10),o=0,l=0,p=!1;"Z"===e.charAt(e.length-1)&&(p=!0);var g=e.length-5,c=e.charAt(g);"+"!==c&&"-"!==c||(l=60*parseInt(e.substr(g+1,2),10)+parseInt(e.substr(g+4,2),10),l*=6e4,"+"===c&&(l*=-1),p=!0);return"."===e.charAt(14)&&(o=1e3*parseFloat(e.substr(14),10)),p?(t.setUTCFullYear(r,a,n),t.setUTCHours(s,i,u,o),t.setTime(+t+l)):(t.setFullYear(r,a,n),t.setHours(s,i,u,o)),t},t.dateToUtcTime=function(e){if("string"==typeof e)return e;var t="",r=[];r.push((""+e.getUTCFullYear()).substr(2)),r.push(""+(e.getUTCMonth()+1)),r.push(""+e.getUTCDate()),r.push(""+e.getUTCHours()),r.push(""+e.getUTCMinutes()),r.push(""+e.getUTCSeconds());for(var a=0;a<r.length;++a)r[a].length<2&&(t+="0"),t+=r[a];return t+="Z"},t.dateToGeneralizedTime=function(e){if("string"==typeof e)return e;var t="",r=[];r.push(""+e.getUTCFullYear()),r.push(""+(e.getUTCMonth()+1)),r.push(""+e.getUTCDate()),r.push(""+e.getUTCHours()),r.push(""+e.getUTCMinutes()),r.push(""+e.getUTCSeconds());for(var a=0;a<r.length;++a)r[a].length<2&&(t+="0"),t+=r[a];return t+="Z"},t.integerToDer=function(t){var r=e.util.createBuffer();if(t>=-128&&t<128)return r.putSignedInt(t,8);if(t>=-32768&&t<32768)return r.putSignedInt(t,16);if(t>=-8388608&&t<8388608)return r.putSignedInt(t,24);if(t>=-2147483648&&t<2147483648)return r.putSignedInt(t,32);var a=new Error("Integer too large; max is 32-bits.");throw a.integer=t,a},t.derToInteger=function(t){"string"==typeof t&&(t=e.util.createBuffer(t));var r=8*t.length();if(r>32)throw new Error("Integer too large; max is 32-bits.");return t.getSignedInt(r)},t.validate=function(r,a,n,s){var i=!1;if(r.tagClass!==a.tagClass&&void 0!==a.tagClass||r.type!==a.type&&void 0!==a.type)s&&(r.tagClass!==a.tagClass&&s.push("["+a.name+'] Expected tag class "'+a.tagClass+'", got "'+r.tagClass+'"'),r.type!==a.type&&s.push("["+a.name+'] Expected type "'+a.type+'", got "'+r.type+'"'));else if(r.constructed===a.constructed||void 0===a.constructed){if(i=!0,a.value&&e.util.isArray(a.value))for(var u=0,o=0;i&&o<a.value.length;++o)i=a.value[o].optional||!1,r.value[u]&&((i=t.validate(r.value[u],a.value[o],n,s))?++u:a.value[o].optional&&(i=!0)),!i&&s&&s.push("["+a.name+'] Tag class "'+a.tagClass+'", type "'+a.type+'" expected value length "'+a.value.length+'", got "'+r.value.length+'"');if(i&&n)if(a.capture&&(n[a.capture]=r.value),a.captureAsn1&&(n[a.captureAsn1]=r),a.captureBitStringContents&&"bitStringContents"in r&&(n[a.captureBitStringContents]=r.bitStringContents),a.captureBitStringValue&&"bitStringContents"in r)if(r.bitStringContents.length<2)n[a.captureBitStringValue]="";else{if(0!==r.bitStringContents.charCodeAt(0))throw new Error("captureBitStringValue only supported for zero unused bits");n[a.captureBitStringValue]=r.bitStringContents.slice(1)}}else s&&s.push("["+a.name+'] Expected constructed "'+a.constructed+'", got "'+r.constructed+'"');return i};var s=/[^\\u0000-\\u00ff]/;t.prettyPrint=function(r,a,n){var i="";n=n||2,(a=a||0)>0&&(i+="\n");for(var u="",o=0;o<a*n;++o)u+=" ";switch(i+=u+"Tag: ",r.tagClass){case t.Class.UNIVERSAL:i+="Universal:";break;case t.Class.APPLICATION:i+="Application:";break;case t.Class.CONTEXT_SPECIFIC:i+="Context-Specific:";break;case t.Class.PRIVATE:i+="Private:"}if(r.tagClass===t.Class.UNIVERSAL)switch(i+=r.type,r.type){case t.Type.NONE:i+=" (None)";break;case t.Type.BOOLEAN:i+=" (Boolean)";break;case t.Type.INTEGER:i+=" (Integer)";break;case t.Type.BITSTRING:i+=" (Bit string)";break;case t.Type.OCTETSTRING:i+=" (Octet string)";break;case t.Type.NULL:i+=" (Null)";break;case t.Type.OID:i+=" (Object Identifier)";break;case t.Type.ODESC:i+=" (Object Descriptor)";break;case t.Type.EXTERNAL:i+=" (External or Instance of)";break;case t.Type.REAL:i+=" (Real)";break;case t.Type.ENUMERATED:i+=" (Enumerated)";break;case t.Type.EMBEDDED:i+=" (Embedded PDV)";break;case t.Type.UTF8:i+=" (UTF8)";break;case t.Type.ROID:i+=" (Relative Object Identifier)";break;case t.Type.SEQUENCE:i+=" (Sequence)";break;case t.Type.SET:i+=" (Set)";break;case t.Type.PRINTABLESTRING:i+=" (Printable String)";break;case t.Type.IA5String:i+=" (IA5String (ASCII))";break;case t.Type.UTCTIME:i+=" (UTC time)";break;case t.Type.GENERALIZEDTIME:i+=" (Generalized time)";break;case t.Type.BMPSTRING:i+=" (BMP String)"}else i+=r.type;if(i+="\n",i+=u+"Constructed: "+r.constructed+"\n",r.composed){var l=0,p="";for(o=0;o<r.value.length;++o)void 0!==r.value[o]&&(l+=1,p+=t.prettyPrint(r.value[o],a+1,n),o+1<r.value.length&&(p+=","));i+=u+"Sub values: "+l+p}else{if(i+=u+"Value: ",r.type===t.Type.OID){var g=t.derToOid(r.value);i+=g,e.pki&&e.pki.oids&&g in e.pki.oids&&(i+=" ("+e.pki.oids[g]+") ")}if(r.type===t.Type.INTEGER)try{i+=t.derToInteger(r.value)}catch(T){i+="0x"+e.util.bytesToHex(r.value)}else if(r.type===t.Type.BITSTRING){if(r.value.length>1?i+="0x"+e.util.bytesToHex(r.value.slice(1)):i+="(none)",r.value.length>0){var c=r.value.charCodeAt(0);1==c?i+=" (1 unused bit shown)":c>1&&(i+=" ("+c+" unused bits shown)")}}else r.type===t.Type.OCTETSTRING?(s.test(r.value)||(i+="("+r.value+") "),i+="0x"+e.util.bytesToHex(r.value)):r.type===t.Type.UTF8?i+=e.util.decodeUtf8(r.value):r.type===t.Type.PRINTABLESTRING||r.type===t.Type.IA5String?i+=r.value:s.test(r.value)?i+="0x"+e.util.bytesToHex(r.value):0===r.value.length?i+="[null]":i+=r.value}return i};
},{"./forge":"o20S","./util":"lWyh","./oids":"rbLR"}],"Tsiu":[function(require,module,exports) {
var m=require("./forge");module.exports=m.md=m.md||{},m.md.algorithms=m.md.algorithms||{};
},{"./forge":"o20S"}],"NYQx":[function(require,module,exports) {
var t=require("./forge");require("./md"),require("./util");var e=module.exports=t.hmac=t.hmac||{};e.create=function(){var e=null,r=null,u=null,a=null,i={start:function(i,l){if(null!==i)if("string"==typeof i){if(!((i=i.toLowerCase())in t.md.algorithms))throw new Error('Unknown hash algorithm "'+i+'"');r=t.md.algorithms[i].create()}else r=i;if(null===l)l=e;else{if("string"==typeof l)l=t.util.createBuffer(l);else if(t.util.isArray(l)){var n=l;l=t.util.createBuffer();for(var f=0;f<n.length;++f)l.putByte(n[f])}var o=l.length();o>r.blockLength&&(r.start(),r.update(l.bytes()),l=r.digest()),u=t.util.createBuffer(),a=t.util.createBuffer(),o=l.length();for(f=0;f<o;++f){n=l.at(f);u.putByte(54^n),a.putByte(92^n)}if(o<r.blockLength)for(n=r.blockLength-o,f=0;f<n;++f)u.putByte(54),a.putByte(92);e=l,u=u.bytes(),a=a.bytes()}r.start(),r.update(u)},update:function(t){r.update(t)},getMac:function(){var t=r.digest().bytes();return r.start(),r.update(a),r.update(t),r.digest()}};return i.digest=i.getMac,i};
},{"./forge":"o20S","./md":"Tsiu","./util":"lWyh"}],"ObGv":[function(require,module,exports) {
var e=require("./forge");require("./util"),e.mgf=e.mgf||{};var t=module.exports=e.mgf.mgf1=e.mgf1=e.mgf1||{};t.create=function(t){return{generate:function(r,u){for(var f=new e.util.ByteBuffer,g=Math.ceil(u/t.digestLength),n=0;n<g;n++){var a=new e.util.ByteBuffer;a.putInt32(n),t.start(),t.update(r+a.getBytes()),f.putBuffer(t.digest())}return f.truncate(f.length()-u),f.getBytes()}}};
},{"./forge":"o20S","./util":"lWyh"}],"Uyyi":[function(require,module,exports) {
var Buffer = require("buffer").Buffer;
var t=require("buffer").Buffer,r=require("./forge");require("./hmac"),require("./md"),require("./util");var e,n=r.pkcs5=r.pkcs5||{};r.util.isNodejs&&!r.options.usePureJavaScript&&(e=require("crypto")),module.exports=r.pbkdf2=n.pbkdf2=function(n,i,u,l,o,s){if("function"==typeof o&&(s=o,o=null),r.util.isNodejs&&!r.options.usePureJavaScript&&e.pbkdf2&&(null===o||"object"!=typeof o)&&(e.pbkdf2Sync.length>4||!o||"sha1"===o))return"string"!=typeof o&&(o="sha1"),n=t.from(n,"binary"),i=t.from(i,"binary"),s?4===e.pbkdf2Sync.length?e.pbkdf2(n,i,u,l,function(t,r){if(t)return s(t);s(null,r.toString("binary"))}):e.pbkdf2(n,i,u,l,o,function(t,r){if(t)return s(t);s(null,r.toString("binary"))}):4===e.pbkdf2Sync.length?e.pbkdf2Sync(n,i,u,l).toString("binary"):e.pbkdf2Sync(n,i,u,l,o).toString("binary");if(null==o&&(o="sha1"),"string"==typeof o){if(!(o in r.md.algorithms))throw new Error("Unknown hash algorithm: "+o);o=r.md[o].create()}var a=o.digestLength;if(l>4294967295*a){var f=new Error("Derived key is too long.");if(s)return s(f);throw f}var d=Math.ceil(l/a),p=l-(d-1)*a,y=r.hmac.create();y.start(o,n);var g,c,b,h="";if(!s){for(var k=1;k<=d;++k){y.start(null,null),y.update(i),y.update(r.util.int32ToBytes(k)),g=b=y.digest().getBytes();for(var m=2;m<=u;++m)y.start(null,null),y.update(b),c=y.digest().getBytes(),g=r.util.xorBytes(g,c,a),b=c;h+=k<d?g:g.substr(0,p)}return h}k=1;function v(){if(k>d)return s(null,h);y.start(null,null),y.update(i),y.update(r.util.int32ToBytes(k)),g=b=y.digest().getBytes(),m=2,S()}function S(){if(m<=u)return y.start(null,null),y.update(b),c=y.digest().getBytes(),g=r.util.xorBytes(g,c,a),b=c,++m,r.util.setImmediate(S);h+=k<d?g:g.substr(0,p),++k,v()}v()};
},{"./forge":"o20S","./hmac":"NYQx","./md":"Tsiu","./util":"lWyh","crypto":"vKFU","buffer":"vKFU"}],"ClqA":[function(require,module,exports) {
var e=require("./forge");require("./util");var r=module.exports=e.pem=e.pem||{};function n(e){for(var r=e.name+": ",n=[],a=function(e,r){return" "+r},t=0;t<e.values.length;++t)n.push(e.values[t].replace(/^(\S+\r\n)/,a));r+=n.join(",")+"\r\n";var o=0,s=-1;for(t=0;t<r.length;++t,++o)if(o>65&&-1!==s){var l=r[s];","===l?(++s,r=r.substr(0,s)+"\r\n "+r.substr(s)):r=r.substr(0,s)+"\r\n"+l+r.substr(s+1),o=t-s-1,s=-1,++t}else" "!==r[t]&&"\t"!==r[t]&&","!==r[t]||(s=t);return r}function a(e){return e.replace(/^\s+/,"")}r.encode=function(r,a){a=a||{};var t,o="-----BEGIN "+r.type+"-----\r\n";if(r.procType&&(o+=n(t={name:"Proc-Type",values:[String(r.procType.version),r.procType.type]})),r.contentDomain&&(o+=n(t={name:"Content-Domain",values:[r.contentDomain]})),r.dekInfo&&(t={name:"DEK-Info",values:[r.dekInfo.algorithm]},r.dekInfo.parameters&&t.values.push(r.dekInfo.parameters),o+=n(t)),r.headers)for(var s=0;s<r.headers.length;++s)o+=n(r.headers[s]);return r.procType&&(o+="\r\n"),o+=e.util.encode64(r.body,a.maxline||64)+"\r\n",o+="-----END "+r.type+"-----\r\n"},r.decode=function(r){for(var n,t=[],o=/\s*-----BEGIN ([A-Z0-9- ]+)-----\r?\n?([\x21-\x7e\s]+?(?:\r?\n\r?\n))?([:A-Za-z0-9+\/=\s]+?)-----END \1-----/g,s=/([\x21-\x7e]+):\s*([\x21-\x7e\s^:]+)/,l=/\r?\n/;n=o.exec(r);){var i={type:n[1],procType:null,contentDomain:null,dekInfo:null,headers:[],body:e.util.decode64(n[3])};if(t.push(i),n[2]){for(var f=n[2].split(l),u=0;n&&u<f.length;){for(var p=f[u].replace(/\s+$/,""),d=u+1;d<f.length;++d){var m=f[d];if(!/\s/.test(m[0]))break;p+=m,u=d}if(n=p.match(s)){for(var h={name:n[1],values:[]},c=n[2].split(","),v=0;v<c.length;++v)h.values.push(a(c[v]));if(i.procType)if(i.contentDomain||"Content-Domain"!==h.name)if(i.dekInfo||"DEK-Info"!==h.name)i.headers.push(h);else{if(0===h.values.length)throw new Error('Invalid PEM formatted message. The "DEK-Info" header must have at least one subfield.');i.dekInfo={algorithm:c[0],parameters:c[1]||null}}else i.contentDomain=c[0]||"";else{if("Proc-Type"!==h.name)throw new Error('Invalid PEM formatted message. The first encapsulated header must be "Proc-Type".');if(2!==h.values.length)throw new Error('Invalid PEM formatted message. The "Proc-Type" header must have two subfields.');i.procType={version:c[0],type:c[1]}}}++u}if("ENCRYPTED"===i.procType&&!i.dekInfo)throw new Error('Invalid PEM formatted message. The "DEK-Info" header must be present if "Proc-Type" is "ENCRYPTED".')}}if(0===t.length)throw new Error("Invalid PEM formatted message.");return t};
},{"./forge":"o20S","./util":"lWyh"}],"pZAX":[function(require,module,exports) {
var e=require("./forge");require("./md"),require("./util");var t=module.exports=e.sha256=e.sha256||{};e.md.sha256=e.md.algorithms.sha256=t,t.create=function(){n||g();var t=null,r=e.util.createBuffer(),s=new Array(64),l={algorithm:"sha256",blockLength:64,digestLength:32,messageLength:0,fullMessageLength:null,messageLengthSize:8,start:function(){l.messageLength=0,l.fullMessageLength=l.messageLength64=[];for(var h=l.messageLengthSize/4,n=0;n<h;++n)l.fullMessageLength.push(0);return r=e.util.createBuffer(),t={h0:1779033703,h1:3144134277,h2:1013904242,h3:2773480762,h4:1359893119,h5:2600822924,h6:528734635,h7:1541459225},l}};return l.start(),l.update=function(h,n){"utf8"===n&&(h=e.util.encodeUtf8(h));var g=h.length;l.messageLength+=g,g=[g/4294967296>>>0,g>>>0];for(var a=l.fullMessageLength.length-1;a>=0;--a)l.fullMessageLength[a]+=g[1],g[1]=g[0]+(l.fullMessageLength[a]/4294967296>>>0),l.fullMessageLength[a]=l.fullMessageLength[a]>>>0,g[0]=g[1]/4294967296>>>0;return r.putBytes(h),u(t,s,r),(r.read>2048||0===r.length())&&r.compact(),l},l.digest=function(){var n=e.util.createBuffer();n.putBytes(r.bytes());var g,a=l.fullMessageLength[l.fullMessageLength.length-1]+l.messageLengthSize&l.blockLength-1;n.putBytes(h.substr(0,l.blockLength-a));for(var f=8*l.fullMessageLength[0],i=0;i<l.fullMessageLength.length-1;++i)f+=(g=8*l.fullMessageLength[i+1])/4294967296>>>0,n.putInt32(f>>>0),f=g>>>0;n.putInt32(f);var o={h0:t.h0,h1:t.h1,h2:t.h2,h3:t.h3,h4:t.h4,h5:t.h5,h6:t.h6,h7:t.h7};u(o,s,n);var L=e.util.createBuffer();return L.putInt32(o.h0),L.putInt32(o.h1),L.putInt32(o.h2),L.putInt32(o.h3),L.putInt32(o.h4),L.putInt32(o.h5),L.putInt32(o.h6),L.putInt32(o.h7),L},l};var h=null,n=!1,r=null;function g(){h=String.fromCharCode(128),h+=e.util.fillString(String.fromCharCode(0),64),r=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],n=!0}function u(e,t,h){for(var n,g,u,s,l,a,f,i,o,L,c,p,m,v=h.length();v>=64;){for(l=0;l<16;++l)t[l]=h.getInt32();for(;l<64;++l)n=((n=t[l-2])>>>17|n<<15)^(n>>>19|n<<13)^n>>>10,g=((g=t[l-15])>>>7|g<<25)^(g>>>18|g<<14)^g>>>3,t[l]=n+t[l-7]+g+t[l-16]|0;for(a=e.h0,f=e.h1,i=e.h2,o=e.h3,L=e.h4,c=e.h5,p=e.h6,m=e.h7,l=0;l<64;++l)u=(a>>>2|a<<30)^(a>>>13|a<<19)^(a>>>22|a<<10),s=a&f|i&(a^f),n=m+((L>>>6|L<<26)^(L>>>11|L<<21)^(L>>>25|L<<7))+(p^L&(c^p))+r[l]+t[l],m=p,p=c,c=L,L=o+n>>>0,o=i,i=f,f=a,a=n+(g=u+s)>>>0;e.h0=e.h0+a|0,e.h1=e.h1+f|0,e.h2=e.h2+i|0,e.h3=e.h3+o|0,e.h4=e.h4+L|0,e.h5=e.h5+c|0,e.h6=e.h6+p|0,e.h7=e.h7+m|0,v-=64}}
},{"./forge":"o20S","./md":"Tsiu","./util":"lWyh"}],"QgPb":[function(require,module,exports) {
var process = require("process");
var e=require("process"),t=require("./forge");require("./util");var r=null;!t.util.isNodejs||t.options.usePureJavaScript||e.versions["node-webkit"]||(r=require("crypto"));var n=module.exports=t.prng=t.prng||{};n.create=function(e){for(var n={plugin:e,key:null,seed:null,time:null,reseeds:0,generated:0,keyBytes:""},o=e.md,s=new Array(32),l=0;l<32;++l)s[l]=o.create();function a(){if(n.pools[0].messageLength>=32)return i();var e=32-n.pools[0].messageLength<<5;n.collect(n.seedFileSync(e)),i()}function i(){n.reseeds=4294967295===n.reseeds?0:n.reseeds+1;var e=n.plugin.md.create();e.update(n.keyBytes);for(var t=1,r=0;r<32;++r)n.reseeds%t==0&&(e.update(n.pools[r].digest().getBytes()),n.pools[r].start()),t<<=1;n.keyBytes=e.digest().getBytes(),e.start(),e.update(n.keyBytes);var o=e.digest().getBytes();n.key=n.plugin.formatKey(n.keyBytes),n.seed=n.plugin.formatSeed(o),n.generated=0}function u(e){var r=null,n=t.util.globalScope,o=n.crypto||n.msCrypto;o&&o.getRandomValues&&(r=function(e){return o.getRandomValues(e)});var s=t.util.createBuffer();if(r)for(;s.length()<e;){var l=Math.max(1,Math.min(e-s.length(),65536)/4),a=new Uint32Array(Math.floor(l));try{r(a);for(var i=0;i<a.length;++i)s.putInt32(a[i])}catch(c){if(!("undefined"!=typeof QuotaExceededError&&c instanceof QuotaExceededError))throw c}}if(s.length()<e)for(var u,g,f,d=Math.floor(65536*Math.random());s.length()<e;){g=16807*(65535&d),g+=(32767&(u=16807*(d>>16)))<<16,d=4294967295&(g=(2147483647&(g+=u>>15))+(g>>31));for(i=0;i<3;++i)f=d>>>(i<<3),f^=Math.floor(256*Math.random()),s.putByte(String.fromCharCode(255&f))}return s.getBytes(e)}return n.pools=s,n.pool=0,n.generate=function(e,r){if(!r)return n.generateSync(e);var o=n.plugin.cipher,s=n.plugin.increment,l=n.plugin.formatKey,a=n.plugin.formatSeed,u=t.util.createBuffer();n.key=null,function g(f){if(f)return r(f);if(u.length()>=e)return r(null,u.getBytes(e));n.generated>1048575&&(n.key=null);if(null===n.key)return t.util.nextTick(function(){!function(e){if(n.pools[0].messageLength>=32)return i(),e();var t=32-n.pools[0].messageLength<<5;n.seedFile(t,function(t,r){if(t)return e(t);n.collect(r),i(),e()})}(g)});var d=o(n.key,n.seed);n.generated+=d.length;u.putBytes(d);n.key=l(o(n.key,s(n.seed)));n.seed=a(o(n.key,n.seed));t.util.setImmediate(g)}()},n.generateSync=function(e){var r=n.plugin.cipher,o=n.plugin.increment,s=n.plugin.formatKey,l=n.plugin.formatSeed;n.key=null;for(var i=t.util.createBuffer();i.length()<e;){n.generated>1048575&&(n.key=null),null===n.key&&a();var u=r(n.key,n.seed);n.generated+=u.length,i.putBytes(u),n.key=s(r(n.key,o(n.seed))),n.seed=l(r(n.key,n.seed))}return i.getBytes(e)},r?(n.seedFile=function(e,t){r.randomBytes(e,function(e,r){if(e)return t(e);t(null,r.toString())})},n.seedFileSync=function(e){return r.randomBytes(e).toString()}):(n.seedFile=function(e,t){try{t(null,u(e))}catch(r){t(r)}},n.seedFileSync=u),n.collect=function(e){for(var t=e.length,r=0;r<t;++r)n.pools[n.pool].update(e.substr(r,1)),n.pool=31===n.pool?0:n.pool+1},n.collectInt=function(e,t){for(var r="",o=0;o<t;o+=8)r+=String.fromCharCode(e>>o&255);n.collect(r)},n.registerWorker=function(e){if(e===self)n.seedFile=function(e,t){self.addEventListener("message",function e(r){var n=r.data;n.forge&&n.forge.prng&&(self.removeEventListener("message",e),t(n.forge.prng.err,n.forge.prng.bytes))}),self.postMessage({forge:{prng:{needed:e}}})};else{e.addEventListener("message",function(t){var r=t.data;r.forge&&r.forge.prng&&n.seedFile(r.forge.prng.needed,function(t,r){e.postMessage({forge:{prng:{err:t,bytes:r}}})})})}},n};
},{"./forge":"o20S","./util":"lWyh","crypto":"vKFU","process":"vKFU"}],"Gfwb":[function(require,module,exports) {
var e=require("./forge");require("./aes"),require("./sha256"),require("./prng"),require("./util"),e.random&&e.random.getBytes?module.exports=e.random:function(t){var n={},r=new Array(4),o=e.util.createBuffer();function a(){var t=e.prng.create(n);return t.getBytes=function(e,n){return t.generate(e,n)},t.getBytesSync=function(e){return t.generate(e)},t}n.formatKey=function(t){var n=e.util.createBuffer(t);return(t=new Array(4))[0]=n.getInt32(),t[1]=n.getInt32(),t[2]=n.getInt32(),t[3]=n.getInt32(),e.aes._expandKey(t,!1)},n.formatSeed=function(t){var n=e.util.createBuffer(t);return(t=new Array(4))[0]=n.getInt32(),t[1]=n.getInt32(),t[2]=n.getInt32(),t[3]=n.getInt32(),t},n.cipher=function(t,n){return e.aes._updateBlock(t,n,r,!1),o.putInt32(r[0]),o.putInt32(r[1]),o.putInt32(r[2]),o.putInt32(r[3]),o.getBytes()},n.increment=function(e){return++e[3],e},n.md=e.md.sha256;var u=a(),i=null,c=e.util.globalScope,f=c.crypto||c.msCrypto;if(f&&f.getRandomValues&&(i=function(e){return f.getRandomValues(e)}),e.options.usePureJavaScript||!e.util.isNodejs&&!i){if("undefined"==typeof window||window.document,u.collectInt(+new Date,32),"undefined"!=typeof navigator){var l="";for(var d in navigator)try{"string"==typeof navigator[d]&&(l+=navigator[d])}catch(g){}u.collect(l),l=null}t&&(t().mousemove(function(e){u.collectInt(e.clientX,16),u.collectInt(e.clientY,16)}),t().keypress(function(e){u.collectInt(e.charCode,8)}))}if(e.random)for(var d in u)e.random[d]=u[d];else e.random=u;e.random.createInstance=a,module.exports=e.random}("undefined"!=typeof jQuery?jQuery:null);
},{"./forge":"o20S","./aes":"EkQ3","./sha256":"pZAX","./prng":"QgPb","./util":"lWyh"}],"a9m4":[function(require,module,exports) {
var e=require("./forge");require("./md"),require("./util");var t=module.exports=e.sha1=e.sha1||{};e.md.sha1=e.md.algorithms.sha1=t,t.create=function(){r||n();var t=null,s=e.util.createBuffer(),u=new Array(80),a={algorithm:"sha1",blockLength:64,digestLength:20,messageLength:0,fullMessageLength:null,messageLengthSize:8,start:function(){a.messageLength=0,a.fullMessageLength=a.messageLength64=[];for(var h=a.messageLengthSize/4,r=0;r<h;++r)a.fullMessageLength.push(0);return s=e.util.createBuffer(),t={h0:1732584193,h1:4023233417,h2:2562383102,h3:271733878,h4:3285377520},a}};return a.start(),a.update=function(h,r){"utf8"===r&&(h=e.util.encodeUtf8(h));var n=h.length;a.messageLength+=n,n=[n/4294967296>>>0,n>>>0];for(var l=a.fullMessageLength.length-1;l>=0;--l)a.fullMessageLength[l]+=n[1],n[1]=n[0]+(a.fullMessageLength[l]/4294967296>>>0),a.fullMessageLength[l]=a.fullMessageLength[l]>>>0,n[0]=n[1]/4294967296>>>0;return s.putBytes(h),g(t,u,s),(s.read>2048||0===s.length())&&s.compact(),a},a.digest=function(){var r=e.util.createBuffer();r.putBytes(s.bytes());var n,l=a.fullMessageLength[a.fullMessageLength.length-1]+a.messageLengthSize&a.blockLength-1;r.putBytes(h.substr(0,a.blockLength-l));for(var f=8*a.fullMessageLength[0],o=0;o<a.fullMessageLength.length-1;++o)f+=(n=8*a.fullMessageLength[o+1])/4294967296>>>0,r.putInt32(f>>>0),f=n>>>0;r.putInt32(f);var i={h0:t.h0,h1:t.h1,h2:t.h2,h3:t.h3,h4:t.h4};g(i,u,r);var L=e.util.createBuffer();return L.putInt32(i.h0),L.putInt32(i.h1),L.putInt32(i.h2),L.putInt32(i.h3),L.putInt32(i.h4),L},a};var h=null,r=!1;function n(){h=String.fromCharCode(128),h+=e.util.fillString(String.fromCharCode(0),64),r=!0}function g(e,t,h){for(var r,n,g,s,u,a,l,f=h.length();f>=64;){for(n=e.h0,g=e.h1,s=e.h2,u=e.h3,a=e.h4,l=0;l<16;++l)r=h.getInt32(),t[l]=r,r=(n<<5|n>>>27)+(u^g&(s^u))+a+1518500249+r,a=u,u=s,s=(g<<30|g>>>2)>>>0,g=n,n=r;for(;l<20;++l)r=(r=t[l-3]^t[l-8]^t[l-14]^t[l-16])<<1|r>>>31,t[l]=r,r=(n<<5|n>>>27)+(u^g&(s^u))+a+1518500249+r,a=u,u=s,s=(g<<30|g>>>2)>>>0,g=n,n=r;for(;l<32;++l)r=(r=t[l-3]^t[l-8]^t[l-14]^t[l-16])<<1|r>>>31,t[l]=r,r=(n<<5|n>>>27)+(g^s^u)+a+1859775393+r,a=u,u=s,s=(g<<30|g>>>2)>>>0,g=n,n=r;for(;l<40;++l)r=(r=t[l-6]^t[l-16]^t[l-28]^t[l-32])<<2|r>>>30,t[l]=r,r=(n<<5|n>>>27)+(g^s^u)+a+1859775393+r,a=u,u=s,s=(g<<30|g>>>2)>>>0,g=n,n=r;for(;l<60;++l)r=(r=t[l-6]^t[l-16]^t[l-28]^t[l-32])<<2|r>>>30,t[l]=r,r=(n<<5|n>>>27)+(g&s|u&(g^s))+a+2400959708+r,a=u,u=s,s=(g<<30|g>>>2)>>>0,g=n,n=r;for(;l<80;++l)r=(r=t[l-6]^t[l-16]^t[l-28]^t[l-32])<<2|r>>>30,t[l]=r,r=(n<<5|n>>>27)+(g^s^u)+a+3395469782+r,a=u,u=s,s=(g<<30|g>>>2)>>>0,g=n,n=r;e.h0=e.h0+n|0,e.h1=e.h1+g|0,e.h2=e.h2+s|0,e.h3=e.h3+u|0,e.h4=e.h4+a|0,f-=64}}
},{"./forge":"o20S","./md":"Tsiu","./util":"lWyh"}],"PZSV":[function(require,module,exports) {
var e=require("./forge");require("./util"),require("./random"),require("./sha1");var t=module.exports=e.pkcs1=e.pkcs1||{};function r(t,r,g){g||(g=e.md.sha1.create());for(var n="",i=Math.ceil(r/g.digestLength),s=0;s<i;++s){var h=String.fromCharCode(s>>24&255,s>>16&255,s>>8&255,255&s);g.start(),g.update(t+h),n+=g.digest().getBytes()}return n.substring(0,r)}t.encode_rsa_oaep=function(t,g,n){var i,s,h,d;"string"==typeof n?(i=n,s=arguments[3]||void 0,h=arguments[4]||void 0):n&&(i=n.label||void 0,s=n.seed||void 0,h=n.md||void 0,n.mgf1&&n.mgf1.md&&(d=n.mgf1.md)),h?h.start():h=e.md.sha1.create(),d||(d=h);var a=Math.ceil(t.n.bitLength()/8),o=a-2*h.digestLength-2;if(g.length>o)throw(c=new Error("RSAES-OAEP input message length is too long.")).length=g.length,c.maxLength=o,c;i||(i=""),h.update(i,"raw");for(var l=h.digest(),u="",v=o-g.length,f=0;f<v;f++)u+="\0";var m=l.getBytes()+u+""+g;if(s){if(s.length!==h.digestLength){var c;throw(c=new Error("Invalid RSAES-OAEP seed. The seed length must match the digest length.")).seedLength=s.length,c.digestLength=h.digestLength,c}}else s=e.random.getBytes(h.digestLength);var L=r(s,a-h.digestLength-1,d),A=e.util.xorBytes(m,L,m.length),E=r(A,h.digestLength,d);return"\0"+e.util.xorBytes(s,E,s.length)+A},t.decode_rsa_oaep=function(t,g,n){var i,s,h;"string"==typeof n?(i=n,s=arguments[3]||void 0):n&&(i=n.label||void 0,s=n.md||void 0,n.mgf1&&n.mgf1.md&&(h=n.mgf1.md));var d=Math.ceil(t.n.bitLength()/8);if(g.length!==d)throw(L=new Error("RSAES-OAEP encoded message length is invalid.")).length=g.length,L.expectedLength=d,L;if(void 0===s?s=e.md.sha1.create():s.start(),h||(h=s),d<2*s.digestLength+2)throw new Error("RSAES-OAEP key is too short for the hash function.");i||(i=""),s.update(i,"raw");for(var a=s.digest().getBytes(),o=g.charAt(0),l=g.substring(1,s.digestLength+1),u=g.substring(1+s.digestLength),v=r(u,s.digestLength,h),f=r(e.util.xorBytes(l,v,l.length),d-s.digestLength-1,h),m=e.util.xorBytes(u,f,u.length),c=m.substring(0,s.digestLength),L="\0"!==o,A=0;A<s.digestLength;++A)L|=a.charAt(A)!==c.charAt(A);for(var E=1,p=s.digestLength,w=s.digestLength;w<m.length;w++){var y=m.charCodeAt(w);L|=y&(E?65534:0),p+=E&=1&y^1}if(L||1!==m.charCodeAt(p))throw new Error("Invalid RSAES-OAEP padding.");return m.substring(p+1)};
},{"./forge":"o20S","./util":"lWyh","./random":"Gfwb","./sha1":"a9m4"}],"XbkJ":[function(require,module,exports) {
var e=require("./forge");function r(r,t){e.cipher.registerAlgorithm(r,function(){return new e.des.Algorithm(r,t)})}require("./cipher"),require("./cipherModes"),require("./util"),module.exports=e.des=e.des||{},e.des.startEncrypting=function(e,r,t,i){var n=h({key:e,output:t,decrypt:!1,mode:i||(null===r?"ECB":"CBC")});return n.start(r),n},e.des.createEncryptionCipher=function(e,r){return h({key:e,output:null,decrypt:!1,mode:r})},e.des.startDecrypting=function(e,r,t,i){var n=h({key:e,output:t,decrypt:!0,mode:i||(null===r?"ECB":"CBC")});return n.start(r),n},e.des.createDecryptionCipher=function(e,r){return h({key:e,output:null,decrypt:!0,mode:r})},e.des.Algorithm=function(e,r){var t=this;t.name=e,t.mode=new r({blockSize:8,cipher:{encrypt:function(e,r){return d(t._keys,e,r,!1)},decrypt:function(e,r){return d(t._keys,e,r,!0)}}}),t._init=!1},e.des.Algorithm.prototype.initialize=function(r){if(!this._init){var t=e.util.createBuffer(r.key);if(0===this.name.indexOf("3DES")&&24!==t.length())throw new Error("Invalid Triple-DES key size: "+8*t.length());this._keys=a(t),this._init=!0}},r("DES-ECB",e.cipher.modes.ecb),r("DES-CBC",e.cipher.modes.cbc),r("DES-CFB",e.cipher.modes.cfb),r("DES-OFB",e.cipher.modes.ofb),r("DES-CTR",e.cipher.modes.ctr),r("3DES-ECB",e.cipher.modes.ecb),r("3DES-CBC",e.cipher.modes.cbc),r("3DES-CFB",e.cipher.modes.cfb),r("3DES-OFB",e.cipher.modes.ofb),r("3DES-CTR",e.cipher.modes.ctr);var t=[16843776,0,65536,16843780,16842756,66564,4,65536,1024,16843776,16843780,1024,16778244,16842756,16777216,4,1028,16778240,16778240,66560,66560,16842752,16842752,16778244,65540,16777220,16777220,65540,0,1028,66564,16777216,65536,16843780,4,16842752,16843776,16777216,16777216,1024,16842756,65536,66560,16777220,1024,4,16778244,66564,16843780,65540,16842752,16778244,16777220,1028,66564,16843776,1028,16778240,16778240,0,65540,66560,0,16842756],i=[-2146402272,-2147450880,32768,1081376,1048576,32,-2146435040,-2147450848,-2147483616,-2146402272,-2146402304,-2147483648,-2147450880,1048576,32,-2146435040,1081344,1048608,-2147450848,0,-2147483648,32768,1081376,-2146435072,1048608,-2147483616,0,1081344,32800,-2146402304,-2146435072,32800,0,1081376,-2146435040,1048576,-2147450848,-2146435072,-2146402304,32768,-2146435072,-2147450880,32,-2146402272,1081376,32,32768,-2147483648,32800,-2146402304,1048576,-2147483616,1048608,-2147450848,-2147483616,1048608,1081344,0,-2147450880,32800,-2147483648,-2146435040,-2146402272,1081344],n=[520,134349312,0,134348808,134218240,0,131592,134218240,131080,134217736,134217736,131072,134349320,131080,134348800,520,134217728,8,134349312,512,131584,134348800,134348808,131592,134218248,131584,131072,134218248,8,134349320,512,134217728,134349312,134217728,131080,520,131072,134349312,134218240,0,512,131080,134349320,134218240,134217736,512,0,134348808,134218248,131072,134217728,134349320,8,131592,131584,134217736,134348800,134218248,520,134348800,131592,8,134348808,131584],c=[8396801,8321,8321,128,8396928,8388737,8388609,8193,0,8396800,8396800,8396929,129,0,8388736,8388609,1,8192,8388608,8396801,128,8388608,8193,8320,8388737,1,8320,8388736,8192,8396928,8396929,129,8388736,8388609,8396800,8396929,129,0,0,8396800,8320,8388736,8388737,1,8396801,8321,8321,128,8396929,129,1,8192,8388609,8193,8396928,8388737,8193,8320,8388608,8396801,128,8388608,8192,8396928],o=[256,34078976,34078720,1107296512,524288,256,1073741824,34078720,1074266368,524288,33554688,1074266368,1107296512,1107820544,524544,1073741824,33554432,1074266112,1074266112,0,1073742080,1107820800,1107820800,33554688,1107820544,1073742080,0,1107296256,34078976,33554432,1107296256,524544,524288,1107296512,256,33554432,1073741824,34078720,1107296512,1074266368,33554688,1073741824,1107820544,34078976,1074266368,256,33554432,1107820544,1107820800,524544,1107296256,1107820800,34078720,0,1074266112,1107296256,524544,33554688,1073742080,524288,0,1074266112,34078976,1073742080],u=[536870928,541065216,16384,541081616,541065216,16,541081616,4194304,536887296,4210704,4194304,536870928,4194320,536887296,536870912,16400,0,4194320,536887312,16384,4210688,536887312,16,541065232,541065232,0,4210704,541081600,16400,4210688,541081600,536870912,536887296,16,541065232,4210688,541081616,4194304,16400,536870928,4194304,536887296,536870912,16400,536870928,541081616,4210688,541065216,4210704,541081600,0,541065232,16,16384,541065216,4210704,16384,4194320,536887312,0,541081600,536870912,4194320,536887312],p=[2097152,69206018,67110914,0,2048,67110914,2099202,69208064,69208066,2097152,0,67108866,2,67108864,69206018,2050,67110912,2099202,2097154,67110912,67108866,69206016,69208064,2097154,69206016,2048,2050,69208066,2099200,2,67108864,2099200,67108864,2099200,2097152,67110914,67110914,69206018,69206018,2,2097154,67108864,67110912,2097152,69208064,2050,2099202,69208064,2050,67108866,69208066,69206016,2099200,0,2,69208066,0,2099202,69206016,2048,67108866,67110912,2048,2097154],s=[268439616,4096,262144,268701760,268435456,268439616,64,268435456,262208,268697600,268701760,266240,268701696,266304,4096,64,268697600,268435520,268439552,4160,266240,262208,268697664,268701696,4160,0,0,268697664,268435520,268439552,266304,262144,266304,262144,268701696,4096,64,268697664,4096,266304,268439552,64,268435520,268697600,268697664,268435456,262144,268439616,0,268701760,262208,268435520,268697600,268439552,268439616,0,268701760,266240,266240,4160,4160,262208,268435456,268701696];function a(e){for(var r,t=[0,4,536870912,536870916,65536,65540,536936448,536936452,512,516,536871424,536871428,66048,66052,536936960,536936964],i=[0,1,1048576,1048577,67108864,67108865,68157440,68157441,256,257,1048832,1048833,67109120,67109121,68157696,68157697],n=[0,8,2048,2056,16777216,16777224,16779264,16779272,0,8,2048,2056,16777216,16777224,16779264,16779272],c=[0,2097152,134217728,136314880,8192,2105344,134225920,136323072,131072,2228224,134348800,136445952,139264,2236416,134356992,136454144],o=[0,262144,16,262160,0,262144,16,262160,4096,266240,4112,266256,4096,266240,4112,266256],u=[0,1024,32,1056,0,1024,32,1056,33554432,33555456,33554464,33555488,33554432,33555456,33554464,33555488],p=[0,268435456,524288,268959744,2,268435458,524290,268959746,0,268435456,524288,268959744,2,268435458,524290,268959746],s=[0,65536,2048,67584,536870912,536936448,536872960,536938496,131072,196608,133120,198656,537001984,537067520,537004032,537069568],a=[0,262144,0,262144,2,262146,2,262146,33554432,33816576,33554432,33816576,33554434,33816578,33554434,33816578],d=[0,268435456,8,268435464,0,268435456,8,268435464,1024,268436480,1032,268436488,1024,268436480,1032,268436488],h=[0,32,0,32,1048576,1048608,1048576,1048608,8192,8224,8192,8224,1056768,1056800,1056768,1056800],f=[0,16777216,512,16777728,2097152,18874368,2097664,18874880,67108864,83886080,67109376,83886592,69206016,85983232,69206528,85983744],l=[0,4096,134217728,134221824,524288,528384,134742016,134746112,16,4112,134217744,134221840,524304,528400,134742032,134746128],y=[0,4,256,260,0,4,256,260,1,5,257,261,1,5,257,261],m=e.length()>8?3:1,C=[],E=[0,0,1,1,1,1,1,1,0,1,1,1,1,1,1,0],v=0,B=0;B<m;B++){var D=e.getInt32(),g=e.getInt32();D^=(r=252645135&(D>>>4^g))<<4,D^=r=65535&((g^=r)>>>-16^D),D^=(r=858993459&(D>>>2^(g^=r<<-16)))<<2,D^=r=65535&((g^=r)>>>-16^D),D^=(r=1431655765&(D>>>1^(g^=r<<-16)))<<1,D^=r=16711935&((g^=r)>>>8^D),r=(D^=(r=1431655765&(D>>>1^(g^=r<<8)))<<1)<<8|(g^=r)>>>20&240,D=g<<24|g<<8&16711680|g>>>8&65280|g>>>24&240,g=r;for(var S=0;S<E.length;++S){E[S]?(D=D<<2|D>>>26,g=g<<2|g>>>26):(D=D<<1|D>>>27,g=g<<1|g>>>27);var k=t[(D&=-15)>>>28]|i[D>>>24&15]|n[D>>>20&15]|c[D>>>16&15]|o[D>>>12&15]|u[D>>>8&15]|p[D>>>4&15],b=s[(g&=-15)>>>28]|a[g>>>24&15]|d[g>>>20&15]|h[g>>>16&15]|f[g>>>12&15]|l[g>>>8&15]|y[g>>>4&15];r=65535&(b>>>16^k),C[v++]=k^r,C[v++]=b^r<<16}}return C}function d(e,r,a,d){var h,f,l=32===e.length?3:9;h=3===l?d?[30,-2,-2]:[0,32,2]:d?[94,62,-2,32,64,2,30,-2,-2]:[0,32,2,62,30,-2,64,96,2];var y=r[0],m=r[1];y^=(f=252645135&(y>>>4^m))<<4,y^=(f=65535&(y>>>16^(m^=f)))<<16,y^=f=858993459&((m^=f)>>>2^y),y^=f=16711935&((m^=f<<2)>>>8^y),y=(y^=(f=1431655765&(y>>>1^(m^=f<<8)))<<1)<<1|y>>>31,m=(m^=f)<<1|m>>>31;for(var C=0;C<l;C+=3){for(var E=h[C+1],v=h[C+2],B=h[C];B!=E;B+=v){var D=m^e[B],g=(m>>>4|m<<28)^e[B+1];f=y,y=m,m=f^(i[D>>>24&63]|c[D>>>16&63]|u[D>>>8&63]|s[63&D]|t[g>>>24&63]|n[g>>>16&63]|o[g>>>8&63]|p[63&g])}f=y,y=m,m=f}m=m>>>1|m<<31,m^=f=1431655765&((y=y>>>1|y<<31)>>>1^m),m^=(f=16711935&(m>>>8^(y^=f<<1)))<<8,m^=(f=858993459&(m>>>2^(y^=f)))<<2,m^=f=65535&((y^=f)>>>16^m),m^=f=252645135&((y^=f<<16)>>>4^m),y^=f<<4,a[0]=y,a[1]=m}function h(r){var t,i="DES-"+((r=r||{}).mode||"CBC").toUpperCase(),n=(t=r.decrypt?e.cipher.createDecipher(i,r.key):e.cipher.createCipher(i,r.key)).start;return t.start=function(r,i){var c=null;i instanceof e.util.ByteBuffer&&(c=i,i={}),(i=i||{}).output=c,i.iv=r,n.call(t,i)},t}
},{"./forge":"o20S","./cipher":"UdiU","./cipherModes":"PpVb","./util":"lWyh"}],"Z3HL":[function(require,module,exports) {
var e=require("./forge");require("./asn1"),require("./util");var t=e.asn1,a=module.exports=e.pkcs7asn1=e.pkcs7asn1||{};e.pkcs7=e.pkcs7||{},e.pkcs7.asn1=a;var s={name:"ContentInfo",tagClass:t.Class.UNIVERSAL,type:t.Type.SEQUENCE,constructed:!0,value:[{name:"ContentInfo.ContentType",tagClass:t.Class.UNIVERSAL,type:t.Type.OID,constructed:!1,capture:"contentType"},{name:"ContentInfo.content",tagClass:t.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,captureAsn1:"content"}]};a.contentInfoValidator=s;var n={name:"EncryptedContentInfo",tagClass:t.Class.UNIVERSAL,type:t.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedContentInfo.contentType",tagClass:t.Class.UNIVERSAL,type:t.Type.OID,constructed:!1,capture:"contentType"},{name:"EncryptedContentInfo.contentEncryptionAlgorithm",tagClass:t.Class.UNIVERSAL,type:t.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedContentInfo.contentEncryptionAlgorithm.algorithm",tagClass:t.Class.UNIVERSAL,type:t.Type.OID,constructed:!1,capture:"encAlgorithm"},{name:"EncryptedContentInfo.contentEncryptionAlgorithm.parameter",tagClass:t.Class.UNIVERSAL,captureAsn1:"encParameter"}]},{name:"EncryptedContentInfo.encryptedContent",tagClass:t.Class.CONTEXT_SPECIFIC,type:0,capture:"encryptedContent",captureAsn1:"encryptedContentAsn1"}]};a.envelopedDataValidator={name:"EnvelopedData",tagClass:t.Class.UNIVERSAL,type:t.Type.SEQUENCE,constructed:!0,value:[{name:"EnvelopedData.Version",tagClass:t.Class.UNIVERSAL,type:t.Type.INTEGER,constructed:!1,capture:"version"},{name:"EnvelopedData.RecipientInfos",tagClass:t.Class.UNIVERSAL,type:t.Type.SET,constructed:!0,captureAsn1:"recipientInfos"}].concat(n)},a.encryptedDataValidator={name:"EncryptedData",tagClass:t.Class.UNIVERSAL,type:t.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedData.Version",tagClass:t.Class.UNIVERSAL,type:t.Type.INTEGER,constructed:!1,capture:"version"}].concat(n)};var r={name:"SignerInfo",tagClass:t.Class.UNIVERSAL,type:t.Type.SEQUENCE,constructed:!0,value:[{name:"SignerInfo.version",tagClass:t.Class.UNIVERSAL,type:t.Type.INTEGER,constructed:!1},{name:"SignerInfo.issuerAndSerialNumber",tagClass:t.Class.UNIVERSAL,type:t.Type.SEQUENCE,constructed:!0,value:[{name:"SignerInfo.issuerAndSerialNumber.issuer",tagClass:t.Class.UNIVERSAL,type:t.Type.SEQUENCE,constructed:!0,captureAsn1:"issuer"},{name:"SignerInfo.issuerAndSerialNumber.serialNumber",tagClass:t.Class.UNIVERSAL,type:t.Type.INTEGER,constructed:!1,capture:"serial"}]},{name:"SignerInfo.digestAlgorithm",tagClass:t.Class.UNIVERSAL,type:t.Type.SEQUENCE,constructed:!0,value:[{name:"SignerInfo.digestAlgorithm.algorithm",tagClass:t.Class.UNIVERSAL,type:t.Type.OID,constructed:!1,capture:"digestAlgorithm"},{name:"SignerInfo.digestAlgorithm.parameter",tagClass:t.Class.UNIVERSAL,constructed:!1,captureAsn1:"digestParameter",optional:!0}]},{name:"SignerInfo.authenticatedAttributes",tagClass:t.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,capture:"authenticatedAttributes"},{name:"SignerInfo.digestEncryptionAlgorithm",tagClass:t.Class.UNIVERSAL,type:t.Type.SEQUENCE,constructed:!0,capture:"signatureAlgorithm"},{name:"SignerInfo.encryptedDigest",tagClass:t.Class.UNIVERSAL,type:t.Type.OCTETSTRING,constructed:!1,capture:"signature"},{name:"SignerInfo.unauthenticatedAttributes",tagClass:t.Class.CONTEXT_SPECIFIC,type:1,constructed:!0,optional:!0,capture:"unauthenticatedAttributes"}]};a.signedDataValidator={name:"SignedData",tagClass:t.Class.UNIVERSAL,type:t.Type.SEQUENCE,constructed:!0,value:[{name:"SignedData.Version",tagClass:t.Class.UNIVERSAL,type:t.Type.INTEGER,constructed:!1,capture:"version"},{name:"SignedData.DigestAlgorithms",tagClass:t.Class.UNIVERSAL,type:t.Type.SET,constructed:!0,captureAsn1:"digestAlgorithms"},s,{name:"SignedData.Certificates",tagClass:t.Class.CONTEXT_SPECIFIC,type:0,optional:!0,captureAsn1:"certificates"},{name:"SignedData.CertificateRevocationLists",tagClass:t.Class.CONTEXT_SPECIFIC,type:1,optional:!0,captureAsn1:"crls"},{name:"SignedData.SignerInfos",tagClass:t.Class.UNIVERSAL,type:t.Type.SET,capture:"signerInfos",optional:!0,value:[r]}]},a.recipientInfoValidator={name:"RecipientInfo",tagClass:t.Class.UNIVERSAL,type:t.Type.SEQUENCE,constructed:!0,value:[{name:"RecipientInfo.version",tagClass:t.Class.UNIVERSAL,type:t.Type.INTEGER,constructed:!1,capture:"version"},{name:"RecipientInfo.issuerAndSerial",tagClass:t.Class.UNIVERSAL,type:t.Type.SEQUENCE,constructed:!0,value:[{name:"RecipientInfo.issuerAndSerial.issuer",tagClass:t.Class.UNIVERSAL,type:t.Type.SEQUENCE,constructed:!0,captureAsn1:"issuer"},{name:"RecipientInfo.issuerAndSerial.serialNumber",tagClass:t.Class.UNIVERSAL,type:t.Type.INTEGER,constructed:!1,capture:"serial"}]},{name:"RecipientInfo.keyEncryptionAlgorithm",tagClass:t.Class.UNIVERSAL,type:t.Type.SEQUENCE,constructed:!0,value:[{name:"RecipientInfo.keyEncryptionAlgorithm.algorithm",tagClass:t.Class.UNIVERSAL,type:t.Type.OID,constructed:!1,capture:"encAlgorithm"},{name:"RecipientInfo.keyEncryptionAlgorithm.parameter",tagClass:t.Class.UNIVERSAL,constructed:!1,captureAsn1:"encParameter"}]},{name:"RecipientInfo.encryptedKey",tagClass:t.Class.UNIVERSAL,type:t.Type.OCTETSTRING,constructed:!1,capture:"encKey"}]};
},{"./forge":"o20S","./asn1":"BA5j","./util":"lWyh"}],"j9lk":[function(require,module,exports) {
var e=require("./forge");require("./mgf1"),module.exports=e.mgf=e.mgf||{},e.mgf.mgf1=e.mgf1;
},{"./forge":"o20S","./mgf1":"ObGv"}],"cVuL":[function(require,module,exports) {
var t=require("./forge");require("./random"),require("./util");var e=module.exports=t.pss=t.pss||{};e.create=function(e){3===arguments.length&&(e={md:arguments[0],mgf:arguments[1],saltLength:arguments[2]});var r,o=e.md,n=e.mgf,s=o.digestLength,a=e.salt||null;if("string"==typeof a&&(a=t.util.createBuffer(a)),"saltLength"in e)r=e.saltLength;else{if(null===a)throw new Error("Salt length not specified or specific salt not given.");r=a.length()}if(null!==a&&a.length()!==r)throw new Error("Given salt length does not match length of given salt.");var i=e.prng||t.random,f={encode:function(e,f){var g,u,h=f-1,l=Math.ceil(h/8),d=e.digest().getBytes();if(l<s+r+2)throw new Error("Message is too long to encrypt.");u=null===a?i.getBytesSync(r):a.bytes();var c=new t.util.ByteBuffer;c.fillWithByte(0,8),c.putBytes(d),c.putBytes(u),o.start(),o.update(c.getBytes());var y=o.digest().getBytes(),B=new t.util.ByteBuffer;B.fillWithByte(0,l-r-s-2),B.putByte(1),B.putBytes(u);var C=B.getBytes(),p=l-s-1,v=n.generate(y,p),w="";for(g=0;g<p;g++)w+=String.fromCharCode(C.charCodeAt(g)^v.charCodeAt(g));var m=65280>>8*l-h&255;return(w=String.fromCharCode(w.charCodeAt(0)&~m)+w.substr(1))+y+String.fromCharCode(188)},verify:function(e,a,i){var f,g=i-1,u=Math.ceil(g/8);if(a=a.substr(-u),u<s+r+2)throw new Error("Inconsistent parameters to PSS signature verification.");if(188!==a.charCodeAt(u-1))throw new Error("Encoded message does not end in 0xBC.");var h=u-s-1,l=a.substr(0,h),d=a.substr(h,s),c=65280>>8*u-g&255;if(0!=(l.charCodeAt(0)&c))throw new Error("Bits beyond keysize not zero as expected.");var y=n.generate(d,h),B="";for(f=0;f<h;f++)B+=String.fromCharCode(l.charCodeAt(f)^y.charCodeAt(f));B=String.fromCharCode(B.charCodeAt(0)&~c)+B.substr(1);var C=u-s-r-2;for(f=0;f<C;f++)if(0!==B.charCodeAt(f))throw new Error("Leftmost octets not zero as expected");if(1!==B.charCodeAt(C))throw new Error("Inconsistent PSS signature, 0x01 marker not found");var p=B.substr(-r),v=new t.util.ByteBuffer;return v.fillWithByte(0,8),v.putBytes(e),v.putBytes(p),o.start(),o.update(v.getBytes()),d===o.digest().getBytes()}};return f};
},{"./forge":"o20S","./random":"Gfwb","./util":"lWyh"}],"tFuv":[function(require,module,exports) {
var t,i=require("./forge");module.exports=i.jsbn=i.jsbn||{};var o=0xdeadbeefcafe,r=15715070==(16777215&o);function s(t,i,o){this.data=[],null!=t&&("number"==typeof t?this.fromNumber(t,i,o):null==i&&"string"!=typeof t?this.fromString(t,256):this.fromString(t,i))}function a(){return new s(null)}function h(t,i,o,r,s,a){for(;--a>=0;){var h=i*this.data[t++]+o.data[r]+s;s=Math.floor(h/67108864),o.data[r++]=67108863&h}return s}function e(t,i,o,r,s,a){for(var h=32767&i,e=i>>15;--a>=0;){var n=32767&this.data[t],u=this.data[t++]>>15,f=e*n+u*h;s=((n=h*n+((32767&f)<<15)+o.data[r]+(1073741823&s))>>>30)+(f>>>15)+e*u+(s>>>30),o.data[r++]=1073741823&n}return s}function n(t,i,o,r,s,a){for(var h=16383&i,e=i>>14;--a>=0;){var n=16383&this.data[t],u=this.data[t++]>>14,f=e*n+u*h;s=((n=h*n+((16383&f)<<14)+o.data[r]+s)>>28)+(f>>14)+e*u,o.data[r++]=268435455&n}return s}i.jsbn.BigInteger=s,"undefined"==typeof navigator?(s.prototype.am=n,t=28):r&&"Microsoft Internet Explorer"==navigator.appName?(s.prototype.am=e,t=30):r&&"Netscape"!=navigator.appName?(s.prototype.am=h,t=26):(s.prototype.am=n,t=28),s.prototype.DB=t,s.prototype.DM=(1<<t)-1,s.prototype.DV=1<<t;var u=52;s.prototype.FV=Math.pow(2,u),s.prototype.F1=u-t,s.prototype.F2=2*t-u;var f,p,d="0123456789abcdefghijklmnopqrstuvwxyz",c=new Array;for(f="0".charCodeAt(0),p=0;p<=9;++p)c[f++]=p;for(f="a".charCodeAt(0),p=10;p<36;++p)c[f++]=p;for(f="A".charCodeAt(0),p=10;p<36;++p)c[f++]=p;function m(t){return d.charAt(t)}function l(t,i){var o=c[t.charCodeAt(i)];return null==o?-1:o}function T(t){for(var i=this.t-1;i>=0;--i)t.data[i]=this.data[i];t.t=this.t,t.s=this.s}function v(t){this.t=1,this.s=t<0?-1:0,t>0?this.data[0]=t:t<-1?this.data[0]=t+this.DV:this.t=0}function y(t){var i=a();return i.fromInt(t),i}function D(t,i){var o;if(16==i)o=4;else if(8==i)o=3;else if(256==i)o=8;else if(2==i)o=1;else if(32==i)o=5;else{if(4!=i)return void this.fromRadix(t,i);o=2}this.t=0,this.s=0;for(var r=t.length,a=!1,h=0;--r>=0;){var e=8==o?255&t[r]:l(t,r);e<0?"-"==t.charAt(r)&&(a=!0):(a=!1,0==h?this.data[this.t++]=e:h+o>this.DB?(this.data[this.t-1]|=(e&(1<<this.DB-h)-1)<<h,this.data[this.t++]=e>>this.DB-h):this.data[this.t-1]|=e<<h,(h+=o)>=this.DB&&(h-=this.DB))}8==o&&0!=(128&t[0])&&(this.s=-1,h>0&&(this.data[this.t-1]|=(1<<this.DB-h)-1<<h)),this.clamp(),a&&s.ZERO.subTo(this,this)}function b(){for(var t=this.s&this.DM;this.t>0&&this.data[this.t-1]==t;)--this.t}function B(t){if(this.s<0)return"-"+this.negate().toString(t);var i;if(16==t)i=4;else if(8==t)i=3;else if(2==t)i=1;else if(32==t)i=5;else{if(4!=t)return this.toRadix(t);i=2}var o,r=(1<<i)-1,s=!1,a="",h=this.t,e=this.DB-h*this.DB%i;if(h-- >0)for(e<this.DB&&(o=this.data[h]>>e)>0&&(s=!0,a=m(o));h>=0;)e<i?(o=(this.data[h]&(1<<e)-1)<<i-e,o|=this.data[--h]>>(e+=this.DB-i)):(o=this.data[h]>>(e-=i)&r,e<=0&&(e+=this.DB,--h)),o>0&&(s=!0),s&&(a+=m(o));return s?a:"0"}function g(){var t=a();return s.ZERO.subTo(this,t),t}function S(){return this.s<0?this.negate():this}function M(t){var i=this.s-t.s;if(0!=i)return i;var o=this.t;if(0!=(i=o-t.t))return this.s<0?-i:i;for(;--o>=0;)if(0!=(i=this.data[o]-t.data[o]))return i;return 0}function w(t){var i,o=1;return 0!=(i=t>>>16)&&(t=i,o+=16),0!=(i=t>>8)&&(t=i,o+=8),0!=(i=t>>4)&&(t=i,o+=4),0!=(i=t>>2)&&(t=i,o+=2),0!=(i=t>>1)&&(t=i,o+=1),o}function E(){return this.t<=0?0:this.DB*(this.t-1)+w(this.data[this.t-1]^this.s&this.DM)}function O(t,i){var o;for(o=this.t-1;o>=0;--o)i.data[o+t]=this.data[o];for(o=t-1;o>=0;--o)i.data[o]=0;i.t=this.t+t,i.s=this.s}function R(t,i){for(var o=t;o<this.t;++o)i.data[o-t]=this.data[o];i.t=Math.max(this.t-t,0),i.s=this.s}function V(t,i){var o,r=t%this.DB,s=this.DB-r,a=(1<<s)-1,h=Math.floor(t/this.DB),e=this.s<<r&this.DM;for(o=this.t-1;o>=0;--o)i.data[o+h+1]=this.data[o]>>s|e,e=(this.data[o]&a)<<r;for(o=h-1;o>=0;--o)i.data[o]=0;i.data[h]=e,i.t=this.t+h+1,i.s=this.s,i.clamp()}function q(t,i){i.s=this.s;var o=Math.floor(t/this.DB);if(o>=this.t)i.t=0;else{var r=t%this.DB,s=this.DB-r,a=(1<<r)-1;i.data[0]=this.data[o]>>r;for(var h=o+1;h<this.t;++h)i.data[h-o-1]|=(this.data[h]&a)<<s,i.data[h-o]=this.data[h]>>r;r>0&&(i.data[this.t-o-1]|=(this.s&a)<<s),i.t=this.t-o,i.clamp()}}function A(t,i){for(var o=0,r=0,s=Math.min(t.t,this.t);o<s;)r+=this.data[o]-t.data[o],i.data[o++]=r&this.DM,r>>=this.DB;if(t.t<this.t){for(r-=t.s;o<this.t;)r+=this.data[o],i.data[o++]=r&this.DM,r>>=this.DB;r+=this.s}else{for(r+=this.s;o<t.t;)r-=t.data[o],i.data[o++]=r&this.DM,r>>=this.DB;r-=t.s}i.s=r<0?-1:0,r<-1?i.data[o++]=this.DV+r:r>0&&(i.data[o++]=r),i.t=o,i.clamp()}function N(t,i){var o=this.abs(),r=t.abs(),a=o.t;for(i.t=a+r.t;--a>=0;)i.data[a]=0;for(a=0;a<r.t;++a)i.data[a+o.t]=o.am(0,r.data[a],i,a,0,o.t);i.s=0,i.clamp(),this.s!=t.s&&s.ZERO.subTo(i,i)}function x(t){for(var i=this.abs(),o=t.t=2*i.t;--o>=0;)t.data[o]=0;for(o=0;o<i.t-1;++o){var r=i.am(o,i.data[o],t,2*o,0,1);(t.data[o+i.t]+=i.am(o+1,2*i.data[o],t,2*o+1,r,i.t-o-1))>=i.DV&&(t.data[o+i.t]-=i.DV,t.data[o+i.t+1]=1)}t.t>0&&(t.data[t.t-1]+=i.am(o,i.data[o],t,2*o,0,1)),t.s=0,t.clamp()}function L(t,i,o){var r=t.abs();if(!(r.t<=0)){var h=this.abs();if(h.t<r.t)return null!=i&&i.fromInt(0),void(null!=o&&this.copyTo(o));null==o&&(o=a());var e=a(),n=this.s,u=t.s,f=this.DB-w(r.data[r.t-1]);f>0?(r.lShiftTo(f,e),h.lShiftTo(f,o)):(r.copyTo(e),h.copyTo(o));var p=e.t,d=e.data[p-1];if(0!=d){var c=d*(1<<this.F1)+(p>1?e.data[p-2]>>this.F2:0),m=this.FV/c,l=(1<<this.F1)/c,T=1<<this.F2,v=o.t,y=v-p,D=null==i?a():i;for(e.dlShiftTo(y,D),o.compareTo(D)>=0&&(o.data[o.t++]=1,o.subTo(D,o)),s.ONE.dlShiftTo(p,D),D.subTo(e,e);e.t<p;)e.data[e.t++]=0;for(;--y>=0;){var b=o.data[--v]==d?this.DM:Math.floor(o.data[v]*m+(o.data[v-1]+T)*l);if((o.data[v]+=e.am(0,b,o,y,0,p))<b)for(e.dlShiftTo(y,D),o.subTo(D,o);o.data[v]<--b;)o.subTo(D,o)}null!=i&&(o.drShiftTo(p,i),n!=u&&s.ZERO.subTo(i,i)),o.t=p,o.clamp(),f>0&&o.rShiftTo(f,o),n<0&&s.ZERO.subTo(o,o)}}}function I(t){var i=a();return this.abs().divRemTo(t,null,i),this.s<0&&i.compareTo(s.ZERO)>0&&t.subTo(i,i),i}function Z(t){this.m=t}function F(t){return t.s<0||t.compareTo(this.m)>=0?t.mod(this.m):t}function P(t){return t}function C(t){t.divRemTo(this.m,null,t)}function j(t,i,o){t.multiplyTo(i,o),this.reduce(o)}function k(t,i){t.squareTo(i),this.reduce(i)}function z(){if(this.t<1)return 0;var t=this.data[0];if(0==(1&t))return 0;var i=3&t;return(i=(i=(i=(i=i*(2-(15&t)*i)&15)*(2-(255&t)*i)&255)*(2-((65535&t)*i&65535))&65535)*(2-t*i%this.DV)%this.DV)>0?this.DV-i:-i}function U(t){this.m=t,this.mp=t.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<t.DB-15)-1,this.mt2=2*t.t}function G(t){var i=a();return t.abs().dlShiftTo(this.m.t,i),i.divRemTo(this.m,null,i),t.s<0&&i.compareTo(s.ZERO)>0&&this.m.subTo(i,i),i}function H(t){var i=a();return t.copyTo(i),this.reduce(i),i}function J(t){for(;t.t<=this.mt2;)t.data[t.t++]=0;for(var i=0;i<this.m.t;++i){var o=32767&t.data[i],r=o*this.mpl+((o*this.mph+(t.data[i]>>15)*this.mpl&this.um)<<15)&t.DM;for(o=i+this.m.t,t.data[o]+=this.m.am(0,r,t,i,0,this.m.t);t.data[o]>=t.DV;)t.data[o]-=t.DV,t.data[++o]++}t.clamp(),t.drShiftTo(this.m.t,t),t.compareTo(this.m)>=0&&t.subTo(this.m,t)}function K(t,i){t.squareTo(i),this.reduce(i)}function Q(t,i,o){t.multiplyTo(i,o),this.reduce(o)}function W(){return 0==(this.t>0?1&this.data[0]:this.s)}function X(t,i){if(t>4294967295||t<1)return s.ONE;var o=a(),r=a(),h=i.convert(this),e=w(t)-1;for(h.copyTo(o);--e>=0;)if(i.sqrTo(o,r),(t&1<<e)>0)i.mulTo(r,h,o);else{var n=o;o=r,r=n}return i.revert(o)}function Y(t,i){var o;return o=t<256||i.isEven()?new Z(i):new U(i),this.exp(t,o)}function $(){var t=a();return this.copyTo(t),t}function _(){if(this.s<0){if(1==this.t)return this.data[0]-this.DV;if(0==this.t)return-1}else{if(1==this.t)return this.data[0];if(0==this.t)return 0}return(this.data[1]&(1<<32-this.DB)-1)<<this.DB|this.data[0]}function tt(){return 0==this.t?this.s:this.data[0]<<24>>24}function it(){return 0==this.t?this.s:this.data[0]<<16>>16}function ot(t){return Math.floor(Math.LN2*this.DB/Math.log(t))}function rt(){return this.s<0?-1:this.t<=0||1==this.t&&this.data[0]<=0?0:1}function st(t){if(null==t&&(t=10),0==this.signum()||t<2||t>36)return"0";var i=this.chunkSize(t),o=Math.pow(t,i),r=y(o),s=a(),h=a(),e="";for(this.divRemTo(r,s,h);s.signum()>0;)e=(o+h.intValue()).toString(t).substr(1)+e,s.divRemTo(r,s,h);return h.intValue().toString(t)+e}function at(t,i){this.fromInt(0),null==i&&(i=10);for(var o=this.chunkSize(i),r=Math.pow(i,o),a=!1,h=0,e=0,n=0;n<t.length;++n){var u=l(t,n);u<0?"-"==t.charAt(n)&&0==this.signum()&&(a=!0):(e=i*e+u,++h>=o&&(this.dMultiply(r),this.dAddOffset(e,0),h=0,e=0))}h>0&&(this.dMultiply(Math.pow(i,h)),this.dAddOffset(e,0)),a&&s.ZERO.subTo(this,this)}function ht(t,i,o){if("number"==typeof i)if(t<2)this.fromInt(1);else for(this.fromNumber(t,o),this.testBit(t-1)||this.bitwiseTo(s.ONE.shiftLeft(t-1),mt,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(i);)this.dAddOffset(2,0),this.bitLength()>t&&this.subTo(s.ONE.shiftLeft(t-1),this);else{var r=new Array,a=7&t;r.length=1+(t>>3),i.nextBytes(r),a>0?r[0]&=(1<<a)-1:r[0]=0,this.fromString(r,256)}}function et(){var t=this.t,i=new Array;i[0]=this.s;var o,r=this.DB-t*this.DB%8,s=0;if(t-- >0)for(r<this.DB&&(o=this.data[t]>>r)!=(this.s&this.DM)>>r&&(i[s++]=o|this.s<<this.DB-r);t>=0;)r<8?(o=(this.data[t]&(1<<r)-1)<<8-r,o|=this.data[--t]>>(r+=this.DB-8)):(o=this.data[t]>>(r-=8)&255,r<=0&&(r+=this.DB,--t)),0!=(128&o)&&(o|=-256),0==s&&(128&this.s)!=(128&o)&&++s,(s>0||o!=this.s)&&(i[s++]=o);return i}function nt(t){return 0==this.compareTo(t)}function ut(t){return this.compareTo(t)<0?this:t}function ft(t){return this.compareTo(t)>0?this:t}function pt(t,i,o){var r,s,a=Math.min(t.t,this.t);for(r=0;r<a;++r)o.data[r]=i(this.data[r],t.data[r]);if(t.t<this.t){for(s=t.s&this.DM,r=a;r<this.t;++r)o.data[r]=i(this.data[r],s);o.t=this.t}else{for(s=this.s&this.DM,r=a;r<t.t;++r)o.data[r]=i(s,t.data[r]);o.t=t.t}o.s=i(this.s,t.s),o.clamp()}function dt(t,i){return t&i}function ct(t){var i=a();return this.bitwiseTo(t,dt,i),i}function mt(t,i){return t|i}function lt(t){var i=a();return this.bitwiseTo(t,mt,i),i}function Tt(t,i){return t^i}function vt(t){var i=a();return this.bitwiseTo(t,Tt,i),i}function yt(t,i){return t&~i}function Dt(t){var i=a();return this.bitwiseTo(t,yt,i),i}function bt(){for(var t=a(),i=0;i<this.t;++i)t.data[i]=this.DM&~this.data[i];return t.t=this.t,t.s=~this.s,t}function Bt(t){var i=a();return t<0?this.rShiftTo(-t,i):this.lShiftTo(t,i),i}function gt(t){var i=a();return t<0?this.lShiftTo(-t,i):this.rShiftTo(t,i),i}function St(t){if(0==t)return-1;var i=0;return 0==(65535&t)&&(t>>=16,i+=16),0==(255&t)&&(t>>=8,i+=8),0==(15&t)&&(t>>=4,i+=4),0==(3&t)&&(t>>=2,i+=2),0==(1&t)&&++i,i}function Mt(){for(var t=0;t<this.t;++t)if(0!=this.data[t])return t*this.DB+St(this.data[t]);return this.s<0?this.t*this.DB:-1}function wt(t){for(var i=0;0!=t;)t&=t-1,++i;return i}function Et(){for(var t=0,i=this.s&this.DM,o=0;o<this.t;++o)t+=wt(this.data[o]^i);return t}function Ot(t){var i=Math.floor(t/this.DB);return i>=this.t?0!=this.s:0!=(this.data[i]&1<<t%this.DB)}function Rt(t,i){var o=s.ONE.shiftLeft(t);return this.bitwiseTo(o,i,o),o}function Vt(t){return this.changeBit(t,mt)}function qt(t){return this.changeBit(t,yt)}function At(t){return this.changeBit(t,Tt)}function Nt(t,i){for(var o=0,r=0,s=Math.min(t.t,this.t);o<s;)r+=this.data[o]+t.data[o],i.data[o++]=r&this.DM,r>>=this.DB;if(t.t<this.t){for(r+=t.s;o<this.t;)r+=this.data[o],i.data[o++]=r&this.DM,r>>=this.DB;r+=this.s}else{for(r+=this.s;o<t.t;)r+=t.data[o],i.data[o++]=r&this.DM,r>>=this.DB;r+=t.s}i.s=r<0?-1:0,r>0?i.data[o++]=r:r<-1&&(i.data[o++]=this.DV+r),i.t=o,i.clamp()}function xt(t){var i=a();return this.addTo(t,i),i}function Lt(t){var i=a();return this.subTo(t,i),i}function It(t){var i=a();return this.multiplyTo(t,i),i}function Zt(t){var i=a();return this.divRemTo(t,i,null),i}function Ft(t){var i=a();return this.divRemTo(t,null,i),i}function Pt(t){var i=a(),o=a();return this.divRemTo(t,i,o),new Array(i,o)}function Ct(t){this.data[this.t]=this.am(0,t-1,this,0,0,this.t),++this.t,this.clamp()}function jt(t,i){if(0!=t){for(;this.t<=i;)this.data[this.t++]=0;for(this.data[i]+=t;this.data[i]>=this.DV;)this.data[i]-=this.DV,++i>=this.t&&(this.data[this.t++]=0),++this.data[i]}}function kt(){}function zt(t){return t}function Ut(t,i,o){t.multiplyTo(i,o)}function Gt(t,i){t.squareTo(i)}function Ht(t){return this.exp(t,new kt)}function Jt(t,i,o){var r,s=Math.min(this.t+t.t,i);for(o.s=0,o.t=s;s>0;)o.data[--s]=0;for(r=o.t-this.t;s<r;++s)o.data[s+this.t]=this.am(0,t.data[s],o,s,0,this.t);for(r=Math.min(t.t,i);s<r;++s)this.am(0,t.data[s],o,s,0,i-s);o.clamp()}function Kt(t,i,o){--i;var r=o.t=this.t+t.t-i;for(o.s=0;--r>=0;)o.data[r]=0;for(r=Math.max(i-this.t,0);r<t.t;++r)o.data[this.t+r-i]=this.am(i-r,t.data[r],o,0,0,this.t+r-i);o.clamp(),o.drShiftTo(1,o)}function Qt(t){this.r2=a(),this.q3=a(),s.ONE.dlShiftTo(2*t.t,this.r2),this.mu=this.r2.divide(t),this.m=t}function Wt(t){if(t.s<0||t.t>2*this.m.t)return t.mod(this.m);if(t.compareTo(this.m)<0)return t;var i=a();return t.copyTo(i),this.reduce(i),i}function Xt(t){return t}function Yt(t){for(t.drShiftTo(this.m.t-1,this.r2),t.t>this.m.t+1&&(t.t=this.m.t+1,t.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);t.compareTo(this.r2)<0;)t.dAddOffset(1,this.m.t+1);for(t.subTo(this.r2,t);t.compareTo(this.m)>=0;)t.subTo(this.m,t)}function $t(t,i){t.squareTo(i),this.reduce(i)}function _t(t,i,o){t.multiplyTo(i,o),this.reduce(o)}function ti(t,i){var o,r,s=t.bitLength(),h=y(1);if(s<=0)return h;o=s<18?1:s<48?3:s<144?4:s<768?5:6,r=s<8?new Z(i):i.isEven()?new Qt(i):new U(i);var e=new Array,n=3,u=o-1,f=(1<<o)-1;if(e[1]=r.convert(this),o>1){var p=a();for(r.sqrTo(e[1],p);n<=f;)e[n]=a(),r.mulTo(p,e[n-2],e[n]),n+=2}var d,c,m=t.t-1,l=!0,T=a();for(s=w(t.data[m])-1;m>=0;){for(s>=u?d=t.data[m]>>s-u&f:(d=(t.data[m]&(1<<s+1)-1)<<u-s,m>0&&(d|=t.data[m-1]>>this.DB+s-u)),n=o;0==(1&d);)d>>=1,--n;if((s-=n)<0&&(s+=this.DB,--m),l)e[d].copyTo(h),l=!1;else{for(;n>1;)r.sqrTo(h,T),r.sqrTo(T,h),n-=2;n>0?r.sqrTo(h,T):(c=h,h=T,T=c),r.mulTo(T,e[d],h)}for(;m>=0&&0==(t.data[m]&1<<s);)r.sqrTo(h,T),c=h,h=T,T=c,--s<0&&(s=this.DB-1,--m)}return r.revert(h)}function ii(t){var i=this.s<0?this.negate():this.clone(),o=t.s<0?t.negate():t.clone();if(i.compareTo(o)<0){var r=i;i=o,o=r}var s=i.getLowestSetBit(),a=o.getLowestSetBit();if(a<0)return i;for(s<a&&(a=s),a>0&&(i.rShiftTo(a,i),o.rShiftTo(a,o));i.signum()>0;)(s=i.getLowestSetBit())>0&&i.rShiftTo(s,i),(s=o.getLowestSetBit())>0&&o.rShiftTo(s,o),i.compareTo(o)>=0?(i.subTo(o,i),i.rShiftTo(1,i)):(o.subTo(i,o),o.rShiftTo(1,o));return a>0&&o.lShiftTo(a,o),o}function oi(t){if(t<=0)return 0;var i=this.DV%t,o=this.s<0?t-1:0;if(this.t>0)if(0==i)o=this.data[0]%t;else for(var r=this.t-1;r>=0;--r)o=(i*o+this.data[r])%t;return o}function ri(t){var i=t.isEven();if(this.isEven()&&i||0==t.signum())return s.ZERO;for(var o=t.clone(),r=this.clone(),a=y(1),h=y(0),e=y(0),n=y(1);0!=o.signum();){for(;o.isEven();)o.rShiftTo(1,o),i?(a.isEven()&&h.isEven()||(a.addTo(this,a),h.subTo(t,h)),a.rShiftTo(1,a)):h.isEven()||h.subTo(t,h),h.rShiftTo(1,h);for(;r.isEven();)r.rShiftTo(1,r),i?(e.isEven()&&n.isEven()||(e.addTo(this,e),n.subTo(t,n)),e.rShiftTo(1,e)):n.isEven()||n.subTo(t,n),n.rShiftTo(1,n);o.compareTo(r)>=0?(o.subTo(r,o),i&&a.subTo(e,a),h.subTo(n,h)):(r.subTo(o,r),i&&e.subTo(a,e),n.subTo(h,n))}return 0!=r.compareTo(s.ONE)?s.ZERO:n.compareTo(t)>=0?n.subtract(t):n.signum()<0?(n.addTo(t,n),n.signum()<0?n.add(t):n):n}Z.prototype.convert=F,Z.prototype.revert=P,Z.prototype.reduce=C,Z.prototype.mulTo=j,Z.prototype.sqrTo=k,U.prototype.convert=G,U.prototype.revert=H,U.prototype.reduce=J,U.prototype.mulTo=Q,U.prototype.sqrTo=K,s.prototype.copyTo=T,s.prototype.fromInt=v,s.prototype.fromString=D,s.prototype.clamp=b,s.prototype.dlShiftTo=O,s.prototype.drShiftTo=R,s.prototype.lShiftTo=V,s.prototype.rShiftTo=q,s.prototype.subTo=A,s.prototype.multiplyTo=N,s.prototype.squareTo=x,s.prototype.divRemTo=L,s.prototype.invDigit=z,s.prototype.isEven=W,s.prototype.exp=X,s.prototype.toString=B,s.prototype.negate=g,s.prototype.abs=S,s.prototype.compareTo=M,s.prototype.bitLength=E,s.prototype.mod=I,s.prototype.modPowInt=Y,s.ZERO=y(0),s.ONE=y(1),kt.prototype.convert=zt,kt.prototype.revert=zt,kt.prototype.mulTo=Ut,kt.prototype.sqrTo=Gt,Qt.prototype.convert=Wt,Qt.prototype.revert=Xt,Qt.prototype.reduce=Yt,Qt.prototype.mulTo=_t,Qt.prototype.sqrTo=$t;var si=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509],ai=(1<<26)/si[si.length-1];function hi(t){var i,o=this.abs();if(1==o.t&&o.data[0]<=si[si.length-1]){for(i=0;i<si.length;++i)if(o.data[0]==si[i])return!0;return!1}if(o.isEven())return!1;for(i=1;i<si.length;){for(var r=si[i],s=i+1;s<si.length&&r<ai;)r*=si[s++];for(r=o.modInt(r);i<s;)if(r%si[i++]==0)return!1}return o.millerRabin(t)}function ei(t){var i=this.subtract(s.ONE),o=i.getLowestSetBit();if(o<=0)return!1;for(var r,a=i.shiftRight(o),h=ni(),e=0;e<t;++e){do{r=new s(this.bitLength(),h)}while(r.compareTo(s.ONE)<=0||r.compareTo(i)>=0);var n=r.modPow(a,this);if(0!=n.compareTo(s.ONE)&&0!=n.compareTo(i)){for(var u=1;u++<o&&0!=n.compareTo(i);)if(0==(n=n.modPowInt(2,this)).compareTo(s.ONE))return!1;if(0!=n.compareTo(i))return!1}}return!0}function ni(){return{nextBytes:function(t){for(var i=0;i<t.length;++i)t[i]=Math.floor(256*Math.random())}}}s.prototype.chunkSize=ot,s.prototype.toRadix=st,s.prototype.fromRadix=at,s.prototype.fromNumber=ht,s.prototype.bitwiseTo=pt,s.prototype.changeBit=Rt,s.prototype.addTo=Nt,s.prototype.dMultiply=Ct,s.prototype.dAddOffset=jt,s.prototype.multiplyLowerTo=Jt,s.prototype.multiplyUpperTo=Kt,s.prototype.modInt=oi,s.prototype.millerRabin=ei,s.prototype.clone=$,s.prototype.intValue=_,s.prototype.byteValue=tt,s.prototype.shortValue=it,s.prototype.signum=rt,s.prototype.toByteArray=et,s.prototype.equals=nt,s.prototype.min=ut,s.prototype.max=ft,s.prototype.and=ct,s.prototype.or=lt,s.prototype.xor=vt,s.prototype.andNot=Dt,s.prototype.not=bt,s.prototype.shiftLeft=Bt,s.prototype.shiftRight=gt,s.prototype.getLowestSetBit=Mt,s.prototype.bitCount=Et,s.prototype.testBit=Ot,s.prototype.setBit=Vt,s.prototype.clearBit=qt,s.prototype.flipBit=At,s.prototype.add=xt,s.prototype.subtract=Lt,s.prototype.multiply=It,s.prototype.divide=Zt,s.prototype.remainder=Ft,s.prototype.divideAndRemainder=Pt,s.prototype.modPow=ti,s.prototype.modInverse=ri,s.prototype.pow=Ht,s.prototype.gcd=ii,s.prototype.isProbablePrime=hi;
},{"./forge":"o20S"}],"CDV4":[function(require,module,exports) {
var e=require("./forge");require("./util"),require("./jsbn"),require("./random"),function(){if(e.prime)module.exports=e.prime;else{var r=module.exports=e.prime=e.prime||{},n=e.jsbn.BigInteger,t=[6,4,2,4,2,4,6,2],i=new n(null);i.fromInt(30);var o=function(e,r){return e|r};r.generateProbablePrime=function(r,t,i){"function"==typeof t&&(i=t,t={});var o=(t=t||{}).algorithm||"PRIMEINC";"string"==typeof o&&(o={name:o}),o.options=o.options||{};var u=t.prng||e.random,s={nextBytes:function(e){for(var r=u.getBytesSync(e.length),n=0;n<e.length;++n)e[n]=r.charCodeAt(n)}};if("PRIMEINC"===o.name)return function(r,t,i,o){if("workers"in i)return function(r,t,i,o){if("undefined"==typeof Worker)return a(r,t,i,o);var u=f(r,t),s=i.workers,m=i.workLoad||100,l=30*m/8,d=i.workerScript||"forge/prime.worker.js";if(-1===s)return e.util.estimateCores(function(e,r){e&&(r=2),s=r-1,g()});function g(){s=Math.max(1,s);for(var e=[],i=0;i<s;++i)e[i]=new Worker(d);for(var i=0;i<s;++i)e[i].addEventListener("message",g);var a=!1;function g(i){if(!a){0;var s=i.data;if(s.found){for(var d=0;d<e.length;++d)e[d].terminate();return a=!0,o(null,new n(s.prime,16))}u.bitLength()>r&&(u=f(r,t));var g=u.toString(16);i.target.postMessage({hex:g,workLoad:m}),u.dAddOffset(l,0)}}}g()}(r,t,i,o);return a(r,t,i,o)}(r,s,o.options,i);throw new Error("Invalid prime generation algorithm: "+o.name)}}function a(r,n,i,o){var a=f(r,n),u=function(e){return e<=100?27:e<=150?18:e<=200?15:e<=250?12:e<=300?9:e<=350?8:e<=400?7:e<=500?6:e<=600?5:e<=800?4:e<=1250?3:2}(a.bitLength());"millerRabinTests"in i&&(u=i.millerRabinTests);var s=10;"maxBlockTime"in i&&(s=i.maxBlockTime),function r(n,i,o,a,u,s,m){var l=+new Date;do{if(n.bitLength()>i&&(n=f(i,o)),n.isProbablePrime(u))return m(null,n);n.dAddOffset(t[a++%8],0)}while(s<0||+new Date-l<s);e.util.setImmediate(function(){r(n,i,o,a,u,s,m)})}(a,r,n,0,u,s,o)}function f(e,r){var t=new n(e,r),a=e-1;return t.testBit(a)||t.bitwiseTo(n.ONE.shiftLeft(a),o,t),t.dAddOffset(31-t.mod(i).byteValue(),0),t}}();
},{"./forge":"o20S","./util":"lWyh","./jsbn":"tFuv","./random":"Gfwb"}],"HL1S":[function(require,module,exports) {
var e=require("./forge");if(require("./asn1"),require("./jsbn"),require("./oids"),require("./pkcs1"),require("./prime"),require("./random"),require("./util"),void 0===t)var t=e.jsbn.BigInteger;var r=e.util.isNodejs?require("crypto"):null,n=e.asn1,a=e.util;e.pki=e.pki||{},module.exports=e.pki.rsa=e.rsa=e.rsa||{};var i=e.pki,o=[6,4,2,4,2,4,6,2],s={name:"PrivateKeyInfo",tagClass:n.Class.UNIVERSAL,type:n.Type.SEQUENCE,constructed:!0,value:[{name:"PrivateKeyInfo.version",tagClass:n.Class.UNIVERSAL,type:n.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"PrivateKeyInfo.privateKeyAlgorithm",tagClass:n.Class.UNIVERSAL,type:n.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:n.Class.UNIVERSAL,type:n.Type.OID,constructed:!1,capture:"privateKeyOid"}]},{name:"PrivateKeyInfo",tagClass:n.Class.UNIVERSAL,type:n.Type.OCTETSTRING,constructed:!1,capture:"privateKey"}]},u={name:"RSAPrivateKey",tagClass:n.Class.UNIVERSAL,type:n.Type.SEQUENCE,constructed:!0,value:[{name:"RSAPrivateKey.version",tagClass:n.Class.UNIVERSAL,type:n.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"RSAPrivateKey.modulus",tagClass:n.Class.UNIVERSAL,type:n.Type.INTEGER,constructed:!1,capture:"privateKeyModulus"},{name:"RSAPrivateKey.publicExponent",tagClass:n.Class.UNIVERSAL,type:n.Type.INTEGER,constructed:!1,capture:"privateKeyPublicExponent"},{name:"RSAPrivateKey.privateExponent",tagClass:n.Class.UNIVERSAL,type:n.Type.INTEGER,constructed:!1,capture:"privateKeyPrivateExponent"},{name:"RSAPrivateKey.prime1",tagClass:n.Class.UNIVERSAL,type:n.Type.INTEGER,constructed:!1,capture:"privateKeyPrime1"},{name:"RSAPrivateKey.prime2",tagClass:n.Class.UNIVERSAL,type:n.Type.INTEGER,constructed:!1,capture:"privateKeyPrime2"},{name:"RSAPrivateKey.exponent1",tagClass:n.Class.UNIVERSAL,type:n.Type.INTEGER,constructed:!1,capture:"privateKeyExponent1"},{name:"RSAPrivateKey.exponent2",tagClass:n.Class.UNIVERSAL,type:n.Type.INTEGER,constructed:!1,capture:"privateKeyExponent2"},{name:"RSAPrivateKey.coefficient",tagClass:n.Class.UNIVERSAL,type:n.Type.INTEGER,constructed:!1,capture:"privateKeyCoefficient"}]},p={name:"RSAPublicKey",tagClass:n.Class.UNIVERSAL,type:n.Type.SEQUENCE,constructed:!0,value:[{name:"RSAPublicKey.modulus",tagClass:n.Class.UNIVERSAL,type:n.Type.INTEGER,constructed:!1,capture:"publicKeyModulus"},{name:"RSAPublicKey.exponent",tagClass:n.Class.UNIVERSAL,type:n.Type.INTEGER,constructed:!1,capture:"publicKeyExponent"}]},l=e.pki.rsa.publicKeyValidator={name:"SubjectPublicKeyInfo",tagClass:n.Class.UNIVERSAL,type:n.Type.SEQUENCE,constructed:!0,captureAsn1:"subjectPublicKeyInfo",value:[{name:"SubjectPublicKeyInfo.AlgorithmIdentifier",tagClass:n.Class.UNIVERSAL,type:n.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:n.Class.UNIVERSAL,type:n.Type.OID,constructed:!1,capture:"publicKeyOid"}]},{name:"SubjectPublicKeyInfo.subjectPublicKey",tagClass:n.Class.UNIVERSAL,type:n.Type.BITSTRING,constructed:!1,value:[{name:"SubjectPublicKeyInfo.subjectPublicKey.RSAPublicKey",tagClass:n.Class.UNIVERSAL,type:n.Type.SEQUENCE,constructed:!0,optional:!0,captureAsn1:"rsaPublicKey"}]}]},c=function(e){var t;if(!(e.algorithm in i.oids)){var r=new Error("Unknown message digest algorithm.");throw r.algorithm=e.algorithm,r}t=i.oids[e.algorithm];var a=n.oidToDer(t).getBytes(),o=n.create(n.Class.UNIVERSAL,n.Type.SEQUENCE,!0,[]),s=n.create(n.Class.UNIVERSAL,n.Type.SEQUENCE,!0,[]);s.value.push(n.create(n.Class.UNIVERSAL,n.Type.OID,!1,a)),s.value.push(n.create(n.Class.UNIVERSAL,n.Type.NULL,!1,""));var u=n.create(n.Class.UNIVERSAL,n.Type.OCTETSTRING,!1,e.digest().getBytes());return o.value.push(s),o.value.push(u),n.toDer(o).getBytes()},y=function(r,n,a){if(a)return r.modPow(n.e,n.n);if(!n.p||!n.q)return r.modPow(n.d,n.n);var i;n.dP||(n.dP=n.d.mod(n.p.subtract(t.ONE))),n.dQ||(n.dQ=n.d.mod(n.q.subtract(t.ONE))),n.qInv||(n.qInv=n.q.modInverse(n.p));do{i=new t(e.util.bytesToHex(e.random.getBytes(n.n.bitLength()/8)),16)}while(i.compareTo(n.n)>=0||!i.gcd(n.n).equals(t.ONE));for(var o=(r=r.multiply(i.modPow(n.e,n.n)).mod(n.n)).mod(n.p).modPow(n.dP,n.p),s=r.mod(n.q).modPow(n.dQ,n.q);o.compareTo(s)<0;)o=o.add(n.p);var u=o.subtract(s).multiply(n.qInv).mod(n.p).multiply(n.q).add(s);return u=u.multiply(i.modInverse(n.n)).mod(n.n)};function f(t,r,n){var a=e.util.createBuffer(),i=Math.ceil(r.n.bitLength()/8);if(t.length>i-11){var o=new Error("Message is too long for PKCS#1 v1.5 padding.");throw o.length=t.length,o.max=i-11,o}a.putByte(0),a.putByte(n);var s,u=i-3-t.length;if(0===n||1===n){s=0===n?0:255;for(var p=0;p<u;++p)a.putByte(s)}else for(;u>0;){var l=0,c=e.random.getBytes(u);for(p=0;p<u;++p)0===(s=c.charCodeAt(p))?++l:a.putByte(s);u=l}return a.putByte(0),a.putBytes(t),a}function E(t,r,n,a){var i=Math.ceil(r.n.bitLength()/8),o=e.util.createBuffer(t),s=o.getByte(),u=o.getByte();if(0!==s||n&&0!==u&&1!==u||!n&&2!=u||n&&0===u&&void 0===a)throw new Error("Encryption block is invalid.");var p=0;if(0===u){p=i-3-a;for(var l=0;l<p;++l)if(0!==o.getByte())throw new Error("Encryption block is invalid.")}else if(1===u)for(p=0;o.length()>1;){if(255!==o.getByte()){--o.read;break}++p}else if(2===u)for(p=0;o.length()>1;){if(0===o.getByte()){--o.read;break}++p}if(0!==o.getByte()||p!==i-3-o.length())throw new Error("Encryption block is invalid.");return o.getBytes()}function d(r,n,a){"function"==typeof n&&(a=n,n={});var o={algorithm:{name:(n=n||{}).algorithm||"PRIMEINC",options:{workers:n.workers||2,workLoad:n.workLoad||100,workerScript:n.workerScript}}};function s(){u(r.pBits,function(e,t){return e?a(e):(r.p=t,null!==r.q?p(e,r.q):void u(r.qBits,p))})}function u(t,r){e.prime.generateProbablePrime(t,o,r)}function p(e,n){if(e)return a(e);if(r.q=n,r.p.compareTo(r.q)<0){var o=r.p;r.p=r.q,r.q=o}if(0!==r.p.subtract(t.ONE).gcd(r.e).compareTo(t.ONE))return r.p=null,void s();if(0!==r.q.subtract(t.ONE).gcd(r.e).compareTo(t.ONE))return r.q=null,void u(r.qBits,p);if(r.p1=r.p.subtract(t.ONE),r.q1=r.q.subtract(t.ONE),r.phi=r.p1.multiply(r.q1),0!==r.phi.gcd(r.e).compareTo(t.ONE))return r.p=r.q=null,void s();if(r.n=r.p.multiply(r.q),r.n.bitLength()!==r.bits)return r.q=null,void u(r.qBits,p);var l=r.e.modInverse(r.phi);r.keys={privateKey:i.rsa.setPrivateKey(r.n,r.e,l,r.p,r.q,l.mod(r.p1),l.mod(r.q1),r.q.modInverse(r.p)),publicKey:i.rsa.setPublicKey(r.n,r.e)},a(null,r.keys)}"prng"in n&&(o.prng=n.prng),s()}function v(t){var r=t.toString(16);r[0]>="8"&&(r="00"+r);var n=e.util.hexToBytes(r);return n.length>1&&(0===n.charCodeAt(0)&&0==(128&n.charCodeAt(1))||255===n.charCodeAt(0)&&128==(128&n.charCodeAt(1)))?n.substr(1):n}function S(e){return e<=100?27:e<=150?18:e<=200?15:e<=250?12:e<=300?9:e<=350?8:e<=400?7:e<=500?6:e<=600?5:e<=800?4:e<=1250?3:2}function m(t){return e.util.isNodejs&&"function"==typeof r[t]}function g(e){return void 0!==a.globalScope&&"object"==typeof a.globalScope.crypto&&"object"==typeof a.globalScope.crypto.subtle&&"function"==typeof a.globalScope.crypto.subtle[e]}function K(e){return void 0!==a.globalScope&&"object"==typeof a.globalScope.msCrypto&&"object"==typeof a.globalScope.msCrypto.subtle&&"function"==typeof a.globalScope.msCrypto.subtle[e]}function b(t){for(var r=e.util.hexToBytes(t.toString(16)),n=new Uint8Array(r.length),a=0;a<r.length;++a)n[a]=r.charCodeAt(a);return n}function N(e){if("RSA"!==e.kty)throw new Error('Unsupported key algorithm "'+e.kty+'"; algorithm must be "RSA".');return i.setRsaPrivateKey(C(e.n),C(e.e),C(e.d),C(e.p),C(e.q),C(e.dp),C(e.dq),C(e.qi))}function R(e){if("RSA"!==e.kty)throw new Error('Key algorithm must be "RSA".');return i.setRsaPublicKey(C(e.n),C(e.e))}function C(r){return new t(e.util.bytesToHex(e.util.decode64(r)),16)}i.rsa.encrypt=function(r,n,a){var i,o=a,s=Math.ceil(n.n.bitLength()/8);!1!==a&&!0!==a?(o=2===a,i=f(r,n,a)):(i=e.util.createBuffer()).putBytes(r);for(var u=new t(i.toHex(),16),p=y(u,n,o).toString(16),l=e.util.createBuffer(),c=s-Math.ceil(p.length/2);c>0;)l.putByte(0),--c;return l.putBytes(e.util.hexToBytes(p)),l.getBytes()},i.rsa.decrypt=function(r,n,a,i){var o=Math.ceil(n.n.bitLength()/8);if(r.length!==o){var s=new Error("Encrypted message length is invalid.");throw s.length=r.length,s.expected=o,s}var u=new t(e.util.createBuffer(r).toHex(),16);if(u.compareTo(n.n)>=0)throw new Error("Encrypted message is invalid.");for(var p=y(u,n,a).toString(16),l=e.util.createBuffer(),c=o-Math.ceil(p.length/2);c>0;)l.putByte(0),--c;return l.putBytes(e.util.hexToBytes(p)),!1!==i?E(l.getBytes(),n,a):l.getBytes()},i.rsa.createKeyPairGenerationState=function(r,n,a){"string"==typeof r&&(r=parseInt(r,10)),r=r||2048;var i,o=(a=a||{}).prng||e.random,s={nextBytes:function(e){for(var t=o.getBytesSync(e.length),r=0;r<e.length;++r)e[r]=t.charCodeAt(r)}},u=a.algorithm||"PRIMEINC";if("PRIMEINC"!==u)throw new Error("Invalid key generation algorithm: "+u);return(i={algorithm:u,state:0,bits:r,rng:s,eInt:n||65537,e:new t(null),p:null,q:null,qBits:r>>1,pBits:r-(r>>1),pqState:0,num:null,keys:null}).e.fromInt(i.eInt),i},i.rsa.stepKeyPairGenerationState=function(e,r){"algorithm"in e||(e.algorithm="PRIMEINC");var n=new t(null);n.fromInt(30);for(var a,s=0,u=function(e,t){return e|t},p=+new Date,l=0;null===e.keys&&(r<=0||l<r);){if(0===e.state){var c=null===e.p?e.pBits:e.qBits,y=c-1;0===e.pqState?(e.num=new t(c,e.rng),e.num.testBit(y)||e.num.bitwiseTo(t.ONE.shiftLeft(y),u,e.num),e.num.dAddOffset(31-e.num.mod(n).byteValue(),0),s=0,++e.pqState):1===e.pqState?e.num.bitLength()>c?e.pqState=0:e.num.isProbablePrime(S(e.num.bitLength()))?++e.pqState:e.num.dAddOffset(o[s++%8],0):2===e.pqState?e.pqState=0===e.num.subtract(t.ONE).gcd(e.e).compareTo(t.ONE)?3:0:3===e.pqState&&(e.pqState=0,null===e.p?e.p=e.num:e.q=e.num,null!==e.p&&null!==e.q&&++e.state,e.num=null)}else if(1===e.state)e.p.compareTo(e.q)<0&&(e.num=e.p,e.p=e.q,e.q=e.num),++e.state;else if(2===e.state)e.p1=e.p.subtract(t.ONE),e.q1=e.q.subtract(t.ONE),e.phi=e.p1.multiply(e.q1),++e.state;else if(3===e.state)0===e.phi.gcd(e.e).compareTo(t.ONE)?++e.state:(e.p=null,e.q=null,e.state=0);else if(4===e.state)e.n=e.p.multiply(e.q),e.n.bitLength()===e.bits?++e.state:(e.q=null,e.state=0);else if(5===e.state){var f=e.e.modInverse(e.phi);e.keys={privateKey:i.rsa.setPrivateKey(e.n,e.e,f,e.p,e.q,f.mod(e.p1),f.mod(e.q1),e.q.modInverse(e.p)),publicKey:i.rsa.setPublicKey(e.n,e.e)}}l+=(a=+new Date)-p,p=a}return null!==e.keys},i.rsa.generateKeyPair=function(t,o,s,u){if(1===arguments.length?"object"==typeof t?(s=t,t=void 0):"function"==typeof t&&(u=t,t=void 0):2===arguments.length?"number"==typeof t?"function"==typeof o?(u=o,o=void 0):"number"!=typeof o&&(s=o,o=void 0):(s=t,u=o,t=void 0,o=void 0):3===arguments.length&&("number"==typeof o?"function"==typeof s&&(u=s,s=void 0):(u=s,s=o,o=void 0)),s=s||{},void 0===t&&(t=s.bits||2048),void 0===o&&(o=s.e||65537),!e.options.usePureJavaScript&&!s.prng&&t>=256&&t<=16384&&(65537===o||3===o))if(u){if(m("generateKeyPair"))return r.generateKeyPair("rsa",{modulusLength:t,publicExponent:o,publicKeyEncoding:{type:"spki",format:"pem"},privateKeyEncoding:{type:"pkcs8",format:"pem"}},function(e,t,r){if(e)return u(e);u(null,{privateKey:i.privateKeyFromPem(r),publicKey:i.publicKeyFromPem(t)})});if(g("generateKey")&&g("exportKey"))return a.globalScope.crypto.subtle.generateKey({name:"RSASSA-PKCS1-v1_5",modulusLength:t,publicExponent:b(o),hash:{name:"SHA-256"}},!0,["sign","verify"]).then(function(e){return a.globalScope.crypto.subtle.exportKey("pkcs8",e.privateKey)}).then(void 0,function(e){u(e)}).then(function(t){if(t){var r=i.privateKeyFromAsn1(n.fromDer(e.util.createBuffer(t)));u(null,{privateKey:r,publicKey:i.setRsaPublicKey(r.n,r.e)})}});if(K("generateKey")&&K("exportKey")){var p=a.globalScope.msCrypto.subtle.generateKey({name:"RSASSA-PKCS1-v1_5",modulusLength:t,publicExponent:b(o),hash:{name:"SHA-256"}},!0,["sign","verify"]);return p.oncomplete=function(t){var r=t.target.result,o=a.globalScope.msCrypto.subtle.exportKey("pkcs8",r.privateKey);o.oncomplete=function(t){var r=t.target.result,a=i.privateKeyFromAsn1(n.fromDer(e.util.createBuffer(r)));u(null,{privateKey:a,publicKey:i.setRsaPublicKey(a.n,a.e)})},o.onerror=function(e){u(e)}},void(p.onerror=function(e){u(e)})}}else if(m("generateKeyPairSync")){var l=r.generateKeyPairSync("rsa",{modulusLength:t,publicExponent:o,publicKeyEncoding:{type:"spki",format:"pem"},privateKeyEncoding:{type:"pkcs8",format:"pem"}});return{privateKey:i.privateKeyFromPem(l.privateKey),publicKey:i.publicKeyFromPem(l.publicKey)}}var c=i.rsa.createKeyPairGenerationState(t,o,s);if(!u)return i.rsa.stepKeyPairGenerationState(c,0),c.keys;d(c,s,u)},i.setRsaPublicKey=i.rsa.setPublicKey=function(t,r){var a={n:t,e:r,encrypt:function(t,r,n){if("string"==typeof r?r=r.toUpperCase():void 0===r&&(r="RSAES-PKCS1-V1_5"),"RSAES-PKCS1-V1_5"===r)r={encode:function(e,t,r){return f(e,t,2).getBytes()}};else if("RSA-OAEP"===r||"RSAES-OAEP"===r)r={encode:function(t,r){return e.pkcs1.encode_rsa_oaep(r,t,n)}};else if(-1!==["RAW","NONE","NULL",null].indexOf(r))r={encode:function(e){return e}};else if("string"==typeof r)throw new Error('Unsupported encryption scheme: "'+r+'".');var o=r.encode(t,a,!0);return i.rsa.encrypt(o,a,!0)},verify:function(e,t,r){"string"==typeof r?r=r.toUpperCase():void 0===r&&(r="RSASSA-PKCS1-V1_5"),"RSASSA-PKCS1-V1_5"===r?r={verify:function(e,t){return t=E(t,a,!0),e===n.fromDer(t).value[1].value}}:"NONE"!==r&&"NULL"!==r&&null!==r||(r={verify:function(e,t){return e===(t=E(t,a,!0))}});var o=i.rsa.decrypt(t,a,!0,!1);return r.verify(e,o,a.n.bitLength())}};return a},i.setRsaPrivateKey=i.rsa.setPrivateKey=function(t,r,n,a,o,s,u,p){var l={n:t,e:r,d:n,p:a,q:o,dP:s,dQ:u,qInv:p,decrypt:function(t,r,n){"string"==typeof r?r=r.toUpperCase():void 0===r&&(r="RSAES-PKCS1-V1_5");var a=i.rsa.decrypt(t,l,!1,!1);if("RSAES-PKCS1-V1_5"===r)r={decode:E};else if("RSA-OAEP"===r||"RSAES-OAEP"===r)r={decode:function(t,r){return e.pkcs1.decode_rsa_oaep(r,t,n)}};else{if(-1===["RAW","NONE","NULL",null].indexOf(r))throw new Error('Unsupported encryption scheme: "'+r+'".');r={decode:function(e){return e}}}return r.decode(a,l,!1)},sign:function(e,t){var r=!1;"string"==typeof t&&(t=t.toUpperCase()),void 0===t||"RSASSA-PKCS1-V1_5"===t?(t={encode:c},r=1):"NONE"!==t&&"NULL"!==t&&null!==t||(t={encode:function(){return e}},r=1);var n=t.encode(e,l.n.bitLength());return i.rsa.encrypt(n,l,r)}};return l},i.wrapRsaPrivateKey=function(e){return n.create(n.Class.UNIVERSAL,n.Type.SEQUENCE,!0,[n.create(n.Class.UNIVERSAL,n.Type.INTEGER,!1,n.integerToDer(0).getBytes()),n.create(n.Class.UNIVERSAL,n.Type.SEQUENCE,!0,[n.create(n.Class.UNIVERSAL,n.Type.OID,!1,n.oidToDer(i.oids.rsaEncryption).getBytes()),n.create(n.Class.UNIVERSAL,n.Type.NULL,!1,"")]),n.create(n.Class.UNIVERSAL,n.Type.OCTETSTRING,!1,n.toDer(e).getBytes())])},i.privateKeyFromAsn1=function(r){var a,o,p,l,c,y,f,E,d={},v=[];if(n.validate(r,s,d,v)&&(r=n.fromDer(e.util.createBuffer(d.privateKey))),d={},v=[],!n.validate(r,u,d,v)){var S=new Error("Cannot read private key. ASN.1 object does not contain an RSAPrivateKey.");throw S.errors=v,S}return a=e.util.createBuffer(d.privateKeyModulus).toHex(),o=e.util.createBuffer(d.privateKeyPublicExponent).toHex(),p=e.util.createBuffer(d.privateKeyPrivateExponent).toHex(),l=e.util.createBuffer(d.privateKeyPrime1).toHex(),c=e.util.createBuffer(d.privateKeyPrime2).toHex(),y=e.util.createBuffer(d.privateKeyExponent1).toHex(),f=e.util.createBuffer(d.privateKeyExponent2).toHex(),E=e.util.createBuffer(d.privateKeyCoefficient).toHex(),i.setRsaPrivateKey(new t(a,16),new t(o,16),new t(p,16),new t(l,16),new t(c,16),new t(y,16),new t(f,16),new t(E,16))},i.privateKeyToAsn1=i.privateKeyToRSAPrivateKey=function(e){return n.create(n.Class.UNIVERSAL,n.Type.SEQUENCE,!0,[n.create(n.Class.UNIVERSAL,n.Type.INTEGER,!1,n.integerToDer(0).getBytes()),n.create(n.Class.UNIVERSAL,n.Type.INTEGER,!1,v(e.n)),n.create(n.Class.UNIVERSAL,n.Type.INTEGER,!1,v(e.e)),n.create(n.Class.UNIVERSAL,n.Type.INTEGER,!1,v(e.d)),n.create(n.Class.UNIVERSAL,n.Type.INTEGER,!1,v(e.p)),n.create(n.Class.UNIVERSAL,n.Type.INTEGER,!1,v(e.q)),n.create(n.Class.UNIVERSAL,n.Type.INTEGER,!1,v(e.dP)),n.create(n.Class.UNIVERSAL,n.Type.INTEGER,!1,v(e.dQ)),n.create(n.Class.UNIVERSAL,n.Type.INTEGER,!1,v(e.qInv))])},i.publicKeyFromAsn1=function(r){var a={},o=[];if(n.validate(r,l,a,o)){var s,u=n.derToOid(a.publicKeyOid);if(u!==i.oids.rsaEncryption)throw(s=new Error("Cannot read public key. Unknown OID.")).oid=u,s;r=a.rsaPublicKey}if(o=[],!n.validate(r,p,a,o))throw(s=new Error("Cannot read public key. ASN.1 object does not contain an RSAPublicKey.")).errors=o,s;var c=e.util.createBuffer(a.publicKeyModulus).toHex(),y=e.util.createBuffer(a.publicKeyExponent).toHex();return i.setRsaPublicKey(new t(c,16),new t(y,16))},i.publicKeyToAsn1=i.publicKeyToSubjectPublicKeyInfo=function(e){return n.create(n.Class.UNIVERSAL,n.Type.SEQUENCE,!0,[n.create(n.Class.UNIVERSAL,n.Type.SEQUENCE,!0,[n.create(n.Class.UNIVERSAL,n.Type.OID,!1,n.oidToDer(i.oids.rsaEncryption).getBytes()),n.create(n.Class.UNIVERSAL,n.Type.NULL,!1,"")]),n.create(n.Class.UNIVERSAL,n.Type.BITSTRING,!1,[i.publicKeyToRSAPublicKey(e)])])},i.publicKeyToRSAPublicKey=function(e){return n.create(n.Class.UNIVERSAL,n.Type.SEQUENCE,!0,[n.create(n.Class.UNIVERSAL,n.Type.INTEGER,!1,v(e.n)),n.create(n.Class.UNIVERSAL,n.Type.INTEGER,!1,v(e.e))])};
},{"./forge":"o20S","./asn1":"BA5j","./jsbn":"tFuv","./oids":"rbLR","./pkcs1":"PZSV","./prime":"CDV4","./random":"Gfwb","./util":"lWyh","crypto":"vKFU"}],"CJHG":[function(require,module,exports) {
var e=require("./forge");require("./aes"),require("./asn1"),require("./des"),require("./md"),require("./mgf"),require("./oids"),require("./pem"),require("./pss"),require("./rsa"),require("./util");var t=e.asn1,r=module.exports=e.pki=e.pki||{},a=r.oids,i={};i.CN=a.commonName,i.commonName="CN",i.C=a.countryName,i.countryName="C",i.L=a.localityName,i.localityName="L",i.ST=a.stateOrProvinceName,i.stateOrProvinceName="ST",i.O=a.organizationName,i.organizationName="O",i.OU=a.organizationalUnitName,i.organizationalUnitName="OU",i.E=a.emailAddress,i.emailAddress="E";var s=e.pki.rsa.publicKeyValidator,n={name:"Certificate",tagClass:t.Class.UNIVERSAL,type:t.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate",tagClass:t.Class.UNIVERSAL,type:t.Type.SEQUENCE,constructed:!0,captureAsn1:"tbsCertificate",value:[{name:"Certificate.TBSCertificate.version",tagClass:t.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.version.integer",tagClass:t.Class.UNIVERSAL,type:t.Type.INTEGER,constructed:!1,capture:"certVersion"}]},{name:"Certificate.TBSCertificate.serialNumber",tagClass:t.Class.UNIVERSAL,type:t.Type.INTEGER,constructed:!1,capture:"certSerialNumber"},{name:"Certificate.TBSCertificate.signature",tagClass:t.Class.UNIVERSAL,type:t.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate.signature.algorithm",tagClass:t.Class.UNIVERSAL,type:t.Type.OID,constructed:!1,capture:"certinfoSignatureOid"},{name:"Certificate.TBSCertificate.signature.parameters",tagClass:t.Class.UNIVERSAL,optional:!0,captureAsn1:"certinfoSignatureParams"}]},{name:"Certificate.TBSCertificate.issuer",tagClass:t.Class.UNIVERSAL,type:t.Type.SEQUENCE,constructed:!0,captureAsn1:"certIssuer"},{name:"Certificate.TBSCertificate.validity",tagClass:t.Class.UNIVERSAL,type:t.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate.validity.notBefore (utc)",tagClass:t.Class.UNIVERSAL,type:t.Type.UTCTIME,constructed:!1,optional:!0,capture:"certValidity1UTCTime"},{name:"Certificate.TBSCertificate.validity.notBefore (generalized)",tagClass:t.Class.UNIVERSAL,type:t.Type.GENERALIZEDTIME,constructed:!1,optional:!0,capture:"certValidity2GeneralizedTime"},{name:"Certificate.TBSCertificate.validity.notAfter (utc)",tagClass:t.Class.UNIVERSAL,type:t.Type.UTCTIME,constructed:!1,optional:!0,capture:"certValidity3UTCTime"},{name:"Certificate.TBSCertificate.validity.notAfter (generalized)",tagClass:t.Class.UNIVERSAL,type:t.Type.GENERALIZEDTIME,constructed:!1,optional:!0,capture:"certValidity4GeneralizedTime"}]},{name:"Certificate.TBSCertificate.subject",tagClass:t.Class.UNIVERSAL,type:t.Type.SEQUENCE,constructed:!0,captureAsn1:"certSubject"},s,{name:"Certificate.TBSCertificate.issuerUniqueID",tagClass:t.Class.CONTEXT_SPECIFIC,type:1,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.issuerUniqueID.id",tagClass:t.Class.UNIVERSAL,type:t.Type.BITSTRING,constructed:!1,captureBitStringValue:"certIssuerUniqueId"}]},{name:"Certificate.TBSCertificate.subjectUniqueID",tagClass:t.Class.CONTEXT_SPECIFIC,type:2,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.subjectUniqueID.id",tagClass:t.Class.UNIVERSAL,type:t.Type.BITSTRING,constructed:!1,captureBitStringValue:"certSubjectUniqueId"}]},{name:"Certificate.TBSCertificate.extensions",tagClass:t.Class.CONTEXT_SPECIFIC,type:3,constructed:!0,captureAsn1:"certExtensions",optional:!0}]},{name:"Certificate.signatureAlgorithm",tagClass:t.Class.UNIVERSAL,type:t.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.signatureAlgorithm.algorithm",tagClass:t.Class.UNIVERSAL,type:t.Type.OID,constructed:!1,capture:"certSignatureOid"},{name:"Certificate.TBSCertificate.signature.parameters",tagClass:t.Class.UNIVERSAL,optional:!0,captureAsn1:"certSignatureParams"}]},{name:"Certificate.signatureValue",tagClass:t.Class.UNIVERSAL,type:t.Type.BITSTRING,constructed:!1,captureBitStringValue:"certSignature"}]},o={name:"rsapss",tagClass:t.Class.UNIVERSAL,type:t.Type.SEQUENCE,constructed:!0,value:[{name:"rsapss.hashAlgorithm",tagClass:t.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,value:[{name:"rsapss.hashAlgorithm.AlgorithmIdentifier",tagClass:t.Class.UNIVERSAL,type:t.Class.SEQUENCE,constructed:!0,optional:!0,value:[{name:"rsapss.hashAlgorithm.AlgorithmIdentifier.algorithm",tagClass:t.Class.UNIVERSAL,type:t.Type.OID,constructed:!1,capture:"hashOid"}]}]},{name:"rsapss.maskGenAlgorithm",tagClass:t.Class.CONTEXT_SPECIFIC,type:1,constructed:!0,value:[{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier",tagClass:t.Class.UNIVERSAL,type:t.Class.SEQUENCE,constructed:!0,optional:!0,value:[{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier.algorithm",tagClass:t.Class.UNIVERSAL,type:t.Type.OID,constructed:!1,capture:"maskGenOid"},{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier.params",tagClass:t.Class.UNIVERSAL,type:t.Type.SEQUENCE,constructed:!0,value:[{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier.params.algorithm",tagClass:t.Class.UNIVERSAL,type:t.Type.OID,constructed:!1,capture:"maskGenHashOid"}]}]}]},{name:"rsapss.saltLength",tagClass:t.Class.CONTEXT_SPECIFIC,type:2,optional:!0,value:[{name:"rsapss.saltLength.saltLength",tagClass:t.Class.UNIVERSAL,type:t.Class.INTEGER,constructed:!1,capture:"saltLength"}]},{name:"rsapss.trailerField",tagClass:t.Class.CONTEXT_SPECIFIC,type:3,optional:!0,value:[{name:"rsapss.trailer.trailer",tagClass:t.Class.UNIVERSAL,type:t.Class.INTEGER,constructed:!1,capture:"trailer"}]}]},u={name:"CertificationRequestInfo",tagClass:t.Class.UNIVERSAL,type:t.Type.SEQUENCE,constructed:!0,captureAsn1:"certificationRequestInfo",value:[{name:"CertificationRequestInfo.integer",tagClass:t.Class.UNIVERSAL,type:t.Type.INTEGER,constructed:!1,capture:"certificationRequestInfoVersion"},{name:"CertificationRequestInfo.subject",tagClass:t.Class.UNIVERSAL,type:t.Type.SEQUENCE,constructed:!0,captureAsn1:"certificationRequestInfoSubject"},s,{name:"CertificationRequestInfo.attributes",tagClass:t.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,capture:"certificationRequestInfoAttributes",value:[{name:"CertificationRequestInfo.attributes",tagClass:t.Class.UNIVERSAL,type:t.Type.SEQUENCE,constructed:!0,value:[{name:"CertificationRequestInfo.attributes.type",tagClass:t.Class.UNIVERSAL,type:t.Type.OID,constructed:!1},{name:"CertificationRequestInfo.attributes.value",tagClass:t.Class.UNIVERSAL,type:t.Type.SET,constructed:!0}]}]}]},c={name:"CertificationRequest",tagClass:t.Class.UNIVERSAL,type:t.Type.SEQUENCE,constructed:!0,captureAsn1:"csr",value:[u,{name:"CertificationRequest.signatureAlgorithm",tagClass:t.Class.UNIVERSAL,type:t.Type.SEQUENCE,constructed:!0,value:[{name:"CertificationRequest.signatureAlgorithm.algorithm",tagClass:t.Class.UNIVERSAL,type:t.Type.OID,constructed:!1,capture:"csrSignatureOid"},{name:"CertificationRequest.signatureAlgorithm.parameters",tagClass:t.Class.UNIVERSAL,optional:!0,captureAsn1:"csrSignatureParams"}]},{name:"CertificationRequest.signature",tagClass:t.Class.UNIVERSAL,type:t.Type.BITSTRING,constructed:!1,captureBitStringValue:"csrSignature"}]};function l(e,t){"string"==typeof t&&(t={shortName:t});for(var r,a=null,i=0;null===a&&i<e.attributes.length;++i)r=e.attributes[i],t.type&&t.type===r.type?a=r:t.name&&t.name===r.name?a=r:t.shortName&&t.shortName===r.shortName&&(a=r);return a}r.RDNAttributesAsArray=function(e,r){for(var s,n,o,u=[],c=0;c<e.value.length;++c){s=e.value[c];for(var l=0;l<s.value.length;++l)o={},n=s.value[l],o.type=t.derToOid(n.value[0].value),o.value=n.value[1].value,o.valueTagClass=n.value[1].type,o.type in a&&(o.name=a[o.type],o.name in i&&(o.shortName=i[o.name])),r&&(r.update(o.type),r.update(o.value)),u.push(o)}return u},r.CRIAttributesAsArray=function(e){for(var s=[],n=0;n<e.length;++n)for(var o=e[n],u=t.derToOid(o.value[0].value),c=o.value[1].value,l=0;l<c.length;++l){var d={};if(d.type=u,d.value=c[l].value,d.valueTagClass=c[l].type,d.type in a&&(d.name=a[d.type],d.name in i&&(d.shortName=i[d.name])),d.type===a.extensionRequest){d.extensions=[];for(var f=0;f<d.value.length;++f)d.extensions.push(r.certificateExtensionFromAsn1(d.value[f]))}s.push(d)}return s};var d=function(e,r,i){var s={};if(e!==a["RSASSA-PSS"])return s;i&&(s={hash:{algorithmOid:a.sha1},mgf:{algorithmOid:a.mgf1,hash:{algorithmOid:a.sha1}},saltLength:20});var n={},u=[];if(!t.validate(r,o,n,u)){var c=new Error("Cannot read RSASSA-PSS parameter block.");throw c.errors=u,c}return void 0!==n.hashOid&&(s.hash=s.hash||{},s.hash.algorithmOid=t.derToOid(n.hashOid)),void 0!==n.maskGenOid&&(s.mgf=s.mgf||{},s.mgf.algorithmOid=t.derToOid(n.maskGenOid),s.mgf.hash=s.mgf.hash||{},s.mgf.hash.algorithmOid=t.derToOid(n.maskGenHashOid)),void 0!==n.saltLength&&(s.saltLength=n.saltLength.charCodeAt(0)),s};function f(r){for(var a,i,s=t.create(t.Class.UNIVERSAL,t.Type.SEQUENCE,!0,[]),n=r.attributes,o=0;o<n.length;++o){var u=(a=n[o]).value,c=t.Type.PRINTABLESTRING;"valueTagClass"in a&&(c=a.valueTagClass)===t.Type.UTF8&&(u=e.util.encodeUtf8(u)),i=t.create(t.Class.UNIVERSAL,t.Type.SET,!0,[t.create(t.Class.UNIVERSAL,t.Type.SEQUENCE,!0,[t.create(t.Class.UNIVERSAL,t.Type.OID,!1,t.oidToDer(a.type).getBytes()),t.create(t.Class.UNIVERSAL,c,!1,u)])]),s.value.push(i)}return s}function C(r){for(var a={},i=0;i<r.length;++i){var s=r[i];if(s.shortName&&(s.valueTagClass===t.Type.UTF8||s.valueTagClass===t.Type.PRINTABLESTRING||s.valueTagClass===t.Type.IA5STRING)){var n=s.value;s.valueTagClass===t.Type.UTF8&&(n=e.util.encodeUtf8(s.value)),s.shortName in a?e.util.isArray(a[s.shortName])?a[s.shortName].push(n):a[s.shortName]=[a[s.shortName],n]:a[s.shortName]=n}}return a}function m(e){for(var s,n=0;n<e.length;++n){if(void 0===(s=e[n]).name&&(s.type&&s.type in r.oids?s.name=r.oids[s.type]:s.shortName&&s.shortName in i&&(s.name=r.oids[i[s.shortName]])),void 0===s.type){if(!(s.name&&s.name in r.oids))throw(u=new Error("Attribute type not specified.")).attribute=s,u;s.type=r.oids[s.name]}if(void 0===s.shortName&&s.name&&s.name in i&&(s.shortName=i[s.name]),s.type===a.extensionRequest&&(s.valueConstructed=!0,s.valueTagClass=t.Type.SEQUENCE,!s.value&&s.extensions)){s.value=[];for(var o=0;o<s.extensions.length;++o)s.value.push(r.certificateExtensionToAsn1(p(s.extensions[o])))}var u;if(void 0===s.value)throw(u=new Error("Attribute value not specified.")).attribute=s,u}}function p(i,s){if(s=s||{},void 0===i.name&&i.id&&i.id in r.oids&&(i.name=r.oids[i.id]),void 0===i.id){if(!(i.name&&i.name in r.oids))throw(T=new Error("Extension ID not specified.")).extension=i,T;i.id=r.oids[i.name]}if(void 0!==i.value)return i;if("keyUsage"===i.name){var n=0,o=0,u=0;i.digitalSignature&&(o|=128,n=7),i.nonRepudiation&&(o|=64,n=6),i.keyEncipherment&&(o|=32,n=5),i.dataEncipherment&&(o|=16,n=4),i.keyAgreement&&(o|=8,n=3),i.keyCertSign&&(o|=4,n=2),i.cRLSign&&(o|=2,n=1),i.encipherOnly&&(o|=1,n=0),i.decipherOnly&&(u|=128,n=7);var c=String.fromCharCode(n);0!==u?c+=String.fromCharCode(o)+String.fromCharCode(u):0!==o&&(c+=String.fromCharCode(o)),i.value=t.create(t.Class.UNIVERSAL,t.Type.BITSTRING,!1,c)}else if("basicConstraints"===i.name)i.value=t.create(t.Class.UNIVERSAL,t.Type.SEQUENCE,!0,[]),i.cA&&i.value.value.push(t.create(t.Class.UNIVERSAL,t.Type.BOOLEAN,!1,String.fromCharCode(255))),"pathLenConstraint"in i&&i.value.value.push(t.create(t.Class.UNIVERSAL,t.Type.INTEGER,!1,t.integerToDer(i.pathLenConstraint).getBytes()));else if("extKeyUsage"===i.name){i.value=t.create(t.Class.UNIVERSAL,t.Type.SEQUENCE,!0,[]);var l=i.value.value;for(var d in i)!0===i[d]&&(d in a?l.push(t.create(t.Class.UNIVERSAL,t.Type.OID,!1,t.oidToDer(a[d]).getBytes())):-1!==d.indexOf(".")&&l.push(t.create(t.Class.UNIVERSAL,t.Type.OID,!1,t.oidToDer(d).getBytes())))}else if("nsCertType"===i.name){n=0,o=0;i.client&&(o|=128,n=7),i.server&&(o|=64,n=6),i.email&&(o|=32,n=5),i.objsign&&(o|=16,n=4),i.reserved&&(o|=8,n=3),i.sslCA&&(o|=4,n=2),i.emailCA&&(o|=2,n=1),i.objCA&&(o|=1,n=0);c=String.fromCharCode(n);0!==o&&(c+=String.fromCharCode(o)),i.value=t.create(t.Class.UNIVERSAL,t.Type.BITSTRING,!1,c)}else if("subjectAltName"===i.name||"issuerAltName"===i.name){i.value=t.create(t.Class.UNIVERSAL,t.Type.SEQUENCE,!0,[]);for(var C=0;C<i.altNames.length;++C){c=(E=i.altNames[C]).value;if(7===E.type&&E.ip){if(null===(c=e.util.bytesFromIP(E.ip)))throw(T=new Error('Extension "ip" value is not a valid IPv4 or IPv6 address.')).extension=i,T}else 8===E.type&&(c=E.oid?t.oidToDer(t.oidToDer(E.oid)):t.oidToDer(c));i.value.value.push(t.create(t.Class.CONTEXT_SPECIFIC,E.type,!1,c))}}else if("nsComment"===i.name&&s.cert){if(!/^[\x00-\x7F]*$/.test(i.comment)||i.comment.length<1||i.comment.length>128)throw new Error('Invalid "nsComment" content.');i.value=t.create(t.Class.UNIVERSAL,t.Type.IA5STRING,!1,i.comment)}else if("subjectKeyIdentifier"===i.name&&s.cert){var m=s.cert.generateSubjectKeyIdentifier();i.subjectKeyIdentifier=m.toHex(),i.value=t.create(t.Class.UNIVERSAL,t.Type.OCTETSTRING,!1,m.getBytes())}else if("authorityKeyIdentifier"===i.name&&s.cert){i.value=t.create(t.Class.UNIVERSAL,t.Type.SEQUENCE,!0,[]);l=i.value.value;if(i.keyIdentifier){var p=!0===i.keyIdentifier?s.cert.generateSubjectKeyIdentifier().getBytes():i.keyIdentifier;l.push(t.create(t.Class.CONTEXT_SPECIFIC,0,!1,p))}if(i.authorityCertIssuer){var h=[t.create(t.Class.CONTEXT_SPECIFIC,4,!0,[f(!0===i.authorityCertIssuer?s.cert.issuer:i.authorityCertIssuer)])];l.push(t.create(t.Class.CONTEXT_SPECIFIC,1,!0,h))}if(i.serialNumber){var g=e.util.hexToBytes(!0===i.serialNumber?s.cert.serialNumber:i.serialNumber);l.push(t.create(t.Class.CONTEXT_SPECIFIC,2,!1,g))}}else if("cRLDistributionPoints"===i.name){i.value=t.create(t.Class.UNIVERSAL,t.Type.SEQUENCE,!0,[]);l=i.value.value;var E,y=t.create(t.Class.UNIVERSAL,t.Type.SEQUENCE,!0,[]),v=t.create(t.Class.CONTEXT_SPECIFIC,0,!0,[]);for(C=0;C<i.altNames.length;++C){c=(E=i.altNames[C]).value;if(7===E.type&&E.ip){if(null===(c=e.util.bytesFromIP(E.ip)))throw(T=new Error('Extension "ip" value is not a valid IPv4 or IPv6 address.')).extension=i,T}else 8===E.type&&(c=E.oid?t.oidToDer(t.oidToDer(E.oid)):t.oidToDer(c));v.value.push(t.create(t.Class.CONTEXT_SPECIFIC,E.type,!1,c))}y.value.push(t.create(t.Class.CONTEXT_SPECIFIC,0,!0,[v])),l.push(y)}var T;if(void 0===i.value)throw(T=new Error("Extension value not specified.")).extension=i,T;return i}function h(e,r){switch(e){case a["RSASSA-PSS"]:var i=[];return void 0!==r.hash.algorithmOid&&i.push(t.create(t.Class.CONTEXT_SPECIFIC,0,!0,[t.create(t.Class.UNIVERSAL,t.Type.SEQUENCE,!0,[t.create(t.Class.UNIVERSAL,t.Type.OID,!1,t.oidToDer(r.hash.algorithmOid).getBytes()),t.create(t.Class.UNIVERSAL,t.Type.NULL,!1,"")])])),void 0!==r.mgf.algorithmOid&&i.push(t.create(t.Class.CONTEXT_SPECIFIC,1,!0,[t.create(t.Class.UNIVERSAL,t.Type.SEQUENCE,!0,[t.create(t.Class.UNIVERSAL,t.Type.OID,!1,t.oidToDer(r.mgf.algorithmOid).getBytes()),t.create(t.Class.UNIVERSAL,t.Type.SEQUENCE,!0,[t.create(t.Class.UNIVERSAL,t.Type.OID,!1,t.oidToDer(r.mgf.hash.algorithmOid).getBytes()),t.create(t.Class.UNIVERSAL,t.Type.NULL,!1,"")])])])),void 0!==r.saltLength&&i.push(t.create(t.Class.CONTEXT_SPECIFIC,2,!0,[t.create(t.Class.UNIVERSAL,t.Type.INTEGER,!1,t.integerToDer(r.saltLength).getBytes())])),t.create(t.Class.UNIVERSAL,t.Type.SEQUENCE,!0,i);default:return t.create(t.Class.UNIVERSAL,t.Type.NULL,!1,"")}}function g(r){var a=t.create(t.Class.CONTEXT_SPECIFIC,0,!0,[]);if(0===r.attributes.length)return a;for(var i=r.attributes,s=0;s<i.length;++s){var n=i[s],o=n.value,u=t.Type.UTF8;"valueTagClass"in n&&(u=n.valueTagClass),u===t.Type.UTF8&&(o=e.util.encodeUtf8(o));var c=!1;"valueConstructed"in n&&(c=n.valueConstructed);var l=t.create(t.Class.UNIVERSAL,t.Type.SEQUENCE,!0,[t.create(t.Class.UNIVERSAL,t.Type.OID,!1,t.oidToDer(n.type).getBytes()),t.create(t.Class.UNIVERSAL,t.Type.SET,!0,[t.create(t.Class.UNIVERSAL,u,c,o)])]);a.value.push(l)}return a}r.certificateFromPem=function(a,i,s){var n=e.pem.decode(a)[0];if("CERTIFICATE"!==n.type&&"X509 CERTIFICATE"!==n.type&&"TRUSTED CERTIFICATE"!==n.type){var o=new Error('Could not convert certificate from PEM; PEM header type is not "CERTIFICATE", "X509 CERTIFICATE", or "TRUSTED CERTIFICATE".');throw o.headerType=n.type,o}if(n.procType&&"ENCRYPTED"===n.procType.type)throw new Error("Could not convert certificate from PEM; PEM is encrypted.");var u=t.fromDer(n.body,s);return r.certificateFromAsn1(u,i)},r.certificateToPem=function(a,i){var s={type:"CERTIFICATE",body:t.toDer(r.certificateToAsn1(a)).getBytes()};return e.pem.encode(s,{maxline:i})},r.publicKeyFromPem=function(a){var i=e.pem.decode(a)[0];if("PUBLIC KEY"!==i.type&&"RSA PUBLIC KEY"!==i.type){var s=new Error('Could not convert public key from PEM; PEM header type is not "PUBLIC KEY" or "RSA PUBLIC KEY".');throw s.headerType=i.type,s}if(i.procType&&"ENCRYPTED"===i.procType.type)throw new Error("Could not convert public key from PEM; PEM is encrypted.");var n=t.fromDer(i.body);return r.publicKeyFromAsn1(n)},r.publicKeyToPem=function(a,i){var s={type:"PUBLIC KEY",body:t.toDer(r.publicKeyToAsn1(a)).getBytes()};return e.pem.encode(s,{maxline:i})},r.publicKeyToRSAPublicKeyPem=function(a,i){var s={type:"RSA PUBLIC KEY",body:t.toDer(r.publicKeyToRSAPublicKey(a)).getBytes()};return e.pem.encode(s,{maxline:i})},r.getPublicKeyFingerprint=function(a,i){var s,n=(i=i||{}).md||e.md.sha1.create();switch(i.type||"RSAPublicKey"){case"RSAPublicKey":s=t.toDer(r.publicKeyToRSAPublicKey(a)).getBytes();break;case"SubjectPublicKeyInfo":s=t.toDer(r.publicKeyToAsn1(a)).getBytes();break;default:throw new Error('Unknown fingerprint type "'+i.type+'".')}n.start(),n.update(s);var o=n.digest();if("hex"===i.encoding){var u=o.toHex();return i.delimiter?u.match(/.{2}/g).join(i.delimiter):u}if("binary"===i.encoding)return o.getBytes();if(i.encoding)throw new Error('Unknown encoding "'+i.encoding+'".');return o},r.certificationRequestFromPem=function(a,i,s){var n=e.pem.decode(a)[0];if("CERTIFICATE REQUEST"!==n.type){var o=new Error('Could not convert certification request from PEM; PEM header type is not "CERTIFICATE REQUEST".');throw o.headerType=n.type,o}if(n.procType&&"ENCRYPTED"===n.procType.type)throw new Error("Could not convert certification request from PEM; PEM is encrypted.");var u=t.fromDer(n.body,s);return r.certificationRequestFromAsn1(u,i)},r.certificationRequestToPem=function(a,i){var s={type:"CERTIFICATE REQUEST",body:t.toDer(r.certificationRequestToAsn1(a)).getBytes()};return e.pem.encode(s,{maxline:i})},r.createCertificate=function(){var i={version:2,serialNumber:"00",signatureOid:null,signature:null,siginfo:{}};return i.siginfo.algorithmOid=null,i.validity={},i.validity.notBefore=new Date,i.validity.notAfter=new Date,i.issuer={},i.issuer.getField=function(e){return l(i.issuer,e)},i.issuer.addField=function(e){m([e]),i.issuer.attributes.push(e)},i.issuer.attributes=[],i.issuer.hash=null,i.subject={},i.subject.getField=function(e){return l(i.subject,e)},i.subject.addField=function(e){m([e]),i.subject.attributes.push(e)},i.subject.attributes=[],i.subject.hash=null,i.extensions=[],i.publicKey=null,i.md=null,i.setSubject=function(e,t){m(e),i.subject.attributes=e,delete i.subject.uniqueId,t&&(i.subject.uniqueId=t),i.subject.hash=null},i.setIssuer=function(e,t){m(e),i.issuer.attributes=e,delete i.issuer.uniqueId,t&&(i.issuer.uniqueId=t),i.issuer.hash=null},i.setExtensions=function(e){for(var t=0;t<e.length;++t)p(e[t],{cert:i});i.extensions=e},i.getExtension=function(e){"string"==typeof e&&(e={name:e});for(var t,r=null,a=0;null===r&&a<i.extensions.length;++a)t=i.extensions[a],e.id&&t.id===e.id?r=t:e.name&&t.name===e.name&&(r=t);return r},i.sign=function(s,n){i.md=n||e.md.sha1.create();var o=a[i.md.algorithm+"WithRSAEncryption"];if(!o){var u=new Error("Could not compute certificate digest. Unknown message digest algorithm OID.");throw u.algorithm=i.md.algorithm,u}i.signatureOid=i.siginfo.algorithmOid=o,i.tbsCertificate=r.getTBSCertificate(i);var c=t.toDer(i.tbsCertificate);i.md.update(c.getBytes()),i.signature=s.sign(i.md)},i.verify=function(s){var n=!1;if(!i.issued(s)){var o=s.issuer,u=i.subject;throw(p=new Error("The parent certificate did not issue the given child certificate; the child certificate's issuer does not match the parent's subject.")).expectedIssuer=o.attributes,p.actualIssuer=u.attributes,p}var c=s.md;if(null===c){if(s.signatureOid in a)switch(a[s.signatureOid]){case"sha1WithRSAEncryption":c=e.md.sha1.create();break;case"md5WithRSAEncryption":c=e.md.md5.create();break;case"sha256WithRSAEncryption":c=e.md.sha256.create();break;case"sha384WithRSAEncryption":c=e.md.sha384.create();break;case"sha512WithRSAEncryption":c=e.md.sha512.create();break;case"RSASSA-PSS":c=e.md.sha256.create()}if(null===c)throw(p=new Error("Could not compute certificate digest. Unknown signature OID.")).signatureOid=s.signatureOid,p;var l=s.tbsCertificate||r.getTBSCertificate(s),d=t.toDer(l);c.update(d.getBytes())}if(null!==c){var f;switch(s.signatureOid){case a.sha1WithRSAEncryption:f=void 0;break;case a["RSASSA-PSS"]:var C,m,p;if(void 0===(C=a[s.signatureParameters.mgf.hash.algorithmOid])||void 0===e.md[C])throw(p=new Error("Unsupported MGF hash function.")).oid=s.signatureParameters.mgf.hash.algorithmOid,p.name=C,p;if(void 0===(m=a[s.signatureParameters.mgf.algorithmOid])||void 0===e.mgf[m])throw(p=new Error("Unsupported MGF function.")).oid=s.signatureParameters.mgf.algorithmOid,p.name=m,p;if(m=e.mgf[m].create(e.md[C].create()),void 0===(C=a[s.signatureParameters.hash.algorithmOid])||void 0===e.md[C])throw{message:"Unsupported RSASSA-PSS hash function.",oid:s.signatureParameters.hash.algorithmOid,name:C};f=e.pss.create(e.md[C].create(),m,s.signatureParameters.saltLength)}n=i.publicKey.verify(c.digest().getBytes(),s.signature,f)}return n},i.isIssuer=function(e){var t=!1,r=i.issuer,a=e.subject;if(r.hash&&a.hash)t=r.hash===a.hash;else if(r.attributes.length===a.attributes.length){var s,n;t=!0;for(var o=0;t&&o<r.attributes.length;++o)s=r.attributes[o],n=a.attributes[o],s.type===n.type&&s.value===n.value||(t=!1)}return t},i.issued=function(e){return e.isIssuer(i)},i.generateSubjectKeyIdentifier=function(){return r.getPublicKeyFingerprint(i.publicKey,{type:"RSAPublicKey"})},i.verifySubjectKeyIdentifier=function(){for(var t=a.subjectKeyIdentifier,r=0;r<i.extensions.length;++r){var s=i.extensions[r];if(s.id===t){var n=i.generateSubjectKeyIdentifier().getBytes();return e.util.hexToBytes(s.subjectKeyIdentifier)===n}}return!1},i},r.certificateFromAsn1=function(i,s){var o={},u=[];if(!t.validate(i,n,o,u))throw(p=new Error("Cannot read X.509 certificate. ASN.1 object is not an X509v3 Certificate.")).errors=u,p;if(t.derToOid(o.publicKeyOid)!==r.oids.rsaEncryption)throw new Error("Cannot read public key. OID is not RSA.");var c=r.createCertificate();c.version=o.certVersion?o.certVersion.charCodeAt(0):0;var f=e.util.createBuffer(o.certSerialNumber);c.serialNumber=f.toHex(),c.signatureOid=e.asn1.derToOid(o.certSignatureOid),c.signatureParameters=d(c.signatureOid,o.certSignatureParams,!0),c.siginfo.algorithmOid=e.asn1.derToOid(o.certinfoSignatureOid),c.siginfo.parameters=d(c.siginfo.algorithmOid,o.certinfoSignatureParams,!1),c.signature=o.certSignature;var C=[];if(void 0!==o.certValidity1UTCTime&&C.push(t.utcTimeToDate(o.certValidity1UTCTime)),void 0!==o.certValidity2GeneralizedTime&&C.push(t.generalizedTimeToDate(o.certValidity2GeneralizedTime)),void 0!==o.certValidity3UTCTime&&C.push(t.utcTimeToDate(o.certValidity3UTCTime)),void 0!==o.certValidity4GeneralizedTime&&C.push(t.generalizedTimeToDate(o.certValidity4GeneralizedTime)),C.length>2)throw new Error("Cannot read notBefore/notAfter validity times; more than two times were provided in the certificate.");if(C.length<2)throw new Error("Cannot read notBefore/notAfter validity times; they were not provided as either UTCTime or GeneralizedTime.");if(c.validity.notBefore=C[0],c.validity.notAfter=C[1],c.tbsCertificate=o.tbsCertificate,s){var p;if(c.md=null,c.signatureOid in a)switch(a[c.signatureOid]){case"sha1WithRSAEncryption":c.md=e.md.sha1.create();break;case"md5WithRSAEncryption":c.md=e.md.md5.create();break;case"sha256WithRSAEncryption":c.md=e.md.sha256.create();break;case"sha384WithRSAEncryption":c.md=e.md.sha384.create();break;case"sha512WithRSAEncryption":c.md=e.md.sha512.create();break;case"RSASSA-PSS":c.md=e.md.sha256.create()}if(null===c.md)throw(p=new Error("Could not compute certificate digest. Unknown signature OID.")).signatureOid=c.signatureOid,p;var h=t.toDer(c.tbsCertificate);c.md.update(h.getBytes())}var g=e.md.sha1.create();c.issuer.getField=function(e){return l(c.issuer,e)},c.issuer.addField=function(e){m([e]),c.issuer.attributes.push(e)},c.issuer.attributes=r.RDNAttributesAsArray(o.certIssuer,g),o.certIssuerUniqueId&&(c.issuer.uniqueId=o.certIssuerUniqueId),c.issuer.hash=g.digest().toHex();var E=e.md.sha1.create();return c.subject.getField=function(e){return l(c.subject,e)},c.subject.addField=function(e){m([e]),c.subject.attributes.push(e)},c.subject.attributes=r.RDNAttributesAsArray(o.certSubject,E),o.certSubjectUniqueId&&(c.subject.uniqueId=o.certSubjectUniqueId),c.subject.hash=E.digest().toHex(),o.certExtensions?c.extensions=r.certificateExtensionsFromAsn1(o.certExtensions):c.extensions=[],c.publicKey=r.publicKeyFromAsn1(o.subjectPublicKeyInfo),c},r.certificateExtensionsFromAsn1=function(e){for(var t=[],a=0;a<e.value.length;++a)for(var i=e.value[a],s=0;s<i.value.length;++s)t.push(r.certificateExtensionFromAsn1(i.value[s]));return t},r.certificateExtensionFromAsn1=function(r){var i={};if(i.id=t.derToOid(r.value[0].value),i.critical=!1,r.value[1].type===t.Type.BOOLEAN?(i.critical=0!==r.value[1].value.charCodeAt(0),i.value=r.value[2].value):i.value=r.value[1].value,i.id in a)if(i.name=a[i.id],"keyUsage"===i.name){var s=0,n=0;(u=t.fromDer(i.value)).value.length>1&&(s=u.value.charCodeAt(1),n=u.value.length>2?u.value.charCodeAt(2):0),i.digitalSignature=128==(128&s),i.nonRepudiation=64==(64&s),i.keyEncipherment=32==(32&s),i.dataEncipherment=16==(16&s),i.keyAgreement=8==(8&s),i.keyCertSign=4==(4&s),i.cRLSign=2==(2&s),i.encipherOnly=1==(1&s),i.decipherOnly=128==(128&n)}else if("basicConstraints"===i.name){(u=t.fromDer(i.value)).value.length>0&&u.value[0].type===t.Type.BOOLEAN?i.cA=0!==u.value[0].value.charCodeAt(0):i.cA=!1;var o=null;u.value.length>0&&u.value[0].type===t.Type.INTEGER?o=u.value[0].value:u.value.length>1&&(o=u.value[1].value),null!==o&&(i.pathLenConstraint=t.derToInteger(o))}else if("extKeyUsage"===i.name)for(var u=t.fromDer(i.value),c=0;c<u.value.length;++c){var l=t.derToOid(u.value[c].value);l in a?i[a[l]]=!0:i[l]=!0}else if("nsCertType"===i.name){s=0;(u=t.fromDer(i.value)).value.length>1&&(s=u.value.charCodeAt(1)),i.client=128==(128&s),i.server=64==(64&s),i.email=32==(32&s),i.objsign=16==(16&s),i.reserved=8==(8&s),i.sslCA=4==(4&s),i.emailCA=2==(2&s),i.objCA=1==(1&s)}else if("subjectAltName"===i.name||"issuerAltName"===i.name){var d;i.altNames=[];u=t.fromDer(i.value);for(var f=0;f<u.value.length;++f){var C={type:(d=u.value[f]).type,value:d.value};switch(i.altNames.push(C),d.type){case 1:case 2:case 6:break;case 7:C.ip=e.util.bytesToIP(d.value);break;case 8:C.oid=t.derToOid(d.value)}}}else if("subjectKeyIdentifier"===i.name){u=t.fromDer(i.value);i.subjectKeyIdentifier=e.util.bytesToHex(u.value)}return i},r.certificationRequestFromAsn1=function(i,s){var n={},o=[];if(!t.validate(i,c,n,o))throw(f=new Error("Cannot read PKCS#10 certificate request. ASN.1 object is not a PKCS#10 CertificationRequest.")).errors=o,f;if(t.derToOid(n.publicKeyOid)!==r.oids.rsaEncryption)throw new Error("Cannot read public key. OID is not RSA.");var u=r.createCertificationRequest();if(u.version=n.csrVersion?n.csrVersion.charCodeAt(0):0,u.signatureOid=e.asn1.derToOid(n.csrSignatureOid),u.signatureParameters=d(u.signatureOid,n.csrSignatureParams,!0),u.siginfo.algorithmOid=e.asn1.derToOid(n.csrSignatureOid),u.siginfo.parameters=d(u.siginfo.algorithmOid,n.csrSignatureParams,!1),u.signature=n.csrSignature,u.certificationRequestInfo=n.certificationRequestInfo,s){var f;if(u.md=null,u.signatureOid in a)switch(a[u.signatureOid]){case"sha1WithRSAEncryption":u.md=e.md.sha1.create();break;case"md5WithRSAEncryption":u.md=e.md.md5.create();break;case"sha256WithRSAEncryption":u.md=e.md.sha256.create();break;case"sha384WithRSAEncryption":u.md=e.md.sha384.create();break;case"sha512WithRSAEncryption":u.md=e.md.sha512.create();break;case"RSASSA-PSS":u.md=e.md.sha256.create()}if(null===u.md)throw(f=new Error("Could not compute certification request digest. Unknown signature OID.")).signatureOid=u.signatureOid,f;var C=t.toDer(u.certificationRequestInfo);u.md.update(C.getBytes())}var p=e.md.sha1.create();return u.subject.getField=function(e){return l(u.subject,e)},u.subject.addField=function(e){m([e]),u.subject.attributes.push(e)},u.subject.attributes=r.RDNAttributesAsArray(n.certificationRequestInfoSubject,p),u.subject.hash=p.digest().toHex(),u.publicKey=r.publicKeyFromAsn1(n.subjectPublicKeyInfo),u.getAttribute=function(e){return l(u,e)},u.addAttribute=function(e){m([e]),u.attributes.push(e)},u.attributes=r.CRIAttributesAsArray(n.certificationRequestInfoAttributes||[]),u},r.createCertificationRequest=function(){var i={version:0,signatureOid:null,signature:null,siginfo:{}};return i.siginfo.algorithmOid=null,i.subject={},i.subject.getField=function(e){return l(i.subject,e)},i.subject.addField=function(e){m([e]),i.subject.attributes.push(e)},i.subject.attributes=[],i.subject.hash=null,i.publicKey=null,i.attributes=[],i.getAttribute=function(e){return l(i,e)},i.addAttribute=function(e){m([e]),i.attributes.push(e)},i.md=null,i.setSubject=function(e){m(e),i.subject.attributes=e,i.subject.hash=null},i.setAttributes=function(e){m(e),i.attributes=e},i.sign=function(s,n){i.md=n||e.md.sha1.create();var o=a[i.md.algorithm+"WithRSAEncryption"];if(!o){var u=new Error("Could not compute certification request digest. Unknown message digest algorithm OID.");throw u.algorithm=i.md.algorithm,u}i.signatureOid=i.siginfo.algorithmOid=o,i.certificationRequestInfo=r.getCertificationRequestInfo(i);var c=t.toDer(i.certificationRequestInfo);i.md.update(c.getBytes()),i.signature=s.sign(i.md)},i.verify=function(){var s=!1,n=i.md;if(null===n){if(i.signatureOid in a)switch(a[i.signatureOid]){case"sha1WithRSAEncryption":n=e.md.sha1.create();break;case"md5WithRSAEncryption":n=e.md.md5.create();break;case"sha256WithRSAEncryption":n=e.md.sha256.create();break;case"sha384WithRSAEncryption":n=e.md.sha384.create();break;case"sha512WithRSAEncryption":n=e.md.sha512.create();break;case"RSASSA-PSS":n=e.md.sha256.create()}if(null===n)throw(f=new Error("Could not compute certification request digest. Unknown signature OID.")).signatureOid=i.signatureOid,f;var o=i.certificationRequestInfo||r.getCertificationRequestInfo(i),u=t.toDer(o);n.update(u.getBytes())}if(null!==n){var c;switch(i.signatureOid){case a.sha1WithRSAEncryption:break;case a["RSASSA-PSS"]:var l,d,f;if(void 0===(l=a[i.signatureParameters.mgf.hash.algorithmOid])||void 0===e.md[l])throw(f=new Error("Unsupported MGF hash function.")).oid=i.signatureParameters.mgf.hash.algorithmOid,f.name=l,f;if(void 0===(d=a[i.signatureParameters.mgf.algorithmOid])||void 0===e.mgf[d])throw(f=new Error("Unsupported MGF function.")).oid=i.signatureParameters.mgf.algorithmOid,f.name=d,f;if(d=e.mgf[d].create(e.md[l].create()),void 0===(l=a[i.signatureParameters.hash.algorithmOid])||void 0===e.md[l])throw(f=new Error("Unsupported RSASSA-PSS hash function.")).oid=i.signatureParameters.hash.algorithmOid,f.name=l,f;c=e.pss.create(e.md[l].create(),d,i.signatureParameters.saltLength)}s=i.publicKey.verify(n.digest().getBytes(),i.signature,c)}return s},i};var E=new Date("1950-01-01T00:00:00Z"),y=new Date("2050-01-01T00:00:00Z");function v(e){return e>=E&&e<y?t.create(t.Class.UNIVERSAL,t.Type.UTCTIME,!1,t.dateToUtcTime(e)):t.create(t.Class.UNIVERSAL,t.Type.GENERALIZEDTIME,!1,t.dateToGeneralizedTime(e))}r.getTBSCertificate=function(a){var i=v(a.validity.notBefore),s=v(a.validity.notAfter),n=t.create(t.Class.UNIVERSAL,t.Type.SEQUENCE,!0,[t.create(t.Class.CONTEXT_SPECIFIC,0,!0,[t.create(t.Class.UNIVERSAL,t.Type.INTEGER,!1,t.integerToDer(a.version).getBytes())]),t.create(t.Class.UNIVERSAL,t.Type.INTEGER,!1,e.util.hexToBytes(a.serialNumber)),t.create(t.Class.UNIVERSAL,t.Type.SEQUENCE,!0,[t.create(t.Class.UNIVERSAL,t.Type.OID,!1,t.oidToDer(a.siginfo.algorithmOid).getBytes()),h(a.siginfo.algorithmOid,a.siginfo.parameters)]),f(a.issuer),t.create(t.Class.UNIVERSAL,t.Type.SEQUENCE,!0,[i,s]),f(a.subject),r.publicKeyToAsn1(a.publicKey)]);return a.issuer.uniqueId&&n.value.push(t.create(t.Class.CONTEXT_SPECIFIC,1,!0,[t.create(t.Class.UNIVERSAL,t.Type.BITSTRING,!1,String.fromCharCode(0)+a.issuer.uniqueId)])),a.subject.uniqueId&&n.value.push(t.create(t.Class.CONTEXT_SPECIFIC,2,!0,[t.create(t.Class.UNIVERSAL,t.Type.BITSTRING,!1,String.fromCharCode(0)+a.subject.uniqueId)])),a.extensions.length>0&&n.value.push(r.certificateExtensionsToAsn1(a.extensions)),n},r.getCertificationRequestInfo=function(e){return t.create(t.Class.UNIVERSAL,t.Type.SEQUENCE,!0,[t.create(t.Class.UNIVERSAL,t.Type.INTEGER,!1,t.integerToDer(e.version).getBytes()),f(e.subject),r.publicKeyToAsn1(e.publicKey),g(e)])},r.distinguishedNameToAsn1=function(e){return f(e)},r.certificateToAsn1=function(e){var a=e.tbsCertificate||r.getTBSCertificate(e);return t.create(t.Class.UNIVERSAL,t.Type.SEQUENCE,!0,[a,t.create(t.Class.UNIVERSAL,t.Type.SEQUENCE,!0,[t.create(t.Class.UNIVERSAL,t.Type.OID,!1,t.oidToDer(e.signatureOid).getBytes()),h(e.signatureOid,e.signatureParameters)]),t.create(t.Class.UNIVERSAL,t.Type.BITSTRING,!1,String.fromCharCode(0)+e.signature)])},r.certificateExtensionsToAsn1=function(e){var a=t.create(t.Class.CONTEXT_SPECIFIC,3,!0,[]),i=t.create(t.Class.UNIVERSAL,t.Type.SEQUENCE,!0,[]);a.value.push(i);for(var s=0;s<e.length;++s)i.value.push(r.certificateExtensionToAsn1(e[s]));return a},r.certificateExtensionToAsn1=function(e){var r=t.create(t.Class.UNIVERSAL,t.Type.SEQUENCE,!0,[]);r.value.push(t.create(t.Class.UNIVERSAL,t.Type.OID,!1,t.oidToDer(e.id).getBytes())),e.critical&&r.value.push(t.create(t.Class.UNIVERSAL,t.Type.BOOLEAN,!1,String.fromCharCode(255)));var a=e.value;return"string"!=typeof e.value&&(a=t.toDer(a).getBytes()),r.value.push(t.create(t.Class.UNIVERSAL,t.Type.OCTETSTRING,!1,a)),r},r.certificationRequestToAsn1=function(e){var a=e.certificationRequestInfo||r.getCertificationRequestInfo(e);return t.create(t.Class.UNIVERSAL,t.Type.SEQUENCE,!0,[a,t.create(t.Class.UNIVERSAL,t.Type.SEQUENCE,!0,[t.create(t.Class.UNIVERSAL,t.Type.OID,!1,t.oidToDer(e.signatureOid).getBytes()),h(e.signatureOid,e.signatureParameters)]),t.create(t.Class.UNIVERSAL,t.Type.BITSTRING,!1,String.fromCharCode(0)+e.signature)])},r.createCaStore=function(a){var i={certs:{}};function s(e){return n(e),i.certs[e.hash]||null}function n(t){if(!t.hash){var a=e.md.sha1.create();t.attributes=r.RDNAttributesAsArray(f(t),a),t.hash=a.digest().toHex()}}if(i.getIssuer=function(e){return s(e.issuer)},i.addCertificate=function(t){if("string"==typeof t&&(t=e.pki.certificateFromPem(t)),n(t.subject),!i.hasCertificate(t))if(t.subject.hash in i.certs){var r=i.certs[t.subject.hash];e.util.isArray(r)||(r=[r]),r.push(t),i.certs[t.subject.hash]=r}else i.certs[t.subject.hash]=t},i.hasCertificate=function(a){"string"==typeof a&&(a=e.pki.certificateFromPem(a));var i=s(a.subject);if(!i)return!1;e.util.isArray(i)||(i=[i]);for(var n=t.toDer(r.certificateToAsn1(a)).getBytes(),o=0;o<i.length;++o){if(n===t.toDer(r.certificateToAsn1(i[o])).getBytes())return!0}return!1},i.listAllCertificates=function(){var t=[];for(var r in i.certs)if(i.certs.hasOwnProperty(r)){var a=i.certs[r];if(e.util.isArray(a))for(var s=0;s<a.length;++s)t.push(a[s]);else t.push(a)}return t},i.removeCertificate=function(a){var o;if("string"==typeof a&&(a=e.pki.certificateFromPem(a)),n(a.subject),!i.hasCertificate(a))return null;var u=s(a.subject);if(!e.util.isArray(u))return o=i.certs[a.subject.hash],delete i.certs[a.subject.hash],o;for(var c=t.toDer(r.certificateToAsn1(a)).getBytes(),l=0;l<u.length;++l){c===t.toDer(r.certificateToAsn1(u[l])).getBytes()&&(o=u[l],u.splice(l,1))}return 0===u.length&&delete i.certs[a.subject.hash],o},a)for(var o=0;o<a.length;++o){var u=a[o];i.addCertificate(u)}return i},r.certificateError={bad_certificate:"forge.pki.BadCertificate",unsupported_certificate:"forge.pki.UnsupportedCertificate",certificate_revoked:"forge.pki.CertificateRevoked",certificate_expired:"forge.pki.CertificateExpired",certificate_unknown:"forge.pki.CertificateUnknown",unknown_ca:"forge.pki.UnknownCertificateAuthority"},r.verifyCertificateChain=function(t,a,i){"function"==typeof i&&(i={verify:i}),i=i||{};var s=(a=a.slice(0)).slice(0),n=i.validityCheckDate;void 0===n&&(n=new Date);var o=!0,u=null,c=0;do{var l=a.shift(),d=null,f=!1;if(n&&(n<l.validity.notBefore||n>l.validity.notAfter)&&(u={message:"Certificate is not valid yet or has expired.",error:r.certificateError.certificate_expired,notBefore:l.validity.notBefore,notAfter:l.validity.notAfter,now:n}),null===u){if(null===(d=a[0]||t.getIssuer(l))&&l.isIssuer(l)&&(f=!0,d=l),d){var C=d;e.util.isArray(C)||(C=[C]);for(var m=!1;!m&&C.length>0;){d=C.shift();try{m=d.verify(l)}catch(S){}}m||(u={message:"Certificate signature is invalid.",error:r.certificateError.bad_certificate})}null!==u||d&&!f||t.hasCertificate(l)||(u={message:"Certificate is not trusted.",error:r.certificateError.unknown_ca})}if(null===u&&d&&!l.isIssuer(d)&&(u={message:"Certificate issuer is invalid.",error:r.certificateError.bad_certificate}),null===u)for(var p={keyUsage:!0,basicConstraints:!0},h=0;null===u&&h<l.extensions.length;++h){var g=l.extensions[h];!g.critical||g.name in p||(u={message:"Certificate has an unsupported critical extension.",error:r.certificateError.unsupported_certificate})}if(null===u&&(!o||0===a.length&&(!d||f))){var E=l.getExtension("basicConstraints"),y=l.getExtension("keyUsage");if(null!==y&&(y.keyCertSign&&null!==E||(u={message:"Certificate keyUsage or basicConstraints conflict or indicate that the certificate is not a CA. If the certificate is the only one in the chain or isn't the first then the certificate must be a valid CA.",error:r.certificateError.bad_certificate})),null!==u||null===E||E.cA||(u={message:"Certificate basicConstraints indicates the certificate is not a CA.",error:r.certificateError.bad_certificate}),null===u&&null!==y&&"pathLenConstraint"in E)c-1>E.pathLenConstraint&&(u={message:"Certificate basicConstraints pathLenConstraint violated.",error:r.certificateError.bad_certificate})}var v=null===u||u.error,T=i.verify?i.verify(v,c,s):v;if(!0!==T)throw!0===v&&(u={message:"The application rejected the certificate.",error:r.certificateError.bad_certificate}),(T||0===T)&&("object"!=typeof T||e.util.isArray(T)?"string"==typeof T&&(u.error=T):(T.message&&(u.message=T.message),T.error&&(u.error=T.error))),u;u=null,o=!1,++c}while(a.length>0);return!0};
},{"./forge":"o20S","./aes":"EkQ3","./asn1":"BA5j","./des":"XbkJ","./md":"Tsiu","./mgf":"j9lk","./oids":"rbLR","./pem":"ClqA","./pss":"cVuL","./rsa":"HL1S","./util":"lWyh"}],"S1d4":[function(require,module,exports) {
var e=require("./forge");require("./aes"),require("./asn1"),require("./des"),require("./oids"),require("./pem"),require("./pkcs7asn1"),require("./random"),require("./util"),require("./x509");var t=e.asn1,r=module.exports=e.pkcs7=e.pkcs7||{};function n(n){var a={},i=[];if(!t.validate(n,r.asn1.recipientInfoValidator,a,i)){var s=new Error("Cannot read PKCS#7 RecipientInfo. ASN.1 object is not an PKCS#7 RecipientInfo.");throw s.errors=i,s}return{version:a.version.charCodeAt(0),issuer:e.pki.RDNAttributesAsArray(a.issuer),serialNumber:e.util.createBuffer(a.serial).toHex(),encryptedContent:{algorithm:t.derToOid(a.encAlgorithm),parameter:a.encParameter.value,content:a.encKey}}}function a(r){return t.create(t.Class.UNIVERSAL,t.Type.SEQUENCE,!0,[t.create(t.Class.UNIVERSAL,t.Type.INTEGER,!1,t.integerToDer(r.version).getBytes()),t.create(t.Class.UNIVERSAL,t.Type.SEQUENCE,!0,[e.pki.distinguishedNameToAsn1({attributes:r.issuer}),t.create(t.Class.UNIVERSAL,t.Type.INTEGER,!1,e.util.hexToBytes(r.serialNumber))]),t.create(t.Class.UNIVERSAL,t.Type.SEQUENCE,!0,[t.create(t.Class.UNIVERSAL,t.Type.OID,!1,t.oidToDer(r.encryptedContent.algorithm).getBytes()),t.create(t.Class.UNIVERSAL,t.Type.NULL,!1,"")]),t.create(t.Class.UNIVERSAL,t.Type.OCTETSTRING,!1,r.encryptedContent.content)])}function i(e){for(var t=[],r=0;r<e.length;++r)t.push(n(e[r]));return t}function s(e){for(var t=[],r=0;r<e.length;++r)t.push(a(e[r]));return t}function o(n){var a={},i=[];if(!t.validate(n,r.asn1.signerInfoValidator,a,i)){var s=new Error("Cannot read PKCS#7 SignerInfo. ASN.1 object is not an PKCS#7 SignerInfo.");throw s.errors=i,s}var o={version:a.version.charCodeAt(0),issuer:e.pki.RDNAttributesAsArray(a.issuer),serialNumber:e.util.createBuffer(a.serial).toHex(),digestAlgorithm:t.derToOid(a.digestAlgorithm),signatureAlgorithm:t.derToOid(a.signatureAlgorithm),signature:a.signature,authenticatedAttributes:[],unauthenticatedAttributes:[]};a.authenticatedAttributes,a.unauthenticatedAttributes;return o}function c(r){var n=t.create(t.Class.UNIVERSAL,t.Type.SEQUENCE,!0,[t.create(t.Class.UNIVERSAL,t.Type.INTEGER,!1,t.integerToDer(r.version).getBytes()),t.create(t.Class.UNIVERSAL,t.Type.SEQUENCE,!0,[e.pki.distinguishedNameToAsn1({attributes:r.issuer}),t.create(t.Class.UNIVERSAL,t.Type.INTEGER,!1,e.util.hexToBytes(r.serialNumber))]),t.create(t.Class.UNIVERSAL,t.Type.SEQUENCE,!0,[t.create(t.Class.UNIVERSAL,t.Type.OID,!1,t.oidToDer(r.digestAlgorithm).getBytes()),t.create(t.Class.UNIVERSAL,t.Type.NULL,!1,"")])]);if(r.authenticatedAttributesAsn1&&n.value.push(r.authenticatedAttributesAsn1),n.value.push(t.create(t.Class.UNIVERSAL,t.Type.SEQUENCE,!0,[t.create(t.Class.UNIVERSAL,t.Type.OID,!1,t.oidToDer(r.signatureAlgorithm).getBytes()),t.create(t.Class.UNIVERSAL,t.Type.NULL,!1,"")])),n.value.push(t.create(t.Class.UNIVERSAL,t.Type.OCTETSTRING,!1,r.signature)),r.unauthenticatedAttributes.length>0){for(var a=t.create(t.Class.CONTEXT_SPECIFIC,1,!0,[]),i=0;i<r.unauthenticatedAttributes.length;++i){var s=r.unauthenticatedAttributes[i];a.values.push(u(s))}n.value.push(a)}return n}function p(e){for(var t=[],r=0;r<e.length;++r)t.push(o(e[r]));return t}function d(e){for(var t=[],r=0;r<e.length;++r)t.push(c(e[r]));return t}function u(r){var n;if(r.type===e.pki.oids.contentType)n=t.create(t.Class.UNIVERSAL,t.Type.OID,!1,t.oidToDer(r.value).getBytes());else if(r.type===e.pki.oids.messageDigest)n=t.create(t.Class.UNIVERSAL,t.Type.OCTETSTRING,!1,r.value.bytes());else if(r.type===e.pki.oids.signingTime){var a=new Date("1950-01-01T00:00:00Z"),i=new Date("2050-01-01T00:00:00Z"),s=r.value;if("string"==typeof s){var o=Date.parse(s);s=isNaN(o)?13===s.length?t.utcTimeToDate(s):t.generalizedTimeToDate(s):new Date(o)}n=s>=a&&s<i?t.create(t.Class.UNIVERSAL,t.Type.UTCTIME,!1,t.dateToUtcTime(s)):t.create(t.Class.UNIVERSAL,t.Type.GENERALIZEDTIME,!1,t.dateToGeneralizedTime(s))}return t.create(t.Class.UNIVERSAL,t.Type.SEQUENCE,!0,[t.create(t.Class.UNIVERSAL,t.Type.OID,!1,t.oidToDer(r.type).getBytes()),t.create(t.Class.UNIVERSAL,t.Type.SET,!0,[n])])}function l(r){return[t.create(t.Class.UNIVERSAL,t.Type.OID,!1,t.oidToDer(e.pki.oids.data).getBytes()),t.create(t.Class.UNIVERSAL,t.Type.SEQUENCE,!0,[t.create(t.Class.UNIVERSAL,t.Type.OID,!1,t.oidToDer(r.algorithm).getBytes()),t.create(t.Class.UNIVERSAL,t.Type.OCTETSTRING,!1,r.parameter.getBytes())]),t.create(t.Class.CONTEXT_SPECIFIC,0,!0,[t.create(t.Class.UNIVERSAL,t.Type.OCTETSTRING,!1,r.content.getBytes())])]}function C(r,n,a){var i={};if(!t.validate(n,a,i,[])){var s=new Error("Cannot read PKCS#7 message. ASN.1 object is not a supported PKCS#7 message.");throw s.errors=s,s}if(t.derToOid(i.contentType)!==e.pki.oids.data)throw new Error("Unsupported PKCS#7 message. Only wrapped ContentType Data supported.");if(i.encryptedContent){var o="";if(e.util.isArray(i.encryptedContent))for(var c=0;c<i.encryptedContent.length;++c){if(i.encryptedContent[c].type!==t.Type.OCTETSTRING)throw new Error("Malformed PKCS#7 message, expecting encrypted content constructed of only OCTET STRING objects.");o+=i.encryptedContent[c].value}else o=i.encryptedContent;r.encryptedContent={algorithm:t.derToOid(i.encAlgorithm),parameter:e.util.createBuffer(i.encParameter.value),content:e.util.createBuffer(o)}}if(i.content){o="";if(e.util.isArray(i.content))for(c=0;c<i.content.length;++c){if(i.content[c].type!==t.Type.OCTETSTRING)throw new Error("Malformed PKCS#7 message, expecting content constructed of only OCTET STRING objects.");o+=i.content[c].value}else o=i.content;r.content=e.util.createBuffer(o)}return r.version=i.version.charCodeAt(0),r.rawCapture=i,i}function y(t){if(void 0===t.encryptedContent.key)throw new Error("Symmetric key not available.");if(void 0===t.content){var r;switch(t.encryptedContent.algorithm){case e.pki.oids["aes128-CBC"]:case e.pki.oids["aes192-CBC"]:case e.pki.oids["aes256-CBC"]:r=e.aes.createDecryptionCipher(t.encryptedContent.key);break;case e.pki.oids.desCBC:case e.pki.oids["des-EDE3-CBC"]:r=e.des.createDecryptionCipher(t.encryptedContent.key);break;default:throw new Error("Unsupported symmetric cipher, OID "+t.encryptedContent.algorithm)}if(r.start(t.encryptedContent.parameter),r.update(t.encryptedContent.content),!r.finish())throw new Error("Symmetric decryption failed.");t.content=r.output}}r.messageFromPem=function(n){var a=e.pem.decode(n)[0];if("PKCS7"!==a.type){var i=new Error('Could not convert PKCS#7 message from PEM; PEM header type is not "PKCS#7".');throw i.headerType=a.type,i}if(a.procType&&"ENCRYPTED"===a.procType.type)throw new Error("Could not convert PKCS#7 message from PEM; PEM is encrypted.");var s=t.fromDer(a.body);return r.messageFromAsn1(s)},r.messageToPem=function(r,n){var a={type:"PKCS7",body:t.toDer(r.toAsn1()).getBytes()};return e.pem.encode(a,{maxline:n})},r.messageFromAsn1=function(n){var a={},i=[];if(!t.validate(n,r.asn1.contentInfoValidator,a,i)){var s=new Error("Cannot read PKCS#7 message. ASN.1 object is not an PKCS#7 ContentInfo.");throw s.errors=i,s}var o,c=t.derToOid(a.contentType);switch(c){case e.pki.oids.envelopedData:o=r.createEnvelopedData();break;case e.pki.oids.encryptedData:o=r.createEncryptedData();break;case e.pki.oids.signedData:o=r.createSignedData();break;default:throw new Error("Cannot read PKCS#7 message. ContentType with OID "+c+" is not (yet) supported.")}return o.fromAsn1(a.content.value[0]),o},r.createSignedData=function(){var n=null;return n={type:e.pki.oids.signedData,version:1,certificates:[],crls:[],signers:[],digestAlgorithmIdentifiers:[],contentInfo:null,signerInfos:[],fromAsn1:function(t){if(C(n,t,r.asn1.signedDataValidator),n.certificates=[],n.crls=[],n.digestAlgorithmIdentifiers=[],n.contentInfo=null,n.signerInfos=[],n.rawCapture.certificates)for(var a=n.rawCapture.certificates.value,i=0;i<a.length;++i)n.certificates.push(e.pki.certificateFromAsn1(a[i]))},toAsn1:function(){n.contentInfo||n.sign();for(var r=[],a=0;a<n.certificates.length;++a)r.push(e.pki.certificateToAsn1(n.certificates[a]));var i=[],s=t.create(t.Class.CONTEXT_SPECIFIC,0,!0,[t.create(t.Class.UNIVERSAL,t.Type.SEQUENCE,!0,[t.create(t.Class.UNIVERSAL,t.Type.INTEGER,!1,t.integerToDer(n.version).getBytes()),t.create(t.Class.UNIVERSAL,t.Type.SET,!0,n.digestAlgorithmIdentifiers),n.contentInfo])]);return r.length>0&&s.value[0].value.push(t.create(t.Class.CONTEXT_SPECIFIC,0,!0,r)),i.length>0&&s.value[0].value.push(t.create(t.Class.CONTEXT_SPECIFIC,1,!0,i)),s.value[0].value.push(t.create(t.Class.UNIVERSAL,t.Type.SET,!0,n.signerInfos)),t.create(t.Class.UNIVERSAL,t.Type.SEQUENCE,!0,[t.create(t.Class.UNIVERSAL,t.Type.OID,!1,t.oidToDer(n.type).getBytes()),s])},addSigner:function(t){var r=t.issuer,a=t.serialNumber;if(t.certificate){var i=t.certificate;"string"==typeof i&&(i=e.pki.certificateFromPem(i)),r=i.issuer.attributes,a=i.serialNumber}var s=t.key;if(!s)throw new Error("Could not add PKCS#7 signer; no private key specified.");"string"==typeof s&&(s=e.pki.privateKeyFromPem(s));var o=t.digestAlgorithm||e.pki.oids.sha1;switch(o){case e.pki.oids.sha1:case e.pki.oids.sha256:case e.pki.oids.sha384:case e.pki.oids.sha512:case e.pki.oids.md5:break;default:throw new Error("Could not add PKCS#7 signer; unknown message digest algorithm: "+o)}var c=t.authenticatedAttributes||[];if(c.length>0){for(var p=!1,d=!1,u=0;u<c.length;++u){var l=c[u];if(p||l.type!==e.pki.oids.contentType){if(d||l.type!==e.pki.oids.messageDigest);else if(d=!0,p)break}else if(p=!0,d)break}if(!p||!d)throw new Error("Invalid signer.authenticatedAttributes. If signer.authenticatedAttributes is specified, then it must contain at least two attributes, PKCS #9 content-type and PKCS #9 message-digest.")}n.signers.push({key:s,version:1,issuer:r,serialNumber:a,digestAlgorithm:o,signatureAlgorithm:e.pki.oids.rsaEncryption,signature:null,authenticatedAttributes:c,unauthenticatedAttributes:[]})},sign:function(r){var a;(r=r||{},"object"!=typeof n.content||null===n.contentInfo)&&(n.contentInfo=t.create(t.Class.UNIVERSAL,t.Type.SEQUENCE,!0,[t.create(t.Class.UNIVERSAL,t.Type.OID,!1,t.oidToDer(e.pki.oids.data).getBytes())]),"content"in n&&(n.content instanceof e.util.ByteBuffer?a=n.content.bytes():"string"==typeof n.content&&(a=e.util.encodeUtf8(n.content)),r.detached?n.detachedContent=t.create(t.Class.UNIVERSAL,t.Type.OCTETSTRING,!1,a):n.contentInfo.value.push(t.create(t.Class.CONTEXT_SPECIFIC,0,!0,[t.create(t.Class.UNIVERSAL,t.Type.OCTETSTRING,!1,a)]))));0!==n.signers.length&&function(r){var a;a=n.detachedContent?n.detachedContent:(a=n.contentInfo.value[1]).value[0];if(!a)throw new Error("Could not sign PKCS#7 message; there is no content to sign.");var i=t.derToOid(n.contentInfo.value[0].value),s=t.toDer(a);for(var o in s.getByte(),t.getBerValueLength(s),s=s.getBytes(),r)r[o].start().update(s);for(var c=new Date,p=0;p<n.signers.length;++p){var l=n.signers[p];if(0===l.authenticatedAttributes.length){if(i!==e.pki.oids.data)throw new Error("Invalid signer; authenticatedAttributes must be present when the ContentInfo content type is not PKCS#7 Data.")}else{l.authenticatedAttributesAsn1=t.create(t.Class.CONTEXT_SPECIFIC,0,!0,[]);for(var C=t.create(t.Class.UNIVERSAL,t.Type.SET,!0,[]),y=0;y<l.authenticatedAttributes.length;++y){var E=l.authenticatedAttributes[y];E.type===e.pki.oids.messageDigest?E.value=r[l.digestAlgorithm].digest():E.type===e.pki.oids.signingTime&&(E.value||(E.value=c)),C.value.push(u(E)),l.authenticatedAttributesAsn1.value.push(u(E))}s=t.toDer(C).getBytes(),l.md.start().update(s)}l.signature=l.key.sign(l.md,"RSASSA-PKCS1-V1_5")}n.signerInfos=d(n.signers)}(function(){for(var r={},a=0;a<n.signers.length;++a){var i=n.signers[a],s=i.digestAlgorithm;s in r||(r[s]=e.md[e.pki.oids[s]].create()),0===i.authenticatedAttributes.length?i.md=r[s]:i.md=e.md[e.pki.oids[s]].create()}for(var s in n.digestAlgorithmIdentifiers=[],r)n.digestAlgorithmIdentifiers.push(t.create(t.Class.UNIVERSAL,t.Type.SEQUENCE,!0,[t.create(t.Class.UNIVERSAL,t.Type.OID,!1,t.oidToDer(s).getBytes()),t.create(t.Class.UNIVERSAL,t.Type.NULL,!1,"")]));return r}())},verify:function(){throw new Error("PKCS#7 signature verification not yet implemented.")},addCertificate:function(t){"string"==typeof t&&(t=e.pki.certificateFromPem(t)),n.certificates.push(t)},addCertificateRevokationList:function(e){throw new Error("PKCS#7 CRL support not yet implemented.")}}},r.createEncryptedData=function(){var t=null;return t={type:e.pki.oids.encryptedData,version:0,encryptedContent:{algorithm:e.pki.oids["aes256-CBC"]},fromAsn1:function(e){C(t,e,r.asn1.encryptedDataValidator)},decrypt:function(e){void 0!==e&&(t.encryptedContent.key=e),y(t)}}},r.createEnvelopedData=function(){var n=null;return n={type:e.pki.oids.envelopedData,version:0,recipients:[],encryptedContent:{algorithm:e.pki.oids["aes256-CBC"]},fromAsn1:function(e){var t=C(n,e,r.asn1.envelopedDataValidator);n.recipients=i(t.recipientInfos.value)},toAsn1:function(){return t.create(t.Class.UNIVERSAL,t.Type.SEQUENCE,!0,[t.create(t.Class.UNIVERSAL,t.Type.OID,!1,t.oidToDer(n.type).getBytes()),t.create(t.Class.CONTEXT_SPECIFIC,0,!0,[t.create(t.Class.UNIVERSAL,t.Type.SEQUENCE,!0,[t.create(t.Class.UNIVERSAL,t.Type.INTEGER,!1,t.integerToDer(n.version).getBytes()),t.create(t.Class.UNIVERSAL,t.Type.SET,!0,s(n.recipients)),t.create(t.Class.UNIVERSAL,t.Type.SEQUENCE,!0,l(n.encryptedContent))])])])},findRecipient:function(e){for(var t=e.issuer.attributes,r=0;r<n.recipients.length;++r){var a=n.recipients[r],i=a.issuer;if(a.serialNumber===e.serialNumber&&i.length===t.length){for(var s=!0,o=0;o<t.length;++o)if(i[o].type!==t[o].type||i[o].value!==t[o].value){s=!1;break}if(s)return a}}return null},decrypt:function(t,r){if(void 0===n.encryptedContent.key&&void 0!==t&&void 0!==r)switch(t.encryptedContent.algorithm){case e.pki.oids.rsaEncryption:case e.pki.oids.desCBC:var a=r.decrypt(t.encryptedContent.content);n.encryptedContent.key=e.util.createBuffer(a);break;default:throw new Error("Unsupported asymmetric cipher, OID "+t.encryptedContent.algorithm)}y(n)},addRecipient:function(t){n.recipients.push({version:0,issuer:t.issuer.attributes,serialNumber:t.serialNumber,encryptedContent:{algorithm:e.pki.oids.rsaEncryption,key:t.publicKey}})},encrypt:function(t,r){if(void 0===n.encryptedContent.content){var a,i,s;switch(r=r||n.encryptedContent.algorithm,t=t||n.encryptedContent.key,r){case e.pki.oids["aes128-CBC"]:a=16,i=16,s=e.aes.createEncryptionCipher;break;case e.pki.oids["aes192-CBC"]:a=24,i=16,s=e.aes.createEncryptionCipher;break;case e.pki.oids["aes256-CBC"]:a=32,i=16,s=e.aes.createEncryptionCipher;break;case e.pki.oids["des-EDE3-CBC"]:a=24,i=8,s=e.des.createEncryptionCipher;break;default:throw new Error("Unsupported symmetric cipher, OID "+r)}if(void 0===t)t=e.util.createBuffer(e.random.getBytes(a));else if(t.length()!=a)throw new Error("Symmetric key has wrong length; got "+t.length()+" bytes, expected "+a+".");n.encryptedContent.algorithm=r,n.encryptedContent.key=t,n.encryptedContent.parameter=e.util.createBuffer(e.random.getBytes(i));var o=s(t);if(o.start(n.encryptedContent.parameter.copy()),o.update(n.content),!o.finish())throw new Error("Symmetric encryption failed.");n.encryptedContent.content=o.output}for(var c=0;c<n.recipients.length;++c){var p=n.recipients[c];if(void 0===p.encryptedContent.content)switch(p.encryptedContent.algorithm){case e.pki.oids.rsaEncryption:p.encryptedContent.content=p.encryptedContent.key.encrypt(n.encryptedContent.key.data);break;default:throw new Error("Unsupported asymmetric cipher, OID "+p.encryptedContent.algorithm)}}}}};
},{"./forge":"o20S","./aes":"EkQ3","./asn1":"BA5j","./des":"XbkJ","./oids":"rbLR","./pem":"ClqA","./pkcs7asn1":"Z3HL","./random":"Gfwb","./util":"lWyh","./x509":"CJHG"}],"M1Ai":[function(require,module,exports) {
var t=require("./forge");require("./util");var r=[217,120,249,196,25,221,181,237,40,233,253,121,74,160,216,157,198,126,55,131,43,118,83,142,98,76,100,136,68,139,251,162,23,154,89,245,135,179,79,19,97,69,109,141,9,129,125,50,189,143,64,235,134,183,123,11,240,149,33,34,92,107,78,130,84,214,101,147,206,96,178,28,115,86,192,20,167,140,241,220,18,117,202,31,59,190,228,209,66,61,212,48,163,60,182,38,111,191,14,218,70,105,7,87,39,242,29,155,188,148,67,3,248,17,199,246,144,239,62,231,6,195,213,47,200,102,30,215,8,232,234,222,128,82,238,247,132,170,114,172,53,77,106,42,150,26,210,113,90,21,73,116,75,159,208,94,4,24,164,236,194,224,65,110,15,81,203,204,36,145,175,80,161,244,112,57,153,124,58,133,35,184,180,122,252,2,54,91,37,85,151,49,45,93,250,152,227,138,146,174,5,223,41,16,103,108,186,201,211,0,230,207,225,158,168,44,99,22,1,63,88,226,137,169,13,56,52,27,171,51,255,176,187,72,12,95,185,177,205,46,197,243,219,71,229,165,156,119,10,166,32,104,254,127,193,173],e=[1,2,3,5],n=function(t,r){return t<<r&65535|(65535&t)>>16-r},u=function(t,r){return(65535&t)>>r|t<<16-r&65535};module.exports=t.rc2=t.rc2||{},t.rc2.expandKey=function(e,n){"string"==typeof e&&(e=t.util.createBuffer(e)),n=n||128;var u,f=e,i=e.length(),c=n,a=Math.ceil(c/8),o=255>>(7&c);for(u=i;u<128;u++)f.putByte(r[f.at(u-1)+f.at(u-i)&255]);for(f.setAt(128-a,r[f.at(128-a)&o]),u=127-a;u>=0;u--)f.setAt(u,r[f.at(u+1)^f.at(u+a)]);return f};var f=function(r,f,i){var c,a,o,l,p=!1,g=null,h=null,s=null,v=[];for(r=t.rc2.expandKey(r,f),o=0;o<64;o++)v.push(r.getInt16Le());i?(c=function(t){for(o=0;o<4;o++)t[o]+=v[l]+(t[(o+3)%4]&t[(o+2)%4])+(~t[(o+3)%4]&t[(o+1)%4]),t[o]=n(t[o],e[o]),l++},a=function(t){for(o=0;o<4;o++)t[o]+=v[63&t[(o+3)%4]]}):(c=function(t){for(o=3;o>=0;o--)t[o]=u(t[o],e[o]),t[o]-=v[l]+(t[(o+3)%4]&t[(o+2)%4])+(~t[(o+3)%4]&t[(o+1)%4]),l--},a=function(t){for(o=3;o>=0;o--)t[o]-=v[63&t[(o+3)%4]]});var y=function(t){var r=[];for(o=0;o<4;o++){var e=g.getInt16Le();null!==s&&(i?e^=s.getInt16Le():s.putInt16Le(e)),r.push(65535&e)}l=i?0:63;for(var n=0;n<t.length;n++)for(var u=0;u<t[n][0];u++)t[n][1](r);for(o=0;o<4;o++)null!==s&&(i?s.putInt16Le(r[o]):r[o]^=s.getInt16Le()),h.putInt16Le(r[o])},B=null;return B={start:function(r,e){r&&"string"==typeof r&&(r=t.util.createBuffer(r)),p=!1,g=t.util.createBuffer(),h=e||new t.util.createBuffer,s=r,B.output=h},update:function(t){for(p||g.putBuffer(t);g.length()>=8;)y([[5,c],[1,a],[6,c],[1,a],[5,c]])},finish:function(t){var r=!0;if(i)if(t)r=t(8,g,!i);else{var e=8===g.length()?8:8-g.length();g.fillWithByte(e,e)}if(r&&(p=!0,B.update()),!i&&(r=0===g.length()))if(t)r=t(8,h,!i);else{var n=h.length(),u=h.at(n-1);u>n?r=!1:h.truncate(u)}return r}}};t.rc2.startEncrypting=function(r,e,n){var u=t.rc2.createEncryptionCipher(r,128);return u.start(e,n),u},t.rc2.createEncryptionCipher=function(t,r){return f(t,r,!0)},t.rc2.startDecrypting=function(r,e,n){var u=t.rc2.createDecryptionCipher(r,128);return u.start(e,n),u},t.rc2.createDecryptionCipher=function(t,r){return f(t,r,!1)};
},{"./forge":"o20S","./util":"lWyh"}],"DWC4":[function(require,module,exports) {
var e=require("./forge");if(require("./aes"),require("./asn1"),require("./des"),require("./md"),require("./oids"),require("./pbkdf2"),require("./pem"),require("./random"),require("./rc2"),require("./rsa"),require("./util"),void 0===t)var t=e.jsbn.BigInteger;var r=e.asn1,a=e.pki=e.pki||{};module.exports=a.pbe=e.pbe=e.pbe||{};var s=a.oids,n={name:"EncryptedPrivateKeyInfo",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedPrivateKeyInfo.encryptionAlgorithm",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:r.Class.UNIVERSAL,type:r.Type.OID,constructed:!1,capture:"encryptionOid"},{name:"AlgorithmIdentifier.parameters",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,captureAsn1:"encryptionParams"}]},{name:"EncryptedPrivateKeyInfo.encryptedData",tagClass:r.Class.UNIVERSAL,type:r.Type.OCTETSTRING,constructed:!1,capture:"encryptedData"}]},i={name:"PBES2Algorithms",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.keyDerivationFunc",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.keyDerivationFunc.oid",tagClass:r.Class.UNIVERSAL,type:r.Type.OID,constructed:!1,capture:"kdfOid"},{name:"PBES2Algorithms.params",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.params.salt",tagClass:r.Class.UNIVERSAL,type:r.Type.OCTETSTRING,constructed:!1,capture:"kdfSalt"},{name:"PBES2Algorithms.params.iterationCount",tagClass:r.Class.UNIVERSAL,type:r.Type.INTEGER,constructed:!1,capture:"kdfIterationCount"},{name:"PBES2Algorithms.params.keyLength",tagClass:r.Class.UNIVERSAL,type:r.Type.INTEGER,constructed:!1,optional:!0,capture:"keyLength"},{name:"PBES2Algorithms.params.prf",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,optional:!0,value:[{name:"PBES2Algorithms.params.prf.algorithm",tagClass:r.Class.UNIVERSAL,type:r.Type.OID,constructed:!1,capture:"prfOid"}]}]}]},{name:"PBES2Algorithms.encryptionScheme",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.encryptionScheme.oid",tagClass:r.Class.UNIVERSAL,type:r.Type.OID,constructed:!1,capture:"encOid"},{name:"PBES2Algorithms.encryptionScheme.iv",tagClass:r.Class.UNIVERSAL,type:r.Type.OCTETSTRING,constructed:!1,capture:"encIv"}]}]},o={name:"pkcs-12PbeParams",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,value:[{name:"pkcs-12PbeParams.salt",tagClass:r.Class.UNIVERSAL,type:r.Type.OCTETSTRING,constructed:!1,capture:"salt"},{name:"pkcs-12PbeParams.iterations",tagClass:r.Class.UNIVERSAL,type:r.Type.INTEGER,constructed:!1,capture:"iterations"}]};function p(e,t){return e.start().update(t).digest().getBytes()}function c(e){var t;if(e){if(!(t=a.oids[r.derToOid(e)])){var s=new Error("Unsupported PRF OID.");throw s.oid=e,s.supported=["hmacWithSHA1","hmacWithSHA224","hmacWithSHA256","hmacWithSHA384","hmacWithSHA512"],s}}else t="hmacWithSHA1";return y(t)}function y(t){var r=e.md;switch(t){case"hmacWithSHA224":r=e.md.sha512;case"hmacWithSHA1":case"hmacWithSHA256":case"hmacWithSHA384":case"hmacWithSHA512":t=t.substr(8).toLowerCase();break;default:var a=new Error("Unsupported PRF algorithm.");throw a.algorithm=t,a.supported=["hmacWithSHA1","hmacWithSHA224","hmacWithSHA256","hmacWithSHA384","hmacWithSHA512"],a}if(!(r&&t in r))throw new Error("Unknown hash algorithm: "+t);return r[t].create()}function E(t,s,n,i){var o=r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.UNIVERSAL,r.Type.OCTETSTRING,!1,t),r.create(r.Class.UNIVERSAL,r.Type.INTEGER,!1,s.getBytes())]);return"hmacWithSHA1"!==i&&o.value.push(r.create(r.Class.UNIVERSAL,r.Type.INTEGER,!1,e.util.hexToBytes(n.toString(16))),r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.UNIVERSAL,r.Type.OID,!1,r.oidToDer(a.oids[i]).getBytes()),r.create(r.Class.UNIVERSAL,r.Type.NULL,!1,"")])),o}a.encryptPrivateKeyInfo=function(t,n,i){(i=i||{}).saltSize=i.saltSize||8,i.count=i.count||2048,i.algorithm=i.algorithm||"aes128",i.prfAlgorithm=i.prfAlgorithm||"sha1";var o,p,c,C=e.random.getBytesSync(i.saltSize),d=i.count,l=r.integerToDer(d);if(0===i.algorithm.indexOf("aes")||"des"===i.algorithm){var u,h,S;switch(i.algorithm){case"aes128":o=16,u=16,h=s["aes128-CBC"],S=e.aes.createEncryptionCipher;break;case"aes192":o=24,u=16,h=s["aes192-CBC"],S=e.aes.createEncryptionCipher;break;case"aes256":o=32,u=16,h=s["aes256-CBC"],S=e.aes.createEncryptionCipher;break;case"des":o=8,u=8,h=s.desCBC,S=e.des.createEncryptionCipher;break;default:throw(T=new Error("Cannot encrypt private key. Unknown encryption algorithm.")).algorithm=i.algorithm,T}var m="hmacWith"+i.prfAlgorithm.toUpperCase(),f=y(m),B=e.pkcs5.pbkdf2(n,C,d,o,f),g=e.random.getBytesSync(u);(v=S(B)).start(g),v.update(r.toDer(t)),v.finish(),c=v.output.getBytes();var A=E(C,l,o,m);p=r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.UNIVERSAL,r.Type.OID,!1,r.oidToDer(s.pkcs5PBES2).getBytes()),r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.UNIVERSAL,r.Type.OID,!1,r.oidToDer(s.pkcs5PBKDF2).getBytes()),A]),r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.UNIVERSAL,r.Type.OID,!1,r.oidToDer(h).getBytes()),r.create(r.Class.UNIVERSAL,r.Type.OCTETSTRING,!1,g)])])])}else{var T;if("3des"!==i.algorithm)throw(T=new Error("Cannot encrypt private key. Unknown encryption algorithm.")).algorithm=i.algorithm,T;o=24;var v,I=new e.util.ByteBuffer(C);B=a.pbe.generatePkcs12Key(n,I,1,d,o),g=a.pbe.generatePkcs12Key(n,I,2,d,o);(v=e.des.createEncryptionCipher(B)).start(g),v.update(r.toDer(t)),v.finish(),c=v.output.getBytes(),p=r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.UNIVERSAL,r.Type.OID,!1,r.oidToDer(s["pbeWithSHAAnd3-KeyTripleDES-CBC"]).getBytes()),r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.UNIVERSAL,r.Type.OCTETSTRING,!1,C),r.create(r.Class.UNIVERSAL,r.Type.INTEGER,!1,l.getBytes())])])}return r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[p,r.create(r.Class.UNIVERSAL,r.Type.OCTETSTRING,!1,c)])},a.decryptPrivateKeyInfo=function(t,s){var i=null,o={},p=[];if(!r.validate(t,n,o,p)){var c=new Error("Cannot read encrypted private key. ASN.1 object is not a supported EncryptedPrivateKeyInfo.");throw c.errors=p,c}var y=r.derToOid(o.encryptionOid),E=a.pbe.getCipher(y,o.encryptionParams,s),C=e.util.createBuffer(o.encryptedData);return E.update(C),E.finish()&&(i=r.fromDer(E.output)),i},a.encryptedPrivateKeyToPem=function(t,a){var s={type:"ENCRYPTED PRIVATE KEY",body:r.toDer(t).getBytes()};return e.pem.encode(s,{maxline:a})},a.encryptedPrivateKeyFromPem=function(t){var a=e.pem.decode(t)[0];if("ENCRYPTED PRIVATE KEY"!==a.type){var s=new Error('Could not convert encrypted private key from PEM; PEM header type is "ENCRYPTED PRIVATE KEY".');throw s.headerType=a.type,s}if(a.procType&&"ENCRYPTED"===a.procType.type)throw new Error("Could not convert encrypted private key from PEM; PEM is encrypted.");return r.fromDer(a.body)},a.encryptRsaPrivateKey=function(t,s,n){if(!(n=n||{}).legacy){var i=a.wrapRsaPrivateKey(a.privateKeyToAsn1(t));return i=a.encryptPrivateKeyInfo(i,s,n),a.encryptedPrivateKeyToPem(i)}var o,p,c,y;switch(n.algorithm){case"aes128":o="AES-128-CBC",c=16,p=e.random.getBytesSync(16),y=e.aes.createEncryptionCipher;break;case"aes192":o="AES-192-CBC",c=24,p=e.random.getBytesSync(16),y=e.aes.createEncryptionCipher;break;case"aes256":o="AES-256-CBC",c=32,p=e.random.getBytesSync(16),y=e.aes.createEncryptionCipher;break;case"3des":o="DES-EDE3-CBC",c=24,p=e.random.getBytesSync(8),y=e.des.createEncryptionCipher;break;case"des":o="DES-CBC",c=8,p=e.random.getBytesSync(8),y=e.des.createEncryptionCipher;break;default:var E=new Error('Could not encrypt RSA private key; unsupported encryption algorithm "'+n.algorithm+'".');throw E.algorithm=n.algorithm,E}var C=y(e.pbe.opensslDeriveBytes(s,p.substr(0,8),c));C.start(p),C.update(r.toDer(a.privateKeyToAsn1(t))),C.finish();var d={type:"RSA PRIVATE KEY",procType:{version:"4",type:"ENCRYPTED"},dekInfo:{algorithm:o,parameters:e.util.bytesToHex(p).toUpperCase()},body:C.output.getBytes()};return e.pem.encode(d)},a.decryptRsaPrivateKey=function(t,s){var n=null,i=e.pem.decode(t)[0];if("ENCRYPTED PRIVATE KEY"!==i.type&&"PRIVATE KEY"!==i.type&&"RSA PRIVATE KEY"!==i.type)throw(c=new Error('Could not convert private key from PEM; PEM header type is not "ENCRYPTED PRIVATE KEY", "PRIVATE KEY", or "RSA PRIVATE KEY".')).headerType=c,c;if(i.procType&&"ENCRYPTED"===i.procType.type){var o,p;switch(i.dekInfo.algorithm){case"DES-CBC":o=8,p=e.des.createDecryptionCipher;break;case"DES-EDE3-CBC":o=24,p=e.des.createDecryptionCipher;break;case"AES-128-CBC":o=16,p=e.aes.createDecryptionCipher;break;case"AES-192-CBC":o=24,p=e.aes.createDecryptionCipher;break;case"AES-256-CBC":o=32,p=e.aes.createDecryptionCipher;break;case"RC2-40-CBC":o=5,p=function(t){return e.rc2.createDecryptionCipher(t,40)};break;case"RC2-64-CBC":o=8,p=function(t){return e.rc2.createDecryptionCipher(t,64)};break;case"RC2-128-CBC":o=16,p=function(t){return e.rc2.createDecryptionCipher(t,128)};break;default:var c;throw(c=new Error('Could not decrypt private key; unsupported encryption algorithm "'+i.dekInfo.algorithm+'".')).algorithm=i.dekInfo.algorithm,c}var y=e.util.hexToBytes(i.dekInfo.parameters),E=p(e.pbe.opensslDeriveBytes(s,y.substr(0,8),o));if(E.start(y),E.update(e.util.createBuffer(i.body)),!E.finish())return n;n=E.output.getBytes()}else n=i.body;return null!==(n="ENCRYPTED PRIVATE KEY"===i.type?a.decryptPrivateKeyInfo(r.fromDer(n),s):r.fromDer(n))&&(n=a.privateKeyFromAsn1(n)),n},a.pbe.generatePkcs12Key=function(t,r,a,s,n,i){var o,p;if(null==i){if(!("sha1"in e.md))throw new Error('"sha1" hash algorithm unavailable.');i=e.md.sha1.create()}var c=i.digestLength,y=i.blockLength,E=new e.util.ByteBuffer,C=new e.util.ByteBuffer;if(null!=t){for(p=0;p<t.length;p++)C.putInt16(t.charCodeAt(p));C.putInt16(0)}var d=C.length(),l=r.length(),u=new e.util.ByteBuffer;u.fillWithByte(a,y);var h=y*Math.ceil(l/y),S=new e.util.ByteBuffer;for(p=0;p<h;p++)S.putByte(r.at(p%l));var m=y*Math.ceil(d/y),f=new e.util.ByteBuffer;for(p=0;p<m;p++)f.putByte(C.at(p%d));var B=S;B.putBuffer(f);for(var g=Math.ceil(n/c),A=1;A<=g;A++){var T=new e.util.ByteBuffer;T.putBytes(u.bytes()),T.putBytes(B.bytes());for(var v=0;v<s;v++)i.start(),i.update(T.getBytes()),T=i.digest();var I=new e.util.ByteBuffer;for(p=0;p<y;p++)I.putByte(T.at(p%c));var R=Math.ceil(l/y)+Math.ceil(d/y),N=new e.util.ByteBuffer;for(o=0;o<R;o++){var P=new e.util.ByteBuffer(B.getBytes(y)),b=511;for(p=I.length()-1;p>=0;p--)b>>=8,b+=I.at(p)+P.at(p),P.setAt(p,255&b);N.putBuffer(P)}B=N,E.putBuffer(T)}return E.truncate(E.length()-n),E},a.pbe.getCipher=function(e,t,r){switch(e){case a.oids.pkcs5PBES2:return a.pbe.getCipherForPBES2(e,t,r);case a.oids["pbeWithSHAAnd3-KeyTripleDES-CBC"]:case a.oids["pbewithSHAAnd40BitRC2-CBC"]:return a.pbe.getCipherForPKCS12PBE(e,t,r);default:var s=new Error("Cannot read encrypted PBE data block. Unsupported OID.");throw s.oid=e,s.supportedOids=["pkcs5PBES2","pbeWithSHAAnd3-KeyTripleDES-CBC","pbewithSHAAnd40BitRC2-CBC"],s}},a.pbe.getCipherForPBES2=function(t,s,n){var o,p={},y=[];if(!r.validate(s,i,p,y))throw(o=new Error("Cannot read password-based-encryption algorithm parameters. ASN.1 object is not a supported EncryptedPrivateKeyInfo.")).errors=y,o;if((t=r.derToOid(p.kdfOid))!==a.oids.pkcs5PBKDF2)throw(o=new Error("Cannot read encrypted private key. Unsupported key derivation function OID.")).oid=t,o.supportedOids=["pkcs5PBKDF2"],o;if((t=r.derToOid(p.encOid))!==a.oids["aes128-CBC"]&&t!==a.oids["aes192-CBC"]&&t!==a.oids["aes256-CBC"]&&t!==a.oids["des-EDE3-CBC"]&&t!==a.oids.desCBC)throw(o=new Error("Cannot read encrypted private key. Unsupported encryption scheme OID.")).oid=t,o.supportedOids=["aes128-CBC","aes192-CBC","aes256-CBC","des-EDE3-CBC","desCBC"],o;var E,C,d=p.kdfSalt,l=e.util.createBuffer(p.kdfIterationCount);switch(l=l.getInt(l.length()<<3),a.oids[t]){case"aes128-CBC":E=16,C=e.aes.createDecryptionCipher;break;case"aes192-CBC":E=24,C=e.aes.createDecryptionCipher;break;case"aes256-CBC":E=32,C=e.aes.createDecryptionCipher;break;case"des-EDE3-CBC":E=24,C=e.des.createDecryptionCipher;break;case"desCBC":E=8,C=e.des.createDecryptionCipher}var u=c(p.prfOid),h=e.pkcs5.pbkdf2(n,d,l,E,u),S=p.encIv,m=C(h);return m.start(S),m},a.pbe.getCipherForPKCS12PBE=function(t,s,n){var i={},p=[];if(!r.validate(s,o,i,p))throw(u=new Error("Cannot read password-based-encryption algorithm parameters. ASN.1 object is not a supported EncryptedPrivateKeyInfo.")).errors=p,u;var y,E,C,d=e.util.createBuffer(i.salt),l=e.util.createBuffer(i.iterations);switch(l=l.getInt(l.length()<<3),t){case a.oids["pbeWithSHAAnd3-KeyTripleDES-CBC"]:y=24,E=8,C=e.des.startDecrypting;break;case a.oids["pbewithSHAAnd40BitRC2-CBC"]:y=5,E=8,C=function(t,r){var a=e.rc2.createDecryptionCipher(t,40);return a.start(r,null),a};break;default:var u;throw(u=new Error("Cannot read PKCS #12 PBE data block. Unsupported OID.")).oid=t,u}var h=c(i.prfOid),S=a.pbe.generatePkcs12Key(n,d,1,l,y,h);return h.start(),C(S,a.pbe.generatePkcs12Key(n,d,2,l,E,h))},a.pbe.opensslDeriveBytes=function(t,r,a,s){if(null==s){if(!("md5"in e.md))throw new Error('"md5" hash algorithm unavailable.');s=e.md.md5.create()}null===r&&(r="");for(var n=[p(s,t+r)],i=16,o=1;i<a;++o,i+=16)n.push(p(s,n[o-1]+t+r));return n.join("").substr(0,a)};
},{"./forge":"o20S","./aes":"EkQ3","./asn1":"BA5j","./des":"XbkJ","./md":"Tsiu","./oids":"rbLR","./pbkdf2":"Uyyi","./pem":"ClqA","./random":"Gfwb","./rc2":"M1Ai","./rsa":"HL1S","./util":"lWyh"}],"yHod":[function(require,module,exports) {
var e=require("./forge");require("./asn1"),require("./hmac"),require("./oids"),require("./pkcs7asn1"),require("./pbe"),require("./random"),require("./rsa"),require("./sha1"),require("./util"),require("./x509");var a=e.asn1,t=e.pki,r=module.exports=e.pkcs12=e.pkcs12||{},s={name:"ContentInfo",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,value:[{name:"ContentInfo.contentType",tagClass:a.Class.UNIVERSAL,type:a.Type.OID,constructed:!1,capture:"contentType"},{name:"ContentInfo.content",tagClass:a.Class.CONTEXT_SPECIFIC,constructed:!0,captureAsn1:"content"}]},o={name:"PFX",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,value:[{name:"PFX.version",tagClass:a.Class.UNIVERSAL,type:a.Type.INTEGER,constructed:!1,capture:"version"},s,{name:"PFX.macData",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,optional:!0,captureAsn1:"mac",value:[{name:"PFX.macData.mac",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,value:[{name:"PFX.macData.mac.digestAlgorithm",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,value:[{name:"PFX.macData.mac.digestAlgorithm.algorithm",tagClass:a.Class.UNIVERSAL,type:a.Type.OID,constructed:!1,capture:"macAlgorithm"},{name:"PFX.macData.mac.digestAlgorithm.parameters",tagClass:a.Class.UNIVERSAL,captureAsn1:"macAlgorithmParameters"}]},{name:"PFX.macData.mac.digest",tagClass:a.Class.UNIVERSAL,type:a.Type.OCTETSTRING,constructed:!1,capture:"macDigest"}]},{name:"PFX.macData.macSalt",tagClass:a.Class.UNIVERSAL,type:a.Type.OCTETSTRING,constructed:!1,capture:"macSalt"},{name:"PFX.macData.iterations",tagClass:a.Class.UNIVERSAL,type:a.Type.INTEGER,constructed:!1,optional:!0,capture:"macIterations"}]}]},n={name:"SafeBag",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,value:[{name:"SafeBag.bagId",tagClass:a.Class.UNIVERSAL,type:a.Type.OID,constructed:!1,capture:"bagId"},{name:"SafeBag.bagValue",tagClass:a.Class.CONTEXT_SPECIFIC,constructed:!0,captureAsn1:"bagValue"},{name:"SafeBag.bagAttributes",tagClass:a.Class.UNIVERSAL,type:a.Type.SET,constructed:!0,optional:!0,capture:"bagAttributes"}]},c={name:"Attribute",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,value:[{name:"Attribute.attrId",tagClass:a.Class.UNIVERSAL,type:a.Type.OID,constructed:!1,capture:"oid"},{name:"Attribute.attrValues",tagClass:a.Class.UNIVERSAL,type:a.Type.SET,constructed:!0,capture:"values"}]},l={name:"CertBag",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,value:[{name:"CertBag.certId",tagClass:a.Class.UNIVERSAL,type:a.Type.OID,constructed:!1,capture:"certId"},{name:"CertBag.certValue",tagClass:a.Class.CONTEXT_SPECIFIC,constructed:!0,value:[{name:"CertBag.certValue[0]",tagClass:a.Class.UNIVERSAL,type:a.Class.OCTETSTRING,constructed:!1,capture:"cert"}]}]};function i(e,a,t,r){for(var s=[],o=0;o<e.length;o++)for(var n=0;n<e[o].safeBags.length;n++){var c=e[o].safeBags[n];void 0!==r&&c.type!==r||(null!==a?void 0!==c.attributes[a]&&c.attributes[a].indexOf(t)>=0&&s.push(c):s.push(c))}return s}function C(a){if(a.composed||a.constructed){for(var t=e.util.createBuffer(),r=0;r<a.value.length;++r)t.putBytes(a.value[r].value);a.composed=a.constructed=!1,a.value=t.getBytes()}return a}function d(e,r,o,n){if((r=a.fromDer(r,o)).tagClass!==a.Class.UNIVERSAL||r.type!==a.Type.SEQUENCE||!0!==r.constructed)throw new Error("PKCS#12 AuthenticatedSafe expected to be a SEQUENCE OF ContentInfo");for(var c=0;c<r.value.length;c++){var l=r.value[c],i={},d=[];if(!a.validate(l,s,i,d))throw(S=new Error("Cannot read ContentInfo.")).errors=d,S;var p={encrypted:!1},u=null,T=i.content.value[0];switch(a.derToOid(i.contentType)){case t.oids.data:if(T.tagClass!==a.Class.UNIVERSAL||T.type!==a.Type.OCTETSTRING)throw new Error("PKCS#12 SafeContents Data is not an OCTET STRING.");u=C(T).value;break;case t.oids.encryptedData:u=E(T,n),p.encrypted=!0;break;default:var S;throw(S=new Error("Unsupported PKCS#12 contentType.")).contentType=a.derToOid(i.contentType),S}p.safeBags=y(u,o,n),e.safeContents.push(p)}}function E(r,s){var o={},n=[];if(!a.validate(r,e.pkcs7.asn1.encryptedDataValidator,o,n))throw(c=new Error("Cannot read EncryptedContentInfo.")).errors=n,c;var c,l=a.derToOid(o.contentType);if(l!==t.oids.data)throw(c=new Error("PKCS#12 EncryptedContentInfo ContentType is not Data.")).oid=l,c;l=a.derToOid(o.encAlgorithm);var i=t.pbe.getCipher(l,o.encParameter,s),d=C(o.encryptedContentAsn1),E=e.util.createBuffer(d.value);if(i.update(E),!i.finish())throw new Error("Failed to decrypt PKCS#12 SafeContents.");return i.output.getBytes()}function y(e,r,s){if(!r&&0===e.length)return[];if((e=a.fromDer(e,r)).tagClass!==a.Class.UNIVERSAL||e.type!==a.Type.SEQUENCE||!0!==e.constructed)throw new Error("PKCS#12 SafeContents expected to be a SEQUENCE OF SafeBag.");for(var o=[],c=0;c<e.value.length;c++){var i=e.value[c],C={},d=[];if(!a.validate(i,n,C,d))throw(S=new Error("Cannot read SafeBag.")).errors=d,S;var E,y,u={type:a.derToOid(C.bagId),attributes:p(C.bagAttributes)};o.push(u);var T=C.bagValue.value[0];switch(u.type){case t.oids.pkcs8ShroudedKeyBag:if(null===(T=t.decryptPrivateKeyInfo(T,s)))throw new Error("Unable to decrypt PKCS#8 ShroudedKeyBag, wrong password?");case t.oids.keyBag:try{u.key=t.privateKeyFromAsn1(T)}catch(I){u.key=null,u.asn1=T}continue;case t.oids.certBag:E=l,y=function(){if(a.derToOid(C.certId)!==t.oids.x509Certificate){var e=new Error("Unsupported certificate type, only X.509 supported.");throw e.oid=a.derToOid(C.certId),e}var s=a.fromDer(C.cert,r);try{u.cert=t.certificateFromAsn1(s,!0)}catch(I){u.cert=null,u.asn1=s}};break;default:var S;throw(S=new Error("Unsupported PKCS#12 SafeBag type.")).oid=u.type,S}if(void 0!==E&&!a.validate(T,E,C,d))throw(S=new Error("Cannot read PKCS#12 "+E.name)).errors=d,S;y()}return o}function p(e){var r={};if(void 0!==e)for(var s=0;s<e.length;++s){var o={},n=[];if(!a.validate(e[s],c,o,n)){var l=new Error("Cannot read PKCS#12 BagAttribute.");throw l.errors=n,l}var i=a.derToOid(o.oid);if(void 0!==t.oids[i]){r[t.oids[i]]=[];for(var C=0;C<o.values.length;++C)r[t.oids[i]].push(o.values[C].value)}}return r}r.pkcs12FromAsn1=function(s,n,c){"string"==typeof n?(c=n,n=!0):void 0===n&&(n=!0);var l={};if(!a.validate(s,o,l,[]))throw(E=new Error("Cannot read PKCS#12 PFX. ASN.1 object is not an PKCS#12 PFX.")).errors=E,E;var E,y={version:l.version.charCodeAt(0),safeContents:[],getBags:function(a){var t,r={};return"localKeyId"in a?t=a.localKeyId:"localKeyIdHex"in a&&(t=e.util.hexToBytes(a.localKeyIdHex)),void 0===t&&!("friendlyName"in a)&&"bagType"in a&&(r[a.bagType]=i(y.safeContents,null,null,a.bagType)),void 0!==t&&(r.localKeyId=i(y.safeContents,"localKeyId",t,a.bagType)),"friendlyName"in a&&(r.friendlyName=i(y.safeContents,"friendlyName",a.friendlyName,a.bagType)),r},getBagsByFriendlyName:function(e,a){return i(y.safeContents,"friendlyName",e,a)},getBagsByLocalKeyId:function(e,a){return i(y.safeContents,"localKeyId",e,a)}};if(3!==l.version.charCodeAt(0))throw(E=new Error("PKCS#12 PFX of version other than 3 not supported.")).version=l.version.charCodeAt(0),E;if(a.derToOid(l.contentType)!==t.oids.data)throw(E=new Error("Only PKCS#12 PFX in password integrity mode supported.")).oid=a.derToOid(l.contentType),E;var p=l.content.value[0];if(p.tagClass!==a.Class.UNIVERSAL||p.type!==a.Type.OCTETSTRING)throw new Error("PKCS#12 authSafe content data is not an OCTET STRING.");if(p=C(p),l.mac){var u=null,T=0,S=a.derToOid(l.macAlgorithm);switch(S){case t.oids.sha1:u=e.md.sha1.create(),T=20;break;case t.oids.sha256:u=e.md.sha256.create(),T=32;break;case t.oids.sha384:u=e.md.sha384.create(),T=48;break;case t.oids.sha512:u=e.md.sha512.create(),T=64;break;case t.oids.md5:u=e.md.md5.create(),T=16}if(null===u)throw new Error("PKCS#12 uses unsupported MAC algorithm: "+S);var I=new e.util.ByteBuffer(l.macSalt),g="macIterations"in l?parseInt(e.util.bytesToHex(l.macIterations),16):1,N=r.generateKey(c,I,3,g,T,u),f=e.hmac.create();if(f.start(u,N),f.update(p.value),f.getMac().getBytes()!==l.macDigest)throw new Error("PKCS#12 MAC could not be verified. Invalid password?")}return d(y,p.value,n,c),y},r.toPkcs12Asn1=function(s,o,n,c){(c=c||{}).saltSize=c.saltSize||8,c.count=c.count||2048,c.algorithm=c.algorithm||c.encAlgorithm||"aes128","useMac"in c||(c.useMac=!0),"localKeyId"in c||(c.localKeyId=null),"generateLocalKeyId"in c||(c.generateLocalKeyId=!0);var l,i=c.localKeyId;if(null!==i)i=e.util.hexToBytes(i);else if(c.generateLocalKeyId)if(o){var C=e.util.isArray(o)?o[0]:o;"string"==typeof C&&(C=t.certificateFromPem(C)),(R=e.md.sha1.create()).update(a.toDer(t.certificateToAsn1(C)).getBytes()),i=R.digest().getBytes()}else i=e.random.getBytes(20);var d=[];null!==i&&d.push(a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[a.create(a.Class.UNIVERSAL,a.Type.OID,!1,a.oidToDer(t.oids.localKeyId).getBytes()),a.create(a.Class.UNIVERSAL,a.Type.SET,!0,[a.create(a.Class.UNIVERSAL,a.Type.OCTETSTRING,!1,i)])])),"friendlyName"in c&&d.push(a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[a.create(a.Class.UNIVERSAL,a.Type.OID,!1,a.oidToDer(t.oids.friendlyName).getBytes()),a.create(a.Class.UNIVERSAL,a.Type.SET,!0,[a.create(a.Class.UNIVERSAL,a.Type.BMPSTRING,!1,c.friendlyName)])])),d.length>0&&(l=a.create(a.Class.UNIVERSAL,a.Type.SET,!0,d));var E=[],y=[];null!==o&&(y=e.util.isArray(o)?o:[o]);for(var p=[],u=0;u<y.length;++u){"string"==typeof(o=y[u])&&(o=t.certificateFromPem(o));var T=0===u?l:void 0,S=t.certificateToAsn1(o),I=a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[a.create(a.Class.UNIVERSAL,a.Type.OID,!1,a.oidToDer(t.oids.certBag).getBytes()),a.create(a.Class.CONTEXT_SPECIFIC,0,!0,[a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[a.create(a.Class.UNIVERSAL,a.Type.OID,!1,a.oidToDer(t.oids.x509Certificate).getBytes()),a.create(a.Class.CONTEXT_SPECIFIC,0,!0,[a.create(a.Class.UNIVERSAL,a.Type.OCTETSTRING,!1,a.toDer(S).getBytes())])])]),T]);p.push(I)}if(p.length>0){var g=a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,p),N=a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[a.create(a.Class.UNIVERSAL,a.Type.OID,!1,a.oidToDer(t.oids.data).getBytes()),a.create(a.Class.CONTEXT_SPECIFIC,0,!0,[a.create(a.Class.UNIVERSAL,a.Type.OCTETSTRING,!1,a.toDer(g).getBytes())])]);E.push(N)}var f=null;if(null!==s){var m=t.wrapRsaPrivateKey(t.privateKeyToAsn1(s));f=null===n?a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[a.create(a.Class.UNIVERSAL,a.Type.OID,!1,a.oidToDer(t.oids.keyBag).getBytes()),a.create(a.Class.CONTEXT_SPECIFIC,0,!0,[m]),l]):a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[a.create(a.Class.UNIVERSAL,a.Type.OID,!1,a.oidToDer(t.oids.pkcs8ShroudedKeyBag).getBytes()),a.create(a.Class.CONTEXT_SPECIFIC,0,!0,[t.encryptPrivateKeyInfo(m,n,c)]),l]);var v=a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[f]),A=a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[a.create(a.Class.UNIVERSAL,a.Type.OID,!1,a.oidToDer(t.oids.data).getBytes()),a.create(a.Class.CONTEXT_SPECIFIC,0,!0,[a.create(a.Class.UNIVERSAL,a.Type.OCTETSTRING,!1,a.toDer(v).getBytes())])]);E.push(A)}var U,h=a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,E);if(c.useMac){var R=e.md.sha1.create(),V=new e.util.ByteBuffer(e.random.getBytes(c.saltSize)),L=c.count,B=(s=r.generateKey(n,V,3,L,20),e.hmac.create());B.start(R,s),B.update(a.toDer(h).getBytes());var O=B.getMac();U=a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[a.create(a.Class.UNIVERSAL,a.Type.OID,!1,a.oidToDer(t.oids.sha1).getBytes()),a.create(a.Class.UNIVERSAL,a.Type.NULL,!1,"")]),a.create(a.Class.UNIVERSAL,a.Type.OCTETSTRING,!1,O.getBytes())]),a.create(a.Class.UNIVERSAL,a.Type.OCTETSTRING,!1,V.getBytes()),a.create(a.Class.UNIVERSAL,a.Type.INTEGER,!1,a.integerToDer(L).getBytes())])}return a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[a.create(a.Class.UNIVERSAL,a.Type.INTEGER,!1,a.integerToDer(3).getBytes()),a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[a.create(a.Class.UNIVERSAL,a.Type.OID,!1,a.oidToDer(t.oids.data).getBytes()),a.create(a.Class.CONTEXT_SPECIFIC,0,!0,[a.create(a.Class.UNIVERSAL,a.Type.OCTETSTRING,!1,a.toDer(h).getBytes())])]),U])},r.generateKey=e.pbe.generatePkcs12Key;
},{"./forge":"o20S","./asn1":"BA5j","./hmac":"NYQx","./oids":"rbLR","./pkcs7asn1":"Z3HL","./pbe":"DWC4","./random":"Gfwb","./rsa":"HL1S","./sha1":"a9m4","./util":"lWyh","./x509":"CJHG"}],"R1ju":[function(require,module,exports) {
var e=require("./forge");require("./asn1"),require("./oids"),require("./pbe"),require("./pem"),require("./pbkdf2"),require("./pkcs12"),require("./pss"),require("./rsa"),require("./util"),require("./x509");var r=e.asn1,o=module.exports=e.pki=e.pki||{};o.pemToDer=function(r){var o=e.pem.decode(r)[0];if(o.procType&&"ENCRYPTED"===o.procType.type)throw new Error("Could not convert PEM to DER; PEM is encrypted.");return e.util.createBuffer(o.body)},o.privateKeyFromPem=function(t){var p=e.pem.decode(t)[0];if("PRIVATE KEY"!==p.type&&"RSA PRIVATE KEY"!==p.type){var i=new Error('Could not convert private key from PEM; PEM header type is not "PRIVATE KEY" or "RSA PRIVATE KEY".');throw i.headerType=p.type,i}if(p.procType&&"ENCRYPTED"===p.procType.type)throw new Error("Could not convert private key from PEM; PEM is encrypted.");var n=r.fromDer(p.body);return o.privateKeyFromAsn1(n)},o.privateKeyToPem=function(t,p){var i={type:"RSA PRIVATE KEY",body:r.toDer(o.privateKeyToAsn1(t)).getBytes()};return e.pem.encode(i,{maxline:p})},o.privateKeyInfoToPem=function(o,t){var p={type:"PRIVATE KEY",body:r.toDer(o).getBytes()};return e.pem.encode(p,{maxline:t})};
},{"./forge":"o20S","./asn1":"BA5j","./oids":"rbLR","./pbe":"DWC4","./pem":"ClqA","./pbkdf2":"Uyyi","./pkcs12":"yHod","./pss":"cVuL","./rsa":"HL1S","./util":"lWyh","./x509":"CJHG"}],"aADa":[function(require,module,exports) {
var e=require("./forge");require("./md"),require("./util");var t=module.exports=e.sha512=e.sha512||{};e.md.sha512=e.md.algorithms.sha512=t;var a=e.sha384=e.sha512.sha384=e.sha512.sha384||{};a.create=function(){return t.create("SHA-384")},e.md.sha384=e.md.algorithms.sha384=a,e.sha512.sha256=e.sha512.sha256||{create:function(){return t.create("SHA-512/256")}},e.md["sha512/256"]=e.md.algorithms["sha512/256"]=e.sha512.sha256,e.sha512.sha224=e.sha512.sha224||{create:function(){return t.create("SHA-512/224")}},e.md["sha512/224"]=e.md.algorithms["sha512/224"]=e.sha512.sha224,t.create=function(t){if(s||l(),void 0===t&&(t="SHA-512"),!(t in h))throw new Error("Invalid SHA-512 algorithm: "+t);for(var a=h[t],n=null,u=e.util.createBuffer(),f=new Array(80),o=0;o<80;++o)f[o]=new Array(2);var i=64;switch(t){case"SHA-384":i=48;break;case"SHA-512/256":i=32;break;case"SHA-512/224":i=28}var c={algorithm:t.replace("-","").toLowerCase(),blockLength:128,digestLength:i,messageLength:0,fullMessageLength:null,messageLengthSize:16,start:function(){c.messageLength=0,c.fullMessageLength=c.messageLength128=[];for(var t=c.messageLengthSize/4,r=0;r<t;++r)c.fullMessageLength.push(0);u=e.util.createBuffer(),n=new Array(a.length);for(r=0;r<a.length;++r)n[r]=a[r].slice(0);return c}};return c.start(),c.update=function(t,a){"utf8"===a&&(t=e.util.encodeUtf8(t));var r=t.length;c.messageLength+=r,r=[r/4294967296>>>0,r>>>0];for(var s=c.fullMessageLength.length-1;s>=0;--s)c.fullMessageLength[s]+=r[1],r[1]=r[0]+(c.fullMessageLength[s]/4294967296>>>0),c.fullMessageLength[s]=c.fullMessageLength[s]>>>0,r[0]=r[1]/4294967296>>>0;return u.putBytes(t),g(n,f,u),(u.read>2048||0===u.length())&&u.compact(),c},c.digest=function(){var a=e.util.createBuffer();a.putBytes(u.bytes());var s,h=c.fullMessageLength[c.fullMessageLength.length-1]+c.messageLengthSize&c.blockLength-1;a.putBytes(r.substr(0,c.blockLength-h));for(var l=8*c.fullMessageLength[0],o=0;o<c.fullMessageLength.length-1;++o)l+=(s=8*c.fullMessageLength[o+1])/4294967296>>>0,a.putInt32(l>>>0),l=s>>>0;a.putInt32(l);var i=new Array(n.length);for(o=0;o<n.length;++o)i[o]=n[o].slice(0);g(i,f,a);var m,L=e.util.createBuffer();m="SHA-512"===t?i.length:"SHA-384"===t?i.length-2:i.length-4;for(o=0;o<m;++o)L.putInt32(i[o][0]),o===m-1&&"SHA-512/224"===t||L.putInt32(i[o][1]);return L},c};var r=null,s=!1,n=null,h=null;function l(){r=String.fromCharCode(128),r+=e.util.fillString(String.fromCharCode(0),128),n=[[1116352408,3609767458],[1899447441,602891725],[3049323471,3964484399],[3921009573,2173295548],[961987163,4081628472],[1508970993,3053834265],[2453635748,2937671579],[2870763221,3664609560],[3624381080,2734883394],[310598401,1164996542],[607225278,1323610764],[1426881987,3590304994],[1925078388,4068182383],[2162078206,991336113],[2614888103,633803317],[3248222580,3479774868],[3835390401,2666613458],[4022224774,944711139],[264347078,2341262773],[604807628,2007800933],[770255983,1495990901],[1249150122,1856431235],[1555081692,3175218132],[1996064986,2198950837],[2554220882,3999719339],[2821834349,766784016],[2952996808,2566594879],[3210313671,3203337956],[3336571891,1034457026],[3584528711,2466948901],[113926993,3758326383],[338241895,168717936],[666307205,1188179964],[773529912,1546045734],[1294757372,1522805485],[1396182291,2643833823],[1695183700,2343527390],[1986661051,1014477480],[2177026350,1206759142],[2456956037,344077627],[2730485921,1290863460],[2820302411,3158454273],[3259730800,3505952657],[3345764771,106217008],[3516065817,3606008344],[3600352804,1432725776],[4094571909,1467031594],[275423344,851169720],[430227734,3100823752],[506948616,1363258195],[659060556,3750685593],[883997877,3785050280],[958139571,3318307427],[1322822218,3812723403],[1537002063,2003034995],[1747873779,3602036899],[1955562222,1575990012],[2024104815,1125592928],[2227730452,2716904306],[2361852424,442776044],[2428436474,593698344],[2756734187,3733110249],[3204031479,2999351573],[3329325298,3815920427],[3391569614,3928383900],[3515267271,566280711],[3940187606,3454069534],[4118630271,4000239992],[116418474,1914138554],[174292421,2731055270],[289380356,3203993006],[460393269,320620315],[685471733,587496836],[852142971,1086792851],[1017036298,365543100],[1126000580,2618297676],[1288033470,3409855158],[1501505948,4234509866],[1607167915,987167468],[1816402316,1246189591]],(h={})["SHA-512"]=[[1779033703,4089235720],[3144134277,2227873595],[1013904242,4271175723],[2773480762,1595750129],[1359893119,2917565137],[2600822924,725511199],[528734635,4215389547],[1541459225,327033209]],h["SHA-384"]=[[3418070365,3238371032],[1654270250,914150663],[2438529370,812702999],[355462360,4144912697],[1731405415,4290775857],[2394180231,1750603025],[3675008525,1694076839],[1203062813,3204075428]],h["SHA-512/256"]=[[573645204,4230739756],[2673172387,3360449730],[596883563,1867755857],[2520282905,1497426621],[2519219938,2827943907],[3193839141,1401305490],[721525244,746961066],[246885852,2177182882]],h["SHA-512/224"]=[[2352822216,424955298],[1944164710,2312950998],[502970286,855612546],[1738396948,1479516111],[258812777,2077511080],[2011393907,79989058],[1067287976,1780299464],[286451373,2446758561]],s=!0}function g(e,t,a){for(var r,s,h,l,g,u,f,o,i,c,m,L,S,d,A,v,H,M,p,w,y,b,B,I,k,C,q,z,x,E,U,j,D,F=a.length();F>=128;){for(q=0;q<16;++q)t[q][0]=a.getInt32()>>>0,t[q][1]=a.getInt32()>>>0;for(;q<80;++q)r=(((z=(E=t[q-2])[0])>>>19|(x=E[1])<<13)^(x>>>29|z<<3)^z>>>6)>>>0,s=((z<<13|x>>>19)^(x<<3|z>>>29)^(z<<26|x>>>6))>>>0,h=(((z=(j=t[q-15])[0])>>>1|(x=j[1])<<31)^(z>>>8|x<<24)^z>>>7)>>>0,l=((z<<31|x>>>1)^(z<<24|x>>>8)^(z<<25|x>>>7))>>>0,U=t[q-7],D=t[q-16],x=s+U[1]+l+D[1],t[q][0]=r+U[0]+h+D[0]+(x/4294967296>>>0)>>>0,t[q][1]=x>>>0;for(m=e[0][0],L=e[0][1],S=e[1][0],d=e[1][1],A=e[2][0],v=e[2][1],H=e[3][0],M=e[3][1],p=e[4][0],w=e[4][1],y=e[5][0],b=e[5][1],B=e[6][0],I=e[6][1],k=e[7][0],C=e[7][1],q=0;q<80;++q)f=((p>>>14|w<<18)^(p>>>18|w<<14)^(w>>>9|p<<23))>>>0,o=(B^p&(y^B))>>>0,g=((m>>>28|L<<4)^(L>>>2|m<<30)^(L>>>7|m<<25))>>>0,u=((m<<4|L>>>28)^(L<<30|m>>>2)^(L<<25|m>>>7))>>>0,i=(m&S|A&(m^S))>>>0,c=(L&d|v&(L^d))>>>0,x=C+(((p<<18|w>>>14)^(p<<14|w>>>18)^(w<<23|p>>>9))>>>0)+((I^w&(b^I))>>>0)+n[q][1]+t[q][1],r=k+f+o+n[q][0]+t[q][0]+(x/4294967296>>>0)>>>0,s=x>>>0,h=g+i+((x=u+c)/4294967296>>>0)>>>0,l=x>>>0,k=B,C=I,B=y,I=b,y=p,b=w,p=H+r+((x=M+s)/4294967296>>>0)>>>0,w=x>>>0,H=A,M=v,A=S,v=d,S=m,d=L,m=r+h+((x=s+l)/4294967296>>>0)>>>0,L=x>>>0;x=e[0][1]+L,e[0][0]=e[0][0]+m+(x/4294967296>>>0)>>>0,e[0][1]=x>>>0,x=e[1][1]+d,e[1][0]=e[1][0]+S+(x/4294967296>>>0)>>>0,e[1][1]=x>>>0,x=e[2][1]+v,e[2][0]=e[2][0]+A+(x/4294967296>>>0)>>>0,e[2][1]=x>>>0,x=e[3][1]+M,e[3][0]=e[3][0]+H+(x/4294967296>>>0)>>>0,e[3][1]=x>>>0,x=e[4][1]+w,e[4][0]=e[4][0]+p+(x/4294967296>>>0)>>>0,e[4][1]=x>>>0,x=e[5][1]+b,e[5][0]=e[5][0]+y+(x/4294967296>>>0)>>>0,e[5][1]=x>>>0,x=e[6][1]+I,e[6][0]=e[6][0]+B+(x/4294967296>>>0)>>>0,e[6][1]=x>>>0,x=e[7][1]+C,e[7][0]=e[7][0]+k+(x/4294967296>>>0)>>>0,e[7][1]=x>>>0,F-=128}}
},{"./forge":"o20S","./md":"Tsiu","./util":"lWyh"}],"EQLp":[function(require,module,exports) {
"use strict";var e=require("node-forge/lib/forge");function r(e){e=e||{},this.name="",this.cipher=e.cipher,this.blockSize=e.blockSize||16,this._blocks=this.blockSize/4,this._inBlock=new Array(this._blocks),this._outBlock=new Array(this._blocks)}require("node-forge/lib/aes"),require("node-forge/lib/asn1"),require("node-forge/lib/cipher"),require("node-forge/lib/hmac"),require("node-forge/lib/mgf1"),require("node-forge/lib/pbkdf2"),require("node-forge/lib/pem"),require("node-forge/lib/pkcs1"),require("node-forge/lib/pkcs7"),require("node-forge/lib/pki"),require("node-forge/lib/prime"),require("node-forge/lib/prng"),require("node-forge/lib/pss"),require("node-forge/lib/random"),require("node-forge/lib/sha1"),require("node-forge/lib/sha256"),require("node-forge/lib/sha512"),require("node-forge/lib/util"),r.prototype.start=function(){},r.prototype.encrypt=function(e,r,i){if(e.length()<this.blockSize&&!(i&&e.length()>0))return!0;var o;for(o=0;o<this._blocks;++o)this._inBlock[o]=e.getInt32();for(this.cipher.encrypt(this._inBlock,this._outBlock),o=0;o<this._blocks;++o)r.putInt32(this._outBlock[o])},r.prototype.decrypt=function(e,r,i){if(e.length()<this.blockSize&&!(i&&e.length()>0))return!0;var o;for(o=0;o<this._blocks;++o)this._inBlock[o]=e.getInt32();for(this.cipher.decrypt(this._inBlock,this._outBlock),o=0;o<this._blocks;++o)r.putInt32(this._outBlock[o])},function(){var i,o=r;i=function(){return new e.aes.Algorithm("AES",o)},e.cipher.registerAlgorithm("AES",i)}(),module.exports=e;
},{"node-forge/lib/forge":"o20S","node-forge/lib/aes":"EkQ3","node-forge/lib/asn1":"BA5j","node-forge/lib/cipher":"UdiU","node-forge/lib/hmac":"NYQx","node-forge/lib/mgf1":"ObGv","node-forge/lib/pbkdf2":"Uyyi","node-forge/lib/pem":"ClqA","node-forge/lib/pkcs1":"PZSV","node-forge/lib/pkcs7":"S1d4","node-forge/lib/pki":"R1ju","node-forge/lib/prime":"CDV4","node-forge/lib/prng":"QgPb","node-forge/lib/pss":"cVuL","node-forge/lib/random":"Gfwb","node-forge/lib/sha1":"a9m4","node-forge/lib/sha256":"pZAX","node-forge/lib/sha512":"aADa","node-forge/lib/util":"lWyh"}],"hgKi":[function(require,module,exports) {
var Buffer = require("buffer").Buffer;
var e=require("buffer").Buffer;function r(r){var t=r.length,f=t%4;if(!f)return r;var u=t,o=4-f,i=t+o,n=e.alloc(i);for(n.write(r);o--;)n.write("=",u++);return n.toString()}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=r;
},{"buffer":"peL6"}],"oNlT":[function(require,module,exports) {
var Buffer = require("buffer").Buffer;
var e=require("buffer").Buffer;Object.defineProperty(exports,"__esModule",{value:!0});var r=require("./pad-string");function t(r,t){return void 0===t&&(t="utf8"),e.isBuffer(r)?n(r.toString("base64")):n(e.from(r,t).toString("base64"))}function o(r,t){return void 0===t&&(t="utf8"),e.from(f(r),"base64").toString(t)}function f(e){return e=e.toString(),r.default(e).replace(/\-/g,"+").replace(/_/g,"/")}function n(e){return e.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function u(r){return e.from(f(r),"base64")}var a=t;a.encode=t,a.decode=o,a.toBase64=f,a.fromBase64=n,a.toBuffer=u,exports.default=a;
},{"./pad-string":"hgKi","buffer":"peL6"}],"XVTP":[function(require,module,exports) {
module.exports=require("./dist/base64url").default,module.exports.default=module.exports;
},{"./dist/base64url":"oNlT"}],"Ma8i":[function(require,module,exports) {
var Buffer = require("buffer").Buffer;
var e=require("buffer").Buffer,r=require("base64url"),f={encode:function(f,u){return f instanceof ArrayBuffer&&(f=new Uint8Array(f)),e.isBuffer(f)||(f=e.from(f,u)),r.encode(f)},decode:r.toBuffer};module.exports=f;
},{"base64url":"XVTP","buffer":"peL6"}],"W5xo":[function(require,module,exports) {
"use strict";var e=exports;e.encode=function(e){var n=encodeURIComponent(e||"");return n=n.replace(/%([0-9a-fA-F]{2})/g,function(e,n){return n=parseInt(n,16),String.fromCharCode(n)})},e.decode=function(e){var n=(e||"").replace(/[\u0080-\u00ff]/g,function(e){return"%"+(256|e.charCodeAt(0)).toString(16).substring(1)});return n=decodeURIComponent(n)};
},{}],"FgzD":[function(require,module,exports) {
var Buffer = require("buffer").Buffer;
var r,e=require("buffer").Buffer,f=require("../deps/forge.js");function t(t,u){return e.isBuffer(t)?t:"string"==typeof t?"base64url"===(u=u||"binary")?r.base64url.decode(t):e.from(t,u):(f.util.isArrayBufferView(t)?t=t instanceof Uint8Array?t:new Uint8Array(t.buffer,t.byteOffset,t.byteOffset+t.byteLength):f.util.isArrayBuffer(t)&&(t=new Uint8Array(t)),e.from(t))}function u(r){return e.from(f.random.getBytes(r),"binary")}r={base64url:require("./base64url.js"),utf8:require("./utf8.js"),asBuffer:t,randomBytes:u},module.exports=r;
},{"../deps/forge.js":"EQLp","./base64url.js":"Ma8i","./utf8.js":"W5xo","buffer":"peL6"}],"vrMK":[function(require,module,exports) {
var e,r,o=require("./lib/rng"),s=require("./lib/bytesToUuid"),i=0,n=0;function c(c,l,u){var v=l&&u||0,a=l||[],d=(c=c||{}).node||e,t=void 0!==c.clockseq?c.clockseq:r;if(null==d||null==t){var m=o();null==d&&(d=e=[1|m[0],m[1],m[2],m[3],m[4],m[5]]),null==t&&(t=r=16383&(m[6]<<8|m[7]))}var q=void 0!==c.msecs?c.msecs:(new Date).getTime(),f=void 0!==c.nsecs?c.nsecs:n+1,b=q-i+(f-n)/1e4;if(b<0&&void 0===c.clockseq&&(t=t+1&16383),(b<0||q>i)&&void 0===c.nsecs&&(f=0),f>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");i=q,n=f,r=t;var k=(1e4*(268435455&(q+=122192928e5))+f)%4294967296;a[v++]=k>>>24&255,a[v++]=k>>>16&255,a[v++]=k>>>8&255,a[v++]=255&k;var w=q/4294967296*1e4&268435455;a[v++]=w>>>8&255,a[v++]=255&w,a[v++]=w>>>24&15|16,a[v++]=w>>>16&255,a[v++]=t>>>8|128,a[v++]=255&t;for(var g=0;g<6;++g)a[v+g]=d[g];return l||s(a)}module.exports=c;
},{"./lib/rng":"j3Do","./lib/bytesToUuid":"HSap"}],"clD1":[function(require,module,exports) {
var r=require("./lib/rng"),n=require("./lib/bytesToUuid");function e(e,i,u){var a=i&&u||0;"string"==typeof e&&(i="binary"===e?new Array(16):null,e=null);var l=(e=e||{}).random||(e.rng||r)();if(l[6]=15&l[6]|64,l[8]=63&l[8]|128,i)for(var o=0;o<16;++o)i[a+o]=l[o];return i||n(l)}module.exports=e;
},{"./lib/rng":"j3Do","./lib/bytesToUuid":"HSap"}],"jpV4":[function(require,module,exports) {
var e=require("./v1"),r=require("./v4"),v=r;v.v1=e,v.v4=r,module.exports=v;
},{"./v1":"vrMK","./v4":"clD1"}],"gsL1":[function(require,module,exports) {
var r=require("./_SetCache"),e=require("./_arrayIncludes"),a=require("./_arrayIncludesWith"),n=require("./_arrayMap"),u=require("./_baseUnary"),i=require("./_cacheHas"),t=Math.min;function h(h,l,o){for(var c=o?a:e,s=h[0].length,v=h.length,f=v,q=Array(v),_=1/0,g=[];f--;){var y=h[f];f&&l&&(y=n(y,u(l))),_=t(y.length,_),q[f]=!o&&(l||s>=120&&y.length>=120)?new r(f&&y):void 0}y=h[0];var d=-1,p=q[0];r:for(;++d<s&&g.length<_;){var m=y[d],I=l?l(m):m;if(m=o||0!==m?m:0,!(p?i(p,I):c(g,I,o))){for(f=v;--f;){var M=q[f];if(!(M?i(M,I):c(h[f],I,o)))continue r}p&&p.push(I),g.push(m)}}return g}module.exports=h;
},{"./_SetCache":"thFQ","./_arrayIncludes":"mBEK","./_arrayIncludesWith":"hjtK","./_arrayMap":"BblM","./_baseUnary":"PnXa","./_cacheHas":"qxaq"}],"K232":[function(require,module,exports) {
var r=require("./isArrayLikeObject");function e(e){return r(e)?e:[]}module.exports=e;
},{"./isArrayLikeObject":"FwQQ"}],"m7zY":[function(require,module,exports) {
var e=require("./_arrayMap"),r=require("./_baseIntersection"),a=require("./_baseRest"),t=require("./_castArrayLikeObject"),i=a(function(a){var i=e(a,t);return i.length&&i[0]===a[0]?r(i):[]});module.exports=i;
},{"./_arrayMap":"BblM","./_baseIntersection":"gsL1","./_baseRest":"f4Fl","./_castArrayLikeObject":"K232"}],"oUkM":[function(require,module,exports) {
var e=require("./_baseUniq");function r(r){return r&&r.length?e(r):[]}module.exports=r;
},{"./_baseUniq":"NH1q"}],"P03t":[function(require,module,exports) {
var Buffer = require("buffer").Buffer;
var e=require("buffer").Buffer;"undefined"==typeof Promise&&require("es6-promise").polyfill(),exports.int32ToBuffer=function(r,t){return(t=t||e.alloc(4))[0]=r>>>24&255,t[1]=r>>>16&255,t[2]=r>>>8&255,t[3]=255&r,t};var r=Math.pow(2,32);function t(){if("undefined"!=typeof crypto&&void 0!==crypto.subtle)return crypto.subtle}function o(){var e;try{e=require("crypto")}catch(r){return}if(Object.keys(e).length)return e}exports.int64ToBuffer=function(t,o){o=o||e.alloc(8);var n=Math.floor(t/r),u=t%r;return n=exports.int32ToBuffer(n),u=exports.int32ToBuffer(u),o=e.concat([n,u])};var n={};Object.defineProperty(exports,"subtleCrypto",{get:function(){return"subtleCrypto"in n?n.subtleCrypto:n.subtleCrypto=t()},enumerable:!0}),Object.defineProperty(exports,"nodeCrypto",{get:function(){return"nodeCrypto"in n?n.nodeCrypto:n.nodeCrypto=o()},enumerable:!0}),exports.setupFallback=function(e,r,t){return e&&exports.nodeCrypto?function(){var r,o=arguments;try{r=Promise.resolve(e.apply(null,o))}catch(n){r=function(e){return 0===e.message.indexOf("unsupported algorithm:")?t.apply(null,o):Promise.reject(e)}(n)}return r}:r&&exports.subtleCrypto?function(){var e,o=arguments;function n(e){return e.code!==DOMException.NOT_SUPPORTED_ERR&&"Only ArrayBuffer and ArrayBufferView objects can be passed as CryptoOperationData"!==e.message&&e instanceof Error?Promise.reject(e):t.apply(null,o)}try{e=(e=r.apply(null,o)).catch(n)}catch(u){e=n(u)}return e}:t};
},{"es6-promise":"Zt7E","crypto":"vKFU","buffer":"peL6"}],"jbn0":[function(require,module,exports) {
"use strict";module.exports={CHUNK_SIZE:1024,HASHLENGTH:{"SHA-1":160,"SHA-256":256,"SHA-384":384,"SHA-512":512},ENCLENGTH:{"AES-128-CBC":128,"AES-192-CBC":192,"AES-256-CBC":256,"AES-128-KW":128,"AES-192-KW":192,"AES-256-KW":256},KEYLENGTH:{"A128CBC-HS256":256,"A192CBC-HS384":384,"A256CBC-HS512":512,"A128CBC+HS256":256,"A192CBC+HS384":384,"A256CBC+HS512":512,A128GCM:128,A192GCM:192,A256GCM:256,A128KW:128,A192KW:192,A256KW:256,"ECDH-ES+A128KW":128,"ECDH-ES+A192KW":192,"ECDH-ES+A256KW":256},NONCELENGTH:{"A128CBC-HS256":128,"A192CBC-HS384":128,"A256CBC-HS512":128,"A128CBC+HS256":128,"A192CBC+HS384":128,"A256CBC+HS512":128,A128GCM:96,A192GCM:96,A256GCM:96}};
},{}],"mPoX":[function(require,module,exports) {
var Buffer = require("buffer").Buffer;
var t=require("buffer").Buffer,i=require("../deps/forge.js"),e=require("./base64url.js");function r(e,a){a=a||{},t.isBuffer(e)?this.data=e:i.util.isArrayBuffer(e)?(e=new Uint8Array(e),this.data=t.from(e)):i.util.isArrayBufferView(e)&&(e=new Uint8Array(e.buffer,e.byteOffset,e.byteLength),this.data=t.from(e)),this.data&&(this.write=this.data.length,e=void 0),this.growSize=a.growSize||r.DEFAULT_GROW_SIZE,this.write=this.write||0,this.read=this.read||0,e?this.putBytes(e):this.data||this.accommodate(0),a.readOffset="readOffset"in a?a.readOffset:this.read,this.write="writeOffset"in a?a.writeOffset:this.write,this.read=Math.min(a.readOffset,this.write)}r.DEFAULT_GROW_SIZE=16,r.prototype.length=function(){return this.write-this.read},r.prototype.available=function(){return this.data.length-this.write},r.prototype.isEmpty=function(){return this.length()<=0},r.prototype.accommodate=function(i){if(this.data){if(this.available()<i){i=Math.max(i,this.growSize);var e=this.data,r=t.alloc(e.length+i);e.copy(r,0),this.data=r}}else i=Math.max(this.write+i,this.growSize),this.data=t.alloc(i);return this.data.fill(0,this.write),this},r.prototype.clear=function(){return this.read=this.write=0,this.data=t.alloc(0),this},r.prototype.truncate=function(t){return this.write=this.read+Math.max(0,this.length()-t),this.data.fill(0,this.write),this},r.prototype.compact=function(){return this.read>0&&(this.write===this.read?this.read=this.write=0:(this.data.copy(this.data,0,this.read,this.write),this.write=this.write-this.read,this.read=0),this.data.fill(0,this.write)),this},r.prototype.copy=function(){return new r(this,{readOffset:this.read,writeOffset:this.write,growSize:this.growSize})},r.prototype.equals=function(t){if(!r.isBuffer(t))return!1;if(t.length()!==this.length())return!1;for(var i=!0,e=this.read-t.read,a=t.read;t.write>a;a++)i=i&&this.data[a+e]===t.data[a];return i},r.prototype.at=function(t){return this.data[this.read+t]},r.prototype.setAt=function(t,i){return this.data[this.read+t]=i,this},r.prototype.last=function(){return this.data[this.write-1]},r.prototype.bytes=function(t){var i;if(void 0===t?t=this.length():t&&(t=Math.min(t,this.length())),0===t)i="";else{var e=this.read,r=e+t,a=this.data.slice(e,r);i=String.fromCharCode.apply(null,a)}return i},r.prototype.buffer=function(t){var i;if(void 0===t?t=this.length():t&&(t=Math.min(t,this.length())),0===t)i=new ArrayBuffer(0);else{var e=this.read,r=e+t,a=this.data.slice(e,r);(i=new Uint8Array(r-e)).set(a)}return i},r.prototype.native=function(i){var e;if(void 0===i?i=this.length():i&&(i=Math.min(i,this.length())),0===i)e=t.alloc(0);else{var r=this.read,a=r+i;e=this.data.slice(r,a)}return e},r.prototype.toHex=function(){return this.toString("hex")},r.prototype.toString=function(t){if(0===this.length())return"";var i=this.data.slice(this.read,this.write);switch(t=t||"utf8"){case"raw":return i.toString("binary");case"base64url":return e.encode(i);case"utf16":return i.toString("ucs2");default:return i.toString(t)}},r.prototype.fillWithByte=function(t,i){return i||(i=this.available()),this.accommodate(i),this.data.fill(t,this.write,this.write+i),this.write+=i,this},r.prototype.getBuffer=function(t){var i=this.buffer(t);return this.read+=i.byteLength,i},r.prototype.putBuffer=function(t){return this.putBytes(t)},r.prototype.getBytes=function(t){var i=this.bytes(t);return this.read+=i.length,i},r.prototype.putBytes=function(a,s){if("string"==typeof a){switch(s=s||"binary"){case"utf16":s="ucs-2";break;case"raw":s="binary";break;case"base64url":a=e.decode(a)}t.isBuffer(a)||(a=t.from(a,s))}var h,n;if(a instanceof r){var o=a;a=o.data.slice(o.read,o.write),o.read=o.write}else a instanceof i.util.ByteStringBuffer&&(a=a.getBytes());if(t.isBuffer(a))h=a;else if(Array.isArray(a))h=t.from(a);else if(i.util.isArrayBuffer(a))h=new Uint8Array(a),h=t.from(h);else{if(!i.util.isArrayBufferView(a))throw new TypeError("invalid source type");h=a instanceof Uint8Array?a:new Uint8Array(a.buffer,a.byteOffset,a.byteLength),h=t.from(h)}return this.accommodate(h.length),n=this.data,h.copy(n,this.write),this.write+=h.length,this},r.prototype.getNative=function(t){var i=this.native(t);return this.read+=i.length,i},r.prototype.putNative=r.prototype.putBuffer,r.prototype.getByte=function(){var t=this.data[this.read];return this.read=Math.min(this.read+1,this.write),t},r.prototype.putByte=function(t){return this.accommodate(1),this.data[this.write]=255&t,this.write++,this},r.prototype.getInt16=function(){var t=this.data[this.read]<<8^this.data[this.read+1];return this.read=Math.min(this.read+2,this.write),t},r.prototype.putInt16=function(t){return this.accommodate(2),this.data[this.write]=t>>>8&255,this.data[this.write+1]=255&t,this.write+=2,this},r.prototype.getInt24=function(){var t=this.data[this.read]<<16^this.data[this.read+1]<<8^this.data[this.read+2];return this.read=Math.min(this.read+3,this.write),t},r.prototype.putInt24=function(t){return this.accommodate(3),this.data[this.write]=t>>>16&255,this.data[this.write+1]=t>>>8&255,this.data[this.write+2]=255&t,this.write+=3,this},r.prototype.getInt32=function(){var t=this.data[this.read]<<24^this.data[this.read+1]<<16^this.data[this.read+2]<<8^this.data[this.read+3];return this.read=Math.min(this.read+4,this.write),t},r.prototype.putInt32=function(t){return this.accommodate(4),this.data[this.write]=t>>>24&255,this.data[this.write+1]=t>>>16&255,this.data[this.write+2]=t>>>8&255,this.data[this.write+3]=255&t,this.write+=4,this},r.prototype.getInt16Le=function(){var t=this.data[this.read+1]<<8^this.data[this.read];return this.read=Math.min(this.read+2,this.write),t},r.prototype.putInt16Le=function(t){return this.accommodate(2),this.data[this.write+1]=t>>>8&255,this.data[this.write]=255&t,this.write+=2,this},r.prototype.getInt24Le=function(){var t=this.data[this.read+2]<<16^this.data[this.read+1]<<8^this.data[this.read];return this.read=Math.min(this.read+3,this.write),t},r.prototype.putInt24Le=function(t){return this.accommodate(3),this.data[this.write+2]=t>>>16&255,this.data[this.write+1]=t>>>8&255,this.data[this.write]=255&t,this.write+=3,this},r.prototype.getInt32Le=function(){var t=this.data[this.read+3]<<24^this.data[this.read+2]<<16^this.data[this.read+1]<<8^this.data[this.read];return this.read=Math.min(this.read+4,this.write),t},r.prototype.putInt32Le=function(t){return this.accommodate(4),this.data[this.write+3]=t>>>24&255,this.data[this.write+2]=t>>>16&255,this.data[this.write+1]=t>>>8&255,this.data[this.write]=255&t,this.write+=4,this},r.prototype.getInt=function(t){var i=0;do{i=i<<8|this.getByte(),t-=8}while(t>0);return i},r.prototype.putInt=function(t,i){this.accommodate(Math.ceil(i/8));do{i-=8,this.putByte(t>>i&255)}while(i>0);return this},r.prototype.putSignedInt=function(t,i){return t<0&&(t+=2<<i-1),this.putInt(t,i)},r.prototype.putString=function(t){return this.putBytes(t,"utf16")},r.isBuffer=function(t){return t instanceof r},r.asBuffer=function(t){return r.isBuffer(t)?t:t?new r(t):new r},module.exports=r;
},{"../deps/forge.js":"EQLp","./base64url.js":"Ma8i","buffer":"peL6"}],"pHyo":[function(require,module,exports) {
var Buffer = require("buffer").Buffer;
var r=require("buffer").Buffer,e=require("./constants"),t=require("../deps/forge.js"),n=require("../util/databuffer.js"),a=require("./helpers.js");function i(n){var i=n.replace("HS","SHA").toLowerCase(),o=n.replace("HS","SHA-");function u(r,t){return(r=(r||e.HASHLENGTH[o])/8)>t.length?Promise.reject(new Error("invalid key length")):Promise.resolve(t)}return a.setupFallback(function(r,e,t){return u((t=t||{}).length,r).then(function(){var t=a.nodeCrypto.createHmac(i,r);t.update(e);var n=t.digest();return{data:e,mac:n}})},function(e,t,n){var i={name:"HMAC",hash:{name:o}};return u((n=n||{}).length,e).then(function(){return a.subtleCrypto.importKey("raw",e,i,!0,["sign"])}).then(function(r){return a.subtleCrypto.sign(i,r,t)}).then(function(e){var n=r.from(e);return{data:t,mac:n}})},function(e,n,a){return u((a=a||{}).length,e).then(function(){var a=t.hmac.create();return a.start(i,e.toString("binary")),a.update(n.toString("binary")),a=r.from(a.digest().bytes(),"binary"),{data:n,mac:a}})})}function o(i){var o=i.replace("HS","SHA").toLowerCase(),u=i.replace("HS","SHA-");function c(r,t,n){r=(r||e.HASHLENGTH[u])/8;for(var a=!0,i=0;r>i;i++)a=a&&t[i]===n[i];return a}return a.setupFallback(function(r,e,t,n){n=n||{};var i=a.nodeCrypto.createHmac(o,r);i.update(e);var u=i.digest();if(!c(n.length,t,u))throw new Error("verification failed");return{data:e,mac:u,valid:!0}},function(e,t,n,i){var o={name:"HMAC",hash:{name:u}};return((i=i||{}).length?a.subtleCrypto.importKey("raw",e,o,!0,["sign"]).then(function(r){return a.subtleCrypto.sign(o,r,t)}).then(function(e){var t=r.from(e);return c(i.length,n,t)}):a.subtleCrypto.importKey("raw",e,o,!0,["verify"]).then(function(r){return a.subtleCrypto.verify(o,r,n,t)})).then(function(r){return r?{data:t,mac:n,valid:!0}:Promise.reject(new Error("verifaction failed"))})},function(e,a,i,u){u=u||{};var f=t.hmac.create();return f.start(o,new n(e)),f.update(a.toString("binary")),f=r.from(f.digest().bytes(),"binary"),c(u.length,i,f)?Promise.resolve({data:a,mac:i,valid:!0}):Promise.reject(new Error("verification failed"))})}var u={};["HS1","HS256","HS384","HS512"].forEach(function(r){u[r]={sign:i(r),verify:o(r)}}),module.exports=u;
},{"./constants":"jbn0","../deps/forge.js":"EQLp","../util/databuffer.js":"mPoX","./helpers.js":"P03t","buffer":"peL6"}],"QzlM":[function(require,module,exports) {
var Buffer = require("buffer").Buffer;
var e=require("buffer").Buffer,r=require("../deps/forge.js"),t=require("./helpers.js");function n(n){var u=n.replace("SHA-","SHA").toLowerCase(),o={name:n};return t.setupFallback(function(e){var r=t.nodeCrypto.createHash(u);return r.update(e),r.digest()},function(r){return t.subtleCrypto.digest(o,r).then(function(r){return r=e.from(r)})},function(t){var n=r.md[u].create();return n.update(t.toString("binary")),n=e.from(n.digest().bytes(),"binary"),Promise.resolve(n)})}var u={};["SHA-1","SHA-256","SHA-384","SHA-512"].forEach(function(e){u[e]={digest:n(e)}}),module.exports=u;
},{"../deps/forge.js":"EQLp","./helpers.js":"P03t","buffer":"peL6"}],"K0xl":[function(require,module,exports) {
var Buffer = require("buffer").Buffer;
var r=require("buffer").Buffer,e=require("./helpers.js"),t=require("./hmac.js"),n=require("./sha.js"),o=require("../deps/forge.js"),c=require("../util/databuffer.js"),u=require("../util");function i(r){if(16!==r.length)throw new Error("invalid iv")}function a(t){return e.setupFallback(function(n,o,c){try{i(c)}catch(a){return Promise.reject(a)}var u=Promise.resolve(o);return u=u.then(function(o){var u="AES-"+t+"-CBC",i=e.nodeCrypto.createCipheriv(u,n,c);return r.concat([i.update(o),i.final()])})},function(t,n,o){try{i(o)}catch(u){return Promise.reject(u)}var c=Promise.resolve();return c=(c=(c=c.then(function(){return e.subtleCrypto.importKey("raw",t,{name:"AES-CBC"},!0,["encrypt"])})).then(function(r){var t={name:"AES-CBC",iv:o};return e.subtleCrypto.encrypt(t,r,n)})).then(function(e){return e=r.from(e)})},function(e,t,n){try{i(n)}catch(a){return Promise.reject(a)}var u=Promise.resolve();return u=u.then(function(){var u=o.cipher.createCipher("AES-CBC",new c(e));return u.start({iv:new c(n)}),u.update(new c(t)),u.finish()?r.from(u.output.bytes(),"binary"):Promise.reject(new Error("encryption failed"))})})}function f(t){return e.setupFallback(function(n,o,c){try{i(c)}catch(a){return Promise.reject(a)}var u=Promise.resolve();return u=u.then(function(){var u="AES-"+t+"-CBC",i=e.nodeCrypto.createDecipheriv(u,n,c);return r.concat([i.update(o),i.final()])})},function(t,n,o){try{i(o)}catch(u){return Promise.reject(u)}var c=Promise.resolve();return c=(c=(c=c.then(function(){return e.subtleCrypto.importKey("raw",t,{name:"AES-CBC"},!0,["decrypt"])})).then(function(r){var t={name:"AES-CBC",iv:o};return e.subtleCrypto.decrypt(t,r,n)})).then(function(e){return e=r.from(e)})},function(e,t,n){try{i(n)}catch(a){return Promise.reject(a)}var u=Promise.resolve();return u=u.then(function(){var u=o.cipher.createDecipher("AES-CBC",new c(e));return u.start({iv:new c(n)}),u.update(new c(t)),u.finish()?r.from(u.output.bytes(),"binary"):Promise.reject(new Error("encryption failed"))})})}function l(r,e){if(e<<1!=r.length<<3)throw new Error("invalid encryption key size")}function s(n){var o=a(n);return function(c,u,i){try{l(c,n)}catch(m){return Promise.reject(m)}var a=c.slice(n/8),f=c.slice(0,n/8),s=i.iv||r.alloc(0),h=i.aad||i.adata||r.alloc(0),v=o(a,u,s);return v=v.then(function(o){var c=r.concat([h,s,o,e.int64ToBuffer(8*h.length)]);return t["HS"+2*n].sign(f,c,{length:n}).then(function(r){var e=r.mac.slice(0,n/8);return{data:o,tag:e}})})}}function h(n){var o=f(n);return function(c,u,i){try{l(c,n)}catch(p){return Promise.reject(p)}var a=c.slice(n/8),f=c.slice(0,n/8),s=i.iv||r.alloc(0),h=i.aad||i.adata||r.alloc(0),v=i.tag||i.mac||r.alloc(0),m=Promise.resolve();return m=(m=m.then(function(){var o=r.concat([h,s,u,e.int64ToBuffer(8*h.length)]);return t["HS"+2*n].verify(f,o,v,{length:n}).then(function(){return u},function(){throw new Error("mac check failed")})})).then(function(){return o(a,u,s)})}}var v=r.from("Encryption","utf8"),m=r.from("Integrity","utf8"),p=r.from(".","utf8");function d(t,o,c,u){var i=8*t.length,a=i/2,f=Promise.resolve();return f=(f=f.then(function(){return r.concat([e.int32ToBuffer(1),t,e.int32ToBuffer(a),r.from(o,"utf8"),c,u,v])})).then(function(r){return n["SHA-"+i].digest(r).then(function(r){return r.slice(0,a/8)})}),f=Promise.resolve(f)}function C(t,o,c,u){var i=8*t.length,a=i,f=Promise.resolve();return f=(f=f.then(function(){return r.concat([e.int32ToBuffer(1),t,e.int32ToBuffer(a),r.from(o,"utf8"),c,u,m])})).then(function(r){return n["SHA-"+i].digest(r).then(function(r){return r.slice(0,a/8)})}),f=Promise.resolve(f)}function y(n,o){var c=a(n);return function(i,a,f){var l,s,h=f.epu||e.int32ToBuffer(0),v=f.epv||e.int32ToBuffer(0),m=f.iv||r.alloc(0),y=f.aad||f.adata||r.alloc(0),B=f.kdata||r.alloc(0),P=[d(i,o,h,v),C(i,o,h,v)],S=Promise.all(P).then(function(r){l=r[0],s=r[1]});return S=(S=(S=S.then(function(){return c(l,a,m)})).then(function(e){var o=r.concat([y,p,r.from(B),p,r.from(u.base64url.encode(m),"utf8"),p,r.from(u.base64url.encode(e),"utf8")]);return Promise.all([Promise.resolve(e),t["HS"+2*n].sign(s,o,{length:n})])})).then(function(r){return{data:r[0],tag:r[1].mac}})}}function B(n,o){var c=f(n);return function(i,a,f){var l,s,h=f.epu||e.int32ToBuffer(0),v=f.epv||e.int32ToBuffer(0),m=f.iv||r.alloc(0),y=f.aad||f.adata||r.alloc(0),B=f.kdata||r.alloc(0),P=f.tag||f.mac||r.alloc(0),S=[d(i,o,h,v),C(i,o,h,v)],g=Promise.all(S).then(function(r){l=r[0],s=r[1]});return g=(g=g.then(function(){var e=r.concat([y,p,r.from(B),p,r.from(u.base64url.encode(m),"utf8"),p,r.from(u.base64url.encode(a),"utf8")]);try{return t["HS"+2*n].verify(s,e,P,{loose:!1})}catch(o){throw new Error("mac check failed")}})).then(function(){return c(l,a,m)})}}var P={};["A128CBC-HS256","A192CBC-HS384","A256CBC-HS512"].forEach(function(r){var e=parseInt(/A(\d+)CBC-HS(\d+)?/g.exec(r)[1]);P[r]={encrypt:s(e),decrypt:h(e)}}),["A128CBC+HS256","A192CBC+HS384","A256CBC+HS512"].forEach(function(r){var e=parseInt(/A(\d+)CBC\+HS(\d+)?/g.exec(r)[1]);P[r]={encrypt:y(e,r),decrypt:B(e,r)}}),module.exports=P;
},{"./helpers.js":"P03t","./hmac.js":"pHyo","./sha.js":"QzlM","../deps/forge.js":"EQLp","../util/databuffer.js":"mPoX","../util":"FgzD","buffer":"peL6"}],"YvD4":[function(require,module,exports) {
module.exports=t;var i=null;try{i=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch(L){}function t(i,t,n){this.low=0|i,this.high=0|t,this.unsigned=!!n}function n(i){return!0===(i&&i.__isLong__)}t.prototype.__isLong__,Object.defineProperty(t.prototype,"__isLong__",{value:!0}),t.isLong=n;var h={},s={};function e(i,t){var n,e,r;return t?(r=0<=(i>>>=0)&&i<256)&&(e=s[i])?e:(n=u(i,(0|i)<0?-1:0,!0),r&&(s[i]=n),n):(r=-128<=(i|=0)&&i<128)&&(e=h[i])?e:(n=u(i,i<0?-1:0,!1),r&&(h[i]=n),n)}function r(i,t){if(isNaN(i))return t?N:m;if(t){if(i<0)return N;if(i>=c)return p}else{if(i<=-w)return _;if(i+1>=w)return q}return i<0?r(-i,t).neg():u(i%d|0,i/d|0,t)}function u(i,n,h){return new t(i,n,h)}t.fromInt=e,t.fromNumber=r,t.fromBits=u;var o=Math.pow;function g(i,t,n){if(0===i.length)throw Error("empty string");if("NaN"===i||"Infinity"===i||"+Infinity"===i||"-Infinity"===i)return m;if("number"==typeof t?(n=t,t=!1):t=!!t,(n=n||10)<2||36<n)throw RangeError("radix");var h;if((h=i.indexOf("-"))>0)throw Error("interior hyphen");if(0===h)return g(i.substring(1),t,n).neg();for(var s=r(o(n,8)),e=m,u=0;u<i.length;u+=8){var f=Math.min(8,i.length-u),l=parseInt(i.substring(u,u+f),n);if(f<8){var a=r(o(n,f));e=e.mul(a).add(r(l))}else e=(e=e.mul(s)).add(r(l))}return e.unsigned=t,e}function f(i,t){return"number"==typeof i?r(i,t):"string"==typeof i?g(i,t):u(i.low,i.high,"boolean"==typeof t?t:i.unsigned)}t.fromString=g,t.fromValue=f;var l=65536,a=1<<24,d=l*l,c=d*d,w=c/2,v=e(a),m=e(0);t.ZERO=m;var N=e(0,!0);t.UZERO=N;var E=e(1);t.ONE=E;var y=e(1,!0);t.UONE=y;var b=e(-1);t.NEG_ONE=b;var q=u(-1,2147483647,!1);t.MAX_VALUE=q;var p=u(-1,-1,!0);t.MAX_UNSIGNED_VALUE=p;var _=u(0,-2147483648,!1);t.MIN_VALUE=_;var B=t.prototype;B.toInt=function(){return this.unsigned?this.low>>>0:this.low},B.toNumber=function(){return this.unsigned?(this.high>>>0)*d+(this.low>>>0):this.high*d+(this.low>>>0)},B.toString=function(i){if((i=i||10)<2||36<i)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(_)){var t=r(i),n=this.div(t),h=n.mul(t).sub(this);return n.toString(i)+h.toInt().toString(i)}return"-"+this.neg().toString(i)}for(var s=r(o(i,6),this.unsigned),e=this,u="";;){var g=e.div(s),f=(e.sub(g.mul(s)).toInt()>>>0).toString(i);if((e=g).isZero())return f+u;for(;f.length<6;)f="0"+f;u=""+f+u}},B.getHighBits=function(){return this.high},B.getHighBitsUnsigned=function(){return this.high>>>0},B.getLowBits=function(){return this.low},B.getLowBitsUnsigned=function(){return this.low>>>0},B.getNumBitsAbs=function(){if(this.isNegative())return this.eq(_)?64:this.neg().getNumBitsAbs();for(var i=0!=this.high?this.high:this.low,t=31;t>0&&0==(i&1<<t);t--);return 0!=this.high?t+33:t+1},B.isZero=function(){return 0===this.high&&0===this.low},B.eqz=B.isZero,B.isNegative=function(){return!this.unsigned&&this.high<0},B.isPositive=function(){return this.unsigned||this.high>=0},B.isOdd=function(){return 1==(1&this.low)},B.isEven=function(){return 0==(1&this.low)},B.equals=function(i){return n(i)||(i=f(i)),(this.unsigned===i.unsigned||this.high>>>31!=1||i.high>>>31!=1)&&(this.high===i.high&&this.low===i.low)},B.eq=B.equals,B.notEquals=function(i){return!this.eq(i)},B.neq=B.notEquals,B.ne=B.notEquals,B.lessThan=function(i){return this.comp(i)<0},B.lt=B.lessThan,B.lessThanOrEqual=function(i){return this.comp(i)<=0},B.lte=B.lessThanOrEqual,B.le=B.lessThanOrEqual,B.greaterThan=function(i){return this.comp(i)>0},B.gt=B.greaterThan,B.greaterThanOrEqual=function(i){return this.comp(i)>=0},B.gte=B.greaterThanOrEqual,B.ge=B.greaterThanOrEqual,B.compare=function(i){if(n(i)||(i=f(i)),this.eq(i))return 0;var t=this.isNegative(),h=i.isNegative();return t&&!h?-1:!t&&h?1:this.unsigned?i.high>>>0>this.high>>>0||i.high===this.high&&i.low>>>0>this.low>>>0?-1:1:this.sub(i).isNegative()?-1:1},B.comp=B.compare,B.negate=function(){return!this.unsigned&&this.eq(_)?_:this.not().add(E)},B.neg=B.negate,B.add=function(i){n(i)||(i=f(i));var t=this.high>>>16,h=65535&this.high,s=this.low>>>16,e=65535&this.low,r=i.high>>>16,o=65535&i.high,g=i.low>>>16,l=0,a=0,d=0,c=0;return d+=(c+=e+(65535&i.low))>>>16,a+=(d+=s+g)>>>16,l+=(a+=h+o)>>>16,l+=t+r,u((d&=65535)<<16|(c&=65535),(l&=65535)<<16|(a&=65535),this.unsigned)},B.subtract=function(i){return n(i)||(i=f(i)),this.add(i.neg())},B.sub=B.subtract,B.multiply=function(t){if(this.isZero())return m;if(n(t)||(t=f(t)),i)return u(i.mul(this.low,this.high,t.low,t.high),i.get_high(),this.unsigned);if(t.isZero())return m;if(this.eq(_))return t.isOdd()?_:m;if(t.eq(_))return this.isOdd()?_:m;if(this.isNegative())return t.isNegative()?this.neg().mul(t.neg()):this.neg().mul(t).neg();if(t.isNegative())return this.mul(t.neg()).neg();if(this.lt(v)&&t.lt(v))return r(this.toNumber()*t.toNumber(),this.unsigned);var h=this.high>>>16,s=65535&this.high,e=this.low>>>16,o=65535&this.low,g=t.high>>>16,l=65535&t.high,a=t.low>>>16,d=65535&t.low,c=0,w=0,N=0,E=0;return N+=(E+=o*d)>>>16,w+=(N+=e*d)>>>16,N&=65535,w+=(N+=o*a)>>>16,c+=(w+=s*d)>>>16,w&=65535,c+=(w+=e*a)>>>16,w&=65535,c+=(w+=o*l)>>>16,c+=h*d+s*a+e*l+o*g,u((N&=65535)<<16|(E&=65535),(c&=65535)<<16|(w&=65535),this.unsigned)},B.mul=B.multiply,B.divide=function(t){if(n(t)||(t=f(t)),t.isZero())throw Error("division by zero");var h,s,e;if(i)return this.unsigned||-2147483648!==this.high||-1!==t.low||-1!==t.high?u((this.unsigned?i.div_u:i.div_s)(this.low,this.high,t.low,t.high),i.get_high(),this.unsigned):this;if(this.isZero())return this.unsigned?N:m;if(this.unsigned){if(t.unsigned||(t=t.toUnsigned()),t.gt(this))return N;if(t.gt(this.shru(1)))return y;e=N}else{if(this.eq(_))return t.eq(E)||t.eq(b)?_:t.eq(_)?E:(h=this.shr(1).div(t).shl(1)).eq(m)?t.isNegative()?E:b:(s=this.sub(t.mul(h)),e=h.add(s.div(t)));if(t.eq(_))return this.unsigned?N:m;if(this.isNegative())return t.isNegative()?this.neg().div(t.neg()):this.neg().div(t).neg();if(t.isNegative())return this.div(t.neg()).neg();e=m}for(s=this;s.gte(t);){h=Math.max(1,Math.floor(s.toNumber()/t.toNumber()));for(var g=Math.ceil(Math.log(h)/Math.LN2),l=g<=48?1:o(2,g-48),a=r(h),d=a.mul(t);d.isNegative()||d.gt(s);)d=(a=r(h-=l,this.unsigned)).mul(t);a.isZero()&&(a=E),e=e.add(a),s=s.sub(d)}return e},B.div=B.divide,B.modulo=function(t){return n(t)||(t=f(t)),i?u((this.unsigned?i.rem_u:i.rem_s)(this.low,this.high,t.low,t.high),i.get_high(),this.unsigned):this.sub(this.div(t).mul(t))},B.mod=B.modulo,B.rem=B.modulo,B.not=function(){return u(~this.low,~this.high,this.unsigned)},B.and=function(i){return n(i)||(i=f(i)),u(this.low&i.low,this.high&i.high,this.unsigned)},B.or=function(i){return n(i)||(i=f(i)),u(this.low|i.low,this.high|i.high,this.unsigned)},B.xor=function(i){return n(i)||(i=f(i)),u(this.low^i.low,this.high^i.high,this.unsigned)},B.shiftLeft=function(i){return n(i)&&(i=i.toInt()),0==(i&=63)?this:i<32?u(this.low<<i,this.high<<i|this.low>>>32-i,this.unsigned):u(0,this.low<<i-32,this.unsigned)},B.shl=B.shiftLeft,B.shiftRight=function(i){return n(i)&&(i=i.toInt()),0==(i&=63)?this:i<32?u(this.low>>>i|this.high<<32-i,this.high>>i,this.unsigned):u(this.high>>i-32,this.high>=0?0:-1,this.unsigned)},B.shr=B.shiftRight,B.shiftRightUnsigned=function(i){if(n(i)&&(i=i.toInt()),0===(i&=63))return this;var t=this.high;return i<32?u(this.low>>>i|t<<32-i,t>>>i,this.unsigned):u(32===i?t:t>>>i-32,0,this.unsigned)},B.shru=B.shiftRightUnsigned,B.shr_u=B.shiftRightUnsigned,B.toSigned=function(){return this.unsigned?u(this.low,this.high,!1):this},B.toUnsigned=function(){return this.unsigned?this:u(this.low,this.high,!0)},B.toBytes=function(i){return i?this.toBytesLE():this.toBytesBE()},B.toBytesLE=function(){var i=this.high,t=this.low;return[255&t,t>>>8&255,t>>>16&255,t>>>24,255&i,i>>>8&255,i>>>16&255,i>>>24]},B.toBytesBE=function(){var i=this.high,t=this.low;return[i>>>24,i>>>16&255,i>>>8&255,255&i,t>>>24,t>>>16&255,t>>>8&255,255&t]},t.fromBytes=function(i,n,h){return h?t.fromBytesLE(i,n):t.fromBytesBE(i,n)},t.fromBytesLE=function(i,n){return new t(i[0]|i[1]<<8|i[2]<<16|i[3]<<24,i[4]|i[5]<<8|i[6]<<16|i[7]<<24,n)},t.fromBytesBE=function(i,n){return new t(i[4]<<24|i[5]<<16|i[6]<<8|i[7],i[0]<<24|i[1]<<16|i[2]<<8|i[3],n)};
},{}],"l0ul":[function(require,module,exports) {
function o(o,d,e){return o==o&&(void 0!==e&&(o=o<=e?o:e),void 0!==d&&(o=o>=d?o:d)),o}module.exports=o;
},{}],"SGsy":[function(require,module,exports) {
var e=require("./_baseClamp"),r=require("./toInteger"),t=4294967295;function u(u){return u?e(r(u),0,t):0}module.exports=u;
},{"./_baseClamp":"l0ul","./toInteger":"d9A1"}],"g1n3":[function(require,module,exports) {
var e=require("./toInteger"),r=require("./toLength");function t(t,o,n,u){var i=t.length;for((n=e(n))<0&&(n=-n>i?0:i+n),(u=void 0===u||u>i?i:e(u))<0&&(u+=i),u=n>u?0:r(u);n<u;)t[n++]=o;return t}module.exports=t;
},{"./toInteger":"d9A1","./toLength":"SGsy"}],"r5iF":[function(require,module,exports) {
var e=require("./_baseFill"),r=require("./_isIterateeCall");function l(l,t,u,n){var a=null==l?0:l.length;return a?(u&&"number"!=typeof u&&r(l,t,u)&&(u=0,n=a),e(l,t,u,n)):[]}module.exports=l;
},{"./_baseFill":"g1n3","./_isIterateeCall":"R62e"}],"JiPD":[function(require,module,exports) {
var Buffer = require("buffer").Buffer;
var e=require("buffer").Buffer,n=require("long"),r=module.exports={intToBigEndian:function(n,a,t){if("number"==typeof n)switch(arguments.length){case 1:a=e.alloc(4),r.intToBigEndian(n,a,0);break;case 3:a[t]=255&n>>>24,a[++t]=255&n>>>16,a[++t]=255&n>>>8,a[++t]=255&n;break;default:throw new TypeError("Expected 1 or 3 arguments.")}else switch(arguments.length){case 1:a=e.alloc(4*n.length),r.intToBigEndian(n,a,0);break;case 3:for(var o=0;o<n.length;++o)r.intToBigEndian(n[o],a,t),t+=4;break;default:throw new TypeError("Expected 1 or 3 arguments.")}return a},longToBigEndian:function(n,a,t){if(Array.isArray(n))switch(arguments.length){case 1:a=e.alloc(8*n.length),r.longToBigEndian(n,a,0);break;case 3:for(var o=0;o<n.length;++o)r.longToBigEndian(n[o],a,t),t+=8;break;default:throw new TypeError("Expected 1 or 3 arguments.")}else switch(arguments.length){case 1:a=e.alloc(8),r.longToBigEndian(n,a,0);break;case 3:var i=n.low,g=n.high;r.intToBigEndian(g,a,t),r.intToBigEndian(i,a,t+4);break;default:throw new TypeError("Expected 1 or 3 arguments.")}return a},bigEndianToInt:function(e,n,a){switch(arguments.length){case 2:var t=e[n]<<24;return t|=(255&e[++n])<<16,t|=(255&e[++n])<<8,t|=255&e[++n];case 3:for(var o=0;o<a.length;++o)a[o]=r.bigEndianToInt(e,n),n+=4;break;default:throw new TypeError("Expected 2 or 3 arguments.")}},bigEndianToLong:function(e,a,t){switch(arguments.length){case 2:var o=r.bigEndianToInt(e,a),i=r.bigEndianToInt(e,a+4);return new n(i,o);case 3:for(var g=0;g<t.length;++g)t[g]=r.bigEndianToLong(e,a),a+=8;break;default:throw new TypeError("Expected 2 or 3 arguments.")}}};
},{"long":"YvD4","buffer":"peL6"}],"YYZx":[function(require,module,exports) {
var Buffer = require("buffer").Buffer;
var r=require("buffer").Buffer,e=require("long"),t=require("lodash/fill"),n=require("../pack.js"),a=3774873600,i=225,o=new e(a>>8);function s(){for(var r=[],e=0;e<256;++e){for(var t=0,n=7;n>=0;--n)0!=(e&1<<n)&&(t^=a>>>7-n);r.push(t)}return r}var u=module.exports={E1:a,E1B:i,E1L:o,LOOKUP:s(),arrayCopy:function(r,e,t,n,a){if(e<0||n<0||a<0)throw new TypeError("Invalid input.");if(t instanceof Uint8Array){if(n>=t.length||n+a>t.length)throw new TypeError("Invalid input.");(0!==e||a<r.length)&&(r=r instanceof Uint8Array?r.subarray(e,e+a):r.slice(e,e+a)),t.set(r,n)}else for(var i=0;i<a;++i)t[n+i]=r[e+i]},arrayEqual:function(r,e){r=r||[],e=e||[];for(var t=Math.min(r.length,e.length),n=r.length===e.length,a=0;a<t;a++)n=n&&void 0!==r[a]&&void 0!==e[a]&&r[a]===e[a];return n},asBytes:function(e,t){switch(arguments.length){case 1:return t=r.alloc(16),n.intToBigEndian(e,t,0),t;case 2:n.intToBigEndian(e,t,0);break;default:throw new TypeError("Expected 1 or 2 arguments.")}},asInts:function(r,e){switch(arguments.length){case 1:return t(e=[],0,0,4),n.bigEndianToInt(r,0,e),e;case 2:n.bigEndianToInt(r,0,e);break;default:throw new TypeError("Expected 1 or 2 arguments.")}},oneAsInts:function(){for(var r=[],e=0;e<4;++e)r.push(1<<31);return r},shiftRight:function(r,e){var t,n;switch(arguments.length){case 1:return t=r[0],r[0]=t>>>1,n=t<<31,t=r[1],r[1]=t>>>1|n,n=t<<31,t=r[2],r[2]=t>>>1|n,n=t<<31,t=r[3],r[3]=t>>>1|n,t<<31&4294967295;case 2:return t=r[0],e[0]=t>>>1,n=t<<31,t=r[1],e[1]=t>>>1|n,n=t<<31,t=r[2],e[2]=t>>>1|n,n=t<<31,t=r[3],e[3]=t>>>1|n,t<<31&4294967295;default:throw new TypeError("Expected 1 or 2 arguments.")}},shiftRightN:function(r,e,t){var n,a,i;switch(arguments.length){case 2:return a=r[0],n=32-e,r[0]=a>>>e,i=a<<n,a=r[1],r[1]=a>>>e|i,i=a<<n,a=r[2],r[2]=a>>>e|i,i=a<<n,a=r[3],r[3]=a>>>e|i,a<<n;case 3:return a=r[0],n=32-e,t[0]=a>>>e,i=a<<n,a=r[1],t[1]=a>>>e|i,i=a<<n,a=r[2],t[2]=a>>>e|i,i=a<<n,a=r[3],t[3]=a>>>e|i,a<<n;default:throw new TypeError("Expected 2 or 3 arguments.")}},xor:function(r,e,t){switch(arguments.length){case 2:r[0]^=e[0],r[1]^=e[1],r[2]^=e[2],r[3]^=e[3];break;case 3:t[0]=r[0]^e[0],t[1]=r[1]^e[1],t[2]=r[2]^e[2],t[3]=r[3]^e[3];break;default:throw new TypeError("Expected 2 or 3 arguments.")}},multiply:function(r,e){for(var t=r.slice(),n=[],a=0;a<4;++a)for(var i=e[a],o=31;o>=0;--o)0!=(i&1<<o)&&u.xor(n,t),0!==u.shiftRight(t)&&(t[0]^=u.E1);u.arrayCopy(n,0,r,0,4)},multiplyP:function(r,e){switch(arguments.length){case 1:0!==u.shiftRight(r)&&(r[0]^=u.E1);break;case 2:0!==u.shiftRight(r,e)&&(e[0]^=u.E1);break;default:throw new TypeError("Expected 1 or 2 arguments.")}},multiplyP8:function(r,e){var t;switch(arguments.length){case 1:t=u.shiftRightN(r,8),r[0]^=u.LOOKUP[t>>>24];break;case 2:t=u.shiftRightN(r,8,e),e[0]^=u.LOOKUP[t>>>24];break;default:throw new TypeError("Expected 1 or 2 arguments.")}}};
},{"long":"YvD4","lodash/fill":"r5iF","../pack.js":"JiPD","buffer":"peL6"}],"Qvcf":[function(require,module,exports) {
"use strict";var i=require("./helpers.js"),t=require("../pack.js");function s(){this.H=[],this.M=null}s.prototype.init=function(t){var s,r,h;if(null==this.M)for(this.M=[],s=0;s<32;++s)for(this.M[s]=[],r=0;r<16;++r)for(this.M[s][r]=[],h=0;h<4;++h)this.M[s][r][h]=0;else if(i.arrayEqual(this.H,t))return;for(this.H=t.slice(),i.asInts(t,this.M[1][8]),r=4;r>=1;r>>=1)i.multiplyP(this.M[1][r+r],this.M[1][r]);for(i.multiplyP(this.M[1][1],this.M[0][8]),r=4;r>=1;r>>=1)i.multiplyP(this.M[0][r+r],this.M[0][r]);for(s=0;;){for(r=2;r<16;r+=r)for(h=1;h<r;++h)i.xor(this.M[s][r],this.M[s][h],this.M[s][r+h]);if(32==++s)return;if(s>1)for(r=8;r>0;r>>=1)i.multiplyP8(this.M[s-2][r],this.M[s][r])}},s.prototype.multiplyH=function(i){for(var s=[],r=15;r>=0;--r){var h=this.M[r+r][15&i[r]];s[0]^=h[0],s[1]^=h[1],s[2]^=h[2],s[3]^=h[3],h=this.M[r+r+1][(240&i[r])>>>4],s[0]^=h[0],s[1]^=h[1],s[2]^=h[2],s[3]^=h[3]}t.intToBigEndian(s,i,0)},module.exports={"8k":s};
},{"./helpers.js":"YYZx","../pack.js":"JiPD"}],"XNJm":[function(require,module,exports) {
"use strict";var n=require("./pack.js");function r(r,e,i,t,a){var c=new Array(4),o=new Array(4);n.bigEndianToInt(e,i,c),r.encrypt(c,o),n.intToBigEndian(o,t,a)}module.exports={encrypt:r};
},{"./pack.js":"JiPD"}],"SYKO":[function(require,module,exports) {
var Buffer = require("buffer").Buffer;
var t=require("buffer").Buffer,i=require("long"),e=require("../../../deps/forge.js"),h=require("./multipliers.js"),s=require("./helpers.js"),o=require("../pack.js"),r=require("../../../util/databuffer.js"),n=require("../helpers.js"),a=16;function l(t){t=t||{},this.name="GCM",this.cipher=t.cipher,this.blockSize=this.blockSize||16}module.exports={createCipher:function(t){var i=new e.aes.Algorithm("AES-GCM",l);return i.initialize({key:new r(t.key)}),i.mode.start(t),i.mode},createDecipher:function(t){var i=new e.aes.Algorithm("AES-GCM",l);return i.initialize({key:new r(t.key)}),i.mode._decrypt=!0,i.mode.start(t),i.mode}},l.prototype.start=function(e){if(this.tag=null,!("iv"in(e=e||{})))throw new Error("Gcm needs ParametersWithIV or AEADParameters");if(this.nonce=e.iv,null==this.nonce||this.nonce.length<1)throw new Error("IV must be at least 1 byte");this.tagLength=16,"tag"in e&&(this.tag=t.from(e.tag));var s=this._decrypt?this.blockSize+this.tagLength:this.blockSize;this.bufBlock=t.alloc(s);var r=e.multiplier;if(null==r&&(r=new h["8k"]),this.multiplier=r,this.H=this.zeroBlock(),n.encrypt(this.cipher,this.H,0,this.H,0),this.multiplier.init(this.H),this.exp=null,this.J0=this.zeroBlock(),12===this.nonce.length)this.nonce.copy(this.J0,0,0,this.nonce.length),this.J0[this.blockSize-1]=1;else{this.gHASH(this.J0,this.nonce,this.nonce.length);var a=this.zeroBlock();o.longToBigEndian(new i(this.nonce.length).multiply(8),a,8),this.gHASHBlock(this.J0,a)}this.S=this.zeroBlock(),this.SAt=this.zeroBlock(),this.SAtPre=this.zeroBlock(),this.atBlock=this.zeroBlock(),this.atBlockPos=0,this.atLength=i.ZERO,this.atLengthPre=i.ZERO,this.counter=t.from(this.J0),this.bufOff=0,this.totalLength=i.ZERO,"additionalData"in e&&this.processAADBytes(e.additionalData,0,e.additionalData.length)},l.prototype.update=function(t,i,e,h,s){for(var o=0;e>0;){var r=Math.min(e,this.bufBlock.length-this.bufOff);t.copy(this.bufBlock,this.bufOff,i,i+r),e-=r,i+=r,this.bufOff+=r,this.bufOff===this.bufBlock.length&&(this.outputBlock(h,s+o),o+=this.blockSize)}return o},l.prototype.finish=function(i,e){var h=0;this._decrypt&&(h+=this.update(this.tag,0,this.tag.length,i,e)),this.totalLength.isZero()&&this.initCipher();var r=this.bufOff;if(this._decrypt){if(r<this.tagLength)throw new Error("data too short");r-=this.tagLength}r>0&&(this.gCTRPartial(this.bufBlock,0,r,i,e+h),h+=r),this.atLength=this.atLength.add(this.atBlockPos);var a=this.zeroBlock();o.longToBigEndian(this.atLength.multiply(8),a,0),o.longToBigEndian(this.totalLength.multiply(8),a,8),this.gHASHBlock(this.S,a);var l=t.alloc(this.blockSize);if(n.encrypt(this.cipher,this.J0,0,l,0),this.xor(l,this.S),this._decrypt){if(!s.arrayEqual(this.tag,l))throw new Error("mac check in Gcm failed")}else this.tag=t.alloc(this.tagLength),l.copy(this.tag,0,0,this.tagLength);return h},l.prototype.initCipher=function(){this.atLength.greaterThan(i.ZERO)&&(this.SAt.copy(this.SAtPre,0,0,this.blockSize),this.atLengthPre=this.atLength.add(i.ZERO)),this.atBlockPos>0&&(this.gHASHPartial(this.SAtPre,this.atBlock,0,this.atBlockPos),this.atLengthPre=this.atLengthPre.add(this.atBlockPos)),this.atLengthPre.greaterThan(i.ZERO)&&this.SAtPre.copy(this.S,0,0,this.blockSize)},l.prototype.outputBlock=function(t,i){this.totalLength.isZero()&&this.initCipher(),this.gCTRBlock(this.bufBlock,t,i),this._decrypt?(this.bufBlock.copy(this.bufBlock,0,this.blockSize,this.blockSize+this.tagLength),this.bufOff=this.tagLength):this.bufOff=0},l.prototype.processAADBytes=function(t,i,e){for(var h=0;h<e;++h)this.atBlock[this.atBlockPos]=t[i+h],++this.atBlockPos===this.blockSize&&(this.gHASHBlock(this.SAt,this.atBlock),this.atBlockPos=0,this.atLength=this.atLength.add(this.blockSize))},l.prototype.getNextCounterBlock=function(){for(var i=15;i>=12;--i){var e=this.counter[i]+1&255;if(this.counter[i]=e,0!==e)break}var h=t.alloc(this.blockSize);return n.encrypt(this.cipher,this.counter,0,h,0),h},l.prototype.gCTRBlock=function(t,i,e){var h=this.getNextCounterBlock();this.xor(h,t),h.copy(i,e,0,this.blockSize),this.gHASHBlock(this.S,this._decrypt?t:h),this.totalLength=this.totalLength.add(this.blockSize)},l.prototype.gCTRPartial=function(t,i,e,h,s){var o=this.getNextCounterBlock();this.xor(o,t,i,e),o.copy(h,s,0,e),this.gHASHPartial(this.S,this._decrypt?t:o,0,e),this.totalLength=this.totalLength.add(e)},l.prototype.gHASHBlock=function(t,i){this.xor(t,i),this.multiplier.multiplyH(t)},l.prototype.gHASHPartial=function(t,i,e,h){this.xor(t,i,e,h),this.multiplier.multiplyH(t)},l.prototype.xor=function(t,i,e,h){switch(arguments.length){case 2:for(var s=15;s>=0;--s)t[s]^=i[s];break;case 4:for(;h-- >0;)t[h]^=i[e+h];break;default:throw new TypeError("Expected 2 or 4 arguments.")}return t},l.prototype.zeroBlock=function(){return t.alloc(a)};
},{"long":"YvD4","../../../deps/forge.js":"EQLp","./multipliers.js":"Qvcf","./helpers.js":"YYZx","../pack.js":"JiPD","../../../util/databuffer.js":"mPoX","../helpers.js":"XNJm","buffer":"peL6"}],"Mu6I":[function(require,module,exports) {
var Buffer = require("buffer").Buffer;
var t=require("buffer").Buffer,r=require("./helpers.js"),e=require("../util"),a=require("./constants.js"),n=require("../deps/ciphermodes/gcm");function i(i,o){function c(t,r){if(i!==t.length<<3)throw new Error("invalid key size");if(!r&&!o)throw new Error("invalid iv");if(r&&12!==r.length)throw new Error("invalid iv")}function l(t){if(o){var r=e.base64url.encode(t.iv),a=e.base64url.encode(t.tag);t={data:t.data,header:{iv:r,tag:a}}}return t}return r.setupFallback(function(a,n,i){var o=i.iv,u=i.aad||i.adata||t.alloc(0);try{c(a,o)}catch(f){return Promise.reject(f)}o=o||e.randomBytes(12);var h,d="aes-"+8*a.length+"-gcm";try{h=r.nodeCrypto.createCipheriv(d,a,o)}catch(f){throw new Error("unsupported algorithm: "+d)}if("function"!=typeof h.setAAD)throw new Error("unsupported algorithm: "+d);return u.length&&h.setAAD(u),l({data:t.concat([h.update(n),h.final()]),iv:o,tag:h.getAuthTag()})},function(a,n,i){var o=i.iv,u=i.aad||i.adata||t.alloc(0);try{c(a,o)}catch(d){return Promise.reject(d)}o=o||e.randomBytes(12);var h={name:"AES-GCM"};return r.subtleCrypto.importKey("raw",a,h,!0,["encrypt"]).then(function(t){return h.iv=o,h.tagLength=128,u.length&&(h.additionalData=u),r.subtleCrypto.encrypt(h,t,n)}).then(function(r){var e=r.byteLength-16,a=r.slice(e);a=t.from(a);var n=r.slice(0,e);return l({data:n=t.from(n),iv:o,tag:a})})},function(r,i,o){var u,h,d=o.iv,f=o.aad||o.adata||t.alloc(0);try{c(r,d)}catch(s){return Promise.reject(s)}return d=d||e.randomBytes(12),u=n.createCipher({key:r,iv:d,additionalData:f}),h=t.alloc(i.length),new Promise(function(t,r){var e=a.CHUNK_SIZE,n=0,o=0;!function a(){var c=Math.min(e,i.length-o);if(n+=u.update(i,o,c,h,n),o+=c,i.length>o)setTimeout(a,0);else if((n+=u.finish(h,n))===i.length){var f=u.tag;t(l({data:h,iv:d,tag:f}))}else r(new Error("encryption failed"))}()})})}function o(e){function i(t,r,a){if(e!==t.length<<3)throw new Error("invalid key size");if(12!==r.length)throw new Error("invalid iv");if(16!==a.length)throw new Error("invalid tag length")}return r.setupFallback(function(e,a,n){var o=n.aad||n.adata||t.alloc(0),c=n.iv||t.alloc(0),l=n.tag||n.mac||t.alloc(0);try{i(e,c,l)}catch(d){return Promise.reject(d)}var u,h="aes-"+8*e.length+"-gcm";try{u=r.nodeCrypto.createDecipheriv(h,e,c)}catch(d){throw new Error("unsupported algorithm: "+h)}if("function"!=typeof u.setAAD)throw new Error("unsupported algorithm: "+h);u.setAuthTag(l),o.length&&u.setAAD(o);try{return t.concat([u.update(a),u.final()])}catch(d){throw new Error("decryption failed")}},function(e,a,n){var o=n.aad||n.adata||t.alloc(0),c=n.iv||t.alloc(0),l=n.tag||n.mac||t.alloc(0);try{i(e,c,l)}catch(h){return Promise.reject(h)}var u={name:"AES-GCM"};return r.subtleCrypto.importKey("raw",e,u,!0,["decrypt"]).then(function(e){return u.iv=c,u.tagLength=128,o.length&&(u.additionalData=o),a=t.concat([a,l],a.length+l.length),r.subtleCrypto.decrypt(u,e,a)}).then(function(r){return r=t.from(r)})},function(r,e,o){var c,l,u=o.aad||o.adata||t.alloc(0),h=o.iv||t.alloc(0),d=o.tag||o.mac||t.alloc(0);try{i(r,h,d)}catch(f){return Promise.reject(f)}return c=n.createDecipher({key:r,iv:h,additionalData:u,tag:d}),l=t.alloc(e.length),new Promise(function(t,r){var n=a.CHUNK_SIZE,i=0,o=0;!function a(){var u=Math.min(n,e.length-o);if(i+=c.update(e,o,u,l,i),o+=u,e.length>o)setTimeout(a,0);else{try{i+=c.finish(l,i)}catch(f){return void r(new Error("decryption failed"))}i===e.length?t(l):r(new Error("decryption failed"))}}()})})}var c={};["A128GCM","A192GCM","A256GCM","A128GCMKW","A192GCMKW","A256GCMKW"].forEach(function(t){var r=/A(\d+)GCM(KW)?/g.exec(t),e=parseInt(r[1]),a="KW"===r[2];c[t]={encrypt:i(e,a),decrypt:o(e,a)}}),module.exports=c;
},{"./helpers.js":"P03t","../util":"FgzD","./constants.js":"jbn0","../deps/ciphermodes/gcm":"SYKO","buffer":"peL6"}],"cqzF":[function(require,module,exports) {
var Buffer = require("buffer").Buffer;
var r=require("buffer").Buffer,e=require("./helpers.js"),t=require("../deps/forge.js"),n=require("../util/databuffer.js"),a=r.from("a6a6a6a6a6a6a6a6","hex");function o(e,t){for(var n=Math.max(e.length,t.length),a=r.alloc(n),o=0;n>o;o++)a[o]=(e[o]||0)^(t[o]||0);return a}function i(r,e){for(var t=[],n=0;r.length>n;n+=e)t.push(r.slice(n,n+e));return t}function c(e){var t=Math.floor(e/4294967296),n=e%4294967296,a=r.alloc(8);return a[0]=255&t>>>24,a[1]=255&t>>>16,a[2]=255&t>>>8,a[3]=255&t>>>0,a[4]=255&n>>>24,a[5]=255&n>>>16,a[6]=255&n>>>8,a[7]=255&n>>>0,a}function u(u){function l(r,e){if(u!==r.length<<3)throw new Error("invalid key size");if(0<e.length&&0!=e.length%8)throw new Error("invalid data length")}return e.setupFallback(function(t,n){try{l(t,n)}catch(d){return Promise.reject(d)}var s,f,h,p=i(n,8),v=r.alloc(16);s=a;for(var y=0;6>y;y++)for(var g=0;p.length>g;g++)h=p.length*y+g+1,f=r.concat([s,p[g]]),s=o((f=e.nodeCrypto.createCipheriv("AES"+u,t,v).update(f)).slice(0,8),c(h)),p[g]=f.slice(8,16);p=[s].concat(p);var m=r.concat(p);return Promise.resolve({data:m})},function(t,n){try{l(t,n)}catch(i){return Promise.reject(i)}var a={name:"AES-KW"},o=[e.subtleCrypto.importKey("raw",n,{name:"HMAC",hash:"SHA-256"},!0,["sign"]),e.subtleCrypto.importKey("raw",t,a,!0,["wrapKey"])];return o=(o=(o=Promise.all(o)).then(function(r){return e.subtleCrypto.wrapKey("raw",r[0],r[1],a)})).then(function(e){return{data:e=r.from(e)}})},function(e,u){try{l(e,u)}catch(d){return Promise.reject(d)}var s,f,h,p=t.cipher.createCipher("AES",new n(e)),v=i(u,8);s=a;for(var y=0;6>y;y++)for(var g=0;v.length>g;g++)h=v.length*y+g+1,f=r.concat([s,v[g]]),p.start(),p.update(new n(f)),p.finish(),s=o((f=r.from(p.output.bytes(),"binary")).slice(0,8),c(h)),v[g]=f.slice(8,16);v=[s].concat(v);var m=r.concat(v);return Promise.resolve({data:m})})}function l(u){function l(r,e){if(u!==r.length<<3)throw new Error("invalid key size");if(0<e.length-8&&0!=e.length%8)throw new Error("invalid data length")}return e.setupFallback(function(t,n){try{l(t,n)}catch(m){return Promise.reject(m)}var s,f,h=i(n,8),p=r.alloc(16);s=h[0],h=h.slice(1);for(var v=5;0<=v;--v)for(var y=h.length-1;0<=y;--y)f=o(s,c(h.length*v+y+1)),f=r.concat([f,h[y],p]),s=(f=e.nodeCrypto.createDecipheriv("AES"+u,t,p).update(f)).slice(0,8),h[y]=f.slice(8,16);if(s.toString()!==a.toString())return Promise.reject(new Error("decryption failed"));var g=r.concat(h);return Promise.resolve(g)},function(t,n){try{l(t,n)}catch(i){return Promise.reject(i)}var a={name:"AES-KW"},o=e.subtleCrypto.importKey("raw",t,a,!0,["unwrapKey"]);return o=(o=(o=o.then(function(r){return e.subtleCrypto.unwrapKey("raw",n,r,a,{name:"HMAC",hash:"SHA-256"},!0,["sign"])})).then(function(r){return e.subtleCrypto.exportKey("raw",r)})).then(function(e){return e=r.from(e)})},function(e,u){try{l(e,u)}catch(m){return Promise.reject(m)}var s,f,h=t.cipher.createDecipher("AES",new n(e)),p=i(u,8);s=p[0],p=p.slice(1);for(var v=5;0<=v;--v)for(var y=p.length-1;0<=y;--y)f=o(s,c(p.length*v+y+1)),f=r.concat([f,p[y]]),h.start(),h.update(new n(f)),h.finish(),s=(f=r.from(h.output.bytes(),"binary")).slice(0,8),p[y]=f.slice(8,16);if(s.toString()!==a.toString())return Promise.reject(new Error("decryption failed"));var g=r.concat(p);return Promise.resolve(g)})}var s={};["A128KW","A192KW","A256KW"].forEach(function(r){var e=parseInt(/A(\d+)KW/g.exec(r)[1]);s[r]={encrypt:u(e),decrypt:l(e)}}),module.exports=s;
},{"./helpers.js":"P03t","../deps/forge.js":"EQLp","../util/databuffer.js":"mPoX","buffer":"peL6"}],"rtLt":[function(require,module,exports) {
var Buffer = require("buffer").Buffer;
var r=require("buffer").Buffer,e=require("./constants.js"),n=require("./sha.js");function t(t){t=t.replace("CONCAT-","");return function(o,i){var u=(i=i||{}).length,c=e.HASHLENGTH[t];if(!u)return Promise.reject(new Error("invalid key length"));if(!i.otherInfo)return Promise.reject(new Error("invalid otherInfo"));var f=i.otherInfo,a=n[t].digest,h=Math.ceil(u/c),l=0,s=[];return function e(){if(h===l++)return r.concat(s).slice(0,u);var n=r.alloc(4+o.length+f.length);return n.writeUInt32BE(l,0),o.copy(n,4),f.copy(n,4+o.length),a(n).then(function(r){return s.push(r),e()})}()}}var o={};["CONCAT-SHA-1","CONCAT-SHA-256","CONCAT-SHA-384","CONCAT-SHA-512"].forEach(function(r){o[r]={derive:t(r)}}),module.exports=o;
},{"./constants.js":"jbn0","./sha.js":"QzlM","buffer":"peL6"}],"Iwsd":[function(require,module,exports) {
"use strict";function e(e){return Promise.resolve({data:e,once:!0,direct:!0})}function r(e){return Promise.resolve(e)}var t={dir:{encrypt:e,decrypt:r}};module.exports=t;
},{}],"wCJN":[function(require,module,exports) {
"use strict";var t=require("../../deps/forge").jsbn.BigInteger;function i(){return new t(null)}function e(e){this.r2=i(),this.q3=i(),t.ONE.dlShiftTo(2*e.t,this.r2),this.mu=this.r2.divide(e),this.m=e}function r(t){if(t.s<0||t.t>2*this.m.t)return t.mod(this.m);if(t.compareTo(this.m)<0)return t;var e=i();return t.copyTo(e),this.reduce(e),e}function n(t){return t}function s(t){for(t.drShiftTo(this.m.t-1,this.r2),t.t>this.m.t+1&&(t.t=this.m.t+1,t.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);t.compareTo(this.r2)<0;)t.dAddOffset(1,this.m.t+1);for(t.subTo(this.r2,t);t.compareTo(this.m)>=0;)t.subTo(this.m,t)}function u(t,i){t.squareTo(i),this.reduce(i)}function o(t,i,e){t.multiplyTo(i,e),this.reduce(e)}function h(t,i){this.x=i,this.p=t}function p(t){return t===this||this.p.equals(t.p)&&this.x.equals(t.x)}function l(){return this.x}function g(){return new h(this.p,this.x.negate().mod(this.p))}function c(t){return new h(this.p,this.x.add(t.toBigInteger()).mod(this.p))}function y(t){return new h(this.p,this.x.subtract(t.toBigInteger()).mod(this.p))}function m(t){return new h(this.p,this.x.multiply(t.toBigInteger()).mod(this.p))}function f(){return new h(this.p,this.x.pow(2).mod(this.p))}function a(t){return new h(this.p,this.x.multiply(t.toBigInteger().modInverse(this.p)).mod(this.p))}function d(i,e,r,n){this.curve=i,this.x=e,this.y=r,this.z=n||t.ONE,this.zinv=null}function v(){this.zinv||(this.zinv=this.z.modInverse(this.curve.p));var t=this.x.toBigInteger().multiply(this.zinv);return this.curve.reduce(t),this.curve.fromBigInteger(t)}function I(){this.zinv||(this.zinv=this.z.modInverse(this.curve.p));var t=this.y.toBigInteger().multiply(this.zinv);return this.curve.reduce(t),this.curve.fromBigInteger(t)}function B(i){return i===this||(this.isInfinity()?i.isInfinity():i.isInfinity()?this.isInfinity():!!i.y.toBigInteger().multiply(this.z).subtract(this.y.toBigInteger().multiply(i.z)).mod(this.curve.p).equals(t.ZERO)&&i.x.toBigInteger().multiply(this.z).subtract(this.x.toBigInteger().multiply(i.z)).mod(this.curve.p).equals(t.ZERO))}function w(){return null==this.x&&null==this.y||this.z.equals(t.ZERO)&&!this.y.toBigInteger().equals(t.ZERO)}function b(){return new d(this.curve,this.x,this.y.negate(),this.z)}function z(i){if(this.isInfinity())return i;if(i.isInfinity())return this;var e=i.y.toBigInteger().multiply(this.z).subtract(this.y.toBigInteger().multiply(i.z)).mod(this.curve.p),r=i.x.toBigInteger().multiply(this.z).subtract(this.x.toBigInteger().multiply(i.z)).mod(this.curve.p);if(t.ZERO.equals(r))return t.ZERO.equals(e)?this.twice():this.curve.getInfinity();var n=new t("3"),s=this.x.toBigInteger(),u=this.y.toBigInteger(),o=r.pow(2),h=o.multiply(r),p=s.multiply(o),l=e.pow(2).multiply(this.z),g=l.subtract(p.shiftLeft(1)).multiply(i.z).subtract(h).multiply(r).mod(this.curve.p),c=p.multiply(n).multiply(e).subtract(u.multiply(h)).subtract(l.multiply(e)).multiply(i.z).add(e.multiply(h)).mod(this.curve.p),y=h.multiply(this.z).multiply(i.z).mod(this.curve.p);return new d(this.curve,this.curve.fromBigInteger(g),this.curve.fromBigInteger(c),y)}function q(){if(this.isInfinity())return this;if(0===this.y.toBigInteger().signum())return this.curve.getInfinity();var i=new t("3"),e=this.x.toBigInteger(),r=this.y.toBigInteger(),n=r.multiply(this.z),s=n.multiply(r).mod(this.curve.p),u=this.curve.a.toBigInteger(),o=e.pow(2).multiply(i);t.ZERO.equals(u)||(o=o.add(this.z.pow(2).multiply(u)));var h=(o=o.mod(this.curve.p)).pow(2).subtract(e.shiftLeft(3).multiply(s)).shiftLeft(1).multiply(n).mod(this.curve.p),p=o.multiply(i).multiply(e).subtract(s.shiftLeft(1)).shiftLeft(2).multiply(s).subtract(o.pow(2).multiply(o)).mod(this.curve.p),l=n.pow(2).multiply(n).shiftLeft(3).mod(this.curve.p);return new d(this.curve,this.curve.fromBigInteger(h),this.curve.fromBigInteger(p),l)}function x(i){if(this.isInfinity())return this;if(0===i.signum())return this.curve.getInfinity();var e,r=i,n=r.multiply(new t("3")),s=this.negate(),u=this;for(e=n.bitLength()-2;e>0;--e){u=u.twice();var o=n.testBit(e);o!==r.testBit(e)&&(u=u.add(o?this:s))}return u}function T(t,i,e){var r;r=t.bitLength()>e.bitLength()?t.bitLength()-1:e.bitLength()-1;for(var n=this.curve.getInfinity(),s=this.add(i);r>=0;)n=n.twice(),t.testBit(r)?n=e.testBit(r)?n.add(s):n.add(this):e.testBit(r)&&(n=n.add(i)),--r;return n}function E(t,i,r){this.p=t,this.a=this.fromBigInteger(i),this.b=this.fromBigInteger(r),this.infinity=new d(this,null,null),this.reducer=new e(this.p)}function L(){return this.p}function O(){return this.a}function R(){return this.b}function Z(t){return t===this||this.p.equals(t.p)&&this.a.equals(t.a)&&this.b.equals(t.b)}function P(t){var i=t.getX().toBigInteger(),e=t.getY().toBigInteger(),r=this.a.toBigInteger(),n=this.b.toBigInteger(),s=this.p,u=e.pow(2).mod(s),o=i.pow(3).add(r.multiply(i)).add(n).mod(s);return u.equals(o)}function S(){return this.infinity}function C(t){return new h(this.p,t)}function F(t){this.reducer.reduce(t)}function X(i){switch(parseInt(i.substring(0,2),16)){case 0:return this.infinity;case 2:case 3:return null;case 4:case 6:case 7:var e=(i.length-2)/2,r=i.substr(2,e),n=i.substr(e+2,e);return new d(this,this.fromBigInteger(new t(r,16)),this.fromBigInteger(new t(n,16)));default:return null}}function Y(t){if(t.isInfinity())return"00";var i=t.getX().toBigInteger().toString(16),e=t.getY().toBigInteger().toString(16),r=this.getP().toString(16).length;for(r%2!=0&&r++;i.length<r;)i="0"+i;for(;e.length<r;)e="0"+e;return"04"+i+e}e.prototype.convert=r,e.prototype.revert=n,e.prototype.reduce=s,e.prototype.mulTo=o,e.prototype.sqrTo=u,h.prototype.equals=p,h.prototype.toBigInteger=l,h.prototype.negate=g,h.prototype.add=c,h.prototype.subtract=y,h.prototype.multiply=m,h.prototype.square=f,h.prototype.divide=a,d.prototype.getX=v,d.prototype.getY=I,d.prototype.equals=B,d.prototype.isInfinity=w,d.prototype.negate=b,d.prototype.add=z,d.prototype.twice=q,d.prototype.multiply=x,d.prototype.multiplyTwo=T,E.prototype.getP=L,E.prototype.getA=O,E.prototype.getB=R,E.prototype.equals=Z,E.prototype.contains=P,E.prototype.getInfinity=S,E.prototype.fromBigInteger=C,E.prototype.reduce=F,E.prototype.decodePointHex=X,E.prototype.encodePointHex=Y,module.exports={ECFieldElementFp:h,ECPointFp:d,ECCurveFp:E};
},{"../../deps/forge":"EQLp"}],"w7D3":[function(require,module,exports) {
"use strict";var F=require("../../deps/forge").jsbn.BigInteger,E=require("./math.js");function B(F,E,B,C){this.curve=F,this.g=E,this.n=B,this.h=C}function C(){return this.curve}function A(){return this.g}function e(){return this.n}function D(){return this.h}function r(E){return new F(E,16)}function t(){var C=r("FFFFFFFF00000001000000000000000000000000FFFFFFFFFFFFFFFFFFFFFFFF"),A=r("FFFFFFFF00000001000000000000000000000000FFFFFFFFFFFFFFFFFFFFFFFC"),e=r("5AC635D8AA3A93E7B3EBBD55769886BC651D06B0CC53B0F63BCE3C3E27D2604B"),D=r("FFFFFFFF00000000FFFFFFFFFFFFFFFFBCE6FAADA7179E84F3B9CAC2FC632551"),t=F.ONE,n=new E.ECCurveFp(C,A,e),u=n.decodePointHex("046B17D1F2E12C4247F8BCE6E563A440F277037D812DEB33A0F4A13945D898C2964FE342E2FE1A7F9B8EE7EB4A7C0F9E162BCE33576B315ECECBB6406837BF51F5");return new B(n,u,D,t)}function n(){var C=r("FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFF0000000000000000FFFFFFFF"),A=r("FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFF0000000000000000FFFFFFFC"),e=r("B3312FA7E23EE7E4988E056BE3F82D19181D9C6EFE8141120314088F5013875AC656398D8A2ED19D2A85C8EDD3EC2AEF"),D=r("FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFC7634D81F4372DDF581A0DB248B0A77AECEC196ACCC52973"),t=F.ONE,n=new E.ECCurveFp(C,A,e),u=n.decodePointHex("04AA87CA22BE8B05378EB1C71EF320AD746E1D3B628BA79B9859F741E082542A385502F25DBF55296C3A545E3872760AB73617DE4A96262C6F5D9E98BF9292DC29F8F41DBD289A147CE9DA3113B5F0B8C00A60B1CE1D7E819D7A431D7C90EA0E5F");return new B(n,u,D,t)}function u(){var C=r("01FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF"),A=r("01FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFC"),e=r("0051953EB9618E1C9A1F929A21A0B68540EEA2DA725B99B315F3B8B489918EF109E156193951EC7E937B1652C0BD3BB1BF073573DF883D2C34F1EF451FD46B503F00"),D=r("01FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFA51868783BF2F966B7FCC0148F709A5D03BB5C9B8899C47AEBB6FB71E91386409"),t=F.ONE,n=new E.ECCurveFp(C,A,e),u=n.decodePointHex("0400C6858E06B70404E9CD9E3ECB662395B4429C648139053FB521F828AF606B4D3DBAA14B5E77EFE75928FE1DC127A2FFA8DE3348B3C1856A429BF97E7E31C2E5BD66011839296A789A3BC0045C8A5FB42C7D1BD998F54449579B446817AFBD17273E662C97EE72995EF42640C550B9013FAD0761353C7086A272C24088BE94769FD16650");return new B(n,u,D,t)}B.prototype.getCurve=C,B.prototype.getG=A,B.prototype.getN=e,B.prototype.getH=D;var o=module.exports={secp256r1:t(),secp384r1:n(),secp521r1:u()};o["P-256"]=o.secp256r1,o["P-384"]=o.secp384r1,o["P-521"]=o.secp521r1;
},{"../../deps/forge":"EQLp","./math.js":"wCJN"}],"NDyL":[function(require,module,exports) {
var Buffer = require("buffer").Buffer;
var t=require("buffer").Buffer,r=require("../../deps/forge"),e=r.jsbn.BigInteger,i=require("./math.js"),n=require("./curves.js");function o(t){return new e(t,16)}function a(r,e){e||(e=Math.ceil(r.bitLength()/8)),e*=2;var i=r.toString(16);for(i=i.substring(Math.max(i.length-e,0));e>i.length;)i="0"+i;return t.from(i,"hex")}function s(r){return"string"==typeof r&&(r=t.from(r,"binary")),o(r.toString("hex"))}function u(t){return Math.ceil(t.getN().bitLength()/8)}function p(t){var r=n[t];if(!r)throw new TypeError("unsupported named curve: "+t);return r}function g(t,r){var e=t.getN().bitLength(),i=8*r.length,n=s(r);return e<i&&(n=n.shiftRight(i-e)),n}function m(t,r,e){var n=p(t),o=n.getCurve(),s=new i.ECPointFp(o,o.fromBigInteger(r),o.fromBigInteger(e));this.curve=t,this.params=n,this.point=s;var g=u(n);this.x=a(r,g),this.y=a(e,g)}function h(t,r){var e=p(t);this.curve=t,this.params=e;var i=u(e);this.d=a(r,i)}m.prototype.isValid=function(){return this.params.curve.contains(this.point)},m.prototype.verify=function(t,r){var i=this.params.getN(),n=this.params.getG(),o=s(r.r),a=s(r.s);if(o.compareTo(e.ONE)<0||o.compareTo(i)>=0)return!1;if(a.compareTo(e.ONE)<0||o.compareTo(i)>=0)return!1;var u=g(this.params,t),p=a.modInverse(i),m=u.multiply(p).mod(i),h=o.multiply(p).mod(i),f=n.multiplyTwo(m,this.point,h).getX().toBigInteger();return(f=f.mod(i)).equals(o)},h.prototype.toPublicKey=function(){var t=s(this.d),r=this.params.getG().multiply(t);return new m(this.curve,r.getX().toBigInteger(),r.getY().toBigInteger())},h.prototype.sign=function(t){var i,n,o,p,m=u(this.params),h=this.params.getN(),f=this.params.getG(),c=g(this.params,t),l=s(this.d);do{do{do{o=s(r.random.getBytes(m))}while(o.equals(e.ZERO)||o.compareTo(h)>=0);i=f.multiply(o).getX().toBigInteger().mod(h)}while(i.equals(e.ZERO));p=l.multiply(i),p=c.add(p),n=o.modInverse(h).multiply(p).mod(h)}while(n.equals(e.ONE));var v=u(this.params);return{r:i=a(i,v),s:n=a(n,v)}},h.prototype.isValid=function(){var t=s(this.d),r=this.params.getN().subtract(e.ONE);return t.compareTo(e.ONE)>=0&&t.compareTo(r)<0},h.prototype.computeSecret=function(t){var r=s(this.d),e=t.point.multiply(r).getX().toBigInteger();return e=a(e,u(this.params))},exports.generateKeyPair=function(t){var i=p(t),n=i.getN(),o=r.random.getBytes(u(i));o=s(o);var a=n.subtract(e.ONE),g=new h(t,o.mod(a).add(e.ONE)),m=g.toPublicKey();return{private:g,public:m}},exports.asPublicKey=function(r,e,i){return"string"==typeof e?e=o(e):t.isBuffer(e)&&(e=s(e)),"string"==typeof i?i=o(i):t.isBuffer(i)&&(i=s(i)),new m(r,e,i)},exports.asPrivateKey=function(r,e){return"string"==typeof e?e=o(e):t.isBuffer(e)&&(e=s(e)),new h(r,e)};
},{"../../deps/forge":"EQLp","./math.js":"wCJN","./curves.js":"w7D3","buffer":"peL6"}],"XATM":[function(require,module,exports) {
var Buffer = require("buffer").Buffer;
var r=require("buffer").Buffer,e=require("lodash/clone"),n=require("../deps/ecc"),a=require("../deps/forge.js"),t=require("../util"),o={"P-256":256,"P-384":384,"P-521":521};function s(r,e){var t=e?["x","y"]:["d"];return t=t.map(function(e){return new a.jsbn.BigInteger(r[e].toString("hex"),16)}),t=[r.crv].concat(t),(e?n.asPublicKey:n.asPrivateKey).apply(n,t)}function c(r,n){var a=e(r);return(n?["x","y"]:["x","y","d"]).forEach(function(r){a[r]=t.base64url.encode(a[r])}),delete a.key_ops,delete a.use,delete a.alg,n&&delete a.d,a}function u(r,n){var a=e(r);return(n?["x","y"]:["d"]).forEach(function(r){a[r]=t.asBuffer(a[r],"base64url")}),a}var E=r.from([4]);function i(e,n){return e=u(e,n),n?r.concat([E,e.x,e.y]):e.d}function f(r){return o[r||""]||NaN}function l(r){switch(r){case"P-256":return"1.2.840.10045.3.1.7";case"P-384":return"1.3.132.0.34";case"P-521":return"1.3.132.0.35";default:return null}}var y="1.2.840.10045.2.1";function T(e,n){var t,o,s,c=e.crv;return c=l(c),c=a.asn1.oidToDer(c),n?(t="EC PRIVATE KEY",o=r.concat([r.from([0,4]),e.x,e.y]).toString("binary"),e=e.d.toString("binary"),s=a.asn1.create(a.asn1.Class.UNIVERSAL,a.asn1.Type.SEQUENCE,!0,[a.asn1.create(a.asn1.Class.UNIVERSAL,a.asn1.Type.INTEGER,!1,""),a.asn1.create(a.asn1.Class.UNIVERSAL,a.asn1.Type.OCTETSTRING,!1,e),a.asn1.create(a.asn1.Class.CONTEXT_SPECIFIC,0,!0,[a.asn1.create(a.asn1.Class.UNIVERSAL,a.asn1.Type.OID,!1,c.bytes())]),a.asn1.create(a.asn1.Class.CONTEXT_SPECIFIC,1,!0,[a.asn1.create(a.asn1.Class.UNIVERSAL,a.asn1.Type.BITSTRING,!1,o)])])):(t="PUBLIC KEY",e=r.concat([r.from([0,4]),e.x,e.y]).toString("binary"),s=a.asn1.create(a.asn1.Class.UNIVERSAL,a.asn1.Type.SEQUENCE,!0,[a.asn1.create(a.asn1.Class.UNIVERSAL,a.asn1.Type.SEQUENCE,!0,[a.asn1.create(a.asn1.Class.UNIVERSAL,a.asn1.Type.OID,!1,a.asn1.oidToDer(y).bytes()),a.asn1.create(a.asn1.Class.UNIVERSAL,a.asn1.Type.OID,!1,c.bytes())]),a.asn1.create(a.asn1.Class.UNIVERSAL,a.asn1.Type.BITSTRING,!1,e)])),s=a.asn1.toDer(s).bytes(),a.pem.encode({type:t,body:s})}var v="Could not extract parameters from DER signature";function C(e,n){var a=0;if(48!==e[a++])throw new Error(v);var t=e[a++];if(129===t&&(t=e[a++]),t>e.length-a)throw new Error(v);if(2!==e[a++])throw new Error(v);var o=e[a++];if(o>e.length-a-2)throw new Error(v);if(o>n+1)throw new Error(v);var s=a;if(a+=o,2!==e[a++])throw new Error(v);var c=e[a++];if(c!==e.length-a)throw new Error(v);if(c>n+1)throw new Error(v);var u=a;if((a+=c)!==e.length)throw new Error(v);var E=n-o,i=n-c,f=r.alloc(E+o+i+c);for(a=0;a<E;++a)f[a]=0;var l=Math.max(-E,0);e.copy(f,a,s+l,s+o);for(var y=a=n;a<y+i;++a)f[a]=0;var T=Math.max(-i,0);return e.copy(f,a,u+T,u+c),f}function I(r,e,n){for(var a=0;e+a<n&&0===r[e+a];)++a;return r[e+a]>=128&&--a,a}function p(e,n){var a=I(e,0,n),t=I(e,n,e.length),o=n-a,s=n-t,c=o+s+4,u=c<128,E=r.alloc((u?2:3)+c),i=0;return E[i++]=48,u?E[i++]=c:(E[i++]=129,E[i++]=255&c),E[i++]=2,E[i++]=o,a<0?(E[i++]=0,i+=e.copy(E,i,0,n)):i+=e.copy(E,i,a,n),E[i++]=2,E[i++]=s,t<0?(E[i++]=0,e.copy(E,i,n)):e.copy(E,i,n+t),E}module.exports={convertToForge:s,convertToJWK:c,convertToObj:u,convertToBuffer:i,curveSize:f,derToConcat:C,concatToDer:p,convertToPEM:T,EC_OID:y};
},{"lodash/clone":"ACgM","../deps/ecc":"NDyL","../deps/forge.js":"EQLp","../util":"FgzD","buffer":"peL6"}],"AEPH":[function(require,module,exports) {
var Buffer = require("buffer").Buffer;
var r=require("buffer").Buffer,e=require("./constants.js"),n=require("./hmac.js");function t(t){var c=t.replace("HKDF-",""),a=t.replace("HKDF-SHA-","HS");return function(t,o){var u=e.HASHLENGTH[c]/8;"string"==typeof a&&(a=n[a].sign);var l=(o=o||{}).salt;l&&0!==l.length||(l=r.alloc(u));var i=o.info||r.alloc(0),H=o.length||u,f=Math.ceil(H/u),h=[],s=0;return a(l,t,{length:8*l.length}).then(function(e){return function e(n,t){return f===s++?r.concat(h).slice(0,H):(t||(t=r.alloc(0)),t=r.concat([t,i,r.from([s])]),t=(t=a(n,t)).then(function(r){return t=r.mac,h.push(t),e(n,t)}))}(e.mac)})}}var c={};["HKDF-SHA-1","HKDF-SHA-256","HKDF-SHA-384","HKDF-SHA-512"].forEach(function(r){c[r]={derive:t(r)}}),module.exports=c;
},{"./constants.js":"jbn0","./hmac.js":"pHyo","buffer":"peL6"}],"crFZ":[function(require,module,exports) {
var Buffer = require("buffer").Buffer;
var r=require("buffer").Buffer,e=require("../util/merge"),t=require("../util"),n=require("./ec-util.js"),i=require("./hkdf.js"),u=require("./concat.js"),o=require("./aes-kw.js"),c=require("./helpers.js"),a=require("./constants.js"),s=require("lodash/clone"),p=require("lodash/omit"),f=require("lodash/pick");function v(r){switch(r){case"P-256":return"SHA-256";case"P-384":return"SHA-384";case"P-521":return"SHA-512";default:throw new Error("unsupported curve: "+r)}}var l=module.exports={};function h(){var t={name:"ECDH"},i=function(r,e){var t=r&&n.convertToForge(r,!0);if(!t||!t.isValid())return Promise.reject(new Error("invalid EC public key"));switch(e){case"jwk":t=n.convertToJWK(r,!0);break;case"buffer":t=n.convertToBuffer(r,!0)}return Promise.resolve(t)};return c.setupFallback(function(r,e){if("function"!=typeof c.nodeCrypto.createECDH)throw new Error("unsupported algorithm: ECDH");var t,u=(e=e||{}).length||0;switch(r.crv){case"P-256":t="prime256v1";break;case"P-384":t="secp384r1";break;case"P-521":t="secp521r1";break;default:return Promise.reject(new Error("invalid curve: "+t))}var o=n.convertToBuffer(r,!1),a=i(e.public,"buffer");return a=a.then(function(r){var e=c.nodeCrypto.createECDH(t);e.setPrivateKey(o);var n=e.computeSecret(r);if(u){if(n.length<u)return Promise.reject(new Error("key length too large: "+u));n=n.slice(0,u)}return n})},function(u,o){u=u||{};var a=(o=o||{}).length||0,p=e(s(t),{namedCurve:u.crv});a||(a=u.d.length);var f=n.convertToJWK(u,!1);f=c.subtleCrypto.importKey("jwk",f,p,!1,["deriveBits"]);var v=i(o.public,"jwk");v=v.then(function(r){return c.subtleCrypto.importKey("jwk",r,p,!1,[])});var l=Promise.all([f,v]);return l=(l=l.then(function(r){var n=r[0],i=r[1],u=e(s(t),{public:i});return c.subtleCrypto.deriveBits(u,n,8*a)})).then(function(e){return e=r.from(e)})},function(r,e){var t=(e=e||{}).length||0,u=n.convertToForge(r,!1),o=i(e.public,"forge");return o=o.then(function(r){var e=u.computeSecret(r);if(t){if(e.length<t)return Promise.reject(new Error("key length too large: "+t));e=e.slice(0,t)}return e})})}function m(){return function(r,e){var t;e=e||{};try{if(!(t=e.hash||v(r.crv)))throw new Error("invalid hash: "+t);t.toUpperCase()}catch(o){return Promise.reject(o)}var n=["public"],i=l.ECDH.derive(r,f(e,n));return i=i.then(function(r){return u["CONCAT-"+t].derive(r,p(e,n))})}}function E(){return function(r,e){var t;e=e||{};try{if(!(t=e.hash||v(r.crv)))throw new Error("invalid hash: "+t);t.toUpperCase()}catch(o){return Promise.reject(o)}var n=["public"],u=l.ECDH.derive(r,f(e,n));return u=u.then(function(r){return i["HKDF-"+t].derive(r,p(e,n))})}}function d(e,n,i){function u(e){return r.concat([c.int32ToBuffer(e.length),e])}var o=i.algorithm||"",s=a.KEYLENGTH[o],p=t.asBuffer(i.apu||"","base64url"),f=t.asBuffer(i.apv||"","base64url"),v={public:n,length:s/8,hash:"SHA-256",otherInfo:r.concat([u(r.from(o,"utf8")),u(p),u(f),c.int32ToBuffer(s)])};return l["ECDH-CONCAT"].derive(e,v)}function k(){return function(r,e,t){if(!(t=t||{}).epk||!t.epk.d)return Promise.reject(new Error("missing ephemeral private key"));var i=n.convertToObj(t.epk,!1);if(!r||!r.x||!r.y)return Promise.reject(new Error("missing static public key"));var u=d(i,n.convertToObj(r,!0),{algorithm:t.enc,apu:t.apu,apv:t.apv});return u=u.then(function(r){return{data:r,once:!0,direct:!0}})}}function b(){return function(r,e,t){if(!(t=t||{}).epk||!t.epk.x||!t.epk.y)return Promise.reject(new Error("missing ephemeral public key"));var i=n.convertToObj(t.epk,!0);if(!r||!r.d)return Promise.reject(new Error("missing static private key"));var u=d(n.convertToObj(r,!1),i,{algorithm:t.enc,apu:t.apu,apv:t.apv});return u=u.then(function(r){return r})}}function g(r){return function(e,t,i){if(!(i=i||{}).epk||!i.epk.d)return Promise.reject(new Error("missing ephemeral private key"));var u=n.convertToObj(i.epk,!1);if(!e||!e.x||!e.y)return Promise.reject(new Error("missing static public key"));var o=d(u,n.convertToObj(e,!0),{algorithm:i.alg,apu:i.apu,apv:i.apv});return o=o.then(function(e){return r(e,t)})}}function y(r){return function(e,t,i){if(!(i=i||{}).epk||!i.epk.x||!i.epk.y)return Promise.reject(new Error("missing ephemeral public key"));var u=n.convertToObj(i.epk,!0);if(!e||!e.d)return Promise.reject(new Error("missing static private key"));var o=d(n.convertToObj(e,!1),u,{algorithm:i.alg,apu:i.apu,apv:i.apv});return o=o.then(function(e){return r(e,t)})}}["ECDH","ECDH-HKDF","ECDH-CONCAT"].forEach(function(r){var e=/^ECDH(?:-(\w+))?$/g.exec(r||"")[1],t=l[r]=l[r]||{};switch(e||""){case"CONCAT":t.derive=m();break;case"HKDF":t.derive=E();break;case"":t.derive=h();break;default:t.derive=null}}),["ECDH-ES","ECDH-ES+A128KW","ECDH-ES+A192KW","ECDH-ES+A256KW"].forEach(function(r){var e=/^ECDH-ES(?:\+(.+))?/g.exec(r||"")[1],t=l[r]=l[r]||{};e?(e=o[e])?(t.encrypt=g(e.encrypt),t.decrypt=y(e.decrypt)):t.ecrypt=t.decrypt=null:(t.encrypt=k(),t.decrypt=b())});
},{"../util/merge":"KrzH","../util":"FgzD","./ec-util.js":"XATM","./hkdf.js":"AEPH","./concat.js":"rtLt","./aes-kw.js":"cqzF","./helpers.js":"P03t","./constants.js":"jbn0","lodash/clone":"ACgM","lodash/omit":"J2GV","lodash/pick":"N5Tq","buffer":"peL6"}],"QXBh":[function(require,module,exports) {
var Buffer = require("buffer").Buffer;
var r=require("buffer").Buffer,e=require("./ec-util.js"),n=require("./helpers.js"),t=require("./sha.js");function i(r){switch(r){case"SHA-256":return"P-256";case"SHA-384":return"P-384";case"SHA-512":return"P-521";default:throw new Error("unsupported hash: "+r)}}function o(o){var a,c=i(o),u=o.toLowerCase().replace("-","");return n.nodeCrypto&&n.nodeCrypto.getHashes().indexOf(u)>-1&&(a=function(r,t){if(c!==r.crv)return Promise.reject(new Error("invalid curve"));var i,o;switch(i=(i=Promise.resolve(n.nodeCrypto.createSign(u))).then(function(r){return r.update(t),r}),u.slice(-3)){case"384":o=48;break;case"512":o=66;break;default:o=32}return i=(i=i.then(function(n){return e.derToConcat(n.sign(e.convertToPEM(r,!0)),o)})).then(function(r){return{data:t,mac:r}})}),n.setupFallback(a,function(t,i){if(c!==t.crv)return Promise.reject(new Error("invalid curve"));var a=e.convertToJWK(t,!1),u={name:"ECDSA",namedCurve:a.crv,hash:{name:o}};return n.subtleCrypto.importKey("jwk",a,u,!0,["sign"]).then(function(r){return n.subtleCrypto.sign(u,r,i)}).then(function(e){return e=r.from(e),{data:i,mac:e}})},function(n,i){if(c!==n.crv)return Promise.reject(new Error("invalid curve"));var a=e.convertToForge(n,!1);return t[o].digest(i).then(function(e){return e=a.sign(e),e=r.concat([e.r,e.s]),{data:i,mac:e}})})}function a(r){var o,a=i(r),c=r.toLowerCase().replace("-","");return n.nodeCrypto&&n.nodeCrypto.getHashes().indexOf(c)>-1&&(o=function(r,t,i){if(a!==r.crv)return Promise.reject(new Error("invalid curve"));var o;switch(c.slice(-3)){case"384":o=48;break;case"512":o=66;break;default:o=32}return Promise.resolve(n.nodeCrypto.createVerify(c)).then(function(n){return n.update(t),n.end(),n.verify(e.convertToPEM(r,!1),e.concatToDer(i,o))}).then(function(r){if(!r)throw new Error("verification failed");return{data:t,mac:i,valid:!0}})}),n.setupFallback(o,function(t,i,o){if(a!==t.crv)return Promise.reject(new Error("invalid curve"));var c=e.convertToJWK(t,!0),u={name:"ECDSA",namedCurve:c.crv,hash:{name:r}};return n.subtleCrypto.importKey("jwk",c,u,!0,["verify"]).then(function(r){return n.subtleCrypto.verify(u,r,o,i)}).then(function(r){return r?{data:i,mac:o,valid:!0}:Promise.reject(new Error("verification failed"))})},function(n,i,o){if(a!==n.crv)return Promise.reject(new Error("invalid curve"));var c=e.convertToForge(n,!0);return t[r].digest(i).then(function(r){var e=o.length/2,n={r:o.slice(0,e),s:o.slice(e)};return c.verify(r,n)?{data:i,mac:o,valid:!0}:Promise.reject(new Error("verification failed"))})})}var c={};["ES256","ES384","ES512"].forEach(function(r){var e=r.replace(/ES(\d+)/g,function(r,e){return"SHA-"+e});c[r]={sign:o(e),verify:a(e)}}),module.exports=c;
},{"./ec-util.js":"XATM","./helpers.js":"P03t","./sha.js":"QzlM","buffer":"peL6"}],"wG6J":[function(require,module,exports) {
var Buffer = require("buffer").Buffer;
var r=require("buffer").Buffer,e=require("../deps/forge.js"),t=require("../util/merge.js"),n=require("../util"),i=require("./helpers.js"),o=require("./constants.js"),a=require("./aes-kw.js"),u=r.from([0]),s=8192,c=16;function l(e,t,n){var i="PBES2-"+e+"+"+t,o=[r.from(i,"utf8"),u,n];return r.concat(o)}function f(t){function o(e){var t=(e=e||{}).length||0,i=n.asBuffer(e.salt||r.alloc(0),"base64u4l"),o=e.iterations||0;if(0>=t)throw new Error("invalid key length");if(0>=o)throw new Error("invalid iteration count");return e.length=t,e.salt=i,e.iterations=o,e}return i.setupFallback(function(r,e){if(6>i.nodeCrypto.pbkdf2.length)throw new Error("unsupported algorithm: PBKDF2-"+t);try{e=o(e)}catch(c){return Promise.reject(c)}var n=e.length,a=e.salt,u=e.iterations,s=t.replace("-","");return new Promise(function(e,t){i.nodeCrypto.pbkdf2(r,a,u,n,s,function(r,n){r?t(r):e(n)})})},function(r,e){try{e=o(e)}catch(l){return Promise.reject(l)}var a=e.length,u=e.salt,s=e.iterations,c=Promise.resolve(r);return c=(c=(c=c.then(function(r){return i.subtleCrypto.importKey("raw",r,"PBKDF2",!1,["deriveBits"])})).then(function(r){var e={name:"PBKDF2",salt:new Uint8Array(u),iterations:s,hash:t};return i.subtleCrypto.deriveBits(e,r,8*a)})).then(function(r){return n.asBuffer(r)})},function(n,i){try{i=o(i)}catch(c){return Promise.reject(c)}var a=i.length,u=i.salt,s=i.iterations;return new Promise(function(i,o){var c=e.md[t.replace("-","").toLowerCase()].create();e.pkcs5.pbkdf2(n.toString("binary"),u.toString("binary"),s,a,c,function(e,t){e?o(e):(t=r.from(t,"binary"),i(t))})})})}function h(e,i){var u="PBKDF2-"+e.replace("HS","SHA-"),f=o.KEYLENGTH[i]/8;return function(o,h,p){p=p||{};var d=n.asBuffer(p.p2s||r.alloc(0),"base64url"),P=p.p2c||s;if(0>=P)throw new Error("invalid iteration count");if(0===d.length)d=n.randomBytes(c);else if(8>d.length)throw new Error("salt too small");var m={p2s:n.base64url.encode(d),p2c:P};d=l(e,i,d),p=t(p,{salt:d,iterations:P,length:f});var B=Promise.resolve(o);return B=(B=(B=B.then(function(r){return v[u].derive(r,p)})).then(function(r){return a[i].encrypt(r,h)})).then(function(r){return r.header=t(r.header||{},m),r})}}function p(e,i){var u="PBKDF2-"+e.replace("HS","SHA-"),s=o.KEYLENGTH[i]/8;return function(o,c,f){f=f||{};var h=n.asBuffer(f.p2s||r.alloc(0),"base64url"),p=f.p2c||0;if(0>=p)return Promise.reject(new Error("invalid iteration count"));if(8>h.length)return Promise.reject(new Error("salt too small"));h=l(e,i,h),f=t(f,{salt:h,iterations:p,length:s});var d=Promise.resolve(o);return d=(d=d.then(function(r){return v[u].derive(r,f)})).then(function(r){return a[i].decrypt(r,c)})}}var v={};["PBKDF2-SHA-256","PBKDF2-SHA-384","PBKDF2-SHA-512"].forEach(function(r){var e=r.replace("PBKDF2-","");v[r]={derive:f(e)}}),["PBES2-HS256+A128KW","PBES2-HS384+A192KW","PBES2-HS512+A256KW"].forEach(function(r){var e=/PBES2-(HS\d+)\+(A\d+KW)/g.exec(r),t=e[1],n=e[2];v[r]={encrypt:h(t,n),decrypt:p(t,n)}}),module.exports=v;
},{"../deps/forge.js":"EQLp","../util/merge.js":"KrzH","../util":"FgzD","./helpers.js":"P03t","./constants.js":"jbn0","./aes-kw.js":"cqzF","buffer":"peL6"}],"bruX":[function(require,module,exports) {
"use strict";var e=require("lodash/clone"),r=require("../deps/forge.js"),t=require("../util");function n(e,t){var n=t?["n","e"]:["n","e","d","p","q","dp","dq","qi"];return n=n.map(function(t){return new r.jsbn.BigInteger(e[t].toString("hex"),16)}),(t?r.pki.rsa.setPublicKey:r.pki.rsa.setPrivateKey).apply(r.pki.rsa,n)}function i(r,n){var i=e(r);return(n?["n","e"]:["n","e","d","p","q","dp","dq","qi"]).forEach(function(e){i[e]=t.base64url.encode(i[e])}),delete i.key_ops,delete i.use,delete i.alg,n&&(delete i.d,delete i.p,delete i.q,delete i.dp,delete i.dq,delete i.qi),i}function d(e,t){var i,d=t?"__cachedPublicPem":"__cachedPrivatePem";return e[d]?e[d]:(i=t?r.pki.publicKeyToPem(n(e,t)):r.pki.privateKeyToPem(n(e,t)),Object.defineProperty(e,d,{value:i}),i)}module.exports={convertToForge:n,convertToJWK:i,convertToPem:d};
},{"lodash/clone":"ACgM","../deps/forge.js":"EQLp","../util":"FgzD"}],"JWQl":[function(require,module,exports) {
var Buffer = require("buffer").Buffer;
var e=require("buffer").Buffer,r=require("../deps/forge.js"),n=require("./helpers.js"),t=require("../util/databuffer.js"),o=require("./rsa-util.js"),a={"RSA-OAEP":"RSA_PKCS1_OAEP_PADDING",RSA1_5:"RSA_PKCS1_PADDING"};function u(e){return n.nodeCrypto&&n.nodeCrypto.constants&&-1!==Object.keys(a).indexOf(e)}function c(c){var p={name:c};"RSA-OAEP-256"===c?(p.name="RSA-OAEP",p.hash={name:"SHA-256"}):"RSA-OAEP"===c?p.hash={name:"SHA-1"}:p.name="RSAES-PKCS1-v1_5";var A,s;return A="RSAES-PKCS1-v1_5"!==p.name?function(r,t){return r=o.convertToJWK(r,!0),n.subtleCrypto.importKey("jwk",r,p,!0,["encrypt"]).then(function(e){return n.subtleCrypto.encrypt(p,e,t)}).then(function(r){return{data:e.from(r)}})}:null,u(c)&&(s=function(e,r){return e=o.convertToPem(e,!0),{data:n.nodeCrypto.publicEncrypt({key:e,padding:n.nodeCrypto.constants[a[c]]},r)}}),n.setupFallback(s,A,function(e,n){n=new t(n).bytes();var a=o.convertToForge(e,!0),u={};"RSA-OAEP"===p.name&&(u.md=p.hash.name.toLowerCase().replace(/-/g,""),u.md=r.md[u.md].create());var c=a.encrypt(n,p.name.toUpperCase(),u);return c=new t(c).native(),Promise.resolve({data:c})})}function p(c){var p={name:c};"RSA-OAEP-256"===c?(p.name="RSA-OAEP",p.hash={name:"SHA-256"}):"RSA-OAEP"===c?p.hash={name:"SHA-1"}:p.name="RSAES-PKCS1-v1_5";var A,s;return A="RSAES-PKCS1-v1_5"!==p.name?function(r,t){return r=o.convertToJWK(r,!1),n.subtleCrypto.importKey("jwk",r,p,!0,["decrypt"]).then(function(e){return n.subtleCrypto.decrypt(p,e,t)}).then(function(r){return e.from(r)})}:null,u(c)?s=function(e,r){return e=o.convertToPem(e,!1),n.nodeCrypto.privateDecrypt({key:e,padding:n.nodeCrypto.constants[a[c]]},r)}:n.nodeCrypto&&"RSA-OAEP"===c&&(s=function(e,r){return e=o.convertToPem(e,!1),n.nodeCrypto.privateDecrypt(e,r)}),n.setupFallback(s,A,function(e,n){n=new t(n).bytes();var a=o.convertToForge(e,!1),u={};"RSA-OAEP"===p.name&&(u.md=p.hash.name.toLowerCase().replace(/-/g,""),u.md=r.md[u.md].create());var c=a.decrypt(n,p.name.toUpperCase(),u);return c=new t(c).native(),Promise.resolve(c)})}var A={};["RSA-OAEP","RSA-OAEP-256","RSA1_5"].forEach(function(e){A[e]={encrypt:c(e),decrypt:p(e)}}),module.exports=A;
},{"../deps/forge.js":"EQLp","./helpers.js":"P03t","../util/databuffer.js":"mPoX","./rsa-util.js":"bruX","buffer":"peL6"}],"G4uk":[function(require,module,exports) {
var Buffer = require("buffer").Buffer;
var e=require("buffer").Buffer,r=require("../deps/forge.js"),t=require("./constants"),n=require("./helpers.js"),a=require("./rsa-util.js");function o(){return n.nodeCrypto&&n.nodeCrypto.constants&&n.nodeCrypto.constants.RSA_PSS_SALTLEN_DIGEST}function i(t){var o,i=t.replace("RS","SHA").toLowerCase(),c=t.replace("RS","SHA-"),s={name:"RSASSA-PKCS1-V1_5",hash:{name:c}},u="RSA-"+c.replace("-","");return n.nodeCrypto&&n.nodeCrypto.getHashes().indexOf(u)>-1&&(o=function(e,r){var t=n.nodeCrypto.createSign(u);return t.update(r),{data:r,mac:t.sign(a.convertToPem(e,!1))}}),n.setupFallback(o,function(r,t){return r=a.convertToJWK(r,!1),n.subtleCrypto.importKey("jwk",r,s,!0,["sign"]).then(function(e){return n.subtleCrypto.sign(s,e,t)}).then(function(r){var n=e.from(r);return{data:t,mac:n}})},function(t,n){var o=r.md[i].create();o.start(),o.update(n);var c=a.convertToForge(t,!1).sign(o,"RSASSA-PKCS1-V1_5");return c=e.from(c,"binary"),Promise.resolve({data:n,mac:c})})}function c(e){var t,o=e.replace("RS","SHA").toLowerCase(),i={name:"RSASSA-PKCS1-V1_5",hash:{name:e.replace("RS","SHA-")}};return n.nodeCrypto&&n.nodeCrypto.getHashes().indexOf(o)>-1&&(t=function(e,r,t){var i=n.nodeCrypto.createVerify(o);return i.update(r),i.end(),i.verify(a.convertToPem(e,!0),t)?{data:r,mac:t,valid:!0}:Promise.reject(new Error("verification failed"))}),n.setupFallback(t,function(e,r,t){return e=a.convertToJWK(e,!0),n.subtleCrypto.importKey("jwk",e,i,!0,["verify"]).then(function(e){return n.subtleCrypto.verify(i,e,t,r)}).then(function(e){return e?{data:r,mac:t,valid:!0}:Promise.reject(new Error("verification failed"))})},function(e,t,n){var i=r.md[o].create();i.start(),i.update(t),i=i.digest().bytes();var c=a.convertToForge(e,!0),s=n.toString("binary");return c.verify(i,s,"RSASSA-PKCS1-V1_5")?Promise.resolve({data:t,mac:n,valid:!0}):Promise.reject(new Error("verification failed"))})}function s(i){var c,s=i.replace("PS","SHA").toLowerCase(),u=i.replace("PS","SHA-"),S={name:"RSA-PSS",hash:{name:u},saltLength:t.HASHLENGTH[u]/8},f="RSA-"+u.replace("-","");return o()&&(c=function(e,r){var t=n.nodeCrypto.createSign(f);return t.update(r),{data:r,mac:t.sign({key:a.convertToPem(e,!1),padding:n.nodeCrypto.constants.RSA_PKCS1_PSS_PADDING,saltLength:n.nodeCrypto.constants.RSA_PSS_SALTLEN_DIGEST})}}),n.setupFallback(c,function(r,t){return r=a.convertToJWK(r,!1),n.subtleCrypto.importKey("jwk",r,S,!0,["sign"]).then(function(e){return n.subtleCrypto.sign(S,e,t)}).then(function(r){var n=e.from(r);return{data:t,mac:n}})},function(n,o){var i=r.md[s].create();i.start(),i.update(o);var c=r.pss.create({md:r.md[s].create(),mgf:r.mgf.mgf1.create(r.md[s].create()),saltLength:t.HASHLENGTH[u]/8}),S=a.convertToForge(n,!1).sign(i,c);return S=e.from(S,"binary"),Promise.resolve({data:o,mac:S})})}function u(e){var i,c=e.replace("PS","SHA").toLowerCase(),s=e.replace("PS","SHA-"),u={name:"RSA-PSS",hash:{name:s},saltLength:t.HASHLENGTH[s]/8};return o()&&(i=function(e,r,t){var o=n.nodeCrypto.createVerify(c);return o.update(r),o.end(),o.verify({key:a.convertToPem(e,!0),padding:n.nodeCrypto.constants.RSA_PKCS1_PSS_PADDING,saltLength:n.nodeCrypto.constants.RSA_PSS_SALTLEN_DIGEST},t)?{data:r,mac:t,valid:!0}:Promise.reject(new Error("verification failed"))}),n.setupFallback(i,function(e,r,t){return e=a.convertToJWK(e,!0),n.subtleCrypto.importKey("jwk",e,u,!0,["verify"]).then(function(e){return n.subtleCrypto.verify(u,e,t,r)}).then(function(e){return e?{data:r,mac:t,valid:!0}:Promise.reject(new Error("verification failed"))})},function(e,n,o){var i=r.md[c].create();i.start(),i.update(n),i=i.digest().bytes();var u=r.pss.create({md:r.md[c].create(),mgf:r.mgf.mgf1.create(r.md[c].create()),saltLength:t.HASHLENGTH[s]/8}),S=a.convertToForge(e,!0),f=o.toString("binary");return S.verify(i,f,u)?Promise.resolve({data:n,mac:o,valid:!0}):Promise.reject(new Error("verification failed"))})}var S={};["PS256","PS384","PS512"].forEach(function(e){S[e]={sign:s(e),verify:u(e)}}),["RS256","RS384","RS512"].forEach(function(e){S[e]={sign:i(e),verify:c(e)}}),module.exports=S;
},{"../deps/forge.js":"EQLp","./constants":"jbn0","./helpers.js":"P03t","./rsa-util.js":"bruX","buffer":"peL6"}],"Nk5n":[function(require,module,exports) {
"use strict";var r=[require("./aes-cbc-hmac-sha2.js"),require("./aes-gcm.js"),require("./aes-kw.js"),require("./concat.js"),require("./dir.js"),require("./ecdh.js"),require("./ecdsa.js"),require("./hkdf.js"),require("./hmac.js"),require("./pbes2.js"),require("./rsaes.js"),require("./rsassa.js"),require("./sha.js")],e={},t={},i={},n={},o={},s={};r.forEach(function(r){Object.keys(r).forEach(function(u){var c=r[u];"function"==typeof c.encrypt&&(o[u]=c.encrypt),"function"==typeof c.decrypt&&(s[u]=c.decrypt),"function"==typeof c.sign&&(i[u]=c.sign),"function"==typeof c.verify&&(n[u]=c.verify),"function"==typeof c.digest&&(e[u]=c.digest),"function"==typeof c.derive&&(t[u]=c.derive)})}),exports.digest=function(r,t,i){var n=e[r];return n?n(t,i):Promise.reject(new Error("unsupported algorithm: "+r))},exports.derive=function(r,e,i){var n=t[r];return n?n(e,i):Promise.reject(new Error("unsupported algorithm: "+r))},exports.sign=function(r,e,t,n){var o=i[r];return o?o(e,t,n||{}):Promise.reject(new Error("unsupported algorithm: "+r))},exports.verify=function(r,e,t,i,o){var s=n[r];return s?s(e,t,i,o||{}):Promise.reject(new Error("unsupported algorithm: "+r))},exports.encrypt=function(r,e,t,i){var n=o[r];return n?n(e,t,i||{}):Promise.reject(new Error("unsupported algorithm: "+r))},exports.decrypt=function(r,e,t,i){var n=s[r];return n?n(e,t,i||{}):Promise.reject(new Error("unsupported algorithm: "+r))};
},{"./aes-cbc-hmac-sha2.js":"K0xl","./aes-gcm.js":"Mu6I","./aes-kw.js":"cqzF","./concat.js":"rtLt","./dir.js":"Iwsd","./ecdh.js":"crFZ","./ecdsa.js":"QXBh","./hkdf.js":"AEPH","./hmac.js":"pHyo","./pbes2.js":"wG6J","./rsaes.js":"JWQl","./rsassa.js":"G4uk","./sha.js":"QzlM"}],"ToGc":[function(require,module,exports) {
"use strict";module.exports={MODE_SIGN:"sign",MODE_VERIFY:"verify",MODE_ENCRYPT:"encrypt",MODE_DECRYPT:"decrypt",MODE_WRAP:"wrap",MODE_UNWRAP:"unwrap"};
},{}],"T9kX":[function(require,module,exports) {
var Buffer = require("buffer").Buffer;
var e=require("buffer").Buffer,t=require("lodash/clone"),a=require("../util"),s=require("../deps/forge"),r=require("../algorithms"),n={name:"PrivateKeyInfo",tagClass:s.asn1.Class.UNIVERSAL,type:s.asn1.Type.SEQUENCE,constructed:!0,value:[{name:"PrivateKeyInfo.version",tagClass:s.asn1.Class.UNIVERSAL,type:s.asn1.Type.INTEGER,constructed:!1,capture:"keyVersion"},{name:"PrivateKeyInfo.privateKeyAlgorithm",tagClass:s.asn1.Class.UNIVERSAL,type:s.asn1.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:s.asn1.Class.UNIVERSAL,type:s.asn1.Type.OID,constructed:!1,capture:"keyOid"},{name:"AlgorithmIdentifier.parameters",captureAsn1:"keyParams"}]},{name:"PrivateKeyInfo",tagClass:s.asn1.Class.UNIVERSAL,type:s.asn1.Type.OCTETSTRING,constructed:!1,capture:"keyValue"}]},i={name:"SubjectPublicKeyInfo",tagClass:s.asn1.Class.UNIVERSAL,type:s.asn1.Type.SEQUENCE,constructed:!0,value:[{name:"SubjectPublicKeyInfo.AlgorithmIdentifier",tagClass:s.asn1.Class.UNIVERSAL,type:s.asn1.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:s.asn1.Class.UNIVERSAL,type:s.asn1.Type.OID,constructed:!1,capture:"keyOid"},{name:"AlgorithmIdentifier.parameters",captureAsn1:"keyParams"}]},{name:"SubjectPublicKeyInfo.subjectPublicKey",tagClass:s.asn1.Class.UNIVERSAL,type:s.asn1.Type.BITSTRING,constructed:!1,capture:"keyValue"}]},c={name:"Certificate",tagClass:s.asn1.Class.UNIVERSAL,type:s.asn1.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate",tagClass:s.asn1.Class.UNIVERSAL,type:s.asn1.Type.SEQUENCE,constructed:!0,captureAsn1:"certificate",value:[{name:"Certificate.TBSCertificate.version",tagClass:s.asn1.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.version.integer",tagClass:s.asn1.Class.UNIVERSAL,type:s.asn1.Type.INTEGER,constructed:!1,capture:"certVersion"}]},{name:"Certificate.TBSCertificate.serialNumber",tagClass:s.asn1.Class.UNIVERSAL,type:s.asn1.Type.INTEGER,constructed:!1,capture:"certSerialNumber"},{name:"Certificate.TBSCertificate.signature",tagClass:s.asn1.Class.UNIVERSAL,type:s.asn1.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate.signature.algorithm",tagClass:s.asn1.Class.UNIVERSAL,type:s.asn1.Type.OID,constructed:!1,capture:"certSignatureOid"},{name:"Certificate.TBSCertificate.signature.parameters",tagClass:s.asn1.Class.UNIVERSAL,optional:!0,captureAsn1:"certSignatureParams"}]},{name:"Certificate.TBSCertificate.issuer",tagClass:s.asn1.Class.UNIVERSAL,type:s.asn1.Type.SEQUENCE,constructed:!0,captureAsn1:"certIssuer"},{name:"Certificate.TBSCertificate.validity",tagClass:s.asn1.Class.UNIVERSAL,type:s.asn1.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate.validity.notBefore (utc)",tagClass:s.asn1.Class.UNIVERSAL,type:s.asn1.Type.UTCTIME,constructed:!1,optional:!0,capture:"certValidity1UTCTime"},{name:"Certificate.TBSCertificate.validity.notBefore (generalized)",tagClass:s.asn1.Class.UNIVERSAL,type:s.asn1.Type.GENERALIZEDTIME,constructed:!1,optional:!0,capture:"certValidity2GeneralizedTime"},{name:"Certificate.TBSCertificate.validity.notAfter (utc)",tagClass:s.asn1.Class.UNIVERSAL,type:s.asn1.Type.UTCTIME,constructed:!1,optional:!0,capture:"certValidity3UTCTime"},{name:"Certificate.TBSCertificate.validity.notAfter (generalized)",tagClass:s.asn1.Class.UNIVERSAL,type:s.asn1.Type.GENERALIZEDTIME,constructed:!1,optional:!0,capture:"certValidity4GeneralizedTime"}]},{name:"Certificate.TBSCertificate.subject",tagClass:s.asn1.Class.UNIVERSAL,type:s.asn1.Type.SEQUENCE,constructed:!0,captureAsn1:"certSubject"},i,{name:"Certificate.TBSCertificate.issuerUniqueID",tagClass:s.asn1.Class.CONTEXT_SPECIFIC,type:1,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.issuerUniqueID.id",tagClass:s.asn1.Class.UNIVERSAL,type:s.asn1.Type.BITSTRING,constructed:!1,capture:"certIssuerUniqueId"}]},{name:"Certificate.TBSCertificate.subjectUniqueID",tagClass:s.asn1.Class.CONTEXT_SPECIFIC,type:2,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.subjectUniqueID.id",tagClass:s.asn1.Class.UNIVERSAL,type:s.asn1.Type.BITSTRING,constructed:!1,capture:"certSubjectUniqueId"}]},{name:"Certificate.TBSCertificate.extensions",tagClass:s.asn1.Class.CONTEXT_SPECIFIC,type:3,constructed:!0,captureAsn1:"certExtensions",optional:!0}]},{name:"Certificate.signatureAlgorithm",tagClass:s.asn1.Class.UNIVERSAL,type:s.asn1.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.signatureAlgorithm.algorithm",tagClass:s.asn1.Class.UNIVERSAL,type:s.asn1.Type.OID,constructed:!1,capture:"certSignatureOid"},{name:"Certificate.TBSCertificate.signature.parameters",tagClass:s.asn1.Class.UNIVERSAL,optional:!0,captureAsn1:"certSignatureParams"}]},{name:"Certificate.signatureValue",tagClass:s.asn1.Class.UNIVERSAL,type:s.asn1.Type.BITSTRING,constructed:!1,capture:"certSignature"}]},u={THUMBPRINT_KEY:"internal\0thumbprint",THUMBPRINT_HASH:"SHA-256"};module.exports={validators:{privateKey:n,publicKey:i,certificate:c},thumbprint:function(t,s,n){if("function"!=typeof t.thumbprint)return Promise.reject(new Error("thumbprint not supported"));n=(n||u.THUMBPRINT_HASH).toUpperCase();var i=t.thumbprint(s),c=Object.keys(i).sort().map(function(t){var s=i[t];return e.isBuffer(s)&&(s=a.base64url.encode(s)),JSON.stringify(t)+":"+JSON.stringify(s)});c="{"+c.join(",")+"}";try{return r.digest(n,e.from(c,"utf8"))}catch(C){return Promise.reject(C)}},unpackProps:function(s,r){var n;r.forEach(function(r){if(r.name in s){n=n||{};var i=s[r.name];switch(r.type){case"binary":e.isBuffer(i)?s[r.name]=a.base64url.encode(i):i=a.base64url.decode(i);break;case"string":case"number":case"boolean":break;case"array":i=[].concat(i);break;case"object":i=t(i)}n[r.name]=i}});var i=n||{};return Object.keys(s).forEach(function(e){e in i||delete s[e]}),n},COMMON_PROPS:[{name:"kty",type:"string"},{name:"kid",type:"string"},{name:"use",type:"string"},{name:"alg",type:"string"},{name:"x5c",type:"array"},{name:"x5t",type:"binary"},{name:"x5u",type:"string"},{name:"key_ops",type:"array"}],INTERNALS:u};
},{"lodash/clone":"ACgM","../util":"FgzD","../deps/forge":"EQLp","../algorithms":"Nk5n","buffer":"peL6"}],"dZTK":[function(require,module,exports) {
var Buffer = require("buffer").Buffer;
var e=require("buffer").Buffer,r=require("../util/merge"),t=require("uuid"),i=require("lodash/assign"),n=require("lodash/clone"),o=require("lodash/flatten"),a=require("lodash/intersection"),s=require("lodash/omit"),u=require("lodash/pick"),p=require("lodash/uniq"),l=require("../algorithms"),c=require("./constants.js"),h=require("./helpers.js"),f=require("../util"),y=function(y,b,v,P){if(!y)throw new Error("kty cannot be null");if(!b)throw new Error("keystore cannot be null");if(!v)throw new Error("props cannot be null");if("string"==typeof v&&(v=JSON.parse(v)),!P)throw new Error("cfg cannot be null");var d,O,m=[],E={},g={};v=n(v),d=i({},v[h.INTERNALS.THUMBPRINT_KEY]||{}),delete v[h.INTERNALS.THUMBPRINT_KEY],Object.keys(d).forEach(function(r){var t=d[r];O||(O=t,e.isBuffer(O)&&(O=f.base64url.encode(O))),e.isBuffer(t)||(t=f.base64url.decode(t),d[r]=t)}),v.kty=y,v.kid=v.kid||O||t();var j,w=Object.keys(h.COMMON_PROPS).map(function(e){return h.COMMON_PROPS[e].name});g.base=u(v,w),m=m.concat(Object.keys(g.base)),g.public=n(v),E.public=P.publicKey(g.public),E.public&&(m=m.concat(Object.keys(g.public))),g.private=n(v),E.private=P.privateKey(g.private),E.private&&(m=m.concat(Object.keys(g.private))),g.extra=s(v,m),j=E.public&&"length"in E.public?E.public.length:E.private&&"length"in E.private?E.private.length:NaN,Object.defineProperty(this,"keystore",{value:b,enumerable:!0}),Object.defineProperty(this,"length",{value:j,enumerable:!0}),Object.defineProperty(this,"kty",{value:y,enumerable:!0}),Object.defineProperty(this,"kid",{value:g.base.kid,enumerable:!0}),Object.defineProperty(this,"use",{value:g.base.use||"",enumerable:!0}),Object.defineProperty(this,"alg",{value:g.base.alg||"",enumerable:!0}),Object.defineProperty(this,"thumbprint",{value:function(e){if(e=(e||h.INTERNALS.THUMBPRINT_HASH).toUpperCase(),d[e])return Promise.resolve(d[e]);var r=h.thumbprint(P,g,e);return r=r.then(function(r){return r&&(d[e]=r),r})}}),Object.defineProperty(this,"algorithms",{value:function(e){var r=[];this.use&&"sig"!==this.use||(e&&c.MODE_SIGN!==e||r.push(c.MODE_SIGN),e&&c.MODE_VERIFY!==e||r.push(c.MODE_VERIFY)),this.use&&"enc"!==this.use||(e&&c.MODE_ENCRYPT!==e||r.push(c.MODE_ENCRYPT),e&&c.MODE_DECRYPT!==e||r.push(c.MODE_DECRYPT),e&&c.MODE_WRAP!==e||r.push(c.MODE_WRAP),e&&c.MODE_UNWRAP!==e||r.push(c.MODE_UNWRAP));var t,i=this,n=r.map(function(e){return P.algorithms.call(i,E,e)});(n=o(n),n=p(n),this.alg)&&(t="oct"===y?[this.alg,"dir"]:[this.alg],n=a(n,t));return n}}),Object.defineProperty(this,"supports",{value:function(e,r){return-1!==this.algorithms(r).indexOf(e)}}),Object.defineProperty(this,"has",{value:function(e,r){var t=!1;return t=(t=(t=(t=t||!!(g.base&&e in g.base))||!!(E.public&&e in E.public))||!!(g.extra&&e in g.extra))||!!(r&&E.private&&e in E.private)}}),Object.defineProperty(this,"get",{value:function(e,r){var t;return g.base&&e in g.base?t=g.base:E.public&&e in E.public?t=E.public:g.extra&&e in g.extra?t=g.extra:r&&E.private&&e in E.private&&(t=E.private),t&&t[e]||null}}),Object.defineProperty(this,"toJSON",{value:function(e,t){Array.isArray(e)&&(t=e,e=!1);var i={};return i=r(i,g.base,g.public,"boolean"==typeof e&&e?g.private:{},g.extra),i=s(i,t||[])}}),Object.defineProperty(this,"toPEM",{value:function(e){if(null===e&&(e=!1),!P.convertToPEM)throw new Error("Unsupported key type for PEM encoding");var r=e?E.private:E.public;if(!r)throw new Error("Invalid key");return P.convertToPEM.call(this,r,e)}}),Object.defineProperty(this,"toObject",{value:function(e,t){Array.isArray(e)&&(t=e,e=!1);var i={};return i=r(i,g.base,E.public,"boolean"==typeof e&&e?E.private:{},g.extra),i=s(i,(t||[]).concat("length"))}}),Object.defineProperty(this,"sign",{value:function(e,t,i){if(-1===this.algorithms("sign").indexOf(e))return Promise.reject(new Error("unsupported algorithm"));var o=P.signKey.call(this,e,E);return o?(i=i?n(i):{},P.signProps&&(i=r(i,P.signProps.call(this,e,i))),l.sign(e,o,t,i)):Promise.reject(new Error("improper key"))}}),Object.defineProperty(this,"verify",{value:function(e,t,i,o){if(-1===this.algorithms("verify").indexOf(e))return Promise.reject(new Error("unsupported algorithm"));var a=P.verifyKey.call(this,e,E);return a?(o=o?n(o):{},P.verifyProps&&(o=r(o,P.verifyProps.call(this,e,o))),l.verify(e,a,t,i,o)):Promise.reject(new Error("improper key"))}}),Object.defineProperty(this,"encrypt",{value:function(e,t,i){if(-1===this.algorithms("encrypt").indexOf(e))return Promise.reject(new Error("unsupported algorithm"));var o=P.encryptKey.call(this,e,E);return o?(i=i?n(i):{},P.encryptProps&&(i=r(i,P.encryptProps.call(this,e,i))),l.encrypt(e,o,t,i)):Promise.reject(new Error("improper key"))}}),Object.defineProperty(this,"decrypt",{value:function(e,t,i){if(-1===this.algorithms("decrypt").indexOf(e))return Promise.reject(new Error("unsupported algorithm"));var o=P.decryptKey.call(this,e,E);return o?(i=i?n(i):{},P.decryptProps&&(i=r(i,P.decryptProps.call(this,e,i))),l.decrypt(e,o,t,i)):Promise.reject(new Error("improper key"))}}),Object.defineProperty(this,"wrap",{value:function(e,t,i){if(-1===this.algorithms("wrap").indexOf(e))return Promise.reject(new Error("unsupported algorithm"));var o=P.wrapKey.call(this,e,E);return o?(i=i?n(i):{},P.wrapProps&&(i=r(i,P.wrapProps.call(this,e,i))),l.encrypt(e,o,t,i)):Promise.reject(new Error("improper key"))}}),Object.defineProperty(this,"unwrap",{value:function(e,t,i){if(-1===this.algorithms("unwrap").indexOf(e))return Promise.reject(new Error("unsupported algorithm"));var o=P.unwrapKey.call(this,e,E);return o?(i=i?n(i):{},P.unwrapProps&&(i=r(i,P.unwrapProps.call(this,e,i))),l.decrypt(e,o,t,i)):Promise.reject(new Error("improper key"))}})};module.exports=y;
},{"../util/merge":"KrzH","uuid":"jpV4","lodash/assign":"vlVw","lodash/clone":"ACgM","lodash/flatten":"FvRr","lodash/intersection":"m7zY","lodash/omit":"J2GV","lodash/pick":"N5Tq","lodash/uniq":"oUkM","../algorithms":"Nk5n","./constants.js":"ToGc","./helpers.js":"T9kX","../util":"FgzD","buffer":"peL6"}],"bRu4":[function(require,module,exports) {
var Buffer = require("buffer").Buffer;
var e=require("buffer").Buffer,t=require("lodash/clone"),r=require("../util/merge"),n=require("../deps/forge"),i=require("../util"),o={BaseKey:require("./basekey.js"),helpers:require("./helpers.js")},a=function(){var e={};Object.defineProperty(this,"register",{value:function(t){if(!t||"string"!=typeof t.kty||!t.kty)throw new Error("invalid Key factory");var r=t.kty;return e[r]=t,this}}),Object.defineProperty(this,"unregister",{value:function(t){if(!t||"string"!=typeof t.kty||!t.kty)throw new Error("invalid Key factory");var r=t.kty;return t===e[r]&&delete e[r],this}}),Object.defineProperty(this,"get",{value:function(t){return e[t||""]||void 0}}),Object.defineProperty(this,"all",{value:function(){return Object.keys(e).map(function(t){return e[t]})}})},u=new a;function f(e){return["certIssuer","certSubject"].forEach(function(t){var r=n.pki.RDNAttributesAsArray(e[t]),i=e[t]={};r.forEach(function(e){i[e.name||e.type]=e.value})}),e}function c(e){var t={};if(!n.pem.decode(e).some(function(e){switch(e.type){case"CERTIFICATE":t.form="pkix";break;case"PUBLIC KEY":t.form="spki";break;case"PRIVATE KEY":t.form="pkcs8";break;case"EC PRIVATE KEY":case"RSA PRIVATE KEY":t.form="private";break;default:return!1}return t.body=e.body,!0}))throw new Error("supported PEM type not found");return t}function s(t,r){var a,c={},s=[],y=r.form,p=r.body,l=null;switch(r=n.asn1.fromDer(p),y){case"private":t.all().some(function(e){if(a)return!1;if(!e.validators)return!1;var t=e.validators.oid,i=e.validators.privateKey;return!!i&&(c={},s=[],(a=n.asn1.validate(r,i,c,s))&&(c.keyOid=n.asn1.oidToDer(t),c.parsed=!0),a)}),c.type="private";break;case"pkcs8":a=n.asn1.validate(r,o.helpers.validators.privateKey,c,s),c.type="private";break;case"public":case"spki":a=n.asn1.validate(r,o.helpers.validators.publicKey,c,s),c.type="public";break;case"pkix":case"x509":if(a=n.asn1.validate(r,o.helpers.validators.certificate,c,s)){c=f(c);var d=n.md.sha1.create();d.update(p),l=i.base64url.encode(e.from(d.digest().toHex(),"hex"))}c.type="public"}return a?(c.keyOid&&(c.keyOid=n.asn1.derToOid(c.keyOid)),a=null,u.all().forEach(function(e){a||e&&"function"==typeof e.import&&(a=e.import(c))}),a&&c.certSubject&&c.certSubject.commonName&&(a.kid=c.certSubject.commonName),a&&l&&(a.x5t=l),a):null}var y=function(n,i){var a={};Object.defineProperty(this,"generate",{value:function(e,i,o){var a=n.get(e);if(!a)return Promise.reject(new Error("unsupported key type"));(o=t(o||{})).kty=e;var u=this;return a.generate(i).then(function(t){return t=r(o,t,{kty:e}),u.add(t)})}}),Object.defineProperty(this,"add",{value:function(r,i,u){var f;if(u=u||{},e.isBuffer(r)||"string"==typeof r)if("json"===(i=(i||"json").toLowerCase()))r=JSON.parse(r.toString("utf8"));else try{if(f="pem"===i?c(r):{body:r.toString("binary"),form:i},!(r=s(n,f)))throw new Error("no importer for key");Object.keys(u).forEach(function(e){r[e]=u[e]})}catch(d){return Promise.reject(d)}else r=y.isKey(r)?r.toJSON(!0):t(r);var p=n.get(r.kty);if(!p)return Promise.reject(new Error("unsupported key type"));var l=this;return p.prepare(r).then(function(e){return new o.BaseKey(r.kty,l,r,e)}).then(function(e){var t=e.kid||"";return(a[t]=a[t]||[]).push(e),e})}}),Object.defineProperty(this,"remove",{value:function(e){if(e){var t=a[e.kid];if(t){var r=t.indexOf(e);-1!==r&&(t.splice(r,1),t.length||delete a[e.kid])}}}}),Object.defineProperty(this,"all",{value:function(e,t){void 0!==(e=e||{}).kid&&null!==e.kid&&"string"!=typeof e.kid&&(e.kid=String(e.kid));var r=[],n=function(t){return(!e.kty||!t.kty||e.kty===t.kty)&&((!e.use||!t.use||e.use===t.use)&&(!e.alg||("dir"===e.alg||!t.alg||e.alg===t.alg)&&t.supports(e.alg)))};return Object.keys(a).forEach(function(t){if(!e.kid||e.kid===t){var i=a[t].filter(n);i.length&&(r=r.concat(i))}}),!t&&i&&(r=r.concat(i.all(e))),r}}),Object.defineProperty(this,"get",{value:function(e,t,r){"boolean"==typeof e?(r=e,t=e=null):"object"==typeof e&&(r=t,t=e,e=null),t=t||{},e&&(t.kid=e),void 0!==t.kid&&null!==t.kid&&"string"!=typeof t.kid&&(t.kid=String(t.kid));var n=this.all(t,!0);return n.length||!i||r||(n=i.get(t,r)),n[0]||null}}),Object.defineProperty(this,"temp",{value:function(){return new y(n,this)}}),Object.defineProperty(this,"toJSON",{value:function(e){var t=[];return Object.keys(a).forEach(function(r){var n=a[r].map(function(t){return t.toJSON(e)});t=t.concat(n)}),{keys:t}}})};y.isKeyStore=function(e){return!!e&&("object"==typeof e&&("function"==typeof e.get&&"function"==typeof e.all&&"function"==typeof e.generate&&"function"==typeof e.add&&"function"==typeof e.remove))},y.createKeyStore=function(){return new y(u)},y.asKeyStore=function(e){if(y.isKeyStore(e))return Promise.resolve(e);var t,r=y.createKeyStore();if("string"==typeof e&&(e=JSON.parse(e)),Array.isArray(e))t=e;else{if(!("keys"in e))return Promise.reject(new Error("invalid keystore"));t=e.keys}t=t.map(function(e){return r.add(e)});var n=Promise.all(t);return n=n.then(function(){return r})},y.isKey=function(e){return!!e&&("object"==typeof e&&(!!y.isKeyStore(e.keystore)&&("string"==typeof e.kty&&"number"==typeof e.length&&"function"==typeof e.algorithms&&"function"==typeof e.supports&&"function"==typeof e.encrypt&&"function"==typeof e.decrypt&&"function"==typeof e.wrap&&"function"==typeof e.unwrap&&"function"==typeof e.sign&&"function"==typeof e.verify)))},y.createKey=function(e,t,r){return y.createKeyStore().generate(e,t,r)},y.asKey=function(e,t,r){return y.isKey(e)?Promise.resolve(e):e=y.createKeyStore().add(e,t,r)},module.exports={KeyRegistry:a,KeyStore:y,registry:u};
},{"lodash/clone":"ACgM","../util/merge":"KrzH","../deps/forge":"EQLp","../util":"FgzD","./basekey.js":"dZTK","./helpers.js":"T9kX","buffer":"peL6"}],"aDEf":[function(require,module,exports) {
var Buffer = require("buffer").Buffer;
var r=require("buffer").Buffer,e=require("../util"),t={BaseKey:require("./basekey.js"),helpers:require("./helpers.js")},a=["HS256","HS384","HS512"],n=["A128GCM","A192GCM","A256GCM","A128CBC-HS256","A192CBC-HS384","A256CBC-HS512","A128CBC+HS256","A192CBC+HS384","A256CBC+HS512"],i=["A128KW","A192KW","A256KW","A128GCMKW","A192GCMKW","A256GCMKW","PBES2-HS256+A128KW","PBES2-HS384+A192KW","PBES2-HS512+A256KW","dir"];function u(t,a){return"iv"in a&&(a.iv=r.isBuffer(a.iv)?a.iv:e.base64url.decode(a.iv||"")),"adata"in a&&(a.adata=r.isBuffer(a.adata)?a.adata:r.from(a.adata||"","utf8")),"mac"in a&&(a.mac=r.isBuffer(a.mac)?a.mac:e.base64url.decode(a.mac||"")),"tag"in a&&(a.tag=r.isBuffer(a.tag)?a.tag:e.base64url.decode(a.tag||"")),a}function c(t,a){return"iv"in a&&(a.iv=r.isBuffer(a.iv)?a.iv:e.base64url.decode(a.iv||"")),"adata"in a&&(a.adata=r.isBuffer(a.adata)?a.adata:r.from(a.adata||"","utf8")),a}var p={publicKey:function(r){var e=t.helpers.COMMON_PROPS.concat([]);return t.helpers.unpackProps(r,e)},privateKey:function(r){var e,a=t.helpers.COMMON_PROPS.concat([{name:"k",type:"binary"}]);return(e=t.helpers.unpackProps(r,a))&&e.k?e.length=8*e.k.length:e=void 0,e},thumbprint:function(r){return r.private&&(r=r.private),{k:r.k||"",kty:"oct"}},algorithms:function(r,e){var t=r.private&&8*r.private.k.length,u=[256,384,512];if(!t)return[];switch(e){case"encrypt":case"decrypt":return n.filter(function(r){return r==="A"+t/2+"CBC-HS"+t||r==="A"+t/2+"CBC+HS"+t||r==="A"+t+"GCM"});case"sign":case"verify":return a.filter(function(r){var e=!1;return u.forEach(function(a){a>t||(e|=r==="HS"+a)}),e});case"wrap":case"unwrap":return i.filter(function(r){return r==="A"+t+"KW"||r==="A"+t+"GCMKW"||0===r.indexOf("PBES2-")||"dir"===r})}return[]},encryptKey:function(r,e){return e.private&&e.private.k},encryptProps:c,decryptKey:function(r,e){return e.private&&e.private.k},decryptProps:u,wrapKey:function(r,e){return e.private&&e.private.k},wrapProps:c,unwrapKey:function(r,e){return e.private&&e.private.k},unwrapProps:u,signKey:function(r,e){return e.private&&e.private.k},verifyKey:function(r,e){return e.private&&e.private.k}},f={kty:"oct",prepare:function(r){var e=p,a=Promise.resolve(r);return a=(a=a.then(function(r){return t.helpers.thumbprint(e,r)})).then(function(a){var n={};return n[t.helpers.INTERNALS.THUMBPRINT_HASH]=a,r[t.helpers.INTERNALS.THUMBPRINT_KEY]=n,e})},generate:function(r){var t=e.randomBytes(r/8);return Promise.resolve({k:t})}};module.exports=Object.freeze({config:p,factory:f}),require("./keystore").registry.register(f);
},{"../util":"FgzD","./basekey.js":"dZTK","./helpers.js":"T9kX","./keystore":"bRu4","buffer":"peL6"}],"QVv8":[function(require,module,exports) {
var Buffer = require("buffer").Buffer;
var e=require("buffer").Buffer,n=require("../deps/forge.js"),r=require("../algorithms/rsa-util"),t=require("../algorithms/helpers").nodeCrypto,a={BaseKey:require("./basekey.js"),helpers:require("./helpers.js")},s=["RS256","RS384","RS512","PS256","PS384","PS512"],i=["RSA-OAEP","RSA-OAEP-256","RSA1_5"],p={publicKey:function(e){var n,r=a.helpers.COMMON_PROPS.concat([{name:"n",type:"binary"},{name:"e",type:"binary"}]);return(n=a.helpers.unpackProps(e,r))&&n.n&&n.e?n.length=8*n.n.length:(delete n.e,delete n.n),n},privateKey:function(e){var n,r=a.helpers.COMMON_PROPS.concat([{name:"n",type:"binary"},{name:"e",type:"binary"},{name:"d",type:"binary"},{name:"p",type:"binary"},{name:"q",type:"binary"},{name:"dp",type:"binary"},{name:"dq",type:"binary"},{name:"qi",type:"binary"}]);return(n=a.helpers.unpackProps(e,r))&&n.d&&n.n&&n.e&&n.p&&n.q&&n.dp&&n.dq&&n.qi?n.length=8*n.d.length:n=void 0,n},thumbprint:function(e){return e.public&&(e=e.public),{e:e.e,kty:"RSA",n:e.n}},algorithms:function(e,n){switch(n){case"encrypt":case"decrypt":return[];case"wrap":return e.public&&i.slice()||[];case"unwrap":return e.private&&i.slice()||[];case"sign":return e.private&&s.slice()||[];case"verify":return e.public&&s.slice()||[]}return[]},wrapKey:function(e,n){return n.public},unwrapKey:function(e,n){return n.private},signKey:function(e,n){return n.private},verifyKey:function(e,n){return n.public},convertToPEM:function(e,t){var a=r.convertToForge(e,!t);return t?n.pki.privateKeyToPem(a):n.pki.publicKeyToPem(a)}};function u(n){return(n=n.toString(16)).length%2&&(n="0"+n),e.from(n,"hex")}var c={oid:"1.2.840.113549.1.1.1",privateKey:{name:"RSAPrivateKey",tagClass:n.asn1.Class.UNIVERSAL,type:n.asn1.Type.SEQUENCE,constructed:!0,value:[{name:"RSAPrivateKey.version",tagClass:n.asn1.Class.UNIVERSAL,type:n.asn1.Type.INTEGER,constructed:!1,capture:"version"},{name:"RSAPrivateKey.modulus",tagClass:n.asn1.Class.UNIVERSAL,type:n.asn1.Type.INTEGER,constructed:!1,capture:"n"},{name:"RSAPrivateKey.publicExponent",tagClass:n.asn1.Class.UNIVERSAL,type:n.asn1.Type.INTEGER,constructed:!1,capture:"e"},{name:"RSAPrivateKey.privateExponent",tagClass:n.asn1.Class.UNIVERSAL,type:n.asn1.Type.INTEGER,constructed:!1,capture:"d"},{name:"RSAPrivateKey.prime1",tagClass:n.asn1.Class.UNIVERSAL,type:n.asn1.Type.INTEGER,constructed:!1,capture:"p"},{name:"RSAPrivateKey.prime2",tagClass:n.asn1.Class.UNIVERSAL,type:n.asn1.Type.INTEGER,constructed:!1,capture:"q"},{name:"RSAPrivateKey.exponent1",tagClass:n.asn1.Class.UNIVERSAL,type:n.asn1.Type.INTEGER,constructed:!1,capture:"dp"},{name:"RSAPrivateKey.exponent2",tagClass:n.asn1.Class.UNIVERSAL,type:n.asn1.Type.INTEGER,constructed:!1,capture:"dq"},{name:"RSAPrivateKey.coefficient",tagClass:n.asn1.Class.UNIVERSAL,type:n.asn1.Type.INTEGER,constructed:!1,capture:"qi"}]},publicKey:{name:"RSAPublicKey",tagClass:n.asn1.Class.UNIVERSAL,type:n.asn1.Type.SEQUENCE,constructed:!0,value:[{name:"RSAPublicKey.modulus",tagClass:n.asn1.Class.UNIVERSAL,type:n.asn1.Type.INTEGER,constructed:!1,capture:"n"},{name:"RSAPublicKey.exponent",tagClass:n.asn1.Class.UNIVERSAL,type:n.asn1.Type.INTEGER,constructed:!1,capture:"e"}]}},y={kty:"RSA",validators:c,prepare:function(e){var n=p,r=Promise.resolve(e);return r=(r=r.then(function(e){return a.helpers.thumbprint(n,e)})).then(function(r){var t={};return t[a.helpers.INTERNALS.THUMBPRINT_HASH]=r,e[a.helpers.INTERNALS.THUMBPRINT_KEY]=t,n})},generate:function(e){var r;if(t)r=new Promise(function(r,t){n.pki.rsa.generateKeyPair({bits:e,e:65537},function(e,n){if(e)return t(e);r(n.privateKey)})});else{var a=n.pki.rsa.generateKeyPair({bits:e,e:65537});r=Promise.resolve(a.privateKey)}return r.then(function(e){var n={};return["e","n","d","p","q",{incoming:"dP",outgoing:"dp"},{incoming:"dQ",outgoing:"dq"},{incoming:"qInv",outgoing:"qi"}].forEach(function(r){var t,a;"string"==typeof r?t=a=r:(t=r.incoming,a=r.outgoing),t in e&&(n[a]=u(e[t]))}),n})},import:function(r){if(c.oid!==r.keyOid)return null;if(!r.parsed){"string"==typeof r.keyValue?r.keyValue=n.asn1.fromDer(r.keyValue):Array.isArray(r.keyValue)&&(r.keyValue=r.keyValue[0]);var t="private"===r.type?c.privateKey:c.publicKey,a={};if(!n.asn1.validate(r.keyValue,t,a,[]))return null;r=a}var s={kty:"RSA"};return["n","e","d","p","q","dp","dq","qi"].forEach(function(n){if(n in r){var t=e.from(r[n],"binary");0===t[0]&&(t=t.slice(1)),s[n]=t}}),s}};module.exports=Object.freeze({config:p,factory:y}),require("./keystore").registry.register(y);
},{"../deps/forge.js":"EQLp","../algorithms/rsa-util":"bruX","../algorithms/helpers":"P03t","./basekey.js":"dZTK","./helpers.js":"T9kX","./keystore":"bRu4","buffer":"peL6"}],"IoAH":[function(require,module,exports) {
var Buffer = require("buffer").Buffer;
var e=require("buffer").Buffer,r=require("../algorithms/ec-util.js"),a=require("../deps/forge"),t=require("../deps/ecc"),n={BaseKey:require("./basekey.js"),helpers:require("./helpers.js")},s=["ES256","ES384","ES512"],i=["ECDH-ES","ECDH-ES+A128KW","ECDH-ES+A192KW","ECDH-ES+A256KW"],u=r.EC_OID;function c(e){switch(e){case"1.2.840.10045.3.1.7":return"P-256";case"1.3.132.0.34":return"P-384";case"1.3.132.0.35":return"P-521";default:return null}}var y={publicKey:function(e){var a=n.helpers.COMMON_PROPS.concat([{name:"crv",type:"string"},{name:"x",type:"binary"},{name:"y",type:"binary"}]),t=n.helpers.unpackProps(e,a);return t&&t.crv&&t.x&&t.y?t.length=r.curveSize(t.crv):(delete t.crv,delete t.x,delete t.y),t},privateKey:function(e){var a=n.helpers.COMMON_PROPS.concat([{name:"crv",type:"string"},{name:"x",type:"binary"},{name:"y",type:"binary"},{name:"d",type:"binary"}]),t=n.helpers.unpackProps(e,a);return t&&t.crv&&t.x&&t.y&&t.d?t.length=r.curveSize(t.crv):t=void 0,t},thumbprint:function(e){return e.public&&(e=e.public),{crv:e.crv,kty:"EC",x:e.x,y:e.y}},algorithms:function(e,r){var a=e.public&&e.public.length||e.private&&e.private.length||0;switch(521===a&&(a=512),r){case"encrypt":case"decrypt":return[];case"wrap":return e.public&&i||[];case"unwrap":return e.private&&i||[];case"sign":return e.private?s.filter(function(e){return e==="ES"+a}):[];case"verify":return e.public?s.filter(function(e){return e==="ES"+a}):[]}},encryptKey:function(e,r){return r.public},decryptKey:function(e,r){return r.private},wrapKey:function(e,r){return r.public},unwrapKey:function(e,r){return r.private},signKey:function(e,r){return r.private},verifyKey:function(e,r){return r.public}};y.convertToPEM=r.convertToPEM;var p={oid:u,privateKey:{name:"ECPrivateKey",tagClass:a.asn1.Class.UNIVERSAL,type:a.asn1.Type.SEQUENCE,constructed:!0,value:[{name:"ECPrivateKey.version",tagClass:a.asn1.Class.UNIVERSAL,type:a.asn1.Type.INTEGER,constructed:!1},{name:"ECPrivateKey.private",tagClass:a.asn1.Class.UNIVERSAL,type:a.asn1.Type.OCTETSTRING,constructed:!1,capture:"d"},{tagClass:a.asn1.Class.CONTEXT_SPECIFIC,name:"ECPrivateKey.parameters",constructed:!0,value:[{name:"ECPrivateKey.namedCurve",tagClass:a.asn1.Class.UNIVERSAL,type:a.asn1.Type.OID,constructed:!1,capture:"crv"}]},{name:"ECPrivateKey.publicKey",tagClass:a.asn1.Class.CONTEXT_SPECIFIC,constructed:!0,value:[{name:"ECPrivateKey.point",tagClass:a.asn1.Class.UNIVERSAL,type:a.asn1.Type.BITSTRING,constructed:!1,capture:"point"}]}]},embeddedPrivateKey:{name:"ECPrivateKey",tagClass:a.asn1.Class.UNIVERSAL,type:a.asn1.Type.SEQUENCE,constructed:!0,value:[{name:"ECPrivateKey.version",tagClass:a.asn1.Class.UNIVERSAL,type:a.asn1.Type.INTEGER,constructed:!1},{name:"ECPrivateKey.private",tagClass:a.asn1.Class.UNIVERSAL,type:a.asn1.Type.OCTETSTRING,constructed:!1,capture:"d"},{name:"ECPrivateKey.publicKey",tagClass:a.asn1.Class.CONTEXT_SPECIFIC,constructed:!0,value:[{name:"ECPrivateKey.point",tagClass:a.asn1.Class.UNIVERSAL,type:a.asn1.Type.BITSTRING,constructed:!1,capture:"point"}]}]}},l={kty:"EC",validators:p,prepare:function(e){var r=y,a=Promise.resolve(e);return a=(a=a.then(function(e){return n.helpers.thumbprint(r,e)})).then(function(a){var t={};return t[n.helpers.INTERNALS.THUMBPRINT_HASH]=a,e[n.helpers.INTERNALS.THUMBPRINT_KEY]=t,r})},generate:function(e){var r=t.generateKeyPair(e),a={crv:e,x:r.public.x,y:r.public.y,d:r.private.d};return Promise.resolve(a)},import:function(r){if(p.oid!==r.keyOid)return null;var t;if(r.keyParams&&a.asn1.Type.OID===r.keyParams.type?t=c(t=a.asn1.derToOid(r.keyParams.value)):r.crv&&(t=c(t=a.asn1.derToOid(r.crv))),!t)return null;if(!r.parsed){var n={};if("private"===r.type){if("string"==typeof r.keyValue?r.keyValue=a.asn1.fromDer(r.keyValue):Array.isArray(r.keyValue)&&(r.keyValue=r.keyValue[0]),!a.asn1.validate(r.keyValue,p.embeddedPrivateKey,n,[]))return null}else n.point=r.keyValue;r=n}var s={kty:"EC",crv:t};if(r.d&&(s.d=e.from(r.d,"binary")),r.point){var i=e.from(r.point,"binary");if(4!==i.readUInt16BE(0))return null;var u=(i=i.slice(2)).length/2;s.x=i.slice(0,u),s.y=i.slice(u)}return s}};module.exports=Object.freeze({config:y,factory:l}),require("./keystore").registry.register(l);
},{"../algorithms/ec-util.js":"XATM","../deps/forge":"EQLp","../deps/ecc":"NDyL","./basekey.js":"dZTK","./helpers.js":"T9kX","./keystore":"bRu4","buffer":"peL6"}],"PkJZ":[function(require,module,exports) {
"use strict";var e=require("./keystore.js");Object.keys(e.KeyStore).forEach(function(r){exports[r]=e.KeyStore[r]});var r=require("./constants.js");Object.keys(r).forEach(function(e){exports[e]=r[e]}),require("./octkey.js"),require("./rsakey.js"),require("./eckey.js");
},{"./keystore.js":"bRu4","./constants.js":"ToGc","./octkey.js":"aDEf","./rsakey.js":"QVv8","./eckey.js":"IoAH"}],"V8Bd":[function(require,module,exports) {
"use strict";module.exports={slice:function(e,r){return Array.prototype.slice.call(e,r||0)}};
},{}],"ZGIk":[function(require,module,exports) {
"use strict";var t={compact:!1,protect:"*"};module.exports=t;
},{}],"ZyEZ":[function(require,module,exports) {
var Buffer = require("buffer").Buffer;
var e=require("buffer").Buffer,r=require("../util/merge"),t=require("../util"),n=require("../jwk"),a=require("./helpers").slice,i=require("lodash/clone"),o=require("lodash/uniq"),c=require("./defaults"),u=function(r,n){var a=!1,o=r.format||"general",c=e.alloc(0);Object.defineProperty(this,"compact",{get:function(){return"compact"===o},enumerable:!0}),Object.defineProperty(this,"format",{get:function(){return o},enumerable:!0}),Object.defineProperty(this,"update",{value:function(r,n){if(a)throw new Error("already final");return null!=r&&(r=t.asBuffer(r,n),c=c.length?e.concat([c,r],c.length+r.length):r),this}}),Object.defineProperty(this,"final",{value:function(r,u){if(a)return Promise.reject(new Error("already final"));var s;switch(this.update(r,u),a=!0,s=(s=(s=Promise.all(n)).then(function(r){return c=t.base64url.encode(c),r=r.map(function(r){var n={},a=0,o=i(r.header),u=Object.keys(o).length;r.protected.forEach(function(e){e in o&&(n[e]=o[e],a++,delete o[e],u--)}),a>0?(n=JSON.stringify(n),n=t.base64url.encode(n)):n="";var s=e.from(n+"."+c,"ascii");return r=(r=r.key.sign(r.header.alg,s,r.header)).then(function(e){var r={};return 0<a&&(r.protected=n),0<u&&(r.header=o),r.signature=t.base64url.encode(e.mac),r})}),r=[Promise.resolve(c)].concat(r),Promise.all(r)})).then(function(e){return{payload:e[0],signatures:e.slice(1)}}),o){case"compact":s=s.then(function(e){var r=[e.signatures[0].protected,e.payload,e.signatures[0].signature];return r=r.join(".")});break;case"flattened":s=s.then(function(e){var r={};r.payload=e.payload;var t=e.signatures[0];return t.protected&&(r.protected=t.protected),t.header&&(r.header=t.header),r.signature=t.signature,r})}return s}})};function s(e,t){var s=e,l=1,f=t;if(0===arguments.length)throw new Error("at least one signatory must be provided");1===arguments.length?(f=e,l=0,s={}):n.isKey(e)||e&&"kty"in e||e&&"key"in e&&(n.isKey(e.key)||"kty"in e.key)?(f=e,l=0,s={}):s=i(e),Array.isArray(f)||(f=a(arguments,l));var d=(s=r(i(c),s)).fields||{},h=s.format;if(h||(h=s.compact?"compact":"general"),("compact"===h||"flattened"===h)&&1<f.length)throw new Error("too many signatories for compact or flattened JSON serialization");var y="*"===s.protect;return s.compact&&(y=!0),f=f.map(function(e,t){return(e&&"kty"in e?n.asKey(e).then(function(e){return{key:e}}):e?n.asKey(e.key).then(function(r){return{header:e.header,reference:e.reference,protect:e.protect,key:r}}):Promise.reject(new Error("missing key for signatory "+t))).then(function(e){var t=e.key,a=e.header||{};a=r(r({},d),a),e.header=a,a.alg||(a.alg=t.algorithms(n.MODE_SIGN)[0]||"");var i,c=e.reference;if(delete e.reference,void 0===c?c=(c=["kid","jku","x5c","x5t","x5u"].some(function(e){return e in a}))?null:"kid":"boolean"==typeof c&&(c=c?"kid":null),c)if(i=t.toJSON(),"jwk"===c){if("oct"===t.kty)return Promise.reject(new Error("cannot embed key"));a.jwk=i}else c in i&&(a[c]=i[c]);var u=e.protect;if(y||"*"===u)u=Object.keys(a);else if("string"===u)u=[u];else if(Array.isArray(u))u=u.concat();else{if(u)return Promise.reject(new Error("protect must be a list of fields"));u=[]}return u=o(u),e.protected=u,e=Object.freeze(e)})}),new u({format:h},f)}module.exports={signer:u,createSign:s};
},{"../util/merge":"KrzH","../util":"FgzD","../jwk":"PkJZ","./helpers":"V8Bd","lodash/clone":"ACgM","lodash/uniq":"oUkM","./defaults":"ZGIk","buffer":"peL6"}],"doCb":[function(require,module,exports) {
"use strict";function e(e){return e.replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}function n(n,t,u){var s=[];return s.push("^"),n&&(n=e(n),s.push(n)),t&&s.push(n||u?".*":".+"),u&&(u=e(u),s.push(u)),s.push("$"),s.join("")}var t=function(e){e?"string"==typeof e&&(e=e.split(" ")):e=[];var t,u=[],s=[],r=[],i=[],o=/^(!)?([^*]*)(\*?)([^*]*)$/;e.forEach(function(e){if(e){o.lastIndex=0;var p=o.exec(e);p&&(t="("+n(p[2],p[3],p[4])+")",p[1]?(i.push(t),s.push(p[0])):(r.push(t),u.push(p[0])))}}),r=r.length?new RegExp(r.join("|")):null,i=i.length?new RegExp(i.join("|")):null,u.length||(u=["*"]),Object.defineProperty(this,"spec",{value:u.join(" ")+" "+s.join(" "),enumerable:!0}),Object.defineProperty(this,"match",{value:function(e){var n=Boolean(e);return n&&r&&(r.lastIndex=0,n=r.test(e)),n&&i&&(i.lastIndex=0,n=!i.test(e)),n}})};module.exports=t;
},{}],"pIsM":[function(require,module,exports) {
var Buffer = require("buffer").Buffer;
var e=require("buffer").Buffer,r=require("lodash/clone"),t=require("../util/merge"),n=require("../util/base64url"),o=require("../util/algconfig"),i=require("../jwk"),a={algorithms:"*",allowEmbeddedKey:!1},u=function(u,s){var c,d;d=i.isKey(u)?(c=u).keystore:i.isKeyStore(u)?u:i.createKeyStore(),s=t(a,s),Object.defineProperty(this,"defaultKey",{value:c||void 0,enumerable:!0}),Object.defineProperty(this,"keystore",{value:d,enumerable:!0}),Object.defineProperty(this,"verify",{value:function(a,u){var l=(u=t({},s,u||{})).handlers||{},f=Object.keys(l),h=new o(u.algorithms);if("string"==typeof a)a={payload:(a=a.split("."))[1],signatures:[{protected:a[0],signature:a[2]}]};else if(!a||"object"!=typeof a)throw new Error("invalid input");a.signature&&(a.signatures=[{protected:a.protected||void 0,header:a.header||void 0,signature:a.signature}]);var p=a.signatures||[{}];p=p.map(function(e){var o=r(e.header||{}),i=e.protected?JSON.parse(n.decode(e.protected,"utf8")):{};o=t(o,i);var a=n.decode(e.signature);if(!h.match(o.alg))return Promise.reject(new Error("Algorithm not allowed: "+o.alg));var u=i.crit;if(u){if(!Array.isArray(u))return Promise.reject(new Error("Invalid 'crit' header"));for(var s=0;u.length>s;s++)if(-1===f.indexOf(u[s]))return Promise.reject(new Error("Critical extension is not supported: "+u[s]))}return i=Object.keys(i),Promise.resolve({protected:i,aad:e.protected||"",header:o,signature:a})});var y=Promise.all(p);return y=y.then(function(r){return new Promise(function(o,s){var h=function(){var p=r.shift();if(p){p=t({},p,{payload:a.payload});var y=Promise.resolve(p);(y=(y=(y=(y=(y=(y=y.then(function(r){var t;return u.allowEmbeddedKey&&r.header.jwk?t=i.asKey(r.header.jwk):u.allowEmbeddedKey&&r.header.x5c?(t=r.header.x5c[0],t=e.from(t,"base64"),t=i.asKey(t,"pkix")):t=Promise.resolve(c||d.get({use:"sig",alg:r.header.alg,kid:r.header.kid})),t.then(function(e){return e?(r.key=e,r):Promise.reject(new Error("key does not match"))})})).then(function(e){var r=[];return f.forEach(function(t){var n;"function"==typeof(t=l[t])?n=t(e):"object"==typeof t&&"function"==typeof t.prepare&&(n=t.prepare(e)),n&&r.push(Promise.resolve(n))}),Promise.all(r).then(function(){return e})})).then(function(r){var t=r.aad||"",n=r.payload||"",o=e.alloc(1+t.length+n.length),i=0;return o.write(t,i,"ascii"),i+=t.length,o.write(".",i,"ascii"),i++,e.isBuffer(n)?n.copy(o,i):o.write(n,i,"binary"),r.content=o,r})).then(function(e){return e.key.verify(e.header.alg,e.content,e.signature)})).then(function(e){var r=p.payload;return r=n.decode(r),{protected:p.protected,header:p.header,payload:r,signature:e.mac,key:p.key}})).then(function(e){var r=[];return f.forEach(function(t){var n;"object"==typeof(t=l[t])&&"function"==typeof t.complete&&(n=t.complete(e)),n&&r.push(Promise.resolve(n))}),Promise.all(r).then(function(){return e})})).then(o,h)}else s(new Error("no key found"))};h()})})}})};function s(e,r){return new u(e,r)}module.exports={verifier:u,createVerify:s};
},{"lodash/clone":"ACgM","../util/merge":"KrzH","../util/base64url":"Ma8i","../util/algconfig":"doCb","../jwk":"PkJZ","buffer":"peL6"}],"tR3Y":[function(require,module,exports) {
"use strict";var e={createSign:require("./sign").createSign,createVerify:require("./verify").createVerify};module.exports=e;
},{"./sign":"ZyEZ","./verify":"pIsM"}],"rOqT":[function(require,module,exports) {
"use strict";var r=require("../algorithms/constants"),e=require("../jwk");module.exports={slice:function(r,e){return Array.prototype.slice.call(r,e||0)},generateCEK:function(t){var o=e.createKeyStore(),n=r.KEYLENGTH[t];if(n)return o.generate("oct",n);throw new Error("unsupported encryption algorithm")}};
},{"../algorithms/constants":"jbn0","../jwk":"PkJZ"}],"tbG5":[function(require,module,exports) {
"use strict";var r="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;function t(r,t){return Object.prototype.hasOwnProperty.call(r,t)}exports.assign=function(r){for(var e=Array.prototype.slice.call(arguments,1);e.length;){var n=e.shift();if(n){if("object"!=typeof n)throw new TypeError(n+"must be non-object");for(var a in n)t(n,a)&&(r[a]=n[a])}}return r},exports.shrinkBuf=function(r,t){return r.length===t?r:r.subarray?r.subarray(0,t):(r.length=t,r)};var e={arraySet:function(r,t,e,n,a){if(t.subarray&&r.subarray)r.set(t.subarray(e,e+n),a);else for(var o=0;o<n;o++)r[a+o]=t[e+o]},flattenChunks:function(r){var t,e,n,a,o,s;for(n=0,t=0,e=r.length;t<e;t++)n+=r[t].length;for(s=new Uint8Array(n),a=0,t=0,e=r.length;t<e;t++)o=r[t],s.set(o,a),a+=o.length;return s}},n={arraySet:function(r,t,e,n,a){for(var o=0;o<n;o++)r[a+o]=t[e+o]},flattenChunks:function(r){return[].concat.apply([],r)}};exports.setTyped=function(r){r?(exports.Buf8=Uint8Array,exports.Buf16=Uint16Array,exports.Buf32=Int32Array,exports.assign(exports,e)):(exports.Buf8=Array,exports.Buf16=Array,exports.Buf32=Array,exports.assign(exports,n))},exports.setTyped(r);
},{}],"sRJQ":[function(require,module,exports) {
"use strict";var e=require("../utils/common"),t=4,n=0,_=1,r=2;function a(e){for(var t=e.length;--t>=0;)e[t]=0}var i=0,l=1,d=2,f=3,o=258,b=29,s=256,u=s+1+b,c=30,p=19,h=2*u+1,v=15,y=16,x=7,g=256,m=16,w=17,A=18,k=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],q=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],z=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],S=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],j=512,B=new Array(2*(u+2));a(B);var C=new Array(2*c);a(C);var D=new Array(j);a(D);var E=new Array(o-f+1);a(E);var F=new Array(b);a(F);var G,H,I,J=new Array(c);function K(e,t,n,_,r){this.static_tree=e,this.extra_bits=t,this.extra_base=n,this.elems=_,this.max_length=r,this.has_stree=e&&e.length}function L(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}function M(e){return e<256?D[e]:D[256+(e>>>7)]}function N(e,t){e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255}function O(e,t,n){e.bi_valid>y-n?(e.bi_buf|=t<<e.bi_valid&65535,N(e,e.bi_buf),e.bi_buf=t>>y-e.bi_valid,e.bi_valid+=n-y):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=n)}function P(e,t,n){O(e,n[2*t],n[2*t+1])}function Q(e,t){var n=0;do{n|=1&e,e>>>=1,n<<=1}while(--t>0);return n>>>1}function R(e){16===e.bi_valid?(N(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)}function T(e,t){var n,_,r,a,i,l,d=t.dyn_tree,f=t.max_code,o=t.stat_desc.static_tree,b=t.stat_desc.has_stree,s=t.stat_desc.extra_bits,u=t.stat_desc.extra_base,c=t.stat_desc.max_length,p=0;for(a=0;a<=v;a++)e.bl_count[a]=0;for(d[2*e.heap[e.heap_max]+1]=0,n=e.heap_max+1;n<h;n++)(a=d[2*d[2*(_=e.heap[n])+1]+1]+1)>c&&(a=c,p++),d[2*_+1]=a,_>f||(e.bl_count[a]++,i=0,_>=u&&(i=s[_-u]),l=d[2*_],e.opt_len+=l*(a+i),b&&(e.static_len+=l*(o[2*_+1]+i)));if(0!==p){do{for(a=c-1;0===e.bl_count[a];)a--;e.bl_count[a]--,e.bl_count[a+1]+=2,e.bl_count[c]--,p-=2}while(p>0);for(a=c;0!==a;a--)for(_=e.bl_count[a];0!==_;)(r=e.heap[--n])>f||(d[2*r+1]!==a&&(e.opt_len+=(a-d[2*r+1])*d[2*r],d[2*r+1]=a),_--)}}function U(e,t,n){var _,r,a=new Array(v+1),i=0;for(_=1;_<=v;_++)a[_]=i=i+n[_-1]<<1;for(r=0;r<=t;r++){var l=e[2*r+1];0!==l&&(e[2*r]=Q(a[l]++,l))}}function V(){var e,t,n,_,r,a=new Array(v+1);for(n=0,_=0;_<b-1;_++)for(F[_]=n,e=0;e<1<<k[_];e++)E[n++]=_;for(E[n-1]=_,r=0,_=0;_<16;_++)for(J[_]=r,e=0;e<1<<q[_];e++)D[r++]=_;for(r>>=7;_<c;_++)for(J[_]=r<<7,e=0;e<1<<q[_]-7;e++)D[256+r++]=_;for(t=0;t<=v;t++)a[t]=0;for(e=0;e<=143;)B[2*e+1]=8,e++,a[8]++;for(;e<=255;)B[2*e+1]=9,e++,a[9]++;for(;e<=279;)B[2*e+1]=7,e++,a[7]++;for(;e<=287;)B[2*e+1]=8,e++,a[8]++;for(U(B,u+1,a),e=0;e<c;e++)C[2*e+1]=5,C[2*e]=Q(e,5);G=new K(B,k,s+1,u,v),H=new K(C,q,0,c,v),I=new K(new Array(0),z,0,p,x)}function W(e){var t;for(t=0;t<u;t++)e.dyn_ltree[2*t]=0;for(t=0;t<c;t++)e.dyn_dtree[2*t]=0;for(t=0;t<p;t++)e.bl_tree[2*t]=0;e.dyn_ltree[2*g]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0}function X(e){e.bi_valid>8?N(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0}function Y(t,n,_,r){X(t),r&&(N(t,_),N(t,~_)),e.arraySet(t.pending_buf,t.window,n,_,t.pending),t.pending+=_}function Z(e,t,n,_){var r=2*t,a=2*n;return e[r]<e[a]||e[r]===e[a]&&_[t]<=_[n]}function $(e,t,n){for(var _=e.heap[n],r=n<<1;r<=e.heap_len&&(r<e.heap_len&&Z(t,e.heap[r+1],e.heap[r],e.depth)&&r++,!Z(t,_,e.heap[r],e.depth));)e.heap[n]=e.heap[r],n=r,r<<=1;e.heap[n]=_}function ee(e,t,n){var _,r,a,i,l=0;if(0!==e.last_lit)do{_=e.pending_buf[e.d_buf+2*l]<<8|e.pending_buf[e.d_buf+2*l+1],r=e.pending_buf[e.l_buf+l],l++,0===_?P(e,r,t):(P(e,(a=E[r])+s+1,t),0!==(i=k[a])&&O(e,r-=F[a],i),P(e,a=M(--_),n),0!==(i=q[a])&&O(e,_-=J[a],i))}while(l<e.last_lit);P(e,g,t)}function te(e,t){var n,_,r,a=t.dyn_tree,i=t.stat_desc.static_tree,l=t.stat_desc.has_stree,d=t.stat_desc.elems,f=-1;for(e.heap_len=0,e.heap_max=h,n=0;n<d;n++)0!==a[2*n]?(e.heap[++e.heap_len]=f=n,e.depth[n]=0):a[2*n+1]=0;for(;e.heap_len<2;)a[2*(r=e.heap[++e.heap_len]=f<2?++f:0)]=1,e.depth[r]=0,e.opt_len--,l&&(e.static_len-=i[2*r+1]);for(t.max_code=f,n=e.heap_len>>1;n>=1;n--)$(e,a,n);r=d;do{n=e.heap[1],e.heap[1]=e.heap[e.heap_len--],$(e,a,1),_=e.heap[1],e.heap[--e.heap_max]=n,e.heap[--e.heap_max]=_,a[2*r]=a[2*n]+a[2*_],e.depth[r]=(e.depth[n]>=e.depth[_]?e.depth[n]:e.depth[_])+1,a[2*n+1]=a[2*_+1]=r,e.heap[1]=r++,$(e,a,1)}while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],T(e,t),U(a,f,e.bl_count)}function ne(e,t,n){var _,r,a=-1,i=t[1],l=0,d=7,f=4;for(0===i&&(d=138,f=3),t[2*(n+1)+1]=65535,_=0;_<=n;_++)r=i,i=t[2*(_+1)+1],++l<d&&r===i||(l<f?e.bl_tree[2*r]+=l:0!==r?(r!==a&&e.bl_tree[2*r]++,e.bl_tree[2*m]++):l<=10?e.bl_tree[2*w]++:e.bl_tree[2*A]++,l=0,a=r,0===i?(d=138,f=3):r===i?(d=6,f=3):(d=7,f=4))}function _e(e,t,n){var _,r,a=-1,i=t[1],l=0,d=7,f=4;for(0===i&&(d=138,f=3),_=0;_<=n;_++)if(r=i,i=t[2*(_+1)+1],!(++l<d&&r===i)){if(l<f)do{P(e,r,e.bl_tree)}while(0!=--l);else 0!==r?(r!==a&&(P(e,r,e.bl_tree),l--),P(e,m,e.bl_tree),O(e,l-3,2)):l<=10?(P(e,w,e.bl_tree),O(e,l-3,3)):(P(e,A,e.bl_tree),O(e,l-11,7));l=0,a=r,0===i?(d=138,f=3):r===i?(d=6,f=3):(d=7,f=4)}}function re(e){var t;for(ne(e,e.dyn_ltree,e.l_desc.max_code),ne(e,e.dyn_dtree,e.d_desc.max_code),te(e,e.bl_desc),t=p-1;t>=3&&0===e.bl_tree[2*S[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t}function ae(e,t,n,_){var r;for(O(e,t-257,5),O(e,n-1,5),O(e,_-4,4),r=0;r<_;r++)O(e,e.bl_tree[2*S[r]+1],3);_e(e,e.dyn_ltree,t-1),_e(e,e.dyn_dtree,n-1)}function ie(e){var t,r=4093624447;for(t=0;t<=31;t++,r>>>=1)if(1&r&&0!==e.dyn_ltree[2*t])return n;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return _;for(t=32;t<s;t++)if(0!==e.dyn_ltree[2*t])return _;return n}a(J);var le=!1;function de(e){le||(V(),le=!0),e.l_desc=new L(e.dyn_ltree,G),e.d_desc=new L(e.dyn_dtree,H),e.bl_desc=new L(e.bl_tree,I),e.bi_buf=0,e.bi_valid=0,W(e)}function fe(e,t,n,_){O(e,(i<<1)+(_?1:0),3),Y(e,t,n,!0)}function oe(e){O(e,l<<1,3),P(e,g,B),R(e)}function be(e,n,_,a){var i,f,o=0;e.level>0?(e.strm.data_type===r&&(e.strm.data_type=ie(e)),te(e,e.l_desc),te(e,e.d_desc),o=re(e),i=e.opt_len+3+7>>>3,(f=e.static_len+3+7>>>3)<=i&&(i=f)):i=f=_+5,_+4<=i&&-1!==n?fe(e,n,_,a):e.strategy===t||f===i?(O(e,(l<<1)+(a?1:0),3),ee(e,B,C)):(O(e,(d<<1)+(a?1:0),3),ae(e,e.l_desc.max_code+1,e.d_desc.max_code+1,o+1),ee(e,e.dyn_ltree,e.dyn_dtree)),W(e),a&&X(e)}function se(e,t,n){return e.pending_buf[e.d_buf+2*e.last_lit]=t>>>8&255,e.pending_buf[e.d_buf+2*e.last_lit+1]=255&t,e.pending_buf[e.l_buf+e.last_lit]=255&n,e.last_lit++,0===t?e.dyn_ltree[2*n]++:(e.matches++,t--,e.dyn_ltree[2*(E[n]+s+1)]++,e.dyn_dtree[2*M(t)]++),e.last_lit===e.lit_bufsize-1}exports._tr_init=de,exports._tr_stored_block=fe,exports._tr_flush_block=be,exports._tr_tally=se,exports._tr_align=oe;
},{"../utils/common":"tbG5"}],"uxo6":[function(require,module,exports) {
"use strict";function e(e,r,o,t){for(var u=65535&e|0,i=e>>>16&65535|0,n=0;0!==o;){o-=n=o>2e3?2e3:o;do{i=i+(u=u+r[t++]|0)|0}while(--n);u%=65521,i%=65521}return u|i<<16|0}module.exports=e;
},{}],"X4kj":[function(require,module,exports) {
"use strict";function r(){for(var r,o=[],t=0;t<256;t++){r=t;for(var n=0;n<8;n++)r=1&r?3988292384^r>>>1:r>>>1;o[t]=r}return o}var o=r();function t(r,t,n,u){var a=o,e=u+n;r^=-1;for(var f=u;f<e;f++)r=r>>>8^a[255&(r^t[f])];return-1^r}module.exports=t;
},{}],"gMAY":[function(require,module,exports) {
"use strict";module.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"};
},{}],"BLBk":[function(require,module,exports) {
"use strict";var t,a=require("../utils/common"),e=require("./trees"),s=require("./adler32"),i=require("./crc32"),r=require("./messages"),n=0,h=1,l=3,_=4,d=5,o=0,u=1,g=-2,f=-3,c=-5,p=-1,m=1,w=2,v=3,k=4,z=0,b=2,x=8,y=9,B=15,S=8,q=29,I=256,A=I+1+q,C=30,R=19,j=2*A+1,D=15,E=3,H=258,K=H+E+1,N=32,F=42,G=69,J=73,L=91,M=103,O=113,P=666,Q=1,T=2,U=3,V=4,W=3;function X(t,a){return t.msg=r[a],a}function Y(t){return(t<<1)-(t>4?9:0)}function Z(t){for(var a=t.length;--a>=0;)t[a]=0}function $(t){var e=t.state,s=e.pending;s>t.avail_out&&(s=t.avail_out),0!==s&&(a.arraySet(t.output,e.pending_buf,e.pending_out,s,t.next_out),t.next_out+=s,e.pending_out+=s,t.total_out+=s,t.avail_out-=s,e.pending-=s,0===e.pending&&(e.pending_out=0))}function tt(t,a){e._tr_flush_block(t,t.block_start>=0?t.block_start:-1,t.strstart-t.block_start,a),t.block_start=t.strstart,$(t.strm)}function at(t,a){t.pending_buf[t.pending++]=a}function et(t,a){t.pending_buf[t.pending++]=a>>>8&255,t.pending_buf[t.pending++]=255&a}function st(t,e,r,n){var h=t.avail_in;return h>n&&(h=n),0===h?0:(t.avail_in-=h,a.arraySet(e,t.input,t.next_in,h,r),1===t.state.wrap?t.adler=s(t.adler,e,h,r):2===t.state.wrap&&(t.adler=i(t.adler,e,h,r)),t.next_in+=h,t.total_in+=h,h)}function it(t,a){var e,s,i=t.max_chain_length,r=t.strstart,n=t.prev_length,h=t.nice_match,l=t.strstart>t.w_size-K?t.strstart-(t.w_size-K):0,_=t.window,d=t.w_mask,o=t.prev,u=t.strstart+H,g=_[r+n-1],f=_[r+n];t.prev_length>=t.good_match&&(i>>=2),h>t.lookahead&&(h=t.lookahead);do{if(_[(e=a)+n]===f&&_[e+n-1]===g&&_[e]===_[r]&&_[++e]===_[r+1]){r+=2,e++;do{}while(_[++r]===_[++e]&&_[++r]===_[++e]&&_[++r]===_[++e]&&_[++r]===_[++e]&&_[++r]===_[++e]&&_[++r]===_[++e]&&_[++r]===_[++e]&&_[++r]===_[++e]&&r<u);if(s=H-(u-r),r=u-H,s>n){if(t.match_start=a,n=s,s>=h)break;g=_[r+n-1],f=_[r+n]}}}while((a=o[a&d])>l&&0!=--i);return n<=t.lookahead?n:t.lookahead}function rt(t){var e,s,i,r,n,h=t.w_size;do{if(r=t.window_size-t.lookahead-t.strstart,t.strstart>=h+(h-K)){a.arraySet(t.window,t.window,h,h,0),t.match_start-=h,t.strstart-=h,t.block_start-=h,e=s=t.hash_size;do{i=t.head[--e],t.head[e]=i>=h?i-h:0}while(--s);e=s=h;do{i=t.prev[--e],t.prev[e]=i>=h?i-h:0}while(--s);r+=h}if(0===t.strm.avail_in)break;if(s=st(t.strm,t.window,t.strstart+t.lookahead,r),t.lookahead+=s,t.lookahead+t.insert>=E)for(n=t.strstart-t.insert,t.ins_h=t.window[n],t.ins_h=(t.ins_h<<t.hash_shift^t.window[n+1])&t.hash_mask;t.insert&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[n+E-1])&t.hash_mask,t.prev[n&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=n,n++,t.insert--,!(t.lookahead+t.insert<E)););}while(t.lookahead<K&&0!==t.strm.avail_in)}function nt(t,a){var e=65535;for(e>t.pending_buf_size-5&&(e=t.pending_buf_size-5);;){if(t.lookahead<=1){if(rt(t),0===t.lookahead&&a===n)return Q;if(0===t.lookahead)break}t.strstart+=t.lookahead,t.lookahead=0;var s=t.block_start+e;if((0===t.strstart||t.strstart>=s)&&(t.lookahead=t.strstart-s,t.strstart=s,tt(t,!1),0===t.strm.avail_out))return Q;if(t.strstart-t.block_start>=t.w_size-K&&(tt(t,!1),0===t.strm.avail_out))return Q}return t.insert=0,a===_?(tt(t,!0),0===t.strm.avail_out?U:V):(t.strstart>t.block_start&&(tt(t,!1),t.strm.avail_out),Q)}function ht(t,a){for(var s,i;;){if(t.lookahead<K){if(rt(t),t.lookahead<K&&a===n)return Q;if(0===t.lookahead)break}if(s=0,t.lookahead>=E&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+E-1])&t.hash_mask,s=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),0!==s&&t.strstart-s<=t.w_size-K&&(t.match_length=it(t,s)),t.match_length>=E)if(i=e._tr_tally(t,t.strstart-t.match_start,t.match_length-E),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=E){t.match_length--;do{t.strstart++,t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+E-1])&t.hash_mask,s=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart}while(0!=--t.match_length);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+1])&t.hash_mask;else i=e._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(i&&(tt(t,!1),0===t.strm.avail_out))return Q}return t.insert=t.strstart<E-1?t.strstart:E-1,a===_?(tt(t,!0),0===t.strm.avail_out?U:V):t.last_lit&&(tt(t,!1),0===t.strm.avail_out)?Q:T}function lt(t,a){for(var s,i,r;;){if(t.lookahead<K){if(rt(t),t.lookahead<K&&a===n)return Q;if(0===t.lookahead)break}if(s=0,t.lookahead>=E&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+E-1])&t.hash_mask,s=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=E-1,0!==s&&t.prev_length<t.max_lazy_match&&t.strstart-s<=t.w_size-K&&(t.match_length=it(t,s),t.match_length<=5&&(t.strategy===m||t.match_length===E&&t.strstart-t.match_start>4096)&&(t.match_length=E-1)),t.prev_length>=E&&t.match_length<=t.prev_length){r=t.strstart+t.lookahead-E,i=e._tr_tally(t,t.strstart-1-t.prev_match,t.prev_length-E),t.lookahead-=t.prev_length-1,t.prev_length-=2;do{++t.strstart<=r&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+E-1])&t.hash_mask,s=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart)}while(0!=--t.prev_length);if(t.match_available=0,t.match_length=E-1,t.strstart++,i&&(tt(t,!1),0===t.strm.avail_out))return Q}else if(t.match_available){if((i=e._tr_tally(t,0,t.window[t.strstart-1]))&&tt(t,!1),t.strstart++,t.lookahead--,0===t.strm.avail_out)return Q}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(i=e._tr_tally(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<E-1?t.strstart:E-1,a===_?(tt(t,!0),0===t.strm.avail_out?U:V):t.last_lit&&(tt(t,!1),0===t.strm.avail_out)?Q:T}function _t(t,a){for(var s,i,r,h,l=t.window;;){if(t.lookahead<=H){if(rt(t),t.lookahead<=H&&a===n)return Q;if(0===t.lookahead)break}if(t.match_length=0,t.lookahead>=E&&t.strstart>0&&(i=l[r=t.strstart-1])===l[++r]&&i===l[++r]&&i===l[++r]){h=t.strstart+H;do{}while(i===l[++r]&&i===l[++r]&&i===l[++r]&&i===l[++r]&&i===l[++r]&&i===l[++r]&&i===l[++r]&&i===l[++r]&&r<h);t.match_length=H-(h-r),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}if(t.match_length>=E?(s=e._tr_tally(t,1,t.match_length-E),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(s=e._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),s&&(tt(t,!1),0===t.strm.avail_out))return Q}return t.insert=0,a===_?(tt(t,!0),0===t.strm.avail_out?U:V):t.last_lit&&(tt(t,!1),0===t.strm.avail_out)?Q:T}function dt(t,a){for(var s;;){if(0===t.lookahead&&(rt(t),0===t.lookahead)){if(a===n)return Q;break}if(t.match_length=0,s=e._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,s&&(tt(t,!1),0===t.strm.avail_out))return Q}return t.insert=0,a===_?(tt(t,!0),0===t.strm.avail_out?U:V):t.last_lit&&(tt(t,!1),0===t.strm.avail_out)?Q:T}function ot(t,a,e,s,i){this.good_length=t,this.max_lazy=a,this.nice_length=e,this.max_chain=s,this.func=i}function ut(a){a.window_size=2*a.w_size,Z(a.head),a.max_lazy_match=t[a.level].max_lazy,a.good_match=t[a.level].good_length,a.nice_match=t[a.level].nice_length,a.max_chain_length=t[a.level].max_chain,a.strstart=0,a.block_start=0,a.lookahead=0,a.insert=0,a.match_length=a.prev_length=E-1,a.match_available=0,a.ins_h=0}function gt(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=x,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new a.Buf16(2*j),this.dyn_dtree=new a.Buf16(2*(2*C+1)),this.bl_tree=new a.Buf16(2*(2*R+1)),Z(this.dyn_ltree),Z(this.dyn_dtree),Z(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new a.Buf16(D+1),this.heap=new a.Buf16(2*A+1),Z(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new a.Buf16(2*A+1),Z(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function ft(t){var a;return t&&t.state?(t.total_in=t.total_out=0,t.data_type=b,(a=t.state).pending=0,a.pending_out=0,a.wrap<0&&(a.wrap=-a.wrap),a.status=a.wrap?F:O,t.adler=2===a.wrap?0:1,a.last_flush=n,e._tr_init(a),o):X(t,g)}function ct(t){var a=ft(t);return a===o&&ut(t.state),a}function pt(t,a){return t&&t.state?2!==t.state.wrap?g:(t.state.gzhead=a,o):g}function mt(t,e,s,i,r,n){if(!t)return g;var h=1;if(e===p&&(e=6),i<0?(h=0,i=-i):i>15&&(h=2,i-=16),r<1||r>y||s!==x||i<8||i>15||e<0||e>9||n<0||n>k)return X(t,g);8===i&&(i=9);var l=new gt;return t.state=l,l.strm=t,l.wrap=h,l.gzhead=null,l.w_bits=i,l.w_size=1<<l.w_bits,l.w_mask=l.w_size-1,l.hash_bits=r+7,l.hash_size=1<<l.hash_bits,l.hash_mask=l.hash_size-1,l.hash_shift=~~((l.hash_bits+E-1)/E),l.window=new a.Buf8(2*l.w_size),l.head=new a.Buf16(l.hash_size),l.prev=new a.Buf16(l.w_size),l.lit_bufsize=1<<r+6,l.pending_buf_size=4*l.lit_bufsize,l.pending_buf=new a.Buf8(l.pending_buf_size),l.d_buf=1*l.lit_bufsize,l.l_buf=3*l.lit_bufsize,l.level=e,l.strategy=n,l.method=s,ct(t)}function wt(t,a){return mt(t,a,x,B,S,z)}function vt(a,s){var r,f,p,m;if(!a||!a.state||s>d||s<0)return a?X(a,g):g;if(f=a.state,!a.output||!a.input&&0!==a.avail_in||f.status===P&&s!==_)return X(a,0===a.avail_out?c:g);if(f.strm=a,r=f.last_flush,f.last_flush=s,f.status===F)if(2===f.wrap)a.adler=0,at(f,31),at(f,139),at(f,8),f.gzhead?(at(f,(f.gzhead.text?1:0)+(f.gzhead.hcrc?2:0)+(f.gzhead.extra?4:0)+(f.gzhead.name?8:0)+(f.gzhead.comment?16:0)),at(f,255&f.gzhead.time),at(f,f.gzhead.time>>8&255),at(f,f.gzhead.time>>16&255),at(f,f.gzhead.time>>24&255),at(f,9===f.level?2:f.strategy>=w||f.level<2?4:0),at(f,255&f.gzhead.os),f.gzhead.extra&&f.gzhead.extra.length&&(at(f,255&f.gzhead.extra.length),at(f,f.gzhead.extra.length>>8&255)),f.gzhead.hcrc&&(a.adler=i(a.adler,f.pending_buf,f.pending,0)),f.gzindex=0,f.status=G):(at(f,0),at(f,0),at(f,0),at(f,0),at(f,0),at(f,9===f.level?2:f.strategy>=w||f.level<2?4:0),at(f,W),f.status=O);else{var k=x+(f.w_bits-8<<4)<<8;k|=(f.strategy>=w||f.level<2?0:f.level<6?1:6===f.level?2:3)<<6,0!==f.strstart&&(k|=N),k+=31-k%31,f.status=O,et(f,k),0!==f.strstart&&(et(f,a.adler>>>16),et(f,65535&a.adler)),a.adler=1}if(f.status===G)if(f.gzhead.extra){for(p=f.pending;f.gzindex<(65535&f.gzhead.extra.length)&&(f.pending!==f.pending_buf_size||(f.gzhead.hcrc&&f.pending>p&&(a.adler=i(a.adler,f.pending_buf,f.pending-p,p)),$(a),p=f.pending,f.pending!==f.pending_buf_size));)at(f,255&f.gzhead.extra[f.gzindex]),f.gzindex++;f.gzhead.hcrc&&f.pending>p&&(a.adler=i(a.adler,f.pending_buf,f.pending-p,p)),f.gzindex===f.gzhead.extra.length&&(f.gzindex=0,f.status=J)}else f.status=J;if(f.status===J)if(f.gzhead.name){p=f.pending;do{if(f.pending===f.pending_buf_size&&(f.gzhead.hcrc&&f.pending>p&&(a.adler=i(a.adler,f.pending_buf,f.pending-p,p)),$(a),p=f.pending,f.pending===f.pending_buf_size)){m=1;break}m=f.gzindex<f.gzhead.name.length?255&f.gzhead.name.charCodeAt(f.gzindex++):0,at(f,m)}while(0!==m);f.gzhead.hcrc&&f.pending>p&&(a.adler=i(a.adler,f.pending_buf,f.pending-p,p)),0===m&&(f.gzindex=0,f.status=L)}else f.status=L;if(f.status===L)if(f.gzhead.comment){p=f.pending;do{if(f.pending===f.pending_buf_size&&(f.gzhead.hcrc&&f.pending>p&&(a.adler=i(a.adler,f.pending_buf,f.pending-p,p)),$(a),p=f.pending,f.pending===f.pending_buf_size)){m=1;break}m=f.gzindex<f.gzhead.comment.length?255&f.gzhead.comment.charCodeAt(f.gzindex++):0,at(f,m)}while(0!==m);f.gzhead.hcrc&&f.pending>p&&(a.adler=i(a.adler,f.pending_buf,f.pending-p,p)),0===m&&(f.status=M)}else f.status=M;if(f.status===M&&(f.gzhead.hcrc?(f.pending+2>f.pending_buf_size&&$(a),f.pending+2<=f.pending_buf_size&&(at(f,255&a.adler),at(f,a.adler>>8&255),a.adler=0,f.status=O)):f.status=O),0!==f.pending){if($(a),0===a.avail_out)return f.last_flush=-1,o}else if(0===a.avail_in&&Y(s)<=Y(r)&&s!==_)return X(a,c);if(f.status===P&&0!==a.avail_in)return X(a,c);if(0!==a.avail_in||0!==f.lookahead||s!==n&&f.status!==P){var z=f.strategy===w?dt(f,s):f.strategy===v?_t(f,s):t[f.level].func(f,s);if(z!==U&&z!==V||(f.status=P),z===Q||z===U)return 0===a.avail_out&&(f.last_flush=-1),o;if(z===T&&(s===h?e._tr_align(f):s!==d&&(e._tr_stored_block(f,0,0,!1),s===l&&(Z(f.head),0===f.lookahead&&(f.strstart=0,f.block_start=0,f.insert=0))),$(a),0===a.avail_out))return f.last_flush=-1,o}return s!==_?o:f.wrap<=0?u:(2===f.wrap?(at(f,255&a.adler),at(f,a.adler>>8&255),at(f,a.adler>>16&255),at(f,a.adler>>24&255),at(f,255&a.total_in),at(f,a.total_in>>8&255),at(f,a.total_in>>16&255),at(f,a.total_in>>24&255)):(et(f,a.adler>>>16),et(f,65535&a.adler)),$(a),f.wrap>0&&(f.wrap=-f.wrap),0!==f.pending?o:u)}function kt(t){var a;return t&&t.state?(a=t.state.status)!==F&&a!==G&&a!==J&&a!==L&&a!==M&&a!==O&&a!==P?X(t,g):(t.state=null,a===O?X(t,f):o):g}function zt(t,e){var i,r,n,h,l,_,d,u,f=e.length;if(!t||!t.state)return g;if(2===(h=(i=t.state).wrap)||1===h&&i.status!==F||i.lookahead)return g;for(1===h&&(t.adler=s(t.adler,e,f,0)),i.wrap=0,f>=i.w_size&&(0===h&&(Z(i.head),i.strstart=0,i.block_start=0,i.insert=0),u=new a.Buf8(i.w_size),a.arraySet(u,e,f-i.w_size,i.w_size,0),e=u,f=i.w_size),l=t.avail_in,_=t.next_in,d=t.input,t.avail_in=f,t.next_in=0,t.input=e,rt(i);i.lookahead>=E;){r=i.strstart,n=i.lookahead-(E-1);do{i.ins_h=(i.ins_h<<i.hash_shift^i.window[r+E-1])&i.hash_mask,i.prev[r&i.w_mask]=i.head[i.ins_h],i.head[i.ins_h]=r,r++}while(--n);i.strstart=r,i.lookahead=E-1,rt(i)}return i.strstart+=i.lookahead,i.block_start=i.strstart,i.insert=i.lookahead,i.lookahead=0,i.match_length=i.prev_length=E-1,i.match_available=0,t.next_in=_,t.input=d,t.avail_in=l,i.wrap=h,o}t=[new ot(0,0,0,0,nt),new ot(4,4,8,4,ht),new ot(4,5,16,8,ht),new ot(4,6,32,32,ht),new ot(4,4,16,16,lt),new ot(8,16,32,32,lt),new ot(8,16,128,128,lt),new ot(8,32,128,256,lt),new ot(32,128,258,1024,lt),new ot(32,258,258,4096,lt)],exports.deflateInit=wt,exports.deflateInit2=mt,exports.deflateReset=ct,exports.deflateResetKeep=ft,exports.deflateSetHeader=pt,exports.deflate=vt,exports.deflateEnd=kt,exports.deflateSetDictionary=zt,exports.deflateInfo="pako deflate (from Nodeca project)";
},{"../utils/common":"tbG5","./trees":"sRJQ","./adler32":"uxo6","./crc32":"X4kj","./messages":"gMAY"}],"Q3ZD":[function(require,module,exports) {
"use strict";var r=require("./common"),n=!0,t=!0;try{String.fromCharCode.apply(null,[0])}catch(u){n=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(u){t=!1}for(var e=new r.Buf8(256),o=0;o<256;o++)e[o]=o>=252?6:o>=248?5:o>=240?4:o>=224?3:o>=192?2:1;function f(e,o){if(o<65534&&(e.subarray&&t||!e.subarray&&n))return String.fromCharCode.apply(null,r.shrinkBuf(e,o));for(var f="",u=0;u<o;u++)f+=String.fromCharCode(e[u]);return f}e[254]=e[254]=1,exports.string2buf=function(n){var t,e,o,f,u,a=n.length,i=0;for(f=0;f<a;f++)55296==(64512&(e=n.charCodeAt(f)))&&f+1<a&&56320==(64512&(o=n.charCodeAt(f+1)))&&(e=65536+(e-55296<<10)+(o-56320),f++),i+=e<128?1:e<2048?2:e<65536?3:4;for(t=new r.Buf8(i),u=0,f=0;u<i;f++)55296==(64512&(e=n.charCodeAt(f)))&&f+1<a&&56320==(64512&(o=n.charCodeAt(f+1)))&&(e=65536+(e-55296<<10)+(o-56320),f++),e<128?t[u++]=e:e<2048?(t[u++]=192|e>>>6,t[u++]=128|63&e):e<65536?(t[u++]=224|e>>>12,t[u++]=128|e>>>6&63,t[u++]=128|63&e):(t[u++]=240|e>>>18,t[u++]=128|e>>>12&63,t[u++]=128|e>>>6&63,t[u++]=128|63&e);return t},exports.buf2binstring=function(r){return f(r,r.length)},exports.binstring2buf=function(n){for(var t=new r.Buf8(n.length),e=0,o=t.length;e<o;e++)t[e]=n.charCodeAt(e);return t},exports.buf2string=function(r,n){var t,o,u,a,i=n||r.length,h=new Array(2*i);for(o=0,t=0;t<i;)if((u=r[t++])<128)h[o++]=u;else if((a=e[u])>4)h[o++]=65533,t+=a-1;else{for(u&=2===a?31:3===a?15:7;a>1&&t<i;)u=u<<6|63&r[t++],a--;a>1?h[o++]=65533:u<65536?h[o++]=u:(u-=65536,h[o++]=55296|u>>10&1023,h[o++]=56320|1023&u)}return f(h,o)},exports.utf8border=function(r,n){var t;for((n=n||r.length)>r.length&&(n=r.length),t=n-1;t>=0&&128==(192&r[t]);)t--;return t<0?n:0===t?n:t+e[r[t]]>n?t:n};
},{"./common":"tbG5"}],"bdtv":[function(require,module,exports) {
"use strict";function t(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}module.exports=t;
},{}],"nFS2":[function(require,module,exports) {
"use strict";var t=require("./zlib/deflate"),i=require("./utils/common"),e=require("./utils/strings"),n=require("./zlib/messages"),r=require("./zlib/zstream"),s=Object.prototype.toString,o=0,a=4,u=0,h=1,d=2,l=-1,f=0,p=8;function w(o){if(!(this instanceof w))return new w(o);this.options=i.assign({level:l,method:p,chunkSize:16384,windowBits:15,memLevel:8,strategy:f,to:""},o||{});var a=this.options;a.raw&&a.windowBits>0?a.windowBits=-a.windowBits:a.gzip&&a.windowBits>0&&a.windowBits<16&&(a.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new r,this.strm.avail_out=0;var h=t.deflateInit2(this.strm,a.level,a.method,a.windowBits,a.memLevel,a.strategy);if(h!==u)throw new Error(n[h]);if(a.header&&t.deflateSetHeader(this.strm,a.header),a.dictionary){var d;if(d="string"==typeof a.dictionary?e.string2buf(a.dictionary):"[object ArrayBuffer]"===s.call(a.dictionary)?new Uint8Array(a.dictionary):a.dictionary,(h=t.deflateSetDictionary(this.strm,d))!==u)throw new Error(n[h]);this._dict_set=!0}}function c(t,i){var e=new w(i);if(e.push(t,!0),e.err)throw e.msg||n[e.err];return e.result}function m(t,i){return(i=i||{}).raw=!0,c(t,i)}function g(t,i){return(i=i||{}).gzip=!0,c(t,i)}w.prototype.push=function(n,r){var l,f,p=this.strm,w=this.options.chunkSize;if(this.ended)return!1;f=r===~~r?r:!0===r?a:o,"string"==typeof n?p.input=e.string2buf(n):"[object ArrayBuffer]"===s.call(n)?p.input=new Uint8Array(n):p.input=n,p.next_in=0,p.avail_in=p.input.length;do{if(0===p.avail_out&&(p.output=new i.Buf8(w),p.next_out=0,p.avail_out=w),(l=t.deflate(p,f))!==h&&l!==u)return this.onEnd(l),this.ended=!0,!1;0!==p.avail_out&&(0!==p.avail_in||f!==a&&f!==d)||("string"===this.options.to?this.onData(e.buf2binstring(i.shrinkBuf(p.output,p.next_out))):this.onData(i.shrinkBuf(p.output,p.next_out)))}while((p.avail_in>0||0===p.avail_out)&&l!==h);return f===a?(l=t.deflateEnd(this.strm),this.onEnd(l),this.ended=!0,l===u):f!==d||(this.onEnd(u),p.avail_out=0,!0)},w.prototype.onData=function(t){this.chunks.push(t)},w.prototype.onEnd=function(t){t===u&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=i.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg},exports.Deflate=w,exports.deflate=c,exports.deflateRaw=m,exports.gzip=g;
},{"./zlib/deflate":"BLBk","./utils/common":"tbG5","./utils/strings":"Q3ZD","./zlib/messages":"gMAY","./zlib/zstream":"bdtv"}],"LP5M":[function(require,module,exports) {
"use strict";var i=30,e=12;module.exports=function(o,a){var t,d,n,l,s,f,r,b,c,u,v,m,w,h,k,_,x,g,p,z,j,q,y,A,B;t=o.state,d=o.next_in,A=o.input,n=d+(o.avail_in-5),l=o.next_out,B=o.output,s=l-(a-o.avail_out),f=l+(o.avail_out-257),r=t.dmax,b=t.wsize,c=t.whave,u=t.wnext,v=t.window,m=t.hold,w=t.bits,h=t.lencode,k=t.distcode,_=(1<<t.lenbits)-1,x=(1<<t.distbits)-1;i:do{w<15&&(m+=A[d++]<<w,w+=8,m+=A[d++]<<w,w+=8),g=h[m&_];e:for(;;){if(m>>>=p=g>>>24,w-=p,0===(p=g>>>16&255))B[l++]=65535&g;else{if(!(16&p)){if(0==(64&p)){g=h[(65535&g)+(m&(1<<p)-1)];continue e}if(32&p){t.mode=e;break i}o.msg="invalid literal/length code",t.mode=i;break i}z=65535&g,(p&=15)&&(w<p&&(m+=A[d++]<<w,w+=8),z+=m&(1<<p)-1,m>>>=p,w-=p),w<15&&(m+=A[d++]<<w,w+=8,m+=A[d++]<<w,w+=8),g=k[m&x];o:for(;;){if(m>>>=p=g>>>24,w-=p,!(16&(p=g>>>16&255))){if(0==(64&p)){g=k[(65535&g)+(m&(1<<p)-1)];continue o}o.msg="invalid distance code",t.mode=i;break i}if(j=65535&g,w<(p&=15)&&(m+=A[d++]<<w,(w+=8)<p&&(m+=A[d++]<<w,w+=8)),(j+=m&(1<<p)-1)>r){o.msg="invalid distance too far back",t.mode=i;break i}if(m>>>=p,w-=p,j>(p=l-s)){if((p=j-p)>c&&t.sane){o.msg="invalid distance too far back",t.mode=i;break i}if(q=0,y=v,0===u){if(q+=b-p,p<z){z-=p;do{B[l++]=v[q++]}while(--p);q=l-j,y=B}}else if(u<p){if(q+=b+u-p,(p-=u)<z){z-=p;do{B[l++]=v[q++]}while(--p);if(q=0,u<z){z-=p=u;do{B[l++]=v[q++]}while(--p);q=l-j,y=B}}}else if(q+=u-p,p<z){z-=p;do{B[l++]=v[q++]}while(--p);q=l-j,y=B}for(;z>2;)B[l++]=y[q++],B[l++]=y[q++],B[l++]=y[q++],z-=3;z&&(B[l++]=y[q++],z>1&&(B[l++]=y[q++]))}else{q=l-j;do{B[l++]=B[q++],B[l++]=B[q++],B[l++]=B[q++],z-=3}while(z>2);z&&(B[l++]=B[q++],z>1&&(B[l++]=B[q++]))}break}}break}}while(d<n&&l<f);d-=z=w>>3,m&=(1<<(w-=z<<3))-1,o.next_in=d,o.next_out=l,o.avail_in=d<n?n-d+5:5-(d-n),o.avail_out=l<f?f-l+257:257-(l-f),t.hold=m,t.bits=w};
},{}],"uNlq":[function(require,module,exports) {
"use strict";var r=require("../utils/common"),f=15,i=852,o=592,e=0,u=1,t=2,n=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],l=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],s=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],b=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];module.exports=function(a,c,m,w,d,v,B,h){var k,p,q,x,g,j,y,z,A,C=h.bits,D=0,E=0,F=0,G=0,H=0,I=0,J=0,K=0,L=0,M=0,N=null,O=0,P=new r.Buf16(f+1),Q=new r.Buf16(f+1),R=null,S=0;for(D=0;D<=f;D++)P[D]=0;for(E=0;E<w;E++)P[c[m+E]]++;for(H=C,G=f;G>=1&&0===P[G];G--);if(H>G&&(H=G),0===G)return d[v++]=20971520,d[v++]=20971520,h.bits=1,0;for(F=1;F<G&&0===P[F];F++);for(H<F&&(H=F),K=1,D=1;D<=f;D++)if(K<<=1,(K-=P[D])<0)return-1;if(K>0&&(a===e||1!==G))return-1;for(Q[1]=0,D=1;D<f;D++)Q[D+1]=Q[D]+P[D];for(E=0;E<w;E++)0!==c[m+E]&&(B[Q[c[m+E]]++]=E);if(a===e?(N=R=B,j=19):a===u?(N=n,O-=257,R=l,S-=257,j=256):(N=s,R=b,j=-1),M=0,E=0,D=F,g=v,I=H,J=0,q=-1,x=(L=1<<H)-1,a===u&&L>i||a===t&&L>o)return 1;for(;;){y=D-J,B[E]<j?(z=0,A=B[E]):B[E]>j?(z=R[S+B[E]],A=N[O+B[E]]):(z=96,A=0),k=1<<D-J,F=p=1<<I;do{d[g+(M>>J)+(p-=k)]=y<<24|z<<16|A|0}while(0!==p);for(k=1<<D-1;M&k;)k>>=1;if(0!==k?(M&=k-1,M+=k):M=0,E++,0==--P[D]){if(D===G)break;D=c[m+B[E]]}if(D>H&&(M&x)!==q){for(0===J&&(J=H),g+=F,K=1<<(I=D-J);I+J<G&&!((K-=P[I+J])<=0);)I++,K<<=1;if(L+=1<<I,a===u&&L>i||a===t&&L>o)return 1;d[q=M&x]=H<<24|I<<16|g-v|0}}return 0!==M&&(d[g+M]=D-J<<24|64<<16|0),h.bits=H,0};
},{"../utils/common":"tbG5"}],"GIDK":[function(require,module,exports) {
"use strict";var e=require("../utils/common"),a=require("./adler32"),t=require("./crc32"),i=require("./inffast"),s=require("./inftrees"),n=0,r=1,o=2,d=4,l=5,f=6,c=0,h=1,k=2,b=-2,m=-3,w=-4,u=-5,g=8,v=1,x=2,p=3,_=4,y=5,z=6,B=7,S=8,q=9,C=10,I=11,R=12,j=13,A=14,D=15,E=16,G=17,H=18,K=19,N=20,F=21,J=22,L=23,M=24,O=25,P=26,Q=27,T=28,U=29,V=30,W=31,X=32,Y=852,Z=592,$=15,ee=$;function ae(e){return(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24)}function te(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new e.Buf16(320),this.work=new e.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function ie(a){var t;return a&&a.state?(t=a.state,a.total_in=a.total_out=t.total=0,a.msg="",t.wrap&&(a.adler=1&t.wrap),t.mode=v,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new e.Buf32(Y),t.distcode=t.distdyn=new e.Buf32(Z),t.sane=1,t.back=-1,c):b}function se(e){var a;return e&&e.state?((a=e.state).wsize=0,a.whave=0,a.wnext=0,ie(e)):b}function ne(e,a){var t,i;return e&&e.state?(i=e.state,a<0?(t=0,a=-a):(t=1+(a>>4),a<48&&(a&=15)),a&&(a<8||a>15)?b:(null!==i.window&&i.wbits!==a&&(i.window=null),i.wrap=t,i.wbits=a,se(e))):b}function re(e,a){var t,i;return e?(i=new te,e.state=i,i.window=null,(t=ne(e,a))!==c&&(e.state=null),t):b}function oe(e){return re(e,ee)}var de,le,fe=!0;function ce(a){if(fe){var t;for(de=new e.Buf32(512),le=new e.Buf32(32),t=0;t<144;)a.lens[t++]=8;for(;t<256;)a.lens[t++]=9;for(;t<280;)a.lens[t++]=7;for(;t<288;)a.lens[t++]=8;for(s(r,a.lens,0,288,de,0,a.work,{bits:9}),t=0;t<32;)a.lens[t++]=5;s(o,a.lens,0,32,le,0,a.work,{bits:5}),fe=!1}a.lencode=de,a.lenbits=9,a.distcode=le,a.distbits=5}function he(a,t,i,s){var n,r=a.state;return null===r.window&&(r.wsize=1<<r.wbits,r.wnext=0,r.whave=0,r.window=new e.Buf8(r.wsize)),s>=r.wsize?(e.arraySet(r.window,t,i-r.wsize,r.wsize,0),r.wnext=0,r.whave=r.wsize):((n=r.wsize-r.wnext)>s&&(n=s),e.arraySet(r.window,t,i-s,n,r.wnext),(s-=n)?(e.arraySet(r.window,t,i-s,s,0),r.wnext=s,r.whave=r.wsize):(r.wnext+=n,r.wnext===r.wsize&&(r.wnext=0),r.whave<r.wsize&&(r.whave+=n))),0}function ke(Y,Z){var $,ee,te,ie,se,ne,re,oe,de,le,fe,ke,be,me,we,ue,ge,ve,xe,pe,_e,ye,ze,Be,Se=0,qe=new e.Buf8(4),Ce=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!Y||!Y.state||!Y.output||!Y.input&&0!==Y.avail_in)return b;($=Y.state).mode===R&&($.mode=j),se=Y.next_out,te=Y.output,re=Y.avail_out,ie=Y.next_in,ee=Y.input,ne=Y.avail_in,oe=$.hold,de=$.bits,le=ne,fe=re,ye=c;e:for(;;)switch($.mode){case v:if(0===$.wrap){$.mode=j;break}for(;de<16;){if(0===ne)break e;ne--,oe+=ee[ie++]<<de,de+=8}if(2&$.wrap&&35615===oe){$.check=0,qe[0]=255&oe,qe[1]=oe>>>8&255,$.check=t($.check,qe,2,0),oe=0,de=0,$.mode=x;break}if($.flags=0,$.head&&($.head.done=!1),!(1&$.wrap)||(((255&oe)<<8)+(oe>>8))%31){Y.msg="incorrect header check",$.mode=V;break}if((15&oe)!==g){Y.msg="unknown compression method",$.mode=V;break}if(de-=4,_e=8+(15&(oe>>>=4)),0===$.wbits)$.wbits=_e;else if(_e>$.wbits){Y.msg="invalid window size",$.mode=V;break}$.dmax=1<<_e,Y.adler=$.check=1,$.mode=512&oe?C:R,oe=0,de=0;break;case x:for(;de<16;){if(0===ne)break e;ne--,oe+=ee[ie++]<<de,de+=8}if($.flags=oe,(255&$.flags)!==g){Y.msg="unknown compression method",$.mode=V;break}if(57344&$.flags){Y.msg="unknown header flags set",$.mode=V;break}$.head&&($.head.text=oe>>8&1),512&$.flags&&(qe[0]=255&oe,qe[1]=oe>>>8&255,$.check=t($.check,qe,2,0)),oe=0,de=0,$.mode=p;case p:for(;de<32;){if(0===ne)break e;ne--,oe+=ee[ie++]<<de,de+=8}$.head&&($.head.time=oe),512&$.flags&&(qe[0]=255&oe,qe[1]=oe>>>8&255,qe[2]=oe>>>16&255,qe[3]=oe>>>24&255,$.check=t($.check,qe,4,0)),oe=0,de=0,$.mode=_;case _:for(;de<16;){if(0===ne)break e;ne--,oe+=ee[ie++]<<de,de+=8}$.head&&($.head.xflags=255&oe,$.head.os=oe>>8),512&$.flags&&(qe[0]=255&oe,qe[1]=oe>>>8&255,$.check=t($.check,qe,2,0)),oe=0,de=0,$.mode=y;case y:if(1024&$.flags){for(;de<16;){if(0===ne)break e;ne--,oe+=ee[ie++]<<de,de+=8}$.length=oe,$.head&&($.head.extra_len=oe),512&$.flags&&(qe[0]=255&oe,qe[1]=oe>>>8&255,$.check=t($.check,qe,2,0)),oe=0,de=0}else $.head&&($.head.extra=null);$.mode=z;case z:if(1024&$.flags&&((ke=$.length)>ne&&(ke=ne),ke&&($.head&&(_e=$.head.extra_len-$.length,$.head.extra||($.head.extra=new Array($.head.extra_len)),e.arraySet($.head.extra,ee,ie,ke,_e)),512&$.flags&&($.check=t($.check,ee,ke,ie)),ne-=ke,ie+=ke,$.length-=ke),$.length))break e;$.length=0,$.mode=B;case B:if(2048&$.flags){if(0===ne)break e;ke=0;do{_e=ee[ie+ke++],$.head&&_e&&$.length<65536&&($.head.name+=String.fromCharCode(_e))}while(_e&&ke<ne);if(512&$.flags&&($.check=t($.check,ee,ke,ie)),ne-=ke,ie+=ke,_e)break e}else $.head&&($.head.name=null);$.length=0,$.mode=S;case S:if(4096&$.flags){if(0===ne)break e;ke=0;do{_e=ee[ie+ke++],$.head&&_e&&$.length<65536&&($.head.comment+=String.fromCharCode(_e))}while(_e&&ke<ne);if(512&$.flags&&($.check=t($.check,ee,ke,ie)),ne-=ke,ie+=ke,_e)break e}else $.head&&($.head.comment=null);$.mode=q;case q:if(512&$.flags){for(;de<16;){if(0===ne)break e;ne--,oe+=ee[ie++]<<de,de+=8}if(oe!==(65535&$.check)){Y.msg="header crc mismatch",$.mode=V;break}oe=0,de=0}$.head&&($.head.hcrc=$.flags>>9&1,$.head.done=!0),Y.adler=$.check=0,$.mode=R;break;case C:for(;de<32;){if(0===ne)break e;ne--,oe+=ee[ie++]<<de,de+=8}Y.adler=$.check=ae(oe),oe=0,de=0,$.mode=I;case I:if(0===$.havedict)return Y.next_out=se,Y.avail_out=re,Y.next_in=ie,Y.avail_in=ne,$.hold=oe,$.bits=de,k;Y.adler=$.check=1,$.mode=R;case R:if(Z===l||Z===f)break e;case j:if($.last){oe>>>=7&de,de-=7&de,$.mode=Q;break}for(;de<3;){if(0===ne)break e;ne--,oe+=ee[ie++]<<de,de+=8}switch($.last=1&oe,de-=1,3&(oe>>>=1)){case 0:$.mode=A;break;case 1:if(ce($),$.mode=N,Z===f){oe>>>=2,de-=2;break e}break;case 2:$.mode=G;break;case 3:Y.msg="invalid block type",$.mode=V}oe>>>=2,de-=2;break;case A:for(oe>>>=7&de,de-=7&de;de<32;){if(0===ne)break e;ne--,oe+=ee[ie++]<<de,de+=8}if((65535&oe)!=(oe>>>16^65535)){Y.msg="invalid stored block lengths",$.mode=V;break}if($.length=65535&oe,oe=0,de=0,$.mode=D,Z===f)break e;case D:$.mode=E;case E:if(ke=$.length){if(ke>ne&&(ke=ne),ke>re&&(ke=re),0===ke)break e;e.arraySet(te,ee,ie,ke,se),ne-=ke,ie+=ke,re-=ke,se+=ke,$.length-=ke;break}$.mode=R;break;case G:for(;de<14;){if(0===ne)break e;ne--,oe+=ee[ie++]<<de,de+=8}if($.nlen=257+(31&oe),oe>>>=5,de-=5,$.ndist=1+(31&oe),oe>>>=5,de-=5,$.ncode=4+(15&oe),oe>>>=4,de-=4,$.nlen>286||$.ndist>30){Y.msg="too many length or distance symbols",$.mode=V;break}$.have=0,$.mode=H;case H:for(;$.have<$.ncode;){for(;de<3;){if(0===ne)break e;ne--,oe+=ee[ie++]<<de,de+=8}$.lens[Ce[$.have++]]=7&oe,oe>>>=3,de-=3}for(;$.have<19;)$.lens[Ce[$.have++]]=0;if($.lencode=$.lendyn,$.lenbits=7,ze={bits:$.lenbits},ye=s(n,$.lens,0,19,$.lencode,0,$.work,ze),$.lenbits=ze.bits,ye){Y.msg="invalid code lengths set",$.mode=V;break}$.have=0,$.mode=K;case K:for(;$.have<$.nlen+$.ndist;){for(;ue=(Se=$.lencode[oe&(1<<$.lenbits)-1])>>>16&255,ge=65535&Se,!((we=Se>>>24)<=de);){if(0===ne)break e;ne--,oe+=ee[ie++]<<de,de+=8}if(ge<16)oe>>>=we,de-=we,$.lens[$.have++]=ge;else{if(16===ge){for(Be=we+2;de<Be;){if(0===ne)break e;ne--,oe+=ee[ie++]<<de,de+=8}if(oe>>>=we,de-=we,0===$.have){Y.msg="invalid bit length repeat",$.mode=V;break}_e=$.lens[$.have-1],ke=3+(3&oe),oe>>>=2,de-=2}else if(17===ge){for(Be=we+3;de<Be;){if(0===ne)break e;ne--,oe+=ee[ie++]<<de,de+=8}de-=we,_e=0,ke=3+(7&(oe>>>=we)),oe>>>=3,de-=3}else{for(Be=we+7;de<Be;){if(0===ne)break e;ne--,oe+=ee[ie++]<<de,de+=8}de-=we,_e=0,ke=11+(127&(oe>>>=we)),oe>>>=7,de-=7}if($.have+ke>$.nlen+$.ndist){Y.msg="invalid bit length repeat",$.mode=V;break}for(;ke--;)$.lens[$.have++]=_e}}if($.mode===V)break;if(0===$.lens[256]){Y.msg="invalid code -- missing end-of-block",$.mode=V;break}if($.lenbits=9,ze={bits:$.lenbits},ye=s(r,$.lens,0,$.nlen,$.lencode,0,$.work,ze),$.lenbits=ze.bits,ye){Y.msg="invalid literal/lengths set",$.mode=V;break}if($.distbits=6,$.distcode=$.distdyn,ze={bits:$.distbits},ye=s(o,$.lens,$.nlen,$.ndist,$.distcode,0,$.work,ze),$.distbits=ze.bits,ye){Y.msg="invalid distances set",$.mode=V;break}if($.mode=N,Z===f)break e;case N:$.mode=F;case F:if(ne>=6&&re>=258){Y.next_out=se,Y.avail_out=re,Y.next_in=ie,Y.avail_in=ne,$.hold=oe,$.bits=de,i(Y,fe),se=Y.next_out,te=Y.output,re=Y.avail_out,ie=Y.next_in,ee=Y.input,ne=Y.avail_in,oe=$.hold,de=$.bits,$.mode===R&&($.back=-1);break}for($.back=0;ue=(Se=$.lencode[oe&(1<<$.lenbits)-1])>>>16&255,ge=65535&Se,!((we=Se>>>24)<=de);){if(0===ne)break e;ne--,oe+=ee[ie++]<<de,de+=8}if(ue&&0==(240&ue)){for(ve=we,xe=ue,pe=ge;ue=(Se=$.lencode[pe+((oe&(1<<ve+xe)-1)>>ve)])>>>16&255,ge=65535&Se,!(ve+(we=Se>>>24)<=de);){if(0===ne)break e;ne--,oe+=ee[ie++]<<de,de+=8}oe>>>=ve,de-=ve,$.back+=ve}if(oe>>>=we,de-=we,$.back+=we,$.length=ge,0===ue){$.mode=P;break}if(32&ue){$.back=-1,$.mode=R;break}if(64&ue){Y.msg="invalid literal/length code",$.mode=V;break}$.extra=15&ue,$.mode=J;case J:if($.extra){for(Be=$.extra;de<Be;){if(0===ne)break e;ne--,oe+=ee[ie++]<<de,de+=8}$.length+=oe&(1<<$.extra)-1,oe>>>=$.extra,de-=$.extra,$.back+=$.extra}$.was=$.length,$.mode=L;case L:for(;ue=(Se=$.distcode[oe&(1<<$.distbits)-1])>>>16&255,ge=65535&Se,!((we=Se>>>24)<=de);){if(0===ne)break e;ne--,oe+=ee[ie++]<<de,de+=8}if(0==(240&ue)){for(ve=we,xe=ue,pe=ge;ue=(Se=$.distcode[pe+((oe&(1<<ve+xe)-1)>>ve)])>>>16&255,ge=65535&Se,!(ve+(we=Se>>>24)<=de);){if(0===ne)break e;ne--,oe+=ee[ie++]<<de,de+=8}oe>>>=ve,de-=ve,$.back+=ve}if(oe>>>=we,de-=we,$.back+=we,64&ue){Y.msg="invalid distance code",$.mode=V;break}$.offset=ge,$.extra=15&ue,$.mode=M;case M:if($.extra){for(Be=$.extra;de<Be;){if(0===ne)break e;ne--,oe+=ee[ie++]<<de,de+=8}$.offset+=oe&(1<<$.extra)-1,oe>>>=$.extra,de-=$.extra,$.back+=$.extra}if($.offset>$.dmax){Y.msg="invalid distance too far back",$.mode=V;break}$.mode=O;case O:if(0===re)break e;if(ke=fe-re,$.offset>ke){if((ke=$.offset-ke)>$.whave&&$.sane){Y.msg="invalid distance too far back",$.mode=V;break}ke>$.wnext?(ke-=$.wnext,be=$.wsize-ke):be=$.wnext-ke,ke>$.length&&(ke=$.length),me=$.window}else me=te,be=se-$.offset,ke=$.length;ke>re&&(ke=re),re-=ke,$.length-=ke;do{te[se++]=me[be++]}while(--ke);0===$.length&&($.mode=F);break;case P:if(0===re)break e;te[se++]=$.length,re--,$.mode=F;break;case Q:if($.wrap){for(;de<32;){if(0===ne)break e;ne--,oe|=ee[ie++]<<de,de+=8}if(fe-=re,Y.total_out+=fe,$.total+=fe,fe&&(Y.adler=$.check=$.flags?t($.check,te,fe,se-fe):a($.check,te,fe,se-fe)),fe=re,($.flags?oe:ae(oe))!==$.check){Y.msg="incorrect data check",$.mode=V;break}oe=0,de=0}$.mode=T;case T:if($.wrap&&$.flags){for(;de<32;){if(0===ne)break e;ne--,oe+=ee[ie++]<<de,de+=8}if(oe!==(4294967295&$.total)){Y.msg="incorrect length check",$.mode=V;break}oe=0,de=0}$.mode=U;case U:ye=h;break e;case V:ye=m;break e;case W:return w;case X:default:return b}return Y.next_out=se,Y.avail_out=re,Y.next_in=ie,Y.avail_in=ne,$.hold=oe,$.bits=de,($.wsize||fe!==Y.avail_out&&$.mode<V&&($.mode<Q||Z!==d))&&he(Y,Y.output,Y.next_out,fe-Y.avail_out)?($.mode=W,w):(le-=Y.avail_in,fe-=Y.avail_out,Y.total_in+=le,Y.total_out+=fe,$.total+=fe,$.wrap&&fe&&(Y.adler=$.check=$.flags?t($.check,te,fe,Y.next_out-fe):a($.check,te,fe,Y.next_out-fe)),Y.data_type=$.bits+($.last?64:0)+($.mode===R?128:0)+($.mode===N||$.mode===D?256:0),(0===le&&0===fe||Z===d)&&ye===c&&(ye=u),ye)}function be(e){if(!e||!e.state)return b;var a=e.state;return a.window&&(a.window=null),e.state=null,c}function me(e,a){var t;return e&&e.state?0==(2&(t=e.state).wrap)?b:(t.head=a,a.done=!1,c):b}function we(e,t){var i,s=t.length;return e&&e.state?0!==(i=e.state).wrap&&i.mode!==I?b:i.mode===I&&a(1,t,s,0)!==i.check?m:he(e,t,s,s)?(i.mode=W,w):(i.havedict=1,c):b}exports.inflateReset=se,exports.inflateReset2=ne,exports.inflateResetKeep=ie,exports.inflateInit=oe,exports.inflateInit2=re,exports.inflate=ke,exports.inflateEnd=be,exports.inflateGetHeader=me,exports.inflateSetDictionary=we,exports.inflateInfo="pako inflate (from Nodeca project)";
},{"../utils/common":"tbG5","./adler32":"uxo6","./crc32":"X4kj","./inffast":"LP5M","./inftrees":"uNlq"}],"xUUw":[function(require,module,exports) {
"use strict";module.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};
},{}],"WIli":[function(require,module,exports) {
"use strict";function t(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}module.exports=t;
},{}],"faQk":[function(require,module,exports) {
"use strict";var t=require("./zlib/inflate"),i=require("./utils/common"),n=require("./utils/strings"),r=require("./zlib/constants"),s=require("./zlib/messages"),o=require("./zlib/zstream"),e=require("./zlib/gzheader"),a=Object.prototype.toString;function u(h){if(!(this instanceof u))return new u(h);this.options=i.assign({chunkSize:16384,windowBits:0,to:""},h||{});var _=this.options;_.raw&&_.windowBits>=0&&_.windowBits<16&&(_.windowBits=-_.windowBits,0===_.windowBits&&(_.windowBits=-15)),!(_.windowBits>=0&&_.windowBits<16)||h&&h.windowBits||(_.windowBits+=32),_.windowBits>15&&_.windowBits<48&&0==(15&_.windowBits)&&(_.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new o,this.strm.avail_out=0;var w=t.inflateInit2(this.strm,_.windowBits);if(w!==r.Z_OK)throw new Error(s[w]);if(this.header=new e,t.inflateGetHeader(this.strm,this.header),_.dictionary&&("string"==typeof _.dictionary?_.dictionary=n.string2buf(_.dictionary):"[object ArrayBuffer]"===a.call(_.dictionary)&&(_.dictionary=new Uint8Array(_.dictionary)),_.raw&&(w=t.inflateSetDictionary(this.strm,_.dictionary))!==r.Z_OK))throw new Error(s[w])}function h(t,i){var n=new u(i);if(n.push(t,!0),n.err)throw n.msg||s[n.err];return n.result}function _(t,i){return(i=i||{}).raw=!0,h(t,i)}u.prototype.push=function(s,o){var e,u,h,_,w,d=this.strm,l=this.options.chunkSize,f=this.options.dictionary,p=!1;if(this.ended)return!1;u=o===~~o?o:!0===o?r.Z_FINISH:r.Z_NO_FLUSH,"string"==typeof s?d.input=n.binstring2buf(s):"[object ArrayBuffer]"===a.call(s)?d.input=new Uint8Array(s):d.input=s,d.next_in=0,d.avail_in=d.input.length;do{if(0===d.avail_out&&(d.output=new i.Buf8(l),d.next_out=0,d.avail_out=l),(e=t.inflate(d,r.Z_NO_FLUSH))===r.Z_NEED_DICT&&f&&(e=t.inflateSetDictionary(this.strm,f)),e===r.Z_BUF_ERROR&&!0===p&&(e=r.Z_OK,p=!1),e!==r.Z_STREAM_END&&e!==r.Z_OK)return this.onEnd(e),this.ended=!0,!1;d.next_out&&(0!==d.avail_out&&e!==r.Z_STREAM_END&&(0!==d.avail_in||u!==r.Z_FINISH&&u!==r.Z_SYNC_FLUSH)||("string"===this.options.to?(h=n.utf8border(d.output,d.next_out),_=d.next_out-h,w=n.buf2string(d.output,h),d.next_out=_,d.avail_out=l-_,_&&i.arraySet(d.output,d.output,h,_,0),this.onData(w)):this.onData(i.shrinkBuf(d.output,d.next_out)))),0===d.avail_in&&0===d.avail_out&&(p=!0)}while((d.avail_in>0||0===d.avail_out)&&e!==r.Z_STREAM_END);return e===r.Z_STREAM_END&&(u=r.Z_FINISH),u===r.Z_FINISH?(e=t.inflateEnd(this.strm),this.onEnd(e),this.ended=!0,e===r.Z_OK):u!==r.Z_SYNC_FLUSH||(this.onEnd(r.Z_OK),d.avail_out=0,!0)},u.prototype.onData=function(t){this.chunks.push(t)},u.prototype.onEnd=function(t){t===r.Z_OK&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=i.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg},exports.Inflate=u,exports.inflate=h,exports.inflateRaw=_,exports.ungzip=h;
},{"./zlib/inflate":"GIDK","./utils/common":"tbG5","./utils/strings":"Q3ZD","./zlib/constants":"xUUw","./zlib/messages":"gMAY","./zlib/zstream":"bdtv","./zlib/gzheader":"WIli"}],"f4vO":[function(require,module,exports) {
"use strict";var e=require("./lib/utils/common").assign,i=require("./lib/deflate"),r=require("./lib/inflate"),l=require("./lib/zlib/constants"),s={};e(s,i,r,l),module.exports=s;
},{"./lib/utils/common":"tbG5","./lib/deflate":"nFS2","./lib/inflate":"faQk","./lib/zlib/constants":"xUUw"}],"XGU4":[function(require,module,exports) {
"use strict";var t={zip:!1,format:"general",contentAlg:"A128CBC-HS256",protect:"*"};module.exports=t;
},{}],"msGP":[function(require,module,exports) {
var Buffer = require("buffer").Buffer;
var e=require("buffer").Buffer,t=require("../util"),r=require("./helpers").generateCEK,n=require("../jwk"),i=require("./helpers").slice,a=require("pako"),c=require("../algorithms/constants"),o=require("lodash/assign"),u=require("lodash/clone"),p=require("./defaults");function l(i,p,l){var s=!1,d=i.format||"general",f=!!i.protectAll,h=e.alloc(0);Object.defineProperty(this,"zip",{get:function(){return p.zip||""},enumerable:!0}),Object.defineProperty(this,"compact",{get:function(){return"compact"===d},enumerable:!0}),Object.defineProperty(this,"format",{get:function(){return d},enumerable:!0}),Object.defineProperty(this,"protected",{get:function(){return u(i.protect)},enumerable:!0}),Object.defineProperty(this,"header",{get:function(){return u(p)},enumerable:!0}),Object.defineProperty(this,"update",{value:function(r,n){if(s)throw new Error("already final");return null!=r&&(r=t.asBuffer(r,n),h=h.length?e.concat([h,r],h.length+r.length):r),this}}),Object.defineProperty(this,"final",{value:function(y,k){if(s)return Promise.reject(new Error("already final"));this.update(y,k),s=!0;var g,m=Promise.resolve({}),v=p.enc;m=(m=m.then(function(e){return i.cek&&(g=n.asKey(i.cek)),e})).then(function(e){var a=Promise.all(l);return a=(a=a.then(function(e){var a=1===e.length;return e=e.map(function(e){return function(e,a){var c={};c=o(c,p),c=o(c,e.header);var l,s,d=e.key,f=c.alg;return 0===(c.alg||"").indexOf("ECDH-ES")?(l=d.keystore.temp(),s=e.epk?Promise.resolve(e.epk).then(function(t){e.header.epk=t.toJSON(!1,["kid"]),c.epk=t.toObject(!0,["kid"])}):l.generate("EC",d.get("crv")).then(function(t){e.header.epk=t.toJSON(!1,["kid"]),c.epk=t.toObject(!0,["kid"])})):s=Promise.resolve(),s=(s=s.then(function(){var e,t;return"dir"===f&&a?t=(g=Promise.resolve(d)).then(function(e){return v||(c.enc=p.enc=v=e.algorithms(n.MODE_ENCRYPT)[0]),{once:!0,direct:!0}}):(g||(v||(c.enc=p.enc=v=i.contentAlg),g=r(v)),t=(t=g.then(function(t){return e=t.get("k",!0),d})).then(function(t){return t.wrap(f,e,c)})),t})).then(function(r){if(r.once&&!a)return Promise.reject(new Error("cannot use 'alg':'"+f+"' with multiple recipients"));var i,c={};return r.data&&(i=r.data,i=t.base64url.encode(i)),r.direct&&i?g=n.asKey({kty:"oct",k:i}):i&&(c.encrypted_key=i),e.header&&Object.keys(e.header).length&&(c.header=u(e.header||{})),r.header&&(c.header=o(c.header||{},r.header)),c})}(e,a)}),Promise.all(e)})).then(function(t){return e.recipients=t.filter(function(e){return!!e}),e})});var b={};switch(m=(m=(m=m.then(function(e){var r,n,a,c;return a=u(p),f&&1===e.recipients.length||"compact"===d?(r={},r=o({},a,e.recipients[0].header),n=Object.keys(r).length,a=void 0,c=0,delete e.recipients[0].header,0===Object.keys(e.recipients[0]).length&&e.recipients.splice(0,1)):(r={},n=0,c=Object.keys(a).length,i.protect.forEach(function(e){e in a&&(r[e]=a[e],n++,delete a[e],c--)}),e.recipients=(e.recipients||[]).map(function(e){var t=(e=e||{}).header;return t&&(Object.keys(t).forEach(function(e){e in r&&delete t[e]}),Object.keys(t).length||delete e.header),e})),e.recipients&&0!==e.recipients.length||delete e.recipients,a&&c>0&&(b=o(b,a),e.unprotected=a),r&&n>0&&(b=o(b,r),r=JSON.stringify(r),e.protected=t.base64url.encode(r,"utf8")),e})).then(function(t){var r=h;return b.zip?"DEF"===b.zip?new Promise(function(n,i){try{var c=a.deflateRaw(e.from(r,"binary"));t.plaintext=c,n(t)}catch(o){i(o)}}):Promise.reject(new Error("unsupported 'zip' mode")):(t.plaintext=r,t)})).then(function(r){b.adata=r.protected,"aad"in i&&null!=i.aad&&(b.adata+="."+i.aad,b.adata=e.from(b.adata,"utf8"));var n=i.iv||t.randomBytes(c.NONCELENGTH[v]/8);"string"==typeof n&&(n=t.base64url.decode(n)),b.iv=n,"recipients"in r&&1===r.recipients.length&&(b.kdata=r.recipients[0].encrypted_key),"epu"in i&&null!=i.epu&&(b.epu=i.epu),"epv"in i&&null!=i.epv&&(b.epv=i.epv);var a=r.plaintext;return delete r.plaintext,g.then(function(e){var c=e.encrypt(v,a,b);return c=c.then(function(e){return r.iv=t.base64url.encode(n,"binary"),"aad"in i&&null!=i.aad&&(r.aad=i.aad),r.ciphertext=t.base64url.encode(e.data,"binary"),r.tag=t.base64url.encode(e.tag,"binary"),r})})}),d){case"compact":m=m.then(function(e){var t=new Array(5);return t[0]=e.protected,e.recipients&&e.recipients[0]&&(t[1]=e.recipients[0].encrypted_key),t[2]=e.iv,t[3]=e.ciphertext,t[4]=e.tag,t=t.join(".")});break;case"flattened":m=m.then(function(e){var t={},r=e.recipients&&e.recipients[0];return e.protected&&(t.protected=e.protected),e.unprotected&&(t.unprotected=e.unprotected),["header","encrypted_key"].forEach(function(e){r&&e in r&&r[e]&&("object"!=typeof r[e]||Object.keys(r[e]).length)&&(t[e]=r[e])}),e.aad&&(t.aad=e.aad),t.iv=e.iv,t.ciphertext=e.ciphertext,t.tag=e.tag,t});break;case"general":m=m.then(function(e){var t=e.recipients||[];return(t=(t=t.map(function(e){if(Object.keys(e).length)return e})).filter(function(e){return!!e})).length?e.recipients=t:delete e.recipients,e})}return m}})}function s(e,r){var a=e,c=1,s=r;if(0===arguments.length)throw new Error("at least one recipient must be provided");1===arguments.length?(s=e,c=0,a={}):n.isKey(e)||e&&"kty"in e||e&&"key"in e&&(n.isKey(e.key)||"kty"in e.key)?(s=e,c=0,a={}):a=u(e),Array.isArray(s)||(s=i(arguments,c)),a=o(u(p),a);var d=u(a.fields||{});switch(a.zip&&(d.zip="boolean"==typeof a.zip?!!a.zip&&"DEF":a.zip),a.format=(a.compact?"compact":a.format)||"general",a.format){case"compact":if("aad"in e)throw new Error("additional authenticated data cannot be used for compact serialization");case"flattened":if(s.length>1)throw new Error("too many recipients for compact serialization")}var f=!1;if("compact"===a.format||"*"===a.protect)f=!0,a.protect=Object.keys(d).concat("enc");else if("string"==typeof a.protect)a.protect=[a.protect];else if(Array.isArray(a.protect))a.protect=a.protect.concat();else{if(a.protect)throw new Error("protect must be a list of fields");a.protect=[]}if(f&&1<s.length)throw new Error("too many recipients to protect all header parameters");return s=s.map(function(e,t){var r;return r=e&&"kty"in e?(r=n.asKey(e)).then(function(e){return{key:e}}):e?(r=n.asKey(e.key)).then(function(t){return{header:e.header,reference:e.reference,key:t}}):Promise.reject(new Error("missing key for recipient "+t)),e.epk&&(r=r.then(function(t){return n.asKey(e.epk).then(function(e){return t.epk=e,t})})),r=r.then(function(e){var r=e.key,i=e.header||{};e.header=i;var a={};if(a=o(a,d),(a=o(a,e.header)).alg||(a.alg=r.algorithms(n.MODE_WRAP)[0],i.alg=a.alg),!a.alg)return Promise.reject(new Error("key not valid for encrypting to recipient "+t));i.alg=a.alg;var c,u=e.reference;if(delete e.reference,void 0===u?u=(u=["kid","jku","x5c","x5t","x5u"].some(function(e){return e in i}))?null:"kid":"boolean"==typeof u&&(u=u?"kid":null),u)if(c=r.toJSON(),"jwk"===u){if("oct"===r.kty)return Promise.reject(new Error("cannot embed key"));i.jwk=c}else u in c&&(i[u]=c[u]);return e=Object.freeze(e)})}),new l({aad:"aad"in a?t.base64url.encode(a.aad||""):null,contentAlg:a.contentAlg,format:a.format,protect:a.protect,cek:a.cek,iv:a.iv,protectAll:f},d,s)}module.exports={encrypter:l,createEncrypt:s};
},{"../util":"FgzD","./helpers":"rOqT","../jwk":"PkJZ","pako":"f4vO","../algorithms/constants":"jbn0","lodash/assign":"vlVw","lodash/clone":"ACgM","./defaults":"XGU4","buffer":"peL6"}],"i2Eh":[function(require,module,exports) {
var Buffer = require("buffer").Buffer;
var e=require("buffer").Buffer,r=require("../util/base64url"),t=require("../util/algconfig"),n=require("../jwk"),i=require("../util/merge"),o=require("pako"),c={algorithms:"*"};function a(a,u){var p,f;if(n.isKey(a))f=(p=a).keystore;else{if(!n.isKeyStore(a))throw new TypeError("Keystore must be provided");f=a}u=i(c,u),Object.defineProperty(this,"decrypt",{value:function(c,a){var d=(a=i({},u,a||{})).handlers||{},h=Object.keys(d),l=new t(a.algorithms);if("string"==typeof c)c={protected:(c=c.split("."))[0],recipients:[{encrypted_key:c[1]}],iv:c[2],ciphertext:c[3],tag:c[4]};else if(!c||"object"!=typeof c)throw new Error("invalid input");"encrypted_key"in c&&(c.recipients=[{encrypted_key:c.encrypted_key}]);var s,y,v,m,g,k=c.recipients||[{}];return Promise.resolve(k).then(function(e){if(c.protected){y=r.decode(c.protected).toString("utf8");var t=(y=JSON.parse(y)).crit;if(t){if(!Array.isArray(t))return Promise.reject(new Error("Invalid 'crit' header"));for(var o=0;t.length>o;o++)if(-1===h.indexOf(t[o]))return Promise.reject(new Error("Critical extension is not supported: "+t[o]))}s=y,y=Object.keys(y)}else s={},y=[];return s=i(c.unprotected||{},s),e=e.map(function(e){var r=Promise.resolve(),t=e.header||{};return t=i(t,s),e.header=t,e.protected=y,l.match(t.alg)||(r=r.then(function(){return Promise.reject(new Error("Algorithm not allowed: "+t.alg))})),l.match(t.enc)||(r=r.then(function(){return Promise.reject(new Error("Algorithm not allowed: "+t.enc))})),t.epk&&(r=(r=r.then(function(){return n.asKey(t.epk)})).then(function(e){t.epk=e.toObject(!1)})),r.then(function(){return e})}),Promise.all(e)}).then(function(e){var t={};return new Promise(function(i,o){var c=function(){var a=e.shift();if(a){var u=Promise.resolve(a);(u=(u=u.then(function(e){var t=g=e.encrypted_key||"";return t=r.decode(t),(v=p||f.get({use:"enc",alg:e.header.alg,kid:e.header.kid}))?v.unwrap(e.header.alg,t,e.header):Promise.reject()})).then(function(e){m={kty:"oct",k:r.encode(e)},m=n.asKey(m),t.key=v,t.header=a.header,t.protected=a.protected,i(t)})).catch(c)}else o(new Error("no key found"))};c()})}).then(function(e){return e.iv=c.iv,e.tag=c.tag,e.ciphertext=c.ciphertext,e}).then(function(e){var r=[];return h.forEach(function(t){var n;"function"==typeof(t=d[t])?n=t(e):"object"==typeof t&&"function"==typeof t.prepare&&(n=t.prepare(e)),n&&r.push(Promise.resolve(n))}),Promise.all(r).then(function(){return e})}).then(function(t){return e.isBuffer(t.ciphertext)||(t.ciphertext=r.decode(t.ciphertext)),t}).then(function(e){var r=c.protected;"aad"in c&&null!=c.aad&&(r+="."+c.aad);var t={iv:e.iv,adata:r,tag:e.tag,kdata:g,epu:e.epu,epv:e.epv},n=e.ciphertext;return delete e.iv,delete e.tag,delete e.ciphertext,m.then(function(r){return r.decrypt(e.header.enc,n,t).then(function(r){return e.payload=e.plaintext=r,e})})}).then(function(r){return"DEF"===r.header.zip?new Promise(function(t,n){try{var i=o.inflateRaw(e.from(r.plaintext));r.payload=r.plaintext=e.from(i),t(r)}catch(c){n(c)}}):r}).then(function(e){var r=[];return h.forEach(function(t){var n;"object"==typeof(t=d[t])&&"function"==typeof t.complete&&(n=t.complete(e)),n&&r.push(Promise.resolve(n))}),Promise.all(r).then(function(){return e})})}})}function u(e,r){return new a(e,r)}module.exports={decrypter:a,createDecrypt:u};
},{"../util/base64url":"Ma8i","../util/algconfig":"doCb","../jwk":"PkJZ","../util/merge":"KrzH","pako":"f4vO","buffer":"peL6"}],"CPEN":[function(require,module,exports) {
"use strict";var e={createEncrypt:require("./encrypt").createEncrypt,createDecrypt:require("./decrypt").createDecrypt};module.exports=e;
},{"./encrypt":"msGP","./decrypt":"i2Eh"}],"VPLf":[function(require,module,exports) {
"use strict";var e={JWE:require("../jwe"),JWS:require("../jws"),util:require("../util")};function r(r){var t,i,u,n=r.split(".");if(3===n.length)t="JWS",i=function(t,i){return e.JWS.createVerify(t).verify(r,i)};else{if(5!==n.length)throw new TypeError("invalid jose serialization");t="JWE",i=function(t,i){return e.JWE.createDecrypt(t).decrypt(r,i)}}return u=e.util.base64url.decode(n[0],"utf8"),u=JSON.parse(u),{type:t,format:"compact",input:r,header:u,perform:i}}module.exports=r;
},{"../jwe":"CPEN","../jws":"tR3Y","../util":"FgzD"}],"ijGq":[function(require,module,exports) {
"use strict";var e=require("../util/merge"),t={JWE:require("../jwe"),JWS:require("../jws"),util:require("../util")};function r(r){var u,c,i;if("signatures"in r||"signature"in r)u="JWS",c=function(e,u){return t.JWS.createVerify(e).verify(r,u)},i=(i=r.signatures||[{protected:r.protected,header:r.header,signature:r.signature}]).map(function(r){var u,c={};return r.header&&(c=e(c,r.header)),r.protected&&(u=r.protected,u=t.util.base64url.decode(u,"utf8"),u=JSON.parse(u),c=e(c,u)),c});else if("ciphertext"in r){u="JWE",c=function(e,u){return t.JWE.createDecrypt(e).decrypt(r,u)};var n={};r.protected&&(n.protected=r.protected,n.protected=t.util.base64url.decode(n.protected,"utf8"),n.protected=JSON.parse(n.protected)),r.unprotected&&(n.unprotected=r.unprotected),i=(i=r.recipients||[{}]).map(function(t){var r={};return t.header&&(r=e(r,t.header)),n.unprotected&&(r=e(r,n.unprotected)),n.protected&&(r=e(r,n.protected)),r})}return{type:u,format:"json",input:r,all:i,perform:c}}module.exports=r;
},{"../util/merge":"KrzH","../jwe":"CPEN","../jws":"tR3Y","../util":"FgzD"}],"X13R":[function(require,module,exports) {
var Buffer = require("buffer").Buffer;
var r=require("buffer").Buffer,e=require("./compact"),i=require("./json"),t=module.exports=function(t){if(r.isBuffer(t))return e(t.toString("ascii"));if("string"==typeof t)return e(t);if(t)return i(t);throw new TypeError("invalid input")};t.compact=e,t.json=i;
},{"./compact":"VPLf","./json":"ijGq","buffer":"peL6"}],"vwdx":[function(require,module,exports) {
var Buffer = require("buffer").Buffer;
var global = arguments[3];
var process = require("process");
var e=require("buffer").Buffer,r=arguments[3],i=require("process");"undefined"==typeof Promise&&require("es6-promise").polyfill(),void 0===e&&((r||window).Buffer=require("buffer").Buffer),void 0===i&&((r||window).process=require("process")),i.version||(i.version="");var u=require("./jws");module.exports={JWA:require("./algorithms"),JWE:require("./jwe"),JWK:require("./jwk"),JWS:u,util:require("./util"),parse:require("./parse"),canYouSee:u.createVerify};
},{"es6-promise":"Zt7E","buffer":"peL6","process":"pBGv","./jws":"tR3Y","./algorithms":"Nk5n","./jwe":"CPEN","./jwk":"PkJZ","./util":"FgzD","./parse":"X13R"}],"vWSN":[function(require,module,exports) {
function r(r,e){for(var n=-1,o=r.length;++n<o&&!1!==e(r[n],n,r););return r}module.exports=r;
},{}],"W1oq":[function(require,module,exports) {
function r(r,e,n){n||(n={});for(var o=-1,t=e.length;++o<t;){var u=e[o];n[u]=r[u]}return n}module.exports=r;
},{}],"PhnU":[function(require,module,exports) {
var t="[object Function]",n=/^\[object .+?Constructor\]$/;function o(t){return!!t&&"object"==typeof t}var r=Object.prototype,e=Function.prototype.toString,c=r.hasOwnProperty,u=r.toString,i=RegExp("^"+e.call(c).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function l(t,n){var o=null==t?void 0:t[n];return f(o)?o:void 0}function p(n){return a(n)&&u.call(n)==t}function a(t){var n=typeof t;return!!t&&("object"==n||"function"==n)}function f(t){return null!=t&&(p(t)?i.test(e.call(t)):o(t)&&n.test(t))}module.exports=l;
},{}],"X7qz":[function(require,module,exports) {
var t=9007199254740991,n="[object Arguments]",e="[object Function]",r="[object GeneratorFunction]",o=Object.prototype,c=o.hasOwnProperty,u=o.toString,l=o.propertyIsEnumerable;function a(t){return i(t)&&c.call(t,"callee")&&(!l.call(t,"callee")||u.call(t)==n)}function f(t){return null!=t&&b(t.length)&&!p(t)}function i(t){return y(t)&&f(t)}function p(t){var n=j(t)?u.call(t):"";return n==e||n==r}function b(n){return"number"==typeof n&&n>-1&&n%1==0&&n<=t}function j(t){var n=typeof t;return!!t&&("object"==n||"function"==n)}function y(t){return!!t&&"object"==typeof t}module.exports=a;
},{}],"xCMa":[function(require,module,exports) {
var t="[object Array]",r="[object Function]",n=/^\[object .+?Constructor\]$/;function o(t){return!!t&&"object"==typeof t}var e=Object.prototype,c=Function.prototype.toString,u=e.hasOwnProperty,a=e.toString,i=RegExp("^"+c.call(u).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),l=p(Array,"isArray"),f=9007199254740991;function p(t,r){var n=null==t?void 0:t[r];return g(n)?n:void 0}function y(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=f}var b=l||function(r){return o(r)&&y(r.length)&&a.call(r)==t};function s(t){return v(t)&&a.call(t)==r}function v(t){var r=typeof t;return!!t&&("object"==r||"function"==r)}function g(t){return null!=t&&(s(t)?i.test(c.call(t)):o(t)&&n.test(t))}module.exports=b;
},{}],"KJil":[function(require,module,exports) {
var r=require("lodash._getnative"),t=require("lodash.isarguments"),n=require("lodash.isarray"),e=/^\d+$/,o=Object.prototype,u=o.hasOwnProperty,c=r(Object,"keys"),f=9007199254740991;function i(r){return function(t){return null==t?void 0:t[r]}}var l=i("length");function a(r){return null!=r&&s(l(r))}function p(r,t){return r="number"==typeof r||e.test(r)?+r:-1,t=null==t?f:t,r>-1&&r%1==0&&r<t}function s(r){return"number"==typeof r&&r>-1&&r%1==0&&r<=f}function v(r){for(var e=d(r),o=e.length,c=o&&r.length,f=!!c&&s(c)&&(n(r)||t(r)),i=-1,l=[];++i<o;){var a=e[i];(f&&p(a,c)||u.call(r,a))&&l.push(a)}return l}function y(r){var t=typeof r;return!!r&&("object"==t||"function"==t)}var h=c?function(r){var t=null==r?void 0:r.constructor;return"function"==typeof t&&t.prototype===r||"function"!=typeof r&&a(r)?v(r):y(r)?c(r):[]}:v;function d(r){if(null==r)return[];y(r)||(r=Object(r));var e=r.length;e=e&&s(e)&&(n(r)||t(r))&&e||0;for(var o=r.constructor,c=-1,f="function"==typeof o&&o.prototype===r,i=Array(e),l=e>0;++c<e;)i[c]=c+"";for(var a in r)l&&p(a,e)||"constructor"==a&&(f||!u.call(r,a))||i.push(a);return i}module.exports=h;
},{"lodash._getnative":"PhnU","lodash.isarguments":"X7qz","lodash.isarray":"xCMa"}],"j0DA":[function(require,module,exports) {
var e=require("lodash._basecopy"),r=require("lodash.keys");function o(o,u){return null==u?o:e(u,r(u),o)}module.exports=o;
},{"lodash._basecopy":"W1oq","lodash.keys":"KJil"}],"EVAa":[function(require,module,exports) {
var r=e();function e(r){return function(e,n,t){for(var o=-1,u=Object(e),a=t(e),f=a.length;f--;){var c=a[r?f:++o];if(!1===n(u[c],c,u))break}return e}}module.exports=r;
},{}],"c6fl":[function(require,module,exports) {
var global = arguments[3];
var e=arguments[3],r=require("lodash._arraycopy"),t=require("lodash._arrayeach"),n=require("lodash._baseassign"),a=require("lodash._basefor"),c=require("lodash.isarray"),o=require("lodash.keys"),u="[object Arguments]",s="[object Array]",i="[object Boolean]",b="[object Date]",f="[object Error]",j="[object Function]",y="[object Map]",l="[object Number]",p="[object Object]",h="[object RegExp]",d="[object Set]",v="[object String]",A="[object WeakMap]",w="[object ArrayBuffer]",g="[object Float32Array]",x="[object Float64Array]",q="[object Int8Array]",m="[object Int16Array]",I="[object Int32Array]",O="[object Uint8Array]",U="[object Uint8ClampedArray]",_="[object Uint16Array]",B="[object Uint32Array]",F=/\w*$/,S={};S[u]=S[s]=S[w]=S[i]=S[b]=S[g]=S[x]=S[q]=S[m]=S[I]=S[l]=S[p]=S[h]=S[v]=S[O]=S[U]=S[_]=S[B]=!0,S[f]=S[j]=S[y]=S[d]=S[A]=!1;var k=Object.prototype,E=k.hasOwnProperty,M=k.toString,C=e.ArrayBuffer,D=e.Uint8Array;function L(e,a,o,s,i,b,f){var y;if(o&&(y=i?o(e,s,i):o(e)),void 0!==y)return y;if(!z(e))return e;var l=c(e);if(l){if(y=R(e),!a)return r(e,y)}else{var h=M.call(e),d=h==j;if(h!=p&&h!=u&&(!d||i))return S[h]?$(e,h,a):i?e:{};if(y=W(d?{}:e),!a)return n(y,e)}b||(b=[]),f||(f=[]);for(var v=b.length;v--;)if(b[v]==e)return f[v];return b.push(e),f.push(y),(l?t:N)(e,function(r,t){y[t]=L(r,a,o,t,e,b,f)}),y}function N(e,r){return a(e,r,o)}function P(e){var r=new C(e.byteLength);return new D(r).set(new D(e)),r}function R(e){var r=e.length,t=new e.constructor(r);return r&&"string"==typeof e[0]&&E.call(e,"index")&&(t.index=e.index,t.input=e.input),t}function W(e){var r=e.constructor;return"function"==typeof r&&r instanceof r||(r=Object),new r}function $(e,r,t){var n=e.constructor;switch(r){case w:return P(e);case i:case b:return new n(+e);case g:case x:case q:case m:case I:case O:case U:case _:case B:var a=e.buffer;return new n(t?P(a):a,e.byteOffset,e.length);case l:case v:return new n(e);case h:var c=new n(e.source,F.exec(e));c.lastIndex=e.lastIndex}return c}function z(e){var r=typeof e;return!!e&&("object"==r||"function"==r)}module.exports=L;
},{"lodash._arraycopy":"Mkgn","lodash._arrayeach":"vWSN","lodash._baseassign":"j0DA","lodash._basefor":"EVAa","lodash.isarray":"xCMa","lodash.keys":"KJil"}],"setI":[function(require,module,exports) {
function n(n,t,u){if("function"!=typeof n)return r;if(void 0===t)return n;switch(u){case 1:return function(r){return n.call(t,r)};case 3:return function(r,u,e){return n.call(t,r,u,e)};case 4:return function(r,u,e,c){return n.call(t,r,u,e,c)};case 5:return function(r,u,e,c,i){return n.call(t,r,u,e,c,i)}}return function(){return n.apply(t,arguments)}}function r(n){return n}module.exports=n;
},{}],"kyEP":[function(require,module,exports) {
var n=/^\d+$/,r=9007199254740991;function t(n){return function(r){return null==r?void 0:r[n]}}var u=t("length");function e(n){return null!=n&&i(u(n))}function o(t,u){return t="number"==typeof t||n.test(t)?+t:-1,u=null==u?r:u,t>-1&&t%1==0&&t<u}function f(n,r,t){if(!c(t))return!1;var u=typeof r;if("number"==u?e(t)&&o(r,t.length):"string"==u&&r in t){var f=t[r];return n==n?n===f:f!=f}return!1}function i(n){return"number"==typeof n&&n>-1&&n%1==0&&n<=r}function c(n){var r=typeof n;return!!n&&("object"==r||"function"==r)}module.exports=f;
},{}],"Ep7Q":[function(require,module,exports) {
var e=require("lodash._baseclone"),o=require("lodash._bindcallback"),r=require("lodash._isiterateecall");function a(a,l,n,t){return l&&"boolean"!=typeof l&&r(a,l,n)?l=!1:"function"==typeof l&&(t=n,n=l,l=!1),"function"==typeof n?e(a,l,o(n,t,3)):e(a,l)}module.exports=a;
},{"lodash._baseclone":"c6fl","lodash._bindcallback":"setI","lodash._isiterateecall":"kyEP"}],"udAx":[function(require,module,exports) {
var Buffer = require("buffer").Buffer;
var e=require("buffer").Buffer,t=require("lodash.clone"),r=require("node-jose");function n(t){t.loc=t.loc||void 0,t.tag=t.tag||void 0,Object.defineProperty(this,"enc",{get:function(){return t.enc},enumerable:!0}),Object.defineProperty(this,"key",{get:function(){return t.key},enumerable:!0}),Object.defineProperty(this,"iv",{get:function(){return t.iv},enumerable:!0}),Object.defineProperty(this,"aad",{get:function(){return t.aad},enumerable:!0}),Object.defineProperty(this,"loc",{get:function(){return t.loc},set:function(e){t.loc=e},enumerable:!0}),Object.defineProperty(this,"tag",{get:function(){return t.tag},enumerable:!0}),Object.defineProperty(this,"toJSON",{value:function(){var e=t.key.get("k",!0),n={};return n.enc=t.enc,n.key=r.util.base64url.encode(e),n.iv=r.util.base64url.encode(t.iv),n.aad=t.aad,t.loc&&(n.loc=t.loc),t.tag&&(n.tag=r.util.base64url.encode(t.tag)),n}}),Object.defineProperty(this,"toJWE",{value:function(e){var n=this;return r.JWK.asKey(e).then(function(e){var a={header:{alg:"dir"},key:e,reference:!1},i={compact:!0,contentAlg:t.enc},u=n.toJSON();return u=JSON.stringify(u),r.JWE.createEncrypt(i,a).final(u,"utf8")})}}),Object.defineProperty(this,"encrypt",{value:function(n){var a={iv:t.iv,adata:new e(t.aad,"utf8")};return n=r.util.asBuffer(n),t.key.encrypt(t.enc,n,a).then(function(e){var r=e.data;return t.tag=e.tag,r})}}),Object.defineProperty(this,"decrypt",{value:function(n){var a={iv:t.iv,adata:new e(t.aad,"utf8"),mac:t.tag};return n=r.util.asBuffer(n),t.key.decrypt(t.enc,n,a).then(function(e){return e})}})}var a={create:function(){var e=r.util.randomBytes(12),t=(new Date).toISOString(),a=r.JWK.createKeyStore().generate("oct",256);return a=a.then(function(r){return new n({enc:"A256GCM",key:r,iv:e,aad:t})})},fromJWE:function(e,t){return r.JWK.asKey(e).then(function(e){return r.JWE.createDecrypt(e).decrypt(t)}).then(function(e){return e=e.plaintext.toString("utf8"),e=JSON.parse(e),a.fromJSON(e)})},fromJSON:function(a){var i=t(a);return(a.key?r.JWK.asKey({kty:"oct",k:a.key}):Promise.resolve()).then(function(t){return t&&(i.key=t),"iv"in i&&(i.iv=e.isBuffer(i.iv)?i.iv:r.util.base64url.decode(i.iv)),"tag"in i&&(i.tag=e.isBuffer(i.tag)?i.tag:r.util.base64url.decode(i.tag)),new n(i)})}};module.exports=a;
},{"lodash.clone":"Ep7Q","node-jose":"vwdx","buffer":"peL6"}],"uzHO":[function(require,module,exports) {
"use strict";var e=require("@babel/runtime-corejs2/core-js/object/define-property"),r=require("@babel/runtime-corejs2/helpers/interopRequireDefault");e(exports,"__esModule",{value:!0}),exports.default=t;var u=r(require("@babel/runtime-corejs2/core-js/promise"));function t(e){return e instanceof ArrayBuffer?u.default.resolve(e):e.toArrayBuffer?u.default.resolve(e.toArrayBuffer()):e.buffer?u.default.resolve(e.buffer):new u.default(function(r,u){var t=new FileReader;t.onload=function(){r(new Uint8Array(this.result))},t.onerror=u,t.readAsArrayBuffer(e)})}
},{"@babel/runtime-corejs2/core-js/object/define-property":"eIqn","@babel/runtime-corejs2/helpers/interopRequireDefault":"LXwi","@babel/runtime-corejs2/core-js/promise":"eOfj"}],"UfRN":[function(require,module,exports) {
var e=require("lodash._baseclone"),o=require("lodash._bindcallback");function r(r,n,a){return"function"==typeof n?e(r,!0,o(n,a,3)):e(r,!0)}module.exports=r;
},{"lodash._baseclone":"c6fl","lodash._bindcallback":"setI"}],"VN5C":[function(require,module,exports) {
"use strict";var e=require("lodash.clonedeep"),t=require("node-jose");function r(t){t=e(t||{}),["createDate","expirationDate","bindDate"].forEach(function(e){e in t&&t[e]&&(t[e]="string"==typeof t[e]?new Date(Date.parse(t[e])):t[e])}),Object.defineProperty(this,"uri",{get:function(){return t.uri||""},enumerable:!0}),Object.defineProperty(this,"jwk",{get:function(){return t.jwk||void 0},enumerable:!0}),Object.defineProperty(this,"userId",{get:function(){return t.userId||""},enumerable:!0}),Object.defineProperty(this,"clientId",{get:function(){return t.clientId||""},enumerable:!0}),Object.defineProperty(this,"createDate",{get:function(){return t.createDate||void 0},enumerable:!0}),Object.defineProperty(this,"expirationDate",{get:function(){return t.expirationDate||void 0},enumerable:!0}),Object.defineProperty(this,"bindDate",{get:function(){return t.bindDate||void 0},enumerable:!0}),Object.defineProperty(this,"resourceUri",{get:function(){return t.resourceUri||""},enumerable:!0})}r.prototype.asKey=function(){return this.jwk?t.JWK.asKey(this.jwk):Promise.reject(new Error("'jwk' not set"))},r.prototype.toJSON=function(){var t=this,r={};return Object.keys(this).forEach(function(n){var i=t[n];"function"!=typeof i&&void 0!==i&&(i instanceof Date&&(i=i.toISOString()),r[n]=e(i))}),r},r.fromObject=function(e){if(!e)throw new TypeError("representation required");return e instanceof r?e:new r(e)},module.exports=r;
},{"lodash.clonedeep":"UfRN","node-jose":"vwdx"}],"itZZ":[function(require,module,exports) {
var global = arguments[3];
var r,a=arguments[3],n=a.crypto||a.msCrypto;if(n&&n.getRandomValues){var t=new Uint8Array(16);r=function(){return n.getRandomValues(t),t}}if(!r){var e=new Array(16);r=function(){for(var r,a=0;a<16;a++)0==(3&a)&&(r=4294967296*Math.random()),e[a]=r>>>((3&a)<<3)&255;return e}}module.exports=r;
},{}],"ZAJP":[function(require,module,exports) {
for(var r=require("./rng"),e=[],n={},o=0;o<256;o++)e[o]=(o+256).toString(16).substr(1),n[e[o]]=o;function a(r,e,o){var a=e&&o||0,s=0;for(e=e||[],r.toLowerCase().replace(/[0-9a-f]{2}/g,function(r){s<16&&(e[a+s++]=n[r])});s<16;)e[a+s++]=0;return e}function s(r,n){var o=n||0,a=e;return a[r[o++]]+a[r[o++]]+a[r[o++]]+a[r[o++]]+"-"+a[r[o++]]+a[r[o++]]+"-"+a[r[o++]]+a[r[o++]]+"-"+a[r[o++]]+a[r[o++]]+"-"+a[r[o++]]+a[r[o++]]+a[r[o++]]+a[r[o++]]+a[r[o++]]+a[r[o++]]}var t=r(),v=[1|t[0],t[1],t[2],t[3],t[4],t[5]],c=16383&(t[6]<<8|t[7]),i=0,u=0;function f(r,e,n){var o=e&&n||0,a=e||[],t=void 0!==(r=r||{}).clockseq?r.clockseq:c,f=void 0!==r.msecs?r.msecs:(new Date).getTime(),d=void 0!==r.nsecs?r.nsecs:u+1,l=f-i+(d-u)/1e4;if(l<0&&void 0===r.clockseq&&(t=t+1&16383),(l<0||f>i)&&void 0===r.nsecs&&(d=0),d>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");i=f,u=d,c=t;var g=(1e4*(268435455&(f+=122192928e5))+d)%4294967296;a[o++]=g>>>24&255,a[o++]=g>>>16&255,a[o++]=g>>>8&255,a[o++]=255&g;var m=f/4294967296*1e4&268435455;a[o++]=m>>>8&255,a[o++]=255&m,a[o++]=m>>>24&15|16,a[o++]=m>>>16&255,a[o++]=t>>>8|128,a[o++]=255&t;for(var p=r.node||v,w=0;w<6;w++)a[o+w]=p[w];return e||s(a)}function d(e,n,o){var a=n&&o||0;"string"==typeof e&&(n="binary"==e?new Array(16):null,e=null);var t=(e=e||{}).random||(e.rng||r)();if(t[6]=15&t[6]|64,t[8]=63&t[8]|128,n)for(var v=0;v<16;v++)n[a+v]=t[v];return n||s(t)}var l=d;l.v1=f,l.v4=d,l.parse=a,l.unparse=s,module.exports=l;
},{"./rng":"itZZ"}],"gU9z":[function(require,module,exports) {
"use strict";var e=require("node-jose"),t=require("uuid"),r={KeyObject:require("./keyobject")};function n(){var e=null,n={},i={};Object.defineProperty(this,"ephemeralKey",{get:function(){return e},set:function(t){e=t?r.KeyObject.fromObject(t):null},enumerable:!0}),Object.defineProperty(this,"clientInfo",{get:function(){return n},set:function(e){n=e||{}},enumerable:!0}),Object.defineProperty(this,"serverInfo",{get:function(){return i},set:function(e){i=e||{}},enumerable:!0}),Object.defineProperty(this,"requestId",{value:function(){return t()}})}n.prototype.createECDHKey=function(){var t=this.clientInfo,n=e.JWK.createKeyStore(),i=n.generate("EC","P-256");return i=i.then(function(e){var n=new Date,i={uri:"-internal/"+e.kid,jwk:e.toJSON(!0),userId:t&&t.credential&&t.credential.userId||"",clientId:t&&t.clientId||"",createDate:n,expirationDate:new Date(n.getTime()+36e5)};return new r.KeyObject(i)})},n.prototype.deriveEphemeralKey=function(t){var n=this.ephemeralKey;return n&&n.jwk&&"EC"===n.jwk.kty?(t=r.KeyObject.fromObject(t),Promise.all([n.asKey(),t.asKey()]).then(function(t){var r=t[0],n={public:t[1].toObject()},i=r.toObject(!0);return e.JWA.derive("ECDH-HKDF",i,n)}).then(function(n){var i=t.uri,c={uri:i,createDate:t.createDate,expirationDate:t.expirationDate,jwk:{kty:"oct",kid:i,alg:"A256GCM",k:e.util.base64url.encode(n)}};return new r.KeyObject(c)})):Promise.reject(new Error("invalid local ECDH key"))},module.exports=n;
},{"node-jose":"vwdx","uuid":"ZAJP","./keyobject":"VN5C"}],"pQUh":[function(require,module,exports) {
"use strict";var e=require("lodash.clone"),t=require("node-jose");function r(t){var r="";t=t&&e(t)||{},Object.defineProperty(this,"wrapped",{get:function(){return r},set:function(e){r=String(e||"")},enumerable:!0}),Object.defineProperty(this,"body",{get:function(){return t},set:function(n){n=n&&e(n)||{},"requestId"in t&&(n.requestId=t.requestId),"uri"in t&&(n.uri=t.uri),"method"in t&&(n.method=t.method),r="",t=n},enumerable:!0}),Object.defineProperty(this,"requestId",{get:function(){return t.requestId||""},set:function(e){e?t.requestId=e:delete t.requestId},enumerable:!0}),Object.defineProperty(this,"uri",{get:function(){return t.uri||""},set:function(e){e?t.uri=e:delete t.uri},enumerable:!0}),Object.defineProperty(this,"method",{get:function(){return t.method||""},set:function(e){e?t.method=e:delete t.method},enumerable:!0})}r.prototype.wrap=function(e,r){r=r||{};var n=this;return this.requestId&&!r.requestId||(this.requestId=r.requestId||e.requestId()),this.body.client=e.clientInfo,(r.serverKey?t.JWK.asKey(e.serverInfo.key):e.ephemeralKey.asKey()).then(function(e){var u=e,i={compact:!0,contentAlg:r.contentAlg||"A256GCM"};return t.JWE.createEncrypt(i,u).final(JSON.stringify(n.body),"utf8")}).then(function(e){return n.wrapped=e,e})},module.exports=r;
},{"lodash.clone":"Ep7Q","node-jose":"vwdx"}],"VVEV":[function(require,module,exports) {
"use strict";var e=require("lodash.clone"),t=require("node-jose");function r(t){t=t||"";var r={};Object.defineProperty(this,"wrapped",{get:function(){return t},set:function(e){r={},t=String(e||"")},enumerable:!0}),Object.defineProperty(this,"body",{get:function(){return r},set:function(t){r=t&&e(t)||{}},enumerable:!0}),Object.defineProperty(this,"status",{get:function(){return r.status||0},set:function(e){e=parseInt(e),isNaN(e)||(r.status=e)},enumerable:!0}),Object.defineProperty(this,"reason",{get:function(){return r.reason||""},set:function(e){r.reason=String(e||"")},enumerable:!0}),Object.defineProperty(this,"requestId",{get:function(){return r.requestId||""},set:function(e){r.requestId=String(e||"")},enumerable:!0})}r.prototype.unwrap=function(e,r){r=r||{};var n,u=t.JWK.createKeyStore(),i=[];(n=e.ephemeralKey&&e.ephemeralKey.jwk)&&i.push(u.add(n)),(n=e.serverInfo&&e.serverInfo.key)&&i.push(u.add(n));var a=this,o=Promise.all(i);return o=(o=o.then(function(){var e=a.wrapped;switch((e.match(/\./g)||[]).length){case 2:return t.JWS.createVerify(u).verify(e);case 4:return t.JWE.createDecrypt(u).decrypt(e);default:return Promise.reject(new Error("invalid wrapped"))}})).then(function(e){return e=(e.plaintext||e.payload).toString("utf8"),e=JSON.parse(e),a.body=e,e})},module.exports=r;
},{"lodash.clone":"Ep7Q","node-jose":"vwdx"}],"iTbq":[function(require,module,exports) {
"use strict";module.exports={KeyObject:require("./keyobject"),Context:require("./context"),Request:require("./request"),Response:require("./response")};
},{"./keyobject":"VN5C","./context":"gU9z","./request":"pQUh","./response":"VVEV"}],"A5q3":[function(require,module,exports) {
"use strict";var e=require("@babel/runtime-corejs2/core-js/reflect/construct"),r=require("@babel/runtime-corejs2/core-js/object/define-property"),t=require("@babel/runtime-corejs2/helpers/interopRequireDefault");r(exports,"__esModule",{value:!0}),exports.DryError=exports.KmsTimeoutError=exports.KmsError=void 0;var o=t(require("@babel/runtime-corejs2/core-js/object/define-properties")),s=t(require("@babel/runtime-corejs2/core-js/reflect/apply")),n=t(require("@babel/runtime-corejs2/helpers/classCallCheck")),u=t(require("@babel/runtime-corejs2/helpers/createClass")),a=t(require("@babel/runtime-corejs2/helpers/inherits")),i=t(require("@babel/runtime-corejs2/helpers/possibleConstructorReturn")),c=t(require("@babel/runtime-corejs2/helpers/getPrototypeOf")),l=t(require("@babel/runtime-corejs2/helpers/defineProperty")),p=require("@webex/common"),d=require("@webex/webex-core");function f(r){var t=h();return function(){var o,s=(0,c.default)(r);if(t){var n=(0,c.default)(this).constructor;o=e(s,arguments,n)}else o=s.apply(this,arguments);return(0,i.default)(this,o)}}function h(){if("undefined"==typeof Reflect||!e)return!1;if(e.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(e(Boolean,[],function(){})),!0}catch(r){return!1}}var b=function(e){(0,a.default)(t,e);var r=f(t);function t(){return(0,n.default)(this,t),r.apply(this,arguments)}return(0,u.default)(t,[{key:"parse",value:function(e){e=e.body||e,(0,o.default)(this,{body:{enumerable:!1,value:e},reason:{enumerable:!1,value:e.reason},requestId:{enumerable:!1,value:e.requestId},status:{enumerable:!1,value:e.status}});var r="string"==typeof e?e:e.reason;return r||(r=this.constructor.defaultMessage),e.status&&(r+="\nKMS_RESPONSE_STATUS: ".concat(e.status)),e.requestId&&(r+="\nKMS_REQUEST_ID: ".concat(e.requestId)),r}}]),t}(p.Exception);exports.KmsError=b,(0,l.default)(b,"defaultMessage","An unknown error occurred while communicating with the kms. This implies we received an error response without a body.");var m=function(e){(0,a.default)(t,e);var r=f(t);function t(){return(0,n.default)(this,t),r.apply(this,arguments)}return(0,u.default)(t,[{key:"parse",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=e.request,t=void 0===r?{}:r,o=e.timeout,s="The KMS did not respond within ".concat(o?"".concat(o," milliseconds"):"a timely fashion");return t&&(t.method&&t.uri&&(s+="\nKMS_REQUEST: ".concat(t.method," ").concat(t.uri)),t.requestId&&(s+="\nKMS_REQUEST_ID: ".concat(t.requestId))),s}}]),t}(b);exports.KmsTimeoutError=m;var v=function(e){(0,a.default)(t,e);var r=f(t);function t(){return(0,n.default)(this,t),r.apply(this,arguments)}return(0,u.default)(t,[{key:"parse",value:function(e){(0,s.default)(d.WebexHttpError.prototype.parse,this,[e._res]);var r=e._res.body.message,t=r.reason||r;return t||(t=this.constructor.defaultMessage),this.options.url?t+="\n".concat(this.options.method," ").concat(this.options.url):this.options.uri?t+="\n".concat(this.options.method," ").concat(this.options.uri):t+="\n".concat(this.options.method," ").concat(this.options.service.toUpperCase(),"/").concat(this.options.resource),t+="\nWEBEX_TRACKING_ID: ".concat(this.options.headers.trackingid),r.status&&(t+="\nKMS_RESPONSE_STATUS: ".concat(r.status)),r.requestId&&(t+="\nKMS_REQUEST_ID: ".concat(r.requestId)),(0,o.default)(this,{reason:{enumerable:!1,value:r.reason},requestId:{enumerable:!1,value:r.requestId},status:{enumerable:!1,value:r.status}}),t}}]),t}(d.WebexHttpError);exports.DryError=v,(0,l.default)(v,"defaultMessage","An unknown error was received from a service that proxies to the KMS");
},{"@babel/runtime-corejs2/core-js/reflect/construct":"vZQy","@babel/runtime-corejs2/core-js/object/define-property":"eIqn","@babel/runtime-corejs2/helpers/interopRequireDefault":"LXwi","@babel/runtime-corejs2/core-js/object/define-properties":"CpmN","@babel/runtime-corejs2/core-js/reflect/apply":"Lf7Q","@babel/runtime-corejs2/helpers/classCallCheck":"Tzth","@babel/runtime-corejs2/helpers/createClass":"xM5U","@babel/runtime-corejs2/helpers/inherits":"CdTE","@babel/runtime-corejs2/helpers/possibleConstructorReturn":"w9GY","@babel/runtime-corejs2/helpers/getPrototypeOf":"Qxr1","@babel/runtime-corejs2/helpers/defineProperty":"n5FU","@webex/common":"UeF0","@webex/webex-core":"bqGz"}],"DYqD":[function(require,module,exports) {
"use strict";var e=require("@babel/runtime-corejs2/core-js/object/define-property"),r=require("@babel/runtime-corejs2/helpers/interopRequireDefault");e(exports,"__esModule",{value:!0}),exports.default=exports.TIMEOUT_SYMBOL=void 0;var t=r(require("@babel/runtime-corejs2/core-js/symbol")),n=r(require("@babel/runtime-corejs2/core-js/promise")),s=require("@webex/common-timers"),u=require("@webex/webex-core"),o=require("./kms-errors"),i=(0,t.default)("TIMEOUT_SYMBOL");exports.TIMEOUT_SYMBOL=i;var c=u.Batcher.extend({namespace:"Encryption",processKmsMessageEvent:function(e){var r=this;return this.logger.info("kms-batcher: received kms message"),n.default.all(e.encryption.kmsMessages.map(function(e){return new n.default(function(t){t(r.acceptItem(e))})}))},prepareItem:function(e){var r=this;return this.getDeferredForRequest(e).then(function(t){var n=e[i];if(!n)throw new Error("timeout is required");var u=(0,s.safeSetTimeout)(function(){r.logger.warn("kms: request timed out; request id: ".concat(e.requestId,"; timeout: ").concat(n)),r.handleItemFailure(e,new o.KmsTimeoutError({timeout:n,request:e}))},n);return t.promise.then(function(){return clearTimeout(u)}),t.promise.catch(function(){return clearTimeout(u)}),e})},prepareRequest:function(e){return this.webex.internal.encryption.kms._getKMSCluster().then(function(r){return{destination:r,kmsMessages:e.map(function(e){return e.wrapped})}})},submitHttpRequest:function(e){return this.logger.info("kms: batched-request-length",e.kmsMessages.length),this.webex.request({method:"POST",service:"encryption",resource:"/kms/messages",body:e})},handleHttpSuccess:function(){return n.default.resolve()},didItemFail:function(e){return n.default.resolve(e.status>=400)},handleItemSuccess:function(e){return this.getDeferredForResponse(e).then(function(r){r.resolve(e.body)})},handleItemFailure:function(e,r){return this.getDeferredForResponse(e).then(function(t){t.reject(r||new o.KmsError(e.body))})},fingerprintRequest:function(e){return n.default.resolve(e.requestId)},fingerprintResponse:function(e){return n.default.resolve(e.requestId)}}),a=c;exports.default=a;
},{"@babel/runtime-corejs2/core-js/object/define-property":"eIqn","@babel/runtime-corejs2/helpers/interopRequireDefault":"LXwi","@babel/runtime-corejs2/core-js/symbol":"mr6k","@babel/runtime-corejs2/core-js/promise":"eOfj","@webex/common-timers":"oZaC","@webex/webex-core":"bqGz","./kms-errors":"A5q3"}],"vEd9":[function(require,module,exports) {
!function(t){"use strict";t.exports.is_uri=r,t.exports.is_http_uri=i,t.exports.is_https_uri=s,t.exports.is_web_uri=n,t.exports.isUri=r,t.exports.isHttpUri=i,t.exports.isHttpsUri=s,t.exports.isWebUri=n;var e=function(t){return t.match(/(?:([^:\/?#]+):)?(?:\/\/([^\/?#]*))?([^?#]*)(?:\?([^#]*))?(?:#(.*))?/)};function r(t){if(t&&!/[^a-z0-9\:\/\?\#\[\]\@\!\$\&\'\(\)\*\+\,\;\=\.\-\_\~\%]/i.test(t)&&!/%[^0-9a-f]/i.test(t)&&!/%[0-9a-f](:?[^0-9a-f]|$)/i.test(t)){var r,i,s,n,f,o="",u="";if(o=(r=e(t))[1],i=r[2],s=r[3],n=r[4],f=r[5],o&&o.length&&s.length>=0){if(i&&i.length){if(0!==s.length&&!/^\//.test(s))return}else if(/^\/\//.test(s))return;if(/^[a-z][a-z0-9\+\-\.]*$/.test(o.toLowerCase()))return u+=o+":",i&&i.length&&(u+="//"+i),u+=s,n&&n.length&&(u+="?"+n),f&&f.length&&(u+="#"+f),u}}}function i(t,i){if(r(t)){var s,n,f,o,u="",a="",h="",p="";if(u=(s=e(t))[1],a=s[2],n=s[3],f=s[4],o=s[5],u){if(i){if("https"!=u.toLowerCase())return}else if("http"!=u.toLowerCase())return;if(a)return/:(\d+)$/.test(a)&&(h=a.match(/:(\d+)$/)[0],a=a.replace(/:\d+$/,"")),p+=u+":",p+="//"+a,h&&(p+=h),p+=n,f&&f.length&&(p+="?"+f),o&&o.length&&(p+="#"+o),p}}}function s(t){return i(t,!0)}function n(t){return i(t)||s(t)}}(module);
},{}],"V6vO":[function(require,module,exports) {
"use strict";function t(t){return new Date(t.getTime()+6e4*t.getTimezoneOffset())}function e(t,e,r){return t instanceof Object==!1?r:e in t?t[e]:r}function r(t,e=0,r=t.byteLength-e,n=!1){let o="";for(const f of new Uint8Array(t,e,r)){const t=f.toString(16).toUpperCase();1===t.length&&(o+="0"),o+=t,n&&(o+=" ")}return o.trim()}function n(t,e,r,n){return e instanceof ArrayBuffer==!1?(t.error='Wrong parameter: inputBuffer must be "ArrayBuffer"',!1):0===e.byteLength?(t.error="Wrong parameter: inputBuffer has zero length",!1):r<0?(t.error="Wrong parameter: inputOffset less than zero",!1):n<0?(t.error="Wrong parameter: inputLength less than zero",!1):!(e.byteLength-r-n<0)||(t.error="End of input reached before message was fully decoded (inconsistent offset and length values)",!1)}function o(t,e){let r=0;if(1===t.length)return t[0];for(let n=t.length-1;n>=0;n--)r+=t[t.length-1-n]*Math.pow(2,e*n);return r}function f(t,e,r=-1){const n=r;let o=t,f=0,a=Math.pow(2,e);for(let s=1;s<8;s++){if(t<a){let t;if(n<0)t=new ArrayBuffer(s),f=s;else{if(n<s)return new ArrayBuffer(0);t=new ArrayBuffer(n),f=n}const r=new Uint8Array(t);for(let n=s-1;n>=0;n--){const t=Math.pow(2,n*e);r[f-n-1]=Math.floor(o/t),o-=r[f-n-1]*t}return t}a*=Math.pow(2,e)}return new ArrayBuffer(0)}function a(...t){let e=0,r=0;for(const f of t)e+=f.byteLength;const n=new ArrayBuffer(e),o=new Uint8Array(n);for(const f of t)o.set(new Uint8Array(f),r),r+=f.byteLength;return n}function s(...t){let e=0,r=0;for(const f of t)e+=f.length;const n=new ArrayBuffer(e),o=new Uint8Array(n);for(const f of t)o.set(f,r),r+=f.length;return o}function c(){const t=new Uint8Array(this.valueHex);if(this.valueHex.byteLength>=2){const e=255===t[0]&&128&t[1],r=0===t[0]&&0==(128&t[1]);(e||r)&&this.warnings.push("Needlessly long format")}const e=new ArrayBuffer(this.valueHex.byteLength),r=new Uint8Array(e);for(let o=0;o<this.valueHex.byteLength;o++)r[o]=0;r[0]=128&t[0];const n=o(r,8),f=new ArrayBuffer(this.valueHex.byteLength),a=new Uint8Array(f);for(let o=0;o<this.valueHex.byteLength;o++)a[o]=t[o];return a[0]&=127,o(a,8)-n}function u(t){const e=t<0?-1*t:t;let r=128;for(let n=1;n<8;n++){if(e<=r){if(t<0){const t=f(r-e,8,n);return new Uint8Array(t)[0]|=128,t}let o=f(e,8,n),a=new Uint8Array(o);if(128&a[0]){const t=o.slice(0),e=new Uint8Array(t);o=new ArrayBuffer(o.byteLength+1),a=new Uint8Array(o);for(let r=0;r<t.byteLength;r++)a[r+1]=e[r];a[0]=0}return o}r*=Math.pow(2,8)}return new ArrayBuffer(0)}function i(t,e){if(t.byteLength!==e.byteLength)return!1;const r=new Uint8Array(t),n=new Uint8Array(e);for(let o=0;o<r.length;o++)if(r[o]!==n[o])return!1;return!0}function h(t,e){const r=t.toString(10);if(e<r.length)return"";const n=e-r.length,o=new Array(n);for(let f=0;f<n;f++)o[f]="0";return o.join("").concat(r)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.arrayBufferToString=p,exports.bufferToHexCodes=r,exports.checkBufferParams=n,exports.clearProps=B,exports.fromBase64=y,exports.getParametersValue=e,exports.getUTCDate=t,exports.isEqualBuffer=i,exports.nearestPowerOf2=d,exports.padNumber=h,exports.stringToArrayBuffer=w,exports.toBase64=A,exports.utilConcatBuf=a,exports.utilConcatView=s,exports.utilDecodeTC=c,exports.utilEncodeTC=u,exports.utilFromBase=o,exports.utilToBase=f;const l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",g="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=";function A(t,e=!1,r=!1,n=!1){let o=0,f=0,a=0,s="";const c=e?g:l;if(n){let e=0;for(let r=0;r<t.length;r++)if(0!==t.charCodeAt(r)){e=r;break}t=t.slice(e)}for(;o<t.length;){const e=t.charCodeAt(o++);o>=t.length&&(f=1);const n=t.charCodeAt(o++);o>=t.length&&(a=1);const u=t.charCodeAt(o++),i=e>>2,h=(3&e)<<4|n>>4;let l=(15&n)<<2|u>>6,g=63&u;1===f?l=g=64:1===a&&(g=64),s+=r?64===l?`${c.charAt(i)}${c.charAt(h)}`:64===g?`${c.charAt(i)}${c.charAt(h)}${c.charAt(l)}`:`${c.charAt(i)}${c.charAt(h)}${c.charAt(l)}${c.charAt(g)}`:`${c.charAt(i)}${c.charAt(h)}${c.charAt(l)}${c.charAt(g)}`}return s}function y(t,e=!1,r=!1){const n=e?g:l;function o(t){for(let e=0;e<64;e++)if(n.charAt(e)===t)return e;return 64}function f(t){return 64===t?0:t}let a=0,s="";for(;a<t.length;){const e=o(t.charAt(a++)),r=a>=t.length?0:o(t.charAt(a++)),n=a>=t.length?0:o(t.charAt(a++)),c=a>=t.length?0:o(t.charAt(a++)),u=f(e)<<2|f(r)>>4,i=(15&f(r))<<4|f(n)>>2,h=(3&f(n))<<6|f(c);s+=String.fromCharCode(u),64!==n&&(s+=String.fromCharCode(i)),64!==c&&(s+=String.fromCharCode(h))}if(r){let t=-1;for(let e=s.length-1;e>=0;e--)if(0!==s.charCodeAt(e)){t=e;break}s=-1!==t?s.slice(0,t+1):""}return s}function p(t){let e="";const r=new Uint8Array(t);for(const n of r)e+=String.fromCharCode(n);return e}function w(t){const e=t.length,r=new ArrayBuffer(e),n=new Uint8Array(r);for(let o=0;o<e;o++)n[o]=t.charCodeAt(o);return r}const x=Math.log(2);function d(t){const e=Math.log(t)/x,r=Math.floor(e),n=Math.round(e);return r===n?r:n}function B(t,e){for(const r of e)delete t[r]}
},{}],"h7Xx":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.VisibleString=exports.VideotexString=exports.ValueBlock=exports.Utf8String=exports.UniversalString=exports.UTCTime=exports.TimeOfDay=exports.TeletexString=exports.TIME=exports.Set=exports.Sequence=exports.Repeated=exports.RelativeObjectIdentifier=exports.RawData=exports.PrintableString=exports.Primitive=exports.OctetString=exports.ObjectIdentifier=exports.NumericString=exports.Null=exports.Integer=exports.IA5String=exports.HexBlock=exports.GraphicString=exports.GeneralizedTime=exports.GeneralString=exports.Enumerated=exports.EndOfContent=exports.Duration=exports.DateTime=exports.DATE=exports.Constructed=exports.Choice=exports.CharacterString=exports.Boolean=exports.BmpString=exports.BitString=exports.BaseBlock=exports.Any=void 0,exports.compareSchema=ce,exports.fromBER=ae,exports.fromJSON=he,exports.verifySchema=ue;var e=require("pvutils");const t=[new Uint8Array([1])],r="0123456789";class s{constructor(t={}){this.blockLength=(0,e.getParametersValue)(t,"blockLength",0),this.error=(0,e.getParametersValue)(t,"error",""),this.warnings=(0,e.getParametersValue)(t,"warnings",[]),this.valueBeforeDecode="valueBeforeDecode"in t?t.valueBeforeDecode.slice(0):new ArrayBuffer(0)}static blockName(){return"baseBlock"}toJSON(){return{blockName:this.constructor.blockName(),blockLength:this.blockLength,error:this.error,warnings:this.warnings,valueBeforeDecode:(0,e.bufferToHexCodes)(this.valueBeforeDecode,0,this.valueBeforeDecode.byteLength)}}}const i=t=>(class extends t{constructor(t={}){super(t),this.isHexOnly=(0,e.getParametersValue)(t,"isHexOnly",!1),this.valueHex="valueHex"in t?t.valueHex.slice(0):new ArrayBuffer(0)}static blockName(){return"hexBlock"}fromBER(t,r,s){if(!1===(0,e.checkBufferParams)(this,t,r,s))return-1;return 0===new Uint8Array(t,r,s).length?(this.warnings.push("Zero buffer length"),r):(this.valueHex=t.slice(r,r+s),this.blockLength=s,r+s)}toBER(e=!1){return!0!==this.isHexOnly?(this.error='Flag "isHexOnly" is not set, abort',new ArrayBuffer(0)):!0===e?new ArrayBuffer(this.valueHex.byteLength):this.valueHex.slice(0)}toJSON(){let t={};try{t=super.toJSON()}catch(r){}return t.blockName=this.constructor.blockName(),t.isHexOnly=this.isHexOnly,t.valueHex=(0,e.bufferToHexCodes)(this.valueHex,0,this.valueHex.byteLength),t}});exports.HexBlock=i;class n extends(i(s)){constructor(t={}){super(),"idBlock"in t?(this.isHexOnly=(0,e.getParametersValue)(t.idBlock,"isHexOnly",!1),this.valueHex=(0,e.getParametersValue)(t.idBlock,"valueHex",new ArrayBuffer(0)),this.tagClass=(0,e.getParametersValue)(t.idBlock,"tagClass",-1),this.tagNumber=(0,e.getParametersValue)(t.idBlock,"tagNumber",-1),this.isConstructed=(0,e.getParametersValue)(t.idBlock,"isConstructed",!1)):(this.tagClass=-1,this.tagNumber=-1,this.isConstructed=!1)}static blockName(){return"identificationBlock"}toBER(t=!1){let r,s,i=0;switch(this.tagClass){case 1:i|=0;break;case 2:i|=64;break;case 3:i|=128;break;case 4:i|=192;break;default:return this.error="Unknown tag class",new ArrayBuffer(0)}if(this.isConstructed&&(i|=32),this.tagNumber<31&&!this.isHexOnly){if(r=new ArrayBuffer(1),s=new Uint8Array(r),!t){let e=this.tagNumber;i|=e&=31,s[0]=i}return r}if(!1===this.isHexOnly){const n=(0,e.utilToBase)(this.tagNumber,7),o=new Uint8Array(n),l=n.byteLength;if(r=new ArrayBuffer(l+1),(s=new Uint8Array(r))[0]=31|i,!t){for(let e=0;e<l-1;e++)s[e+1]=128|o[e];s[l]=o[l-1]}return r}if(r=new ArrayBuffer(this.valueHex.byteLength+1),(s=new Uint8Array(r))[0]=31|i,!1===t){const e=new Uint8Array(this.valueHex);for(let t=0;t<e.length-1;t++)s[t+1]=128|e[t];s[this.valueHex.byteLength]=e[e.length-1]}return r}fromBER(t,r,s){if(!1===(0,e.checkBufferParams)(this,t,r,s))return-1;const i=new Uint8Array(t,r,s);if(0===i.length)return this.error="Zero buffer length",-1;switch(192&i[0]){case 0:this.tagClass=1;break;case 64:this.tagClass=2;break;case 128:this.tagClass=3;break;case 192:this.tagClass=4;break;default:return this.error="Unknown tag class",-1}this.isConstructed=32==(32&i[0]),this.isHexOnly=!1;const n=31&i[0];if(31!==n)this.tagNumber=n,this.blockLength=1;else{let t=1;this.valueHex=new ArrayBuffer(255);let r=255,s=new Uint8Array(this.valueHex);for(;128&i[t];){if(s[t-1]=127&i[t],++t>=i.length)return this.error="End of input reached before message was fully decoded",-1;if(t===r){r+=255;const e=new ArrayBuffer(r),t=new Uint8Array(e);for(let r=0;r<s.length;r++)t[r]=s[r];this.valueHex=new ArrayBuffer(r),s=new Uint8Array(this.valueHex)}}this.blockLength=t+1,s[t-1]=127&i[t];const n=new ArrayBuffer(t),o=new Uint8Array(n);for(let e=0;e<t;e++)o[e]=s[e];this.valueHex=new ArrayBuffer(t),(s=new Uint8Array(this.valueHex)).set(o),this.blockLength<=9?this.tagNumber=(0,e.utilFromBase)(s,7):(this.isHexOnly=!0,this.warnings.push("Tag too long, represented as hex-coded"))}if(1===this.tagClass&&this.isConstructed)switch(this.tagNumber){case 1:case 2:case 5:case 6:case 9:case 13:case 14:case 23:case 24:case 31:case 32:case 33:case 34:return this.error="Constructed encoding used for primitive type",-1}return r+this.blockLength}toJSON(){let e={};try{e=super.toJSON()}catch(t){}return e.blockName=this.constructor.blockName(),e.tagClass=this.tagClass,e.tagNumber=this.tagNumber,e.isConstructed=this.isConstructed,e}}class o extends s{constructor(t={}){super(),"lenBlock"in t?(this.isIndefiniteForm=(0,e.getParametersValue)(t.lenBlock,"isIndefiniteForm",!1),this.longFormUsed=(0,e.getParametersValue)(t.lenBlock,"longFormUsed",!1),this.length=(0,e.getParametersValue)(t.lenBlock,"length",0)):(this.isIndefiniteForm=!1,this.longFormUsed=!1,this.length=0)}static blockName(){return"lengthBlock"}fromBER(t,r,s){if(!1===(0,e.checkBufferParams)(this,t,r,s))return-1;const i=new Uint8Array(t,r,s);if(0===i.length)return this.error="Zero buffer length",-1;if(255===i[0])return this.error="Length block 0xFF is reserved by standard",-1;if(this.isIndefiniteForm=128===i[0],!0===this.isIndefiniteForm)return this.blockLength=1,r+this.blockLength;if(this.longFormUsed=!!(128&i[0]),!1===this.longFormUsed)return this.length=i[0],this.blockLength=1,r+this.blockLength;const n=127&i[0];if(n>8)return this.error="Too big integer",-1;if(n+1>i.length)return this.error="End of input reached before message was fully decoded",-1;const o=new Uint8Array(n);for(let e=0;e<n;e++)o[e]=i[e+1];return 0===o[n-1]&&this.warnings.push("Needlessly long encoded length"),this.length=(0,e.utilFromBase)(o,8),this.longFormUsed&&this.length<=127&&this.warnings.push("Unnecessary usage of long length form"),this.blockLength=n+1,r+this.blockLength}toBER(t=!1){let r,s;if(this.length>127&&(this.longFormUsed=!0),this.isIndefiniteForm)return r=new ArrayBuffer(1),!1===t&&((s=new Uint8Array(r))[0]=128),r;if(!0===this.longFormUsed){const i=(0,e.utilToBase)(this.length,8);if(i.byteLength>127)return this.error="Too big length",new ArrayBuffer(0);if(r=new ArrayBuffer(i.byteLength+1),!0===t)return r;const n=new Uint8Array(i);(s=new Uint8Array(r))[0]=128|i.byteLength;for(let e=0;e<i.byteLength;e++)s[e+1]=n[e];return r}return r=new ArrayBuffer(1),!1===t&&((s=new Uint8Array(r))[0]=this.length),r}toJSON(){let e={};try{e=super.toJSON()}catch(t){}return e.blockName=this.constructor.blockName(),e.isIndefiniteForm=this.isIndefiniteForm,e.longFormUsed=this.longFormUsed,e.length=this.length,e}}class l extends s{constructor(e={}){super(e)}static blockName(){return"valueBlock"}fromBER(e,t,r){throw TypeError('User need to make a specific function in a class which extends "ValueBlock"')}toBER(e=!1){throw TypeError('User need to make a specific function in a class which extends "ValueBlock"')}}exports.ValueBlock=l;class a extends s{constructor(e={},t=l){super(e),"name"in e&&(this.name=e.name),"optional"in e&&(this.optional=e.optional),"primitiveSchema"in e&&(this.primitiveSchema=e.primitiveSchema),this.idBlock=new n(e),this.lenBlock=new o(e),this.valueBlock=new t(e)}static blockName(){return"BaseBlock"}fromBER(e,t,r){const s=this.valueBlock.fromBER(e,t,!0===this.lenBlock.isIndefiniteForm?r:this.lenBlock.length);return-1===s?(this.error=this.valueBlock.error,s):(0===this.idBlock.error.length&&(this.blockLength+=this.idBlock.blockLength),0===this.lenBlock.error.length&&(this.blockLength+=this.lenBlock.blockLength),0===this.valueBlock.error.length&&(this.blockLength+=this.valueBlock.blockLength),s)}toBER(t=!1){let r;const s=this.idBlock.toBER(t),i=this.valueBlock.toBER(!0);this.lenBlock.length=i.byteLength;const n=this.lenBlock.toBER(t);let o;if(r=(0,e.utilConcatBuf)(s,n),o=!1===t?this.valueBlock.toBER(t):new ArrayBuffer(this.lenBlock.length),r=(0,e.utilConcatBuf)(r,o),!0===this.lenBlock.isIndefiniteForm){const s=new ArrayBuffer(2);if(!1===t){const e=new Uint8Array(s);e[0]=0,e[1]=0}r=(0,e.utilConcatBuf)(r,s)}return r}toJSON(){let e={};try{e=super.toJSON()}catch(t){}return e.idBlock=this.idBlock.toJSON(),e.lenBlock=this.lenBlock.toJSON(),e.valueBlock=this.valueBlock.toJSON(),"name"in this&&(e.name=this.name),"optional"in this&&(e.optional=this.optional),"primitiveSchema"in this&&(e.primitiveSchema=this.primitiveSchema.toJSON()),e}toString(){return`${this.constructor.blockName()} : ${(0,e.bufferToHexCodes)(this.valueBlock.valueHex)}`}}exports.BaseBlock=a;class c extends l{constructor(t={}){super(t),this.valueHex="valueHex"in t?t.valueHex.slice(0):new ArrayBuffer(0),this.isHexOnly=(0,e.getParametersValue)(t,"isHexOnly",!0)}fromBER(t,r,s){if(!1===(0,e.checkBufferParams)(this,t,r,s))return-1;const i=new Uint8Array(t,r,s);if(0===i.length)return this.warnings.push("Zero buffer length"),r;this.valueHex=new ArrayBuffer(i.length);const n=new Uint8Array(this.valueHex);for(let e=0;e<i.length;e++)n[e]=i[e];return this.blockLength=s,r+s}toBER(e=!1){return this.valueHex.slice(0)}static blockName(){return"PrimitiveValueBlock"}toJSON(){let t={};try{t=super.toJSON()}catch(r){}return t.valueHex=(0,e.bufferToHexCodes)(this.valueHex,0,this.valueHex.byteLength),t.isHexOnly=this.isHexOnly,t}}class u extends a{constructor(e={}){super(e,c),this.idBlock.isConstructed=!1}static blockName(){return"PRIMITIVE"}}exports.Primitive=u;class h extends l{constructor(t={}){super(t),this.value=(0,e.getParametersValue)(t,"value",[]),this.isIndefiniteForm=(0,e.getParametersValue)(t,"isIndefiniteForm",!1)}fromBER(t,r,s){const i=r,n=s;if(!1===(0,e.checkBufferParams)(this,t,r,s))return-1;if(0===new Uint8Array(t,r,s).length)return this.warnings.push("Zero buffer length"),r;let o=r;for(;l=this.isIndefiniteForm,a=s,(!0===l?1:a)>0;){const e=le(t,o,s);if(-1===e.offset)return this.error=e.result.error,this.warnings.concat(e.result.warnings),-1;if(o=e.offset,this.blockLength+=e.result.blockLength,s-=e.result.blockLength,this.value.push(e.result),!0===this.isIndefiniteForm&&e.result.constructor.blockName()===k.blockName())break}var l,a;return!0===this.isIndefiniteForm&&(this.value[this.value.length-1].constructor.blockName()===k.blockName()?this.value.pop():this.warnings.push("No EndOfContent block encoded")),this.valueBeforeDecode=t.slice(i,i+n),o}toBER(t=!1){let r=new ArrayBuffer(0);for(let s=0;s<this.value.length;s++){const i=this.value[s].toBER(t);r=(0,e.utilConcatBuf)(r,i)}return r}static blockName(){return"ConstructedValueBlock"}toJSON(){let e={};try{e=super.toJSON()}catch(t){}e.isIndefiniteForm=this.isIndefiniteForm,e.value=[];for(let r=0;r<this.value.length;r++)e.value.push(this.value[r].toJSON());return e}}class f extends a{constructor(e={}){super(e,h),this.idBlock.isConstructed=!0}static blockName(){return"CONSTRUCTED"}fromBER(e,t,r){this.valueBlock.isIndefiniteForm=this.lenBlock.isIndefiniteForm;const s=this.valueBlock.fromBER(e,t,!0===this.lenBlock.isIndefiniteForm?r:this.lenBlock.length);return-1===s?(this.error=this.valueBlock.error,s):(0===this.idBlock.error.length&&(this.blockLength+=this.idBlock.blockLength),0===this.lenBlock.error.length&&(this.blockLength+=this.lenBlock.blockLength),0===this.valueBlock.error.length&&(this.blockLength+=this.valueBlock.blockLength),s)}toString(){const e=[];for(const r of this.valueBlock.value)e.push(r.toString().split("\n").map(e=>`  ${e}`).join("\n"));const t=3===this.idBlock.tagClass?`[${this.idBlock.tagNumber}]`:this.constructor.blockName();return e.length?`${t} :\n${e.join("\n")}`:`${t} :`}}exports.Constructed=f;class g extends l{constructor(e={}){super(e)}fromBER(e,t,r){return t}toBER(e=!1){return new ArrayBuffer(0)}static blockName(){return"EndOfContentValueBlock"}}class k extends a{constructor(e={}){super(e,g),this.idBlock.tagClass=1,this.idBlock.tagNumber=0}static blockName(){return"EndOfContent"}}exports.EndOfContent=k;class d extends l{constructor(t={}){if(super(t),this.value=(0,e.getParametersValue)(t,"value",!1),this.isHexOnly=(0,e.getParametersValue)(t,"isHexOnly",!1),"valueHex"in t)this.valueHex=t.valueHex.slice(0);else if(this.valueHex=new ArrayBuffer(1),!0===this.value){new Uint8Array(this.valueHex)[0]=255}}fromBER(t,r,s){if(!1===(0,e.checkBufferParams)(this,t,r,s))return-1;const i=new Uint8Array(t,r,s);s>1&&this.warnings.push("Boolean value encoded in more then 1 octet"),this.isHexOnly=!0,this.valueHex=new ArrayBuffer(i.length);const n=new Uint8Array(this.valueHex);for(let e=0;e<i.length;e++)n[e]=i[e];return 0!==e.utilDecodeTC.call(this)?this.value=!0:this.value=!1,this.blockLength=s,r+s}toBER(e=!1){return this.valueHex}static blockName(){return"BooleanValueBlock"}toJSON(){let t={};try{t=super.toJSON()}catch(r){}return t.value=this.value,t.isHexOnly=this.isHexOnly,t.valueHex=(0,e.bufferToHexCodes)(this.valueHex,0,this.valueHex.byteLength),t}}class B extends a{constructor(e={}){super(e,d),this.idBlock.tagClass=1,this.idBlock.tagNumber=1}static blockName(){return"BOOLEAN"}toString(){return`${this.constructor.blockName()} : ${this.valueBlock.value}`}}exports.Boolean=B;class v extends f{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=16}static blockName(){return"SEQUENCE"}}exports.Sequence=v;class m extends f{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=17}static blockName(){return"SET"}}exports.Set=m;class b extends a{constructor(e={}){super(e,s),this.idBlock.tagClass=1,this.idBlock.tagNumber=5}static blockName(){return"NULL"}fromBER(e,t,r){return this.lenBlock.length>0&&this.warnings.push("Non-zero length of value block for Null type"),0===this.idBlock.error.length&&(this.blockLength+=this.idBlock.blockLength),0===this.lenBlock.error.length&&(this.blockLength+=this.lenBlock.blockLength),this.blockLength+=r,t+r>e.byteLength?(this.error="End of input reached before message was fully decoded (inconsistent offset and length values)",-1):t+r}toBER(e=!1){const t=new ArrayBuffer(2);if(!0===e)return t;const r=new Uint8Array(t);return r[0]=5,r[1]=0,t}toString(){return`${this.constructor.blockName()}`}}exports.Null=b;class y extends(i(h)){constructor(t={}){super(t),this.isConstructed=(0,e.getParametersValue)(t,"isConstructed",!1)}fromBER(e,t,r){let s=0;if(!0===this.isConstructed){if(this.isHexOnly=!1,-1===(s=h.prototype.fromBER.call(this,e,t,r)))return s;for(let e=0;e<this.value.length;e++){const t=this.value[e].constructor.blockName();if(t===k.blockName()){if(!0===this.isIndefiniteForm)break;return this.error="EndOfContent is unexpected, OCTET STRING may consists of OCTET STRINGs only",-1}if(t!==x.blockName())return this.error="OCTET STRING may consists of OCTET STRINGs only",-1}}else this.isHexOnly=!0,s=super.fromBER(e,t,r),this.blockLength=r;return s}toBER(e=!1){if(!0===this.isConstructed)return h.prototype.toBER.call(this,e);let t=new ArrayBuffer(this.valueHex.byteLength);return!0===e?t:0===this.valueHex.byteLength?t:t=this.valueHex.slice(0)}static blockName(){return"OctetStringValueBlock"}toJSON(){let t={};try{t=super.toJSON()}catch(r){}return t.isConstructed=this.isConstructed,t.isHexOnly=this.isHexOnly,t.valueHex=(0,e.bufferToHexCodes)(this.valueHex,0,this.valueHex.byteLength),t}}class x extends a{constructor(e={}){super(e,y),this.idBlock.tagClass=1,this.idBlock.tagNumber=4}fromBER(e,t,r){if(this.valueBlock.isConstructed=this.idBlock.isConstructed,this.valueBlock.isIndefiniteForm=this.lenBlock.isIndefiniteForm,0===r)return 0===this.idBlock.error.length&&(this.blockLength+=this.idBlock.blockLength),0===this.lenBlock.error.length&&(this.blockLength+=this.lenBlock.blockLength),t;if(!this.valueBlock.isConstructed){const i=e.slice(t,t+r);try{const e=ae(i);-1!==e.offset&&e.offset===r&&(this.valueBlock.value=[e.result])}catch(s){}}return super.fromBER(e,t,r)}static blockName(){return"OCTET STRING"}isEqual(e){return e instanceof x!=!1&&JSON.stringify(this)===JSON.stringify(e)}toString(){return this.valueBlock.isConstructed||this.valueBlock.value&&this.valueBlock.value.length?f.prototype.toString.call(this):`${this.constructor.blockName()} : ${(0,e.bufferToHexCodes)(this.valueBlock.valueHex)}`}}exports.OctetString=x;class p extends(i(h)){constructor(t={}){super(t),this.unusedBits=(0,e.getParametersValue)(t,"unusedBits",0),this.isConstructed=(0,e.getParametersValue)(t,"isConstructed",!1),this.blockLength=this.valueHex.byteLength}fromBER(t,r,s){if(0===s)return r;let i=-1;if(!0===this.isConstructed){if(-1===(i=h.prototype.fromBER.call(this,t,r,s)))return i;for(let e=0;e<this.value.length;e++){const t=this.value[e].constructor.blockName();if(t===k.blockName()){if(!0===this.isIndefiniteForm)break;return this.error="EndOfContent is unexpected, BIT STRING may consists of BIT STRINGs only",-1}if(t!==w.blockName())return this.error="BIT STRING may consists of BIT STRINGs only",-1;if(this.unusedBits>0&&this.value[e].valueBlock.unusedBits>0)return this.error='Using of "unused bits" inside constructive BIT STRING allowed for least one only',-1;if(this.unusedBits=this.value[e].valueBlock.unusedBits,this.unusedBits>7)return this.error="Unused bits for BitString must be in range 0-7",-1}return i}if(!1===(0,e.checkBufferParams)(this,t,r,s))return-1;const n=new Uint8Array(t,r,s);if(this.unusedBits=n[0],this.unusedBits>7)return this.error="Unused bits for BitString must be in range 0-7",-1;if(!this.unusedBits){const e=t.slice(r+1,r+s);try{const t=ae(e);-1!==t.offset&&t.offset===s-1&&(this.value=[t.result])}catch(l){}}this.valueHex=new ArrayBuffer(n.length-1);const o=new Uint8Array(this.valueHex);for(let e=0;e<s-1;e++)o[e]=n[e+1];return this.blockLength=n.length,r+s}toBER(e=!1){if(!0===this.isConstructed)return h.prototype.toBER.call(this,e);if(!0===e)return new ArrayBuffer(this.valueHex.byteLength+1);if(0===this.valueHex.byteLength)return new ArrayBuffer(0);const t=new Uint8Array(this.valueHex),r=new ArrayBuffer(this.valueHex.byteLength+1),s=new Uint8Array(r);s[0]=this.unusedBits;for(let i=0;i<this.valueHex.byteLength;i++)s[i+1]=t[i];return r}static blockName(){return"BitStringValueBlock"}toJSON(){let t={};try{t=super.toJSON()}catch(r){}return t.unusedBits=this.unusedBits,t.isConstructed=this.isConstructed,t.isHexOnly=this.isHexOnly,t.valueHex=(0,e.bufferToHexCodes)(this.valueHex,0,this.valueHex.byteLength),t}}class w extends a{constructor(e={}){super(e,p),this.idBlock.tagClass=1,this.idBlock.tagNumber=3}static blockName(){return"BIT STRING"}fromBER(e,t,r){return 0===r?t:(this.valueBlock.isConstructed=this.idBlock.isConstructed,this.valueBlock.isIndefiniteForm=this.lenBlock.isIndefiniteForm,super.fromBER(e,t,r))}isEqual(e){return e instanceof w!=!1&&JSON.stringify(this)===JSON.stringify(e)}toString(){if(this.valueBlock.isConstructed||this.valueBlock.value&&this.valueBlock.value.length)return f.prototype.toString.call(this);{const e=[],t=new Uint8Array(this.valueBlock.valueHex);for(const r of t)e.push(r.toString(2).padStart(8,"0"));return`${this.constructor.blockName()} : ${e.join("")}`}}}exports.BitString=w;class N extends(i(l)){constructor(e={}){super(e),"value"in e&&(this.valueDec=e.value)}set valueHex(t){this._valueHex=t.slice(0),t.byteLength>=4?(this.warnings.push("Too big Integer for decoding, hex only"),this.isHexOnly=!0,this._valueDec=0):(this.isHexOnly=!1,t.byteLength>0&&(this._valueDec=e.utilDecodeTC.call(this)))}get valueHex(){return this._valueHex}set valueDec(t){this._valueDec=t,this.isHexOnly=!1,this._valueHex=(0,e.utilEncodeTC)(t)}get valueDec(){return this._valueDec}fromDER(e,t,r,s=0){const i=this.fromBER(e,t,r);if(-1===i)return i;const n=new Uint8Array(this._valueHex);if(0===n[0]&&0!=(128&n[1])){const e=new ArrayBuffer(this._valueHex.byteLength-1);new Uint8Array(e).set(new Uint8Array(this._valueHex,1,this._valueHex.byteLength-1)),this._valueHex=e.slice(0)}else if(0!==s&&this._valueHex.byteLength<s){s-this._valueHex.byteLength>1&&(s=this._valueHex.byteLength+1);const e=new ArrayBuffer(s);new Uint8Array(e).set(n,s-this._valueHex.byteLength),this._valueHex=e.slice(0)}return i}toDER(e=!1){const t=new Uint8Array(this._valueHex);switch(!0){case 0!=(128&t[0]):{const e=new ArrayBuffer(this._valueHex.byteLength+1),r=new Uint8Array(e);r[0]=0,r.set(t,1),this._valueHex=e.slice(0)}break;case 0===t[0]&&0==(128&t[1]):{const e=new ArrayBuffer(this._valueHex.byteLength-1);new Uint8Array(e).set(new Uint8Array(this._valueHex,1,this._valueHex.byteLength-1)),this._valueHex=e.slice(0)}}return this.toBER(e)}fromBER(e,t,r){const s=super.fromBER(e,t,r);return-1===s?s:(this.blockLength=r,t+r)}toBER(e=!1){return this.valueHex.slice(0)}static blockName(){return"IntegerValueBlock"}toJSON(){let e={};try{e=super.toJSON()}catch(t){}return e.valueDec=this.valueDec,e}toString(){function s(t,r){const s=new Uint8Array([0]);let i=new Uint8Array(t),n=new Uint8Array(r),o=i.slice(0);const l=o.length-1;let a=n.slice(0);const c=a.length-1;let u=0;let h=0;for(let f=c<l?l:c;f>=0;f--,h++){switch(!0){case h<a.length:u=o[l-h]+a[c-h]+s[0];break;default:u=o[l-h]+s[0]}switch(s[0]=u/10,!0){case h>=o.length:o=(0,e.utilConcatView)(new Uint8Array([u%10]),o);break;default:o[l-h]=u%10}}return s[0]>0&&(o=(0,e.utilConcatView)(s,o)),o.slice(0)}function i(r){if(r>=t.length)for(let s=t.length;s<=r;s++){const r=new Uint8Array([0]);let i=t[s-1].slice(0);for(let e=i.length-1;e>=0;e--){const t=new Uint8Array([(i[e]<<1)+r[0]]);r[0]=t[0]/10,i[e]=t[0]%10}r[0]>0&&(i=(0,e.utilConcatView)(r,i)),t.push(i)}return t[r]}function n(e,t){let r=0,s=new Uint8Array(e),i=new Uint8Array(t),n=s.slice(0);const o=n.length-1;let l=i.slice(0);const a=l.length-1;let c,u=0;for(let h=a;h>=0;h--,u++)switch(c=n[o-u]-l[a-u]-r,!0){case c<0:r=1,n[o-u]=c+10;break;default:r=0,n[o-u]=c}if(r>0)for(let h=o-a+1;h>=0;h--,u++){if(!((c=n[o-u]-r)<0)){r=0,n[o-u]=c;break}r=1,n[o-u]=c+10}return n.slice()}const o=8*this._valueHex.byteLength-1;let l,a=new Uint8Array(8*this._valueHex.byteLength/3),c=0;const u=new Uint8Array(this._valueHex);let h="",f=!1;for(let e=this._valueHex.byteLength-1;e>=0;e--){l=u[e];for(let e=0;e<8;e++){if(1==(1&l))switch(c){case o:a=n(i(c),a),h="-";break;default:a=s(a,i(c))}c++,l>>=1}}for(let e=0;e<a.length;e++)a[e]&&(f=!0),f&&(h+=r.charAt(a[e]));return!1===f&&(h+=r.charAt(0)),h}}class S extends a{constructor(e={}){super(e,N),this.idBlock.tagClass=1,this.idBlock.tagNumber=2}static blockName(){return"INTEGER"}isEqual(t){return t instanceof S?this.valueBlock.isHexOnly&&t.valueBlock.isHexOnly?(0,e.isEqualBuffer)(this.valueBlock.valueHex,t.valueBlock.valueHex):this.valueBlock.isHexOnly===t.valueBlock.isHexOnly&&this.valueBlock.valueDec===t.valueBlock.valueDec:t instanceof ArrayBuffer&&(0,e.isEqualBuffer)(this.valueBlock.valueHex,t)}convertToDER(){const e=new S({valueHex:this.valueBlock.valueHex});return e.valueBlock.toDER(),e}convertFromDER(){const e=this.valueBlock.valueHex.byteLength%2?this.valueBlock.valueHex.byteLength+1:this.valueBlock.valueHex.byteLength,t=new S({valueHex:this.valueBlock.valueHex});return t.valueBlock.fromDER(t.valueBlock.valueHex,0,t.valueBlock.valueHex.byteLength,e),t}toString(){const t=(0,e.bufferToHexCodes)(this.valueBlock.valueHex),r=BigInt(`0x${t}`);return`${this.constructor.blockName()} : ${r.toString()}`}}exports.Integer=S;class H extends S{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=10}static blockName(){return"ENUMERATED"}}exports.Enumerated=H;class A extends(i(s)){constructor(t={}){super(t),this.valueDec=(0,e.getParametersValue)(t,"valueDec",-1),this.isFirstSid=(0,e.getParametersValue)(t,"isFirstSid",!1)}static blockName(){return"sidBlock"}fromBER(t,r,s){if(0===s)return r;if(!1===(0,e.checkBufferParams)(this,t,r,s))return-1;const i=new Uint8Array(t,r,s);this.valueHex=new ArrayBuffer(s);let n=new Uint8Array(this.valueHex);for(let e=0;e<s&&(n[e]=127&i[e],this.blockLength++,0!=(128&i[e]));e++);const o=new ArrayBuffer(this.blockLength),l=new Uint8Array(o);for(let e=0;e<this.blockLength;e++)l[e]=n[e];return this.valueHex=o.slice(0),n=new Uint8Array(this.valueHex),0!=(128&i[this.blockLength-1])?(this.error="End of input reached before message was fully decoded",-1):(0===n[0]&&this.warnings.push("Needlessly long format of SID encoding"),this.blockLength<=8?this.valueDec=(0,e.utilFromBase)(n,7):(this.isHexOnly=!0,this.warnings.push("Too big SID for decoding, hex only")),r+this.blockLength)}toBER(t=!1){let r,s;if(this.isHexOnly){if(!0===t)return new ArrayBuffer(this.valueHex.byteLength);const e=new Uint8Array(this.valueHex);r=new ArrayBuffer(this.blockLength),s=new Uint8Array(r);for(let t=0;t<this.blockLength-1;t++)s[t]=128|e[t];return s[this.blockLength-1]=e[this.blockLength-1],r}const i=(0,e.utilToBase)(this.valueDec,7);if(0===i.byteLength)return this.error="Error during encoding SID value",new ArrayBuffer(0);if(r=new ArrayBuffer(i.byteLength),!1===t){const e=new Uint8Array(i);s=new Uint8Array(r);for(let t=0;t<i.byteLength-1;t++)s[t]=128|e[t];s[i.byteLength-1]=e[i.byteLength-1]}return r}toString(){let t="";if(!0===this.isHexOnly)t=(0,e.bufferToHexCodes)(this.valueHex,0,this.valueHex.byteLength);else if(this.isFirstSid){let e=this.valueDec;this.valueDec<=39?t="0.":this.valueDec<=79?(t="1.",e-=40):(t="2.",e-=80),t+=e.toString()}else t=this.valueDec.toString();return t}toJSON(){let e={};try{e=super.toJSON()}catch(t){}return e.valueDec=this.valueDec,e.isFirstSid=this.isFirstSid,e}}class L extends l{constructor(t={}){super(t),this.fromString((0,e.getParametersValue)(t,"value",""))}fromBER(e,t,r){let s=t;for(;r>0;){const t=new A;if(-1===(s=t.fromBER(e,s,r)))return this.blockLength=0,this.error=t.error,s;0===this.value.length&&(t.isFirstSid=!0),this.blockLength+=t.blockLength,r-=t.blockLength,this.value.push(t)}return s}toBER(t=!1){let r=new ArrayBuffer(0);for(let s=0;s<this.value.length;s++){const i=this.value[s].toBER(t);if(0===i.byteLength)return this.error=this.value[s].error,new ArrayBuffer(0);r=(0,e.utilConcatBuf)(r,i)}return r}fromString(e){this.value=[];let t=0,r=0,s="",i=!1;do{if(s=-1===(r=e.indexOf(".",t))?e.substr(t):e.substr(t,r-t),t=r+1,i){const e=this.value[0];let t=0;switch(e.valueDec){case 0:break;case 1:t=40;break;case 2:t=80;break;default:return this.value=[],!1}const r=parseInt(s,10);if(isNaN(r))return!0;e.valueDec=r+t,i=!1}else{const e=new A;if(e.valueDec=parseInt(s,10),isNaN(e.valueDec))return!0;0===this.value.length&&(e.isFirstSid=!0,i=!0),this.value.push(e)}}while(-1!==r);return!0}toString(){let e="",t=!1;for(let r=0;r<this.value.length;r++){t=this.value[r].isHexOnly;let s=this.value[r].toString();0!==r&&(e=`${e}.`),t?(s=`{${s}}`,this.value[r].isFirstSid?e=`2.{${s} - 80}`:e+=s):e+=s}return e}static blockName(){return"ObjectIdentifierValueBlock"}toJSON(){let e={};try{e=super.toJSON()}catch(t){}e.value=this.toString(),e.sidArray=[];for(let r=0;r<this.value.length;r++)e.sidArray.push(this.value[r].toJSON());return e}}class C extends a{constructor(e={}){super(e,L),this.idBlock.tagClass=1,this.idBlock.tagNumber=6}static blockName(){return"OBJECT IDENTIFIER"}toString(){return`${this.constructor.blockName()} : ${this.valueBlock.toString()}`}}exports.ObjectIdentifier=C;class O extends(i(s)){constructor(e={}){super(e),this.isHexOnly=!0,this.value=""}static blockName(){return"Utf8StringValueBlock"}toJSON(){let e={};try{e=super.toJSON()}catch(t){}return e.value=this.value,e}}class E extends a{constructor(e={}){super(e,O),"value"in e&&this.fromString(e.value),this.idBlock.tagClass=1,this.idBlock.tagNumber=12}static blockName(){return"UTF8String"}fromBER(e,t,r){const s=this.valueBlock.fromBER(e,t,!0===this.lenBlock.isIndefiniteForm?r:this.lenBlock.length);return-1===s?(this.error=this.valueBlock.error,s):(this.fromBuffer(this.valueBlock.valueHex),0===this.idBlock.error.length&&(this.blockLength+=this.idBlock.blockLength),0===this.lenBlock.error.length&&(this.blockLength+=this.lenBlock.blockLength),0===this.valueBlock.error.length&&(this.blockLength+=this.valueBlock.blockLength),s)}fromBuffer(e){this.valueBlock.value=String.fromCharCode.apply(null,new Uint8Array(e));try{this.valueBlock.value=decodeURIComponent(escape(this.valueBlock.value))}catch(t){this.warnings.push(`Error during "decodeURIComponent": ${t}, using raw string`)}}fromString(e){const t=unescape(encodeURIComponent(e)),r=t.length;this.valueBlock.valueHex=new ArrayBuffer(r);const s=new Uint8Array(this.valueBlock.valueHex);for(let i=0;i<r;i++)s[i]=t.charCodeAt(i);this.valueBlock.value=e}toString(){return`${this.constructor.blockName()} : ${this.valueBlock.value}`}}exports.Utf8String=E;class U extends(i(s)){constructor(t={}){super(t),this.valueDec=(0,e.getParametersValue)(t,"valueDec",-1)}static blockName(){return"relativeSidBlock"}fromBER(t,r,s){if(0===s)return r;if(!1===(0,e.checkBufferParams)(this,t,r,s))return-1;const i=new Uint8Array(t,r,s);this.valueHex=new ArrayBuffer(s);let n=new Uint8Array(this.valueHex);for(let e=0;e<s&&(n[e]=127&i[e],this.blockLength++,0!=(128&i[e]));e++);const o=new ArrayBuffer(this.blockLength),l=new Uint8Array(o);for(let e=0;e<this.blockLength;e++)l[e]=n[e];return this.valueHex=o.slice(0),n=new Uint8Array(this.valueHex),0!=(128&i[this.blockLength-1])?(this.error="End of input reached before message was fully decoded",-1):(0===n[0]&&this.warnings.push("Needlessly long format of SID encoding"),this.blockLength<=8?this.valueDec=(0,e.utilFromBase)(n,7):(this.isHexOnly=!0,this.warnings.push("Too big SID for decoding, hex only")),r+this.blockLength)}toBER(t=!1){let r,s;if(this.isHexOnly){if(!0===t)return new ArrayBuffer(this.valueHex.byteLength);const e=new Uint8Array(this.valueHex);r=new ArrayBuffer(this.blockLength),s=new Uint8Array(r);for(let t=0;t<this.blockLength-1;t++)s[t]=128|e[t];return s[this.blockLength-1]=e[this.blockLength-1],r}const i=(0,e.utilToBase)(this.valueDec,7);if(0===i.byteLength)return this.error="Error during encoding SID value",new ArrayBuffer(0);if(r=new ArrayBuffer(i.byteLength),!1===t){const e=new Uint8Array(i);s=new Uint8Array(r);for(let t=0;t<i.byteLength-1;t++)s[t]=128|e[t];s[i.byteLength-1]=e[i.byteLength-1]}return r}toString(){let t="";return t=!0===this.isHexOnly?(0,e.bufferToHexCodes)(this.valueHex,0,this.valueHex.byteLength):this.valueDec.toString()}toJSON(){let e={};try{e=super.toJSON()}catch(t){}return e.valueDec=this.valueDec,e}}class R extends l{constructor(t={}){super(t),this.fromString((0,e.getParametersValue)(t,"value",""))}fromBER(e,t,r){let s=t;for(;r>0;){const t=new U;if(-1===(s=t.fromBER(e,s,r)))return this.blockLength=0,this.error=t.error,s;this.blockLength+=t.blockLength,r-=t.blockLength,this.value.push(t)}return s}toBER(t=!1){let r=new ArrayBuffer(0);for(let s=0;s<this.value.length;s++){const i=this.value[s].toBER(t);if(0===i.byteLength)return this.error=this.value[s].error,new ArrayBuffer(0);r=(0,e.utilConcatBuf)(r,i)}return r}fromString(e){this.value=[];let t=0,r=0,s="";do{s=-1===(r=e.indexOf(".",t))?e.substr(t):e.substr(t,r-t),t=r+1;const i=new U;if(i.valueDec=parseInt(s,10),isNaN(i.valueDec))return!0;this.value.push(i)}while(-1!==r);return!0}toString(){let e="",t=!1;for(let r=0;r<this.value.length;r++){t=this.value[r].isHexOnly;let s=this.value[r].toString();0!==r&&(e=`${e}.`),e+=t?s=`{${s}}`:s}return e}static blockName(){return"RelativeObjectIdentifierValueBlock"}toJSON(){let e={};try{e=super.toJSON()}catch(t){}e.value=this.toString(),e.sidArray=[];for(let r=0;r<this.value.length;r++)e.sidArray.push(this.value[r].toJSON());return e}}class T extends a{constructor(e={}){super(e,R),this.idBlock.tagClass=1,this.idBlock.tagNumber=13}static blockName(){return"RelativeObjectIdentifier"}}exports.RelativeObjectIdentifier=T;class I extends(i(s)){constructor(e={}){super(e),this.isHexOnly=!0,this.value=""}static blockName(){return"BmpStringValueBlock"}toJSON(){let e={};try{e=super.toJSON()}catch(t){}return e.value=this.value,e}}class D extends a{constructor(e={}){super(e,I),"value"in e&&this.fromString(e.value),this.idBlock.tagClass=1,this.idBlock.tagNumber=30}static blockName(){return"BMPString"}fromBER(e,t,r){const s=this.valueBlock.fromBER(e,t,!0===this.lenBlock.isIndefiniteForm?r:this.lenBlock.length);return-1===s?(this.error=this.valueBlock.error,s):(this.fromBuffer(this.valueBlock.valueHex),0===this.idBlock.error.length&&(this.blockLength+=this.idBlock.blockLength),0===this.lenBlock.error.length&&(this.blockLength+=this.lenBlock.blockLength),0===this.valueBlock.error.length&&(this.blockLength+=this.valueBlock.blockLength),s)}fromBuffer(e){const t=e.slice(0),r=new Uint8Array(t);for(let s=0;s<r.length;s+=2){const e=r[s];r[s]=r[s+1],r[s+1]=e}this.valueBlock.value=String.fromCharCode.apply(null,new Uint16Array(t))}fromString(t){const r=t.length;this.valueBlock.valueHex=new ArrayBuffer(2*r);const s=new Uint8Array(this.valueBlock.valueHex);for(let i=0;i<r;i++){const r=(0,e.utilToBase)(t.charCodeAt(i),8),n=new Uint8Array(r);if(n.length>2)continue;const o=2-n.length;for(let e=n.length-1;e>=0;e--)s[2*i+e+o]=n[e]}this.valueBlock.value=t}toString(){return`${this.constructor.blockName()} : ${this.valueBlock.value}`}}exports.BmpString=D;class P extends(i(s)){constructor(e={}){super(e),this.isHexOnly=!0,this.value=""}static blockName(){return"UniversalStringValueBlock"}toJSON(){let e={};try{e=super.toJSON()}catch(t){}return e.value=this.value,e}}class F extends a{constructor(e={}){super(e,P),"value"in e&&this.fromString(e.value),this.idBlock.tagClass=1,this.idBlock.tagNumber=28}static blockName(){return"UniversalString"}fromBER(e,t,r){const s=this.valueBlock.fromBER(e,t,!0===this.lenBlock.isIndefiniteForm?r:this.lenBlock.length);return-1===s?(this.error=this.valueBlock.error,s):(this.fromBuffer(this.valueBlock.valueHex),0===this.idBlock.error.length&&(this.blockLength+=this.idBlock.blockLength),0===this.lenBlock.error.length&&(this.blockLength+=this.lenBlock.blockLength),0===this.valueBlock.error.length&&(this.blockLength+=this.valueBlock.blockLength),s)}fromBuffer(e){const t=e.slice(0),r=new Uint8Array(t);for(let s=0;s<r.length;s+=4)r[s]=r[s+3],r[s+1]=r[s+2],r[s+2]=0,r[s+3]=0;this.valueBlock.value=String.fromCharCode.apply(null,new Uint32Array(t))}fromString(t){const r=t.length;this.valueBlock.valueHex=new ArrayBuffer(4*r);const s=new Uint8Array(this.valueBlock.valueHex);for(let i=0;i<r;i++){const r=(0,e.utilToBase)(t.charCodeAt(i),8),n=new Uint8Array(r);if(n.length>4)continue;const o=4-n.length;for(let e=n.length-1;e>=0;e--)s[4*i+e+o]=n[e]}this.valueBlock.value=t}toString(){return`${this.constructor.blockName()} : ${this.valueBlock.value}`}}exports.UniversalString=F;class V extends(i(s)){constructor(e={}){super(e),this.value="",this.isHexOnly=!0}static blockName(){return"SimpleStringValueBlock"}toJSON(){let e={};try{e=super.toJSON()}catch(t){}return e.value=this.value,e}}class J extends a{constructor(e={}){super(e,V),"value"in e&&this.fromString(e.value)}static blockName(){return"SIMPLESTRING"}fromBER(e,t,r){const s=this.valueBlock.fromBER(e,t,!0===this.lenBlock.isIndefiniteForm?r:this.lenBlock.length);return-1===s?(this.error=this.valueBlock.error,s):(this.fromBuffer(this.valueBlock.valueHex),0===this.idBlock.error.length&&(this.blockLength+=this.idBlock.blockLength),0===this.lenBlock.error.length&&(this.blockLength+=this.lenBlock.blockLength),0===this.valueBlock.error.length&&(this.blockLength+=this.valueBlock.blockLength),s)}fromBuffer(e){this.valueBlock.value=String.fromCharCode.apply(null,new Uint8Array(e))}fromString(e){const t=e.length;this.valueBlock.valueHex=new ArrayBuffer(t);const r=new Uint8Array(this.valueBlock.valueHex);for(let s=0;s<t;s++)r[s]=e.charCodeAt(s);this.valueBlock.value=e}toString(){return`${this.constructor.blockName()} : ${this.valueBlock.value}`}}class $ extends J{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=18}static blockName(){return"NumericString"}}exports.NumericString=$;class _ extends J{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=19}static blockName(){return"PrintableString"}}exports.PrintableString=_;class W extends J{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=20}static blockName(){return"TeletexString"}}exports.TeletexString=W;class G extends J{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=21}static blockName(){return"VideotexString"}}exports.VideotexString=G;class M extends J{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=22}static blockName(){return"IA5String"}}exports.IA5String=M;class j extends J{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=25}static blockName(){return"GraphicString"}}exports.GraphicString=j;class Z extends J{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=26}static blockName(){return"VisibleString"}}exports.VisibleString=Z;class q extends J{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=27}static blockName(){return"GeneralString"}}exports.GeneralString=q;class z extends J{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=29}static blockName(){return"CharacterString"}}exports.CharacterString=z;class Y extends Z{constructor(e={}){if(super(e),this.year=0,this.month=0,this.day=0,this.hour=0,this.minute=0,this.second=0,"value"in e){this.fromString(e.value),this.valueBlock.valueHex=new ArrayBuffer(e.value.length);const t=new Uint8Array(this.valueBlock.valueHex);for(let r=0;r<e.value.length;r++)t[r]=e.value.charCodeAt(r)}"valueDate"in e&&(this.fromDate(e.valueDate),this.valueBlock.valueHex=this.toBuffer()),this.idBlock.tagClass=1,this.idBlock.tagNumber=23}fromBER(e,t,r){const s=this.valueBlock.fromBER(e,t,!0===this.lenBlock.isIndefiniteForm?r:this.lenBlock.length);return-1===s?(this.error=this.valueBlock.error,s):(this.fromBuffer(this.valueBlock.valueHex),0===this.idBlock.error.length&&(this.blockLength+=this.idBlock.blockLength),0===this.lenBlock.error.length&&(this.blockLength+=this.lenBlock.blockLength),0===this.valueBlock.error.length&&(this.blockLength+=this.valueBlock.blockLength),s)}fromBuffer(e){this.fromString(String.fromCharCode.apply(null,new Uint8Array(e)))}toBuffer(){const e=this.toString(),t=new ArrayBuffer(e.length),r=new Uint8Array(t);for(let s=0;s<e.length;s++)r[s]=e.charCodeAt(s);return t}fromDate(e){this.year=e.getUTCFullYear(),this.month=e.getUTCMonth()+1,this.day=e.getUTCDate(),this.hour=e.getUTCHours(),this.minute=e.getUTCMinutes(),this.second=e.getUTCSeconds()}toDate(){return new Date(Date.UTC(this.year,this.month-1,this.day,this.hour,this.minute,this.second))}fromString(e){const t=/(\d{2})(\d{2})(\d{2})(\d{2})(\d{2})(\d{2})Z/gi.exec(e);if(null===t)return void(this.error="Wrong input string for convertion");const r=parseInt(t[1],10);this.year=r>=50?1900+r:2e3+r,this.month=parseInt(t[2],10),this.day=parseInt(t[3],10),this.hour=parseInt(t[4],10),this.minute=parseInt(t[5],10),this.second=parseInt(t[6],10)}toString(){const t=new Array(7);return t[0]=(0,e.padNumber)(this.year<2e3?this.year-1900:this.year-2e3,2),t[1]=(0,e.padNumber)(this.month,2),t[2]=(0,e.padNumber)(this.day,2),t[3]=(0,e.padNumber)(this.hour,2),t[4]=(0,e.padNumber)(this.minute,2),t[5]=(0,e.padNumber)(this.second,2),t[6]="Z",t.join("")}static blockName(){return"UTCTime"}toJSON(){let e={};try{e=super.toJSON()}catch(t){}return e.year=this.year,e.month=this.month,e.day=this.day,e.hour=this.hour,e.minute=this.minute,e.second=this.second,e}}exports.UTCTime=Y;class Q extends Z{constructor(e={}){if(super(e),this.year=0,this.month=0,this.day=0,this.hour=0,this.minute=0,this.second=0,this.millisecond=0,"value"in e){this.fromString(e.value),this.valueBlock.valueHex=new ArrayBuffer(e.value.length);const t=new Uint8Array(this.valueBlock.valueHex);for(let r=0;r<e.value.length;r++)t[r]=e.value.charCodeAt(r)}"valueDate"in e&&(this.fromDate(e.valueDate),this.valueBlock.valueHex=this.toBuffer()),this.idBlock.tagClass=1,this.idBlock.tagNumber=24}fromBER(e,t,r){const s=this.valueBlock.fromBER(e,t,!0===this.lenBlock.isIndefiniteForm?r:this.lenBlock.length);return-1===s?(this.error=this.valueBlock.error,s):(this.fromBuffer(this.valueBlock.valueHex),0===this.idBlock.error.length&&(this.blockLength+=this.idBlock.blockLength),0===this.lenBlock.error.length&&(this.blockLength+=this.lenBlock.blockLength),0===this.valueBlock.error.length&&(this.blockLength+=this.valueBlock.blockLength),s)}fromBuffer(e){this.fromString(String.fromCharCode.apply(null,new Uint8Array(e)))}toBuffer(){const e=this.toString(),t=new ArrayBuffer(e.length),r=new Uint8Array(t);for(let s=0;s<e.length;s++)r[s]=e.charCodeAt(s);return t}fromDate(e){this.year=e.getUTCFullYear(),this.month=e.getUTCMonth()+1,this.day=e.getUTCDate(),this.hour=e.getUTCHours(),this.minute=e.getUTCMinutes(),this.second=e.getUTCSeconds(),this.millisecond=e.getUTCMilliseconds()}toDate(){return new Date(Date.UTC(this.year,this.month-1,this.day,this.hour,this.minute,this.second,this.millisecond))}fromString(e){let t,r=!1,s="",i="",n=0,o=0,l=0;if("Z"===e[e.length-1])s=e.substr(0,e.length-1),r=!0;else{const t=new Number(e[e.length-1]);if(isNaN(t.valueOf()))throw new Error("Wrong input string for convertion");s=e}if(r){if(-1!==s.indexOf("+"))throw new Error("Wrong input string for convertion");if(-1!==s.indexOf("-"))throw new Error("Wrong input string for convertion")}else{let e=1,t=s.indexOf("+"),r="";if(-1===t&&(t=s.indexOf("-"),e=-1),-1!==t){if(r=s.substr(t+1),s=s.substr(0,t),2!==r.length&&4!==r.length)throw new Error("Wrong input string for convertion");let i=new Number(r.substr(0,2));if(isNaN(i.valueOf()))throw new Error("Wrong input string for convertion");if(o=e*i,4===r.length){if(i=new Number(r.substr(2,2)),isNaN(i.valueOf()))throw new Error("Wrong input string for convertion");l=e*i}}}let a=s.indexOf(".");if(-1===a&&(a=s.indexOf(",")),-1!==a){const e=new Number(`0${s.substr(a)}`);if(isNaN(e.valueOf()))throw new Error("Wrong input string for convertion");n=e.valueOf(),i=s.substr(0,a)}else i=s;switch(!0){case 8===i.length:if(t=/(\d{4})(\d{2})(\d{2})/gi,-1!==a)throw new Error("Wrong input string for convertion");break;case 10===i.length:if(t=/(\d{4})(\d{2})(\d{2})(\d{2})/gi,-1!==a){let e=60*n;this.minute=Math.floor(e),e=60*(e-this.minute),this.second=Math.floor(e),e=1e3*(e-this.second),this.millisecond=Math.floor(e)}break;case 12===i.length:if(t=/(\d{4})(\d{2})(\d{2})(\d{2})(\d{2})/gi,-1!==a){let e=60*n;this.second=Math.floor(e),e=1e3*(e-this.second),this.millisecond=Math.floor(e)}break;case 14===i.length:if(t=/(\d{4})(\d{2})(\d{2})(\d{2})(\d{2})(\d{2})/gi,-1!==a){const e=1e3*n;this.millisecond=Math.floor(e)}break;default:throw new Error("Wrong input string for convertion")}const c=t.exec(i);if(null===c)throw new Error("Wrong input string for convertion");for(let u=1;u<c.length;u++)switch(u){case 1:this.year=parseInt(c[u],10);break;case 2:this.month=parseInt(c[u],10);break;case 3:this.day=parseInt(c[u],10);break;case 4:this.hour=parseInt(c[u],10)+o;break;case 5:this.minute=parseInt(c[u],10)+l;break;case 6:this.second=parseInt(c[u],10);break;default:throw new Error("Wrong input string for convertion")}if(!1===r){const e=new Date(this.year,this.month,this.day,this.hour,this.minute,this.second,this.millisecond);this.year=e.getUTCFullYear(),this.month=e.getUTCMonth(),this.day=e.getUTCDay(),this.hour=e.getUTCHours(),this.minute=e.getUTCMinutes(),this.second=e.getUTCSeconds(),this.millisecond=e.getUTCMilliseconds()}}toString(){const t=[];return t.push((0,e.padNumber)(this.year,4)),t.push((0,e.padNumber)(this.month,2)),t.push((0,e.padNumber)(this.day,2)),t.push((0,e.padNumber)(this.hour,2)),t.push((0,e.padNumber)(this.minute,2)),t.push((0,e.padNumber)(this.second,2)),0!==this.millisecond&&(t.push("."),t.push((0,e.padNumber)(this.millisecond,3))),t.push("Z"),t.join("")}static blockName(){return"GeneralizedTime"}toJSON(){let e={};try{e=super.toJSON()}catch(t){}return e.year=this.year,e.month=this.month,e.day=this.day,e.hour=this.hour,e.minute=this.minute,e.second=this.second,e.millisecond=this.millisecond,e}}exports.GeneralizedTime=Q;class K extends E{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=31}static blockName(){return"DATE"}}exports.DATE=K;class X extends E{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=32}static blockName(){return"TimeOfDay"}}exports.TimeOfDay=X;class ee extends E{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=33}static blockName(){return"DateTime"}}exports.DateTime=ee;class te extends E{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=34}static blockName(){return"Duration"}}exports.Duration=te;class re extends E{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=14}static blockName(){return"TIME"}}exports.TIME=re;class se{constructor(t={}){this.value=(0,e.getParametersValue)(t,"value",[]),this.optional=(0,e.getParametersValue)(t,"optional",!1)}}exports.Choice=se;class ie{constructor(t={}){this.name=(0,e.getParametersValue)(t,"name",""),this.optional=(0,e.getParametersValue)(t,"optional",!1)}}exports.Any=ie;class ne{constructor(t={}){this.name=(0,e.getParametersValue)(t,"name",""),this.optional=(0,e.getParametersValue)(t,"optional",!1),this.value=(0,e.getParametersValue)(t,"value",new ie),this.local=(0,e.getParametersValue)(t,"local",!1)}}exports.Repeated=ne;class oe{constructor(t={}){this.data=(0,e.getParametersValue)(t,"data",new ArrayBuffer(0))}fromBER(e,t,r){return this.data=e.slice(t,r),t+r}toBER(e=!1){return this.data}}function le(t,r,i){const n=r;let o=new a({},Object);const l=new s;if(!1===(0,e.checkBufferParams)(l,t,r,i))return o.error=l.error,{offset:-1,result:o};if(0===new Uint8Array(t,r,i).length)return o.error="Zero buffer length",{offset:-1,result:o};let c=o.idBlock.fromBER(t,r,i);if(o.warnings.concat(o.idBlock.warnings),-1===c)return o.error=o.idBlock.error,{offset:-1,result:o};if(r=c,i-=o.idBlock.blockLength,c=o.lenBlock.fromBER(t,r,i),o.warnings.concat(o.lenBlock.warnings),-1===c)return o.error=o.lenBlock.error,{offset:-1,result:o};if(r=c,i-=o.lenBlock.blockLength,!1===o.idBlock.isConstructed&&!0===o.lenBlock.isIndefiniteForm)return o.error="Indefinite length form used for primitive encoding form",{offset:-1,result:o};let h=a;switch(o.idBlock.tagClass){case 1:if(o.idBlock.tagNumber>=37&&!1===o.idBlock.isHexOnly)return o.error="UNIVERSAL 37 and upper tags are reserved by ASN.1 standard",{offset:-1,result:o};switch(o.idBlock.tagNumber){case 0:if(!0===o.idBlock.isConstructed&&o.lenBlock.length>0)return o.error="Type [UNIVERSAL 0] is reserved",{offset:-1,result:o};h=k;break;case 1:h=B;break;case 2:h=S;break;case 3:h=w;break;case 4:h=x;break;case 5:h=b;break;case 6:h=C;break;case 10:h=H;break;case 12:h=E;break;case 13:h=T;break;case 14:h=re;break;case 15:return o.error="[UNIVERSAL 15] is reserved by ASN.1 standard",{offset:-1,result:o};case 16:h=v;break;case 17:h=m;break;case 18:h=$;break;case 19:h=_;break;case 20:h=W;break;case 21:h=G;break;case 22:h=M;break;case 23:h=Y;break;case 24:h=Q;break;case 25:h=j;break;case 26:h=Z;break;case 27:h=q;break;case 28:h=F;break;case 29:h=z;break;case 30:h=D;break;case 31:h=K;break;case 32:h=X;break;case 33:h=ee;break;case 34:h=te;break;default:{let e;(e=!0===o.idBlock.isConstructed?new f:new u).idBlock=o.idBlock,e.lenBlock=o.lenBlock,e.warnings=o.warnings,o=e}}break;case 2:case 3:case 4:default:h=!0===o.idBlock.isConstructed?f:u}return c=(o=function(e,t){if(e instanceof t)return e;const r=new t;return r.idBlock=e.idBlock,r.lenBlock=e.lenBlock,r.warnings=e.warnings,r.valueBeforeDecode=e.valueBeforeDecode.slice(0),r}(o,h)).fromBER(t,r,!0===o.lenBlock.isIndefiniteForm?i:o.lenBlock.length),o.valueBeforeDecode=t.slice(n,n+o.blockLength),{offset:c,result:o}}function ae(e){if(0===e.byteLength){const e=new a({},Object);return e.error="Input buffer has zero length",{offset:-1,result:e}}return le(e,0,e.byteLength)}function ce(e,t,r){if(r instanceof se){const s=!1;for(let i=0;i<r.value.length;i++){if(!0===ce(e,t,r.value[i]).verified)return{verified:!0,result:e}}if(!1===s){const e={verified:!1,result:{error:"Wrong values for Choice type"}};return r.hasOwnProperty("name")&&(e.name=r.name),e}}if(r instanceof ie)return r.hasOwnProperty("name")&&(e[r.name]=t),{verified:!0,result:e};if(e instanceof Object==!1)return{verified:!1,result:{error:"Wrong root object"}};if(t instanceof Object==!1)return{verified:!1,result:{error:"Wrong ASN.1 data"}};if(r instanceof Object==!1)return{verified:!1,result:{error:"Wrong ASN.1 schema"}};if("idBlock"in r==!1)return{verified:!1,result:{error:"Wrong ASN.1 schema"}};if("fromBER"in r.idBlock==!1)return{verified:!1,result:{error:"Wrong ASN.1 schema"}};if("toBER"in r.idBlock==!1)return{verified:!1,result:{error:"Wrong ASN.1 schema"}};const s=r.idBlock.toBER(!1);if(0===s.byteLength)return{verified:!1,result:{error:"Error encoding idBlock for ASN.1 schema"}};if(-1===r.idBlock.fromBER(s,0,s.byteLength))return{verified:!1,result:{error:"Error decoding idBlock for ASN.1 schema"}};if(!1===r.idBlock.hasOwnProperty("tagClass"))return{verified:!1,result:{error:"Wrong ASN.1 schema"}};if(r.idBlock.tagClass!==t.idBlock.tagClass)return{verified:!1,result:e};if(!1===r.idBlock.hasOwnProperty("tagNumber"))return{verified:!1,result:{error:"Wrong ASN.1 schema"}};if(r.idBlock.tagNumber!==t.idBlock.tagNumber)return{verified:!1,result:e};if(!1===r.idBlock.hasOwnProperty("isConstructed"))return{verified:!1,result:{error:"Wrong ASN.1 schema"}};if(r.idBlock.isConstructed!==t.idBlock.isConstructed)return{verified:!1,result:e};if("isHexOnly"in r.idBlock==!1)return{verified:!1,result:{error:"Wrong ASN.1 schema"}};if(r.idBlock.isHexOnly!==t.idBlock.isHexOnly)return{verified:!1,result:e};if(!0===r.idBlock.isHexOnly){if("valueHex"in r.idBlock==!1)return{verified:!1,result:{error:"Wrong ASN.1 schema"}};const s=new Uint8Array(r.idBlock.valueHex),i=new Uint8Array(t.idBlock.valueHex);if(s.length!==i.length)return{verified:!1,result:e};for(let t=0;t<s.length;t++)if(s[t]!==i[1])return{verified:!1,result:e}}if(r.hasOwnProperty("name")&&(r.name=r.name.replace(/^\s+|\s+$/g,""),""!==r.name&&(e[r.name]=t)),!0===r.idBlock.isConstructed){let s=0,i={verified:!1},n=r.valueBlock.value.length;if(n>0&&r.valueBlock.value[0]instanceof ne&&(n=t.valueBlock.value.length),0===n)return{verified:!0,result:e};if(0===t.valueBlock.value.length&&0!==r.valueBlock.value.length){let t=!0;for(let e=0;e<r.valueBlock.value.length;e++)t=t&&(r.valueBlock.value[e].optional||!1);return!0===t?{verified:!0,result:e}:(r.hasOwnProperty("name")&&(r.name=r.name.replace(/^\s+|\s+$/g,""),""!==r.name&&delete e[r.name]),e.error="Inconsistent object length",{verified:!1,result:e})}for(let o=0;o<n;o++)if(o-s>=t.valueBlock.value.length){if(!1===r.valueBlock.value[o].optional){const t={verified:!1,result:e};return e.error="Inconsistent length between ASN.1 data and schema",r.hasOwnProperty("name")&&(r.name=r.name.replace(/^\s+|\s+$/g,""),""!==r.name&&(delete e[r.name],t.name=r.name)),t}}else if(r.valueBlock.value[0]instanceof ne){if(!1===(i=ce(e,t.valueBlock.value[o],r.valueBlock.value[0].value)).verified){if(!0!==r.valueBlock.value[0].optional)return r.hasOwnProperty("name")&&(r.name=r.name.replace(/^\s+|\s+$/g,""),""!==r.name&&delete e[r.name]),i;s++}if("name"in r.valueBlock.value[0]&&r.valueBlock.value[0].name.length>0){let s={};void 0===(s="local"in r.valueBlock.value[0]&&!0===r.valueBlock.value[0].local?t:e)[r.valueBlock.value[0].name]&&(s[r.valueBlock.value[0].name]=[]),s[r.valueBlock.value[0].name].push(t.valueBlock.value[o])}}else if(!1===(i=ce(e,t.valueBlock.value[o-s],r.valueBlock.value[o])).verified){if(!0!==r.valueBlock.value[o].optional)return r.hasOwnProperty("name")&&(r.name=r.name.replace(/^\s+|\s+$/g,""),""!==r.name&&delete e[r.name]),i;s++}if(!1===i.verified){const t={verified:!1,result:e};return r.hasOwnProperty("name")&&(r.name=r.name.replace(/^\s+|\s+$/g,""),""!==r.name&&(delete e[r.name],t.name=r.name)),t}return{verified:!0,result:e}}if("primitiveSchema"in r&&"valueHex"in t.valueBlock){const s=ae(t.valueBlock.valueHex);if(-1===s.offset){const t={verified:!1,result:s.result};return r.hasOwnProperty("name")&&(r.name=r.name.replace(/^\s+|\s+$/g,""),""!==r.name&&(delete e[r.name],t.name=r.name)),t}return ce(e,s.result,r.primitiveSchema)}return{verified:!0,result:e}}function ue(e,t){if(t instanceof Object==!1)return{verified:!1,result:{error:"Wrong ASN.1 schema type"}};const r=ae(e);return-1===r.offset?{verified:!1,result:r.result}:ce(r.result,r.result,t)}function he(e){}exports.RawData=oe;
},{"pvutils":"V6vO"}],"D4jV":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var a=e(require("asn1js")),t=require("pvutils");function r(a){if("function"!=typeof WeakMap)return null;var t=new WeakMap,e=new WeakMap;return(r=function(a){return a?e:t})(a)}function e(a,t){if(!t&&a&&a.__esModule)return a;if(null===a||"object"!=typeof a&&"function"!=typeof a)return{default:a};var e=r(t);if(e&&e.has(a))return e.get(a);var i={},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in a)if("default"!==o&&Object.prototype.hasOwnProperty.call(a,o)){var n=s?Object.getOwnPropertyDescriptor(a,o):null;n&&(n.get||n.set)?Object.defineProperty(i,o,n):i[o]=a[o]}return i.default=a,e&&e.set(a,i),i}class i{constructor(a={}){this.algorithmId=(0,t.getParametersValue)(a,"algorithmId",i.defaultValues("algorithmId")),"algorithmParams"in a&&(this.algorithmParams=(0,t.getParametersValue)(a,"algorithmParams",i.defaultValues("algorithmParams"))),"schema"in a&&this.fromSchema(a.schema)}static defaultValues(t){switch(t){case"algorithmId":return"";case"algorithmParams":return new a.Any;default:throw new Error(`Invalid member name for AlgorithmIdentifier class: ${t}`)}}static compareWithDefault(t,r){switch(t){case"algorithmId":return""===r;case"algorithmParams":return r instanceof a.Any;default:throw new Error(`Invalid member name for AlgorithmIdentifier class: ${t}`)}}static schema(r={}){const e=(0,t.getParametersValue)(r,"names",{});return new a.Sequence({name:e.blockName||"",optional:e.optional||!1,value:[new a.ObjectIdentifier({name:e.algorithmIdentifier||""}),new a.Any({name:e.algorithmParams||"",optional:!0})]})}fromSchema(r){(0,t.clearProps)(r,["algorithm","params"]);const e=a.compareSchema(r,r,i.schema({names:{algorithmIdentifier:"algorithm",algorithmParams:"params"}}));if(!1===e.verified)throw new Error("Object's schema was not verified against input data for AlgorithmIdentifier");this.algorithmId=e.result.algorithm.valueBlock.toString(),"params"in e.result&&(this.algorithmParams=e.result.params)}toSchema(){const t=[];return t.push(new a.ObjectIdentifier({value:this.algorithmId})),"algorithmParams"in this&&this.algorithmParams instanceof a.Any==!1&&t.push(this.algorithmParams),new a.Sequence({value:t})}toJSON(){const t={algorithmId:this.algorithmId};return"algorithmParams"in this&&this.algorithmParams instanceof a.Any==!1&&(t.algorithmParams=this.algorithmParams.toJSON()),t}isEqual(a){return a instanceof i!=!1&&(this.algorithmId===a.algorithmId&&("algorithmParams"in this?"algorithmParams"in a&&JSON.stringify(this.algorithmParams)===JSON.stringify(a.algorithmParams):!("algorithmParams"in a)))}}exports.default=i;
},{"asn1js":"h7Xx","pvutils":"V6vO"}],"EIvz":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=a(require("asn1js")),r=require("pvutils");function t(e){if("function"!=typeof WeakMap)return null;var r=new WeakMap,a=new WeakMap;return(t=function(e){return e?a:r})(e)}function a(e,r){if(!r&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=t(r);if(a&&a.has(e))return a.get(e);var s={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var u=n?Object.getOwnPropertyDescriptor(e,i):null;u&&(u.get||u.set)?Object.defineProperty(s,i,u):s[i]=e[i]}return s.default=e,a&&a.set(e,s),s}class s{constructor(e={}){this.x=(0,r.getParametersValue)(e,"x",s.defaultValues("x")),this.y=(0,r.getParametersValue)(e,"y",s.defaultValues("y")),this.namedCurve=(0,r.getParametersValue)(e,"namedCurve",s.defaultValues("namedCurve")),"schema"in e&&this.fromSchema(e.schema),"json"in e&&this.fromJSON(e.json)}static defaultValues(e){switch(e){case"x":case"y":return new ArrayBuffer(0);case"namedCurve":return"";default:throw new Error(`Invalid member name for ECCPublicKey class: ${e}`)}}static compareWithDefault(e,t){switch(e){case"x":case"y":return(0,r.isEqualBuffer)(t,s.defaultValues(e));case"namedCurve":return""===t;default:throw new Error(`Invalid member name for ECCPublicKey class: ${e}`)}}static schema(r={}){return new e.RawData}fromSchema(e){if(e instanceof ArrayBuffer==!1)throw new Error("Object's schema was not verified against input data for ECPublicKey");if(4!==new Uint8Array(e)[0])throw new Error("Object's schema was not verified against input data for ECPublicKey");let r;switch(this.namedCurve){case"1.2.840.10045.3.1.7":r=32;break;case"1.3.132.0.34":r=48;break;case"1.3.132.0.35":r=66;break;default:throw new Error(`Incorrect curve OID: ${this.namedCurve}`)}if(e.byteLength!==2*r+1)throw new Error("Object's schema was not verified against input data for ECPublicKey");this.x=e.slice(1,r+1),this.y=e.slice(1+r,2*r+1)}toSchema(){return new e.RawData({data:(0,r.utilConcatBuf)(new Uint8Array([4]).buffer,this.x,this.y)})}toJSON(){let e="";switch(this.namedCurve){case"1.2.840.10045.3.1.7":e="P-256";break;case"1.3.132.0.34":e="P-384";break;case"1.3.132.0.35":e="P-521"}return{crv:e,x:(0,r.toBase64)((0,r.arrayBufferToString)(this.x),!0,!0,!1),y:(0,r.toBase64)((0,r.arrayBufferToString)(this.y),!0,!0,!1)}}fromJSON(e){let t=0;if(!("crv"in e))throw new Error('Absent mandatory parameter "crv"');switch(e.crv.toUpperCase()){case"P-256":this.namedCurve="1.2.840.10045.3.1.7",t=32;break;case"P-384":this.namedCurve="1.3.132.0.34",t=48;break;case"P-521":this.namedCurve="1.3.132.0.35",t=66}if(!("x"in e))throw new Error('Absent mandatory parameter "x"');{const a=(0,r.stringToArrayBuffer)((0,r.fromBase64)(e.x,!0));if(a.byteLength<t){this.x=new ArrayBuffer(t);const e=new Uint8Array(this.x),r=new Uint8Array(a);e.set(r,1)}else this.x=a.slice(0,t)}if(!("y"in e))throw new Error('Absent mandatory parameter "y"');{const a=(0,r.stringToArrayBuffer)((0,r.fromBase64)(e.y,!0));if(a.byteLength<t){this.y=new ArrayBuffer(t);const e=new Uint8Array(this.y),r=new Uint8Array(a);e.set(r,1)}else this.y=a.slice(0,t)}}}exports.default=s;
},{"asn1js":"h7Xx","pvutils":"V6vO"}],"IA3c":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=n(require("asn1js")),t=require("pvutils");function r(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(r=function(e){return e?n:t})(e)}function n(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=r(t);if(n&&n.has(e))return n.get(e);var u={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var s=o?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(u,a,s):u[a]=e[a]}return u.default=e,n&&n.set(e,u),u}class u{constructor(e={}){this.modulus=(0,t.getParametersValue)(e,"modulus",u.defaultValues("modulus")),this.publicExponent=(0,t.getParametersValue)(e,"publicExponent",u.defaultValues("publicExponent")),"schema"in e&&this.fromSchema(e.schema),"json"in e&&this.fromJSON(e.json)}static defaultValues(t){switch(t){case"modulus":case"publicExponent":return new e.Integer;default:throw new Error(`Invalid member name for RSAPublicKey class: ${t}`)}}static schema(r={}){const n=(0,t.getParametersValue)(r,"names",{});return new e.Sequence({name:n.blockName||"",value:[new e.Integer({name:n.modulus||""}),new e.Integer({name:n.publicExponent||""})]})}fromSchema(r){(0,t.clearProps)(r,["modulus","publicExponent"]);const n=e.compareSchema(r,r,u.schema({names:{modulus:"modulus",publicExponent:"publicExponent"}}));if(!1===n.verified)throw new Error("Object's schema was not verified against input data for RSAPublicKey");this.modulus=n.result.modulus.convertFromDER(256),this.publicExponent=n.result.publicExponent}toSchema(){return new e.Sequence({value:[this.modulus.convertToDER(),this.publicExponent]})}toJSON(){return{n:(0,t.toBase64)((0,t.arrayBufferToString)(this.modulus.valueBlock.valueHex),!0,!0,!0),e:(0,t.toBase64)((0,t.arrayBufferToString)(this.publicExponent.valueBlock.valueHex),!0,!0,!0)}}fromJSON(r){if(!("n"in r))throw new Error('Absent mandatory parameter "n"');{const n=(0,t.stringToArrayBuffer)((0,t.fromBase64)(r.n,!0));this.modulus=new e.Integer({valueHex:n.slice(0,Math.pow(2,(0,t.nearestPowerOf2)(n.byteLength)))})}if(!("e"in r))throw new Error('Absent mandatory parameter "e"');this.publicExponent=new e.Integer({valueHex:(0,t.stringToArrayBuffer)((0,t.fromBase64)(r.e,!0)).slice(0,3)})}}exports.default=u;
},{"asn1js":"h7Xx","pvutils":"V6vO"}],"Gwml":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=u(require("asn1js")),t=require("pvutils"),r=require("./common.js"),a=o(require("./AlgorithmIdentifier.js")),i=o(require("./ECPublicKey.js")),s=o(require("./RSAPublicKey.js"));function o(e){return e&&e.__esModule?e:{default:e}}function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(c=function(e){return e?r:t})(e)}function u(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=c(t);if(r&&r.has(e))return r.get(e);var a={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var o=i?Object.getOwnPropertyDescriptor(e,s):null;o&&(o.get||o.set)?Object.defineProperty(a,s,o):a[s]=e[s]}return a.default=e,r&&r.set(e,a),a}class l{constructor(e={}){this.algorithm=(0,t.getParametersValue)(e,"algorithm",l.defaultValues("algorithm")),this.subjectPublicKey=(0,t.getParametersValue)(e,"subjectPublicKey",l.defaultValues("subjectPublicKey")),"parsedKey"in e&&(this.parsedKey=(0,t.getParametersValue)(e,"parsedKey",l.defaultValues("parsedKey"))),"schema"in e&&this.fromSchema(e.schema),"json"in e&&this.fromJSON(e.json)}static defaultValues(t){switch(t){case"algorithm":return new a.default;case"subjectPublicKey":return new e.BitString;default:throw new Error(`Invalid member name for PublicKeyInfo class: ${t}`)}}static schema(r={}){const i=(0,t.getParametersValue)(r,"names",{});return new e.Sequence({name:i.blockName||"",value:[a.default.schema(i.algorithm||{}),new e.BitString({name:i.subjectPublicKey||""})]})}fromSchema(r){(0,t.clearProps)(r,["algorithm","subjectPublicKey"]);const o=e.compareSchema(r,r,l.schema({names:{algorithm:{names:{blockName:"algorithm"}},subjectPublicKey:"subjectPublicKey"}}));if(!1===o.verified)throw new Error("Object's schema was not verified against input data for PublicKeyInfo");switch(this.algorithm=new a.default({schema:o.result.algorithm}),this.subjectPublicKey=o.result.subjectPublicKey,this.algorithm.algorithmId){case"1.2.840.10045.2.1":if("algorithmParams"in this.algorithm&&this.algorithm.algorithmParams.constructor.blockName()===e.ObjectIdentifier.blockName())try{this.parsedKey=new i.default({namedCurve:this.algorithm.algorithmParams.valueBlock.toString(),schema:this.subjectPublicKey.valueBlock.valueHex})}catch(c){}break;case"1.2.840.113549.1.1.1":{const t=e.fromBER(this.subjectPublicKey.valueBlock.valueHex);if(-1!==t.offset)try{this.parsedKey=new s.default({schema:t.result})}catch(c){}}}}toSchema(){return new e.Sequence({value:[this.algorithm.toSchema(),this.subjectPublicKey]})}toJSON(){if("parsedKey"in this==!1)return{algorithm:this.algorithm.toJSON(),subjectPublicKey:this.subjectPublicKey.toJSON()};const e={};switch(this.algorithm.algorithmId){case"1.2.840.10045.2.1":e.kty="EC";break;case"1.2.840.113549.1.1.1":e.kty="RSA"}const t=this.parsedKey.toJSON();for(const r of Object.keys(t))e[r]=t[r];return e}fromJSON(t){if("kty"in t){switch(t.kty.toUpperCase()){case"EC":this.parsedKey=new i.default({json:t}),this.algorithm=new a.default({algorithmId:"1.2.840.10045.2.1",algorithmParams:new e.ObjectIdentifier({value:this.parsedKey.namedCurve})});break;case"RSA":this.parsedKey=new s.default({json:t}),this.algorithm=new a.default({algorithmId:"1.2.840.113549.1.1.1",algorithmParams:new e.Null});break;default:throw new Error(`Invalid value for "kty" parameter: ${t.kty}`)}this.subjectPublicKey=new e.BitString({valueHex:this.parsedKey.toSchema().toBER(!1)})}}importKey(t){let a=Promise.resolve();const i=this;if(void 0===t)return Promise.reject("Need to provide publicKey input parameter");const s=(0,r.getCrypto)();return void 0===s?Promise.reject("Unable to create WebCrypto object"):a=(a=a.then(()=>s.exportKey("spki",t))).then(t=>{const r=e.fromBER(t);try{i.fromSchema(r.result)}catch(a){return Promise.reject("Error during initializing object from schema")}},e=>Promise.reject(`Error during exporting public key: ${e}`))}}exports.default=l;
},{"asn1js":"h7Xx","pvutils":"V6vO","./common.js":"ViMO","./AlgorithmIdentifier.js":"D4jV","./ECPublicKey.js":"EIvz","./RSAPublicKey.js":"IA3c"}],"stBO":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=a(require("asn1js")),t=require("pvutils");function r(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(r=function(e){return e?a:t})(e)}function a(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=r(t);if(a&&a.has(e))return a.get(e);var s={},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var n in e)if("default"!==n&&Object.prototype.hasOwnProperty.call(e,n)){var l=u?Object.getOwnPropertyDescriptor(e,n):null;l&&(l.get||l.set)?Object.defineProperty(s,n,l):s[n]=e[n]}return s.default=e,a&&a.set(e,s),s}class s{constructor(e={}){this.type=(0,t.getParametersValue)(e,"type",s.defaultValues("type")),this.values=(0,t.getParametersValue)(e,"values",s.defaultValues("values")),"schema"in e&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case"type":return"";case"values":return[];default:throw new Error(`Invalid member name for Attribute class: ${e}`)}}static compareWithDefault(e,t){switch(e){case"type":return""===t;case"values":return 0===t.length;default:throw new Error(`Invalid member name for Attribute class: ${e}`)}}static schema(r={}){const a=(0,t.getParametersValue)(r,"names",{});return new e.Sequence({name:a.blockName||"",value:[new e.ObjectIdentifier({name:a.type||""}),new e.Set({name:a.setName||"",value:[new e.Repeated({name:a.values||"",value:new e.Any})]})]})}fromSchema(r){(0,t.clearProps)(r,["type","values"]);const a=e.compareSchema(r,r,s.schema({names:{type:"type",values:"values"}}));if(!1===a.verified)throw new Error("Object's schema was not verified against input data for Attribute");this.type=a.result.type.valueBlock.toString(),this.values=a.result.values}toSchema(){return new e.Sequence({value:[new e.ObjectIdentifier({value:this.type}),new e.Set({value:this.values})]})}toJSON(){return{type:this.type,values:Array.from(this.values,e=>e.toJSON())}}}exports.default=s;
},{"asn1js":"h7Xx","pvutils":"V6vO"}],"Itsp":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=i(require("asn1js")),t=require("pvutils"),r=a(require("./ECPublicKey.js"));function a(e){return e&&e.__esModule?e:{default:e}}function n(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(n=function(e){return e?r:t})(e)}function i(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=n(t);if(r&&r.has(e))return r.get(e);var a={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e)if("default"!==u&&Object.prototype.hasOwnProperty.call(e,u)){var s=i?Object.getOwnPropertyDescriptor(e,u):null;s&&(s.get||s.set)?Object.defineProperty(a,u,s):a[u]=e[u]}return a.default=e,r&&r.set(e,a),a}class u{constructor(e={}){this.version=(0,t.getParametersValue)(e,"version",u.defaultValues("version")),this.privateKey=(0,t.getParametersValue)(e,"privateKey",u.defaultValues("privateKey")),"namedCurve"in e&&(this.namedCurve=(0,t.getParametersValue)(e,"namedCurve",u.defaultValues("namedCurve"))),"publicKey"in e&&(this.publicKey=(0,t.getParametersValue)(e,"publicKey",u.defaultValues("publicKey"))),"schema"in e&&this.fromSchema(e.schema),"json"in e&&this.fromJSON(e.json)}static defaultValues(t){switch(t){case"version":return 1;case"privateKey":return new e.OctetString;case"namedCurve":return"";case"publicKey":return new r.default;default:throw new Error(`Invalid member name for ECCPrivateKey class: ${t}`)}}static compareWithDefault(e,t){switch(e){case"version":return t===u.defaultValues(e);case"privateKey":return t.isEqual(u.defaultValues(e));case"namedCurve":return""===t;case"publicKey":return r.default.compareWithDefault("namedCurve",t.namedCurve)&&r.default.compareWithDefault("x",t.x)&&r.default.compareWithDefault("y",t.y);default:throw new Error(`Invalid member name for ECCPrivateKey class: ${e}`)}}static schema(r={}){const a=(0,t.getParametersValue)(r,"names",{});return new e.Sequence({name:a.blockName||"",value:[new e.Integer({name:a.version||""}),new e.OctetString({name:a.privateKey||""}),new e.Constructed({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[new e.ObjectIdentifier({name:a.namedCurve||""})]}),new e.Constructed({optional:!0,idBlock:{tagClass:3,tagNumber:1},value:[new e.BitString({name:a.publicKey||""})]})]})}fromSchema(a){(0,t.clearProps)(a,["version","privateKey","namedCurve","publicKey"]);const n=e.compareSchema(a,a,u.schema({names:{version:"version",privateKey:"privateKey",namedCurve:"namedCurve",publicKey:"publicKey"}}));if(!1===n.verified)throw new Error("Object's schema was not verified against input data for ECPrivateKey");if(this.version=n.result.version.valueBlock.valueDec,this.privateKey=n.result.privateKey,"namedCurve"in n.result&&(this.namedCurve=n.result.namedCurve.valueBlock.toString()),"publicKey"in n.result){const e={schema:n.result.publicKey.valueBlock.valueHex};"namedCurve"in this&&(e.namedCurve=this.namedCurve),this.publicKey=new r.default(e)}}toSchema(){const t=[new e.Integer({value:this.version}),this.privateKey];return"namedCurve"in this&&t.push(new e.Constructed({idBlock:{tagClass:3,tagNumber:0},value:[new e.ObjectIdentifier({value:this.namedCurve})]})),"publicKey"in this&&t.push(new e.Constructed({idBlock:{tagClass:3,tagNumber:1},value:[new e.BitString({valueHex:this.publicKey.toSchema().toBER(!1)})]})),new e.Sequence({value:t})}toJSON(){if("namedCurve"in this==!1||u.compareWithDefault("namedCurve",this.namedCurve))throw new Error('Not enough information for making JSON: absent "namedCurve" value');let e="";switch(this.namedCurve){case"1.2.840.10045.3.1.7":e="P-256";break;case"1.3.132.0.34":e="P-384";break;case"1.3.132.0.35":e="P-521"}const r={crv:e,d:(0,t.toBase64)((0,t.arrayBufferToString)(this.privateKey.valueBlock.valueHex),!0,!0,!1)};if("publicKey"in this){const e=this.publicKey.toJSON();r.x=e.x,r.y=e.y}return r}fromJSON(a){let n=0;if(!("crv"in a))throw new Error('Absent mandatory parameter "crv"');switch(a.crv.toUpperCase()){case"P-256":this.namedCurve="1.2.840.10045.3.1.7",n=32;break;case"P-384":this.namedCurve="1.3.132.0.34",n=48;break;case"P-521":this.namedCurve="1.3.132.0.35",n=66}if(!("d"in a))throw new Error('Absent mandatory parameter "d"');{const r=(0,t.stringToArrayBuffer)((0,t.fromBase64)(a.d,!0));if(r.byteLength<n){const t=new ArrayBuffer(n),a=new Uint8Array(t),i=new Uint8Array(r);a.set(i,1),this.privateKey=new e.OctetString({valueHex:t})}else this.privateKey=new e.OctetString({valueHex:r.slice(0,n)})}"x"in a&&"y"in a&&(this.publicKey=new r.default({json:a}))}}exports.default=u;
},{"asn1js":"h7Xx","pvutils":"V6vO","./ECPublicKey.js":"EIvz"}],"R0I1":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=n(require("asn1js")),r=require("pvutils");function t(e){if("function"!=typeof WeakMap)return null;var r=new WeakMap,n=new WeakMap;return(t=function(e){return e?n:r})(e)}function n(e,r){if(!r&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=t(r);if(n&&n.has(e))return n.get(e);var a={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var f=o?Object.getOwnPropertyDescriptor(e,i):null;f&&(f.get||f.set)?Object.defineProperty(a,i,f):a[i]=e[i]}return a.default=e,n&&n.set(e,a),a}class a{constructor(e={}){this.prime=(0,r.getParametersValue)(e,"prime",a.defaultValues("prime")),this.exponent=(0,r.getParametersValue)(e,"exponent",a.defaultValues("exponent")),this.coefficient=(0,r.getParametersValue)(e,"coefficient",a.defaultValues("coefficient")),"schema"in e&&this.fromSchema(e.schema),"json"in e&&this.fromJSON(e.json)}static defaultValues(r){switch(r){case"prime":case"exponent":case"coefficient":return new e.Integer;default:throw new Error(`Invalid member name for OtherPrimeInfo class: ${r}`)}}static schema(t={}){const n=(0,r.getParametersValue)(t,"names",{});return new e.Sequence({name:n.blockName||"",value:[new e.Integer({name:n.prime||""}),new e.Integer({name:n.exponent||""}),new e.Integer({name:n.coefficient||""})]})}fromSchema(t){(0,r.clearProps)(t,["prime","exponent","coefficient"]);const n=e.compareSchema(t,t,a.schema({names:{prime:"prime",exponent:"exponent",coefficient:"coefficient"}}));if(!1===n.verified)throw new Error("Object's schema was not verified against input data for OtherPrimeInfo");this.prime=n.result.prime.convertFromDER(),this.exponent=n.result.exponent.convertFromDER(),this.coefficient=n.result.coefficient.convertFromDER()}toSchema(){return new e.Sequence({value:[this.prime.convertToDER(),this.exponent.convertToDER(),this.coefficient.convertToDER()]})}toJSON(){return{r:(0,r.toBase64)((0,r.arrayBufferToString)(this.prime.valueBlock.valueHex),!0,!0),d:(0,r.toBase64)((0,r.arrayBufferToString)(this.exponent.valueBlock.valueHex),!0,!0),t:(0,r.toBase64)((0,r.arrayBufferToString)(this.coefficient.valueBlock.valueHex),!0,!0)}}fromJSON(t){if(!("r"in t))throw new Error('Absent mandatory parameter "r"');if(this.prime=new e.Integer({valueHex:(0,r.stringToArrayBuffer)((0,r.fromBase64)(t.r,!0))}),!("d"in t))throw new Error('Absent mandatory parameter "d"');if(this.exponent=new e.Integer({valueHex:(0,r.stringToArrayBuffer)((0,r.fromBase64)(t.d,!0))}),!("t"in t))throw new Error('Absent mandatory parameter "t"');this.coefficient=new e.Integer({valueHex:(0,r.stringToArrayBuffer)((0,r.fromBase64)(t.t,!0))})}}exports.default=a;
},{"asn1js":"h7Xx","pvutils":"V6vO"}],"aFxw":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=a(require("asn1js")),r=require("pvutils"),t=n(require("./OtherPrimeInfo.js"));function n(e){return e&&e.__esModule?e:{default:e}}function o(e){if("function"!=typeof WeakMap)return null;var r=new WeakMap,t=new WeakMap;return(o=function(e){return e?t:r})(e)}function a(e,r){if(!r&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=o(r);if(t&&t.has(e))return t.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var s=a?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(n,i,s):n[i]=e[i]}return n.default=e,t&&t.set(e,n),n}class i{constructor(e={}){this.version=(0,r.getParametersValue)(e,"version",i.defaultValues("version")),this.modulus=(0,r.getParametersValue)(e,"modulus",i.defaultValues("modulus")),this.publicExponent=(0,r.getParametersValue)(e,"publicExponent",i.defaultValues("publicExponent")),this.privateExponent=(0,r.getParametersValue)(e,"privateExponent",i.defaultValues("privateExponent")),this.prime1=(0,r.getParametersValue)(e,"prime1",i.defaultValues("prime1")),this.prime2=(0,r.getParametersValue)(e,"prime2",i.defaultValues("prime2")),this.exponent1=(0,r.getParametersValue)(e,"exponent1",i.defaultValues("exponent1")),this.exponent2=(0,r.getParametersValue)(e,"exponent2",i.defaultValues("exponent2")),this.coefficient=(0,r.getParametersValue)(e,"coefficient",i.defaultValues("coefficient")),"otherPrimeInfos"in e&&(this.otherPrimeInfos=(0,r.getParametersValue)(e,"otherPrimeInfos",i.defaultValues("otherPrimeInfos"))),"schema"in e&&this.fromSchema(e.schema),"json"in e&&this.fromJSON(e.json)}static defaultValues(r){switch(r){case"version":return 0;case"modulus":case"publicExponent":case"privateExponent":case"prime1":case"prime2":case"exponent1":case"exponent2":case"coefficient":return new e.Integer;case"otherPrimeInfos":return[];default:throw new Error(`Invalid member name for RSAPrivateKey class: ${r}`)}}static schema(n={}){const o=(0,r.getParametersValue)(n,"names",{});return new e.Sequence({name:o.blockName||"",value:[new e.Integer({name:o.version||""}),new e.Integer({name:o.modulus||""}),new e.Integer({name:o.publicExponent||""}),new e.Integer({name:o.privateExponent||""}),new e.Integer({name:o.prime1||""}),new e.Integer({name:o.prime2||""}),new e.Integer({name:o.exponent1||""}),new e.Integer({name:o.exponent2||""}),new e.Integer({name:o.coefficient||""}),new e.Sequence({optional:!0,value:[new e.Repeated({name:o.otherPrimeInfosName||"",value:t.default.schema(o.otherPrimeInfo||{})})]})]})}fromSchema(n){(0,r.clearProps)(n,["version","modulus","publicExponent","privateExponent","prime1","prime2","exponent1","exponent2","coefficient","otherPrimeInfos"]);const o=e.compareSchema(n,n,i.schema({names:{version:"version",modulus:"modulus",publicExponent:"publicExponent",privateExponent:"privateExponent",prime1:"prime1",prime2:"prime2",exponent1:"exponent1",exponent2:"exponent2",coefficient:"coefficient",otherPrimeInfo:{names:{blockName:"otherPrimeInfos"}}}}));if(!1===o.verified)throw new Error("Object's schema was not verified against input data for RSAPrivateKey");this.version=o.result.version.valueBlock.valueDec,this.modulus=o.result.modulus.convertFromDER(256),this.publicExponent=o.result.publicExponent,this.privateExponent=o.result.privateExponent.convertFromDER(256),this.prime1=o.result.prime1.convertFromDER(128),this.prime2=o.result.prime2.convertFromDER(128),this.exponent1=o.result.exponent1.convertFromDER(128),this.exponent2=o.result.exponent2.convertFromDER(128),this.coefficient=o.result.coefficient.convertFromDER(128),"otherPrimeInfos"in o.result&&(this.otherPrimeInfos=Array.from(o.result.otherPrimeInfos,e=>new t.default({schema:e})))}toSchema(){const r=[];return r.push(new e.Integer({value:this.version})),r.push(this.modulus.convertToDER()),r.push(this.publicExponent),r.push(this.privateExponent.convertToDER()),r.push(this.prime1.convertToDER()),r.push(this.prime2.convertToDER()),r.push(this.exponent1.convertToDER()),r.push(this.exponent2.convertToDER()),r.push(this.coefficient.convertToDER()),"otherPrimeInfos"in this&&r.push(new e.Sequence({value:Array.from(this.otherPrimeInfos,e=>e.toSchema())})),new e.Sequence({value:r})}toJSON(){const e={n:(0,r.toBase64)((0,r.arrayBufferToString)(this.modulus.valueBlock.valueHex),!0,!0,!0),e:(0,r.toBase64)((0,r.arrayBufferToString)(this.publicExponent.valueBlock.valueHex),!0,!0,!0),d:(0,r.toBase64)((0,r.arrayBufferToString)(this.privateExponent.valueBlock.valueHex),!0,!0,!0),p:(0,r.toBase64)((0,r.arrayBufferToString)(this.prime1.valueBlock.valueHex),!0,!0,!0),q:(0,r.toBase64)((0,r.arrayBufferToString)(this.prime2.valueBlock.valueHex),!0,!0,!0),dp:(0,r.toBase64)((0,r.arrayBufferToString)(this.exponent1.valueBlock.valueHex),!0,!0,!0),dq:(0,r.toBase64)((0,r.arrayBufferToString)(this.exponent2.valueBlock.valueHex),!0,!0,!0),qi:(0,r.toBase64)((0,r.arrayBufferToString)(this.coefficient.valueBlock.valueHex),!0,!0,!0)};return"otherPrimeInfos"in this&&(e.oth=Array.from(this.otherPrimeInfos,e=>e.toJSON())),e}fromJSON(n){if(!("n"in n))throw new Error('Absent mandatory parameter "n"');if(this.modulus=new e.Integer({valueHex:(0,r.stringToArrayBuffer)((0,r.fromBase64)(n.n,!0,!0))}),!("e"in n))throw new Error('Absent mandatory parameter "e"');if(this.publicExponent=new e.Integer({valueHex:(0,r.stringToArrayBuffer)((0,r.fromBase64)(n.e,!0,!0))}),!("d"in n))throw new Error('Absent mandatory parameter "d"');if(this.privateExponent=new e.Integer({valueHex:(0,r.stringToArrayBuffer)((0,r.fromBase64)(n.d,!0,!0))}),!("p"in n))throw new Error('Absent mandatory parameter "p"');if(this.prime1=new e.Integer({valueHex:(0,r.stringToArrayBuffer)((0,r.fromBase64)(n.p,!0,!0))}),!("q"in n))throw new Error('Absent mandatory parameter "q"');if(this.prime2=new e.Integer({valueHex:(0,r.stringToArrayBuffer)((0,r.fromBase64)(n.q,!0,!0))}),!("dp"in n))throw new Error('Absent mandatory parameter "dp"');if(this.exponent1=new e.Integer({valueHex:(0,r.stringToArrayBuffer)((0,r.fromBase64)(n.dp,!0,!0))}),!("dq"in n))throw new Error('Absent mandatory parameter "dq"');if(this.exponent2=new e.Integer({valueHex:(0,r.stringToArrayBuffer)((0,r.fromBase64)(n.dq,!0,!0))}),!("qi"in n))throw new Error('Absent mandatory parameter "qi"');this.coefficient=new e.Integer({valueHex:(0,r.stringToArrayBuffer)((0,r.fromBase64)(n.qi,!0,!0))}),"oth"in n&&(this.otherPrimeInfos=Array.from(n.oth,e=>new t.default({json:e})))}}exports.default=i;
},{"asn1js":"h7Xx","pvutils":"V6vO","./OtherPrimeInfo.js":"R0I1"}],"Ow1x":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=u(require("asn1js")),t=require("pvutils"),r=o(require("./AlgorithmIdentifier.js")),a=o(require("./Attribute.js")),i=o(require("./ECPrivateKey.js")),s=o(require("./RSAPrivateKey.js"));function o(e){return e&&e.__esModule?e:{default:e}}function n(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(n=function(e){return e?r:t})(e)}function u(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=n(t);if(r&&r.has(e))return r.get(e);var a={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var o=i?Object.getOwnPropertyDescriptor(e,s):null;o&&(o.get||o.set)?Object.defineProperty(a,s,o):a[s]=e[s]}return a.default=e,r&&r.set(e,a),a}class l{constructor(e={}){this.version=(0,t.getParametersValue)(e,"version",l.defaultValues("version")),this.privateKeyAlgorithm=(0,t.getParametersValue)(e,"privateKeyAlgorithm",l.defaultValues("privateKeyAlgorithm")),this.privateKey=(0,t.getParametersValue)(e,"privateKey",l.defaultValues("privateKey")),"attributes"in e&&(this.attributes=(0,t.getParametersValue)(e,"attributes",l.defaultValues("attributes"))),"parsedKey"in e&&(this.parsedKey=(0,t.getParametersValue)(e,"parsedKey",l.defaultValues("parsedKey"))),"schema"in e&&this.fromSchema(e.schema),"json"in e&&this.fromJSON(e.json)}static defaultValues(t){switch(t){case"version":return 0;case"privateKeyAlgorithm":return new r.default;case"privateKey":return new e.OctetString;case"attributes":return[];case"parsedKey":return{};default:throw new Error(`Invalid member name for PrivateKeyInfo class: ${t}`)}}static schema(i={}){const s=(0,t.getParametersValue)(i,"names",{});return new e.Sequence({name:s.blockName||"",value:[new e.Integer({name:s.version||""}),r.default.schema(s.privateKeyAlgorithm||{}),new e.OctetString({name:s.privateKey||""}),new e.Constructed({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[new e.Repeated({name:s.attributes||"",value:a.default.schema()})]})]})}fromSchema(o){(0,t.clearProps)(o,["version","privateKeyAlgorithm","privateKey","attributes"]);const n=e.compareSchema(o,o,l.schema({names:{version:"version",privateKeyAlgorithm:{names:{blockName:"privateKeyAlgorithm"}},privateKey:"privateKey",attributes:"attributes"}}));if(!1===n.verified)throw new Error("Object's schema was not verified against input data for PrivateKeyInfo");switch(this.version=n.result.version.valueBlock.valueDec,this.privateKeyAlgorithm=new r.default({schema:n.result.privateKeyAlgorithm}),this.privateKey=n.result.privateKey,"attributes"in n.result&&(this.attributes=Array.from(n.result.attributes,e=>new a.default({schema:e}))),this.privateKeyAlgorithm.algorithmId){case"1.2.840.113549.1.1.1":{const t=e.fromBER(this.privateKey.valueBlock.valueHex);-1!==t.offset&&(this.parsedKey=new s.default({schema:t.result}))}break;case"1.2.840.10045.2.1":if("algorithmParams"in this.privateKeyAlgorithm&&this.privateKeyAlgorithm.algorithmParams instanceof e.ObjectIdentifier){const t=e.fromBER(this.privateKey.valueBlock.valueHex);-1!==t.offset&&(this.parsedKey=new i.default({namedCurve:this.privateKeyAlgorithm.algorithmParams.valueBlock.toString(),schema:t.result}))}}}toSchema(){const t=[new e.Integer({value:this.version}),this.privateKeyAlgorithm.toSchema(),this.privateKey];return"attributes"in this&&t.push(new e.Constructed({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:Array.from(this.attributes,e=>e.toSchema())})),new e.Sequence({value:t})}toJSON(){if("parsedKey"in this==!1){const e={version:this.version,privateKeyAlgorithm:this.privateKeyAlgorithm.toJSON(),privateKey:this.privateKey.toJSON()};return"attributes"in this&&(e.attributes=Array.from(this.attributes,e=>e.toJSON())),e}const e={};switch(this.privateKeyAlgorithm.algorithmId){case"1.2.840.10045.2.1":e.kty="EC";break;case"1.2.840.113549.1.1.1":e.kty="RSA"}const t=this.parsedKey.toJSON();for(const r of Object.keys(t))e[r]=t[r];return e}fromJSON(t){if("kty"in t){switch(t.kty.toUpperCase()){case"EC":this.parsedKey=new i.default({json:t}),this.privateKeyAlgorithm=new r.default({algorithmId:"1.2.840.10045.2.1",algorithmParams:new e.ObjectIdentifier({value:this.parsedKey.namedCurve})});break;case"RSA":this.parsedKey=new s.default({json:t}),this.privateKeyAlgorithm=new r.default({algorithmId:"1.2.840.113549.1.1.1",algorithmParams:new e.Null});break;default:throw new Error(`Invalid value for "kty" parameter: ${t.kty}`)}this.privateKey=new e.OctetString({valueHex:this.parsedKey.toSchema().toBER(!1)})}}}exports.default=l;
},{"asn1js":"h7Xx","pvutils":"V6vO","./AlgorithmIdentifier.js":"D4jV","./Attribute.js":"stBO","./ECPrivateKey.js":"Itsp","./RSAPrivateKey.js":"aFxw"}],"lktU":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=c(require("asn1js")),e=require("pvutils"),n=r(require("./AlgorithmIdentifier.js"));function r(t){return t&&t.__esModule?t:{default:t}}function o(t){if("function"!=typeof WeakMap)return null;var e=new WeakMap,n=new WeakMap;return(o=function(t){return t?n:e})(t)}function c(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var n=o(e);if(n&&n.has(t))return n.get(t);var r={},c=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in t)if("default"!==i&&Object.prototype.hasOwnProperty.call(t,i)){var a=c?Object.getOwnPropertyDescriptor(t,i):null;a&&(a.get||a.set)?Object.defineProperty(r,i,a):r[i]=t[i]}return r.default=t,n&&n.set(t,r),r}class i{constructor(n={}){if(this.contentType=(0,e.getParametersValue)(n,"contentType",i.defaultValues("contentType")),this.contentEncryptionAlgorithm=(0,e.getParametersValue)(n,"contentEncryptionAlgorithm",i.defaultValues("contentEncryptionAlgorithm")),"encryptedContent"in n&&(this.encryptedContent=n.encryptedContent,1===this.encryptedContent.idBlock.tagClass&&4===this.encryptedContent.idBlock.tagNumber&&!1===this.encryptedContent.idBlock.isConstructed)){const e=new t.OctetString({idBlock:{isConstructed:!0},isConstructed:!0});let n=0,r=this.encryptedContent.valueBlock.valueHex.byteLength;for(;r>0;){const o=new Uint8Array(this.encryptedContent.valueBlock.valueHex,n,n+1024>this.encryptedContent.valueBlock.valueHex.byteLength?this.encryptedContent.valueBlock.valueHex.byteLength-n:1024),c=new ArrayBuffer(o.length),i=new Uint8Array(c);for(let t=0;t<i.length;t++)i[t]=o[t];e.valueBlock.value.push(new t.OctetString({valueHex:c})),r-=o.length,n+=o.length}this.encryptedContent=e}"schema"in n&&this.fromSchema(n.schema)}static defaultValues(e){switch(e){case"contentType":return"";case"contentEncryptionAlgorithm":return new n.default;case"encryptedContent":return new t.OctetString;default:throw new Error(`Invalid member name for EncryptedContentInfo class: ${e}`)}}static compareWithDefault(t,e){switch(t){case"contentType":return""===e;case"contentEncryptionAlgorithm":return""===e.algorithmId&&"algorithmParams"in e==!1;case"encryptedContent":return e.isEqual(i.defaultValues(t));default:throw new Error(`Invalid member name for EncryptedContentInfo class: ${t}`)}}static schema(r={}){const o=(0,e.getParametersValue)(r,"names",{});return new t.Sequence({name:o.blockName||"",value:[new t.ObjectIdentifier({name:o.contentType||""}),n.default.schema(o.contentEncryptionAlgorithm||{}),new t.Choice({value:[new t.Constructed({name:o.encryptedContent||"",idBlock:{tagClass:3,tagNumber:0},value:[new t.Repeated({value:new t.OctetString})]}),new t.Primitive({name:o.encryptedContent||"",idBlock:{tagClass:3,tagNumber:0}})]})]})}fromSchema(r){(0,e.clearProps)(r,["contentType","contentEncryptionAlgorithm","encryptedContent"]);const o=t.compareSchema(r,r,i.schema({names:{contentType:"contentType",contentEncryptionAlgorithm:{names:{blockName:"contentEncryptionAlgorithm"}},encryptedContent:"encryptedContent"}}));if(!1===o.verified)throw new Error("Object's schema was not verified against input data for EncryptedContentInfo");this.contentType=o.result.contentType.valueBlock.toString(),this.contentEncryptionAlgorithm=new n.default({schema:o.result.contentEncryptionAlgorithm}),"encryptedContent"in o.result&&(this.encryptedContent=o.result.encryptedContent,this.encryptedContent.idBlock.tagClass=1,this.encryptedContent.idBlock.tagNumber=4)}toSchema(){const e={isIndefiniteForm:!1},n=[];if(n.push(new t.ObjectIdentifier({value:this.contentType})),n.push(this.contentEncryptionAlgorithm.toSchema()),"encryptedContent"in this){e.isIndefiniteForm=this.encryptedContent.idBlock.isConstructed;const t=this.encryptedContent;t.idBlock.tagClass=3,t.idBlock.tagNumber=0,t.lenBlock.isIndefiniteForm=this.encryptedContent.idBlock.isConstructed,n.push(t)}return new t.Sequence({lenBlock:e,value:n})}toJSON(){const t={contentType:this.contentType,contentEncryptionAlgorithm:this.contentEncryptionAlgorithm.toJSON()};return"encryptedContent"in this&&(t.encryptedContent=this.encryptedContent.toJSON()),t}}exports.default=i;
},{"asn1js":"h7Xx","pvutils":"V6vO","./AlgorithmIdentifier.js":"D4jV"}],"DuQt":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=s(require("asn1js")),t=require("pvutils"),a=l(require("./AlgorithmIdentifier.js"));function l(e){return e&&e.__esModule?e:{default:e}}function r(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(r=function(e){return e?a:t})(e)}function s(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=r(t);if(a&&a.has(e))return a.get(e);var l={},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var h=s?Object.getOwnPropertyDescriptor(e,i):null;h&&(h.get||h.set)?Object.defineProperty(l,i,h):l[i]=e[i]}return l.default=e,a&&a.set(e,l),l}class i{constructor(e={}){this.hashAlgorithm=(0,t.getParametersValue)(e,"hashAlgorithm",i.defaultValues("hashAlgorithm")),this.maskGenAlgorithm=(0,t.getParametersValue)(e,"maskGenAlgorithm",i.defaultValues("maskGenAlgorithm")),this.saltLength=(0,t.getParametersValue)(e,"saltLength",i.defaultValues("saltLength")),this.trailerField=(0,t.getParametersValue)(e,"trailerField",i.defaultValues("trailerField")),"schema"in e&&this.fromSchema(e.schema)}static defaultValues(t){switch(t){case"hashAlgorithm":return new a.default({algorithmId:"1.3.14.3.2.26",algorithmParams:new e.Null});case"maskGenAlgorithm":return new a.default({algorithmId:"1.2.840.113549.1.1.8",algorithmParams:new a.default({algorithmId:"1.3.14.3.2.26",algorithmParams:new e.Null}).toSchema()});case"saltLength":return 20;case"trailerField":return 1;default:throw new Error(`Invalid member name for RSASSAPSSParams class: ${t}`)}}static schema(l={}){const r=(0,t.getParametersValue)(l,"names",{});return new e.Sequence({name:r.blockName||"",value:[new e.Constructed({idBlock:{tagClass:3,tagNumber:0},optional:!0,value:[a.default.schema(r.hashAlgorithm||{})]}),new e.Constructed({idBlock:{tagClass:3,tagNumber:1},optional:!0,value:[a.default.schema(r.maskGenAlgorithm||{})]}),new e.Constructed({idBlock:{tagClass:3,tagNumber:2},optional:!0,value:[new e.Integer({name:r.saltLength||""})]}),new e.Constructed({idBlock:{tagClass:3,tagNumber:3},optional:!0,value:[new e.Integer({name:r.trailerField||""})]})]})}fromSchema(l){(0,t.clearProps)(l,["hashAlgorithm","maskGenAlgorithm","saltLength","trailerField"]);const r=e.compareSchema(l,l,i.schema({names:{hashAlgorithm:{names:{blockName:"hashAlgorithm"}},maskGenAlgorithm:{names:{blockName:"maskGenAlgorithm"}},saltLength:"saltLength",trailerField:"trailerField"}}));if(!1===r.verified)throw new Error("Object's schema was not verified against input data for RSASSAPSSParams");"hashAlgorithm"in r.result&&(this.hashAlgorithm=new a.default({schema:r.result.hashAlgorithm})),"maskGenAlgorithm"in r.result&&(this.maskGenAlgorithm=new a.default({schema:r.result.maskGenAlgorithm})),"saltLength"in r.result&&(this.saltLength=r.result.saltLength.valueBlock.valueDec),"trailerField"in r.result&&(this.trailerField=r.result.trailerField.valueBlock.valueDec)}toSchema(){const t=[];return this.hashAlgorithm.isEqual(i.defaultValues("hashAlgorithm"))||t.push(new e.Constructed({idBlock:{tagClass:3,tagNumber:0},value:[this.hashAlgorithm.toSchema()]})),this.maskGenAlgorithm.isEqual(i.defaultValues("maskGenAlgorithm"))||t.push(new e.Constructed({idBlock:{tagClass:3,tagNumber:1},value:[this.maskGenAlgorithm.toSchema()]})),this.saltLength!==i.defaultValues("saltLength")&&t.push(new e.Constructed({idBlock:{tagClass:3,tagNumber:2},value:[new e.Integer({value:this.saltLength})]})),this.trailerField!==i.defaultValues("trailerField")&&t.push(new e.Constructed({idBlock:{tagClass:3,tagNumber:3},value:[new e.Integer({value:this.trailerField})]})),new e.Sequence({value:t})}toJSON(){const e={};return this.hashAlgorithm.isEqual(i.defaultValues("hashAlgorithm"))||(e.hashAlgorithm=this.hashAlgorithm.toJSON()),this.maskGenAlgorithm.isEqual(i.defaultValues("maskGenAlgorithm"))||(e.maskGenAlgorithm=this.maskGenAlgorithm.toJSON()),this.saltLength!==i.defaultValues("saltLength")&&(e.saltLength=this.saltLength),this.trailerField!==i.defaultValues("trailerField")&&(e.trailerField=this.trailerField),e}}exports.default=i;
},{"asn1js":"h7Xx","pvutils":"V6vO","./AlgorithmIdentifier.js":"D4jV"}],"H51Z":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=s(require("asn1js")),t=require("pvutils"),a=r(require("./AlgorithmIdentifier.js"));function r(e){return e&&e.__esModule?e:{default:e}}function n(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(n=function(e){return e?a:t})(e)}function s(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=n(t);if(a&&a.has(e))return a.get(e);var r={},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var u=s?Object.getOwnPropertyDescriptor(e,i):null;u&&(u.get||u.set)?Object.defineProperty(r,i,u):r[i]=e[i]}return r.default=e,a&&a.set(e,r),r}class i{constructor(e={}){this.salt=(0,t.getParametersValue)(e,"salt",i.defaultValues("salt")),this.iterationCount=(0,t.getParametersValue)(e,"iterationCount",i.defaultValues("iterationCount")),"keyLength"in e&&(this.keyLength=(0,t.getParametersValue)(e,"keyLength",i.defaultValues("keyLength"))),"prf"in e&&(this.prf=(0,t.getParametersValue)(e,"prf",i.defaultValues("prf"))),"schema"in e&&this.fromSchema(e.schema)}static defaultValues(t){switch(t){case"salt":return{};case"iterationCount":return-1;case"keyLength":return 0;case"prf":return new a.default({algorithmId:"1.3.14.3.2.26",algorithmParams:new e.Null});default:throw new Error(`Invalid member name for PBKDF2Params class: ${t}`)}}static schema(r={}){const n=(0,t.getParametersValue)(r,"names",{});return new e.Sequence({name:n.blockName||"",value:[new e.Choice({value:[new e.OctetString({name:n.saltPrimitive||""}),a.default.schema(n.saltConstructed||{})]}),new e.Integer({name:n.iterationCount||""}),new e.Integer({name:n.keyLength||"",optional:!0}),a.default.schema(n.prf||{names:{optional:!0}})]})}fromSchema(r){(0,t.clearProps)(r,["salt","iterationCount","keyLength","prf"]);const n=e.compareSchema(r,r,i.schema({names:{saltPrimitive:"salt",saltConstructed:{names:{blockName:"salt"}},iterationCount:"iterationCount",keyLength:"keyLength",prf:{names:{blockName:"prf",optional:!0}}}}));if(!1===n.verified)throw new Error("Object's schema was not verified against input data for PBKDF2Params");this.salt=n.result.salt,this.iterationCount=n.result.iterationCount.valueBlock.valueDec,"keyLength"in n.result&&(this.keyLength=n.result.keyLength.valueBlock.valueDec),"prf"in n.result&&(this.prf=new a.default({schema:n.result.prf}))}toSchema(){const t=[];return t.push(this.salt),t.push(new e.Integer({value:this.iterationCount})),"keyLength"in this&&i.defaultValues("keyLength")!==this.keyLength&&t.push(new e.Integer({value:this.keyLength})),"prf"in this&&!1===i.defaultValues("prf").isEqual(this.prf)&&t.push(this.prf.toSchema()),new e.Sequence({value:t})}toJSON(){const e={salt:this.salt.toJSON(),iterationCount:this.iterationCount};return"keyLength"in this&&i.defaultValues("keyLength")!==this.keyLength&&(e.keyLength=this.keyLength),"prf"in this&&!1===i.defaultValues("prf").isEqual(this.prf)&&(e.prf=this.prf.toJSON()),e}}exports.default=i;
},{"asn1js":"h7Xx","pvutils":"V6vO","./AlgorithmIdentifier.js":"D4jV"}],"LOCs":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=c(require("asn1js")),t=require("pvutils"),r=n(require("./AlgorithmIdentifier.js"));function n(e){return e&&e.__esModule?e:{default:e}}function a(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(a=function(e){return e?r:t})(e)}function c(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=a(t);if(r&&r.has(e))return r.get(e);var n={},c=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var o=c?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}return n.default=e,r&&r.set(e,n),n}class i{constructor(e={}){this.keyDerivationFunc=(0,t.getParametersValue)(e,"keyDerivationFunc",i.defaultValues("keyDerivationFunc")),this.encryptionScheme=(0,t.getParametersValue)(e,"encryptionScheme",i.defaultValues("encryptionScheme")),"schema"in e&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case"keyDerivationFunc":case"encryptionScheme":return new r.default;default:throw new Error(`Invalid member name for PBES2Params class: ${e}`)}}static schema(n={}){const a=(0,t.getParametersValue)(n,"names",{});return new e.Sequence({name:a.blockName||"",value:[r.default.schema(a.keyDerivationFunc||{}),r.default.schema(a.encryptionScheme||{})]})}fromSchema(n){(0,t.clearProps)(n,["keyDerivationFunc","encryptionScheme"]);const a=e.compareSchema(n,n,i.schema({names:{keyDerivationFunc:{names:{blockName:"keyDerivationFunc"}},encryptionScheme:{names:{blockName:"encryptionScheme"}}}}));if(!1===a.verified)throw new Error("Object's schema was not verified against input data for PBES2Params");this.keyDerivationFunc=new r.default({schema:a.result.keyDerivationFunc}),this.encryptionScheme=new r.default({schema:a.result.encryptionScheme})}toSchema(){return new e.Sequence({value:[this.keyDerivationFunc.toSchema(),this.encryptionScheme.toSchema()]})}toJSON(){return{keyDerivationFunc:this.keyDerivationFunc.toJSON(),encryptionScheme:this.encryptionScheme.toJSON()}}}exports.default=i;
},{"asn1js":"h7Xx","pvutils":"V6vO","./AlgorithmIdentifier.js":"D4jV"}],"nbWF":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=u(require("asn1js")),r=require("pvutils"),t=require("./common.js"),a=h(require("./PublicKeyInfo.js")),n=h(require("./PrivateKeyInfo.js")),s=h(require("./AlgorithmIdentifier.js")),o=h(require("./EncryptedContentInfo.js")),i=h(require("./RSASSAPSSParams.js")),c=h(require("./PBKDF2Params.js")),m=h(require("./PBES2Params.js"));function h(e){return e&&e.__esModule?e:{default:e}}function l(e){if("function"!=typeof WeakMap)return null;var r=new WeakMap,t=new WeakMap;return(l=function(e){return e?t:r})(e)}function u(e,r){if(!r&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=l(r);if(t&&t.has(e))return t.get(e);var a={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var o=n?Object.getOwnPropertyDescriptor(e,s):null;o&&(o.get||o.set)?Object.defineProperty(a,s,o):a[s]=e[s]}return a.default=e,t&&t.set(e,a),a}function g(e,r,t,a,n,s){let o,i;const c=[];switch(r.toUpperCase()){case"SHA-1":o=20,i=64;break;case"SHA-256":o=32,i=64;break;case"SHA-384":o=48,i=128;break;case"SHA-512":o=64,i=128;break;default:throw new Error("Unsupported hashing algorithm")}const m=new Uint8Array(a),h=new ArrayBuffer(2*a.byteLength+2),l=new Uint8Array(h);for(let K=0;K<m.length;K++)l[2*K]=0,l[2*K+1]=m[K];l[l.length-2]=0,l[l.length-1]=0,a=h.slice(0);const u=new ArrayBuffer(i),g=new Uint8Array(u);for(let K=0;K<u.byteLength;K++)g[K]=3;const y=n.byteLength,A=i*Math.ceil(y/i),p=new ArrayBuffer(A),S=new Uint8Array(p),f=new Uint8Array(n);for(let K=0;K<A;K++)S[K]=f[K%y];const k=a.byteLength,P=i*Math.ceil(k/i),d=new ArrayBuffer(P),b=new Uint8Array(d),w=new Uint8Array(a);for(let K=0;K<P;K++)b[K]=w[K%k];const C=p.byteLength+d.byteLength;let H=new ArrayBuffer(C),j=new Uint8Array(H);j.set(S),j.set(b,S.length);const v=Math.ceil((t>>3)/o);let E=Promise.resolve(H);for(let K=0;K<=v;K++){E=E.then(e=>{const r=new ArrayBuffer(u.byteLength+e.byteLength),t=new Uint8Array(r);return t.set(g),t.set(j,g.length),r});for(let t=0;t<s;t++)E=E.then(t=>e.digest({name:r},new Uint8Array(t)));E=E.then(e=>{const r=new ArrayBuffer(i),t=new Uint8Array(r);for(let i=0;i<r.byteLength;i++)t[i]=e[i%e.length];const a=Math.ceil(y/i)+Math.ceil(k/i),n=[];let s=0,o=i;for(let c=0;c<a;c++){const e=Array.from(new Uint8Array(H.slice(s,s+o)));(s+=i)+i>H.byteLength&&(o=H.byteLength-s);let a=511;for(let n=r.byteLength-1;n>=0;n--)a>>=8,a+=t[n]+e[n],e[n]=255&a;n.push(...e)}return H=new ArrayBuffer(n.length),(j=new Uint8Array(H)).set(n),c.push(...new Uint8Array(e)),H})}return E=E.then(()=>{const e=new ArrayBuffer(t>>3);return new Uint8Array(e).set(new Uint8Array(c).slice(0,t>>3)),e})}class y{constructor(e={}){this.crypto=(0,r.getParametersValue)(e,"crypto",{}),this.subtle=(0,r.getParametersValue)(e,"subtle",{}),this.name=(0,r.getParametersValue)(e,"name","")}importKey(t,s,o,i,c){let m={};switch(s instanceof Uint8Array&&(s=s.buffer),t.toLowerCase()){case"raw":return this.subtle.importKey("raw",s,o,i,c);case"spki":{const r=e.fromBER(s);if(-1===r.offset)return Promise.reject("Incorrect keyData");const t=new a.default;try{t.fromSchema(r.result)}catch(h){return Promise.reject("Incorrect keyData")}switch(o.name.toUpperCase()){case"RSA-PSS":switch(o.hash.name.toUpperCase()){case"SHA-1":m.alg="PS1";break;case"SHA-256":m.alg="PS256";break;case"SHA-384":m.alg="PS384";break;case"SHA-512":m.alg="PS512";break;default:return Promise.reject(`Incorrect hash algorithm: ${o.hash.name.toUpperCase()}`)}case"RSASSA-PKCS1-V1_5":{if(c=["verify"],m.kty="RSA",m.ext=i,m.key_ops=c,"1.2.840.113549.1.1.1"!==t.algorithm.algorithmId)return Promise.reject(`Incorrect public key algorithm: ${t.algorithm.algorithmId}`);if("alg"in m==!1)switch(o.hash.name.toUpperCase()){case"SHA-1":m.alg="RS1";break;case"SHA-256":m.alg="RS256";break;case"SHA-384":m.alg="RS384";break;case"SHA-512":m.alg="RS512";break;default:return Promise.reject(`Incorrect hash algorithm: ${o.hash.name.toUpperCase()}`)}const e=t.toJSON();for(const r of Object.keys(e))m[r]=e[r]}break;case"ECDSA":c=["verify"];case"ECDH":{if(m={kty:"EC",ext:i,key_ops:c},"1.2.840.10045.2.1"!==t.algorithm.algorithmId)return Promise.reject(`Incorrect public key algorithm: ${t.algorithm.algorithmId}`);const e=t.toJSON();for(const r of Object.keys(e))m[r]=e[r]}break;case"RSA-OAEP":{if(m.kty="RSA",m.ext=i,m.key_ops=c,"safari"===this.name.toLowerCase())m.alg="RSA-OAEP";else switch(o.hash.name.toUpperCase()){case"SHA-1":m.alg="RSA-OAEP";break;case"SHA-256":m.alg="RSA-OAEP-256";break;case"SHA-384":m.alg="RSA-OAEP-384";break;case"SHA-512":m.alg="RSA-OAEP-512";break;default:return Promise.reject(`Incorrect hash algorithm: ${o.hash.name.toUpperCase()}`)}const e=t.toJSON();for(const r of Object.keys(e))m[r]=e[r]}break;case"RSAES-PKCS1-V1_5":{m.kty="RSA",m.ext=i,m.key_ops=c,m.alg="PS1";const e=t.toJSON();for(const r of Object.keys(e))m[r]=e[r]}break;default:return Promise.reject(`Incorrect algorithm name: ${o.name.toUpperCase()}`)}}break;case"pkcs8":{const r=new n.default,t=e.fromBER(s);if(-1===t.offset)return Promise.reject("Incorrect keyData");try{r.fromSchema(t.result)}catch(h){return Promise.reject("Incorrect keyData")}if("parsedKey"in r==!1)return Promise.reject("Incorrect keyData");switch(o.name.toUpperCase()){case"RSA-PSS":switch(o.hash.name.toUpperCase()){case"SHA-1":m.alg="PS1";break;case"SHA-256":m.alg="PS256";break;case"SHA-384":m.alg="PS384";break;case"SHA-512":m.alg="PS512";break;default:return Promise.reject(`Incorrect hash algorithm: ${o.hash.name.toUpperCase()}`)}case"RSASSA-PKCS1-V1_5":{if(c=["sign"],m.kty="RSA",m.ext=i,m.key_ops=c,"1.2.840.113549.1.1.1"!==r.privateKeyAlgorithm.algorithmId)return Promise.reject(`Incorrect private key algorithm: ${r.privateKeyAlgorithm.algorithmId}`);if("alg"in m==!1)switch(o.hash.name.toUpperCase()){case"SHA-1":m.alg="RS1";break;case"SHA-256":m.alg="RS256";break;case"SHA-384":m.alg="RS384";break;case"SHA-512":m.alg="RS512";break;default:return Promise.reject(`Incorrect hash algorithm: ${o.hash.name.toUpperCase()}`)}const e=r.toJSON();for(const r of Object.keys(e))m[r]=e[r]}break;case"ECDSA":c=["sign"];case"ECDH":{if(m={kty:"EC",ext:i,key_ops:c},"1.2.840.10045.2.1"!==r.privateKeyAlgorithm.algorithmId)return Promise.reject(`Incorrect algorithm: ${r.privateKeyAlgorithm.algorithmId}`);const e=r.toJSON();for(const r of Object.keys(e))m[r]=e[r]}break;case"RSA-OAEP":{if(m.kty="RSA",m.ext=i,m.key_ops=c,"safari"===this.name.toLowerCase())m.alg="RSA-OAEP";else switch(o.hash.name.toUpperCase()){case"SHA-1":m.alg="RSA-OAEP";break;case"SHA-256":m.alg="RSA-OAEP-256";break;case"SHA-384":m.alg="RSA-OAEP-384";break;case"SHA-512":m.alg="RSA-OAEP-512";break;default:return Promise.reject(`Incorrect hash algorithm: ${o.hash.name.toUpperCase()}`)}const e=r.toJSON();for(const r of Object.keys(e))m[r]=e[r]}break;case"RSAES-PKCS1-V1_5":{c=["decrypt"],m.kty="RSA",m.ext=i,m.key_ops=c,m.alg="PS1";const e=r.toJSON();for(const r of Object.keys(e))m[r]=e[r]}break;default:return Promise.reject(`Incorrect algorithm name: ${o.name.toUpperCase()}`)}}break;case"jwk":m=s;break;default:return Promise.reject(`Incorrect format: ${t}`)}return"safari"===this.name.toLowerCase()?Promise.resolve().then(()=>this.subtle.importKey("jwk",(0,r.stringToArrayBuffer)(JSON.stringify(m)),o,i,c)).then(e=>e,()=>this.subtle.importKey("jwk",m,o,i,c)):this.subtle.importKey("jwk",m,o,i,c)}exportKey(e,t){let s=this.subtle.exportKey("jwk",t);switch("safari"===this.name.toLowerCase()&&(s=s.then(e=>e instanceof ArrayBuffer?JSON.parse((0,r.arrayBufferToString)(e)):e)),e.toLowerCase()){case"raw":return this.subtle.exportKey("raw",t);case"spki":s=s.then(e=>{const r=new a.default;try{r.fromJSON(e)}catch(t){return Promise.reject("Incorrect key data")}return r.toSchema().toBER(!1)});break;case"pkcs8":s=s.then(e=>{const r=new n.default;try{r.fromJSON(e)}catch(t){return Promise.reject("Incorrect key data")}return r.toSchema().toBER(!1)});break;case"jwk":break;default:return Promise.reject(`Incorrect format: ${e}`)}return s}convert(e,r,t,a,n,s){switch(e.toLowerCase()){case"raw":switch(r.toLowerCase()){case"raw":return Promise.resolve(t);case"spki":return Promise.resolve().then(()=>this.importKey("raw",t,a,n,s)).then(e=>this.exportKey("spki",e));case"pkcs8":return Promise.resolve().then(()=>this.importKey("raw",t,a,n,s)).then(e=>this.exportKey("pkcs8",e));case"jwk":return Promise.resolve().then(()=>this.importKey("raw",t,a,n,s)).then(e=>this.exportKey("jwk",e));default:return Promise.reject(`Incorrect outputFormat: ${r}`)}case"spki":switch(r.toLowerCase()){case"raw":return Promise.resolve().then(()=>this.importKey("spki",t,a,n,s)).then(e=>this.exportKey("raw",e));case"spki":return Promise.resolve(t);case"pkcs8":return Promise.reject("Impossible to convert between SPKI/PKCS8");case"jwk":return Promise.resolve().then(()=>this.importKey("spki",t,a,n,s)).then(e=>this.exportKey("jwk",e));default:return Promise.reject(`Incorrect outputFormat: ${r}`)}case"pkcs8":switch(r.toLowerCase()){case"raw":return Promise.resolve().then(()=>this.importKey("pkcs8",t,a,n,s)).then(e=>this.exportKey("raw",e));case"spki":return Promise.reject("Impossible to convert between SPKI/PKCS8");case"pkcs8":return Promise.resolve(t);case"jwk":return Promise.resolve().then(()=>this.importKey("pkcs8",t,a,n,s)).then(e=>this.exportKey("jwk",e));default:return Promise.reject(`Incorrect outputFormat: ${r}`)}case"jwk":switch(r.toLowerCase()){case"raw":return Promise.resolve().then(()=>this.importKey("jwk",t,a,n,s)).then(e=>this.exportKey("raw",e));case"spki":return Promise.resolve().then(()=>this.importKey("jwk",t,a,n,s)).then(e=>this.exportKey("spki",e));case"pkcs8":return Promise.resolve().then(()=>this.importKey("jwk",t,a,n,s)).then(e=>this.exportKey("pkcs8",e));case"jwk":return Promise.resolve(t);default:return Promise.reject(`Incorrect outputFormat: ${r}`)}default:return Promise.reject(`Incorrect inputFormat: ${e}`)}}encrypt(...e){return this.subtle.encrypt(...e)}decrypt(...e){return this.subtle.decrypt(...e)}sign(...e){return this.subtle.sign(...e)}verify(...e){return this.subtle.verify(...e)}digest(...e){return this.subtle.digest(...e)}generateKey(...e){return this.subtle.generateKey(...e)}deriveKey(...e){return this.subtle.deriveKey(...e)}deriveBits(...e){return this.subtle.deriveBits(...e)}wrapKey(...e){return this.subtle.wrapKey(...e)}unwrapKey(...e){return this.subtle.unwrapKey(...e)}getRandomValues(e){if("getRandomValues"in this.crypto==!1)throw new Error("No support for getRandomValues");return this.crypto.getRandomValues(e)}getAlgorithmByOID(e){switch(e){case"1.2.840.113549.1.1.1":return{name:"RSAES-PKCS1-v1_5"};case"1.2.840.113549.1.1.5":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-1"}};case"1.2.840.113549.1.1.11":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"1.2.840.113549.1.1.12":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-384"}};case"1.2.840.113549.1.1.13":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-512"}};case"1.2.840.113549.1.1.10":return{name:"RSA-PSS"};case"1.2.840.113549.1.1.7":return{name:"RSA-OAEP"};case"1.2.840.10045.2.1":case"1.2.840.10045.4.1":return{name:"ECDSA",hash:{name:"SHA-1"}};case"1.2.840.10045.4.3.2":return{name:"ECDSA",hash:{name:"SHA-256"}};case"1.2.840.10045.4.3.3":return{name:"ECDSA",hash:{name:"SHA-384"}};case"1.2.840.10045.4.3.4":return{name:"ECDSA",hash:{name:"SHA-512"}};case"1.3.133.16.840.63.0.2":return{name:"ECDH",kdf:"SHA-1"};case"1.3.132.1.11.1":return{name:"ECDH",kdf:"SHA-256"};case"1.3.132.1.11.2":return{name:"ECDH",kdf:"SHA-384"};case"1.3.132.1.11.3":return{name:"ECDH",kdf:"SHA-512"};case"2.16.840.1.101.3.4.1.2":return{name:"AES-CBC",length:128};case"2.16.840.1.101.3.4.1.22":return{name:"AES-CBC",length:192};case"2.16.840.1.101.3.4.1.42":return{name:"AES-CBC",length:256};case"2.16.840.1.101.3.4.1.6":return{name:"AES-GCM",length:128};case"2.16.840.1.101.3.4.1.26":return{name:"AES-GCM",length:192};case"2.16.840.1.101.3.4.1.46":return{name:"AES-GCM",length:256};case"2.16.840.1.101.3.4.1.4":return{name:"AES-CFB",length:128};case"2.16.840.1.101.3.4.1.24":return{name:"AES-CFB",length:192};case"2.16.840.1.101.3.4.1.44":return{name:"AES-CFB",length:256};case"2.16.840.1.101.3.4.1.5":return{name:"AES-KW",length:128};case"2.16.840.1.101.3.4.1.25":return{name:"AES-KW",length:192};case"2.16.840.1.101.3.4.1.45":return{name:"AES-KW",length:256};case"1.2.840.113549.2.7":return{name:"HMAC",hash:{name:"SHA-1"}};case"1.2.840.113549.2.9":return{name:"HMAC",hash:{name:"SHA-256"}};case"1.2.840.113549.2.10":return{name:"HMAC",hash:{name:"SHA-384"}};case"1.2.840.113549.2.11":return{name:"HMAC",hash:{name:"SHA-512"}};case"1.2.840.113549.1.9.16.3.5":return{name:"DH"};case"1.3.14.3.2.26":return{name:"SHA-1"};case"2.16.840.1.101.3.4.2.1":return{name:"SHA-256"};case"2.16.840.1.101.3.4.2.2":return{name:"SHA-384"};case"2.16.840.1.101.3.4.2.3":return{name:"SHA-512"};case"1.2.840.113549.1.5.12":return{name:"PBKDF2"};case"1.2.840.10045.3.1.7":return{name:"P-256"};case"1.3.132.0.34":return{name:"P-384"};case"1.3.132.0.35":return{name:"P-521"}}return{}}getOIDByAlgorithm(e){let r="";switch(e.name.toUpperCase()){case"RSAES-PKCS1-V1_5":r="1.2.840.113549.1.1.1";break;case"RSASSA-PKCS1-V1_5":switch(e.hash.name.toUpperCase()){case"SHA-1":r="1.2.840.113549.1.1.5";break;case"SHA-256":r="1.2.840.113549.1.1.11";break;case"SHA-384":r="1.2.840.113549.1.1.12";break;case"SHA-512":r="1.2.840.113549.1.1.13"}break;case"RSA-PSS":r="1.2.840.113549.1.1.10";break;case"RSA-OAEP":r="1.2.840.113549.1.1.7";break;case"ECDSA":switch(e.hash.name.toUpperCase()){case"SHA-1":r="1.2.840.10045.4.1";break;case"SHA-256":r="1.2.840.10045.4.3.2";break;case"SHA-384":r="1.2.840.10045.4.3.3";break;case"SHA-512":r="1.2.840.10045.4.3.4"}break;case"ECDH":switch(e.kdf.toUpperCase()){case"SHA-1":r="1.3.133.16.840.63.0.2";break;case"SHA-256":r="1.3.132.1.11.1";break;case"SHA-384":r="1.3.132.1.11.2";break;case"SHA-512":r="1.3.132.1.11.3"}break;case"AES-CTR":break;case"AES-CBC":switch(e.length){case 128:r="2.16.840.1.101.3.4.1.2";break;case 192:r="2.16.840.1.101.3.4.1.22";break;case 256:r="2.16.840.1.101.3.4.1.42"}break;case"AES-CMAC":break;case"AES-GCM":switch(e.length){case 128:r="2.16.840.1.101.3.4.1.6";break;case 192:r="2.16.840.1.101.3.4.1.26";break;case 256:r="2.16.840.1.101.3.4.1.46"}break;case"AES-CFB":switch(e.length){case 128:r="2.16.840.1.101.3.4.1.4";break;case 192:r="2.16.840.1.101.3.4.1.24";break;case 256:r="2.16.840.1.101.3.4.1.44"}break;case"AES-KW":switch(e.length){case 128:r="2.16.840.1.101.3.4.1.5";break;case 192:r="2.16.840.1.101.3.4.1.25";break;case 256:r="2.16.840.1.101.3.4.1.45"}break;case"HMAC":switch(e.hash.name.toUpperCase()){case"SHA-1":r="1.2.840.113549.2.7";break;case"SHA-256":r="1.2.840.113549.2.9";break;case"SHA-384":r="1.2.840.113549.2.10";break;case"SHA-512":r="1.2.840.113549.2.11"}break;case"DH":r="1.2.840.113549.1.9.16.3.5";break;case"SHA-1":r="1.3.14.3.2.26";break;case"SHA-256":r="2.16.840.1.101.3.4.2.1";break;case"SHA-384":r="2.16.840.1.101.3.4.2.2";break;case"SHA-512":r="2.16.840.1.101.3.4.2.3";break;case"CONCAT":case"HKDF":break;case"PBKDF2":r="1.2.840.113549.1.5.12";break;case"P-256":r="1.2.840.10045.3.1.7";break;case"P-384":r="1.3.132.0.34";break;case"P-521":r="1.3.132.0.35"}return r}getAlgorithmParameters(e,r){let t={algorithm:{},usages:[]};switch(e.toUpperCase()){case"RSAES-PKCS1-V1_5":case"RSASSA-PKCS1-V1_5":switch(r.toLowerCase()){case"generatekey":t={algorithm:{name:"RSASSA-PKCS1-v1_5",modulusLength:2048,publicExponent:new Uint8Array([1,0,1]),hash:{name:"SHA-256"}},usages:["sign","verify"]};break;case"verify":case"sign":case"importkey":t={algorithm:{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}},usages:["verify"]};break;case"exportkey":default:return{algorithm:{name:"RSASSA-PKCS1-v1_5"},usages:[]}}break;case"RSA-PSS":switch(r.toLowerCase()){case"sign":case"verify":t={algorithm:{name:"RSA-PSS",hash:{name:"SHA-1"},saltLength:20},usages:["sign","verify"]};break;case"generatekey":t={algorithm:{name:"RSA-PSS",modulusLength:2048,publicExponent:new Uint8Array([1,0,1]),hash:{name:"SHA-1"}},usages:["sign","verify"]};break;case"importkey":t={algorithm:{name:"RSA-PSS",hash:{name:"SHA-1"}},usages:["verify"]};break;case"exportkey":default:return{algorithm:{name:"RSA-PSS"},usages:[]}}break;case"RSA-OAEP":switch(r.toLowerCase()){case"encrypt":case"decrypt":t={algorithm:{name:"RSA-OAEP"},usages:["encrypt","decrypt"]};break;case"generatekey":t={algorithm:{name:"RSA-OAEP",modulusLength:2048,publicExponent:new Uint8Array([1,0,1]),hash:{name:"SHA-256"}},usages:["encrypt","decrypt","wrapKey","unwrapKey"]};break;case"importkey":t={algorithm:{name:"RSA-OAEP",hash:{name:"SHA-256"}},usages:["encrypt"]};break;case"exportkey":default:return{algorithm:{name:"RSA-OAEP"},usages:[]}}break;case"ECDSA":switch(r.toLowerCase()){case"generatekey":t={algorithm:{name:"ECDSA",namedCurve:"P-256"},usages:["sign","verify"]};break;case"importkey":t={algorithm:{name:"ECDSA",namedCurve:"P-256"},usages:["verify"]};break;case"verify":case"sign":t={algorithm:{name:"ECDSA",hash:{name:"SHA-256"}},usages:["sign"]};break;default:return{algorithm:{name:"ECDSA"},usages:[]}}break;case"ECDH":switch(r.toLowerCase()){case"exportkey":case"importkey":case"generatekey":t={algorithm:{name:"ECDH",namedCurve:"P-256"},usages:["deriveKey","deriveBits"]};break;case"derivekey":case"derivebits":t={algorithm:{name:"ECDH",namedCurve:"P-256",public:[]},usages:["encrypt","decrypt"]};break;default:return{algorithm:{name:"ECDH"},usages:[]}}break;case"AES-CTR":switch(r.toLowerCase()){case"importkey":case"exportkey":case"generatekey":t={algorithm:{name:"AES-CTR",length:256},usages:["encrypt","decrypt","wrapKey","unwrapKey"]};break;case"decrypt":case"encrypt":t={algorithm:{name:"AES-CTR",counter:new Uint8Array(16),length:10},usages:["encrypt","decrypt","wrapKey","unwrapKey"]};break;default:return{algorithm:{name:"AES-CTR"},usages:[]}}break;case"AES-CBC":switch(r.toLowerCase()){case"importkey":case"exportkey":case"generatekey":t={algorithm:{name:"AES-CBC",length:256},usages:["encrypt","decrypt","wrapKey","unwrapKey"]};break;case"decrypt":case"encrypt":t={algorithm:{name:"AES-CBC",iv:this.getRandomValues(new Uint8Array(16))},usages:["encrypt","decrypt","wrapKey","unwrapKey"]};break;default:return{algorithm:{name:"AES-CBC"},usages:[]}}break;case"AES-GCM":switch(r.toLowerCase()){case"importkey":case"exportkey":case"generatekey":t={algorithm:{name:"AES-GCM",length:256},usages:["encrypt","decrypt","wrapKey","unwrapKey"]};break;case"decrypt":case"encrypt":t={algorithm:{name:"AES-GCM",iv:this.getRandomValues(new Uint8Array(16))},usages:["encrypt","decrypt","wrapKey","unwrapKey"]};break;default:return{algorithm:{name:"AES-GCM"},usages:[]}}break;case"AES-KW":switch(r.toLowerCase()){case"importkey":case"exportkey":case"generatekey":case"wrapkey":case"unwrapkey":t={algorithm:{name:"AES-KW",length:256},usages:["wrapKey","unwrapKey"]};break;default:return{algorithm:{name:"AES-KW"},usages:[]}}break;case"HMAC":switch(r.toLowerCase()){case"sign":case"verify":t={algorithm:{name:"HMAC"},usages:["sign","verify"]};break;case"importkey":case"exportkey":case"generatekey":t={algorithm:{name:"HMAC",length:32,hash:{name:"SHA-256"}},usages:["sign","verify"]};break;default:return{algorithm:{name:"HMAC"},usages:[]}}break;case"HKDF":switch(r.toLowerCase()){case"derivekey":t={algorithm:{name:"HKDF",hash:"SHA-256",salt:new Uint8Array([]),info:new Uint8Array([])},usages:["encrypt","decrypt"]};break;default:return{algorithm:{name:"HKDF"},usages:[]}}break;case"PBKDF2":switch(r.toLowerCase()){case"derivekey":t={algorithm:{name:"PBKDF2",hash:{name:"SHA-256"},salt:new Uint8Array([]),iterations:1e4},usages:["encrypt","decrypt"]};break;default:return{algorithm:{name:"PBKDF2"},usages:[]}}}return t}getHashAlgorithm(e){let r="";switch(e.algorithmId){case"1.2.840.10045.4.1":case"1.2.840.113549.1.1.5":r="SHA-1";break;case"1.2.840.10045.4.3.2":case"1.2.840.113549.1.1.11":r="SHA-256";break;case"1.2.840.10045.4.3.3":case"1.2.840.113549.1.1.12":r="SHA-384";break;case"1.2.840.10045.4.3.4":case"1.2.840.113549.1.1.13":r="SHA-512";break;case"1.2.840.113549.1.1.10":try{const a=new i.default({schema:e.algorithmParams});if("hashAlgorithm"in a){const e=this.getAlgorithmByOID(a.hashAlgorithm.algorithmId);if("name"in e==!1)return"";r=e.name}else r="SHA-1"}catch(t){}}return r}encryptEncryptedContentInfo(r){if(r instanceof Object==!1)return Promise.reject('Parameters must have type "Object"');if("password"in r==!1)return Promise.reject('Absent mandatory parameter "password"');if("contentEncryptionAlgorithm"in r==!1)return Promise.reject('Absent mandatory parameter "contentEncryptionAlgorithm"');if("hmacHashAlgorithm"in r==!1)return Promise.reject('Absent mandatory parameter "hmacHashAlgorithm"');if("iterationCount"in r==!1)return Promise.reject('Absent mandatory parameter "iterationCount"');if("contentToEncrypt"in r==!1)return Promise.reject('Absent mandatory parameter "contentToEncrypt"');if("contentType"in r==!1)return Promise.reject('Absent mandatory parameter "contentType"');const t=this.getOIDByAlgorithm(r.contentEncryptionAlgorithm);if(""===t)return Promise.reject('Wrong "contentEncryptionAlgorithm" value');const a=this.getOIDByAlgorithm({name:"PBKDF2"});if(""===a)return Promise.reject("Can not find OID for PBKDF2");const n=this.getOIDByAlgorithm({name:"HMAC",hash:{name:r.hmacHashAlgorithm}});if(""===n)return Promise.reject(`Incorrect value for "hmacHashAlgorithm": ${r.hmacHashAlgorithm}`);let i=Promise.resolve();const h=new ArrayBuffer(16),l=new Uint8Array(h);this.getRandomValues(l);const u=new ArrayBuffer(64),g=new Uint8Array(u);this.getRandomValues(g);const y=new Uint8Array(r.contentToEncrypt),A=new c.default({salt:new e.OctetString({valueHex:u}),iterationCount:r.iterationCount,prf:new s.default({algorithmId:n,algorithmParams:new e.Null})});return i=(i=(i=(i=i.then(()=>{const e=new Uint8Array(r.password);return this.importKey("raw",e,"PBKDF2",!1,["deriveKey"])},e=>Promise.reject(e))).then(e=>this.deriveKey({name:"PBKDF2",hash:{name:r.hmacHashAlgorithm},salt:g,iterations:r.iterationCount},e,r.contentEncryptionAlgorithm,!1,["encrypt"]),e=>Promise.reject(e))).then(e=>this.encrypt({name:r.contentEncryptionAlgorithm.name,iv:l},e,y),e=>Promise.reject(e))).then(n=>{const i=new m.default({keyDerivationFunc:new s.default({algorithmId:a,algorithmParams:A.toSchema()}),encryptionScheme:new s.default({algorithmId:t,algorithmParams:new e.OctetString({valueHex:h})})});return new o.default({contentType:r.contentType,contentEncryptionAlgorithm:new s.default({algorithmId:"1.2.840.113549.1.5.13",algorithmParams:i.toSchema()}),encryptedContent:new e.OctetString({valueHex:n})})},e=>Promise.reject(e))}decryptEncryptedContentInfo(e){if(e instanceof Object==!1)return Promise.reject('Parameters must have type "Object"');if("password"in e==!1)return Promise.reject('Absent mandatory parameter "password"');if("encryptedContentInfo"in e==!1)return Promise.reject('Absent mandatory parameter "encryptedContentInfo"');if("1.2.840.113549.1.5.13"!==e.encryptedContentInfo.contentEncryptionAlgorithm.algorithmId)return Promise.reject(`Unknown "contentEncryptionAlgorithm": ${e.encryptedContentInfo.contentEncryptionAlgorithm.algorithmId}`);let t,a,n=Promise.resolve();try{t=new m.default({schema:e.encryptedContentInfo.contentEncryptionAlgorithm.algorithmParams})}catch(y){return Promise.reject('Incorrectly encoded "pbes2Parameters"')}try{a=new c.default({schema:t.keyDerivationFunc.algorithmParams})}catch(y){return Promise.reject('Incorrectly encoded "pbkdf2Params"')}const s=this.getAlgorithmByOID(t.encryptionScheme.algorithmId);if("name"in s==!1)return Promise.reject(`Incorrect OID for "contentEncryptionAlgorithm": ${t.encryptionScheme.algorithmId}`);const o=t.encryptionScheme.algorithmParams.valueBlock.valueHex,i=new Uint8Array(o),h=a.salt.valueBlock.valueHex,l=new Uint8Array(h),u=a.iterationCount;let g="SHA-1";if("prf"in a){const e=this.getAlgorithmByOID(a.prf.algorithmId);if("name"in e==!1)return Promise.reject("Incorrect OID for HMAC hash algorithm");g=e.hash.name}return n=(n=(n=n.then(()=>this.importKey("raw",e.password,"PBKDF2",!1,["deriveKey"]),e=>Promise.reject(e))).then(e=>this.deriveKey({name:"PBKDF2",hash:{name:g},salt:l,iterations:u},e,s,!1,["decrypt"]),e=>Promise.reject(e))).then(t=>{let a=new ArrayBuffer(0);if(!1===e.encryptedContentInfo.encryptedContent.idBlock.isConstructed)a=e.encryptedContentInfo.encryptedContent.valueBlock.valueHex;else for(const n of e.encryptedContentInfo.encryptedContent.valueBlock.value)a=(0,r.utilConcatBuf)(a,n.valueBlock.valueHex);return this.decrypt({name:s.name,iv:i},t,a)},e=>Promise.reject(e))}stampDataWithPassword(e){if(e instanceof Object==!1)return Promise.reject('Parameters must have type "Object"');if("password"in e==!1)return Promise.reject('Absent mandatory parameter "password"');if("hashAlgorithm"in e==!1)return Promise.reject('Absent mandatory parameter "hashAlgorithm"');if("salt"in e==!1)return Promise.reject('Absent mandatory parameter "iterationCount"');if("iterationCount"in e==!1)return Promise.reject('Absent mandatory parameter "salt"');if("contentToStamp"in e==!1)return Promise.reject('Absent mandatory parameter "contentToStamp"');let r;switch(e.hashAlgorithm.toLowerCase()){case"sha-1":r=160;break;case"sha-256":r=256;break;case"sha-384":r=384;break;case"sha-512":r=512;break;default:return Promise.reject(`Incorrect "parameters.hashAlgorithm" parameter: ${e.hashAlgorithm}`)}let t=Promise.resolve();const a={name:"HMAC",length:r,hash:{name:e.hashAlgorithm}};return t=(t=(t=t.then(()=>g(this,e.hashAlgorithm,r,e.password,e.salt,e.iterationCount))).then(e=>this.importKey("raw",new Uint8Array(e),a,!1,["sign"]))).then(r=>this.sign(a,r,new Uint8Array(e.contentToStamp)),e=>Promise.reject(e))}verifyDataStampedWithPassword(e){if(e instanceof Object==!1)return Promise.reject('Parameters must have type "Object"');if("password"in e==!1)return Promise.reject('Absent mandatory parameter "password"');if("hashAlgorithm"in e==!1)return Promise.reject('Absent mandatory parameter "hashAlgorithm"');if("salt"in e==!1)return Promise.reject('Absent mandatory parameter "iterationCount"');if("iterationCount"in e==!1)return Promise.reject('Absent mandatory parameter "salt"');if("contentToVerify"in e==!1)return Promise.reject('Absent mandatory parameter "contentToVerify"');if("signatureToVerify"in e==!1)return Promise.reject('Absent mandatory parameter "signatureToVerify"');let r;switch(e.hashAlgorithm.toLowerCase()){case"sha-1":r=160;break;case"sha-256":r=256;break;case"sha-384":r=384;break;case"sha-512":r=512;break;default:return Promise.reject(`Incorrect "parameters.hashAlgorithm" parameter: ${e.hashAlgorithm}`)}let t=Promise.resolve();const a={name:"HMAC",length:r,hash:{name:e.hashAlgorithm}};return t=(t=(t=t.then(()=>g(this,e.hashAlgorithm,r,e.password,e.salt,e.iterationCount))).then(e=>this.importKey("raw",new Uint8Array(e),a,!1,["verify"]))).then(r=>this.verify(a,r,new Uint8Array(e.signatureToVerify),new Uint8Array(e.contentToVerify)),e=>Promise.reject(e))}getSignatureParameters(r,t="SHA-1"){if(""===this.getOIDByAlgorithm({name:t}))return Promise.reject(`Unsupported hash algorithm: ${t}`);const a=new s.default,n=this.getAlgorithmParameters(r.algorithm.name,"sign");switch(n.algorithm.hash.name=t,r.algorithm.name.toUpperCase()){case"RSASSA-PKCS1-V1_5":case"ECDSA":a.algorithmId=this.getOIDByAlgorithm(n.algorithm);break;case"RSA-PSS":{switch(t.toUpperCase()){case"SHA-256":n.algorithm.saltLength=32;break;case"SHA-384":n.algorithm.saltLength=48;break;case"SHA-512":n.algorithm.saltLength=64}const r={};if("SHA-1"!==t.toUpperCase()){const a=this.getOIDByAlgorithm({name:t});if(""===a)return Promise.reject(`Unsupported hash algorithm: ${t}`);r.hashAlgorithm=new s.default({algorithmId:a,algorithmParams:new e.Null}),r.maskGenAlgorithm=new s.default({algorithmId:"1.2.840.113549.1.1.8",algorithmParams:r.hashAlgorithm.toSchema()})}20!==n.algorithm.saltLength&&(r.saltLength=n.algorithm.saltLength);const o=new i.default(r);a.algorithmId="1.2.840.113549.1.1.10",a.algorithmParams=o.toSchema()}break;default:return Promise.reject(`Unsupported signature algorithm: ${r.algorithm.name}`)}return Promise.resolve().then(()=>({signatureAlgorithm:a,parameters:n}))}signWithPrivateKey(e,r,a){return this.sign(a.algorithm,r,new Uint8Array(e)).then(e=>("ECDSA"===a.algorithm.name&&(e=(0,t.createCMSECDSASignature)(e)),e),e=>Promise.reject(`Signing error: ${e}`))}fillPublicKeyParameters(e,r){const t={},a=this.getHashAlgorithm(r);if(""===a)return Promise.reject(`Unsupported signature algorithm: ${r.algorithmId}`);let n;n="1.2.840.113549.1.1.10"===r.algorithmId?r.algorithmId:e.algorithm.algorithmId;const s=this.getAlgorithmByOID(n);if("name"in s==="")return Promise.reject(`Unsupported public key algorithm: ${r.algorithmId}`);if(t.algorithm=this.getAlgorithmParameters(s.name,"importkey"),"hash"in t.algorithm.algorithm&&(t.algorithm.algorithm.hash.name=a),"ECDSA"===s.name){let r=!1;if("algorithmParams"in e.algorithm==!0&&"idBlock"in e.algorithm.algorithmParams&&1===e.algorithm.algorithmParams.idBlock.tagClass&&6===e.algorithm.algorithmParams.idBlock.tagNumber&&(r=!0),!1===r)return Promise.reject("Incorrect type for ECDSA public key parameters");const a=this.getAlgorithmByOID(e.algorithm.algorithmParams.valueBlock.toString());if("name"in a==!1)return Promise.reject(`Unsupported named curve algorithm: ${e.algorithm.algorithmParams.valueBlock.toString()}`);t.algorithm.algorithm.namedCurve=a.name}return t}getPublicKey(e,r,t=null){null===t&&(t=this.fillPublicKeyParameters(e,r));const a=e.toSchema().toBER(!1),n=new Uint8Array(a);return this.importKey("spki",n,t.algorithm.algorithm,!0,t.algorithm.usages)}verifyWithPublicKey(r,a,n,s,o=null){let c=Promise.resolve();if(null===o){if(""===(o=this.getHashAlgorithm(s)))return Promise.reject(`Unsupported signature algorithm: ${s.algorithmId}`);c=c.then(()=>this.getPublicKey(n,s))}else{const e={};let r;r="1.2.840.113549.1.1.10"===s.algorithmId?s.algorithmId:n.algorithm.algorithmId;const t=this.getAlgorithmByOID(r);if("name"in t==="")return Promise.reject(`Unsupported public key algorithm: ${s.algorithmId}`);if(e.algorithm=this.getAlgorithmParameters(t.name,"importkey"),"hash"in e.algorithm.algorithm&&(e.algorithm.algorithm.hash.name=o),"ECDSA"===t.name){let r=!1;if("algorithmParams"in n.algorithm==!0&&"idBlock"in n.algorithm.algorithmParams&&1===n.algorithm.algorithmParams.idBlock.tagClass&&6===n.algorithm.algorithmParams.idBlock.tagNumber&&(r=!0),!1===r)return Promise.reject("Incorrect type for ECDSA public key parameters");const t=this.getAlgorithmByOID(n.algorithm.algorithmParams.valueBlock.toString());if("name"in t==!1)return Promise.reject(`Unsupported named curve algorithm: ${n.algorithm.algorithmParams.valueBlock.toString()}`);e.algorithm.algorithm.namedCurve=t.name}c=c.then(()=>this.getPublicKey(n,null,e))}return c=c.then(n=>{const c=this.getAlgorithmParameters(n.algorithm.name,"verify");"hash"in c.algorithm&&(c.algorithm.hash.name=o);let m=a.valueBlock.valueHex;if("ECDSA"===n.algorithm.name){const r=e.fromBER(m);m=(0,t.createECDSASignatureFromCMS)(r.result)}if("RSA-PSS"===n.algorithm.name){let e;try{e=new i.default({schema:s.algorithmParams})}catch(h){return Promise.reject(h)}c.algorithm.saltLength="saltLength"in e?e.saltLength:20;let r="SHA-1";if("hashAlgorithm"in e){const t=this.getAlgorithmByOID(e.hashAlgorithm.algorithmId);if("name"in t==!1)return Promise.reject(`Unrecognized hash algorithm: ${e.hashAlgorithm.algorithmId}`);r=t.name}c.algorithm.hash.name=r}return this.verify(c.algorithm,n,new Uint8Array(m),new Uint8Array(r))})}}exports.default=y;
},{"asn1js":"h7Xx","pvutils":"V6vO","./common.js":"ViMO","./PublicKeyInfo.js":"Gwml","./PrivateKeyInfo.js":"Ow1x","./AlgorithmIdentifier.js":"D4jV","./EncryptedContentInfo.js":"lktU","./RSASSAPSSParams.js":"DuQt","./PBKDF2Params.js":"H51Z","./PBES2Params.js":"LOCs"}],"ViMO":[function(require,module,exports) {
var process = require("process");
var global = arguments[3];
var e=require("process"),r=arguments[3];Object.defineProperty(exports,"__esModule",{value:!0}),exports.createCMSECDSASignature=g,exports.createECDSASignatureFromCMS=w,exports.getAlgorithmByOID=B,exports.getAlgorithmParameters=v,exports.getCrypto=c,exports.getEngine=s,exports.getHashAlgorithm=d,exports.getOIDByAlgorithm=p,exports.getRandomValues=y,exports.kdf=A,exports.kdfWithCounter=h,exports.setEngine=f,exports.stringPrep=b;var t=l(require("asn1js")),n=require("pvutils"),o=u(require("./CryptoEngine.js"));function u(e){return e&&e.__esModule?e:{default:e}}function a(e){if("function"!=typeof WeakMap)return null;var r=new WeakMap,t=new WeakMap;return(a=function(e){return e?t:r})(e)}function l(e,r){if(!r&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=a(r);if(t&&t.has(e))return t.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e)if("default"!==u&&Object.prototype.hasOwnProperty.call(e,u)){var l=o?Object.getOwnPropertyDescriptor(e,u):null;l&&(l.get||l.set)?Object.defineProperty(n,u,l):n[u]=e[u]}return n.default=e,t&&t.set(e,n),n}let i={name:"none",crypto:null,subtle:null};function f(t,n,o){if(void 0!==e&&"pid"in e&&void 0!==r&&"undefined"==typeof window){if(void 0===r[e.pid])r[e.pid]={};else if("object"!=typeof r[e.pid])throw new Error(`Name global.${e.pid} already exists and it is not an object`);if(void 0===r[e.pid].pkijs)r[e.pid].pkijs={};else if("object"!=typeof r[e.pid].pkijs)throw new Error(`Name global.${e.pid}.pkijs already exists and it is not an object`);r[e.pid].pkijs.engine={name:t,crypto:n,subtle:o}}else i.name!==t&&(i={name:t,crypto:n,subtle:o})}function s(){if(void 0!==e&&"pid"in e&&void 0!==r&&"undefined"==typeof window){let n;try{n=r[e.pid].pkijs.engine}catch(t){throw new Error('Please call "setEngine" before call to "getEngine"')}return n}return i}function c(){const e=s();if(null!==e.subtle)return e.subtle}function y(e){return s().subtle.getRandomValues(e)}function p(e){return s().subtle.getOIDByAlgorithm(e)}function v(e,r){return s().subtle.getAlgorithmParameters(e,r)}function g(e){if(e.byteLength%2!=0)return new ArrayBuffer(0);const r=e.byteLength/2,n=new ArrayBuffer(r);new Uint8Array(n).set(new Uint8Array(e,0,r));const o=new t.Integer({valueHex:n}),u=new ArrayBuffer(r);new Uint8Array(u).set(new Uint8Array(e,r,r));const a=new t.Integer({valueHex:u});return new t.Sequence({value:[o.convertToDER(),a.convertToDER()]}).toBER(!1)}function b(e){let r=!1,t="";const n=e.trim();for(let o=0;o<n.length;o++)32===n.charCodeAt(o)?!1===r&&(r=!0):(r&&(t+=" ",r=!1),t+=n[o]);return t.toLowerCase()}function w(e){if(e instanceof t.Sequence==!1)return new ArrayBuffer(0);if(2!==e.valueBlock.value.length)return new ArrayBuffer(0);if(e.valueBlock.value[0]instanceof t.Integer==!1)return new ArrayBuffer(0);if(e.valueBlock.value[1]instanceof t.Integer==!1)return new ArrayBuffer(0);const r=e.valueBlock.value[0].convertFromDER(),o=e.valueBlock.value[1].convertFromDER();switch(!0){case r.valueBlock.valueHex.byteLength<o.valueBlock.valueHex.byteLength:{if(o.valueBlock.valueHex.byteLength-r.valueBlock.valueHex.byteLength!=1)throw new Error("Incorrect DER integer decoding");const e=o.valueBlock.valueHex.byteLength,t=new Uint8Array(r.valueBlock.valueHex),u=new ArrayBuffer(e),a=new Uint8Array(u);return a.set(t,1),a[0]=0,(0,n.utilConcatBuf)(u,o.valueBlock.valueHex)}case r.valueBlock.valueHex.byteLength>o.valueBlock.valueHex.byteLength:{if(r.valueBlock.valueHex.byteLength-o.valueBlock.valueHex.byteLength!=1)throw new Error("Incorrect DER integer decoding");const e=r.valueBlock.valueHex.byteLength,t=new Uint8Array(o.valueBlock.valueHex),u=new ArrayBuffer(e),a=new Uint8Array(u);return a.set(t,1),a[0]=0,(0,n.utilConcatBuf)(r.valueBlock.valueHex,u)}default:if(r.valueBlock.valueHex.byteLength%2){const e=r.valueBlock.valueHex.byteLength+1,t=new Uint8Array(r.valueBlock.valueHex),u=new ArrayBuffer(e),a=new Uint8Array(u);a.set(t,1),a[0]=0;const l=new Uint8Array(o.valueBlock.valueHex),i=new ArrayBuffer(e),f=new Uint8Array(i);return f.set(l,1),f[0]=0,(0,n.utilConcatBuf)(u,i)}}return(0,n.utilConcatBuf)(r.valueBlock.valueHex,o.valueBlock.valueHex)}function B(e){return s().subtle.getAlgorithmByOID(e)}function d(e){return s().subtle.getHashAlgorithm(e)}function h(e,r,t,o){switch(e.toUpperCase()){case"SHA-1":case"SHA-256":case"SHA-384":case"SHA-512":break;default:return Promise.reject(`Unknown hash function: ${e}`)}if(r instanceof ArrayBuffer==!1)return Promise.reject('Please set "Zbuffer" as "ArrayBuffer"');if(0===r.byteLength)return Promise.reject('"Zbuffer" has zero length, error');if(o instanceof ArrayBuffer==!1)return Promise.reject('Please set "SharedInfo" as "ArrayBuffer"');if(t>255)return Promise.reject('Please set "Counter" variable to value less or equal to 255');const u=new ArrayBuffer(4),a=new Uint8Array(u);a[0]=0,a[1]=0,a[2]=0,a[3]=t;let l=new ArrayBuffer(0);const i=c();return void 0===i?Promise.reject("Unable to create WebCrypto object"):(l=(0,n.utilConcatBuf)(l,r),l=(0,n.utilConcatBuf)(l,u),l=(0,n.utilConcatBuf)(l,o),i.digest({name:e},l).then(e=>({counter:t,result:e})))}function A(e,r,t,o){let u=0,a=1;const l=[];switch(e.toUpperCase()){case"SHA-1":u=160;break;case"SHA-256":u=256;break;case"SHA-384":u=384;break;case"SHA-512":u=512;break;default:return Promise.reject(`Unknown hash function: ${e}`)}if(r instanceof ArrayBuffer==!1)return Promise.reject('Please set "Zbuffer" as "ArrayBuffer"');if(0===r.byteLength)return Promise.reject('"Zbuffer" has zero length, error');if(o instanceof ArrayBuffer==!1)return Promise.reject('Please set "SharedInfo" as "ArrayBuffer"');const i=t/u;Math.floor(i)>0&&i-(a=Math.floor(i))>0&&a++;for(let n=1;n<=a;n++)l.push(h(e,r,n,o));return Promise.all(l).then(e=>{let r=new ArrayBuffer(0),o=1,u=!0;for(;u;){u=!1;for(const t of e)if(t.counter===o){r=(0,n.utilConcatBuf)(r,t.result),u=!0;break}o++}if(t>>=3,r.byteLength>t){const e=new ArrayBuffer(t),n=new Uint8Array(e),o=new Uint8Array(r);for(let r=0;r<t;r++)n[r]=o[r];return e}return r})}!function(){if("undefined"!=typeof self&&"crypto"in self){let r="webcrypto";const t=self.crypto;let n;if("webkitSubtle"in self.crypto){try{n=self.crypto.webkitSubtle}catch(e){n=self.crypto.subtle}r="safari"}"subtle"in self.crypto&&(n=self.crypto.subtle),i=void 0===n?{name:r,crypto:t,subtle:null}:{name:r,crypto:t,subtle:new o.default({name:r,crypto:self.crypto,subtle:n})}}f(i.name,i.crypto,i.subtle)}();
},{"asn1js":"h7Xx","pvutils":"V6vO","./CryptoEngine.js":"nbWF","process":"pBGv"}],"Blay":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=u(require("asn1js")),t=require("pvutils"),r=require("./common.js");function a(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(a=function(e){return e?r:t})(e)}function u(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=a(t);if(r&&r.has(e))return r.get(e);var u={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var n in e)if("default"!==n&&Object.prototype.hasOwnProperty.call(e,n)){var o=l?Object.getOwnPropertyDescriptor(e,n):null;o&&(o.get||o.set)?Object.defineProperty(u,n,o):u[n]=e[n]}return u.default=e,r&&r.set(e,u),u}class l{constructor(e={}){this.type=(0,t.getParametersValue)(e,"type",l.defaultValues("type")),this.value=(0,t.getParametersValue)(e,"value",l.defaultValues("value")),"schema"in e&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case"type":return"";case"value":return{};default:throw new Error(`Invalid member name for AttributeTypeAndValue class: ${e}`)}}static schema(r={}){const a=(0,t.getParametersValue)(r,"names",{});return new e.Sequence({name:a.blockName||"",value:[new e.ObjectIdentifier({name:a.type||""}),new e.Any({name:a.value||""})]})}static blockName(){return"AttributeTypeAndValue"}fromSchema(r){(0,t.clearProps)(r,["type","typeValue"]);const a=e.compareSchema(r,r,l.schema({names:{type:"type",value:"typeValue"}}));if(!1===a.verified)throw new Error("Object's schema was not verified against input data for AttributeTypeAndValue");this.type=a.result.type.valueBlock.toString(),this.value=a.result.typeValue}toSchema(){return new e.Sequence({value:[new e.ObjectIdentifier({value:this.type}),this.value]})}toJSON(){const e={type:this.type};return 0!==Object.keys(this.value).length?e.value=this.value.toJSON():e.value=this.value,e}isEqual(a){const u=[e.Utf8String.blockName(),e.BmpString.blockName(),e.UniversalString.blockName(),e.NumericString.blockName(),e.PrintableString.blockName(),e.TeletexString.blockName(),e.VideotexString.blockName(),e.IA5String.blockName(),e.GraphicString.blockName(),e.VisibleString.blockName(),e.GeneralString.blockName(),e.CharacterString.blockName()];if(a.constructor.blockName()===l.blockName()){if(this.type!==a.type)return!1;let e=[!1,!1];const l=this.value.constructor.blockName();for(const t of u)l===t&&(e[0]=!0),a.value.constructor.blockName()===t&&(e[1]=!0);if(e[0]^e[1])return!1;if(e=e[0]&&e[1]){const e=(0,r.stringPrep)(this.value.valueBlock.value),t=(0,r.stringPrep)(a.value.valueBlock.value);if(0!==e.localeCompare(t))return!1}else if(!1===(0,t.isEqualBuffer)(this.value.valueBeforeDecode,a.value.valueBeforeDecode))return!1;return!0}return a instanceof ArrayBuffer&&(0,t.isEqualBuffer)(this.value.valueBeforeDecode,a)}}exports.default=l;
},{"asn1js":"h7Xx","pvutils":"V6vO","./common.js":"ViMO"}],"ZcqL":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=u(require("asn1js")),t=require("pvutils"),r=a(require("./AttributeTypeAndValue.js"));function a(e){return e&&e.__esModule?e:{default:e}}function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(s=function(e){return e?r:t})(e)}function u(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=s(t);if(r&&r.has(e))return r.get(e);var a={},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var n in e)if("default"!==n&&Object.prototype.hasOwnProperty.call(e,n)){var l=u?Object.getOwnPropertyDescriptor(e,n):null;l&&(l.get||l.set)?Object.defineProperty(a,n,l):a[n]=e[n]}return a.default=e,r&&r.set(e,a),a}class n{constructor(e={}){this.typesAndValues=(0,t.getParametersValue)(e,"typesAndValues",n.defaultValues("typesAndValues")),this.valueBeforeDecode=(0,t.getParametersValue)(e,"valueBeforeDecode",n.defaultValues("valueBeforeDecode")),"schema"in e&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case"typesAndValues":return[];case"valueBeforeDecode":return new ArrayBuffer(0);default:throw new Error(`Invalid member name for RelativeDistinguishedNames class: ${e}`)}}static compareWithDefault(e,t){switch(e){case"typesAndValues":return 0===t.length;case"valueBeforeDecode":return 0===t.byteLength;default:throw new Error(`Invalid member name for RelativeDistinguishedNames class: ${e}`)}}static schema(a={}){const s=(0,t.getParametersValue)(a,"names",{});return new e.Sequence({name:s.blockName||"",value:[new e.Repeated({name:s.repeatedSequence||"",value:new e.Set({value:[new e.Repeated({name:s.repeatedSet||"",value:r.default.schema(s.typeAndValue||{})})]})})]})}fromSchema(a){(0,t.clearProps)(a,["RDN","typesAndValues"]);const s=e.compareSchema(a,a,n.schema({names:{blockName:"RDN",repeatedSet:"typesAndValues"}}));if(!1===s.verified)throw new Error("Object's schema was not verified against input data for RelativeDistinguishedNames");"typesAndValues"in s.result&&(this.typesAndValues=Array.from(s.result.typesAndValues,e=>new r.default({schema:e}))),this.valueBeforeDecode=s.result.RDN.valueBeforeDecode}toSchema(){if(0===this.valueBeforeDecode.byteLength)return new e.Sequence({value:[new e.Set({value:Array.from(this.typesAndValues,e=>e.toSchema())})]});return e.fromBER(this.valueBeforeDecode).result}toJSON(){return{typesAndValues:Array.from(this.typesAndValues,e=>e.toJSON())}}isEqual(e){if(e instanceof n){if(this.typesAndValues.length!==e.typesAndValues.length)return!1;for(const[t,r]of this.typesAndValues.entries())if(!1===r.isEqual(e.typesAndValues[t]))return!1;return!0}return e instanceof ArrayBuffer&&(0,t.isEqualBuffer)(this.valueBeforeDecode,e)}}exports.default=n;
},{"asn1js":"h7Xx","pvutils":"V6vO","./AttributeTypeAndValue.js":"Blay"}],"DITp":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=i(require("asn1js")),t=require("pvutils"),a=r(require("./RelativeDistinguishedNames.js"));function r(e){return e&&e.__esModule?e:{default:e}}function n(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(n=function(e){return e?a:t})(e)}function i(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=n(t);if(a&&a.has(e))return a.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var s=i?Object.getOwnPropertyDescriptor(e,l):null;s&&(s.get||s.set)?Object.defineProperty(r,l,s):r[l]=e[l]}return r.default=e,a&&a.set(e,r),r}function l(a={},r=!1){const n=(0,t.getParametersValue)(a,"names",{});return new e.Sequence({optional:r,value:[new e.Constructed({optional:!0,idBlock:{tagClass:2,tagNumber:1},name:n.country_name||"",value:[new e.Choice({value:[new e.NumericString,new e.PrintableString]})]}),new e.Constructed({optional:!0,idBlock:{tagClass:2,tagNumber:2},name:n.administration_domain_name||"",value:[new e.Choice({value:[new e.NumericString,new e.PrintableString]})]}),new e.Primitive({optional:!0,idBlock:{tagClass:3,tagNumber:0},name:n.network_address||"",isHexOnly:!0}),new e.Primitive({optional:!0,idBlock:{tagClass:3,tagNumber:1},name:n.terminal_identifier||"",isHexOnly:!0}),new e.Constructed({optional:!0,idBlock:{tagClass:3,tagNumber:2},name:n.private_domain_name||"",value:[new e.Choice({value:[new e.NumericString,new e.PrintableString]})]}),new e.Primitive({optional:!0,idBlock:{tagClass:3,tagNumber:3},name:n.organization_name||"",isHexOnly:!0}),new e.Primitive({optional:!0,name:n.numeric_user_identifier||"",idBlock:{tagClass:3,tagNumber:4},isHexOnly:!0}),new e.Constructed({optional:!0,name:n.personal_name||"",idBlock:{tagClass:3,tagNumber:5},value:[new e.Primitive({idBlock:{tagClass:3,tagNumber:0},isHexOnly:!0}),new e.Primitive({optional:!0,idBlock:{tagClass:3,tagNumber:1},isHexOnly:!0}),new e.Primitive({optional:!0,idBlock:{tagClass:3,tagNumber:2},isHexOnly:!0}),new e.Primitive({optional:!0,idBlock:{tagClass:3,tagNumber:3},isHexOnly:!0})]}),new e.Constructed({optional:!0,name:n.organizational_unit_names||"",idBlock:{tagClass:3,tagNumber:6},value:[new e.Repeated({value:new e.PrintableString})]})]})}function s(t=!1){return new e.Sequence({optional:t,value:[new e.PrintableString,new e.PrintableString]})}function o(t=!1){return new e.Set({optional:t,value:[new e.Primitive({optional:!0,idBlock:{tagClass:3,tagNumber:0},isHexOnly:!0}),new e.Constructed({optional:!0,idBlock:{tagClass:3,tagNumber:1},value:[new e.Any]})]})}class u{constructor(e={}){this.type=(0,t.getParametersValue)(e,"type",u.defaultValues("type")),this.value=(0,t.getParametersValue)(e,"value",u.defaultValues("value")),"schema"in e&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case"type":return 9;case"value":return{};default:throw new Error(`Invalid member name for GeneralName class: ${e}`)}}static compareWithDefault(e,t){switch(e){case"type":return t===u.defaultValues(e);case"value":return 0===Object.keys(t).length;default:throw new Error(`Invalid member name for GeneralName class: ${e}`)}}static schema(r={}){const n=(0,t.getParametersValue)(r,"names",{});return new e.Choice({value:[new e.Constructed({idBlock:{tagClass:3,tagNumber:0},name:n.blockName||"",value:[new e.ObjectIdentifier,new e.Constructed({idBlock:{tagClass:3,tagNumber:0},value:[new e.Any]})]}),new e.Primitive({name:n.blockName||"",idBlock:{tagClass:3,tagNumber:1}}),new e.Primitive({name:n.blockName||"",idBlock:{tagClass:3,tagNumber:2}}),new e.Constructed({idBlock:{tagClass:3,tagNumber:3},name:n.blockName||"",value:[l(n.builtInStandardAttributes||{},!1),s(!0),o(!0)]}),new e.Constructed({idBlock:{tagClass:3,tagNumber:4},name:n.blockName||"",value:[a.default.schema(n.directoryName||{})]}),new e.Constructed({idBlock:{tagClass:3,tagNumber:5},name:n.blockName||"",value:[new e.Constructed({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[new e.Choice({value:[new e.TeletexString,new e.PrintableString,new e.UniversalString,new e.Utf8String,new e.BmpString]})]}),new e.Constructed({idBlock:{tagClass:3,tagNumber:1},value:[new e.Choice({value:[new e.TeletexString,new e.PrintableString,new e.UniversalString,new e.Utf8String,new e.BmpString]})]})]}),new e.Primitive({name:n.blockName||"",idBlock:{tagClass:3,tagNumber:6}}),new e.Primitive({name:n.blockName||"",idBlock:{tagClass:3,tagNumber:7}}),new e.Primitive({name:n.blockName||"",idBlock:{tagClass:3,tagNumber:8}})]})}fromSchema(r){(0,t.clearProps)(r,["blockName","otherName","rfc822Name","dNSName","x400Address","directoryName","ediPartyName","uniformResourceIdentifier","iPAddress","registeredID"]);const n=e.compareSchema(r,r,u.schema({names:{blockName:"blockName",otherName:"otherName",rfc822Name:"rfc822Name",dNSName:"dNSName",x400Address:"x400Address",directoryName:{names:{blockName:"directoryName"}},ediPartyName:"ediPartyName",uniformResourceIdentifier:"uniformResourceIdentifier",iPAddress:"iPAddress",registeredID:"registeredID"}}));if(!1===n.verified)throw new Error("Object's schema was not verified against input data for GeneralName");switch(this.type=n.result.blockName.idBlock.tagNumber,this.type){case 0:this.value=n.result.blockName;break;case 1:case 2:case 6:{const t=n.result.blockName;t.idBlock.tagClass=1,t.idBlock.tagNumber=22;const a=t.toBER(!1);this.value=e.fromBER(a).result.valueBlock.value}break;case 3:this.value=n.result.blockName;break;case 4:this.value=new a.default({schema:n.result.directoryName});break;case 5:this.value=n.result.ediPartyName;break;case 7:this.value=new e.OctetString({valueHex:n.result.blockName.valueBlock.valueHex});break;case 8:{const t=n.result.blockName;t.idBlock.tagClass=1,t.idBlock.tagNumber=6;const a=t.toBER(!1);this.value=e.fromBER(a).result.valueBlock.toString()}}}toSchema(){switch(this.type){case 0:case 3:case 5:return new e.Constructed({idBlock:{tagClass:3,tagNumber:this.type},value:[this.value]});case 1:case 2:case 6:{const t=new e.IA5String({value:this.value});return t.idBlock.tagClass=3,t.idBlock.tagNumber=this.type,t}case 4:return new e.Constructed({idBlock:{tagClass:3,tagNumber:4},value:[this.value.toSchema()]});case 7:{const e=this.value;return e.idBlock.tagClass=3,e.idBlock.tagNumber=this.type,e}case 8:{const t=new e.ObjectIdentifier({value:this.value});return t.idBlock.tagClass=3,t.idBlock.tagNumber=this.type,t}default:return u.schema()}}toJSON(){const e={type:this.type,value:""};if("string"==typeof this.value)e.value=this.value;else try{e.value=this.value.toJSON()}catch(t){}return e}}exports.default=u;
},{"asn1js":"h7Xx","pvutils":"V6vO","./RelativeDistinguishedNames.js":"ZcqL"}],"OaiP":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=r(require("asn1js")),t=require("pvutils"),a=c(require("./GeneralName.js"));function c(e){return e&&e.__esModule?e:{default:e}}function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(s=function(e){return e?a:t})(e)}function r(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=s(t);if(a&&a.has(e))return a.get(e);var c={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var n=r?Object.getOwnPropertyDescriptor(e,o):null;n&&(n.get||n.set)?Object.defineProperty(c,o,n):c[o]=e[o]}return c.default=e,a&&a.set(e,c),c}class o{constructor(e={}){this.accessMethod=(0,t.getParametersValue)(e,"accessMethod",o.defaultValues("accessMethod")),this.accessLocation=(0,t.getParametersValue)(e,"accessLocation",o.defaultValues("accessLocation")),"schema"in e&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case"accessMethod":return"";case"accessLocation":return new a.default;default:throw new Error(`Invalid member name for AccessDescription class: ${e}`)}}static schema(c={}){const s=(0,t.getParametersValue)(c,"names",{});return new e.Sequence({name:s.blockName||"",value:[new e.ObjectIdentifier({name:s.accessMethod||""}),a.default.schema(s.accessLocation||{})]})}fromSchema(c){(0,t.clearProps)(c,["accessMethod","accessLocation"]);const s=e.compareSchema(c,c,o.schema({names:{accessMethod:"accessMethod",accessLocation:{names:{blockName:"accessLocation"}}}}));if(!1===s.verified)throw new Error("Object's schema was not verified against input data for AccessDescription");this.accessMethod=s.result.accessMethod.valueBlock.toString(),this.accessLocation=new a.default({schema:s.result.accessLocation})}toSchema(){return new e.Sequence({value:[new e.ObjectIdentifier({value:this.accessMethod}),this.accessLocation.toSchema()]})}toJSON(){return{accessMethod:this.accessMethod,accessLocation:this.accessLocation.toJSON()}}}exports.default=o;
},{"asn1js":"h7Xx","pvutils":"V6vO","./GeneralName.js":"DITp"}],"oACs":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=t(require("asn1js")),s=require("pvutils");function i(e){if("function"!=typeof WeakMap)return null;var s=new WeakMap,t=new WeakMap;return(i=function(e){return e?t:s})(e)}function t(e,s){if(!s&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=i(s);if(t&&t.has(e))return t.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var c=a?Object.getOwnPropertyDescriptor(e,l):null;c&&(c.get||c.set)?Object.defineProperty(r,l,c):r[l]=e[l]}return r.default=e,t&&t.set(e,r),r}class r{constructor(e={}){"seconds"in e&&(this.seconds=(0,s.getParametersValue)(e,"seconds",r.defaultValues("seconds"))),"millis"in e&&(this.millis=(0,s.getParametersValue)(e,"millis",r.defaultValues("millis"))),"micros"in e&&(this.micros=(0,s.getParametersValue)(e,"micros",r.defaultValues("micros"))),"schema"in e&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case"seconds":case"millis":case"micros":return 0;default:throw new Error(`Invalid member name for Accuracy class: ${e}`)}}static compareWithDefault(e,s){switch(e){case"seconds":case"millis":case"micros":return s===r.defaultValues(e);default:throw new Error(`Invalid member name for Accuracy class: ${e}`)}}static schema(i={}){const t=(0,s.getParametersValue)(i,"names",{});return new e.Sequence({name:t.blockName||"",optional:!0,value:[new e.Integer({optional:!0,name:t.seconds||""}),new e.Primitive({name:t.millis||"",optional:!0,idBlock:{tagClass:3,tagNumber:0}}),new e.Primitive({name:t.micros||"",optional:!0,idBlock:{tagClass:3,tagNumber:1}})]})}fromSchema(i){(0,s.clearProps)(i,["seconds","millis","micros"]);const t=e.compareSchema(i,i,r.schema({names:{seconds:"seconds",millis:"millis",micros:"micros"}}));if(!1===t.verified)throw new Error("Object's schema was not verified against input data for Accuracy");if("seconds"in t.result&&(this.seconds=t.result.seconds.valueBlock.valueDec),"millis"in t.result){const s=new e.Integer({valueHex:t.result.millis.valueBlock.valueHex});this.millis=s.valueBlock.valueDec}if("micros"in t.result){const s=new e.Integer({valueHex:t.result.micros.valueBlock.valueHex});this.micros=s.valueBlock.valueDec}}toSchema(){const s=[];if("seconds"in this&&s.push(new e.Integer({value:this.seconds})),"millis"in this){const i=new e.Integer({value:this.millis});s.push(new e.Primitive({idBlock:{tagClass:3,tagNumber:0},valueHex:i.valueBlock.valueHex}))}if("micros"in this){const i=new e.Integer({value:this.micros});s.push(new e.Primitive({idBlock:{tagClass:3,tagNumber:1},valueHex:i.valueBlock.valueHex}))}return new e.Sequence({value:s})}toJSON(){const e={};return"seconds"in this&&(e.seconds=this.seconds),"millis"in this&&(e.millis=this.millis),"micros"in this&&(e.micros=this.micros),e}}exports.default=r;
},{"asn1js":"h7Xx","pvutils":"V6vO"}],"n1em":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=n(require("asn1js")),t=require("pvutils"),a=r(require("./GeneralName.js"));function r(e){return e&&e.__esModule?e:{default:e}}function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(s=function(e){return e?a:t})(e)}function n(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=s(t);if(a&&a.has(e))return a.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var u=n?Object.getOwnPropertyDescriptor(e,l):null;u&&(u.get||u.set)?Object.defineProperty(r,l,u):r[l]=e[l]}return r.default=e,a&&a.set(e,r),r}class l{constructor(e={}){this.altNames=(0,t.getParametersValue)(e,"altNames",l.defaultValues("altNames")),"schema"in e&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case"altNames":return[];default:throw new Error(`Invalid member name for AltName class: ${e}`)}}static schema(r={}){const s=(0,t.getParametersValue)(r,"names",{});return new e.Sequence({name:s.blockName||"",value:[new e.Repeated({name:s.altNames||"",value:a.default.schema()})]})}fromSchema(r){(0,t.clearProps)(r,["altNames"]);const s=e.compareSchema(r,r,l.schema({names:{altNames:"altNames"}}));if(!1===s.verified)throw new Error("Object's schema was not verified against input data for AltName");"altNames"in s.result&&(this.altNames=Array.from(s.result.altNames,e=>new a.default({schema:e})))}toSchema(){return new e.Sequence({value:Array.from(this.altNames,e=>e.toSchema())})}toJSON(){return{altNames:Array.from(this.altNames,e=>e.toJSON())}}}exports.default=l;
},{"asn1js":"h7Xx","pvutils":"V6vO","./GeneralName.js":"DITp"}],"NWpo":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=r(require("asn1js")),t=require("pvutils");function n(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(n=function(e){return e?r:t})(e)}function r(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=n(t);if(r&&r.has(e))return r.get(e);var o={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var c in e)if("default"!==c&&Object.prototype.hasOwnProperty.call(e,c)){var s=a?Object.getOwnPropertyDescriptor(e,c):null;s&&(s.get||s.set)?Object.defineProperty(o,c,s):o[c]=e[c]}return o.default=e,r&&r.set(e,o),o}class o{constructor(e={}){this.contentType=(0,t.getParametersValue)(e,"contentType",o.defaultValues("contentType")),this.content=(0,t.getParametersValue)(e,"content",o.defaultValues("content")),"schema"in e&&this.fromSchema(e.schema)}static defaultValues(t){switch(t){case"contentType":return"";case"content":return new e.Any;default:throw new Error(`Invalid member name for ContentInfo class: ${t}`)}}static compareWithDefault(t,n){switch(t){case"contentType":return""===n;case"content":return n instanceof e.Any;default:throw new Error(`Invalid member name for ContentInfo class: ${t}`)}}static schema(n={}){const r=(0,t.getParametersValue)(n,"names",{});return"optional"in r==!1&&(r.optional=!1),new e.Sequence({name:r.blockName||"ContentInfo",optional:r.optional,value:[new e.ObjectIdentifier({name:r.contentType||"contentType"}),new e.Constructed({idBlock:{tagClass:3,tagNumber:0},value:[new e.Any({name:r.content||"content"})]})]})}fromSchema(n){(0,t.clearProps)(n,["contentType","content"]);const r=e.compareSchema(n,n,o.schema());if(!1===r.verified)throw new Error("Object's schema was not verified against input data for ContentInfo");this.contentType=r.result.contentType.valueBlock.toString(),this.content=r.result.content}toSchema(){return new e.Sequence({value:[new e.ObjectIdentifier({value:this.contentType}),new e.Constructed({idBlock:{tagClass:3,tagNumber:0},value:[this.content]})]})}toJSON(){const t={contentType:this.contentType};return this.content instanceof e.Any||(t.content=this.content.toJSON()),t}}exports.default=o;
},{"asn1js":"h7Xx","pvutils":"V6vO"}],"JYmP":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=s(require("asn1js")),t=require("pvutils"),n=require("./common.js"),r=c(require("./EncryptedContentInfo.js")),o=c(require("./Attribute.js"));function c(e){return e&&e.__esModule?e:{default:e}}function a(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(a=function(e){return e?n:t})(e)}function s(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=a(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var c in e)if("default"!==c&&Object.prototype.hasOwnProperty.call(e,c)){var s=o?Object.getOwnPropertyDescriptor(e,c):null;s&&(s.get||s.set)?Object.defineProperty(r,c,s):r[c]=e[c]}return r.default=e,n&&n.set(e,r),r}class u{constructor(e={}){this.version=(0,t.getParametersValue)(e,"version",u.defaultValues("version")),this.encryptedContentInfo=(0,t.getParametersValue)(e,"encryptedContentInfo",u.defaultValues("encryptedContentInfo")),"unprotectedAttrs"in e&&(this.unprotectedAttrs=(0,t.getParametersValue)(e,"unprotectedAttrs",u.defaultValues("unprotectedAttrs"))),"schema"in e&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case"version":return 0;case"encryptedContentInfo":return new r.default;case"unprotectedAttrs":return[];default:throw new Error(`Invalid member name for EncryptedData class: ${e}`)}}static compareWithDefault(e,t){switch(e){case"version":return 0===t;case"encryptedContentInfo":return r.default.compareWithDefault("contentType",t.contentType)&&r.default.compareWithDefault("contentEncryptionAlgorithm",t.contentEncryptionAlgorithm)&&r.default.compareWithDefault("encryptedContent",t.encryptedContent);case"unprotectedAttrs":return 0===t.length;default:throw new Error(`Invalid member name for EncryptedData class: ${e}`)}}static schema(n={}){const c=(0,t.getParametersValue)(n,"names",{});return new e.Sequence({name:c.blockName||"",value:[new e.Integer({name:c.version||""}),r.default.schema(c.encryptedContentInfo||{}),new e.Constructed({optional:!0,idBlock:{tagClass:3,tagNumber:1},value:[new e.Repeated({name:c.unprotectedAttrs||"",value:o.default.schema()})]})]})}fromSchema(n){(0,t.clearProps)(n,["version","encryptedContentInfo","unprotectedAttrs"]);const c=e.compareSchema(n,n,u.schema({names:{version:"version",encryptedContentInfo:{names:{blockName:"encryptedContentInfo"}},unprotectedAttrs:"unprotectedAttrs"}}));if(!1===c.verified)throw new Error("Object's schema was not verified against input data for EncryptedData");this.version=c.result.version.valueBlock.valueDec,this.encryptedContentInfo=new r.default({schema:c.result.encryptedContentInfo}),"unprotectedAttrs"in c.result&&(this.unprotectedAttrs=Array.from(c.result.unprotectedAttrs,e=>new o.default({schema:e})))}toSchema(){const t=[];return t.push(new e.Integer({value:this.version})),t.push(this.encryptedContentInfo.toSchema()),"unprotectedAttrs"in this&&t.push(new e.Constructed({optional:!0,idBlock:{tagClass:3,tagNumber:1},value:Array.from(this.unprotectedAttrs,e=>e.toSchema())})),new e.Sequence({value:t})}toJSON(){const e={version:this.version,encryptedContentInfo:this.encryptedContentInfo.toJSON()};return"unprotectedAttrs"in this&&(e.unprotectedAttrs=Array.from(this.unprotectedAttrs,e=>e.toJSON())),e}encrypt(e){if(e instanceof Object==!1)return Promise.reject('Parameters must have type "Object"');const t=(0,n.getEngine)();return void 0===t?Promise.reject("Unable to initialize cryptographic engine"):(e.contentType="1.2.840.113549.1.7.1","encryptEncryptedContentInfo"in t.subtle?t.subtle.encryptEncryptedContentInfo(e).then(e=>{this.encryptedContentInfo=e}):Promise.reject(`No support for "encryptEncryptedContentInfo" in current crypto engine ${t.name}`))}decrypt(e){if(e instanceof Object==!1)return Promise.reject('Parameters must have type "Object"');const t=(0,n.getEngine)();return void 0===t?Promise.reject("Unable to initialize cryptographic engine"):(e.encryptedContentInfo=this.encryptedContentInfo,"decryptEncryptedContentInfo"in t.subtle?t.subtle.decryptEncryptedContentInfo(e):Promise.reject(`No support for "decryptEncryptedContentInfo" in current crypto engine ${t.name}`))}}exports.default=u;
},{"asn1js":"h7Xx","pvutils":"V6vO","./common.js":"ViMO","./EncryptedContentInfo.js":"lktU","./Attribute.js":"stBO"}],"hfrw":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=s(require("asn1js")),t=require("pvutils"),r=i(require("./AlgorithmIdentifier.js")),n=i(require("./EncryptedData.js")),a=i(require("./EncryptedContentInfo.js")),o=i(require("./PrivateKeyInfo.js"));function i(e){return e&&e.__esModule?e:{default:e}}function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(c=function(e){return e?r:t})(e)}function s(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=c(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}return n.default=e,r&&r.set(e,n),n}class l{constructor(e={}){this.encryptionAlgorithm=(0,t.getParametersValue)(e,"encryptionAlgorithm",l.defaultValues("encryptionAlgorithm")),this.encryptedData=(0,t.getParametersValue)(e,"encryptedData",l.defaultValues("encryptedData")),"parsedValue"in e&&(this.parsedValue=(0,t.getParametersValue)(e,"parsedValue",l.defaultValues("parsedValue"))),"schema"in e&&this.fromSchema(e.schema)}static defaultValues(t){switch(t){case"encryptionAlgorithm":return new r.default;case"encryptedData":return new e.OctetString;case"parsedValue":return{};default:throw new Error(`Invalid member name for PKCS8ShroudedKeyBag class: ${t}`)}}static compareWithDefault(e,t){switch(e){case"encryptionAlgorithm":return r.default.compareWithDefault("algorithmId",t.algorithmId)&&"algorithmParams"in t==!1;case"encryptedData":return t.isEqual(l.defaultValues(e));case"parsedValue":return t instanceof Object&&0===Object.keys(t).length;default:throw new Error(`Invalid member name for PKCS8ShroudedKeyBag class: ${e}`)}}static schema(n={}){const a=(0,t.getParametersValue)(n,"names",{});return new e.Sequence({name:a.blockName||"",value:[r.default.schema(a.encryptionAlgorithm||{names:{blockName:"encryptionAlgorithm"}}),new e.Choice({value:[new e.OctetString({name:a.encryptedData||"encryptedData"}),new e.OctetString({idBlock:{isConstructed:!0},name:a.encryptedData||"encryptedData"})]})]})}fromSchema(n){(0,t.clearProps)(n,["encryptionAlgorithm","encryptedData"]);const a=e.compareSchema(n,n,l.schema({names:{encryptionAlgorithm:{names:{blockName:"encryptionAlgorithm"}},encryptedData:"encryptedData"}}));if(!1===a.verified)throw new Error("Object's schema was not verified against input data for PKCS8ShroudedKeyBag");this.encryptionAlgorithm=new r.default({schema:a.result.encryptionAlgorithm}),this.encryptedData=a.result.encryptedData}toSchema(){return new e.Sequence({value:[this.encryptionAlgorithm.toSchema(),this.encryptedData]})}toJSON(){return{encryptionAlgorithm:this.encryptionAlgorithm.toJSON(),encryptedData:this.encryptedData.toJSON()}}parseInternalValues(t){let r=Promise.resolve();const i=new n.default({encryptedContentInfo:new a.default({contentEncryptionAlgorithm:this.encryptionAlgorithm,encryptedContent:this.encryptedData})});return r=(r=r.then(()=>i.decrypt(t),e=>Promise.reject(e))).then(t=>{const r=e.fromBER(t);return-1===r.offset?Promise.reject("Error during parsing ASN.1 data"):(this.parsedValue=new o.default({schema:r.result}),Promise.resolve())},e=>Promise.reject(e))}makeInternalValues(e){if("parsedValue"in this==!1)return Promise.reject('Please initialize "parsedValue" first');let t=Promise.resolve();const r=new n.default;return t=(t=t.then(()=>(e.contentToEncrypt=this.parsedValue.toSchema().toBER(!1),r.encrypt(e)),e=>Promise.reject(e))).then(()=>{this.encryptionAlgorithm=r.encryptedContentInfo.contentEncryptionAlgorithm,this.encryptedData=r.encryptedContentInfo.encryptedContent})}}exports.default=l;
},{"asn1js":"h7Xx","pvutils":"V6vO","./AlgorithmIdentifier.js":"D4jV","./EncryptedData.js":"JYmP","./EncryptedContentInfo.js":"lktU","./PrivateKeyInfo.js":"Ow1x"}],"GiRj":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=r(require("asn1js")),t=require("pvutils");function a(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(a=function(e){return e?r:t})(e)}function r(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=a(t);if(r&&r.has(e))return r.get(e);var i={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e)if("default"!==u&&Object.prototype.hasOwnProperty.call(e,u)){var s=n?Object.getOwnPropertyDescriptor(e,u):null;s&&(s.get||s.set)?Object.defineProperty(i,u,s):i[u]=e[u]}return i.default=e,r&&r.set(e,i),i}class i{constructor(e={}){this.type=(0,t.getParametersValue)(e,"type",i.defaultValues("type")),this.value=(0,t.getParametersValue)(e,"value",i.defaultValues("value")),"schema"in e&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case"type":return 0;case"value":return new Date(0,0,0);default:throw new Error(`Invalid member name for Time class: ${e}`)}}static schema(a={},r=!1){const i=(0,t.getParametersValue)(a,"names",{});return new e.Choice({optional:r,value:[new e.UTCTime({name:i.utcTimeName||""}),new e.GeneralizedTime({name:i.generalTimeName||""})]})}fromSchema(a){(0,t.clearProps)(a,["utcTimeName","generalTimeName"]);const r=e.compareSchema(a,a,i.schema({names:{utcTimeName:"utcTimeName",generalTimeName:"generalTimeName"}}));if(!1===r.verified)throw new Error("Object's schema was not verified against input data for Time");"utcTimeName"in r.result&&(this.type=0,this.value=r.result.utcTimeName.toDate()),"generalTimeName"in r.result&&(this.type=1,this.value=r.result.generalTimeName.toDate())}toSchema(){let t={};return 0===this.type&&(t=new e.UTCTime({valueDate:this.value})),1===this.type&&(t=new e.GeneralizedTime({valueDate:this.value})),t}toJSON(){return{type:this.type,value:this.value}}}exports.default=i;
},{"asn1js":"h7Xx","pvutils":"V6vO"}],"oWUO":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=s(require("asn1js")),t=require("pvutils"),r=a(require("./Attribute.js"));function a(e){return e&&e.__esModule?e:{default:e}}function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(u=function(e){return e?r:t})(e)}function s(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=u(t);if(r&&r.has(e))return r.get(e);var a={},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var n=s?Object.getOwnPropertyDescriptor(e,i):null;n&&(n.get||n.set)?Object.defineProperty(a,i,n):a[i]=e[i]}return a.default=e,r&&r.set(e,a),a}class i{constructor(e={}){this.attributes=(0,t.getParametersValue)(e,"attributes",i.defaultValues("attributes")),"schema"in e&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case"attributes":return[];default:throw new Error(`Invalid member name for SubjectDirectoryAttributes class: ${e}`)}}static schema(a={}){const u=(0,t.getParametersValue)(a,"names",{});return new e.Sequence({name:u.blockName||"",value:[new e.Repeated({name:u.attributes||"",value:r.default.schema()})]})}fromSchema(a){(0,t.clearProps)(a,["attributes"]);const u=e.compareSchema(a,a,i.schema({names:{attributes:"attributes"}}));if(!1===u.verified)throw new Error("Object's schema was not verified against input data for SubjectDirectoryAttributes");this.attributes=Array.from(u.result.attributes,e=>new r.default({schema:e}))}toSchema(){return new e.Sequence({value:Array.from(this.attributes,e=>e.toSchema())})}toJSON(){return{attributes:Array.from(this.attributes,e=>e.toJSON())}}}exports.default=i;
},{"asn1js":"h7Xx","pvutils":"V6vO","./Attribute.js":"stBO"}],"qNfq":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=o(require("asn1js")),t=require("pvutils");function r(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,o=new WeakMap;return(r=function(e){return e?o:t})(e)}function o(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var o=r(t);if(o&&o.has(e))return o.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var s=a?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(n,i,s):n[i]=e[i]}return n.default=e,o&&o.set(e,n),n}class n{constructor(e={}){"notBefore"in e&&(this.notBefore=(0,t.getParametersValue)(e,"notBefore",n.defaultValues("notBefore"))),"notAfter"in e&&(this.notAfter=(0,t.getParametersValue)(e,"notAfter",n.defaultValues("notAfter"))),"schema"in e&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case"notBefore":case"notAfter":return new Date;default:throw new Error(`Invalid member name for PrivateKeyUsagePeriod class: ${e}`)}}static schema(r={}){const o=(0,t.getParametersValue)(r,"names",{});return new e.Sequence({name:o.blockName||"",value:[new e.Primitive({name:o.notBefore||"",optional:!0,idBlock:{tagClass:3,tagNumber:0}}),new e.Primitive({name:o.notAfter||"",optional:!0,idBlock:{tagClass:3,tagNumber:1}})]})}fromSchema(r){(0,t.clearProps)(r,["notBefore","notAfter"]);const o=e.compareSchema(r,r,n.schema({names:{notBefore:"notBefore",notAfter:"notAfter"}}));if(!1===o.verified)throw new Error("Object's schema was not verified against input data for PrivateKeyUsagePeriod");if("notBefore"in o.result){const t=new e.GeneralizedTime;t.fromBuffer(o.result.notBefore.valueBlock.valueHex),this.notBefore=t.toDate()}if("notAfter"in o.result){const t=new e.GeneralizedTime({valueHex:o.result.notAfter.valueBlock.valueHex});t.fromBuffer(o.result.notAfter.valueBlock.valueHex),this.notAfter=t.toDate()}}toSchema(){const t=[];return"notBefore"in this&&t.push(new e.Primitive({idBlock:{tagClass:3,tagNumber:0},valueHex:new e.GeneralizedTime({valueDate:this.notBefore}).valueBlock.valueHex})),"notAfter"in this&&t.push(new e.Primitive({idBlock:{tagClass:3,tagNumber:1},valueHex:new e.GeneralizedTime({valueDate:this.notAfter}).valueBlock.valueHex})),new e.Sequence({value:t})}toJSON(){const e={};return"notBefore"in this&&(e.notBefore=this.notBefore),"notAfter"in this&&(e.notAfter=this.notAfter),e}}exports.default=n;
},{"asn1js":"h7Xx","pvutils":"V6vO"}],"UpiD":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=a(require("asn1js")),e=require("pvutils");function n(t){if("function"!=typeof WeakMap)return null;var e=new WeakMap,a=new WeakMap;return(n=function(t){return t?a:e})(t)}function a(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var a=n(e);if(a&&a.has(t))return a.get(t);var r={},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in t)if("default"!==i&&Object.prototype.hasOwnProperty.call(t,i)){var o=s?Object.getOwnPropertyDescriptor(t,i):null;o&&(o.get||o.set)?Object.defineProperty(r,i,o):r[i]=t[i]}return r.default=t,a&&a.set(t,r),r}class r{constructor(t={}){this.cA=(0,e.getParametersValue)(t,"cA",!1),"pathLenConstraint"in t&&(this.pathLenConstraint=(0,e.getParametersValue)(t,"pathLenConstraint",0)),"schema"in t&&this.fromSchema(t.schema)}static defaultValues(t){switch(t){case"cA":return!1;default:throw new Error(`Invalid member name for BasicConstraints class: ${t}`)}}static schema(n={}){const a=(0,e.getParametersValue)(n,"names",{});return new t.Sequence({name:a.blockName||"",value:[new t.Boolean({optional:!0,name:a.cA||""}),new t.Integer({optional:!0,name:a.pathLenConstraint||""})]})}fromSchema(n){(0,e.clearProps)(n,["cA","pathLenConstraint"]);const a=t.compareSchema(n,n,r.schema({names:{cA:"cA",pathLenConstraint:"pathLenConstraint"}}));if(!1===a.verified)throw new Error("Object's schema was not verified against input data for BasicConstraints");"cA"in a.result&&(this.cA=a.result.cA.valueBlock.value),"pathLenConstraint"in a.result&&(a.result.pathLenConstraint.valueBlock.isHexOnly?this.pathLenConstraint=a.result.pathLenConstraint:this.pathLenConstraint=a.result.pathLenConstraint.valueBlock.valueDec)}toSchema(){const e=[];return this.cA!==r.defaultValues("cA")&&e.push(new t.Boolean({value:this.cA})),"pathLenConstraint"in this&&(this.pathLenConstraint instanceof t.Integer?e.push(this.pathLenConstraint):e.push(new t.Integer({value:this.pathLenConstraint}))),new t.Sequence({value:e})}toJSON(){const e={};return this.cA!==r.defaultValues("cA")&&(e.cA=this.cA),"pathLenConstraint"in this&&(this.pathLenConstraint instanceof t.Integer?e.pathLenConstraint=this.pathLenConstraint.toJSON():e.pathLenConstraint=this.pathLenConstraint),e}}exports.default=r;
},{"asn1js":"h7Xx","pvutils":"V6vO"}],"rd5E":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=o(require("asn1js")),e=require("pvutils"),n=s(require("./GeneralName.js")),i=s(require("./RelativeDistinguishedNames.js"));function s(t){return t&&t.__esModule?t:{default:t}}function r(t){if("function"!=typeof WeakMap)return null;var e=new WeakMap,n=new WeakMap;return(r=function(t){return t?n:e})(t)}function o(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var n=r(e);if(n&&n.has(t))return n.get(t);var i={},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if("default"!==o&&Object.prototype.hasOwnProperty.call(t,o)){var a=s?Object.getOwnPropertyDescriptor(t,o):null;a&&(a.get||a.set)?Object.defineProperty(i,o,a):i[o]=t[o]}return i.default=t,n&&n.set(t,i),i}class a{constructor(t={}){"distributionPoint"in t&&(this.distributionPoint=(0,e.getParametersValue)(t,"distributionPoint",a.defaultValues("distributionPoint"))),this.onlyContainsUserCerts=(0,e.getParametersValue)(t,"onlyContainsUserCerts",a.defaultValues("onlyContainsUserCerts")),this.onlyContainsCACerts=(0,e.getParametersValue)(t,"onlyContainsCACerts",a.defaultValues("onlyContainsCACerts")),"onlySomeReasons"in t&&(this.onlySomeReasons=(0,e.getParametersValue)(t,"onlySomeReasons",a.defaultValues("onlySomeReasons"))),this.indirectCRL=(0,e.getParametersValue)(t,"indirectCRL",a.defaultValues("indirectCRL")),this.onlyContainsAttributeCerts=(0,e.getParametersValue)(t,"onlyContainsAttributeCerts",a.defaultValues("onlyContainsAttributeCerts")),"schema"in t&&this.fromSchema(t.schema)}static defaultValues(t){switch(t){case"distributionPoint":return[];case"onlyContainsUserCerts":case"onlyContainsCACerts":return!1;case"onlySomeReasons":return 0;case"indirectCRL":case"onlyContainsAttributeCerts":return!1;default:throw new Error(`Invalid member name for IssuingDistributionPoint class: ${t}`)}}static schema(s={}){const r=(0,e.getParametersValue)(s,"names",{});return new t.Sequence({name:r.blockName||"",value:[new t.Constructed({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[new t.Choice({value:[new t.Constructed({name:r.distributionPoint||"",idBlock:{tagClass:3,tagNumber:0},value:[new t.Repeated({name:r.distributionPointNames||"",value:n.default.schema()})]}),new t.Constructed({name:r.distributionPoint||"",idBlock:{tagClass:3,tagNumber:1},value:i.default.schema().valueBlock.value})]})]}),new t.Primitive({name:r.onlyContainsUserCerts||"",optional:!0,idBlock:{tagClass:3,tagNumber:1}}),new t.Primitive({name:r.onlyContainsCACerts||"",optional:!0,idBlock:{tagClass:3,tagNumber:2}}),new t.Primitive({name:r.onlySomeReasons||"",optional:!0,idBlock:{tagClass:3,tagNumber:3}}),new t.Primitive({name:r.indirectCRL||"",optional:!0,idBlock:{tagClass:3,tagNumber:4}}),new t.Primitive({name:r.onlyContainsAttributeCerts||"",optional:!0,idBlock:{tagClass:3,tagNumber:5}})]})}fromSchema(s){(0,e.clearProps)(s,["distributionPoint","distributionPointNames","onlyContainsUserCerts","onlyContainsCACerts","onlySomeReasons","indirectCRL","onlyContainsAttributeCerts"]);const r=t.compareSchema(s,s,a.schema({names:{distributionPoint:"distributionPoint",distributionPointNames:"distributionPointNames",onlyContainsUserCerts:"onlyContainsUserCerts",onlyContainsCACerts:"onlyContainsCACerts",onlySomeReasons:"onlySomeReasons",indirectCRL:"indirectCRL",onlyContainsAttributeCerts:"onlyContainsAttributeCerts"}}));if(!1===r.verified)throw new Error("Object's schema was not verified against input data for IssuingDistributionPoint");if("distributionPoint"in r.result)switch(!0){case 0===r.result.distributionPoint.idBlock.tagNumber:this.distributionPoint=Array.from(r.result.distributionPointNames,t=>new n.default({schema:t}));break;case 1===r.result.distributionPoint.idBlock.tagNumber:this.distributionPoint=new i.default({schema:new t.Sequence({value:r.result.distributionPoint.valueBlock.value})});break;default:throw new Error("Unknown tagNumber for distributionPoint: {$asn1.result.distributionPoint.idBlock.tagNumber}")}if("onlyContainsUserCerts"in r.result){const t=new Uint8Array(r.result.onlyContainsUserCerts.valueBlock.valueHex);this.onlyContainsUserCerts=0!==t[0]}if("onlyContainsCACerts"in r.result){const t=new Uint8Array(r.result.onlyContainsCACerts.valueBlock.valueHex);this.onlyContainsCACerts=0!==t[0]}if("onlySomeReasons"in r.result){const t=new Uint8Array(r.result.onlySomeReasons.valueBlock.valueHex);this.onlySomeReasons=t[0]}if("indirectCRL"in r.result){const t=new Uint8Array(r.result.indirectCRL.valueBlock.valueHex);this.indirectCRL=0!==t[0]}if("onlyContainsAttributeCerts"in r.result){const t=new Uint8Array(r.result.onlyContainsAttributeCerts.valueBlock.valueHex);this.onlyContainsAttributeCerts=0!==t[0]}}toSchema(){const e=[];if("distributionPoint"in this){let n;this.distributionPoint instanceof Array?n=new t.Constructed({idBlock:{tagClass:3,tagNumber:0},value:Array.from(this.distributionPoint,t=>t.toSchema())}):((n=this.distributionPoint.toSchema()).idBlock.tagClass=3,n.idBlock.tagNumber=1),e.push(new t.Constructed({idBlock:{tagClass:3,tagNumber:0},value:[n]}))}if(this.onlyContainsUserCerts!==a.defaultValues("onlyContainsUserCerts")&&e.push(new t.Primitive({idBlock:{tagClass:3,tagNumber:1},valueHex:new Uint8Array([255]).buffer})),this.onlyContainsCACerts!==a.defaultValues("onlyContainsCACerts")&&e.push(new t.Primitive({idBlock:{tagClass:3,tagNumber:2},valueHex:new Uint8Array([255]).buffer})),"onlySomeReasons"in this){const n=new ArrayBuffer(1);new Uint8Array(n)[0]=this.onlySomeReasons,e.push(new t.Primitive({idBlock:{tagClass:3,tagNumber:3},valueHex:n}))}return this.indirectCRL!==a.defaultValues("indirectCRL")&&e.push(new t.Primitive({idBlock:{tagClass:3,tagNumber:4},valueHex:new Uint8Array([255]).buffer})),this.onlyContainsAttributeCerts!==a.defaultValues("onlyContainsAttributeCerts")&&e.push(new t.Primitive({idBlock:{tagClass:3,tagNumber:5},valueHex:new Uint8Array([255]).buffer})),new t.Sequence({value:e})}toJSON(){const t={};return"distributionPoint"in this&&(this.distributionPoint instanceof Array?t.distributionPoint=Array.from(this.distributionPoint,t=>t.toJSON()):t.distributionPoint=this.distributionPoint.toJSON()),this.onlyContainsUserCerts!==a.defaultValues("onlyContainsUserCerts")&&(t.onlyContainsUserCerts=this.onlyContainsUserCerts),this.onlyContainsCACerts!==a.defaultValues("onlyContainsCACerts")&&(t.onlyContainsCACerts=this.onlyContainsCACerts),"onlySomeReasons"in this&&(t.onlySomeReasons=this.onlySomeReasons),this.indirectCRL!==a.defaultValues("indirectCRL")&&(t.indirectCRL=this.indirectCRL),this.onlyContainsAttributeCerts!==a.defaultValues("onlyContainsAttributeCerts")&&(t.onlyContainsAttributeCerts=this.onlyContainsAttributeCerts),t}}exports.default=a;
},{"asn1js":"h7Xx","pvutils":"V6vO","./GeneralName.js":"DITp","./RelativeDistinguishedNames.js":"ZcqL"}],"pY44":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=s(require("asn1js")),a=require("pvutils"),r=t(require("./GeneralName.js"));function t(e){return e&&e.__esModule?e:{default:e}}function n(e){if("function"!=typeof WeakMap)return null;var a=new WeakMap,r=new WeakMap;return(n=function(e){return e?r:a})(e)}function s(e,a){if(!a&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=n(a);if(r&&r.has(e))return r.get(e);var t={},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var u=s?Object.getOwnPropertyDescriptor(e,o):null;u&&(u.get||u.set)?Object.defineProperty(t,o,u):t[o]=e[o]}return t.default=e,r&&r.set(e,t),t}class o{constructor(e={}){this.names=(0,a.getParametersValue)(e,"names",o.defaultValues("names")),"schema"in e&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case"names":return[];default:throw new Error(`Invalid member name for GeneralNames class: ${e}`)}}static schema(t={},n=!1){const s=(0,a.getParametersValue)(t,"names",{});return new e.Sequence({optional:n,name:s.blockName||"",value:[new e.Repeated({name:s.generalNames||"",value:r.default.schema()})]})}fromSchema(t){(0,a.clearProps)(t,["names","generalNames"]);const n=e.compareSchema(t,t,o.schema({names:{blockName:"names",generalNames:"generalNames"}}));if(!1===n.verified)throw new Error("Object's schema was not verified against input data for GeneralNames");this.names=Array.from(n.result.generalNames,e=>new r.default({schema:e}))}toSchema(){return new e.Sequence({value:Array.from(this.names,e=>e.toSchema())})}toJSON(){return{names:Array.from(this.names,e=>e.toJSON())}}}exports.default=o;
},{"asn1js":"h7Xx","pvutils":"V6vO","./GeneralName.js":"DITp"}],"I4vz":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=u(require("asn1js")),m=require("pvutils"),t=a(require("./GeneralName.js"));function a(e){return e&&e.__esModule?e:{default:e}}function i(e){if("function"!=typeof WeakMap)return null;var m=new WeakMap,t=new WeakMap;return(i=function(e){return e?t:m})(e)}function u(e,m){if(!m&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=i(m);if(t&&t.has(e))return t.get(e);var a={},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var n in e)if("default"!==n&&Object.prototype.hasOwnProperty.call(e,n)){var s=u?Object.getOwnPropertyDescriptor(e,n):null;s&&(s.get||s.set)?Object.defineProperty(a,n,s):a[n]=e[n]}return a.default=e,t&&t.set(e,a),a}class n{constructor(e={}){this.base=(0,m.getParametersValue)(e,"base",n.defaultValues("base")),this.minimum=(0,m.getParametersValue)(e,"minimum",n.defaultValues("minimum")),"maximum"in e&&(this.maximum=(0,m.getParametersValue)(e,"maximum",n.defaultValues("maximum"))),"schema"in e&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case"base":return new t.default;case"minimum":case"maximum":return 0;default:throw new Error(`Invalid member name for GeneralSubtree class: ${e}`)}}static schema(a={}){const i=(0,m.getParametersValue)(a,"names",{});return new e.Sequence({name:i.blockName||"",value:[t.default.schema(i.base||{}),new e.Constructed({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[new e.Integer({name:i.minimum||""})]}),new e.Constructed({optional:!0,idBlock:{tagClass:3,tagNumber:1},value:[new e.Integer({name:i.maximum||""})]})]})}fromSchema(a){(0,m.clearProps)(a,["base","minimum","maximum"]);const i=e.compareSchema(a,a,n.schema({names:{base:{names:{blockName:"base"}},minimum:"minimum",maximum:"maximum"}}));if(!1===i.verified)throw new Error("Object's schema was not verified against input data for GeneralSubtree");this.base=new t.default({schema:i.result.base}),"minimum"in i.result&&(i.result.minimum.valueBlock.isHexOnly?this.minimum=i.result.minimum:this.minimum=i.result.minimum.valueBlock.valueDec),"maximum"in i.result&&(i.result.maximum.valueBlock.isHexOnly?this.maximum=i.result.maximum:this.maximum=i.result.maximum.valueBlock.valueDec)}toSchema(){const m=[];if(m.push(this.base.toSchema()),0!==this.minimum){let t=0;t=this.minimum instanceof e.Integer?this.minimum:new e.Integer({value:this.minimum}),m.push(new e.Constructed({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[t]}))}if("maximum"in this){let t=0;t=this.maximum instanceof e.Integer?this.maximum:new e.Integer({value:this.maximum}),m.push(new e.Constructed({optional:!0,idBlock:{tagClass:3,tagNumber:1},value:[t]}))}return new e.Sequence({value:m})}toJSON(){const e={base:this.base.toJSON()};return 0!==this.minimum&&("number"==typeof this.minimum?e.minimum=this.minimum:e.minimum=this.minimum.toJSON()),"maximum"in this&&("number"==typeof this.maximum?e.maximum=this.maximum:e.maximum=this.maximum.toJSON()),e}}exports.default=n;
},{"asn1js":"h7Xx","pvutils":"V6vO","./GeneralName.js":"DITp"}],"IHuX":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=a(require("asn1js")),t=require("pvutils"),r=u(require("./GeneralSubtree.js"));function u(e){return e&&e.__esModule?e:{default:e}}function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(s=function(e){return e?r:t})(e)}function a(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=s(t);if(r&&r.has(e))return r.get(e);var u={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var d in e)if("default"!==d&&Object.prototype.hasOwnProperty.call(e,d)){var n=a?Object.getOwnPropertyDescriptor(e,d):null;n&&(n.get||n.set)?Object.defineProperty(u,d,n):u[d]=e[d]}return u.default=e,r&&r.set(e,u),u}class d{constructor(e={}){"permittedSubtrees"in e&&(this.permittedSubtrees=(0,t.getParametersValue)(e,"permittedSubtrees",d.defaultValues("permittedSubtrees"))),"excludedSubtrees"in e&&(this.excludedSubtrees=(0,t.getParametersValue)(e,"excludedSubtrees",d.defaultValues("excludedSubtrees"))),"schema"in e&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case"permittedSubtrees":case"excludedSubtrees":return[];default:throw new Error(`Invalid member name for NameConstraints class: ${e}`)}}static schema(u={}){const s=(0,t.getParametersValue)(u,"names",{});return new e.Sequence({name:s.blockName||"",value:[new e.Constructed({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[new e.Repeated({name:s.permittedSubtrees||"",value:r.default.schema()})]}),new e.Constructed({optional:!0,idBlock:{tagClass:3,tagNumber:1},value:[new e.Repeated({name:s.excludedSubtrees||"",value:r.default.schema()})]})]})}fromSchema(u){(0,t.clearProps)(u,["permittedSubtrees","excludedSubtrees"]);const s=e.compareSchema(u,u,d.schema({names:{permittedSubtrees:"permittedSubtrees",excludedSubtrees:"excludedSubtrees"}}));if(!1===s.verified)throw new Error("Object's schema was not verified against input data for NameConstraints");"permittedSubtrees"in s.result&&(this.permittedSubtrees=Array.from(s.result.permittedSubtrees,e=>new r.default({schema:e}))),"excludedSubtrees"in s.result&&(this.excludedSubtrees=Array.from(s.result.excludedSubtrees,e=>new r.default({schema:e})))}toSchema(){const t=[];return"permittedSubtrees"in this&&t.push(new e.Constructed({idBlock:{tagClass:3,tagNumber:0},value:Array.from(this.permittedSubtrees,e=>e.toSchema())})),"excludedSubtrees"in this&&t.push(new e.Constructed({idBlock:{tagClass:3,tagNumber:1},value:Array.from(this.excludedSubtrees,e=>e.toSchema())})),new e.Sequence({value:t})}toJSON(){const e={};return"permittedSubtrees"in this&&(e.permittedSubtrees=Array.from(this.permittedSubtrees,e=>e.toJSON())),"excludedSubtrees"in this&&(e.excludedSubtrees=Array.from(this.excludedSubtrees,e=>e.toJSON())),e}}exports.default=d;
},{"asn1js":"h7Xx","pvutils":"V6vO","./GeneralSubtree.js":"I4vz"}],"uB91":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=a(require("asn1js")),t=require("pvutils"),s=r(require("./GeneralName.js")),i=r(require("./RelativeDistinguishedNames.js"));function r(e){return e&&e.__esModule?e:{default:e}}function n(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,s=new WeakMap;return(n=function(e){return e?s:t})(e)}function a(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var s=n(t);if(s&&s.has(e))return s.get(e);var i={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var o=r?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(i,a,o):i[a]=e[a]}return i.default=e,s&&s.set(e,i),i}class o{constructor(e={}){"distributionPoint"in e&&(this.distributionPoint=(0,t.getParametersValue)(e,"distributionPoint",o.defaultValues("distributionPoint"))),"reasons"in e&&(this.reasons=(0,t.getParametersValue)(e,"reasons",o.defaultValues("reasons"))),"cRLIssuer"in e&&(this.cRLIssuer=(0,t.getParametersValue)(e,"cRLIssuer",o.defaultValues("cRLIssuer"))),"schema"in e&&this.fromSchema(e.schema)}static defaultValues(t){switch(t){case"distributionPoint":return[];case"reasons":return new e.BitString;case"cRLIssuer":return[];default:throw new Error(`Invalid member name for DistributionPoint class: ${t}`)}}static schema(r={}){const n=(0,t.getParametersValue)(r,"names",{});return new e.Sequence({name:n.blockName||"",value:[new e.Constructed({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[new e.Choice({value:[new e.Constructed({name:n.distributionPoint||"",optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[new e.Repeated({name:n.distributionPointNames||"",value:s.default.schema()})]}),new e.Constructed({name:n.distributionPoint||"",optional:!0,idBlock:{tagClass:3,tagNumber:1},value:i.default.schema().valueBlock.value})]})]}),new e.Primitive({name:n.reasons||"",optional:!0,idBlock:{tagClass:3,tagNumber:1}}),new e.Constructed({name:n.cRLIssuer||"",optional:!0,idBlock:{tagClass:3,tagNumber:2},value:[new e.Repeated({name:n.cRLIssuerNames||"",value:s.default.schema()})]})]})}fromSchema(r){(0,t.clearProps)(r,["distributionPoint","distributionPointNames","reasons","cRLIssuer","cRLIssuerNames"]);const n=e.compareSchema(r,r,o.schema({names:{distributionPoint:"distributionPoint",distributionPointNames:"distributionPointNames",reasons:"reasons",cRLIssuer:"cRLIssuer",cRLIssuerNames:"cRLIssuerNames"}}));if(!1===n.verified)throw new Error("Object's schema was not verified against input data for DistributionPoint");"distributionPoint"in n.result&&(0===n.result.distributionPoint.idBlock.tagNumber&&(this.distributionPoint=Array.from(n.result.distributionPointNames,e=>new s.default({schema:e}))),1===n.result.distributionPoint.idBlock.tagNumber&&(this.distributionPoint=new i.default({schema:new e.Sequence({value:n.result.distributionPoint.valueBlock.value})}))),"reasons"in n.result&&(this.reasons=new e.BitString({valueHex:n.result.reasons.valueBlock.valueHex})),"cRLIssuer"in n.result&&(this.cRLIssuer=Array.from(n.result.cRLIssuerNames,e=>new s.default({schema:e})))}toSchema(){const t=[];if("distributionPoint"in this){let s;s=this.distributionPoint instanceof Array?new e.Constructed({idBlock:{tagClass:3,tagNumber:0},value:Array.from(this.distributionPoint,e=>e.toSchema())}):new e.Constructed({idBlock:{tagClass:3,tagNumber:1},value:[this.distributionPoint.toSchema()]}),t.push(new e.Constructed({idBlock:{tagClass:3,tagNumber:0},value:[s]}))}return"reasons"in this&&t.push(new e.Primitive({idBlock:{tagClass:3,tagNumber:1},valueHex:this.reasons.valueBlock.valueHex})),"cRLIssuer"in this&&t.push(new e.Constructed({idBlock:{tagClass:3,tagNumber:2},value:Array.from(this.cRLIssuer,e=>e.toSchema())})),new e.Sequence({value:t})}toJSON(){const e={};return"distributionPoint"in this&&(this.distributionPoint instanceof Array?e.distributionPoint=Array.from(this.distributionPoint,e=>e.toJSON()):e.distributionPoint=this.distributionPoint.toJSON()),"reasons"in this&&(e.reasons=this.reasons.toJSON()),"cRLIssuer"in this&&(e.cRLIssuer=Array.from(this.cRLIssuer,e=>e.toJSON())),e}}exports.default=o;
},{"asn1js":"h7Xx","pvutils":"V6vO","./GeneralName.js":"DITp","./RelativeDistinguishedNames.js":"ZcqL"}],"Xsm3":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=o(require("asn1js")),e=require("pvutils"),r=i(require("./DistributionPoint.js"));function i(t){return t&&t.__esModule?t:{default:t}}function n(t){if("function"!=typeof WeakMap)return null;var e=new WeakMap,r=new WeakMap;return(n=function(t){return t?r:e})(t)}function o(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var r=n(e);if(r&&r.has(t))return r.get(t);var i={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in t)if("default"!==s&&Object.prototype.hasOwnProperty.call(t,s)){var a=o?Object.getOwnPropertyDescriptor(t,s):null;a&&(a.get||a.set)?Object.defineProperty(i,s,a):i[s]=t[s]}return i.default=t,r&&r.set(t,i),i}class s{constructor(t={}){this.distributionPoints=(0,e.getParametersValue)(t,"distributionPoints",s.defaultValues("distributionPoints")),"schema"in t&&this.fromSchema(t.schema)}static defaultValues(t){switch(t){case"distributionPoints":return[];default:throw new Error(`Invalid member name for CRLDistributionPoints class: ${t}`)}}static schema(i={}){const n=(0,e.getParametersValue)(i,"names",{});return new t.Sequence({name:n.blockName||"",value:[new t.Repeated({name:n.distributionPoints||"",value:r.default.schema()})]})}fromSchema(i){(0,e.clearProps)(i,["distributionPoints"]);const n=t.compareSchema(i,i,s.schema({names:{distributionPoints:"distributionPoints"}}));if(!1===n.verified)throw new Error("Object's schema was not verified against input data for CRLDistributionPoints");this.distributionPoints=Array.from(n.result.distributionPoints,t=>new r.default({schema:t}))}toSchema(){return new t.Sequence({value:Array.from(this.distributionPoints,t=>t.toSchema())})}toJSON(){return{distributionPoints:Array.from(this.distributionPoints,t=>t.toJSON())}}}exports.default=s;
},{"asn1js":"h7Xx","pvutils":"V6vO","./DistributionPoint.js":"uB91"}],"nXgH":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=a(require("asn1js")),i=require("pvutils");function r(e){if("function"!=typeof WeakMap)return null;var i=new WeakMap,a=new WeakMap;return(r=function(e){return e?a:i})(e)}function a(e,i){if(!i&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=r(i);if(a&&a.has(e))return a.get(e);var t={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e)if("default"!==u&&Object.prototype.hasOwnProperty.call(e,u)){var n=l?Object.getOwnPropertyDescriptor(e,u):null;n&&(n.get||n.set)?Object.defineProperty(t,u,n):t[u]=e[u]}return t.default=e,a&&a.set(e,t),t}class t{constructor(e={}){this.policyQualifierId=(0,i.getParametersValue)(e,"policyQualifierId",t.defaultValues("policyQualifierId")),this.qualifier=(0,i.getParametersValue)(e,"qualifier",t.defaultValues("qualifier")),"schema"in e&&this.fromSchema(e.schema)}static defaultValues(i){switch(i){case"policyQualifierId":return"";case"qualifier":return new e.Any;default:throw new Error(`Invalid member name for PolicyQualifierInfo class: ${i}`)}}static schema(r={}){const a=(0,i.getParametersValue)(r,"names",{});return new e.Sequence({name:a.blockName||"",value:[new e.ObjectIdentifier({name:a.policyQualifierId||""}),new e.Any({name:a.qualifier||""})]})}fromSchema(r){(0,i.clearProps)(r,["policyQualifierId","qualifier"]);const a=e.compareSchema(r,r,t.schema({names:{policyQualifierId:"policyQualifierId",qualifier:"qualifier"}}));if(!1===a.verified)throw new Error("Object's schema was not verified against input data for PolicyQualifierInfo");this.policyQualifierId=a.result.policyQualifierId.valueBlock.toString(),this.qualifier=a.result.qualifier}toSchema(){return new e.Sequence({value:[new e.ObjectIdentifier({value:this.policyQualifierId}),this.qualifier]})}toJSON(){return{policyQualifierId:this.policyQualifierId,qualifier:this.qualifier.toJSON()}}}exports.default=t;
},{"asn1js":"h7Xx","pvutils":"V6vO"}],"wCSB":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=l(require("asn1js")),i=require("pvutils"),r=t(require("./PolicyQualifierInfo.js"));function t(e){return e&&e.__esModule?e:{default:e}}function a(e){if("function"!=typeof WeakMap)return null;var i=new WeakMap,r=new WeakMap;return(a=function(e){return e?r:i})(e)}function l(e,i){if(!i&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=a(i);if(r&&r.has(e))return r.get(e);var t={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var n=l?Object.getOwnPropertyDescriptor(e,o):null;n&&(n.get||n.set)?Object.defineProperty(t,o,n):t[o]=e[o]}return t.default=e,r&&r.set(e,t),t}class o{constructor(e={}){this.policyIdentifier=(0,i.getParametersValue)(e,"policyIdentifier",o.defaultValues("policyIdentifier")),"policyQualifiers"in e&&(this.policyQualifiers=(0,i.getParametersValue)(e,"policyQualifiers",o.defaultValues("policyQualifiers"))),"schema"in e&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case"policyIdentifier":return"";case"policyQualifiers":return[];default:throw new Error(`Invalid member name for PolicyInformation class: ${e}`)}}static schema(t={}){const a=(0,i.getParametersValue)(t,"names",{});return new e.Sequence({name:a.blockName||"",value:[new e.ObjectIdentifier({name:a.policyIdentifier||""}),new e.Sequence({optional:!0,value:[new e.Repeated({name:a.policyQualifiers||"",value:r.default.schema()})]})]})}fromSchema(t){(0,i.clearProps)(t,["policyIdentifier","policyQualifiers"]);const a=e.compareSchema(t,t,o.schema({names:{policyIdentifier:"policyIdentifier",policyQualifiers:"policyQualifiers"}}));if(!1===a.verified)throw new Error("Object's schema was not verified against input data for PolicyInformation");this.policyIdentifier=a.result.policyIdentifier.valueBlock.toString(),"policyQualifiers"in a.result&&(this.policyQualifiers=Array.from(a.result.policyQualifiers,e=>new r.default({schema:e})))}toSchema(){const i=[];return i.push(new e.ObjectIdentifier({value:this.policyIdentifier})),"policyQualifiers"in this&&i.push(new e.Sequence({value:Array.from(this.policyQualifiers,e=>e.toSchema())})),new e.Sequence({value:i})}toJSON(){const e={policyIdentifier:this.policyIdentifier};return"policyQualifiers"in this&&(e.policyQualifiers=Array.from(this.policyQualifiers,e=>e.toJSON())),e}}exports.default=o;
},{"asn1js":"h7Xx","pvutils":"V6vO","./PolicyQualifierInfo.js":"nXgH"}],"Prfj":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=c(require("asn1js")),t=require("pvutils"),r=i(require("./PolicyInformation.js"));function i(e){return e&&e.__esModule?e:{default:e}}function a(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(a=function(e){return e?r:t})(e)}function c(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=a(t);if(r&&r.has(e))return r.get(e);var i={},c=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=c?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(i,o,s):i[o]=e[o]}return i.default=e,r&&r.set(e,i),i}class o{constructor(e={}){this.certificatePolicies=(0,t.getParametersValue)(e,"certificatePolicies",o.defaultValues("certificatePolicies")),"schema"in e&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case"certificatePolicies":return[];default:throw new Error(`Invalid member name for CertificatePolicies class: ${e}`)}}static schema(i={}){const a=(0,t.getParametersValue)(i,"names",{});return new e.Sequence({name:a.blockName||"",value:[new e.Repeated({name:a.certificatePolicies||"",value:r.default.schema()})]})}fromSchema(i){(0,t.clearProps)(i,["certificatePolicies"]);const a=e.compareSchema(i,i,o.schema({names:{certificatePolicies:"certificatePolicies"}}));if(!1===a.verified)throw new Error("Object's schema was not verified against input data for CertificatePolicies");this.certificatePolicies=Array.from(a.result.certificatePolicies,e=>new r.default({schema:e}))}toSchema(){return new e.Sequence({value:Array.from(this.certificatePolicies,e=>e.toSchema())})}toJSON(){return{certificatePolicies:Array.from(this.certificatePolicies,e=>e.toJSON())}}}exports.default=o;
},{"asn1js":"h7Xx","pvutils":"V6vO","./PolicyInformation.js":"wCSB"}],"rGQk":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=a(require("asn1js")),i=require("pvutils");function t(e){if("function"!=typeof WeakMap)return null;var i=new WeakMap,a=new WeakMap;return(t=function(e){return e?a:i})(e)}function a(e,i){if(!i&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=t(i);if(a&&a.has(e))return a.get(e);var o={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var n=r?Object.getOwnPropertyDescriptor(e,s):null;n&&(n.get||n.set)?Object.defineProperty(o,s,n):o[s]=e[s]}return o.default=e,a&&a.set(e,o),o}class o{constructor(e={}){this.issuerDomainPolicy=(0,i.getParametersValue)(e,"issuerDomainPolicy",o.defaultValues("issuerDomainPolicy")),this.subjectDomainPolicy=(0,i.getParametersValue)(e,"subjectDomainPolicy",o.defaultValues("subjectDomainPolicy")),"schema"in e&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case"issuerDomainPolicy":case"subjectDomainPolicy":return"";default:throw new Error(`Invalid member name for PolicyMapping class: ${e}`)}}static schema(t={}){const a=(0,i.getParametersValue)(t,"names",{});return new e.Sequence({name:a.blockName||"",value:[new e.ObjectIdentifier({name:a.issuerDomainPolicy||""}),new e.ObjectIdentifier({name:a.subjectDomainPolicy||""})]})}fromSchema(t){(0,i.clearProps)(t,["issuerDomainPolicy","subjectDomainPolicy"]);const a=e.compareSchema(t,t,o.schema({names:{issuerDomainPolicy:"issuerDomainPolicy",subjectDomainPolicy:"subjectDomainPolicy"}}));if(!1===a.verified)throw new Error("Object's schema was not verified against input data for PolicyMapping");this.issuerDomainPolicy=a.result.issuerDomainPolicy.valueBlock.toString(),this.subjectDomainPolicy=a.result.subjectDomainPolicy.valueBlock.toString()}toSchema(){return new e.Sequence({value:[new e.ObjectIdentifier({value:this.issuerDomainPolicy}),new e.ObjectIdentifier({value:this.subjectDomainPolicy})]})}toJSON(){return{issuerDomainPolicy:this.issuerDomainPolicy,subjectDomainPolicy:this.subjectDomainPolicy}}}exports.default=o;
},{"asn1js":"h7Xx","pvutils":"V6vO"}],"EtsQ":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=s(require("asn1js")),r=require("pvutils"),t=a(require("./PolicyMapping.js"));function a(e){return e&&e.__esModule?e:{default:e}}function n(e){if("function"!=typeof WeakMap)return null;var r=new WeakMap,t=new WeakMap;return(n=function(e){return e?t:r})(e)}function s(e,r){if(!r&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=n(r);if(t&&t.has(e))return t.get(e);var a={},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var p=s?Object.getOwnPropertyDescriptor(e,i):null;p&&(p.get||p.set)?Object.defineProperty(a,i,p):a[i]=e[i]}return a.default=e,t&&t.set(e,a),a}class i{constructor(e={}){this.mappings=(0,r.getParametersValue)(e,"mappings",i.defaultValues("mappings")),"schema"in e&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case"mappings":return[];default:throw new Error(`Invalid member name for PolicyMappings class: ${e}`)}}static schema(a={}){const n=(0,r.getParametersValue)(a,"names",{});return new e.Sequence({name:n.blockName||"",value:[new e.Repeated({name:n.mappings||"",value:t.default.schema()})]})}fromSchema(a){(0,r.clearProps)(a,["mappings"]);const n=e.compareSchema(a,a,i.schema({names:{mappings:"mappings"}}));if(!1===n.verified)throw new Error("Object's schema was not verified against input data for PolicyMappings");this.mappings=Array.from(n.result.mappings,e=>new t.default({schema:e}))}toSchema(){return new e.Sequence({value:Array.from(this.mappings,e=>e.toSchema())})}toJSON(){return{mappings:Array.from(this.mappings,e=>e.toJSON())}}}exports.default=i;
},{"asn1js":"h7Xx","pvutils":"V6vO","./PolicyMapping.js":"rGQk"}],"dt6r":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=u(require("asn1js")),t=require("pvutils"),r=i(require("./GeneralName.js"));function i(e){return e&&e.__esModule?e:{default:e}}function a(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(a=function(e){return e?r:t})(e)}function u(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=a(t);if(r&&r.has(e))return r.get(e);var i={},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var n=u?Object.getOwnPropertyDescriptor(e,s):null;n&&(n.get||n.set)?Object.defineProperty(i,s,n):i[s]=e[s]}return i.default=e,r&&r.set(e,i),i}class s{constructor(e={}){"keyIdentifier"in e&&(this.keyIdentifier=(0,t.getParametersValue)(e,"keyIdentifier",s.defaultValues("keyIdentifier"))),"authorityCertIssuer"in e&&(this.authorityCertIssuer=(0,t.getParametersValue)(e,"authorityCertIssuer",s.defaultValues("authorityCertIssuer"))),"authorityCertSerialNumber"in e&&(this.authorityCertSerialNumber=(0,t.getParametersValue)(e,"authorityCertSerialNumber",s.defaultValues("authorityCertSerialNumber"))),"schema"in e&&this.fromSchema(e.schema)}static defaultValues(t){switch(t){case"keyIdentifier":return new e.OctetString;case"authorityCertIssuer":return[];case"authorityCertSerialNumber":return new e.Integer;default:throw new Error(`Invalid member name for AuthorityKeyIdentifier class: ${t}`)}}static schema(i={}){const a=(0,t.getParametersValue)(i,"names",{});return new e.Sequence({name:a.blockName||"",value:[new e.Primitive({name:a.keyIdentifier||"",optional:!0,idBlock:{tagClass:3,tagNumber:0}}),new e.Constructed({optional:!0,idBlock:{tagClass:3,tagNumber:1},value:[new e.Repeated({name:a.authorityCertIssuer||"",value:r.default.schema()})]}),new e.Primitive({name:a.authorityCertSerialNumber||"",optional:!0,idBlock:{tagClass:3,tagNumber:2}})]})}fromSchema(i){(0,t.clearProps)(i,["keyIdentifier","authorityCertIssuer","authorityCertSerialNumber"]);const a=e.compareSchema(i,i,s.schema({names:{keyIdentifier:"keyIdentifier",authorityCertIssuer:"authorityCertIssuer",authorityCertSerialNumber:"authorityCertSerialNumber"}}));if(!1===a.verified)throw new Error("Object's schema was not verified against input data for AuthorityKeyIdentifier");"keyIdentifier"in a.result&&(this.keyIdentifier=new e.OctetString({valueHex:a.result.keyIdentifier.valueBlock.valueHex})),"authorityCertIssuer"in a.result&&(this.authorityCertIssuer=Array.from(a.result.authorityCertIssuer,e=>new r.default({schema:e}))),"authorityCertSerialNumber"in a.result&&(this.authorityCertSerialNumber=new e.Integer({valueHex:a.result.authorityCertSerialNumber.valueBlock.valueHex}))}toSchema(){const t=[];return"keyIdentifier"in this&&t.push(new e.Primitive({idBlock:{tagClass:3,tagNumber:0},valueHex:this.keyIdentifier.valueBlock.valueHex})),"authorityCertIssuer"in this&&t.push(new e.Constructed({idBlock:{tagClass:3,tagNumber:1},value:Array.from(this.authorityCertIssuer,e=>e.toSchema())})),"authorityCertSerialNumber"in this&&t.push(new e.Primitive({idBlock:{tagClass:3,tagNumber:2},valueHex:this.authorityCertSerialNumber.valueBlock.valueHex})),new e.Sequence({value:t})}toJSON(){const e={};return"keyIdentifier"in this&&(e.keyIdentifier=this.keyIdentifier.toJSON()),"authorityCertIssuer"in this&&(e.authorityCertIssuer=Array.from(this.authorityCertIssuer,e=>e.toJSON())),"authorityCertSerialNumber"in this&&(e.authorityCertSerialNumber=this.authorityCertSerialNumber.toJSON()),e}}exports.default=s;
},{"asn1js":"h7Xx","pvutils":"V6vO","./GeneralName.js":"DITp"}],"pSHR":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var i=r(require("asn1js")),e=require("pvutils");function t(i){if("function"!=typeof WeakMap)return null;var e=new WeakMap,r=new WeakMap;return(t=function(i){return i?r:e})(i)}function r(i,e){if(!e&&i&&i.__esModule)return i;if(null===i||"object"!=typeof i&&"function"!=typeof i)return{default:i};var r=t(e);if(r&&r.has(i))return r.get(i);var l={},c=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var n in i)if("default"!==n&&Object.prototype.hasOwnProperty.call(i,n)){var a=c?Object.getOwnPropertyDescriptor(i,n):null;a&&(a.get||a.set)?Object.defineProperty(l,n,a):l[n]=i[n]}return l.default=i,r&&r.set(i,l),l}class l{constructor(i={}){"requireExplicitPolicy"in i&&(this.requireExplicitPolicy=(0,e.getParametersValue)(i,"requireExplicitPolicy",l.defaultValues("requireExplicitPolicy"))),"inhibitPolicyMapping"in i&&(this.inhibitPolicyMapping=(0,e.getParametersValue)(i,"inhibitPolicyMapping",l.defaultValues("inhibitPolicyMapping"))),"schema"in i&&this.fromSchema(i.schema)}static defaultValues(i){switch(i){case"requireExplicitPolicy":case"inhibitPolicyMapping":return 0;default:throw new Error(`Invalid member name for PolicyConstraints class: ${i}`)}}static schema(t={}){const r=(0,e.getParametersValue)(t,"names",{});return new i.Sequence({name:r.blockName||"",value:[new i.Primitive({name:r.requireExplicitPolicy||"",optional:!0,idBlock:{tagClass:3,tagNumber:0}}),new i.Primitive({name:r.inhibitPolicyMapping||"",optional:!0,idBlock:{tagClass:3,tagNumber:1}})]})}fromSchema(t){(0,e.clearProps)(t,["requireExplicitPolicy","inhibitPolicyMapping"]);const r=i.compareSchema(t,t,l.schema({names:{requireExplicitPolicy:"requireExplicitPolicy",inhibitPolicyMapping:"inhibitPolicyMapping"}}));if(!1===r.verified)throw new Error("Object's schema was not verified against input data for PolicyConstraints");if("requireExplicitPolicy"in r.result){const e=r.result.requireExplicitPolicy;e.idBlock.tagClass=1,e.idBlock.tagNumber=2;const t=e.toBER(!1),l=i.fromBER(t);this.requireExplicitPolicy=l.result.valueBlock.valueDec}if("inhibitPolicyMapping"in r.result){const e=r.result.inhibitPolicyMapping;e.idBlock.tagClass=1,e.idBlock.tagNumber=2;const t=e.toBER(!1),l=i.fromBER(t);this.inhibitPolicyMapping=l.result.valueBlock.valueDec}}toSchema(){const e=[];if("requireExplicitPolicy"in this){const t=new i.Integer({value:this.requireExplicitPolicy});t.idBlock.tagClass=3,t.idBlock.tagNumber=0,e.push(t)}if("inhibitPolicyMapping"in this){const t=new i.Integer({value:this.inhibitPolicyMapping});t.idBlock.tagClass=3,t.idBlock.tagNumber=1,e.push(t)}return new i.Sequence({value:e})}toJSON(){const i={};return"requireExplicitPolicy"in this&&(i.requireExplicitPolicy=this.requireExplicitPolicy),"inhibitPolicyMapping"in this&&(i.inhibitPolicyMapping=this.inhibitPolicyMapping),i}}exports.default=l;
},{"asn1js":"h7Xx","pvutils":"V6vO"}],"Gd9g":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=s(require("asn1js")),r=require("pvutils");function t(e){if("function"!=typeof WeakMap)return null;var r=new WeakMap,s=new WeakMap;return(t=function(e){return e?s:r})(e)}function s(e,r){if(!r&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var s=t(r);if(s&&s.has(e))return s.get(e);var a={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e)if("default"!==u&&Object.prototype.hasOwnProperty.call(e,u)){var n=o?Object.getOwnPropertyDescriptor(e,u):null;n&&(n.get||n.set)?Object.defineProperty(a,u,n):a[u]=e[u]}return a.default=e,s&&s.set(e,a),a}class a{constructor(e={}){this.keyPurposes=(0,r.getParametersValue)(e,"keyPurposes",a.defaultValues("keyPurposes")),"schema"in e&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case"keyPurposes":return[];default:throw new Error(`Invalid member name for ExtKeyUsage class: ${e}`)}}static schema(t={}){const s=(0,r.getParametersValue)(t,"names",{});return new e.Sequence({name:s.blockName||"",value:[new e.Repeated({name:s.keyPurposes||"",value:new e.ObjectIdentifier})]})}fromSchema(t){(0,r.clearProps)(t,["keyPurposes"]);const s=e.compareSchema(t,t,a.schema({names:{keyPurposes:"keyPurposes"}}));if(!1===s.verified)throw new Error("Object's schema was not verified against input data for ExtKeyUsage");this.keyPurposes=Array.from(s.result.keyPurposes,e=>e.valueBlock.toString())}toSchema(){return new e.Sequence({value:Array.from(this.keyPurposes,r=>new e.ObjectIdentifier({value:r}))})}toJSON(){return{keyPurposes:Array.from(this.keyPurposes)}}}exports.default=a;
},{"asn1js":"h7Xx","pvutils":"V6vO"}],"WbMS":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=a(require("asn1js")),s=require("pvutils"),r=t(require("./AccessDescription.js"));function t(e){return e&&e.__esModule?e:{default:e}}function c(e){if("function"!=typeof WeakMap)return null;var s=new WeakMap,r=new WeakMap;return(c=function(e){return e?r:s})(e)}function a(e,s){if(!s&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=c(s);if(r&&r.has(e))return r.get(e);var t={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var n in e)if("default"!==n&&Object.prototype.hasOwnProperty.call(e,n)){var i=a?Object.getOwnPropertyDescriptor(e,n):null;i&&(i.get||i.set)?Object.defineProperty(t,n,i):t[n]=e[n]}return t.default=e,r&&r.set(e,t),t}class n{constructor(e={}){this.accessDescriptions=(0,s.getParametersValue)(e,"accessDescriptions",n.defaultValues("accessDescriptions")),"schema"in e&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case"accessDescriptions":return[];default:throw new Error(`Invalid member name for InfoAccess class: ${e}`)}}static schema(t={}){const c=(0,s.getParametersValue)(t,"names",{});return new e.Sequence({name:c.blockName||"",value:[new e.Repeated({name:c.accessDescriptions||"",value:r.default.schema()})]})}fromSchema(t){(0,s.clearProps)(t,["accessDescriptions"]);const c=e.compareSchema(t,t,n.schema({names:{accessDescriptions:"accessDescriptions"}}));if(!1===c.verified)throw new Error("Object's schema was not verified against input data for InfoAccess");this.accessDescriptions=Array.from(c.result.accessDescriptions,e=>new r.default({schema:e}))}toSchema(){return new e.Sequence({value:Array.from(this.accessDescriptions,e=>e.toSchema())})}toJSON(){return{accessDescriptions:Array.from(this.accessDescriptions,e=>e.toJSON())}}}exports.default=n;
},{"asn1js":"h7Xx","pvutils":"V6vO","./AccessDescription.js":"OaiP"}],"a25A":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.SeqStream=exports.SeqBitStream=exports.ByteStream=exports.BitStream=void 0,exports.parseByteMap=i;class t{constructor(t={}){this.clear();for(const e of Object.keys(t))switch(e){case"length":this.length=t.length;break;case"stub":for(let e=0;e<this._view.length;e++)this._view[e]=t.stub;break;case"view":this.fromUint8Array(t.view);break;case"buffer":this.fromArrayBuffer(t.buffer);break;case"string":this.fromString(t.string);break;case"hexstring":this.fromHexString(t.hexstring)}}set buffer(t){this._buffer=t.slice(0),this._view=new Uint8Array(this._buffer)}get buffer(){return this._buffer}set view(t){this._buffer=new ArrayBuffer(t.length),this._view=new Uint8Array(this._buffer),this._view.set(t)}get view(){return this._view}get length(){return this._buffer.byteLength}set length(t){this._buffer=new ArrayBuffer(t),this._view=new Uint8Array(this._buffer)}clear(){this._buffer=new ArrayBuffer(0),this._view=new Uint8Array(this._buffer)}fromArrayBuffer(t){this.buffer=t}fromUint8Array(t){this._buffer=new ArrayBuffer(t.length),this._view=new Uint8Array(this._buffer),this._view.set(t)}fromString(t){const e=t.length;this.length=e;for(let i=0;i<e;i++)this.view[i]=t.charCodeAt(i)}toString(t=0,e=this.view.length-t){let i="";(t>=this.view.length||t<0)&&(t=0),(e>=this.view.length||e<0)&&(e=this.view.length-t);for(let r=t;r<t+e;r++)i+=String.fromCharCode(this.view[r]);return i}fromHexString(t){const e=t.length;this.buffer=new ArrayBuffer(e>>1),this.view=new Uint8Array(this.buffer);const i=new Map;i.set("0",0),i.set("1",1),i.set("2",2),i.set("3",3),i.set("4",4),i.set("5",5),i.set("6",6),i.set("7",7),i.set("8",8),i.set("9",9),i.set("A",10),i.set("a",10),i.set("B",11),i.set("b",11),i.set("C",12),i.set("c",12),i.set("D",13),i.set("d",13),i.set("E",14),i.set("e",14),i.set("F",15),i.set("f",15);let r=0,s=0;for(let n=0;n<e;n++)n%2?(s|=i.get(t.charAt(n)),this.view[r]=s,r++):s=i.get(t.charAt(n))<<4}toHexString(t=0,e=this.view.length-t){let i="";(t>=this.view.length||t<0)&&(t=0),(e>=this.view.length||e<0)&&(e=this.view.length-t);for(let r=t;r<t+e;r++){const t=this.view[r].toString(16).toUpperCase();i=i+(1==t.length?"0":"")+t}return i}copy(e=0,i=this._buffer.byteLength-e){if(0===e&&0===this._buffer.byteLength)return new t;if(e<0||e>this._buffer.byteLength-1)throw new Error(`Wrong start position: ${e}`);const r=new t;return r._buffer=this._buffer.slice(e,e+i),r._view=new Uint8Array(r._buffer),r}slice(e=0,i=this._buffer.byteLength){if(0===e&&0===this._buffer.byteLength)return new t;if(e<0||e>this._buffer.byteLength-1)throw new Error(`Wrong start position: ${e}`);const r=new t;return r._buffer=this._buffer.slice(e,i),r._view=new Uint8Array(r._buffer),r}realloc(t){const e=new ArrayBuffer(t),i=new Uint8Array(e);t>this._view.length?i.set(this._view):i.set(new Uint8Array(this._buffer,0,t)),this._buffer=e.slice(0),this._view=new Uint8Array(this._buffer)}append(t){const e=this._buffer.byteLength,i=t._buffer.byteLength,r=t._view.slice();this.realloc(e+i),this._view.set(r,e)}insert(t,e=0,i=this._buffer.byteLength-e){return!(e>this._buffer.byteLength-1)&&(i>this._buffer.byteLength-e&&(i=this._buffer.byteLength-e),i>t._buffer.byteLength&&(i=t._buffer.byteLength),i==t._buffer.byteLength?this._view.set(t._view,e):this._view.set(t._view.slice(0,i),e),!0)}isEqual(t){if(this._buffer.byteLength!=t._buffer.byteLength)return!1;for(let e=0;e<t._buffer.byteLength;e++)if(this.view[e]!=t.view[e])return!1;return!0}isEqualView(t){if(t.length!=this.view.length)return!1;for(let e=0;e<t.length;e++)if(this.view[e]!=t[e])return!1;return!0}findPattern(t,e=null,i=null,r=!1){null==e&&(e=r?this.buffer.byteLength:0),e>this.buffer.byteLength&&(e=this.buffer.byteLength),r?(null==i&&(i=e),i>e&&(i=e)):(null==i&&(i=this.buffer.byteLength-e),i>this.buffer.byteLength-e&&(i=this.buffer.byteLength-e));const s=t.buffer.byteLength;if(s>i)return-1;const n=[];for(let h=0;h<s;h++)n.push(t.view[h]);for(let h=0;h<=i-s;h++){let t=!0;const i=r?e-s-h:e+h;for(let e=0;e<s;e++)if(this.view[e+i]!=n[e]){t=!1;break}if(t)return r?e-s-h:e+s+h}return-1}findFirstIn(t,e=null,i=null,r=!1){null==e&&(e=r?this.buffer.byteLength:0),e>this.buffer.byteLength&&(e=this.buffer.byteLength),r?(null==i&&(i=e),i>e&&(i=e)):(null==i&&(i=this.buffer.byteLength-e),i>this.buffer.byteLength-e&&(i=this.buffer.byteLength-e));const s={id:-1,position:r?0:e+i,length:0};for(let n=0;n<t.length;n++){const h=this.findPattern(t[n],e,i,r);if(-1!=h){let e=!1;const i=t[n].length;r?h-i>=s.position-s.length&&(e=!0):h-i<=s.position-s.length&&(e=!0),e&&(s.position=h,s.id=n,s.length=i)}}return s}findAllIn(t,e=0,i=this.buffer.byteLength-e){const r=[];if(null==e&&(e=0),e>this.buffer.byteLength-1)return r;null==i&&(i=this.buffer.byteLength-e),i>this.buffer.byteLength-e&&(i=this.buffer.byteLength-e);let s={id:-1,position:e};for(;;){const e=s.position;if(-1==(s=this.findFirstIn(t,s.position,i)).id)break;i-=s.position-e,r.push({id:s.id,position:s.position})}return r}findAllPatternIn(t,e=0,i=this.buffer.byteLength-e){null==e&&(e=0),e>this.buffer.byteLength&&(e=this.buffer.byteLength),null==i&&(i=this.buffer.byteLength-e),i>this.buffer.byteLength-e&&(i=this.buffer.byteLength-e);const r=[],s=t.buffer.byteLength;if(s>i)return-1;const n=Array.from(t.view);for(let h=0;h<=i-s;h++){let t=!0;const i=e+h;for(let e=0;e<s;e++)if(this.view[e+i]!=n[e]){t=!1;break}t&&(r.push(e+s+h),h+=s-1)}return r}findFirstNotIn(e,i=null,r=null,s=!1){null==i&&(i=s?this.buffer.byteLength:0),i>this.buffer.byteLength&&(i=this.buffer.byteLength),s?(null==r&&(r=i),r>i&&(r=i)):(null==r&&(r=this.buffer.byteLength-i),r>this.buffer.byteLength-i&&(r=this.buffer.byteLength-i));const n={left:{id:-1,position:i},right:{id:-1,position:0},value:new t};let h=r;for(;h>0;){if(n.right=this.findFirstIn(e,s?i-r+h:i+r-h,h,s),-1==n.right.id){r=h,s?i-=r:i=n.left.position,n.value=new t,n.value._buffer=this._buffer.slice(i,i+r),n.value._view=new Uint8Array(n.value._buffer);break}if(n.right.position!=(s?n.left.position-e[n.right.id].buffer.byteLength:n.left.position+e[n.right.id].buffer.byteLength)){s?(i=n.right.position+e[n.right.id].buffer.byteLength,r=n.left.position-n.right.position-e[n.right.id].buffer.byteLength):(i=n.left.position,r=n.right.position-n.left.position-e[n.right.id].buffer.byteLength),n.value=new t,n.value._buffer=this._buffer.slice(i,i+r),n.value._view=new Uint8Array(n.value._buffer);break}n.left=n.right,h-=e[n.right.id]._buffer.byteLength}if(s){const t=n.right;n.right=n.left,n.left=t}return n}findAllNotIn(e,i=null,r=null){const s=[];if(null==i&&(i=0),i>this.buffer.byteLength-1)return s;null==r&&(r=this.buffer.byteLength-i),r>this.buffer.byteLength-i&&(r=this.buffer.byteLength-i);let n={left:{id:-1,position:i},right:{id:-1,position:i},value:new t};do{const t=n.right.position;r-=(n=this.findFirstNotIn(e,n.right.position,r)).right.position-t,s.push({left:{id:n.left.id,position:n.left.position},right:{id:n.right.id,position:n.right.position},value:n.value})}while(-1!=n.right.id);return s}findFirstSequence(e,i=null,r=null,s=!1){null==i&&(i=s?this.buffer.byteLength:0),i>this.buffer.byteLength&&(i=this.buffer.byteLength),s?(null==r&&(r=i),r>i&&(r=i)):(null==r&&(r=this.buffer.byteLength-i),r>this.buffer.byteLength-i&&(r=this.buffer.byteLength-i));const n=this.skipNotPatterns(e,i,r,s);if(-1==n)return{position:-1,value:new t};const h=this.skipPatterns(e,n,r-(s?i-n:n-i),s);s?(i=h,r=n-h):(i=n,r=h-n);const f=new t;return f._buffer=this._buffer.slice(i,i+r),f._view=new Uint8Array(f._buffer),{position:h,value:f}}findAllSequences(e,i=null,r=null){const s=[];if(null==i&&(i=0),i>this.buffer.byteLength-1)return s;null==r&&(r=this.buffer.byteLength-i),r>this.buffer.byteLength-i&&(r=this.buffer.byteLength-i);let n={position:i,value:new t};do{const t=n.position;-1!=(n=this.findFirstSequence(e,n.position,r)).position&&(r-=n.position-t,s.push({position:n.position,value:n.value}))}while(-1!=n.position);return s}findPairedPatterns(t,e,i=null,r=null){const s=[];if(t.isEqual(e))return s;if(null==i&&(i=0),i>this.buffer.byteLength-1)return s;null==r&&(r=this.buffer.byteLength-i),r>this.buffer.byteLength-i&&(r=this.buffer.byteLength-i);let n=0;const h=this.findAllPatternIn(t,i,r);if(0==h.length)return s;const f=this.findAllPatternIn(e,i,r);if(0==f.length)return s;for(;n<h.length&&0!=f.length;)if(h[0]!=f[0]){if(h[n]>f[0])break;for(;h[n]<f[0]&&!(++n>=h.length););s.push({left:h[n-1],right:f[0]}),h.splice(n-1,1),f.splice(0,1),n=0}else s.push({left:h[0],right:f[0]}),h.splice(0,1),f.splice(0,1);return s.sort((t,e)=>t.left-e.left),s}findPairedArrays(t,e,i=null,r=null){const s=[];if(null==i&&(i=0),i>this.buffer.byteLength-1)return s;null==r&&(r=this.buffer.byteLength-i),r>this.buffer.byteLength-i&&(r=this.buffer.byteLength-i);let n=0;const h=this.findAllIn(t,i,r);if(0==h.length)return s;const f=this.findAllIn(e,i,r);if(0==f.length)return s;for(;n<h.length&&0!=f.length;)if(h[0].position!=f[0].position){if(h[n].position>f[0].position)break;for(;h[n].position<f[0].position&&!(++n>=h.length););s.push({left:h[n-1],right:f[0]}),h.splice(n-1,1),f.splice(0,1),n=0}else s.push({left:h[0],right:f[0]}),h.splice(0,1),f.splice(0,1);return s.sort((t,e)=>t.left.position-e.left.position),s}replacePattern(t,e,i=null,r=null,s=null){let n,h;const f={status:-1,searchPatternPositions:[],replacePatternPositions:[]};if(null==i&&(i=0),i>this.buffer.byteLength-1)return!1;if(null==r&&(r=this.buffer.byteLength-i),r>this.buffer.byteLength-i&&(r=this.buffer.byteLength-i),null==s){if(0==(n=this.findAllIn([t],i,r)).length)return f}else n=s;f.searchPatternPositions.push(...Array.from(n,t=>t.position));const l=t.buffer.byteLength-e.buffer.byteLength,a=new ArrayBuffer(this.view.length-n.length*l),u=new Uint8Array(a);for(u.set(new Uint8Array(this.buffer,0,i)),h=0;h<n.length;h++){const r=0==h?i:n[h-1].position;u.set(new Uint8Array(this.buffer,r,n[h].position-t.buffer.byteLength-r),r-h*l),u.set(e.view,n[h].position-t.buffer.byteLength-h*l),f.replacePatternPositions.push(n[h].position-t.buffer.byteLength-h*l)}return h--,u.set(new Uint8Array(this.buffer,n[h].position,this.buffer.byteLength-n[h].position),n[h].position-t.buffer.byteLength+e.buffer.byteLength-h*l),this.buffer=a,this.view=new Uint8Array(this.buffer),f.status=1,f}skipPatterns(t,e=null,i=null,r=!1){null==e&&(e=r?this.buffer.byteLength:0),e>this.buffer.byteLength&&(e=this.buffer.byteLength),r?(null==i&&(i=e),i>e&&(i=e)):(null==i&&(i=this.buffer.byteLength-e),i>this.buffer.byteLength-e&&(i=this.buffer.byteLength-e));let s=e;for(let n=0;n<t.length;n++){const h=t[n].buffer.byteLength,f=r?s-h:s;let l=!0;for(let e=0;e<h;e++)if(this.view[e+f]!=t[n].view[e]){l=!1;break}if(l)if(n=-1,r){if((s-=h)<=0)return s}else if((s+=h)>=e+i)return s}return s}skipNotPatterns(t,e=null,i=null,r=!1){null==e&&(e=r?this.buffer.byteLength:0),e>this.buffer.byteLength&&(e=this.buffer.byteLength),r?(null==i&&(i=e),i>e&&(i=e)):(null==i&&(i=this.buffer.byteLength-e),i>this.buffer.byteLength-e&&(i=this.buffer.byteLength-e));let s=-1;for(let n=0;n<i;n++){for(let i=0;i<t.length;i++){const h=t[i].buffer.byteLength,f=r?e-n-h:e+n;let l=!0;for(let e=0;e<h;e++)if(this.view[e+f]!=t[i].view[e]){l=!1;break}if(l){s=r?e-n:e+n;break}}if(-1!=s)break}return s}}exports.ByteStream=t;class e{constructor(e={}){this.stream=new t,this._length=0,this.backward=!1,this._start=0,this.appendBlock=0,this.prevLength=0,this.prevStart=0;for(const i of Object.keys(e))switch(i){case"stream":this.stream=e.stream;break;case"backward":this.backward=e.backward,this._start=this.stream.buffer.byteLength;break;case"length":this._length=e.length;break;case"start":this._start=e.start;break;case"appendBlock":this.appendBlock=e.appendBlock;break;case"view":this.stream=new t({view:e.view});break;case"buffer":this.stream=new t({buffer:e.buffer});break;case"string":this.stream=new t({string:e.string});break;case"hexstring":this.stream=new t({hexstring:e.hexstring})}}set stream(t){this._stream=t,this.prevLength=this._length,this._length=t._buffer.byteLength,this.prevStart=this._start,this._start=0}get stream(){return this._stream}set length(t){this.prevLength=this._length,this._length=t}get length(){return this.appendBlock?this.start:this._length}set start(t){t>this.stream.buffer.byteLength||(this.prevStart=this._start,this.prevLength=this._length,this._length-=this.backward?this._start-t:t-this._start,this._start=t)}get start(){return this._start}get buffer(){return this._stream._buffer.slice(0,this._length)}resetPosition(){this._start=this.prevStart,this._length=this.prevLength}findPattern(t,e=null){(null==e||e>this.length)&&(e=this.length);const i=this.stream.findPattern(t,this.start,this.length,this.backward);if(-1==i)return i;if(this.backward){if(i<this.start-t.buffer.byteLength-e)return-1}else if(i>this.start+t.buffer.byteLength+e)return-1;return this.start=i,i}findFirstIn(t,e=null){(null==e||e>this.length)&&(e=this.length);const i=this.stream.findFirstIn(t,this.start,this.length,this.backward);if(-1==i.id)return i;if(this.backward){if(i.position<this.start-t[i.id].buffer.byteLength-e)return{id:-1,position:this.backward?0:this.start+this.length}}else if(i.position>this.start+t[i.id].buffer.byteLength+e)return{id:-1,position:this.backward?0:this.start+this.length};return this.start=i.position,i}findAllIn(t){const e=this.backward?this.start-this.length:this.start;return this.stream.findAllIn(t,e,this.length)}findFirstNotIn(e,i=null){(null==i||i>this._length)&&(i=this._length);const r=this._stream.findFirstNotIn(e,this._start,this._length,this.backward);if(-1==r.left.id&&-1==r.right.id)return r;if(this.backward){if(-1!=r.right.id&&r.right.position<this._start-e[r.right.id]._buffer.byteLength-i)return{left:{id:-1,position:this._start},right:{id:-1,position:0},value:new t}}else if(-1!=r.left.id&&r.left.position>this._start+e[r.left.id]._buffer.byteLength+i)return{left:{id:-1,position:this._start},right:{id:-1,position:0},value:new t};return this.backward?-1==r.left.id?this.start=0:this.start=r.left.position:-1==r.right.id?this.start=this._start+this._length:this.start=r.right.position,r}findAllNotIn(t){const e=this.backward?this._start-this._length:this._start;return this._stream.findAllNotIn(t,e,this._length)}findFirstSequence(e,i=null,r=null){(null==i||i>this._length)&&(i=this._length),(null==r||r>i)&&(r=i);const s=this._stream.findFirstSequence(e,this._start,i,this.backward);if(0==s.value.buffer.byteLength)return s;if(this.backward){if(s.position<this._start-s.value._buffer.byteLength-r)return{position:-1,value:new t}}else if(s.position>this._start+s.value._buffer.byteLength+r)return{position:-1,value:new t};return this.start=s.position,s}findAllSequences(t){const e=this.backward?this.start-this.length:this.start;return this.stream.findAllSequences(t,e,this.length)}findPairedPatterns(t,e,i=null){(null==i||i>this.length)&&(i=this.length);const r=this.backward?this.start-this.length:this.start,s=this.stream.findPairedPatterns(t,e,r,this.length);if(s.length)if(this.backward){if(s[0].right<this.start-e.buffer.byteLength-i)return[]}else if(s[0].left>this.start+t.buffer.byteLength+i)return[];return s}findPairedArrays(t,e,i=null){(null==i||i>this.length)&&(i=this.length);const r=this.backward?this.start-this.length:this.start,s=this.stream.findPairedArrays(t,e,r,this.length);if(s.length)if(this.backward){if(s[0].right.position<this.start-e[s[0].right.id].buffer.byteLength-i)return[]}else if(s[0].left.position>this.start+t[s[0].left.id].buffer.byteLength+i)return[];return s}replacePattern(t,e){const i=this.backward?this.start-this.length:this.start;return this.stream.replacePattern(t,e,i,this.length)}skipPatterns(t){const e=this.stream.skipPatterns(t,this.start,this.length,this.backward);return this.start=e,e}skipNotPatterns(t){const e=this.stream.skipNotPatterns(t,this.start,this.length,this.backward);return-1==e?-1:(this.start=e,e)}append(t){this._start+t._buffer.byteLength>this._stream._buffer.byteLength&&(t._buffer.byteLength>this.appendBlock&&(this.appendBlock=t._buffer.byteLength+1e3),this._stream.realloc(this._stream._buffer.byteLength+this.appendBlock)),this._stream._view.set(t._view,this._start),this._length+=2*t._buffer.byteLength,this.start=this._start+t._buffer.byteLength,this.prevLength-=2*t._buffer.byteLength}appendView(t){this._start+t.length>this._stream._buffer.byteLength&&(t.length>this.appendBlock&&(this.appendBlock=t.length+1e3),this._stream.realloc(this._stream._buffer.byteLength+this.appendBlock)),this._stream._view.set(t,this._start),this._length+=2*t.length,this.start=this._start+t.length,this.prevLength-=2*t.length}appendChar(t){this._start+1>this._stream._buffer.byteLength&&(1>this.appendBlock&&(this.appendBlock=1e3),this._stream.realloc(this._stream._buffer.byteLength+this.appendBlock)),this._stream._view[this._start]=t,this._length+=2,this.start=this._start+1,this.prevLength-=2}appendUint16(t){this._start+2>this._stream._buffer.byteLength&&(2>this.appendBlock&&(this.appendBlock=1e3),this._stream.realloc(this._stream._buffer.byteLength+this.appendBlock));const e=new Uint16Array([t]),i=new Uint8Array(e.buffer);this._stream._view[this._start]=i[1],this._stream._view[this._start+1]=i[0],this._length+=4,this.start=this._start+2,this.prevLength-=4}appendUint24(t){this._start+3>this._stream._buffer.byteLength&&(3>this.appendBlock&&(this.appendBlock=1e3),this._stream.realloc(this._stream._buffer.byteLength+this.appendBlock));const e=new Uint32Array([t]),i=new Uint8Array(e.buffer);this._stream._view[this._start]=i[2],this._stream._view[this._start+1]=i[1],this._stream._view[this._start+2]=i[0],this._length+=6,this.start=this._start+3,this.prevLength-=6}appendUint32(t){this._start+4>this._stream._buffer.byteLength&&(4>this.appendBlock&&(this.appendBlock=1e3),this._stream.realloc(this._stream._buffer.byteLength+this.appendBlock));const e=new Uint32Array([t]),i=new Uint8Array(e.buffer);this._stream._view[this._start]=i[3],this._stream._view[this._start+1]=i[2],this._stream._view[this._start+2]=i[1],this._stream._view[this._start+3]=i[0],this._length+=8,this.start=this._start+4,this.prevLength-=8}getBlock(t,e=!0){if(this._length<=0)return[];let i;if(this._length<t&&(t=this._length),this.backward){const e=this._stream._buffer.slice(this._length-t,this._length),r=new Uint8Array(e);i=new Array(t);for(let s=0;s<t;s++)i[t-1-s]=r[s]}else{const e=this._stream._buffer.slice(this._start,this._start+t);i=Array.from(new Uint8Array(e))}return e&&(this.start+=this.backward?-1*t:t),i}getUint16(t=!0){const e=this.getBlock(2,t);if(e.length<2)return 0;const i=new Uint16Array(1),r=new Uint8Array(i.buffer);return r[0]=e[1],r[1]=e[0],i[0]}getInt16(t=!0){const e=this.getBlock(2,t);if(e.length<2)return 0;const i=new Int16Array(1),r=new Uint8Array(i.buffer);return r[0]=e[1],r[1]=e[0],i[0]}getUint24(t=!0){const e=this.getBlock(3,t);if(e.length<3)return 0;const i=new Uint32Array(1),r=new Uint8Array(i.buffer);for(let s=3;s>=1;s--)r[3-s]=e[s-1];return i[0]}getUint32(t=!0){const e=this.getBlock(4,t);if(e.length<4)return 0;const i=new Uint32Array(1),r=new Uint8Array(i.buffer);for(let s=3;s>=0;s--)r[3-s]=e[s];return i[0]}getInt32(t=!0){const e=this.getBlock(4,t);if(e.length<4)return 0;const i=new Int32Array(1),r=new Uint8Array(i.buffer);for(let s=3;s>=0;s--)r[3-s]=e[s];return i[0]}}function i(t,e,i,r=null,s=null){if(null===r&&(r=0),r>t.buffer.byteLength-1)return!1;let n;null===s&&(s=t.buffer.byteLength-r),s>t.buffer.byteLength-r&&(s=t.buffer.byteLength-r),n=0==r&&s==t.buffer.byteLength?t.view:new Uint8Array(t.buffer,r,s);const h=new Array(i);let f=0,l=0;const a=e.length;for(;l<s;){let t=0;h[f]={};for(let i=0;i<a;i++){if(0==e[i].maxlength){"defaultValue"in e[i]&&(h[f][e[i].name]=e[i].defaultValue);continue}const r=new Array(e[i].maxlength);for(let t=0;t<e[i].maxlength;t++)r[t]=n[l++];const s=e[i].func(r);if(-1==s.status)return 1==h.length?[]:h.slice(0,h.length-1);"check"!=e[i].type&&(h[f][e[i].name]=s.value),l-=e[i].maxlength-s.length,t+=s.length}h[f++].structureLength=t}return h}exports.SeqStream=e;const r=["00000000","00000001","00000010","00000011","00000100","00000101","00000110","00000111","00001000","00001001","00001010","00001011","00001100","00001101","00001110","00001111","00010000","00010001","00010010","00010011","00010100","00010101","00010110","00010111","00011000","00011001","00011010","00011011","00011100","00011101","00011110","00011111","00100000","00100001","00100010","00100011","00100100","00100101","00100110","00100111","00101000","00101001","00101010","00101011","00101100","00101101","00101110","00101111","00110000","00110001","00110010","00110011","00110100","00110101","00110110","00110111","00111000","00111001","00111010","00111011","00111100","00111101","00111110","00111111","01000000","01000001","01000010","01000011","01000100","01000101","01000110","01000111","01001000","01001001","01001010","01001011","01001100","01001101","01001110","01001111","01010000","01010001","01010010","01010011","01010100","01010101","01010110","01010111","01011000","01011001","01011010","01011011","01011100","01011101","01011110","01011111","01100000","01100001","01100010","01100011","01100100","01100101","01100110","01100111","01101000","01101001","01101010","01101011","01101100","01101101","01101110","01101111","01110000","01110001","01110010","01110011","01110100","01110101","01110110","01110111","01111000","01111001","01111010","01111011","01111100","01111101","01111110","01111111","10000000","10000001","10000010","10000011","10000100","10000101","10000110","10000111","10001000","10001001","10001010","10001011","10001100","10001101","10001110","10001111","10010000","10010001","10010010","10010011","10010100","10010101","10010110","10010111","10011000","10011001","10011010","10011011","10011100","10011101","10011110","10011111","10100000","10100001","10100010","10100011","10100100","10100101","10100110","10100111","10101000","10101001","10101010","10101011","10101100","10101101","10101110","10101111","10110000","10110001","10110010","10110011","10110100","10110101","10110110","10110111","10111000","10111001","10111010","10111011","10111100","10111101","10111110","10111111","11000000","11000001","11000010","11000011","11000100","11000101","11000110","11000111","11001000","11001001","11001010","11001011","11001100","11001101","11001110","11001111","11010000","11010001","11010010","11010011","11010100","11010101","11010110","11010111","11011000","11011001","11011010","11011011","11011100","11011101","11011110","11011111","11100000","11100001","11100010","11100011","11100100","11100101","11100110","11100111","11101000","11101001","11101010","11101011","11101100","11101101","11101110","11101111","11110000","11110001","11110010","11110011","11110100","11110101","11110110","11110111","11111000","11111001","11111010","11111011","11111100","11111101","11111110","11111111"];class s{constructor(t={}){this.buffer=new ArrayBuffer(0),this.view=new Uint8Array(this.buffer),this.bitsCount=0;for(const e of Object.keys(t))switch(e){case"byteStream":this.fromByteStream(t.byteStream);break;case"view":this.fromUint8Array(t.view);break;case"buffer":this.fromArrayBuffer(t.buffer);break;case"string":this.fromString(t.string);break;case"uint32":this.fromUint32(t.uint32);break;case"bitsCount":this.bitsCount=t.bitsCount}}clear(){this.buffer=new ArrayBuffer(0),this.view=new Uint8Array(this.buffer),this.bitsCount=0}fromByteStream(t){this.buffer=t.buffer.slice(0),this.view=new Uint8Array(this.buffer),this.bitsCount=this.view.length<<3}fromArrayBuffer(t){this.buffer=t.slice(0),this.view=new Uint8Array(this.buffer),this.bitsCount=this.view.length<<3}fromUint8Array(t){this.buffer=new ArrayBuffer(t.length),this.view=new Uint8Array(this.buffer),this.view.set(t),this.bitsCount=this.view.length<<3}fromString(t){const e=t.length;this.buffer=new ArrayBuffer((e>>3)+(e%8?1:0)),this.view=new Uint8Array(this.buffer),this.bitsCount=1+(e>>3)<<3;let i=0;for(let r=0;r<e;r++)"1"==t[r]&&(this.view[i]|=1<<7-r%8),r&&(r+1)%8==0&&i++;e%8&&this.shiftRight(8-e%8),this.bitsCount=e}fromUint32(t){this.buffer=new ArrayBuffer(4),this.view=new Uint8Array(this.buffer);const e=new Uint32Array([t]),i=new Uint8Array(e.buffer);for(let r=3;r>=0;r--)this.view[r]=i[3-r];this.bitsCount=32}toString(t=null,e=null){null==t&&(t=0),(t>=this.view.length||t<0)&&(t=0),null==e&&(e=this.view.length-t),(e>=this.view.length||e<0)&&(e=this.view.length-t);const i=[];for(let s=t;s<t+e;s++)i.push(r[this.view[s]]);return i.join("").slice((this.view.length<<3)-this.bitsCount)}shiftRight(t,e=!0){if(0==this.view.length)return;if(t<0||t>8)throw new Error('The "shift" parameter must be in range 0-8');if(t>this.bitsCount)throw new Error('The "shift" parameter can not be bigger than "this.bitsCount"');const i=255>>8-t;this.view[this.view.length-1]>>=t;for(let r=this.view.length-2;r>=0;r--)this.view[r+1]|=(this.view[r]&i)<<8-t,this.view[r]>>=t;this.bitsCount-=t,0==this.bitsCount&&this.clear(),e&&this.shrink()}shiftLeft(t){if(0==this.view.length)return;if(t<0||t>8)throw new Error('The "shift" parameter must be in range 0-8');if(t>this.bitsCount)throw new Error('The "shift" parameter can not be bigger than "this.bitsCount"');const e=7&this.bitsCount;if(e>t)this.view[0]&=255>>e+t;else{const i=new ArrayBuffer(this.buffer.byteLength-1),r=new Uint8Array(i);r.set(new Uint8Array(this.buffer,1,this.buffer.byteLength-1)),r[0]&=255>>t-e,this.buffer=i.slice(0),this.view=new Uint8Array(this.buffer)}this.bitsCount-=t,0==this.bitsCount&&this.clear()}slice(t=null,e=null){let i=0;if(this.bitsCount%8&&(i=8-this.bitsCount%8),e+=i,null==(t+=i)&&(t=0),t<0||t>(this.view.length<<3)-1)return new s;if(null==e&&(e=(this.view.length<<3)-1),e<0||e>(this.view.length<<3)-1)return new s;if(e-t+1>this.bitsCount)return new s;const r=t>>3,n=7&t,h=e>>3,f=7&e,l=h-r==0?1:h-r+1,a=new s;return a.buffer=new ArrayBuffer(l),a.view=new Uint8Array(a.buffer),a.bitsCount=l<<3,a.view.set(new Uint8Array(this.buffer,r,l)),a.view[0]&=255>>n,a.view[l]&=255<<7-f,7-f&&a.shiftRight(7-f,!1),a.bitsCount=e-t+1,a.shrink(),a}copy(t=null,e=null){return t<0||t>(this.view.length<<3)-1?new s:(null===e&&(e=(this.view.length<<3)-t-1),e>this.bitsCount?new s:this.slice(t,t+e-1))}shrink(){const t=(this.bitsCount>>3)+(this.bitsCount%8?1:0);if(t<this.buffer.byteLength){const e=new ArrayBuffer(t);new Uint8Array(e).set(new Uint8Array(this.buffer,this.buffer.byteLength-t,t)),this.buffer=e.slice(0),this.view=new Uint8Array(this.buffer)}}reverseBytes(){for(let t=0;t<this.view.length;t++)this.view[t]=65793*(2050*this.view[t]&139536|32800*this.view[t]&558144)>>16;if(this.bitsCount%8){const t=(this.bitsCount>>3)+(this.bitsCount%8?1:0);this.view[this.view.length-t]>>=8-(7&this.bitsCount)}}reverseValue(){const t=this.toString(),e=t.length,i=new Array(e);for(let r=0;r<e;r++)i[e-1-r]=t[r];this.fromString(i.join(""))}getNumberValue(){const t=this.buffer.byteLength-1;if(t>3)return-1;if(-1==t)return 0;const e=new Uint32Array(1),i=new Uint8Array(e.buffer);for(let r=t;r>=0;r--)i[t-r]=this.view[r];return e[0]}findPattern(e,i=null,r=null,s=!1){const n=new t({string:this.toString()}),h=new t({string:e.toString()});return n.findPattern(h,i,r,s)}findFirstIn(e,i=null,r=null,s=!1){const n=new t({string:this.toString()}),h=new Array(e.length);for(let f=0;f<e.length;f++)h[f]=new t({string:e[f].toString()});return n.findFirstIn(h,i,r,s)}findAllIn(e,i=null,r=null){const s=new t({string:this.toString()}),n=new Array(e.length);for(let h=0;h<e.length;h++)n[h]=new t({string:e[h].toString()});return s.findAllIn(n,i,r)}findAllPatternIn(e,i=null,r=null){const s=new t({string:this.toString()}),n=new t({string:e.toString()});return s.findAllPatternIn(n,i,r)}findFirstNotIn(e,i=null,r=null,s=!1){const n=new t({string:this.toString()}),h=new Array(e.length);for(let f=0;f<e.length;f++)h[f]=new t({string:e[f].toString()});return n.findFirstNotIn(h,i,r,s)}findAllNotIn(e,i=null,r=null){const s=new t({string:this.toString()}),n=new Array(e.length);for(let h=0;h<e.length;h++)n[h]=new t({string:e[h].toString()});return s.findAllNotIn(n,i,r)}findFirstSequence(e,i=null,r=null,s=!1){const n=new t({string:this.toString()}),h=new Array(e.length);for(let f=0;f<e.length;f++)h[f]=new t({string:e[f].toString()});return n.findFirstSequence(h,i,r,s)}findAllSequences(e,i,r){const s=new t({string:this.toString()}),n=new Array(e.length);for(let h=0;h<e.length;h++)n[h]=new t({string:e[h].toString()});return s.findAllSequences(n,i,r)}findPairedPatterns(e,i,r=null,s=null){const n=new t({string:this.toString()}),h=new t({string:e.toString()}),f=new t({string:i.toString()});return n.findPairedPatterns(h,f,r,s)}findPairedArrays(e,i,r=null,s=null){const n=new t({string:this.toString()}),h=new Array(e.length);for(let l=0;l<e.length;l++)h[l]=new t({string:e[l].toString()});const f=new Array(i.length);for(let l=0;l<i.length;l++)f[l]=new t({string:i[l].toString()});return n.findPairedArrays(h,f,r,s)}replacePattern(e,i,r=null,s=null){const n=new t({string:this.toString()}),h=new t({string:e.toString()}),f=new t({string:i.toString()});return!!n.findPairedPatterns(h,f,r,s)&&(this.fromString(n.toString()),!0)}skipPatterns(e,i,r,s){const n=new t({string:this.toString()}),h=new Array(e.length);for(let f=0;f<e.length;f++)h[f]=new t({string:e[f].toString()});return n.skipPatterns(h,i,r,s)}skipNotPatterns(e,i,r,s){const n=new t({string:this.toString()}),h=new Array(e.length);for(let f=0;f<e.length;f++)h[f]=new t({string:e[f].toString()});return n.skipNotPatterns(h,i,r,s)}append(t){this.fromString([this.toString(),t.toString()].join(""))}}exports.BitStream=s;class n{constructor(t={}){this.stream=new s,this._start=0,this._length=this.stream.bitsCount,this.backward=!1,this.appendBlock=0;for(const e of Object.keys(t))switch(e){case"stream":case"start":case"length":case"backward":case"appendBlock":this[e]=t[e]}}set start(t){t>this.stream.bitsCount||(this._length-=this.backward?this._start-t:t-this._start,this._start=t,this.prevStart=this._start,this.prevLength=this._length)}get start(){return this._start}set length(t){t>this.stream.bitsCount||(this.prevLength=this._length,this._length=t)}get length(){return this._length}set stream(t){this._stream=t,this.prevLength=this._length,this._length=t.bitsCount,this.prevStart=this._start,this._start=this.backward?this.length:0}get stream(){return this._stream}getBits(t){let e;return this.start+t>this.stream.bitsCount&&(t=this.stream.bitsCount-this.start),this.backward?(e=this.stream.copy(this.start-t,t),this.start-=e.bitsCount):(e=this.stream.copy(this.start,t),this.start+=e.bitsCount),e}getBitsString(t){this.start+t>this.stream.bitsCount&&(t=this.stream.bitsCount-this.start);let e,i=[];e=this.backward?this.start-t:this.start;let s=this.start+t-1,n=0;this.stream.bitsCount%8&&(n=8-this.stream.bitsCount%8);const h=(e+=n)>>3,f=7&e,l=(s+=n)>>3,a=7&s,u=h+(l-h==0?1:l-h+1);for(let o=h;o<u;o++){let t=r[this.stream.view[o]];o==h&&(t=t.slice(f)),o==u-1&&(t=t.slice(0,a-7+t.length)),i.push(t)}return i=i.join(""),this.backward?this.start-=i.length:this.start+=i.length,i}getBitsReversedValue(t){const e=this.getBitsString(t),i=e.length;let r;const s=8-i%8,n=new Array(i),h=new Uint32Array(1),f=new Uint8Array(h.buffer,0,4);let l;if(i>32)return-1;for(r=32==t?3:i-1>>3,l=0;l<i;l++)n[i-1-l]=e[l];for(l=s;l<s+i;l++)"1"==n[l-s]&&(f[r]|=1<<7-l%8),l&&(l+1)%8==0&&r--;return h[0]}toString(){return this.stream.copy(this.start,this.length).toString()}}exports.SeqBitStream=n;
},{}],"gWJK":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=exports.SignedCertificateTimestamp=void 0,exports.verifySCTsForCertificate=c;var e=o(require("asn1js")),t=require("pvutils"),r=require("bytestreamjs"),a=require("./common.js"),s=i(require("./PublicKeyInfo.js"));function i(e){return e&&e.__esModule?e:{default:e}}function n(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(n=function(e){return e?r:t})(e)}function o(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=n(t);if(r&&r.has(e))return r.get(e);var a={},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var o=s?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(a,i,o):a[i]=e[i]}return a.default=e,r&&r.set(e,a),a}class h{constructor(e={}){this.version=(0,t.getParametersValue)(e,"version",h.defaultValues("version")),this.logID=(0,t.getParametersValue)(e,"logID",h.defaultValues("logID")),this.timestamp=(0,t.getParametersValue)(e,"timestamp",h.defaultValues("timestamp")),this.extensions=(0,t.getParametersValue)(e,"extensions",h.defaultValues("extensions")),this.hashAlgorithm=(0,t.getParametersValue)(e,"hashAlgorithm",h.defaultValues("hashAlgorithm")),this.signatureAlgorithm=(0,t.getParametersValue)(e,"signatureAlgorithm",h.defaultValues("signatureAlgorithm")),this.signature=(0,t.getParametersValue)(e,"signature",h.defaultValues("signature")),"schema"in e&&this.fromSchema(e.schema),"stream"in e&&this.fromStream(e.stream)}static defaultValues(t){switch(t){case"version":return 0;case"logID":case"extensions":return new ArrayBuffer(0);case"timestamp":return new Date(0);case"hashAlgorithm":case"signatureAlgorithm":return"";case"signature":return new e.Any;default:throw new Error(`Invalid member name for SignedCertificateTimestamp class: ${t}`)}}fromSchema(t){if(t instanceof e.RawData==!1)throw new Error("Object's schema was not verified against input data for SignedCertificateTimestamp");const a=new r.SeqStream({stream:new r.ByteStream({buffer:t.data})});this.fromStream(a)}fromStream(r){const a=r.getUint16();if(this.version=r.getBlock(1)[0],0===this.version){this.logID=new Uint8Array(r.getBlock(32)).buffer.slice(0),this.timestamp=new Date((0,t.utilFromBase)(new Uint8Array(r.getBlock(8)),8));const s=r.getUint16();switch(this.extensions=new Uint8Array(r.getBlock(s)).buffer.slice(0),r.getBlock(1)[0]){case 0:this.hashAlgorithm="none";break;case 1:this.hashAlgorithm="md5";break;case 2:this.hashAlgorithm="sha1";break;case 3:this.hashAlgorithm="sha224";break;case 4:this.hashAlgorithm="sha256";break;case 5:this.hashAlgorithm="sha384";break;case 6:this.hashAlgorithm="sha512";break;default:throw new Error("Object's stream was not correct for SignedCertificateTimestamp")}switch(r.getBlock(1)[0]){case 0:this.signatureAlgorithm="anonymous";break;case 1:this.signatureAlgorithm="rsa";break;case 2:this.signatureAlgorithm="dsa";break;case 3:this.signatureAlgorithm="ecdsa";break;default:throw new Error("Object's stream was not correct for SignedCertificateTimestamp")}const i=r.getUint16(),n=new Uint8Array(r.getBlock(i)).buffer.slice(0),o=e.fromBER(n);if(-1===o.offset)throw new Error("Object's stream was not correct for SignedCertificateTimestamp");if(this.signature=o.result,a!==47+s+i)throw new Error("Object's stream was not correct for SignedCertificateTimestamp")}}toSchema(){const t=this.toStream();return new e.RawData({data:t.stream.buffer})}toStream(){const e=new r.SeqStream;e.appendUint16(47+this.extensions.byteLength+this.signature.valueBeforeDecode.byteLength),e.appendChar(this.version),e.appendView(new Uint8Array(this.logID));const a=new ArrayBuffer(8),s=new Uint8Array(a),i=(0,t.utilToBase)(this.timestamp.valueOf(),8);let n,o;switch(s.set(new Uint8Array(i),8-i.byteLength),e.appendView(s),e.appendUint16(this.extensions.byteLength),this.extensions.byteLength&&e.appendView(new Uint8Array(this.extensions)),this.hashAlgorithm.toLowerCase()){case"none":n=0;break;case"md5":n=1;break;case"sha1":n=2;break;case"sha224":n=3;break;case"sha256":n=4;break;case"sha384":n=5;break;case"sha512":n=6;break;default:throw new Error(`Incorrect data for hashAlgorithm: ${this.hashAlgorithm}`)}switch(e.appendChar(n),this.signatureAlgorithm.toLowerCase()){case"anonymous":o=0;break;case"rsa":o=1;break;case"dsa":o=2;break;case"ecdsa":o=3;break;default:throw new Error(`Incorrect data for signatureAlgorithm: ${this.signatureAlgorithm}`)}e.appendChar(o);const h=this.signature.toBER(!1);return e.appendUint16(h.byteLength),e.appendView(new Uint8Array(h)),e}toJSON(){return{version:this.version,logID:(0,t.bufferToHexCodes)(this.logID),timestamp:this.timestamp,extensions:(0,t.bufferToHexCodes)(this.extensions),hashAlgorithm:this.hashAlgorithm,signatureAlgorithm:this.signatureAlgorithm,signature:this.signature.toJSON()}}async verify(i,n,o=0){let h,m=(0,t.toBase64)((0,t.arrayBufferToString)(this.logID)),c=null,l=new r.SeqStream;for(const e of i)if(e.log_id===m){c=e.key;break}if(null===c)throw new Error(`Public key not found for CT with logId: ${m}`);const u=e.fromBER((0,t.stringToArrayBuffer)((0,t.fromBase64)(c)));if(-1===u.offset)throw new Error(`Incorrect key value for CT Log with logId: ${m}`);h=new s.default({schema:u.result}),l.appendChar(0),l.appendChar(0);const f=new ArrayBuffer(8),g=new Uint8Array(f),p=(0,t.utilToBase)(this.timestamp.valueOf(),8);return g.set(new Uint8Array(p),8-p.byteLength),l.appendView(g),l.appendUint16(o),0===o&&l.appendUint24(n.byteLength),l.appendView(new Uint8Array(n)),l.appendUint16(this.extensions.byteLength),0!==this.extensions.byteLength&&l.appendView(new Uint8Array(this.extensions)),(0,a.getEngine)().subtle.verifyWithPublicKey(l._stream._buffer.slice(0,l._length),{valueBlock:{valueHex:this.signature.toBER(!1)}},h,{algorithmId:""},"SHA-256")}}exports.SignedCertificateTimestamp=h;class m{constructor(e={}){this.timestamps=(0,t.getParametersValue)(e,"timestamps",m.defaultValues("timestamps")),"schema"in e&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case"timestamps":return[];default:throw new Error(`Invalid member name for SignedCertificateTimestampList class: ${e}`)}}static compareWithDefault(e,t){switch(e){case"timestamps":return 0===t.length;default:throw new Error(`Invalid member name for SignedCertificateTimestampList class: ${e}`)}}static schema(r={}){const a=(0,t.getParametersValue)(r,"names",{});return"optional"in a==!1&&(a.optional=!1),new e.OctetString({name:a.blockName||"SignedCertificateTimestampList",optional:a.optional})}fromSchema(t){if(t instanceof e.OctetString==!1)throw new Error("Object's schema was not verified against input data for SignedCertificateTimestampList");const a=new r.SeqStream({stream:new r.ByteStream({buffer:t.valueBlock.valueHex})});if(a.getUint16()!==a.length)throw new Error("Object's schema was not verified against input data for SignedCertificateTimestampList");for(;a.length;)this.timestamps.push(new h({stream:a}))}toSchema(){const t=new r.SeqStream;let a=0;const s=[];for(const e of this.timestamps){const t=e.toStream();s.push(t),a+=t.stream.buffer.byteLength}t.appendUint16(a);for(const e of s)t.appendView(e.stream.view);return new e.OctetString({valueHex:t.stream.buffer.slice(0)})}toJSON(){return{timestamps:Array.from(this.timestamps,e=>e.toJSON())}}}async function c(e,t,s,i=-1){let n,o,h=null;const m=new r.SeqStream;let c;const l=(0,a.getCrypto)();if(void 0===l)return Promise.reject("Unable to create WebCrypto object");for(let r=0;r<e.extensions.length;r++)switch(e.extensions[r].extnID){case"1.3.6.1.4.1.11129.2.4.2":if(0===(h=e.extensions[r].parsedValue).timestamps.length)throw new Error("Nothing to verify in the certificate");e.extensions.splice(r,1)}if(null===h)throw new Error("No SignedCertificateTimestampList extension in the specified certificate");if(n=e.encodeTBS().toBER(!1),o=await l.digest({name:"SHA-256"},new Uint8Array(t.subjectPublicKeyInfo.toSchema().toBER(!1))),m.appendView(new Uint8Array(o)),m.appendUint24(n.byteLength),m.appendView(new Uint8Array(n)),c=m._stream._buffer.slice(0,m._length),-1===i){const e=[];for(const t of h.timestamps){const r=await t.verify(s,c,1);e.push(r)}return e}return i>=h.timestamps.length&&(i=h.timestamps.length-1),[await h.timestamps[i].verify(s,c,1)]}exports.default=m;
},{"asn1js":"h7Xx","pvutils":"V6vO","bytestreamjs":"a25A","./common.js":"ViMO","./PublicKeyInfo.js":"Gwml"}],"oPGj":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=a(require("asn1js")),t=require("pvutils");function r(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(r=function(e){return e?a:t})(e)}function a(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=r(t);if(a&&a.has(e))return a.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var s=o?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(n,i,s):n[i]=e[i]}return n.default=e,a&&a.set(e,n),n}class n{constructor(e={}){this.templateID=(0,t.getParametersValue)(e,"templateID",n.defaultValues("templateID")),"templateMajorVersion"in e&&(this.templateMajorVersion=(0,t.getParametersValue)(e,"templateMajorVersion",n.defaultValues("templateMajorVersion"))),"templateMinorVersion"in e&&(this.templateMinorVersion=(0,t.getParametersValue)(e,"templateMinorVersion",n.defaultValues("templateMinorVersion"))),"schema"in e&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case"templateID":return"";case"templateMajorVersion":case"templateMinorVersion":return 0;default:throw new Error(`Invalid member name for CertificateTemplate class: ${e}`)}}static schema(r={}){const a=(0,t.getParametersValue)(r,"names",{});return new e.Sequence({name:a.blockName||"",value:[new e.ObjectIdentifier({name:a.templateID||""}),new e.Integer({name:a.templateMajorVersion||"",optional:!0}),new e.Integer({name:a.templateMinorVersion||"",optional:!0})]})}fromSchema(r){(0,t.clearProps)(r,["templateID","templateMajorVersion","templateMinorVersion"]);let a=e.compareSchema(r,r,n.schema({names:{templateID:"templateID",templateMajorVersion:"templateMajorVersion",templateMinorVersion:"templateMinorVersion"}}));if(!1===a.verified)throw new Error("Object's schema was not verified against input data for CertificateTemplate");this.templateID=a.result.templateID.valueBlock.toString(),"templateMajorVersion"in a.result&&(this.templateMajorVersion=a.result.templateMajorVersion.valueBlock.valueDec),"templateMinorVersion"in a.result&&(this.templateMinorVersion=a.result.templateMinorVersion.valueBlock.valueDec)}toSchema(){const t=[];return t.push(new e.ObjectIdentifier({value:this.templateID})),"templateMajorVersion"in this&&t.push(new e.Integer({value:this.templateMajorVersion})),"templateMinorVersion"in this&&t.push(new e.Integer({value:this.templateMinorVersion})),new e.Sequence({value:t})}toJSON(){const e={extnID:this.templateID};return"templateMajorVersion"in this&&(e.templateMajorVersion=this.templateMajorVersion),"templateMinorVersion"in this&&(e.templateMinorVersion=this.templateMinorVersion),e}}exports.default=n;
},{"asn1js":"h7Xx","pvutils":"V6vO"}],"QZlQ":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=n(require("asn1js")),t=require("pvutils");function r(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(r=function(e){return e?n:t})(e)}function n(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=r(t);if(n&&n.has(e))return n.get(e);var a={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var c in e)if("default"!==c&&Object.prototype.hasOwnProperty.call(e,c)){var s=i?Object.getOwnPropertyDescriptor(e,c):null;s&&(s.get||s.set)?Object.defineProperty(a,c,s):a[c]=e[c]}return a.default=e,n&&n.set(e,a),a}class a{constructor(e={}){this.certificateIndex=(0,t.getParametersValue)(e,"certificateIndex",a.defaultValues("certificateIndex")),this.keyIndex=(0,t.getParametersValue)(e,"keyIndex",a.defaultValues("keyIndex")),"schema"in e&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case"certificateIndex":case"keyIndex":return 0;default:throw new Error(`Invalid member name for CAVersion class: ${e}`)}}static schema(t={}){return new e.Integer}fromSchema(t){if(t.constructor.blockName()!==e.Integer.blockName())throw new Error("Object's schema was not verified against input data for CAVersion");let r=t.valueBlock.valueHex.slice(0);const n=new Uint8Array(r);switch(!0){case r.byteLength<4:{const e=new ArrayBuffer(4);new Uint8Array(e).set(n,4-r.byteLength),r=e.slice(0)}break;case r.byteLength>4:{const e=new ArrayBuffer(4);new Uint8Array(e).set(n.slice(0,4)),r=e.slice(0)}}const a=r.slice(0,2),i=new Uint8Array(a);let c=i[0];i[0]=i[1],i[1]=c;const s=new Uint16Array(a);this.keyIndex=s[0];const o=r.slice(2),u=new Uint8Array(o);c=u[0],u[0]=u[1],u[1]=c;const f=new Uint16Array(o);this.certificateIndex=f[0]}toSchema(){const r=new ArrayBuffer(2);new Uint16Array(r)[0]=this.certificateIndex;const n=new Uint8Array(r);let a=n[0];n[0]=n[1],n[1]=a;const i=new ArrayBuffer(2);new Uint16Array(i)[0]=this.keyIndex;const c=new Uint8Array(i);return a=c[0],c[0]=c[1],c[1]=a,new e.Integer({valueHex:(0,t.utilConcatBuf)(i,r)})}toJSON(){return{certificateIndex:this.certificateIndex,keyIndex:this.keyIndex}}}exports.default=a;
},{"asn1js":"h7Xx","pvutils":"V6vO"}],"smy5":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=exports.QCStatement=void 0;var e=r(require("asn1js")),t=require("pvutils");function a(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(a=function(e){return e?r:t})(e)}function r(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=a(t);if(r&&r.has(e))return r.get(e);var s={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e)if("default"!==u&&Object.prototype.hasOwnProperty.call(e,u)){var i=n?Object.getOwnPropertyDescriptor(e,u):null;i&&(i.get||i.set)?Object.defineProperty(s,u,i):s[u]=e[u]}return s.default=e,r&&r.set(e,s),s}class s{constructor(e={}){this.id=(0,t.getParametersValue)(e,"id",s.defaultValues("id")),"type"in e&&(this.type=(0,t.getParametersValue)(e,"type",s.defaultValues("type"))),"schema"in e&&this.fromSchema(e.schema)}static defaultValues(t){switch(t){case"id":return"";case"type":return new e.Null;default:throw new Error(`Invalid member name for QCStatement class: ${t}`)}}static compareWithDefault(t,a){switch(t){case"id":return""===a;case"type":return a instanceof e.Null;default:throw new Error(`Invalid member name for QCStatement class: ${t}`)}}static schema(a={}){const r=(0,t.getParametersValue)(a,"names",{});return new e.Sequence({name:r.blockName||"",value:[new e.ObjectIdentifier({name:r.id||""}),new e.Any({name:r.type||"",optional:!0})]})}fromSchema(a){(0,t.clearProps)(a,["id","type"]);const r=e.compareSchema(a,a,s.schema({names:{id:"id",type:"type"}}));if(!1===r.verified)throw new Error("Object's schema was not verified against input data for QCStatement");this.id=r.result.id.valueBlock.toString(),"type"in r.result&&(this.type=r.result.type)}toSchema(){const t=[new e.ObjectIdentifier({value:this.id})];return"type"in this&&t.push(this.type),new e.Sequence({value:t})}toJSON(){const e={id:this.id};return"type"in this&&(e.type=this.type.toJSON()),e}}exports.QCStatement=s;class n{constructor(e={}){this.values=(0,t.getParametersValue)(e,"values",n.defaultValues("values")),"schema"in e&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case"values":return[];default:throw new Error(`Invalid member name for QCStatements class: ${e}`)}}static compareWithDefault(e,t){switch(e){case"values":return 0===t.length;default:throw new Error(`Invalid member name for QCStatements class: ${e}`)}}static schema(a={}){const r=(0,t.getParametersValue)(a,"names",{});return new e.Sequence({name:r.blockName||"",value:[new e.Repeated({name:r.values||"",value:s.schema(r.value||{})})]})}fromSchema(a){(0,t.clearProps)(a,["values"]);const r=e.compareSchema(a,a,n.schema({names:{values:"values"}}));if(!1===r.verified)throw new Error("Object's schema was not verified against input data for QCStatements");this.values=Array.from(r.result.values,e=>new s({schema:e}))}toSchema(){return new e.Sequence({value:Array.from(this.values,e=>e.toSchema())})}toJSON(){return{extensions:Array.from(this.values,e=>e.toJSON())}}}exports.default=n;
},{"asn1js":"h7Xx","pvutils":"V6vO"}],"UuwD":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=x(require("asn1js")),a=require("pvutils"),t=I(require("./SubjectDirectoryAttributes.js")),r=I(require("./PrivateKeyUsagePeriod.js")),s=I(require("./AltName.js")),i=I(require("./BasicConstraints.js")),l=I(require("./IssuingDistributionPoint.js")),u=I(require("./GeneralNames.js")),c=I(require("./NameConstraints.js")),n=I(require("./CRLDistributionPoints.js")),d=I(require("./CertificatePolicies.js")),o=I(require("./PolicyMappings.js")),h=I(require("./AuthorityKeyIdentifier.js")),p=I(require("./PolicyConstraints.js")),f=I(require("./ExtKeyUsage.js")),V=I(require("./InfoAccess.js")),m=I(require("./SignedCertificateTimestampList.js")),y=I(require("./CertificateTemplate.js")),w=I(require("./CAVersion.js")),b=I(require("./QCStatements.js"));function I(e){return e&&e.__esModule?e:{default:e}}function g(e){if("function"!=typeof WeakMap)return null;var a=new WeakMap,t=new WeakMap;return(g=function(e){return e?t:a})(e)}function x(e,a){if(!a&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=g(a);if(t&&t.has(e))return t.get(e);var r={},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=s?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(r,i,l):r[i]=e[i]}return r.default=e,t&&t.set(e,r),r}class j{constructor(t={}){this.extnID=(0,a.getParametersValue)(t,"extnID",j.defaultValues("extnID")),this.critical=(0,a.getParametersValue)(t,"critical",j.defaultValues("critical")),this.extnValue="extnValue"in t?new e.OctetString({valueHex:t.extnValue}):j.defaultValues("extnValue"),"parsedValue"in t&&(this.parsedValue=(0,a.getParametersValue)(t,"parsedValue",j.defaultValues("parsedValue"))),"schema"in t&&this.fromSchema(t.schema)}static defaultValues(a){switch(a){case"extnID":return"";case"critical":return!1;case"extnValue":return new e.OctetString;case"parsedValue":return{};default:throw new Error(`Invalid member name for Extension class: ${a}`)}}static schema(t={}){const r=(0,a.getParametersValue)(t,"names",{});return new e.Sequence({name:r.blockName||"",value:[new e.ObjectIdentifier({name:r.extnID||""}),new e.Boolean({name:r.critical||"",optional:!0}),new e.OctetString({name:r.extnValue||""})]})}fromSchema(I){(0,a.clearProps)(I,["extnID","critical","extnValue"]);let g=e.compareSchema(I,I,j.schema({names:{extnID:"extnID",critical:"critical",extnValue:"extnValue"}}));if(!1===g.verified)throw new Error("Object's schema was not verified against input data for Extension");if(this.extnID=g.result.extnID.valueBlock.toString(),"critical"in g.result&&(this.critical=g.result.critical.valueBlock.value),this.extnValue=g.result.extnValue,-1!==(g=e.fromBER(this.extnValue.valueBlock.valueHex)).offset)switch(this.extnID){case"2.5.29.9":try{this.parsedValue=new t.default({schema:g.result})}catch(x){this.parsedValue=new t.default,this.parsedValue.parsingError="Incorrectly formated SubjectDirectoryAttributes"}break;case"2.5.29.14":case"2.5.29.15":this.parsedValue=g.result;break;case"2.5.29.16":try{this.parsedValue=new r.default({schema:g.result})}catch(x){this.parsedValue=new r.default,this.parsedValue.parsingError="Incorrectly formated PrivateKeyUsagePeriod"}break;case"2.5.29.17":case"2.5.29.18":try{this.parsedValue=new s.default({schema:g.result})}catch(x){this.parsedValue=new s.default,this.parsedValue.parsingError="Incorrectly formated AltName"}break;case"2.5.29.19":try{this.parsedValue=new i.default({schema:g.result})}catch(x){this.parsedValue=new i.default,this.parsedValue.parsingError="Incorrectly formated BasicConstraints"}break;case"2.5.29.20":case"2.5.29.27":case"2.5.29.21":case"2.5.29.24":this.parsedValue=g.result;break;case"2.5.29.28":try{this.parsedValue=new l.default({schema:g.result})}catch(x){this.parsedValue=new l.default,this.parsedValue.parsingError="Incorrectly formated IssuingDistributionPoint"}break;case"2.5.29.29":try{this.parsedValue=new u.default({schema:g.result})}catch(x){this.parsedValue=new u.default,this.parsedValue.parsingError="Incorrectly formated GeneralNames"}break;case"2.5.29.30":try{this.parsedValue=new c.default({schema:g.result})}catch(x){this.parsedValue=new c.default,this.parsedValue.parsingError="Incorrectly formated NameConstraints"}break;case"2.5.29.31":case"2.5.29.46":try{this.parsedValue=new n.default({schema:g.result})}catch(x){this.parsedValue=new n.default,this.parsedValue.parsingError="Incorrectly formated CRLDistributionPoints"}break;case"2.5.29.32":case"1.3.6.1.4.1.311.21.10":try{this.parsedValue=new d.default({schema:g.result})}catch(x){this.parsedValue=new d.default,this.parsedValue.parsingError="Incorrectly formated CertificatePolicies"}break;case"2.5.29.33":try{this.parsedValue=new o.default({schema:g.result})}catch(x){this.parsedValue=new o.default,this.parsedValue.parsingError="Incorrectly formated CertificatePolicies"}break;case"2.5.29.35":try{this.parsedValue=new h.default({schema:g.result})}catch(x){this.parsedValue=new h.default,this.parsedValue.parsingError="Incorrectly formated AuthorityKeyIdentifier"}break;case"2.5.29.36":try{this.parsedValue=new p.default({schema:g.result})}catch(x){this.parsedValue=new p.default,this.parsedValue.parsingError="Incorrectly formated PolicyConstraints"}break;case"2.5.29.37":try{this.parsedValue=new f.default({schema:g.result})}catch(x){this.parsedValue=new f.default,this.parsedValue.parsingError="Incorrectly formated ExtKeyUsage"}break;case"2.5.29.54":this.parsedValue=g.result;break;case"1.3.6.1.5.5.7.1.1":case"1.3.6.1.5.5.7.1.11":try{this.parsedValue=new V.default({schema:g.result})}catch(x){this.parsedValue=new V.default,this.parsedValue.parsingError="Incorrectly formated InfoAccess"}break;case"1.3.6.1.4.1.11129.2.4.2":try{this.parsedValue=new m.default({schema:g.result})}catch(x){this.parsedValue=new m.default,this.parsedValue.parsingError="Incorrectly formated SignedCertificateTimestampList"}break;case"1.3.6.1.4.1.311.20.2":case"1.3.6.1.4.1.311.21.2":this.parsedValue=g.result;break;case"1.3.6.1.4.1.311.21.7":try{this.parsedValue=new y.default({schema:g.result})}catch(x){this.parsedValue=new y.default,this.parsedValue.parsingError="Incorrectly formated CertificateTemplate"}break;case"1.3.6.1.4.1.311.21.1":try{this.parsedValue=new w.default({schema:g.result})}catch(x){this.parsedValue=new w.default,this.parsedValue.parsingError="Incorrectly formated CAVersion"}break;case"1.3.6.1.5.5.7.1.3":try{this.parsedValue=new b.default({schema:g.result})}catch(x){this.parsedValue=new b.default,this.parsedValue.parsingError="Incorrectly formated QCStatements"}}}toSchema(){const a=[];return a.push(new e.ObjectIdentifier({value:this.extnID})),this.critical!==j.defaultValues("critical")&&a.push(new e.Boolean({value:this.critical})),a.push(this.extnValue),new e.Sequence({value:a})}toJSON(){const e={extnID:this.extnID,extnValue:this.extnValue.toJSON()};return this.critical!==j.defaultValues("critical")&&(e.critical=this.critical),"parsedValue"in this&&"toJSON"in this.parsedValue&&(e.parsedValue=this.parsedValue.toJSON()),e}}exports.default=j;
},{"asn1js":"h7Xx","pvutils":"V6vO","./SubjectDirectoryAttributes.js":"oWUO","./PrivateKeyUsagePeriod.js":"qNfq","./AltName.js":"n1em","./BasicConstraints.js":"UpiD","./IssuingDistributionPoint.js":"rd5E","./GeneralNames.js":"pY44","./NameConstraints.js":"IHuX","./CRLDistributionPoints.js":"Xsm3","./CertificatePolicies.js":"Prfj","./PolicyMappings.js":"EtsQ","./AuthorityKeyIdentifier.js":"dt6r","./PolicyConstraints.js":"pSHR","./ExtKeyUsage.js":"Gd9g","./InfoAccess.js":"WbMS","./SignedCertificateTimestampList.js":"gWJK","./CertificateTemplate.js":"oPGj","./CAVersion.js":"QZlQ","./QCStatements.js":"smy5"}],"wMRS":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=a(require("asn1js")),t=require("pvutils"),n=r(require("./Extension.js"));function r(e){return e&&e.__esModule?e:{default:e}}function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function a(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}class o{constructor(e={}){this.extensions=(0,t.getParametersValue)(e,"extensions",o.defaultValues("extensions")),"schema"in e&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case"extensions":return[];default:throw new Error(`Invalid member name for Extensions class: ${e}`)}}static schema(r={},s=!1){const a=(0,t.getParametersValue)(r,"names",{});return new e.Sequence({optional:s,name:a.blockName||"",value:[new e.Repeated({name:a.extensions||"",value:n.default.schema(a.extension||{})})]})}fromSchema(r){(0,t.clearProps)(r,["extensions"]);const s=e.compareSchema(r,r,o.schema({names:{extensions:"extensions"}}));if(!1===s.verified)throw new Error("Object's schema was not verified against input data for Extensions");this.extensions=Array.from(s.result.extensions,e=>new n.default({schema:e}))}toSchema(){return new e.Sequence({value:Array.from(this.extensions,e=>e.toSchema())})}toJSON(){return{extensions:Array.from(this.extensions,e=>e.toJSON())}}}exports.default=o;
},{"asn1js":"h7Xx","pvutils":"V6vO","./Extension.js":"UuwD"}],"ArbZ":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=f(require("asn1js")),t=require("pvutils"),s=require("./common.js"),i=o(require("./AlgorithmIdentifier.js")),r=o(require("./RelativeDistinguishedNames.js")),a=o(require("./Time.js")),u=o(require("./PublicKeyInfo.js")),n=o(require("./Extension.js")),l=o(require("./Extensions.js"));function o(e){return e&&e.__esModule?e:{default:e}}function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,s=new WeakMap;return(c=function(e){return e?s:t})(e)}function f(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var s=c(t);if(s&&s.has(e))return s.get(e);var i={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var u=r?Object.getOwnPropertyDescriptor(e,a):null;u&&(u.get||u.set)?Object.defineProperty(i,a,u):i[a]=e[a]}return i.default=e,s&&s.set(e,i),i}function b(s={}){const n=(0,t.getParametersValue)(s,"names",{});return new e.Sequence({name:n.blockName||"tbsCertificate",value:[new e.Constructed({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[new e.Integer({name:n.tbsCertificateVersion||"tbsCertificate.version"})]}),new e.Integer({name:n.tbsCertificateSerialNumber||"tbsCertificate.serialNumber"}),i.default.schema(n.signature||{names:{blockName:"tbsCertificate.signature"}}),r.default.schema(n.issuer||{names:{blockName:"tbsCertificate.issuer"}}),new e.Sequence({name:n.tbsCertificateValidity||"tbsCertificate.validity",value:[a.default.schema(n.notBefore||{names:{utcTimeName:"tbsCertificate.notBefore",generalTimeName:"tbsCertificate.notBefore"}}),a.default.schema(n.notAfter||{names:{utcTimeName:"tbsCertificate.notAfter",generalTimeName:"tbsCertificate.notAfter"}})]}),r.default.schema(n.subject||{names:{blockName:"tbsCertificate.subject"}}),u.default.schema(n.subjectPublicKeyInfo||{names:{blockName:"tbsCertificate.subjectPublicKeyInfo"}}),new e.Primitive({name:n.tbsCertificateIssuerUniqueID||"tbsCertificate.issuerUniqueID",optional:!0,idBlock:{tagClass:3,tagNumber:1}}),new e.Primitive({name:n.tbsCertificateSubjectUniqueID||"tbsCertificate.subjectUniqueID",optional:!0,idBlock:{tagClass:3,tagNumber:2}}),new e.Constructed({optional:!0,idBlock:{tagClass:3,tagNumber:3},value:[l.default.schema(n.extensions||{names:{blockName:"tbsCertificate.extensions"}})]})]})}class h{constructor(e={}){this.tbs=(0,t.getParametersValue)(e,"tbs",h.defaultValues("tbs")),this.version=(0,t.getParametersValue)(e,"version",h.defaultValues("version")),this.serialNumber=(0,t.getParametersValue)(e,"serialNumber",h.defaultValues("serialNumber")),this.signature=(0,t.getParametersValue)(e,"signature",h.defaultValues("signature")),this.issuer=(0,t.getParametersValue)(e,"issuer",h.defaultValues("issuer")),this.notBefore=(0,t.getParametersValue)(e,"notBefore",h.defaultValues("notBefore")),this.notAfter=(0,t.getParametersValue)(e,"notAfter",h.defaultValues("notAfter")),this.subject=(0,t.getParametersValue)(e,"subject",h.defaultValues("subject")),this.subjectPublicKeyInfo=(0,t.getParametersValue)(e,"subjectPublicKeyInfo",h.defaultValues("subjectPublicKeyInfo")),"issuerUniqueID"in e&&(this.issuerUniqueID=(0,t.getParametersValue)(e,"issuerUniqueID",h.defaultValues("issuerUniqueID"))),"subjectUniqueID"in e&&(this.subjectUniqueID=(0,t.getParametersValue)(e,"subjectUniqueID",h.defaultValues("subjectUniqueID"))),"extensions"in e&&(this.extensions=(0,t.getParametersValue)(e,"extensions",h.defaultValues("extensions"))),this.signatureAlgorithm=(0,t.getParametersValue)(e,"signatureAlgorithm",h.defaultValues("signatureAlgorithm")),this.signatureValue=(0,t.getParametersValue)(e,"signatureValue",h.defaultValues("signatureValue")),"schema"in e&&this.fromSchema(e.schema)}static defaultValues(t){switch(t){case"tbs":return new ArrayBuffer(0);case"version":return 0;case"serialNumber":return new e.Integer;case"signature":return new i.default;case"issuer":return new r.default;case"notBefore":case"notAfter":return new a.default;case"subject":return new r.default;case"subjectPublicKeyInfo":return new u.default;case"issuerUniqueID":case"subjectUniqueID":return new ArrayBuffer(0);case"extensions":return[];case"signatureAlgorithm":return new i.default;case"signatureValue":return new e.BitString;default:throw new Error(`Invalid member name for Certificate class: ${t}`)}}static schema(s={}){const r=(0,t.getParametersValue)(s,"names",{});return new e.Sequence({name:r.blockName||"",value:[b(r.tbsCertificate),i.default.schema(r.signatureAlgorithm||{names:{blockName:"signatureAlgorithm"}}),new e.BitString({name:r.signatureValue||"signatureValue"})]})}fromSchema(s){(0,t.clearProps)(s,["tbsCertificate","tbsCertificate.extensions","tbsCertificate.version","tbsCertificate.serialNumber","tbsCertificate.signature","tbsCertificate.issuer","tbsCertificate.notBefore","tbsCertificate.notAfter","tbsCertificate.subject","tbsCertificate.subjectPublicKeyInfo","tbsCertificate.issuerUniqueID","tbsCertificate.subjectUniqueID","signatureAlgorithm","signatureValue"]);const l=e.compareSchema(s,s,h.schema({names:{tbsCertificate:{names:{extensions:{names:{extensions:"tbsCertificate.extensions"}}}}}}));if(!1===l.verified)throw new Error("Object's schema was not verified against input data for Certificate");this.tbs=l.result.tbsCertificate.valueBeforeDecode,"tbsCertificate.version"in l.result&&(this.version=l.result["tbsCertificate.version"].valueBlock.valueDec),this.serialNumber=l.result["tbsCertificate.serialNumber"],this.signature=new i.default({schema:l.result["tbsCertificate.signature"]}),this.issuer=new r.default({schema:l.result["tbsCertificate.issuer"]}),this.notBefore=new a.default({schema:l.result["tbsCertificate.notBefore"]}),this.notAfter=new a.default({schema:l.result["tbsCertificate.notAfter"]}),this.subject=new r.default({schema:l.result["tbsCertificate.subject"]}),this.subjectPublicKeyInfo=new u.default({schema:l.result["tbsCertificate.subjectPublicKeyInfo"]}),"tbsCertificate.issuerUniqueID"in l.result&&(this.issuerUniqueID=l.result["tbsCertificate.issuerUniqueID"].valueBlock.valueHex),"tbsCertificate.subjectUniqueID"in l.result&&(this.subjectUniqueID=l.result["tbsCertificate.subjectUniqueID"].valueBlock.valueHex),"tbsCertificate.extensions"in l.result&&(this.extensions=Array.from(l.result["tbsCertificate.extensions"],e=>new n.default({schema:e}))),this.signatureAlgorithm=new i.default({schema:l.result.signatureAlgorithm}),this.signatureValue=l.result.signatureValue}encodeTBS(){const t=[];return"version"in this&&this.version!==h.defaultValues("version")&&t.push(new e.Constructed({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[new e.Integer({value:this.version})]})),t.push(this.serialNumber),t.push(this.signature.toSchema()),t.push(this.issuer.toSchema()),t.push(new e.Sequence({value:[this.notBefore.toSchema(),this.notAfter.toSchema()]})),t.push(this.subject.toSchema()),t.push(this.subjectPublicKeyInfo.toSchema()),"issuerUniqueID"in this&&t.push(new e.Primitive({optional:!0,idBlock:{tagClass:3,tagNumber:1},valueHex:this.issuerUniqueID})),"subjectUniqueID"in this&&t.push(new e.Primitive({optional:!0,idBlock:{tagClass:3,tagNumber:2},valueHex:this.subjectUniqueID})),"extensions"in this&&t.push(new e.Constructed({optional:!0,idBlock:{tagClass:3,tagNumber:3},value:[new e.Sequence({value:Array.from(this.extensions,e=>e.toSchema())})]})),new e.Sequence({value:t})}toSchema(t=!1){let s={};if(!1===t){if(0===this.tbs.length)return h.schema().value[0];s=e.fromBER(this.tbs).result}else s=this.encodeTBS();return new e.Sequence({value:[s,this.signatureAlgorithm.toSchema(),this.signatureValue]})}toJSON(){const e={tbs:(0,t.bufferToHexCodes)(this.tbs,0,this.tbs.byteLength),serialNumber:this.serialNumber.toJSON(),signature:this.signature.toJSON(),issuer:this.issuer.toJSON(),notBefore:this.notBefore.toJSON(),notAfter:this.notAfter.toJSON(),subject:this.subject.toJSON(),subjectPublicKeyInfo:this.subjectPublicKeyInfo.toJSON(),signatureAlgorithm:this.signatureAlgorithm.toJSON(),signatureValue:this.signatureValue.toJSON()};return"version"in this&&this.version!==h.defaultValues("version")&&(e.version=this.version),"issuerUniqueID"in this&&(e.issuerUniqueID=(0,t.bufferToHexCodes)(this.issuerUniqueID,0,this.issuerUniqueID.byteLength)),"subjectUniqueID"in this&&(e.subjectUniqueID=(0,t.bufferToHexCodes)(this.subjectUniqueID,0,this.subjectUniqueID.byteLength)),"extensions"in this&&(e.extensions=Array.from(this.extensions,e=>e.toJSON())),e}getPublicKey(e=null){return(0,s.getEngine)().subtle.getPublicKey(this.subjectPublicKeyInfo,this.signatureAlgorithm,e)}getKeyHash(e="SHA-1"){const t=(0,s.getCrypto)();return void 0===t?Promise.reject("Unable to create WebCrypto object"):t.digest({name:e},new Uint8Array(this.subjectPublicKeyInfo.subjectPublicKey.valueBlock.valueHex))}sign(t,i="SHA-1"){if(void 0===t)return Promise.reject("Need to provide a private key for signing");let r,a=Promise.resolve();const u=(0,s.getEngine)();return a=(a=(a=(a=(a=a.then(()=>u.subtle.getSignatureParameters(t,i))).then(e=>{r=e.parameters,this.signature=e.signatureAlgorithm,this.signatureAlgorithm=e.signatureAlgorithm})).then(()=>{this.tbs=this.encodeTBS().toBER(!1)})).then(()=>u.subtle.signWithPrivateKey(this.tbs,t,r))).then(t=>{this.signatureValue=new e.BitString({valueHex:t})})}verify(e=null){let t={};return null!==e?t=e.subjectPublicKeyInfo:this.issuer.isEqual(this.subject)&&(t=this.subjectPublicKeyInfo),t instanceof u.default==!1?Promise.reject("Please provide issuer certificate as a parameter"):(0,s.getEngine)().subtle.verifyWithPublicKey(this.tbs,this.signatureValue,t,this.signatureAlgorithm)}}exports.default=h;
},{"asn1js":"h7Xx","pvutils":"V6vO","./common.js":"ViMO","./AlgorithmIdentifier.js":"D4jV","./RelativeDistinguishedNames.js":"ZcqL","./Time.js":"GiRj","./PublicKeyInfo.js":"Gwml","./Extension.js":"UuwD","./Extensions.js":"wMRS"}],"kLWM":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=exports.IssuerSerial=exports.AttributeCertificateInfoV1=exports.AttCertValidityPeriod=void 0;var e=l(require("asn1js")),t=require("pvutils"),s=u(require("./GeneralNames.js")),a=u(require("./AlgorithmIdentifier.js")),r=u(require("./Attribute.js")),i=u(require("./Extensions.js"));function u(e){return e&&e.__esModule?e:{default:e}}function n(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,s=new WeakMap;return(n=function(e){return e?s:t})(e)}function l(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var s=n(t);if(s&&s.has(e))return s.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var u=r?Object.getOwnPropertyDescriptor(e,i):null;u&&(u.get||u.set)?Object.defineProperty(a,i,u):a[i]=e[i]}return a.default=e,s&&s.set(e,a),a}class o{constructor(e={}){this.notBeforeTime=(0,t.getParametersValue)(e,"notBeforeTime",o.defaultValues("notBeforeTime")),this.notAfterTime=(0,t.getParametersValue)(e,"notAfterTime",o.defaultValues("notAfterTime")),"schema"in e&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case"notBeforeTime":case"notAfterTime":return new Date(0,0,0);default:throw new Error(`Invalid member name for AttCertValidityPeriod class: ${e}`)}}static schema(s={}){const a=(0,t.getParametersValue)(s,"names",{});return new e.Sequence({name:a.blockName||"",value:[new e.GeneralizedTime({name:a.notBeforeTime||""}),new e.GeneralizedTime({name:a.notAfterTime||""})]})}fromSchema(s){(0,t.clearProps)(s,["notBeforeTime","notAfterTime"]);const a=e.compareSchema(s,s,o.schema({names:{notBeforeTime:"notBeforeTime",notAfterTime:"notAfterTime"}}));if(!1===a.verified)throw new Error("Object's schema was not verified against input data for AttCertValidityPeriod");this.notBeforeTime=a.result.notBeforeTime.toDate(),this.notAfterTime=a.result.notAfterTime.toDate()}toSchema(){return new e.Sequence({value:[new e.GeneralizedTime({valueDate:this.notBeforeTime}),new e.GeneralizedTime({valueDate:this.notAfterTime})]})}toJSON(){return{notBeforeTime:this.notBeforeTime,notAfterTime:this.notAfterTime}}}exports.AttCertValidityPeriod=o;class c{constructor(e={}){this.issuer=(0,t.getParametersValue)(e,"issuer",c.defaultValues("issuer")),this.serialNumber=(0,t.getParametersValue)(e,"serialNumber",c.defaultValues("serialNumber")),"issuerUID"in e&&(this.issuerUID=(0,t.getParametersValue)(e,"issuerUID",c.defaultValues("issuerUID"))),"schema"in e&&this.fromSchema(e.schema)}static defaultValues(t){switch(t){case"issuer":return new s.default;case"serialNumber":return new e.Integer;case"issuerUID":return new e.BitString;default:throw new Error(`Invalid member name for IssuerSerial class: ${t}`)}}static schema(a={}){const r=(0,t.getParametersValue)(a,"names",{});return new e.Sequence({name:r.blockName||"",value:[s.default.schema(r.issuer||{}),new e.Integer({name:r.serialNumber||""}),new e.BitString({optional:!0,name:r.issuerUID||""})]})}fromSchema(a){(0,t.clearProps)(a,["issuer","serialNumber","issuerUID"]);const r=e.compareSchema(a,a,c.schema({names:{issuer:{names:{blockName:"issuer"}},serialNumber:"serialNumber",issuerUID:"issuerUID"}}));if(!1===r.verified)throw new Error("Object's schema was not verified against input data for IssuerSerial");this.issuer=new s.default({schema:r.result.issuer}),this.serialNumber=r.result.serialNumber,"issuerUID"in r.result&&(this.issuerUID=r.result.issuerUID)}toSchema(){const t=new e.Sequence({value:[this.issuer.toSchema(),this.serialNumber]});return"issuerUID"in this&&t.valueBlock.value.push(this.issuerUID),t}toJSON(){const e={issuer:this.issuer.toJSON(),serialNumber:this.serialNumber.toJSON()};return"issuerUID"in this&&(e.issuerUID=this.issuerUID.toJSON()),e}}exports.IssuerSerial=c;class m{constructor(e={}){this.version=(0,t.getParametersValue)(e,"version",m.defaultValues("version")),"baseCertificateID"in e&&(this.baseCertificateID=(0,t.getParametersValue)(e,"baseCertificateID",m.defaultValues("baseCertificateID"))),"subjectName"in e&&(this.subjectName=(0,t.getParametersValue)(e,"subjectName",m.defaultValues("subjectName"))),this.issuer=(0,t.getParametersValue)(e,"issuer",m.defaultValues("issuer")),this.signature=(0,t.getParametersValue)(e,"signature",m.defaultValues("signature")),this.serialNumber=(0,t.getParametersValue)(e,"serialNumber",m.defaultValues("serialNumber")),this.attrCertValidityPeriod=(0,t.getParametersValue)(e,"attrCertValidityPeriod",m.defaultValues("attrCertValidityPeriod")),this.attributes=(0,t.getParametersValue)(e,"attributes",m.defaultValues("attributes")),"issuerUniqueID"in e&&(this.issuerUniqueID=(0,t.getParametersValue)(e,"issuerUniqueID",m.defaultValues("issuerUniqueID"))),"extensions"in e&&(this.extensions=(0,t.getParametersValue)(e,"extensions",m.defaultValues("extensions"))),"schema"in e&&this.fromSchema(e.schema)}static defaultValues(t){switch(t){case"version":return 0;case"baseCertificateID":return new c;case"subjectName":return new s.default;case"issuer":return{};case"signature":return new a.default;case"serialNumber":return new e.Integer;case"attrCertValidityPeriod":return new o;case"attributes":return[];case"issuerUniqueID":return new e.BitString;case"extensions":return new i.default;default:throw new Error(`Invalid member name for AttributeCertificateInfoV1 class: ${t}`)}}static schema(u={}){const n=(0,t.getParametersValue)(u,"names",{});return new e.Sequence({name:n.blockName||"",value:[new e.Integer({name:n.version||""}),new e.Choice({value:[new e.Constructed({name:n.baseCertificateID||"",idBlock:{tagClass:3,tagNumber:0},value:c.schema().valueBlock.value}),new e.Constructed({name:n.subjectName||"",idBlock:{tagClass:3,tagNumber:1},value:s.default.schema().valueBlock.value})]}),s.default.schema({names:{blockName:n.issuer||""}}),a.default.schema(n.signature||{}),new e.Integer({name:n.serialNumber||""}),o.schema(n.attrCertValidityPeriod||{}),new e.Sequence({name:n.attributes||"",value:[new e.Repeated({value:r.default.schema()})]}),new e.BitString({optional:!0,name:n.issuerUniqueID||""}),i.default.schema(n.extensions||{},!0)]})}fromSchema(u){(0,t.clearProps)(u,["version","baseCertificateID","subjectName","issuer","signature","serialNumber","attrCertValidityPeriod","attributes","issuerUniqueID","extensions"]);const n=e.compareSchema(u,u,m.schema({names:{version:"version",baseCertificateID:"baseCertificateID",subjectName:"subjectName",issuer:"issuer",signature:{names:{blockName:"signature"}},serialNumber:"serialNumber",attrCertValidityPeriod:{names:{blockName:"attrCertValidityPeriod"}},attributes:"attributes",issuerUniqueID:"issuerUniqueID",extensions:{names:{blockName:"extensions"}}}}));if(!1===n.verified)throw new Error("Object's schema was not verified against input data for AttributeCertificateInfoV1");this.version=n.result.version.valueBlock.valueDec,"baseCertificateID"in n.result&&(this.baseCertificateID=new c({schema:new e.Sequence({value:n.result.baseCertificateID.valueBlock.value})})),"subjectName"in n.result&&(this.subjectName=new s.default({schema:new e.Sequence({value:n.result.subjectName.valueBlock.value})})),this.issuer=n.result.issuer,this.signature=new a.default({schema:n.result.signature}),this.serialNumber=n.result.serialNumber,this.attrCertValidityPeriod=new o({schema:n.result.attrCertValidityPeriod}),this.attributes=Array.from(n.result.attributes.valueBlock.value,e=>new r.default({schema:e})),"issuerUniqueID"in n.result&&(this.issuerUniqueID=n.result.issuerUniqueID),"extensions"in n.result&&(this.extensions=new i.default({schema:n.result.extensions}))}toSchema(){const t=new e.Sequence({value:[new e.Integer({value:this.version})]});return"baseCertificateID"in this&&t.valueBlock.value.push(new e.Constructed({idBlock:{tagClass:3,tagNumber:0},value:this.baseCertificateID.toSchema().valueBlock.value})),"subjectName"in this&&t.valueBlock.value.push(new e.Constructed({idBlock:{tagClass:3,tagNumber:1},value:this.subjectName.toSchema().valueBlock.value})),t.valueBlock.value.push(this.issuer.toSchema()),t.valueBlock.value.push(this.signature.toSchema()),t.valueBlock.value.push(this.serialNumber),t.valueBlock.value.push(this.attrCertValidityPeriod.toSchema()),t.valueBlock.value.push(new e.Sequence({value:Array.from(this.attributes,e=>e.toSchema())})),"issuerUniqueID"in this&&t.valueBlock.value.push(this.issuerUniqueID),"extensions"in this&&t.valueBlock.value.push(this.extensions.toSchema()),t}toJSON(){const e={version:this.version};return"baseCertificateID"in this&&(e.baseCertificateID=this.baseCertificateID.toJSON()),"subjectName"in this&&(e.subjectName=this.subjectName.toJSON()),e.issuer=this.issuer.toJSON(),e.signature=this.signature.toJSON(),e.serialNumber=this.serialNumber.toJSON(),e.attrCertValidityPeriod=this.attrCertValidityPeriod.toJSON(),e.attributes=Array.from(this.attributes,e=>e.toJSON()),"issuerUniqueID"in this&&(e.issuerUniqueID=this.issuerUniqueID.toJSON()),"extensions"in this&&(e.extensions=this.extensions.toJSON()),e}}exports.AttributeCertificateInfoV1=m;class h{constructor(e={}){this.acinfo=(0,t.getParametersValue)(e,"acinfo",h.defaultValues("acinfo")),this.signatureAlgorithm=(0,t.getParametersValue)(e,"signatureAlgorithm",h.defaultValues("signatureAlgorithm")),this.signatureValue=(0,t.getParametersValue)(e,"signatureValue",h.defaultValues("signatureValue")),"schema"in e&&this.fromSchema(e.schema)}static defaultValues(t){switch(t){case"acinfo":return new m;case"signatureAlgorithm":return new a.default;case"signatureValue":return new e.BitString;default:throw new Error(`Invalid member name for AttributeCertificateV1 class: ${t}`)}}static schema(s={}){const r=(0,t.getParametersValue)(s,"names",{});return new e.Sequence({name:r.blockName||"",value:[m.schema(r.acinfo||{}),a.default.schema(r.signatureAlgorithm||{}),new e.BitString({name:r.signatureValue||""})]})}fromSchema(s){(0,t.clearProps)(s,["acinfo","signatureValue","signatureAlgorithm"]);const r=e.compareSchema(s,s,h.schema({names:{acinfo:{names:{blockName:"acinfo"}},signatureAlgorithm:{names:{blockName:"signatureAlgorithm"}},signatureValue:"signatureValue"}}));if(!1===r.verified)throw new Error("Object's schema was not verified against input data for AttributeCertificateV1");this.acinfo=new m({schema:r.result.acinfo}),this.signatureAlgorithm=new a.default({schema:r.result.signatureAlgorithm}),this.signatureValue=r.result.signatureValue}toSchema(){return new e.Sequence({value:[this.acinfo.toSchema(),this.signatureAlgorithm.toSchema(),this.signatureValue]})}toJSON(){return{acinfo:this.acinfo.toJSON(),signatureAlgorithm:this.signatureAlgorithm.toJSON(),signatureValue:this.signatureValue.toJSON()}}}exports.default=h;
},{"asn1js":"h7Xx","pvutils":"V6vO","./GeneralNames.js":"pY44","./AlgorithmIdentifier.js":"D4jV","./Attribute.js":"stBO","./Extensions.js":"wMRS"}],"vHsI":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=exports.V2Form=exports.ObjectDigestInfo=exports.Holder=exports.AttributeCertificateInfoV2=void 0;var e=l(require("asn1js")),t=require("pvutils"),a=n(require("./GeneralNames.js")),s=n(require("./AlgorithmIdentifier.js")),i=n(require("./Attribute.js")),r=n(require("./Extensions.js")),u=require("./AttributeCertificateV1.js");function n(e){return e&&e.__esModule?e:{default:e}}function o(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(o=function(e){return e?a:t})(e)}function l(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=o(t);if(a&&a.has(e))return a.get(e);var s={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var u=i?Object.getOwnPropertyDescriptor(e,r):null;u&&(u.get||u.set)?Object.defineProperty(s,r,u):s[r]=e[r]}return s.default=e,a&&a.set(e,s),s}class c{constructor(e={}){this.digestedObjectType=(0,t.getParametersValue)(e,"digestedObjectType",c.defaultValues("digestedObjectType")),"otherObjectTypeID"in e&&(this.otherObjectTypeID=(0,t.getParametersValue)(e,"otherObjectTypeID",c.defaultValues("otherObjectTypeID"))),this.digestAlgorithm=(0,t.getParametersValue)(e,"digestAlgorithm",c.defaultValues("digestAlgorithm")),this.objectDigest=(0,t.getParametersValue)(e,"objectDigest",c.defaultValues("objectDigest")),"schema"in e&&this.fromSchema(e.schema)}static defaultValues(t){switch(t){case"digestedObjectType":return new e.Enumerated;case"otherObjectTypeID":return new e.ObjectIdentifier;case"digestAlgorithm":return new s.default;case"objectDigest":return new e.BitString;default:throw new Error(`Invalid member name for ObjectDigestInfo class: ${t}`)}}static schema(a={}){const i=(0,t.getParametersValue)(a,"names",{});return new e.Sequence({name:i.blockName||"",value:[new e.Enumerated({name:i.digestedObjectType||""}),new e.ObjectIdentifier({optional:!0,name:i.otherObjectTypeID||""}),s.default.schema(i.digestAlgorithm||{}),new e.BitString({name:i.objectDigest||""})]})}fromSchema(a){(0,t.clearProps)(a,["digestedObjectType","otherObjectTypeID","digestAlgorithm","objectDigest"]);const i=e.compareSchema(a,a,c.schema({names:{digestedObjectType:"digestedObjectType",otherObjectTypeID:"otherObjectTypeID",digestAlgorithm:{names:{blockName:"digestAlgorithm"}},objectDigest:"objectDigest"}}));if(!1===i.verified)throw new Error("Object's schema was not verified against input data for ObjectDigestInfo");this.digestedObjectType=i.result.digestedObjectType,"otherObjectTypeID"in i.result&&(this.otherObjectTypeID=i.result.otherObjectTypeID),this.digestAlgorithm=new s.default({schema:i.result.digestAlgorithm}),this.objectDigest=i.result.objectDigest}toSchema(){const t=new e.Sequence({value:[this.digestedObjectType]});return"otherObjectTypeID"in this&&t.value.push(this.otherObjectTypeID),t.value.push(this.digestAlgorithm.toSchema()),t.value.push(this.objectDigest),t}toJSON(){const e={digestedObjectType:this.digestedObjectType.toJSON()};return"otherObjectTypeID"in this&&(e.otherObjectTypeID=this.otherObjectTypeID.toJSON()),e.digestAlgorithm=this.digestAlgorithm.toJSON(),e.objectDigest=this.objectDigest.toJSON(),e}}exports.ObjectDigestInfo=c;class m{constructor(e={}){"issuerName"in e&&(this.issuerName=(0,t.getParametersValue)(e,"issuerName",m.defaultValues("issuerName"))),"baseCertificateID"in e&&(this.baseCertificateID=(0,t.getParametersValue)(e,"baseCertificateID",m.defaultValues("baseCertificateID"))),"objectDigestInfo"in e&&(this.objectDigestInfo=(0,t.getParametersValue)(e,"objectDigestInfo",m.defaultValues("objectDigestInfo"))),"schema"in e&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case"issuerName":return new a.default;case"baseCertificateID":return new u.IssuerSerial;case"objectDigestInfo":return new c;default:throw new Error(`Invalid member name for V2Form class: ${e}`)}}static schema(s={}){const i=(0,t.getParametersValue)(s,"names",{});return new e.Sequence({name:i.blockName||"",value:[a.default.schema({names:{blockName:i.issuerName}},!0),new e.Constructed({optional:!0,name:i.baseCertificateID||"",idBlock:{tagClass:3,tagNumber:0},value:u.IssuerSerial.schema().valueBlock.value}),new e.Constructed({optional:!0,name:i.objectDigestInfo||"",idBlock:{tagClass:3,tagNumber:1},value:c.schema().valueBlock.value})]})}fromSchema(s){(0,t.clearProps)(s,["issuerName","baseCertificateID","objectDigestInfo"]);const i=e.compareSchema(s,s,m.schema({names:{issuerName:"issuerName",baseCertificateID:"baseCertificateID",objectDigestInfo:"objectDigestInfo"}}));if(!1===i.verified)throw new Error("Object's schema was not verified against input data for V2Form");"issuerName"in i.result&&(this.issuerName=new a.default({schema:i.result.issuerName})),"baseCertificateID"in i.result&&(this.baseCertificateID=new u.IssuerSerial({schema:new e.Sequence({value:i.result.baseCertificateID.valueBlock.value})})),"objectDigestInfo"in i.result&&(this.objectDigestInfo=new c({schema:new e.Sequence({value:i.result.objectDigestInfo.valueBlock.value})}))}toSchema(){const t=new e.Sequence;return"issuerName"in this&&t.valueBlock.value.push(this.issuerName.toSchema()),"baseCertificateID"in this&&t.valueBlock.value.push(new e.Constructed({idBlock:{tagClass:3,tagNumber:0},value:this.baseCertificateID.toSchema().valueBlock.value})),"objectDigestInfo"in this&&t.valueBlock.value.push(new e.Constructed({idBlock:{tagClass:3,tagNumber:1},value:this.objectDigestInfo.toSchema().valueBlock.value})),t}toJSON(){const e={};return"issuerName"in this&&(e.issuerName=this.issuerName.toJSON()),"baseCertificateID"in this&&(e.baseCertificateID=this.baseCertificateID.toJSON()),"objectDigestInfo"in this&&(e.objectDigestInfo=this.objectDigestInfo.toJSON()),e}}exports.V2Form=m;class h{constructor(e={}){"baseCertificateID"in e&&(this.baseCertificateID=(0,t.getParametersValue)(e,"baseCertificateID",h.defaultValues("baseCertificateID"))),"entityName"in e&&(this.entityName=(0,t.getParametersValue)(e,"entityName",h.defaultValues("entityName"))),"objectDigestInfo"in e&&(this.objectDigestInfo=(0,t.getParametersValue)(e,"objectDigestInfo",h.defaultValues("objectDigestInfo"))),"schema"in e&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case"baseCertificateID":return new u.IssuerSerial;case"entityName":return new a.default;case"objectDigestInfo":return new c;default:throw new Error(`Invalid member name for Holder class: ${e}`)}}static schema(s={}){const i=(0,t.getParametersValue)(s,"names",{});return new e.Sequence({name:i.blockName||"",value:[new e.Constructed({optional:!0,name:i.baseCertificateID||"",idBlock:{tagClass:3,tagNumber:0},value:u.IssuerSerial.schema().valueBlock.value}),new e.Constructed({optional:!0,name:i.entityName||"",idBlock:{tagClass:3,tagNumber:1},value:a.default.schema().valueBlock.value}),new e.Constructed({optional:!0,name:i.objectDigestInfo||"",idBlock:{tagClass:3,tagNumber:2},value:c.schema().valueBlock.value})]})}fromSchema(s){(0,t.clearProps)(s,["baseCertificateID","entityName","objectDigestInfo"]);const i=e.compareSchema(s,s,h.schema({names:{baseCertificateID:"baseCertificateID",entityName:"entityName",objectDigestInfo:"objectDigestInfo"}}));if(!1===i.verified)throw new Error("Object's schema was not verified against input data for Holder");"baseCertificateID"in i.result&&(this.baseCertificateID=new u.IssuerSerial({schema:new e.Sequence({value:i.result.baseCertificateID.valueBlock.value})})),"entityName"in i.result&&(this.entityName=new a.default({schema:new e.Sequence({value:i.result.entityName.valueBlock.value})})),"objectDigestInfo"in i.result&&(this.objectDigestInfo=new c({schema:new e.Sequence({value:i.result.objectDigestInfo.valueBlock.value})}))}toSchema(){const t=new e.Sequence;return"baseCertificateID"in this&&t.valueBlock.value.push(new e.Constructed({idBlock:{tagClass:3,tagNumber:0},value:this.baseCertificateID.toSchema().valueBlock.value})),"entityName"in this&&t.valueBlock.value.push(new e.Constructed({idBlock:{tagClass:3,tagNumber:1},value:this.entityName.toSchema().valueBlock.value})),"objectDigestInfo"in this&&t.valueBlock.value.push(new e.Constructed({idBlock:{tagClass:3,tagNumber:2},value:this.objectDigestInfo.toSchema().valueBlock.value})),t}toJSON(){const e={};return"baseCertificateID"in this&&(e.baseCertificateID=this.baseCertificateID.toJSON()),"entityName"in this&&(e.entityName=this.entityName.toJSON()),"objectDigestInfo"in this&&(e.objectDigestInfo=this.objectDigestInfo.toJSON()),e}}exports.Holder=h;class f{constructor(e={}){this.version=(0,t.getParametersValue)(e,"version",f.defaultValues("version")),this.holder=(0,t.getParametersValue)(e,"holder",f.defaultValues("holder")),this.issuer=(0,t.getParametersValue)(e,"issuer",f.defaultValues("issuer")),this.signature=(0,t.getParametersValue)(e,"signature",f.defaultValues("signature")),this.serialNumber=(0,t.getParametersValue)(e,"serialNumber",f.defaultValues("serialNumber")),this.attrCertValidityPeriod=(0,t.getParametersValue)(e,"attrCertValidityPeriod",f.defaultValues("attrCertValidityPeriod")),this.attributes=(0,t.getParametersValue)(e,"attributes",f.defaultValues("attributes")),"issuerUniqueID"in e&&(this.issuerUniqueID=(0,t.getParametersValue)(e,"issuerUniqueID",f.defaultValues("issuerUniqueID"))),"extensions"in e&&(this.extensions=(0,t.getParametersValue)(e,"extensions",f.defaultValues("extensions"))),"schema"in e&&this.fromSchema(e.schema)}static defaultValues(t){switch(t){case"version":return 1;case"holder":return new h;case"issuer":return{};case"signature":return new s.default;case"serialNumber":return new e.Integer;case"attrCertValidityPeriod":return new u.AttCertValidityPeriod;case"attributes":return[];case"issuerUniqueID":return new e.BitString;case"extensions":return new r.default;default:throw new Error(`Invalid member name for AttributeCertificateInfoV2 class: ${t}`)}}static schema(n={}){const o=(0,t.getParametersValue)(n,"names",{});return new e.Sequence({name:o.blockName||"",value:[new e.Integer({name:o.version||""}),h.schema(o.holder||{}),new e.Choice({value:[a.default.schema({names:{blockName:o.issuer||""}}),new e.Constructed({name:o.issuer||"",idBlock:{tagClass:3,tagNumber:0},value:m.schema().valueBlock.value})]}),s.default.schema(o.signature||{}),new e.Integer({name:o.serialNumber||""}),u.AttCertValidityPeriod.schema(o.attrCertValidityPeriod||{}),new e.Sequence({name:o.attributes||"",value:[new e.Repeated({value:i.default.schema()})]}),new e.BitString({optional:!0,name:o.issuerUniqueID||""}),r.default.schema(o.extensions||{},!0)]})}fromSchema(a){(0,t.clearProps)(a,["version","holder","issuer","signature","serialNumber","attrCertValidityPeriod","attributes","issuerUniqueID","extensions"]);const n=e.compareSchema(a,a,f.schema({names:{version:"version",holder:{names:{blockName:"holder"}},issuer:"issuer",signature:{names:{blockName:"signature"}},serialNumber:"serialNumber",attrCertValidityPeriod:{names:{blockName:"attrCertValidityPeriod"}},attributes:"attributes",issuerUniqueID:"issuerUniqueID",extensions:{names:{blockName:"extensions"}}}}));if(!1===n.verified)throw new Error("Object's schema was not verified against input data for AttributeCertificateInfoV2");switch(this.version=n.result.version.valueBlock.valueDec,this.holder=new h({schema:n.result.holder}),n.result.issuer.idBlock.tagClass){case 3:this.issuer=new m({schema:new e.Sequence({value:n.result.issuer.valueBlock.value})});break;case 1:default:throw new Error("Incorect value for 'issuer' in AttributeCertificateInfoV2")}this.signature=new s.default({schema:n.result.signature}),this.serialNumber=n.result.serialNumber,this.attrCertValidityPeriod=new u.AttCertValidityPeriod({schema:n.result.attrCertValidityPeriod}),this.attributes=Array.from(n.result.attributes.valueBlock.value,e=>new i.default({schema:e})),"issuerUniqueID"in n.result&&(this.issuerUniqueID=n.result.issuerUniqueID),"extensions"in n.result&&(this.extensions=new r.default({schema:n.result.extensions}))}toSchema(){const t=new e.Sequence({value:[new e.Integer({value:this.version}),this.holder.toSchema(),new e.Constructed({idBlock:{tagClass:3,tagNumber:0},value:this.issuer.toSchema().valueBlock.value}),this.signature.toSchema(),this.serialNumber,this.attrCertValidityPeriod.toSchema(),new e.Sequence({value:Array.from(this.attributes,e=>e.toSchema())})]});return"issuerUniqueID"in this&&t.valueBlock.value.push(this.issuerUniqueID),"extensions"in this&&t.valueBlock.value.push(this.extensions.toSchema()),t}toJSON(){const e={version:this.version,holder:this.holder.toJSON(),issuer:this.issuer.toJSON(),signature:this.signature.toJSON(),serialNumber:this.serialNumber.toJSON(),attrCertValidityPeriod:this.attrCertValidityPeriod.toJSON(),attributes:Array.from(this.attributes,e=>e.toJSON())};return"issuerUniqueID"in this&&(e.issuerUniqueID=this.issuerUniqueID.toJSON()),"extensions"in this&&(e.extensions=this.extensions.toJSON()),e}}exports.AttributeCertificateInfoV2=f;class g{constructor(e={}){this.acinfo=(0,t.getParametersValue)(e,"acinfo",g.defaultValues("acinfo")),this.signatureAlgorithm=(0,t.getParametersValue)(e,"signatureAlgorithm",g.defaultValues("signatureAlgorithm")),this.signatureValue=(0,t.getParametersValue)(e,"signatureValue",g.defaultValues("signatureValue")),"schema"in e&&this.fromSchema(e.schema)}static defaultValues(t){switch(t){case"acinfo":return new f;case"signatureAlgorithm":return new s.default;case"signatureValue":return new e.BitString;default:throw new Error(`Invalid member name for AttributeCertificateV2 class: ${t}`)}}static schema(a={}){const i=(0,t.getParametersValue)(a,"names",{});return new e.Sequence({name:i.blockName||"",value:[f.schema(i.acinfo||{}),s.default.schema(i.signatureAlgorithm||{}),new e.BitString({name:i.signatureValue||""})]})}fromSchema(a){(0,t.clearProps)(a,["acinfo","signatureAlgorithm","signatureValue"]);const i=e.compareSchema(a,a,g.schema({names:{acinfo:{names:{blockName:"acinfo"}},signatureAlgorithm:{names:{blockName:"signatureAlgorithm"}},signatureValue:"signatureValue"}}));if(!1===i.verified)throw new Error("Object's schema was not verified against input data for AttributeCertificateV2");this.acinfo=new f({schema:i.result.acinfo}),this.signatureAlgorithm=new s.default({schema:i.result.signatureAlgorithm}),this.signatureValue=i.result.signatureValue}toSchema(){return new e.Sequence({value:[this.acinfo.toSchema(),this.signatureAlgorithm.toSchema(),this.signatureValue]})}toJSON(){return{acinfo:this.acinfo.toJSON(),signatureAlgorithm:this.signatureAlgorithm.toJSON(),signatureValue:this.signatureValue.toJSON()}}}exports.default=g;
},{"asn1js":"h7Xx","pvutils":"V6vO","./GeneralNames.js":"pY44","./AlgorithmIdentifier.js":"D4jV","./Attribute.js":"stBO","./Extensions.js":"wMRS","./AttributeCertificateV1.js":"kLWM"}],"vpMe":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=s(require("asn1js")),t=require("pvutils"),r=u(require("./Certificate.js")),a=u(require("./AttributeCertificateV2.js"));function u(e){return e&&e.__esModule?e:{default:e}}function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(c=function(e){return e?r:t})(e)}function s(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=c(t);if(r&&r.has(e))return r.get(e);var a={},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var l=u?Object.getOwnPropertyDescriptor(e,s):null;l&&(l.get||l.set)?Object.defineProperty(a,s,l):a[s]=e[s]}return a.default=e,r&&r.set(e,a),a}class l{constructor(e={}){this.certId=(0,t.getParametersValue)(e,"certId",l.defaultValues("certId")),this.certValue=(0,t.getParametersValue)(e,"certValue",l.defaultValues("certValue")),"parsedValue"in e&&(this.parsedValue=(0,t.getParametersValue)(e,"parsedValue",l.defaultValues("parsedValue"))),"schema"in e&&this.fromSchema(e.schema)}static defaultValues(t){switch(t){case"certId":return"";case"certValue":return new e.Any;case"parsedValue":return{};default:throw new Error(`Invalid member name for CertBag class: ${t}`)}}static compareWithDefault(t,r){switch(t){case"certId":return""===r;case"certValue":return r instanceof e.Any;case"parsedValue":return r instanceof Object&&0===Object.keys(r).length;default:throw new Error(`Invalid member name for CertBag class: ${t}`)}}static schema(r={}){const a=(0,t.getParametersValue)(r,"names",{});return new e.Sequence({name:a.blockName||"",value:[new e.ObjectIdentifier({name:a.id||"id"}),new e.Constructed({idBlock:{tagClass:3,tagNumber:0},value:[new e.Any({name:a.value||"value"})]})]})}fromSchema(u){(0,t.clearProps)(u,["certId","certValue"]);const c=e.compareSchema(u,u,l.schema({names:{id:"certId",value:"certValue"}}));if(!1===c.verified)throw new Error("Object's schema was not verified against input data for CertBag");switch(this.certId=c.result.certId.valueBlock.toString(),this.certValue=c.result.certValue,this.certId){case"1.2.840.113549.1.9.22.1":{const t=e.fromBER(this.certValue.valueBlock.valueHex);try{this.parsedValue=new r.default({schema:t.result})}catch(s){this.parsedValue=new a.default({schema:t.result})}}break;case"1.2.840.113549.1.9.22.3":{const t=e.fromBER(this.certValue.valueBlock.valueHex);this.parsedValue=new a.default({schema:t.result})}break;case"1.2.840.113549.1.9.22.2":default:throw new Error(`Incorrect "certId" value in CertBag: ${this.certId}`)}}toSchema(){return"parsedValue"in this&&("acinfo"in this.parsedValue?this.certId="1.2.840.113549.1.9.22.3":this.certId="1.2.840.113549.1.9.22.1",this.certValue=new e.OctetString({valueHex:this.parsedValue.toSchema().toBER(!1)})),new e.Sequence({value:[new e.ObjectIdentifier({value:this.certId}),new e.Constructed({idBlock:{tagClass:3,tagNumber:0},value:["toSchema"in this.certValue?this.certValue.toSchema():this.certValue]})]})}toJSON(){return{certId:this.certId,certValue:this.certValue.toJSON()}}}exports.default=l;
},{"asn1js":"h7Xx","pvutils":"V6vO","./Certificate.js":"ArbZ","./AttributeCertificateV2.js":"vHsI"}],"xinX":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=i(require("asn1js")),t=require("pvutils"),r=a(require("./Time.js")),n=a(require("./Extensions.js"));function a(e){return e&&e.__esModule?e:{default:e}}function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(s=function(e){return e?r:t})(e)}function i(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=s(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var o=a?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}return n.default=e,r&&r.set(e,n),n}class o{constructor(e={}){this.userCertificate=(0,t.getParametersValue)(e,"userCertificate",o.defaultValues("userCertificate")),this.revocationDate=(0,t.getParametersValue)(e,"revocationDate",o.defaultValues("revocationDate")),"crlEntryExtensions"in e&&(this.crlEntryExtensions=(0,t.getParametersValue)(e,"crlEntryExtensions",o.defaultValues("crlEntryExtensions"))),"schema"in e&&this.fromSchema(e.schema)}static defaultValues(t){switch(t){case"userCertificate":return new e.Integer;case"revocationDate":return new r.default;case"crlEntryExtensions":return new n.default;default:throw new Error(`Invalid member name for RevokedCertificate class: ${t}`)}}static schema(a={}){const s=(0,t.getParametersValue)(a,"names",{});return new e.Sequence({name:s.blockName||"",value:[new e.Integer({name:s.userCertificate||"userCertificate"}),r.default.schema({names:{utcTimeName:s.revocationDate||"revocationDate",generalTimeName:s.revocationDate||"revocationDate"}}),n.default.schema({names:{blockName:s.crlEntryExtensions||"crlEntryExtensions"}},!0)]})}fromSchema(a){(0,t.clearProps)(a,["userCertificate","revocationDate","crlEntryExtensions"]);const s=e.compareSchema(a,a,o.schema());if(!1===s.verified)throw new Error("Object's schema was not verified against input data for RevokedCertificate");this.userCertificate=s.result.userCertificate,this.revocationDate=new r.default({schema:s.result.revocationDate}),"crlEntryExtensions"in s.result&&(this.crlEntryExtensions=new n.default({schema:s.result.crlEntryExtensions}))}toSchema(){const t=[this.userCertificate,this.revocationDate.toSchema()];return"crlEntryExtensions"in this&&t.push(this.crlEntryExtensions.toSchema()),new e.Sequence({value:t})}toJSON(){const e={userCertificate:this.userCertificate.toJSON(),revocationDate:this.revocationDate.toJSON};return"crlEntryExtensions"in this&&(e.crlEntryExtensions=this.crlEntryExtensions.toJSON()),e}}exports.default=o;
},{"asn1js":"h7Xx","pvutils":"V6vO","./Time.js":"GiRj","./Extensions.js":"wMRS"}],"HshX":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=c(require("asn1js")),t=require("pvutils"),s=require("./common.js"),r=o(require("./AlgorithmIdentifier.js")),i=o(require("./RelativeDistinguishedNames.js")),a=o(require("./Time.js")),n=o(require("./RevokedCertificate.js")),u=o(require("./Extensions.js"));function o(e){return e&&e.__esModule?e:{default:e}}function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,s=new WeakMap;return(l=function(e){return e?s:t})(e)}function c(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var s=l(t);if(s&&s.has(e))return s.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var n=i?Object.getOwnPropertyDescriptor(e,a):null;n&&(n.get||n.set)?Object.defineProperty(r,a,n):r[a]=e[a]}return r.default=e,s&&s.set(e,r),r}function h(s={}){const n=(0,t.getParametersValue)(s,"names",{});return new e.Sequence({name:n.blockName||"tbsCertList",value:[new e.Integer({optional:!0,name:n.tbsCertListVersion||"tbsCertList.version",value:2}),r.default.schema(n.signature||{names:{blockName:"tbsCertList.signature"}}),i.default.schema(n.issuer||{names:{blockName:"tbsCertList.issuer"}}),a.default.schema(n.tbsCertListThisUpdate||{names:{utcTimeName:"tbsCertList.thisUpdate",generalTimeName:"tbsCertList.thisUpdate"}}),a.default.schema(n.tbsCertListNextUpdate||{names:{utcTimeName:"tbsCertList.nextUpdate",generalTimeName:"tbsCertList.nextUpdate"}},!0),new e.Sequence({optional:!0,value:[new e.Repeated({name:n.tbsCertListRevokedCertificates||"tbsCertList.revokedCertificates",value:new e.Sequence({value:[new e.Integer,a.default.schema(),u.default.schema({},!0)]})})]}),new e.Constructed({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[u.default.schema(n.crlExtensions||{names:{blockName:"tbsCertList.extensions"}})]})]})}class f{constructor(e={}){this.tbs=(0,t.getParametersValue)(e,"tbs",f.defaultValues("tbs")),this.version=(0,t.getParametersValue)(e,"version",f.defaultValues("version")),this.signature=(0,t.getParametersValue)(e,"signature",f.defaultValues("signature")),this.issuer=(0,t.getParametersValue)(e,"issuer",f.defaultValues("issuer")),this.thisUpdate=(0,t.getParametersValue)(e,"thisUpdate",f.defaultValues("thisUpdate")),"nextUpdate"in e&&(this.nextUpdate=(0,t.getParametersValue)(e,"nextUpdate",f.defaultValues("nextUpdate"))),"revokedCertificates"in e&&(this.revokedCertificates=(0,t.getParametersValue)(e,"revokedCertificates",f.defaultValues("revokedCertificates"))),"crlExtensions"in e&&(this.crlExtensions=(0,t.getParametersValue)(e,"crlExtensions",f.defaultValues("crlExtensions"))),this.signatureAlgorithm=(0,t.getParametersValue)(e,"signatureAlgorithm",f.defaultValues("signatureAlgorithm")),this.signatureValue=(0,t.getParametersValue)(e,"signatureValue",f.defaultValues("signatureValue")),"schema"in e&&this.fromSchema(e.schema)}static defaultValues(t){switch(t){case"tbs":return new ArrayBuffer(0);case"version":return 1;case"signature":return new r.default;case"issuer":return new i.default;case"thisUpdate":case"nextUpdate":return new a.default;case"revokedCertificates":return[];case"crlExtensions":return new u.default;case"signatureAlgorithm":return new r.default;case"signatureValue":return new e.BitString;default:throw new Error(`Invalid member name for CertificateRevocationList class: ${t}`)}}static schema(s={}){const i=(0,t.getParametersValue)(s,"names",{});return new e.Sequence({name:i.blockName||"CertificateList",value:[h(s),r.default.schema(i.signatureAlgorithm||{names:{blockName:"signatureAlgorithm"}}),new e.BitString({name:i.signatureValue||"signatureValue"})]})}fromSchema(s){(0,t.clearProps)(s,["tbsCertList","tbsCertList.version","tbsCertList.signature","tbsCertList.issuer","tbsCertList.thisUpdate","tbsCertList.nextUpdate","tbsCertList.revokedCertificates","tbsCertList.extensions","signatureAlgorithm","signatureValue"]);const o=e.compareSchema(s,s,f.schema());if(!1===o.verified)throw new Error("Object's schema was not verified against input data for CertificateRevocationList");this.tbs=o.result.tbsCertList.valueBeforeDecode,"tbsCertList.version"in o.result&&(this.version=o.result["tbsCertList.version"].valueBlock.valueDec),this.signature=new r.default({schema:o.result["tbsCertList.signature"]}),this.issuer=new i.default({schema:o.result["tbsCertList.issuer"]}),this.thisUpdate=new a.default({schema:o.result["tbsCertList.thisUpdate"]}),"tbsCertList.nextUpdate"in o.result&&(this.nextUpdate=new a.default({schema:o.result["tbsCertList.nextUpdate"]})),"tbsCertList.revokedCertificates"in o.result&&(this.revokedCertificates=Array.from(o.result["tbsCertList.revokedCertificates"],e=>new n.default({schema:e}))),"tbsCertList.extensions"in o.result&&(this.crlExtensions=new u.default({schema:o.result["tbsCertList.extensions"]})),this.signatureAlgorithm=new r.default({schema:o.result.signatureAlgorithm}),this.signatureValue=o.result.signatureValue}encodeTBS(){const t=[];return this.version!==f.defaultValues("version")&&t.push(new e.Integer({value:this.version})),t.push(this.signature.toSchema()),t.push(this.issuer.toSchema()),t.push(this.thisUpdate.toSchema()),"nextUpdate"in this&&t.push(this.nextUpdate.toSchema()),"revokedCertificates"in this&&t.push(new e.Sequence({value:Array.from(this.revokedCertificates,e=>e.toSchema())})),"crlExtensions"in this&&t.push(new e.Constructed({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[this.crlExtensions.toSchema()]})),new e.Sequence({value:t})}toSchema(t=!1){let s;if(!1===t){if(0===this.tbs.length)return f.schema();s=e.fromBER(this.tbs).result}else s=this.encodeTBS();return new e.Sequence({value:[s,this.signatureAlgorithm.toSchema(),this.signatureValue]})}toJSON(){const e={tbs:(0,t.bufferToHexCodes)(this.tbs,0,this.tbs.byteLength),signature:this.signature.toJSON(),issuer:this.issuer.toJSON(),thisUpdate:this.thisUpdate.toJSON(),signatureAlgorithm:this.signatureAlgorithm.toJSON(),signatureValue:this.signatureValue.toJSON()};return this.version!==f.defaultValues("version")&&(e.version=this.version),"nextUpdate"in this&&(e.nextUpdate=this.nextUpdate.toJSON()),"revokedCertificates"in this&&(e.revokedCertificates=Array.from(this.revokedCertificates,e=>e.toJSON())),"crlExtensions"in this&&(e.crlExtensions=this.crlExtensions.toJSON()),e}isCertificateRevoked(e){if(!1===this.issuer.isEqual(e.issuer))return!1;if("revokedCertificates"in this==!1)return!1;for(const t of this.revokedCertificates)if(t.userCertificate.isEqual(e.serialNumber))return!0;return!1}sign(t,r="SHA-1"){if(void 0===t)return Promise.reject("Need to provide a private key for signing");let i,a=Promise.resolve();const n=(0,s.getEngine)();return a=(a=(a=(a=(a=a.then(()=>n.subtle.getSignatureParameters(t,r))).then(e=>{i=e.parameters,this.signature=e.signatureAlgorithm,this.signatureAlgorithm=e.signatureAlgorithm})).then(()=>{this.tbs=this.encodeTBS().toBER(!1)})).then(()=>n.subtle.signWithPrivateKey(this.tbs,t,i))).then(t=>{this.signatureValue=new e.BitString({valueHex:t})})}verify(e={}){let t=Promise.resolve(),r=-1;const i=(0,s.getEngine)();if("issuerCertificate"in e&&(r=e.issuerCertificate.subjectPublicKeyInfo,!1===this.issuer.isEqual(e.issuerCertificate.subject)))return Promise.resolve(!1);if("publicKeyInfo"in e&&(r=e.publicKeyInfo),"subjectPublicKey"in r==!1)return Promise.reject("Issuer's certificate must be provided as an input parameter");if("crlExtensions"in this)for(const s of this.crlExtensions.extensions)if(s.critical&&"parsedValue"in s==!1)return Promise.resolve(!1);return t=t.then(()=>i.subtle.verifyWithPublicKey(this.tbs,this.signatureValue,r,this.signatureAlgorithm))}}exports.default=f;
},{"asn1js":"h7Xx","pvutils":"V6vO","./common.js":"ViMO","./AlgorithmIdentifier.js":"D4jV","./RelativeDistinguishedNames.js":"ZcqL","./Time.js":"GiRj","./RevokedCertificate.js":"xinX","./Extensions.js":"wMRS"}],"d32S":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=u(require("asn1js")),r=require("pvutils"),t=a(require("./CertificateRevocationList.js"));function a(e){return e&&e.__esModule?e:{default:e}}function l(e){if("function"!=typeof WeakMap)return null;var r=new WeakMap,t=new WeakMap;return(l=function(e){return e?t:r})(e)}function u(e,r){if(!r&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=l(r);if(t&&t.has(e))return t.get(e);var a={},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var c in e)if("default"!==c&&Object.prototype.hasOwnProperty.call(e,c)){var s=u?Object.getOwnPropertyDescriptor(e,c):null;s&&(s.get||s.set)?Object.defineProperty(a,c,s):a[c]=e[c]}return a.default=e,t&&t.set(e,a),a}class c{constructor(e={}){this.crlId=(0,r.getParametersValue)(e,"crlId",c.defaultValues("crlId")),this.crlValue=(0,r.getParametersValue)(e,"crlValue",c.defaultValues("crlValue")),"parsedValue"in e&&(this.parsedValue=(0,r.getParametersValue)(e,"parsedValue",c.defaultValues("parsedValue"))),"schema"in e&&this.fromSchema(e.schema)}static defaultValues(r){switch(r){case"crlId":return"";case"crlValue":return new e.Any;case"parsedValue":return{};default:throw new Error(`Invalid member name for CRLBag class: ${r}`)}}static compareWithDefault(r,t){switch(r){case"crlId":return""===t;case"crlValue":return t instanceof e.Any;case"parsedValue":return t instanceof Object&&0===Object.keys(t).length;default:throw new Error(`Invalid member name for CRLBag class: ${r}`)}}static schema(t={}){const a=(0,r.getParametersValue)(t,"names",{});return new e.Sequence({name:a.blockName||"",value:[new e.ObjectIdentifier({name:a.id||"id"}),new e.Constructed({idBlock:{tagClass:3,tagNumber:0},value:[new e.Any({name:a.value||"value"})]})]})}fromSchema(a){(0,r.clearProps)(a,["crlId","crlValue"]);const l=e.compareSchema(a,a,c.schema({names:{id:"crlId",value:"crlValue"}}));if(!1===l.verified)throw new Error("Object's schema was not verified against input data for CRLBag");switch(this.crlId=l.result.crlId.valueBlock.toString(),this.crlValue=l.result.crlValue,this.crlId){case"1.2.840.113549.1.9.23.1":{const r=e.fromBER(this.certValue.valueBlock.valueHex);this.parsedValue=new t.default({schema:r.result})}break;default:throw new Error(`Incorrect "crlId" value in CRLBag: ${this.crlId}`)}}toSchema(){return"parsedValue"in this&&(this.certId="1.2.840.113549.1.9.23.1",this.certValue=new e.OctetString({valueHex:this.parsedValue.toSchema().toBER(!1)})),new e.Sequence({value:[new e.ObjectIdentifier({value:this.crlId}),new e.Constructed({idBlock:{tagClass:3,tagNumber:0},value:[this.crlValue.toSchema()]})]})}toJSON(){return{crlId:this.crlId,crlValue:this.crlValue.toJSON()}}}exports.default=c;
},{"asn1js":"h7Xx","pvutils":"V6vO","./CertificateRevocationList.js":"HshX"}],"LW0A":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=a(require("asn1js")),t=require("pvutils");function r(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(r=function(e){return e?a:t})(e)}function a(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=r(t);if(a&&a.has(e))return a.get(e);var s={},c=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e)if("default"!==u&&Object.prototype.hasOwnProperty.call(e,u)){var n=c?Object.getOwnPropertyDescriptor(e,u):null;n&&(n.get||n.set)?Object.defineProperty(s,u,n):s[u]=e[u]}return s.default=e,a&&a.set(e,s),s}class s{constructor(e={}){this.secretTypeId=(0,t.getParametersValue)(e,"secretTypeId",s.defaultValues("secretTypeId")),this.secretValue=(0,t.getParametersValue)(e,"secretValue",s.defaultValues("secretValue")),"schema"in e&&this.fromSchema(e.schema)}static defaultValues(t){switch(t){case"secretTypeId":return"";case"secretValue":return new e.Any;default:throw new Error(`Invalid member name for SecretBag class: ${t}`)}}static compareWithDefault(t,r){switch(t){case"secretTypeId":return""===r;case"secretValue":return r instanceof e.Any;default:throw new Error(`Invalid member name for SecretBag class: ${t}`)}}static schema(r={}){const a=(0,t.getParametersValue)(r,"names",{});return new e.Sequence({name:a.blockName||"",value:[new e.ObjectIdentifier({name:a.id||"id"}),new e.Constructed({idBlock:{tagClass:3,tagNumber:0},value:[new e.Any({name:a.value||"value"})]})]})}fromSchema(r){(0,t.clearProps)(r,["secretTypeId","secretValue"]);const a=e.compareSchema(r,r,s.schema({names:{id:"secretTypeId",value:"secretValue"}}));if(!1===a.verified)throw new Error("Object's schema was not verified against input data for SecretBag");this.secretTypeId=a.result.secretTypeId.valueBlock.toString(),this.secretValue=a.result.secretValue}toSchema(){return new e.Sequence({value:[new e.ObjectIdentifier({value:this.secretTypeId}),new e.Constructed({idBlock:{tagClass:3,tagNumber:0},value:[this.secretValue.toSchema()]})]})}toJSON(){return{secretTypeId:this.secretTypeId,secretValue:this.secretValue.toJSON()}}}exports.default=s;
},{"asn1js":"h7Xx","pvutils":"V6vO"}],"zgaC":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=c(require("asn1js")),a=require("pvutils"),t=l(require("./Attribute.js")),r=l(require("./PrivateKeyInfo.js")),u=l(require("./PKCS8ShroudedKeyBag.js")),s=l(require("./CertBag.js")),n=l(require("./CRLBag.js")),b=l(require("./SecretBag.js")),i=l(require("./SafeContents.js"));function l(e){return e&&e.__esModule?e:{default:e}}function g(e){if("function"!=typeof WeakMap)return null;var a=new WeakMap,t=new WeakMap;return(g=function(e){return e?t:a})(e)}function c(e,a){if(!a&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=g(a);if(t&&t.has(e))return t.get(e);var r={},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var n=u?Object.getOwnPropertyDescriptor(e,s):null;n&&(n.get||n.set)?Object.defineProperty(r,s,n):r[s]=e[s]}return r.default=e,t&&t.set(e,r),r}class o{constructor(e={}){this.bagId=(0,a.getParametersValue)(e,"bagId",o.defaultValues("bagId")),this.bagValue=(0,a.getParametersValue)(e,"bagValue",o.defaultValues("bagValue")),"bagAttributes"in e&&(this.bagAttributes=(0,a.getParametersValue)(e,"bagAttributes",o.defaultValues("bagAttributes"))),"schema"in e&&this.fromSchema(e.schema)}static defaultValues(a){switch(a){case"bagId":return"";case"bagValue":return new e.Any;case"bagAttributes":return[];default:throw new Error(`Invalid member name for SafeBag class: ${a}`)}}static compareWithDefault(a,t){switch(a){case"bagId":return""===t;case"bagValue":return t instanceof e.Any;case"bagAttributes":return 0===t.length;default:throw new Error(`Invalid member name for SafeBag class: ${a}`)}}static schema(r={}){const u=(0,a.getParametersValue)(r,"names",{});return new e.Sequence({name:u.blockName||"",value:[new e.ObjectIdentifier({name:u.bagId||"bagId"}),new e.Constructed({idBlock:{tagClass:3,tagNumber:0},value:[new e.Any({name:u.bagValue||"bagValue"})]}),new e.Set({optional:!0,value:[new e.Repeated({name:u.bagAttributes||"bagAttributes",value:t.default.schema()})]})]})}fromSchema(l){(0,a.clearProps)(l,["bagId","bagValue","bagAttributes"]);const g=e.compareSchema(l,l,o.schema({names:{bagId:"bagId",bagValue:"bagValue",bagAttributes:"bagAttributes"}}));if(!1===g.verified)throw new Error("Object's schema was not verified against input data for SafeBag");switch(this.bagId=g.result.bagId.valueBlock.toString(),this.bagId){case"1.2.840.113549.1.12.10.1.1":this.bagValue=new r.default({schema:g.result.bagValue});break;case"1.2.840.113549.1.12.10.1.2":this.bagValue=new u.default({schema:g.result.bagValue});break;case"1.2.840.113549.1.12.10.1.3":this.bagValue=new s.default({schema:g.result.bagValue});break;case"1.2.840.113549.1.12.10.1.4":this.bagValue=new n.default({schema:g.result.bagValue});break;case"1.2.840.113549.1.12.10.1.5":this.bagValue=new b.default({schema:g.result.bagValue});break;case"1.2.840.113549.1.12.10.1.6":this.bagValue=new i.default({schema:g.result.bagValue});break;default:throw new Error(`Invalid "bagId" for SafeBag: ${this.bagId}`)}"bagAttributes"in g.result&&(this.bagAttributes=Array.from(g.result.bagAttributes,e=>new t.default({schema:e})))}toSchema(){const a=[new e.ObjectIdentifier({value:this.bagId}),new e.Constructed({idBlock:{tagClass:3,tagNumber:0},value:[this.bagValue.toSchema()]})];return"bagAttributes"in this&&a.push(new e.Set({value:Array.from(this.bagAttributes,e=>e.toSchema())})),new e.Sequence({value:a})}toJSON(){const e={bagId:this.bagId,bagValue:this.bagValue.toJSON()};return"bagAttributes"in this&&(e.bagAttributes=Array.from(this.bagAttributes,e=>e.toJSON())),e}}exports.default=o;
},{"asn1js":"h7Xx","pvutils":"V6vO","./Attribute.js":"stBO","./PrivateKeyInfo.js":"Ow1x","./PKCS8ShroudedKeyBag.js":"hfrw","./CertBag.js":"vpMe","./CRLBag.js":"d32S","./SecretBag.js":"LW0A","./SafeContents.js":"JIm2"}],"JIm2":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=n(require("asn1js")),a=require("pvutils"),t=r(require("./SafeBag.js"));function r(e){return e&&e.__esModule?e:{default:e}}function s(e){if("function"!=typeof WeakMap)return null;var a=new WeakMap,t=new WeakMap;return(s=function(e){return e?t:a})(e)}function n(e,a){if(!a&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=s(a);if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var f in e)if("default"!==f&&Object.prototype.hasOwnProperty.call(e,f)){var o=n?Object.getOwnPropertyDescriptor(e,f):null;o&&(o.get||o.set)?Object.defineProperty(r,f,o):r[f]=e[f]}return r.default=e,t&&t.set(e,r),r}class f{constructor(e={}){this.safeBags=(0,a.getParametersValue)(e,"safeBags",f.defaultValues("safeBags")),"schema"in e&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case"safeBags":return[];default:throw new Error(`Invalid member name for SafeContents class: ${e}`)}}static compareWithDefault(e,a){switch(e){case"safeBags":return 0===a.length;default:throw new Error(`Invalid member name for SafeContents class: ${e}`)}}static schema(r={}){const s=(0,a.getParametersValue)(r,"names",{});return new e.Sequence({name:s.blockName||"",value:[new e.Repeated({name:s.safeBags||"",value:t.default.schema()})]})}fromSchema(r){(0,a.clearProps)(r,["safeBags"]);const s=e.compareSchema(r,r,f.schema({names:{safeBags:"safeBags"}}));if(!1===s.verified)throw new Error("Object's schema was not verified against input data for SafeContents");this.safeBags=Array.from(s.result.safeBags,e=>new t.default({schema:e}))}toSchema(){return new e.Sequence({value:Array.from(this.safeBags,e=>e.toSchema())})}toJSON(){return{safeBags:Array.from(this.safeBags,e=>e.toJSON())}}}exports.default=f;
},{"asn1js":"h7Xx","pvutils":"V6vO","./SafeBag.js":"zgaC"}],"cbH4":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=a(require("asn1js")),t=require("pvutils");function r(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(r=function(e){return e?a:t})(e)}function a(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=r(t);if(a&&a.has(e))return a.get(e);var o={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var i=n?Object.getOwnPropertyDescriptor(e,s):null;i&&(i.get||i.set)?Object.defineProperty(o,s,i):o[s]=e[s]}return o.default=e,a&&a.set(e,o),o}class o{constructor(e={}){this.otherCertFormat=(0,t.getParametersValue)(e,"otherCertFormat",o.defaultValues("otherCertFormat")),this.otherCert=(0,t.getParametersValue)(e,"otherCert",o.defaultValues("otherCert")),"schema"in e&&this.fromSchema(e.schema)}static defaultValues(t){switch(t){case"otherCertFormat":return"";case"otherCert":return new e.Any;default:throw new Error(`Invalid member name for OtherCertificateFormat class: ${t}`)}}static schema(r={}){const a=(0,t.getParametersValue)(r,"names",{});return new e.Sequence({name:a.blockName||"",value:[new e.ObjectIdentifier({name:a.otherCertFormat||"otherCertFormat"}),new e.Any({name:a.otherCert||"otherCert"})]})}fromSchema(r){(0,t.clearProps)(r,["otherCertFormat","otherCert"]);const a=e.compareSchema(r,r,o.schema());if(!1===a.verified)throw new Error("Object's schema was not verified against input data for OtherCertificateFormat");this.otherCertFormat=a.result.otherCertFormat.valueBlock.toString(),this.otherCert=a.result.otherCert}toSchema(){return new e.Sequence({value:[new e.ObjectIdentifier({value:this.otherCertFormat}),this.otherCert]})}toJSON(){const t={otherCertFormat:this.otherCertFormat};return this.otherCert instanceof e.Any||(t.otherCert=this.otherCert.toJSON()),t}}exports.default=o;
},{"asn1js":"h7Xx","pvutils":"V6vO"}],"nZOy":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=n(require("asn1js")),t=require("pvutils"),a=s(require("./Certificate.js")),r=s(require("./AttributeCertificateV1.js")),c=s(require("./AttributeCertificateV2.js")),u=s(require("./OtherCertificateFormat.js"));function s(e){return e&&e.__esModule?e:{default:e}}function i(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(i=function(e){return e?a:t})(e)}function n(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=i(t);if(a&&a.has(e))return a.get(e);var r={},c=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e)if("default"!==u&&Object.prototype.hasOwnProperty.call(e,u)){var s=c?Object.getOwnPropertyDescriptor(e,u):null;s&&(s.get||s.set)?Object.defineProperty(r,u,s):r[u]=e[u]}return r.default=e,a&&a.set(e,r),r}class l{constructor(e={}){this.certificates=(0,t.getParametersValue)(e,"certificates",l.defaultValues("certificates")),"schema"in e&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case"certificates":return[];default:throw new Error(`Invalid member name for Attribute class: ${e}`)}}static schema(s={}){const i=(0,t.getParametersValue)(s,"names",{});return new e.Set({name:i.blockName||"",value:[new e.Repeated({name:i.certificates||"certificates",value:new e.Choice({value:[a.default.schema(),new e.Constructed({idBlock:{tagClass:3,tagNumber:0},value:[new e.Any]}),new e.Constructed({idBlock:{tagClass:3,tagNumber:1},value:r.default.schema().valueBlock.value}),new e.Constructed({idBlock:{tagClass:3,tagNumber:2},value:c.default.schema().valueBlock.value}),new e.Constructed({idBlock:{tagClass:3,tagNumber:3},value:u.default.schema().valueBlock.value})]})})]})}fromSchema(s){(0,t.clearProps)(s,["certificates"]);const i=e.compareSchema(s,s,l.schema());if(!1===i.verified)throw new Error("Object's schema was not verified against input data for CertificateSet");this.certificates=Array.from(i.result.certificates||[],t=>{const s=t.idBlock.tagNumber;if(1===t.idBlock.tagClass)return new a.default({schema:t});const i=new e.Sequence({value:t.valueBlock.value});switch(s){case 1:return new r.default({schema:i});case 2:return new c.default({schema:i});case 3:return new u.default({schema:i})}return t})}toSchema(){return new e.Set({value:Array.from(this.certificates,t=>{switch(!0){case t instanceof a.default:return t.toSchema();case t instanceof r.default:return new e.Constructed({idBlock:{tagClass:3,tagNumber:1},value:t.toSchema().valueBlock.value});case t instanceof c.default:return new e.Constructed({idBlock:{tagClass:3,tagNumber:2},value:t.toSchema().valueBlock.value});case t instanceof u.default:return new e.Constructed({idBlock:{tagClass:3,tagNumber:3},value:t.toSchema().valueBlock.value})}return t})})}toJSON(){return{certificates:Array.from(this.certificates,e=>e.toJSON())}}}exports.default=l;
},{"asn1js":"h7Xx","pvutils":"V6vO","./Certificate.js":"ArbZ","./AttributeCertificateV1.js":"kLWM","./AttributeCertificateV2.js":"vHsI","./OtherCertificateFormat.js":"cbH4"}],"VgPC":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=o(require("asn1js")),t=require("pvutils");function r(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,o=new WeakMap;return(r=function(e){return e?o:t})(e)}function o(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var o=r(t);if(o&&o.has(e))return o.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var f in e)if("default"!==f&&Object.prototype.hasOwnProperty.call(e,f)){var s=a?Object.getOwnPropertyDescriptor(e,f):null;s&&(s.get||s.set)?Object.defineProperty(n,f,s):n[f]=e[f]}return n.default=e,o&&o.set(e,n),n}class n{constructor(e={}){this.otherRevInfoFormat=(0,t.getParametersValue)(e,"otherRevInfoFormat",n.defaultValues("otherRevInfoFormat")),this.otherRevInfo=(0,t.getParametersValue)(e,"otherRevInfo",n.defaultValues("otherRevInfo")),"schema"in e&&this.fromSchema(e.schema)}static defaultValues(t){switch(t){case"otherRevInfoFormat":return"";case"otherRevInfo":return new e.Any;default:throw new Error(`Invalid member name for OtherRevocationInfoFormat class: ${t}`)}}static schema(r={}){const o=(0,t.getParametersValue)(r,"names",{});return new e.Sequence({name:o.blockName||"",value:[new e.ObjectIdentifier({name:o.otherRevInfoFormat||"otherRevInfoFormat"}),new e.Any({name:o.otherRevInfo||"otherRevInfo"})]})}fromSchema(r){(0,t.clearProps)(r,["otherRevInfoFormat","otherRevInfo"]);const o=e.compareSchema(r,r,n.schema());if(!1===o.verified)throw new Error("Object's schema was not verified against input data for OtherRevocationInfoFormat");this.otherRevInfoFormat=o.result.otherRevInfoFormat.valueBlock.toString(),this.otherRevInfo=o.result.otherRevInfo}toSchema(){return new e.Sequence({value:[new e.ObjectIdentifier({value:this.otherRevInfoFormat}),this.otherRevInfo]})}toJSON(){const t={otherRevInfoFormat:this.otherRevInfoFormat};return this.otherRevInfo instanceof e.Any||(t.otherRevInfo=this.otherRevInfo.toJSON()),t}}exports.default=n;
},{"asn1js":"h7Xx","pvutils":"V6vO"}],"yaXO":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=n(require("asn1js")),t=require("pvutils"),r=a(require("./CertificateRevocationList.js")),o=a(require("./OtherRevocationInfoFormat.js"));function a(e){return e&&e.__esModule?e:{default:e}}function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(s=function(e){return e?r:t})(e)}function n(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=s(t);if(r&&r.has(e))return r.get(e);var o={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var n in e)if("default"!==n&&Object.prototype.hasOwnProperty.call(e,n)){var c=a?Object.getOwnPropertyDescriptor(e,n):null;c&&(c.get||c.set)?Object.defineProperty(o,n,c):o[n]=e[n]}return o.default=e,r&&r.set(e,o),o}class c{constructor(e={}){this.crls=(0,t.getParametersValue)(e,"crls",c.defaultValues("crls")),this.otherRevocationInfos=(0,t.getParametersValue)(e,"otherRevocationInfos",c.defaultValues("otherRevocationInfos")),"schema"in e&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case"crls":case"otherRevocationInfos":return[];default:throw new Error(`Invalid member name for RevocationInfoChoices class: ${e}`)}}static schema(o={}){const a=(0,t.getParametersValue)(o,"names",{});return new e.Set({name:a.blockName||"",value:[new e.Repeated({name:a.crls||"",value:new e.Choice({value:[r.default.schema(),new e.Constructed({idBlock:{tagClass:3,tagNumber:1},value:[new e.ObjectIdentifier,new e.Any]})]})})]})}fromSchema(a){(0,t.clearProps)(a,["crls"]);const s=e.compareSchema(a,a,c.schema({names:{crls:"crls"}}));if(!1===s.verified)throw new Error("Object's schema was not verified against input data for RevocationInfoChoices");for(const e of s.result.crls)1===e.idBlock.tagClass?this.crls.push(new r.default({schema:e})):this.otherRevocationInfos.push(new o.default({schema:e}))}toSchema(){const t=[];return t.push(...Array.from(this.crls,e=>e.toSchema())),t.push(...Array.from(this.otherRevocationInfos,e=>{const t=e.toSchema();return t.idBlock.tagClass=3,t.idBlock.tagNumber=1,t})),new e.Set({value:t})}toJSON(){return{crls:Array.from(this.crls,e=>e.toJSON()),otherRevocationInfos:Array.from(this.otherRevocationInfos,e=>e.toJSON())}}}exports.default=c;
},{"asn1js":"h7Xx","pvutils":"V6vO","./CertificateRevocationList.js":"HshX","./OtherRevocationInfoFormat.js":"VgPC"}],"rHVU":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=l(require("asn1js")),t=require("pvutils"),r=s(require("./CertificateSet.js")),a=s(require("./RevocationInfoChoices.js"));function s(e){return e&&e.__esModule?e:{default:e}}function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(c=function(e){return e?r:t})(e)}function l(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=c(t);if(r&&r.has(e))return r.get(e);var a={},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var n=s?Object.getOwnPropertyDescriptor(e,l):null;n&&(n.get||n.set)?Object.defineProperty(a,l,n):a[l]=e[l]}return a.default=e,r&&r.set(e,a),a}class n{constructor(e={}){"certs"in e&&(this.certs=(0,t.getParametersValue)(e,"certs",n.defaultValues("certs"))),"crls"in e&&(this.crls=(0,t.getParametersValue)(e,"crls",n.defaultValues("crls"))),"schema"in e&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case"certs":return new r.default;case"crls":return new a.default;default:throw new Error(`Invalid member name for OriginatorInfo class: ${e}`)}}static compareWithDefault(e,t){switch(e){case"certs":return 0===t.certificates.length;case"crls":return 0===t.crls.length&&0===t.otherRevocationInfos.length;default:throw new Error(`Invalid member name for OriginatorInfo class: ${e}`)}}static schema(s={}){const c=(0,t.getParametersValue)(s,"names",{});return new e.Sequence({name:c.blockName||"",value:[new e.Constructed({name:c.certs||"",optional:!0,idBlock:{tagClass:3,tagNumber:0},value:r.default.schema().valueBlock.value}),new e.Constructed({name:c.crls||"",optional:!0,idBlock:{tagClass:3,tagNumber:1},value:a.default.schema().valueBlock.value})]})}fromSchema(s){(0,t.clearProps)(s,["certs","crls"]);const c=e.compareSchema(s,s,n.schema({names:{certs:"certs",crls:"crls"}}));if(!1===c.verified)throw new Error("Object's schema was not verified against input data for OriginatorInfo");"certs"in c.result&&(this.certs=new r.default({schema:new e.Set({value:c.result.certs.valueBlock.value})})),"crls"in c.result&&(this.crls=new a.default({schema:new e.Set({value:c.result.crls.valueBlock.value})}))}toSchema(){const t=[];return"certs"in this&&t.push(new e.Constructed({idBlock:{tagClass:3,tagNumber:0},value:this.certs.toSchema().valueBlock.value})),"crls"in this&&t.push(new e.Constructed({idBlock:{tagClass:3,tagNumber:1},value:this.crls.toSchema().valueBlock.value})),new e.Sequence({value:t})}toJSON(){const e={};return"certs"in this&&(e.certs=this.certs.toJSON()),"crls"in this&&(e.crls=this.crls.toJSON()),e}}exports.default=n;
},{"asn1js":"h7Xx","pvutils":"V6vO","./CertificateSet.js":"nZOy","./RevocationInfoChoices.js":"yaXO"}],"zQFJ":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=u(require("asn1js")),r=require("pvutils"),s=t(require("./RelativeDistinguishedNames.js"));function t(e){return e&&e.__esModule?e:{default:e}}function a(e){if("function"!=typeof WeakMap)return null;var r=new WeakMap,s=new WeakMap;return(a=function(e){return e?s:r})(e)}function u(e,r){if(!r&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var s=a(r);if(s&&s.has(e))return s.get(e);var t={},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var n=u?Object.getOwnPropertyDescriptor(e,i):null;n&&(n.get||n.set)?Object.defineProperty(t,i,n):t[i]=e[i]}return t.default=e,s&&s.set(e,t),t}class i{constructor(e={}){this.issuer=(0,r.getParametersValue)(e,"issuer",i.defaultValues("issuer")),this.serialNumber=(0,r.getParametersValue)(e,"serialNumber",i.defaultValues("serialNumber")),"schema"in e&&this.fromSchema(e.schema)}static defaultValues(r){switch(r){case"issuer":return new s.default;case"serialNumber":return new e.Integer;default:throw new Error(`Invalid member name for IssuerAndSerialNumber class: ${r}`)}}static schema(t={}){const a=(0,r.getParametersValue)(t,"names",{});return new e.Sequence({name:a.blockName||"",value:[s.default.schema(a.issuer||{}),new e.Integer({name:a.serialNumber||""})]})}fromSchema(t){(0,r.clearProps)(t,["issuer","serialNumber"]);const a=e.compareSchema(t,t,i.schema({names:{issuer:{names:{blockName:"issuer"}},serialNumber:"serialNumber"}}));if(!1===a.verified)throw new Error("Object's schema was not verified against input data for IssuerAndSerialNumber");this.issuer=new s.default({schema:a.result.issuer}),this.serialNumber=a.result.serialNumber}toSchema(){return new e.Sequence({value:[this.issuer.toSchema(),this.serialNumber]})}toJSON(){return{issuer:this.issuer.toJSON(),serialNumber:this.serialNumber.toJSON()}}}exports.default=i;
},{"asn1js":"h7Xx","pvutils":"V6vO","./RelativeDistinguishedNames.js":"ZcqL"}],"uUPS":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=n(require("asn1js")),t=require("pvutils"),a=r(require("./IssuerAndSerialNumber.js"));function r(e){return e&&e.__esModule?e:{default:e}}function i(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(i=function(e){return e?a:t})(e)}function n(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=i(t);if(a&&a.has(e))return a.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var u=n?Object.getOwnPropertyDescriptor(e,s):null;u&&(u.get||u.set)?Object.defineProperty(r,s,u):r[s]=e[s]}return r.default=e,a&&a.set(e,r),r}class s{constructor(e={}){this.variant=(0,t.getParametersValue)(e,"variant",s.defaultValues("variant")),"value"in e&&(this.value=(0,t.getParametersValue)(e,"value",s.defaultValues("value"))),"schema"in e&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case"variant":return-1;case"value":return{};default:throw new Error(`Invalid member name for RecipientIdentifier class: ${e}`)}}static compareWithDefault(e,t){switch(e){case"variant":return-1===t;case"values":return 0===Object.keys(t).length;default:throw new Error(`Invalid member name for RecipientIdentifier class: ${e}`)}}static schema(r={}){const i=(0,t.getParametersValue)(r,"names",{});return new e.Choice({value:[a.default.schema({names:{blockName:i.blockName||""}}),new e.Primitive({name:i.blockName||"",idBlock:{tagClass:3,tagNumber:0}})]})}fromSchema(r){(0,t.clearProps)(r,["blockName"]);const i=e.compareSchema(r,r,s.schema({names:{blockName:"blockName"}}));if(!1===i.verified)throw new Error("Object's schema was not verified against input data for RecipientIdentifier");1===i.result.blockName.idBlock.tagClass?(this.variant=1,this.value=new a.default({schema:i.result.blockName})):(this.variant=2,this.value=new e.OctetString({valueHex:i.result.blockName.valueBlock.valueHex}))}toSchema(){switch(this.variant){case 1:return this.value.toSchema();case 2:return new e.Primitive({idBlock:{tagClass:3,tagNumber:0},valueHex:this.value.valueBlock.valueHex});default:return new e.Any}}toJSON(){const e={variant:this.variant};return 1!==this.variant&&2!==this.variant||(e.value=this.value.toJSON()),e}}exports.default=s;
},{"asn1js":"h7Xx","pvutils":"V6vO","./IssuerAndSerialNumber.js":"zQFJ"}],"xm8t":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=o(require("asn1js")),t=require("pvutils"),r=s(require("./AlgorithmIdentifier.js")),i=s(require("./Certificate.js")),n=s(require("./RecipientIdentifier.js")),a=s(require("./IssuerAndSerialNumber.js"));function s(e){return e&&e.__esModule?e:{default:e}}function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(c=function(e){return e?r:t})(e)}function o(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=c(t);if(r&&r.has(e))return r.get(e);var i={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var s=n?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(i,a,s):i[a]=e[a]}return i.default=e,r&&r.set(e,i),i}class u{constructor(e={}){this.version=(0,t.getParametersValue)(e,"version",u.defaultValues("version")),this.rid=(0,t.getParametersValue)(e,"rid",u.defaultValues("rid")),this.keyEncryptionAlgorithm=(0,t.getParametersValue)(e,"keyEncryptionAlgorithm",u.defaultValues("keyEncryptionAlgorithm")),this.encryptedKey=(0,t.getParametersValue)(e,"encryptedKey",u.defaultValues("encryptedKey")),this.recipientCertificate=(0,t.getParametersValue)(e,"recipientCertificate",u.defaultValues("recipientCertificate")),"schema"in e&&this.fromSchema(e.schema)}static defaultValues(t){switch(t){case"version":return-1;case"rid":return{};case"keyEncryptionAlgorithm":return new r.default;case"encryptedKey":return new e.OctetString;case"recipientCertificate":return new i.default;default:throw new Error(`Invalid member name for KeyTransRecipientInfo class: ${t}`)}}static compareWithDefault(e,t){switch(e){case"version":return t===u.defaultValues("version");case"rid":return 0===Object.keys(t).length;case"keyEncryptionAlgorithm":case"encryptedKey":return t.isEqual(u.defaultValues(e));case"recipientCertificate":return!1;default:throw new Error(`Invalid member name for KeyTransRecipientInfo class: ${e}`)}}static schema(i={}){const a=(0,t.getParametersValue)(i,"names",{});return new e.Sequence({name:a.blockName||"",value:[new e.Integer({name:a.version||""}),n.default.schema(a.rid||{}),r.default.schema(a.keyEncryptionAlgorithm||{}),new e.OctetString({name:a.encryptedKey||""})]})}fromSchema(i){(0,t.clearProps)(i,["version","rid","keyEncryptionAlgorithm","encryptedKey"]);const n=e.compareSchema(i,i,u.schema({names:{version:"version",rid:{names:{blockName:"rid"}},keyEncryptionAlgorithm:{names:{blockName:"keyEncryptionAlgorithm"}},encryptedKey:"encryptedKey"}}));if(!1===n.verified)throw new Error("Object's schema was not verified against input data for KeyTransRecipientInfo");this.version=n.result.version.valueBlock.valueDec,3===n.result.rid.idBlock.tagClass?this.rid=new e.OctetString({valueHex:n.result.rid.valueBlock.valueHex}):this.rid=new a.default({schema:n.result.rid}),this.keyEncryptionAlgorithm=new r.default({schema:n.result.keyEncryptionAlgorithm}),this.encryptedKey=n.result.encryptedKey}toSchema(){const t=[];return this.rid instanceof a.default?(this.version=0,t.push(new e.Integer({value:this.version})),t.push(this.rid.toSchema())):(this.version=2,t.push(new e.Integer({value:this.version})),t.push(new e.Primitive({idBlock:{tagClass:3,tagNumber:0},valueHex:this.rid.valueBlock.valueHex}))),t.push(this.keyEncryptionAlgorithm.toSchema()),t.push(this.encryptedKey),new e.Sequence({value:t})}toJSON(){return{version:this.version,rid:this.rid.toJSON(),keyEncryptionAlgorithm:this.keyEncryptionAlgorithm.toJSON(),encryptedKey:this.encryptedKey.toJSON()}}}exports.default=u;
},{"asn1js":"h7Xx","pvutils":"V6vO","./AlgorithmIdentifier.js":"D4jV","./Certificate.js":"ArbZ","./RecipientIdentifier.js":"uUPS","./IssuerAndSerialNumber.js":"zQFJ"}],"ePqs":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=l(require("asn1js")),t=require("pvutils"),r=a(require("./AlgorithmIdentifier.js"));function a(e){return e&&e.__esModule?e:{default:e}}function i(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(i=function(e){return e?r:t})(e)}function l(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=i(t);if(r&&r.has(e))return r.get(e);var a={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e)if("default"!==u&&Object.prototype.hasOwnProperty.call(e,u)){var n=l?Object.getOwnPropertyDescriptor(e,u):null;n&&(n.get||n.set)?Object.defineProperty(a,u,n):a[u]=e[u]}return a.default=e,r&&r.set(e,a),a}class u{constructor(e={}){this.algorithm=(0,t.getParametersValue)(e,"algorithm",u.defaultValues("algorithm")),this.publicKey=(0,t.getParametersValue)(e,"publicKey",u.defaultValues("publicKey")),"schema"in e&&this.fromSchema(e.schema)}static defaultValues(t){switch(t){case"algorithm":return new r.default;case"publicKey":return new e.BitString;default:throw new Error(`Invalid member name for OriginatorPublicKey class: ${t}`)}}static compareWithDefault(e,t){switch(e){case"algorithm":case"publicKey":return t.isEqual(u.defaultValues(e));default:throw new Error(`Invalid member name for OriginatorPublicKey class: ${e}`)}}static schema(a={}){const i=(0,t.getParametersValue)(a,"names",{});return new e.Sequence({name:i.blockName||"",value:[r.default.schema(i.algorithm||{}),new e.BitString({name:i.publicKey||""})]})}fromSchema(a){(0,t.clearProps)(a,["algorithm","publicKey"]);const i=e.compareSchema(a,a,u.schema({names:{algorithm:{names:{blockName:"algorithm"}},publicKey:"publicKey"}}));if(!1===i.verified)throw new Error("Object's schema was not verified against input data for OriginatorPublicKey");this.algorithm=new r.default({schema:i.result.algorithm}),this.publicKey=i.result.publicKey}toSchema(){return new e.Sequence({value:[this.algorithm.toSchema(),this.publicKey]})}toJSON(){return{algorithm:this.algorithm.toJSON(),publicKey:this.publicKey.toJSON()}}}exports.default=u;
},{"asn1js":"h7Xx","pvutils":"V6vO","./AlgorithmIdentifier.js":"D4jV"}],"yvK6":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=i(require("asn1js")),a=require("pvutils"),t=s(require("./IssuerAndSerialNumber.js")),r=s(require("./OriginatorPublicKey.js"));function s(e){return e&&e.__esModule?e:{default:e}}function l(e){if("function"!=typeof WeakMap)return null;var a=new WeakMap,t=new WeakMap;return(l=function(e){return e?t:a})(e)}function i(e,a){if(!a&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=l(a);if(t&&t.has(e))return t.get(e);var r={},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var u=s?Object.getOwnPropertyDescriptor(e,i):null;u&&(u.get||u.set)?Object.defineProperty(r,i,u):r[i]=e[i]}return r.default=e,t&&t.set(e,r),r}class u{constructor(e={}){this.variant=(0,a.getParametersValue)(e,"variant",u.defaultValues("variant")),"value"in e&&(this.value=(0,a.getParametersValue)(e,"value",u.defaultValues("value"))),"schema"in e&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case"variant":return-1;case"value":return{};default:throw new Error(`Invalid member name for OriginatorIdentifierOrKey class: ${e}`)}}static compareWithDefault(e,a){switch(e){case"variant":return-1===a;case"value":return 0===Object.keys(a).length;default:throw new Error(`Invalid member name for OriginatorIdentifierOrKey class: ${e}`)}}static schema(s={}){const l=(0,a.getParametersValue)(s,"names",{});return new e.Choice({value:[t.default.schema({names:{blockName:l.blockName||""}}),new e.Primitive({idBlock:{tagClass:3,tagNumber:0},name:l.blockName||""}),new e.Constructed({idBlock:{tagClass:3,tagNumber:1},name:l.blockName||"",value:r.default.schema().valueBlock.value})]})}fromSchema(s){(0,a.clearProps)(s,["blockName"]);const l=e.compareSchema(s,s,u.schema({names:{blockName:"blockName"}}));if(!1===l.verified)throw new Error("Object's schema was not verified against input data for OriginatorIdentifierOrKey");1===l.result.blockName.idBlock.tagClass?(this.variant=1,this.value=new t.default({schema:l.result.blockName})):0===l.result.blockName.idBlock.tagNumber?(l.result.blockName.idBlock.tagClass=1,l.result.blockName.idBlock.tagNumber=4,this.variant=2,this.value=l.result.blockName):(this.variant=3,this.value=new r.default({schema:new e.Sequence({value:l.result.blockName.valueBlock.value})}))}toSchema(){switch(this.variant){case 1:return this.value.toSchema();case 2:return this.value.idBlock.tagClass=3,this.value.idBlock.tagNumber=0,this.value;case 3:{const e=this.value.toSchema();return e.idBlock.tagClass=3,e.idBlock.tagNumber=1,e}default:return new e.Any}}toJSON(){const e={variant:this.variant};return 1!==this.variant&&2!==this.variant&&3!==this.variant||(e.value=this.value.toJSON()),e}}exports.default=u;
},{"asn1js":"h7Xx","pvutils":"V6vO","./IssuerAndSerialNumber.js":"zQFJ","./OriginatorPublicKey.js":"ePqs"}],"SXgS":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=a(require("asn1js")),e=require("pvutils");function r(t){if("function"!=typeof WeakMap)return null;var e=new WeakMap,a=new WeakMap;return(r=function(t){return t?a:e})(t)}function a(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var a=r(e);if(a&&a.has(t))return a.get(t);var n={},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in t)if("default"!==i&&Object.prototype.hasOwnProperty.call(t,i)){var u=s?Object.getOwnPropertyDescriptor(t,i):null;u&&(u.get||u.set)?Object.defineProperty(n,i,u):n[i]=t[i]}return n.default=t,a&&a.set(t,n),n}class n{constructor(t={}){this.keyAttrId=(0,e.getParametersValue)(t,"keyAttrId",n.defaultValues("keyAttrId")),"keyAttr"in t&&(this.keyAttr=(0,e.getParametersValue)(t,"keyAttr",n.defaultValues("keyAttr"))),"schema"in t&&this.fromSchema(t.schema)}static defaultValues(t){switch(t){case"keyAttrId":return"";case"keyAttr":return{};default:throw new Error(`Invalid member name for OtherKeyAttribute class: ${t}`)}}static compareWithDefault(t,e){switch(t){case"keyAttrId":return""===e;case"keyAttr":return 0===Object.keys(e).length;default:throw new Error(`Invalid member name for OtherKeyAttribute class: ${t}`)}}static schema(r={}){const a=(0,e.getParametersValue)(r,"names",{});return new t.Sequence({optional:a.optional||!0,name:a.blockName||"",value:[new t.ObjectIdentifier({name:a.keyAttrId||""}),new t.Any({optional:!0,name:a.keyAttr||""})]})}fromSchema(r){(0,e.clearProps)(r,["keyAttrId","keyAttr"]);const a=t.compareSchema(r,r,n.schema({names:{keyAttrId:"keyAttrId",keyAttr:"keyAttr"}}));if(!1===a.verified)throw new Error("Object's schema was not verified against input data for OtherKeyAttribute");this.keyAttrId=a.result.keyAttrId.valueBlock.toString(),"keyAttr"in a.result&&(this.keyAttr=a.result.keyAttr)}toSchema(){const e=[];return e.push(new t.ObjectIdentifier({value:this.keyAttrId})),"keyAttr"in this&&e.push(this.keyAttr),new t.Sequence({value:e})}toJSON(){const t={keyAttrId:this.keyAttrId};return"keyAttr"in this&&(t.keyAttr=this.keyAttr.toJSON()),t}}exports.default=n;
},{"asn1js":"h7Xx","pvutils":"V6vO"}],"JVaQ":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=n(require("asn1js")),t=require("pvutils"),r=a(require("./OtherKeyAttribute.js"));function a(e){return e&&e.__esModule?e:{default:e}}function i(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(i=function(e){return e?r:t})(e)}function n(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=i(t);if(r&&r.has(e))return r.get(e);var a={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var u=n?Object.getOwnPropertyDescriptor(e,s):null;u&&(u.get||u.set)?Object.defineProperty(a,s,u):a[s]=e[s]}return a.default=e,r&&r.set(e,a),a}class s{constructor(e={}){this.subjectKeyIdentifier=(0,t.getParametersValue)(e,"subjectKeyIdentifier",s.defaultValues("subjectKeyIdentifier")),"date"in e&&(this.date=(0,t.getParametersValue)(e,"date",s.defaultValues("date"))),"other"in e&&(this.other=(0,t.getParametersValue)(e,"other",s.defaultValues("other"))),"schema"in e&&this.fromSchema(e.schema)}static defaultValues(t){switch(t){case"subjectKeyIdentifier":return new e.OctetString;case"date":return new e.GeneralizedTime;case"other":return new r.default;default:throw new Error(`Invalid member name for RecipientKeyIdentifier class: ${t}`)}}static compareWithDefault(e,t){switch(e){case"subjectKeyIdentifier":return t.isEqual(s.defaultValues("subjectKeyIdentifier"));case"date":return 0===t.year&&0===t.month&&0===t.day&&0===t.hour&&0===t.minute&&0===t.second&&0===t.millisecond;case"other":return""===t.keyAttrId&&"keyAttr"in t==!1;default:throw new Error(`Invalid member name for RecipientKeyIdentifier class: ${e}`)}}static schema(a={}){const i=(0,t.getParametersValue)(a,"names",{});return new e.Sequence({name:i.blockName||"",value:[new e.OctetString({name:i.subjectKeyIdentifier||""}),new e.GeneralizedTime({optional:!0,name:i.date||""}),r.default.schema(i.other||{})]})}fromSchema(a){(0,t.clearProps)(a,["subjectKeyIdentifier","date","other"]);const i=e.compareSchema(a,a,s.schema({names:{subjectKeyIdentifier:"subjectKeyIdentifier",date:"date",other:{names:{blockName:"other"}}}}));if(!1===i.verified)throw new Error("Object's schema was not verified against input data for RecipientKeyIdentifier");this.subjectKeyIdentifier=i.result.subjectKeyIdentifier,"date"in i.result&&(this.date=i.result.date),"other"in i.result&&(this.other=new r.default({schema:i.result.other}))}toSchema(){const t=[];return t.push(this.subjectKeyIdentifier),"date"in this&&t.push(this.date),"other"in this&&t.push(this.other.toSchema()),new e.Sequence({value:t})}toJSON(){const e={subjectKeyIdentifier:this.subjectKeyIdentifier.toJSON()};return"date"in this&&(e.date=this.date),"other"in this&&(e.other=this.other.toJSON()),e}}exports.default=s;
},{"asn1js":"h7Xx","pvutils":"V6vO","./OtherKeyAttribute.js":"SXgS"}],"JO0E":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=u(require("asn1js")),a=require("pvutils"),t=n(require("./IssuerAndSerialNumber.js")),r=n(require("./RecipientKeyIdentifier.js"));function n(e){return e&&e.__esModule?e:{default:e}}function s(e){if("function"!=typeof WeakMap)return null;var a=new WeakMap,t=new WeakMap;return(s=function(e){return e?t:a})(e)}function u(e,a){if(!a&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=s(a);if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e)if("default"!==u&&Object.prototype.hasOwnProperty.call(e,u)){var i=n?Object.getOwnPropertyDescriptor(e,u):null;i&&(i.get||i.set)?Object.defineProperty(r,u,i):r[u]=e[u]}return r.default=e,t&&t.set(e,r),r}class i{constructor(e={}){this.variant=(0,a.getParametersValue)(e,"variant",i.defaultValues("variant")),this.value=(0,a.getParametersValue)(e,"value",i.defaultValues("value")),"schema"in e&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case"variant":return-1;case"value":return{};default:throw new Error(`Invalid member name for KeyAgreeRecipientIdentifier class: ${e}`)}}static compareWithDefault(e,a){switch(e){case"variant":return-1===a;case"value":return 0===Object.keys(a).length;default:throw new Error(`Invalid member name for KeyAgreeRecipientIdentifier class: ${e}`)}}static schema(n={}){const s=(0,a.getParametersValue)(n,"names",{});return new e.Choice({value:[t.default.schema(s.issuerAndSerialNumber||{names:{blockName:s.blockName||""}}),new e.Constructed({name:s.blockName||"",idBlock:{tagClass:3,tagNumber:0},value:r.default.schema(s.rKeyId||{names:{blockName:s.blockName||""}}).valueBlock.value})]})}fromSchema(n){(0,a.clearProps)(n,["blockName"]);const s=e.compareSchema(n,n,i.schema({names:{blockName:"blockName"}}));if(!1===s.verified)throw new Error("Object's schema was not verified against input data for KeyAgreeRecipientIdentifier");1===s.result.blockName.idBlock.tagClass?(this.variant=1,this.value=new t.default({schema:s.result.blockName})):(this.variant=2,this.value=new r.default({schema:new e.Sequence({value:s.result.blockName.valueBlock.value})}))}toSchema(){switch(this.variant){case 1:return this.value.toSchema();case 2:return new e.Constructed({idBlock:{tagClass:3,tagNumber:0},value:this.value.toSchema().valueBlock.value});default:return new e.Any}}toJSON(){const e={variant:this.variant};return 1!==this.variant&&2!==this.variant||(e.value=this.value.toJSON()),e}}exports.default=i;
},{"asn1js":"h7Xx","pvutils":"V6vO","./IssuerAndSerialNumber.js":"zQFJ","./RecipientKeyIdentifier.js":"JVaQ"}],"Id27":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=c(require("asn1js")),t=require("pvutils"),r=n(require("./KeyAgreeRecipientIdentifier.js"));function n(e){return e&&e.__esModule?e:{default:e}}function a(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(a=function(e){return e?r:t})(e)}function c(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=a(t);if(r&&r.has(e))return r.get(e);var n={},c=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var s=c?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(n,i,s):n[i]=e[i]}return n.default=e,r&&r.set(e,n),n}class i{constructor(e={}){this.rid=(0,t.getParametersValue)(e,"rid",i.defaultValues("rid")),this.encryptedKey=(0,t.getParametersValue)(e,"encryptedKey",i.defaultValues("encryptedKey")),"schema"in e&&this.fromSchema(e.schema)}static defaultValues(t){switch(t){case"rid":return new r.default;case"encryptedKey":return new e.OctetString;default:throw new Error(`Invalid member name for RecipientEncryptedKey class: ${t}`)}}static compareWithDefault(e,t){switch(e){case"rid":return-1===t.variant&&"value"in t==!1;case"encryptedKey":return t.isEqual(i.defaultValues("encryptedKey"));default:throw new Error(`Invalid member name for RecipientEncryptedKey class: ${e}`)}}static schema(n={}){const a=(0,t.getParametersValue)(n,"names",{});return new e.Sequence({name:a.blockName||"",value:[r.default.schema(a.rid||{}),new e.OctetString({name:a.encryptedKey||""})]})}fromSchema(n){(0,t.clearProps)(n,["rid","encryptedKey"]);const a=e.compareSchema(n,n,i.schema({names:{rid:{names:{blockName:"rid"}},encryptedKey:"encryptedKey"}}));if(!1===a.verified)throw new Error("Object's schema was not verified against input data for RecipientEncryptedKey");this.rid=new r.default({schema:a.result.rid}),this.encryptedKey=a.result.encryptedKey}toSchema(){return new e.Sequence({value:[this.rid.toSchema(),this.encryptedKey]})}toJSON(){return{rid:this.rid.toJSON(),encryptedKey:this.encryptedKey.toJSON()}}}exports.default=i;
},{"asn1js":"h7Xx","pvutils":"V6vO","./KeyAgreeRecipientIdentifier.js":"JO0E"}],"PnqX":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=c(require("asn1js")),t=require("pvutils"),r=n(require("./RecipientEncryptedKey.js"));function n(e){return e&&e.__esModule?e:{default:e}}function a(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(a=function(e){return e?r:t})(e)}function c(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=a(t);if(r&&r.has(e))return r.get(e);var n={},c=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var i=c?Object.getOwnPropertyDescriptor(e,s):null;i&&(i.get||i.set)?Object.defineProperty(n,s,i):n[s]=e[s]}return n.default=e,r&&r.set(e,n),n}class s{constructor(e={}){this.encryptedKeys=(0,t.getParametersValue)(e,"encryptedKeys",s.defaultValues("encryptedKeys")),"schema"in e&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case"encryptedKeys":return[];default:throw new Error(`Invalid member name for RecipientEncryptedKeys class: ${e}`)}}static compareWithDefault(e,t){switch(e){case"encryptedKeys":return 0===t.length;default:throw new Error(`Invalid member name for RecipientEncryptedKeys class: ${e}`)}}static schema(n={}){const a=(0,t.getParametersValue)(n,"names",{});return new e.Sequence({name:a.blockName||"",value:[new e.Repeated({name:a.RecipientEncryptedKeys||"",value:r.default.schema()})]})}fromSchema(n){(0,t.clearProps)(n,["RecipientEncryptedKeys"]);const a=e.compareSchema(n,n,s.schema({names:{RecipientEncryptedKeys:"RecipientEncryptedKeys"}}));if(!1===a.verified)throw new Error("Object's schema was not verified against input data for RecipientEncryptedKeys");this.encryptedKeys=Array.from(a.result.RecipientEncryptedKeys,e=>new r.default({schema:e}))}toSchema(){return new e.Sequence({value:Array.from(this.encryptedKeys,e=>e.toSchema())})}toJSON(){return{encryptedKeys:Array.from(this.encryptedKeys,e=>e.toJSON())}}}exports.default=s;
},{"asn1js":"h7Xx","pvutils":"V6vO","./RecipientEncryptedKey.js":"Id27"}],"XEda":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=o(require("asn1js")),t=require("pvutils"),r=s(require("./OriginatorIdentifierOrKey.js")),i=s(require("./AlgorithmIdentifier.js")),n=s(require("./RecipientEncryptedKeys.js")),a=s(require("./Certificate.js"));function s(e){return e&&e.__esModule?e:{default:e}}function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(c=function(e){return e?r:t})(e)}function o(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=c(t);if(r&&r.has(e))return r.get(e);var i={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var s=n?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(i,a,s):i[a]=e[a]}return i.default=e,r&&r.set(e,i),i}class u{constructor(e={}){this.version=(0,t.getParametersValue)(e,"version",u.defaultValues("version")),this.originator=(0,t.getParametersValue)(e,"originator",u.defaultValues("originator")),"ukm"in e&&(this.ukm=(0,t.getParametersValue)(e,"ukm",u.defaultValues("ukm"))),this.keyEncryptionAlgorithm=(0,t.getParametersValue)(e,"keyEncryptionAlgorithm",u.defaultValues("keyEncryptionAlgorithm")),this.recipientEncryptedKeys=(0,t.getParametersValue)(e,"recipientEncryptedKeys",u.defaultValues("recipientEncryptedKeys")),this.recipientCertificate=(0,t.getParametersValue)(e,"recipientCertificate",u.defaultValues("recipientCertificate")),this.recipientPublicKey=(0,t.getParametersValue)(e,"recipientPublicKey",u.defaultValues("recipientPublicKey")),"schema"in e&&this.fromSchema(e.schema)}static defaultValues(t){switch(t){case"version":return 0;case"originator":return new r.default;case"ukm":return new e.OctetString;case"keyEncryptionAlgorithm":return new i.default;case"recipientEncryptedKeys":return new n.default;case"recipientCertificate":return new a.default;case"recipientPublicKey":return null;default:throw new Error(`Invalid member name for KeyAgreeRecipientInfo class: ${t}`)}}static compareWithDefault(e,t){switch(e){case"version":return 0===t;case"originator":return-1===t.variant&&"value"in t==!1;case"ukm":return t.isEqual(u.defaultValues("ukm"));case"keyEncryptionAlgorithm":return""===t.algorithmId&&"algorithmParams"in t==!1;case"recipientEncryptedKeys":return 0===t.encryptedKeys.length;case"recipientCertificate":case"recipientPublicKey":return!1;default:throw new Error(`Invalid member name for KeyAgreeRecipientInfo class: ${e}`)}}static schema(a={}){const s=(0,t.getParametersValue)(a,"names",{});return new e.Sequence({name:s.blockName||"",value:[new e.Integer({name:s.version||""}),new e.Constructed({idBlock:{tagClass:3,tagNumber:0},value:[r.default.schema(s.originator||{})]}),new e.Constructed({optional:!0,idBlock:{tagClass:3,tagNumber:1},value:[new e.OctetString({name:s.ukm||""})]}),i.default.schema(s.keyEncryptionAlgorithm||{}),n.default.schema(s.recipientEncryptedKeys||{})]})}fromSchema(a){(0,t.clearProps)(a,["version","originator","ukm","keyEncryptionAlgorithm","recipientEncryptedKeys"]);const s=e.compareSchema(a,a,u.schema({names:{version:"version",originator:{names:{blockName:"originator"}},ukm:"ukm",keyEncryptionAlgorithm:{names:{blockName:"keyEncryptionAlgorithm"}},recipientEncryptedKeys:{names:{blockName:"recipientEncryptedKeys"}}}}));if(!1===s.verified)throw new Error("Object's schema was not verified against input data for KeyAgreeRecipientInfo");this.version=s.result.version.valueBlock.valueDec,this.originator=new r.default({schema:s.result.originator}),"ukm"in s.result&&(this.ukm=s.result.ukm),this.keyEncryptionAlgorithm=new i.default({schema:s.result.keyEncryptionAlgorithm}),this.recipientEncryptedKeys=new n.default({schema:s.result.recipientEncryptedKeys})}toSchema(){const t=[];return t.push(new e.Integer({value:this.version})),t.push(new e.Constructed({idBlock:{tagClass:3,tagNumber:0},value:[this.originator.toSchema()]})),"ukm"in this&&t.push(new e.Constructed({optional:!0,idBlock:{tagClass:3,tagNumber:1},value:[this.ukm]})),t.push(this.keyEncryptionAlgorithm.toSchema()),t.push(this.recipientEncryptedKeys.toSchema()),new e.Sequence({value:t})}toJSON(){const e={version:this.version,originator:this.originator.toJSON()};return"ukm"in this&&(e.ukm=this.ukm.toJSON()),e.keyEncryptionAlgorithm=this.keyEncryptionAlgorithm.toJSON(),e.recipientEncryptedKeys=this.recipientEncryptedKeys.toJSON(),e}}exports.default=u;
},{"asn1js":"h7Xx","pvutils":"V6vO","./OriginatorIdentifierOrKey.js":"yvK6","./AlgorithmIdentifier.js":"D4jV","./RecipientEncryptedKeys.js":"PnqX","./Certificate.js":"ArbZ"}],"R23S":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=n(require("asn1js")),t=require("pvutils"),r=a(require("./OtherKeyAttribute.js"));function a(e){return e&&e.__esModule?e:{default:e}}function i(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(i=function(e){return e?r:t})(e)}function n(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=i(t);if(r&&r.has(e))return r.get(e);var a={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var o=n?Object.getOwnPropertyDescriptor(e,s):null;o&&(o.get||o.set)?Object.defineProperty(a,s,o):a[s]=e[s]}return a.default=e,r&&r.set(e,a),a}class s{constructor(e={}){this.keyIdentifier=(0,t.getParametersValue)(e,"keyIdentifier",s.defaultValues("keyIdentifier")),"date"in e&&(this.date=(0,t.getParametersValue)(e,"date",s.defaultValues("date"))),"other"in e&&(this.other=(0,t.getParametersValue)(e,"other",s.defaultValues("other"))),"schema"in e&&this.fromSchema(e.schema)}static defaultValues(t){switch(t){case"keyIdentifier":return new e.OctetString;case"date":return new e.GeneralizedTime;case"other":return new r.default;default:throw new Error(`Invalid member name for KEKIdentifier class: ${t}`)}}static compareWithDefault(e,t){switch(e){case"keyIdentifier":return t.isEqual(s.defaultValues("keyIdentifier"));case"date":return 0===t.year&&0===t.month&&0===t.day&&0===t.hour&&0===t.minute&&0===t.second&&0===t.millisecond;case"other":return t.compareWithDefault("keyAttrId",t.keyAttrId)&&"keyAttr"in t==!1;default:throw new Error(`Invalid member name for KEKIdentifier class: ${e}`)}}static schema(a={}){const i=(0,t.getParametersValue)(a,"names",{});return new e.Sequence({name:i.blockName||"",value:[new e.OctetString({name:i.keyIdentifier||""}),new e.GeneralizedTime({optional:!0,name:i.date||""}),r.default.schema(i.other||{})]})}fromSchema(a){(0,t.clearProps)(a,["keyIdentifier","date","other"]);const i=e.compareSchema(a,a,s.schema({names:{keyIdentifier:"keyIdentifier",date:"date",other:{names:{blockName:"other"}}}}));if(!1===i.verified)throw new Error("Object's schema was not verified against input data for KEKIdentifier");this.keyIdentifier=i.result.keyIdentifier,"date"in i.result&&(this.date=i.result.date),"other"in i.result&&(this.other=new r.default({schema:i.result.other}))}toSchema(){const t=[];return t.push(this.keyIdentifier),"date"in this&&t.push(this.date),"other"in this&&t.push(this.other.toSchema()),new e.Sequence({value:t})}toJSON(){const e={keyIdentifier:this.keyIdentifier.toJSON()};return"date"in this&&(e.date=this.date),"other"in this&&(e.other=this.other.toJSON()),e}}exports.default=s;
},{"asn1js":"h7Xx","pvutils":"V6vO","./OtherKeyAttribute.js":"SXgS"}],"ZNaN":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=s(require("asn1js")),t=require("pvutils"),r=i(require("./KEKIdentifier.js")),n=i(require("./AlgorithmIdentifier.js"));function i(e){return e&&e.__esModule?e:{default:e}}function a(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(a=function(e){return e?r:t})(e)}function s(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=a(t);if(r&&r.has(e))return r.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var o=i?Object.getOwnPropertyDescriptor(e,s):null;o&&(o.get||o.set)?Object.defineProperty(n,s,o):n[s]=e[s]}return n.default=e,r&&r.set(e,n),n}class o{constructor(e={}){this.version=(0,t.getParametersValue)(e,"version",o.defaultValues("version")),this.kekid=(0,t.getParametersValue)(e,"kekid",o.defaultValues("kekid")),this.keyEncryptionAlgorithm=(0,t.getParametersValue)(e,"keyEncryptionAlgorithm",o.defaultValues("keyEncryptionAlgorithm")),this.encryptedKey=(0,t.getParametersValue)(e,"encryptedKey",o.defaultValues("encryptedKey")),this.preDefinedKEK=(0,t.getParametersValue)(e,"preDefinedKEK",o.defaultValues("preDefinedKEK")),"schema"in e&&this.fromSchema(e.schema)}static defaultValues(t){switch(t){case"version":return 0;case"kekid":return new r.default;case"keyEncryptionAlgorithm":return new n.default;case"encryptedKey":return new e.OctetString;case"preDefinedKEK":return new ArrayBuffer(0);default:throw new Error(`Invalid member name for KEKRecipientInfo class: ${t}`)}}static compareWithDefault(e,t){switch(e){case"KEKRecipientInfo":return t===o.defaultValues("version");case"kekid":return t.compareWithDefault("keyIdentifier",t.keyIdentifier)&&"date"in t==!1&&"other"in t==!1;case"keyEncryptionAlgorithm":return""===t.algorithmId&&"algorithmParams"in t==!1;case"encryptedKey":return t.isEqual(o.defaultValues("encryptedKey"));case"preDefinedKEK":return 0===t.byteLength;default:throw new Error(`Invalid member name for KEKRecipientInfo class: ${e}`)}}static schema(i={}){const a=(0,t.getParametersValue)(i,"names",{});return new e.Sequence({name:a.blockName||"",value:[new e.Integer({name:a.version||""}),r.default.schema(a.kekid||{}),n.default.schema(a.keyEncryptionAlgorithm||{}),new e.OctetString({name:a.encryptedKey||""})]})}fromSchema(i){(0,t.clearProps)(i,["version","kekid","keyEncryptionAlgorithm","encryptedKey"]);const a=e.compareSchema(i,i,o.schema({names:{version:"version",kekid:{names:{blockName:"kekid"}},keyEncryptionAlgorithm:{names:{blockName:"keyEncryptionAlgorithm"}},encryptedKey:"encryptedKey"}}));if(!1===a.verified)throw new Error("Object's schema was not verified against input data for KEKRecipientInfo");this.version=a.result.version.valueBlock.valueDec,this.kekid=new r.default({schema:a.result.kekid}),this.keyEncryptionAlgorithm=new n.default({schema:a.result.keyEncryptionAlgorithm}),this.encryptedKey=a.result.encryptedKey}toSchema(){return new e.Sequence({value:[new e.Integer({value:this.version}),this.kekid.toSchema(),this.keyEncryptionAlgorithm.toSchema(),this.encryptedKey]})}toJSON(){return{version:this.version,kekid:this.kekid.toJSON(),keyEncryptionAlgorithm:this.keyEncryptionAlgorithm.toJSON(),encryptedKey:this.encryptedKey.toJSON()}}}exports.default=o;
},{"asn1js":"h7Xx","pvutils":"V6vO","./KEKIdentifier.js":"R23S","./AlgorithmIdentifier.js":"D4jV"}],"Qb4j":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=a(require("asn1js")),t=require("pvutils"),r=i(require("./AlgorithmIdentifier.js"));function i(e){return e&&e.__esModule?e:{default:e}}function n(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(n=function(e){return e?r:t})(e)}function a(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=n(t);if(r&&r.has(e))return r.get(e);var i={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=a?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(i,o,s):i[o]=e[o]}return i.default=e,r&&r.set(e,i),i}class o{constructor(e={}){this.version=(0,t.getParametersValue)(e,"version",o.defaultValues("version")),"keyDerivationAlgorithm"in e&&(this.keyDerivationAlgorithm=(0,t.getParametersValue)(e,"keyDerivationAlgorithm",o.defaultValues("keyDerivationAlgorithm"))),this.keyEncryptionAlgorithm=(0,t.getParametersValue)(e,"keyEncryptionAlgorithm",o.defaultValues("keyEncryptionAlgorithm")),this.encryptedKey=(0,t.getParametersValue)(e,"encryptedKey",o.defaultValues("encryptedKey")),this.password=(0,t.getParametersValue)(e,"password",o.defaultValues("password")),"schema"in e&&this.fromSchema(e.schema)}static defaultValues(t){switch(t){case"version":return-1;case"keyDerivationAlgorithm":case"keyEncryptionAlgorithm":return new r.default;case"encryptedKey":return new e.OctetString;case"password":return new ArrayBuffer(0);default:throw new Error(`Invalid member name for PasswordRecipientinfo class: ${t}`)}}static compareWithDefault(e,t){switch(e){case"version":return-1===t;case"keyDerivationAlgorithm":case"keyEncryptionAlgorithm":return""===t.algorithmId&&"algorithmParams"in t==!1;case"encryptedKey":return t.isEqual(o.defaultValues("encryptedKey"));case"password":return 0===t.byteLength;default:throw new Error(`Invalid member name for PasswordRecipientinfo class: ${e}`)}}static schema(i={}){const n=(0,t.getParametersValue)(i,"names",{});return new e.Sequence({name:n.blockName||"",value:[new e.Integer({name:n.version||""}),new e.Constructed({name:n.keyDerivationAlgorithm||"",optional:!0,idBlock:{tagClass:3,tagNumber:0},value:r.default.schema().valueBlock.value}),r.default.schema(n.keyEncryptionAlgorithm||{}),new e.OctetString({name:n.encryptedKey||""})]})}fromSchema(i){(0,t.clearProps)(i,["version","keyDerivationAlgorithm","keyEncryptionAlgorithm","encryptedKey"]);const n=e.compareSchema(i,i,o.schema({names:{version:"version",keyDerivationAlgorithm:"keyDerivationAlgorithm",keyEncryptionAlgorithm:{names:{blockName:"keyEncryptionAlgorithm"}},encryptedKey:"encryptedKey"}}));if(!1===n.verified)throw new Error("Object's schema was not verified against input data for PasswordRecipientinfo");this.version=n.result.version.valueBlock.valueDec,"keyDerivationAlgorithm"in n.result&&(this.keyDerivationAlgorithm=new r.default({schema:new e.Sequence({value:n.result.keyDerivationAlgorithm.valueBlock.value})})),this.keyEncryptionAlgorithm=new r.default({schema:n.result.keyEncryptionAlgorithm}),this.encryptedKey=n.result.encryptedKey}toSchema(){const t=[];return t.push(new e.Integer({value:this.version})),"keyDerivationAlgorithm"in this&&t.push(new e.Constructed({idBlock:{tagClass:3,tagNumber:0},value:this.keyDerivationAlgorithm.toSchema().valueBlock.value})),t.push(this.keyEncryptionAlgorithm.toSchema()),t.push(this.encryptedKey),new e.Sequence({value:t})}toJSON(){return{version:this.version,keyDerivationAlgorithm:this.keyDerivationAlgorithm.toJSON(),keyEncryptionAlgorithm:this.keyEncryptionAlgorithm.toJSON(),encryptedKey:this.encryptedKey.toJSON()}}}exports.default=o;
},{"asn1js":"h7Xx","pvutils":"V6vO","./AlgorithmIdentifier.js":"D4jV"}],"MUeQ":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=a(require("asn1js")),r=require("pvutils");function t(e){if("function"!=typeof WeakMap)return null;var r=new WeakMap,a=new WeakMap;return(t=function(e){return e?a:r})(e)}function a(e,r){if(!r&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=t(r);if(a&&a.has(e))return a.get(e);var i={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var n in e)if("default"!==n&&Object.prototype.hasOwnProperty.call(e,n)){var u=o?Object.getOwnPropertyDescriptor(e,n):null;u&&(u.get||u.set)?Object.defineProperty(i,n,u):i[n]=e[n]}return i.default=e,a&&a.set(e,i),i}class i{constructor(e={}){this.oriType=(0,r.getParametersValue)(e,"oriType",i.defaultValues("oriType")),this.oriValue=(0,r.getParametersValue)(e,"oriValue",i.defaultValues("oriValue")),"schema"in e&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case"oriType":return"";case"oriValue":return{};default:throw new Error(`Invalid member name for OtherRecipientInfo class: ${e}`)}}static compareWithDefault(e,r){switch(e){case"oriType":return""===r;case"oriValue":return 0===Object.keys(r).length;default:throw new Error(`Invalid member name for OtherRecipientInfo class: ${e}`)}}static schema(t={}){const a=(0,r.getParametersValue)(t,"names",{});return new e.Sequence({name:a.blockName||"",value:[new e.ObjectIdentifier({name:a.oriType||""}),new e.Any({name:a.oriValue||""})]})}fromSchema(t){(0,r.clearProps)(t,["oriType","oriValue"]);const a=e.compareSchema(t,t,i.schema({names:{oriType:"oriType",oriValue:"oriValue"}}));if(!1===a.verified)throw new Error("Object's schema was not verified against input data for OtherRecipientInfo");this.oriType=a.result.oriType.valueBlock.toString(),this.oriValue=a.result.oriValue}toSchema(){return new e.Sequence({value:[new e.ObjectIdentifier({value:this.oriType}),this.oriValue]})}toJSON(){const e={oriType:this.oriType};return!1===i.compareWithDefault("oriValue",this.oriValue)&&(e.oriValue=this.oriValue.toJSON()),e}}exports.default=i;
},{"asn1js":"h7Xx","pvutils":"V6vO"}],"yH6d":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=i(require("asn1js")),a=require("pvutils"),t=u(require("./KeyTransRecipientInfo.js")),r=u(require("./KeyAgreeRecipientInfo.js")),s=u(require("./KEKRecipientInfo.js")),n=u(require("./PasswordRecipientinfo.js")),l=u(require("./OtherRecipientInfo.js"));function u(e){return e&&e.__esModule?e:{default:e}}function c(e){if("function"!=typeof WeakMap)return null;var a=new WeakMap,t=new WeakMap;return(c=function(e){return e?t:a})(e)}function i(e,a){if(!a&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=c(a);if(t&&t.has(e))return t.get(e);var r={},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var n in e)if("default"!==n&&Object.prototype.hasOwnProperty.call(e,n)){var l=s?Object.getOwnPropertyDescriptor(e,n):null;l&&(l.get||l.set)?Object.defineProperty(r,n,l):r[n]=e[n]}return r.default=e,t&&t.set(e,r),r}class o{constructor(e={}){this.variant=(0,a.getParametersValue)(e,"variant",o.defaultValues("variant")),"value"in e&&(this.value=(0,a.getParametersValue)(e,"value",o.defaultValues("value"))),"schema"in e&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case"variant":return-1;case"value":return{};default:throw new Error(`Invalid member name for RecipientInfo class: ${e}`)}}static compareWithDefault(e,a){switch(e){case"variant":return a===o.defaultValues(e);case"value":return 0===Object.keys(a).length;default:throw new Error(`Invalid member name for RecipientInfo class: ${e}`)}}static schema(u={}){const c=(0,a.getParametersValue)(u,"names",{});return new e.Choice({value:[t.default.schema({names:{blockName:c.blockName||""}}),new e.Constructed({name:c.blockName||"",idBlock:{tagClass:3,tagNumber:1},value:r.default.schema().valueBlock.value}),new e.Constructed({name:c.blockName||"",idBlock:{tagClass:3,tagNumber:2},value:s.default.schema().valueBlock.value}),new e.Constructed({name:c.blockName||"",idBlock:{tagClass:3,tagNumber:3},value:n.default.schema().valueBlock.value}),new e.Constructed({name:c.blockName||"",idBlock:{tagClass:3,tagNumber:4},value:l.default.schema().valueBlock.value})]})}fromSchema(u){(0,a.clearProps)(u,["blockName"]);const c=e.compareSchema(u,u,o.schema({names:{blockName:"blockName"}}));if(!1===c.verified)throw new Error("Object's schema was not verified against input data for RecipientInfo");if(1===c.result.blockName.idBlock.tagClass)this.variant=1,this.value=new t.default({schema:c.result.blockName});else{const a=new e.Sequence({value:c.result.blockName.valueBlock.value});switch(c.result.blockName.idBlock.tagNumber){case 1:this.variant=2,this.value=new r.default({schema:a});break;case 2:this.variant=3,this.value=new s.default({schema:a});break;case 3:this.variant=4,this.value=new n.default({schema:a});break;case 4:this.variant=5,this.value=new l.default({schema:a});break;default:throw new Error("Incorrect structure of RecipientInfo block")}}}toSchema(){const a=this.value.toSchema();switch(this.variant){case 1:return a;case 2:case 3:case 4:return a.idBlock.tagClass=3,a.idBlock.tagNumber=this.variant-1,a;default:return new e.Any}}toJSON(){const e={variant:this.variant};return this.variant>=1&&this.variant<=4&&(e.value=this.value.toJSON()),e}}exports.default=o;
},{"asn1js":"h7Xx","pvutils":"V6vO","./KeyTransRecipientInfo.js":"xm8t","./KeyAgreeRecipientInfo.js":"XEda","./KEKRecipientInfo.js":"ZNaN","./PasswordRecipientinfo.js":"Qb4j","./OtherRecipientInfo.js":"MUeQ"}],"YXMp":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=s(require("asn1js")),t=require("pvutils"),a=r(require("./AlgorithmIdentifier.js"));function r(e){return e&&e.__esModule?e:{default:e}}function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(l=function(e){return e?a:t})(e)}function s(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=l(t);if(a&&a.has(e))return a.get(e);var r={},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var h=s?Object.getOwnPropertyDescriptor(e,o):null;h&&(h.get||h.set)?Object.defineProperty(r,o,h):r[o]=e[o]}return r.default=e,a&&a.set(e,r),r}class o{constructor(e={}){this.hashAlgorithm=(0,t.getParametersValue)(e,"hashAlgorithm",o.defaultValues("hashAlgorithm")),this.maskGenAlgorithm=(0,t.getParametersValue)(e,"maskGenAlgorithm",o.defaultValues("maskGenAlgorithm")),this.pSourceAlgorithm=(0,t.getParametersValue)(e,"pSourceAlgorithm",o.defaultValues("pSourceAlgorithm")),"schema"in e&&this.fromSchema(e.schema)}static defaultValues(t){switch(t){case"hashAlgorithm":return new a.default({algorithmId:"1.3.14.3.2.26",algorithmParams:new e.Null});case"maskGenAlgorithm":return new a.default({algorithmId:"1.2.840.113549.1.1.8",algorithmParams:new a.default({algorithmId:"1.3.14.3.2.26",algorithmParams:new e.Null}).toSchema()});case"pSourceAlgorithm":return new a.default({algorithmId:"1.2.840.113549.1.1.9",algorithmParams:new e.OctetString({valueHex:new Uint8Array([218,57,163,238,94,107,75,13,50,85,191,239,149,96,24,144,175,216,7,9]).buffer})});default:throw new Error(`Invalid member name for RSAESOAEPParams class: ${t}`)}}static schema(r={}){const l=(0,t.getParametersValue)(r,"names",{});return new e.Sequence({name:l.blockName||"",value:[new e.Constructed({idBlock:{tagClass:3,tagNumber:0},optional:!0,value:[a.default.schema(l.hashAlgorithm||{})]}),new e.Constructed({idBlock:{tagClass:3,tagNumber:1},optional:!0,value:[a.default.schema(l.maskGenAlgorithm||{})]}),new e.Constructed({idBlock:{tagClass:3,tagNumber:2},optional:!0,value:[a.default.schema(l.pSourceAlgorithm||{})]})]})}fromSchema(r){(0,t.clearProps)(r,["hashAlgorithm","maskGenAlgorithm","pSourceAlgorithm"]);const l=e.compareSchema(r,r,o.schema({names:{hashAlgorithm:{names:{blockName:"hashAlgorithm"}},maskGenAlgorithm:{names:{blockName:"maskGenAlgorithm"}},pSourceAlgorithm:{names:{blockName:"pSourceAlgorithm"}}}}));if(!1===l.verified)throw new Error("Object's schema was not verified against input data for RSAESOAEPParams");"hashAlgorithm"in l.result&&(this.hashAlgorithm=new a.default({schema:l.result.hashAlgorithm})),"maskGenAlgorithm"in l.result&&(this.maskGenAlgorithm=new a.default({schema:l.result.maskGenAlgorithm})),"pSourceAlgorithm"in l.result&&(this.pSourceAlgorithm=new a.default({schema:l.result.pSourceAlgorithm}))}toSchema(){const t=[];return this.hashAlgorithm.isEqual(o.defaultValues("hashAlgorithm"))||t.push(new e.Constructed({idBlock:{tagClass:3,tagNumber:0},value:[this.hashAlgorithm.toSchema()]})),this.maskGenAlgorithm.isEqual(o.defaultValues("maskGenAlgorithm"))||t.push(new e.Constructed({idBlock:{tagClass:3,tagNumber:1},value:[this.maskGenAlgorithm.toSchema()]})),this.pSourceAlgorithm.isEqual(o.defaultValues("pSourceAlgorithm"))||t.push(new e.Constructed({idBlock:{tagClass:3,tagNumber:2},value:[this.pSourceAlgorithm.toSchema()]})),new e.Sequence({value:t})}toJSON(){const e={};return this.hashAlgorithm.isEqual(o.defaultValues("hashAlgorithm"))||(e.hashAlgorithm=this.hashAlgorithm.toJSON()),this.maskGenAlgorithm.isEqual(o.defaultValues("maskGenAlgorithm"))||(e.maskGenAlgorithm=this.maskGenAlgorithm.toJSON()),this.pSourceAlgorithm.isEqual(o.defaultValues("pSourceAlgorithm"))||(e.pSourceAlgorithm=this.pSourceAlgorithm.toJSON()),e}}exports.default=o;
},{"asn1js":"h7Xx","pvutils":"V6vO","./AlgorithmIdentifier.js":"D4jV"}],"ITDN":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=r(require("asn1js")),t=require("pvutils"),n=a(require("./AlgorithmIdentifier.js"));function a(e){return e&&e.__esModule?e:{default:e}}function o(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(o=function(e){return e?n:t})(e)}function r(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=o(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e)if("default"!==u&&Object.prototype.hasOwnProperty.call(e,u)){var s=r?Object.getOwnPropertyDescriptor(e,u):null;s&&(s.get||s.set)?Object.defineProperty(a,u,s):a[u]=e[u]}return a.default=e,n&&n.set(e,a),a}class u{constructor(e={}){this.keyInfo=(0,t.getParametersValue)(e,"keyInfo",u.defaultValues("keyInfo")),"entityUInfo"in e&&(this.entityUInfo=(0,t.getParametersValue)(e,"entityUInfo",u.defaultValues("entityUInfo"))),this.suppPubInfo=(0,t.getParametersValue)(e,"suppPubInfo",u.defaultValues("suppPubInfo")),"schema"in e&&this.fromSchema(e.schema)}static defaultValues(t){switch(t){case"keyInfo":return new n.default;case"entityUInfo":case"suppPubInfo":return new e.OctetString;default:throw new Error(`Invalid member name for ECCCMSSharedInfo class: ${t}`)}}static compareWithDefault(e,t){switch(e){case"keyInfo":case"entityUInfo":case"suppPubInfo":return t.isEqual(u.defaultValues(e));default:throw new Error(`Invalid member name for ECCCMSSharedInfo class: ${e}`)}}static schema(a={}){const o=(0,t.getParametersValue)(a,"names",{});return new e.Sequence({name:o.blockName||"",value:[n.default.schema(o.keyInfo||{}),new e.Constructed({name:o.entityUInfo||"",idBlock:{tagClass:3,tagNumber:0},optional:!0,value:[new e.OctetString]}),new e.Constructed({name:o.suppPubInfo||"",idBlock:{tagClass:3,tagNumber:2},value:[new e.OctetString]})]})}fromSchema(a){(0,t.clearProps)(a,["keyInfo","entityUInfo","suppPubInfo"]);const o=e.compareSchema(a,a,u.schema({names:{keyInfo:{names:{blockName:"keyInfo"}},entityUInfo:"entityUInfo",suppPubInfo:"suppPubInfo"}}));if(!1===o.verified)throw new Error("Object's schema was not verified against input data for ECCCMSSharedInfo");this.keyInfo=new n.default({schema:o.result.keyInfo}),"entityUInfo"in o.result&&(this.entityUInfo=o.result.entityUInfo.valueBlock.value[0]),this.suppPubInfo=o.result.suppPubInfo.valueBlock.value[0]}toSchema(){const t=[];return t.push(this.keyInfo.toSchema()),"entityUInfo"in this&&t.push(new e.Constructed({idBlock:{tagClass:3,tagNumber:0},value:[this.entityUInfo]})),t.push(new e.Constructed({idBlock:{tagClass:3,tagNumber:2},value:[this.suppPubInfo]})),new e.Sequence({value:t})}toJSON(){const e={keyInfo:this.keyInfo.toJSON()};return"entityUInfo"in this&&(e.entityUInfo=this.entityUInfo.toJSON()),e.suppPubInfo=this.suppPubInfo.toJSON(),e}}exports.default=u;
},{"asn1js":"h7Xx","pvutils":"V6vO","./AlgorithmIdentifier.js":"D4jV"}],"pjkG":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=j(require("asn1js")),t=require("pvutils"),r=require("./common.js"),n=k(require("./OriginatorInfo.js")),i=k(require("./RecipientInfo.js")),o=k(require("./EncryptedContentInfo.js")),a=k(require("./Attribute.js")),c=k(require("./AlgorithmIdentifier.js")),l=k(require("./RSAESOAEPParams.js")),s=k(require("./KeyTransRecipientInfo.js")),m=k(require("./IssuerAndSerialNumber.js")),u=k(require("./RecipientKeyIdentifier.js")),h=k(require("./RecipientEncryptedKey.js")),f=k(require("./KeyAgreeRecipientIdentifier.js")),y=k(require("./KeyAgreeRecipientInfo.js")),p=k(require("./RecipientEncryptedKeys.js")),g=k(require("./KEKRecipientInfo.js")),d=k(require("./KEKIdentifier.js")),I=k(require("./PBKDF2Params.js")),v=k(require("./PasswordRecipientinfo.js")),w=k(require("./ECCCMSSharedInfo.js")),A=k(require("./OriginatorIdentifierOrKey.js")),P=k(require("./OriginatorPublicKey.js"));function k(e){return e&&e.__esModule?e:{default:e}}function E(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(E=function(e){return e?r:t})(e)}function j(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=E(t);if(r&&r.has(e))return r.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var a=i?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(n,o,a):n[o]=e[o]}return n.default=e,r&&r.set(e,n),n}const K={kdfAlgorithm:"SHA-512",kekEncryptionLength:256},D={"P-256":256,"P-384":384,"P-521":528};class O{constructor(e={}){this.version=(0,t.getParametersValue)(e,"version",O.defaultValues("version")),"originatorInfo"in e&&(this.originatorInfo=(0,t.getParametersValue)(e,"originatorInfo",O.defaultValues("originatorInfo"))),this.recipientInfos=(0,t.getParametersValue)(e,"recipientInfos",O.defaultValues("recipientInfos")),this.encryptedContentInfo=(0,t.getParametersValue)(e,"encryptedContentInfo",O.defaultValues("encryptedContentInfo")),"unprotectedAttrs"in e&&(this.unprotectedAttrs=(0,t.getParametersValue)(e,"unprotectedAttrs",O.defaultValues("unprotectedAttrs"))),"schema"in e&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case"version":return 0;case"originatorInfo":return new n.default;case"recipientInfos":return[];case"encryptedContentInfo":return new o.default;case"unprotectedAttrs":return[];default:throw new Error(`Invalid member name for EnvelopedData class: ${e}`)}}static compareWithDefault(e,t){switch(e){case"version":return t===O.defaultValues(e);case"originatorInfo":return 0===t.certs.certificates.length&&0===t.crls.crls.length;case"recipientInfos":case"unprotectedAttrs":return 0===t.length;case"encryptedContentInfo":return o.default.compareWithDefault("contentType",t.contentType)&&o.default.compareWithDefault("contentEncryptionAlgorithm",t.contentEncryptionAlgorithm)&&o.default.compareWithDefault("encryptedContent",t.encryptedContent);default:throw new Error(`Invalid member name for EnvelopedData class: ${e}`)}}static schema(r={}){const c=(0,t.getParametersValue)(r,"names",{});return new e.Sequence({name:c.blockName||"",value:[new e.Integer({name:c.version||""}),new e.Constructed({name:c.originatorInfo||"",optional:!0,idBlock:{tagClass:3,tagNumber:0},value:n.default.schema().valueBlock.value}),new e.Set({value:[new e.Repeated({name:c.recipientInfos||"",value:i.default.schema()})]}),o.default.schema(c.encryptedContentInfo||{}),new e.Constructed({optional:!0,idBlock:{tagClass:3,tagNumber:1},value:[new e.Repeated({name:c.unprotectedAttrs||"",value:a.default.schema()})]})]})}fromSchema(r){(0,t.clearProps)(r,["version","originatorInfo","recipientInfos","encryptedContentInfo","unprotectedAttrs"]);const c=e.compareSchema(r,r,O.schema({names:{version:"version",originatorInfo:"originatorInfo",recipientInfos:"recipientInfos",encryptedContentInfo:{names:{blockName:"encryptedContentInfo"}},unprotectedAttrs:"unprotectedAttrs"}}));if(!1===c.verified)throw new Error("Object's schema was not verified against input data for EnvelopedData");this.version=c.result.version.valueBlock.valueDec,"originatorInfo"in c.result&&(this.originatorInfo=new n.default({schema:new e.Sequence({value:c.result.originatorInfo.valueBlock.value})})),this.recipientInfos=Array.from(c.result.recipientInfos,e=>new i.default({schema:e})),this.encryptedContentInfo=new o.default({schema:c.result.encryptedContentInfo}),"unprotectedAttrs"in c.result&&(this.unprotectedAttrs=Array.from(c.result.unprotectedAttrs,e=>new a.default({schema:e})))}toSchema(){const t=[];return t.push(new e.Integer({value:this.version})),"originatorInfo"in this&&t.push(new e.Constructed({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:this.originatorInfo.toSchema().valueBlock.value})),t.push(new e.Set({value:Array.from(this.recipientInfos,e=>e.toSchema())})),t.push(this.encryptedContentInfo.toSchema()),"unprotectedAttrs"in this&&t.push(new e.Constructed({optional:!0,idBlock:{tagClass:3,tagNumber:1},value:Array.from(this.unprotectedAttrs,e=>e.toSchema())})),new e.Sequence({value:t})}toJSON(){const e={version:this.version};return"originatorInfo"in this&&(e.originatorInfo=this.originatorInfo.toJSON()),e.recipientInfos=Array.from(this.recipientInfos,e=>e.toJSON()),e.encryptedContentInfo=this.encryptedContentInfo.toJSON(),"unprotectedAttrs"in this&&(e.unprotectedAttrs=Array.from(this.unprotectedAttrs,e=>e.toJSON())),e}addRecipientByCertificate(t,n,o){const a=Object.assign({useOAEP:!0,oaepHashAlgorithm:"SHA-512"},K,n||{});if(-1!==t.subjectPublicKeyInfo.algorithm.algorithmId.indexOf("1.2.840.113549"))o=1;else{if(-1===t.subjectPublicKeyInfo.algorithm.algorithmId.indexOf("1.2.840.10045"))throw new Error(`Unknown type of certificate's public key: ${t.subjectPublicKeyInfo.algorithm.algorithmId}`);o=2}switch(o){case 1:{let n,o;if(!0===a.useOAEP){if(""===(n=(0,r.getOIDByAlgorithm)({name:"RSA-OAEP"})))throw new Error("Can not find OID for RSA-OAEP");const t=(0,r.getOIDByAlgorithm)({name:a.oaepHashAlgorithm});if(""===t)throw new Error(`Unknown OAEP hash algorithm: ${a.oaepHashAlgorithm}`);const i=new c.default({algorithmId:t,algorithmParams:new e.Null});o=new l.default({hashAlgorithm:i,maskGenAlgorithm:new c.default({algorithmId:"1.2.840.113549.1.1.8",algorithmParams:i.toSchema()})}).toSchema()}else{if(""===(n=(0,r.getOIDByAlgorithm)({name:"RSAES-PKCS1-v1_5"})))throw new Error("Can not find OID for RSAES-PKCS1-v1_5");o=new e.Null}const u=new s.default({version:0,rid:new m.default({issuer:t.issuer,serialNumber:t.serialNumber}),keyEncryptionAlgorithm:new c.default({algorithmId:n,algorithmParams:o}),recipientCertificate:t});this.recipientInfos.push(new i.default({variant:1,value:u}))}break;case 2:{const e=new f.default({variant:1,value:new m.default({issuer:t.issuer,serialNumber:t.serialNumber})});this._addKeyAgreeRecipientInfo(e,a,{recipientCertificate:t})}break;default:throw new Error(`Unknown "variant" value: ${o}`)}return!0}addRecipientByPreDefinedData(t,n,o){const a=n||{};if(t instanceof ArrayBuffer==!1)throw new Error('Please pass "preDefinedData" in ArrayBuffer type');if(0===t.byteLength)throw new Error("Pre-defined data could have zero length");if("keyIdentifier"in a==!1){const e=new ArrayBuffer(16),t=new Uint8Array(e);(0,r.getRandomValues)(t),a.keyIdentifier=e}switch("hmacHashAlgorithm"in a==!1&&(a.hmacHashAlgorithm="SHA-512"),"iterationCount"in a==!1&&(a.iterationCount=2048),"keyEncryptionAlgorithm"in a==!1&&(a.keyEncryptionAlgorithm={name:"AES-KW",length:256}),"keyEncryptionAlgorithmParams"in a==!1&&(a.keyEncryptionAlgorithmParams=new e.Null),o){case 1:{const n=(0,r.getOIDByAlgorithm)(a.keyEncryptionAlgorithm);if(""===n)throw new Error('Incorrect value for "keyEncryptionAlgorithm"');const o=new g.default({version:4,kekid:new d.default({keyIdentifier:new e.OctetString({valueHex:a.keyIdentifier})}),keyEncryptionAlgorithm:new c.default({algorithmId:n,algorithmParams:a.keyEncryptionAlgorithmParams}),preDefinedKEK:t});this.recipientInfos.push(new i.default({variant:3,value:o}))}break;case 2:{const n=(0,r.getOIDByAlgorithm)({name:"PBKDF2"});if(""===n)throw new Error("Can not find OID for PBKDF2");const o=new ArrayBuffer(64),l=new Uint8Array(o);(0,r.getRandomValues)(l);const s=(0,r.getOIDByAlgorithm)({name:"HMAC",hash:{name:a.hmacHashAlgorithm}});if(""===s)throw new Error(`Incorrect value for "hmacHashAlgorithm": ${a.hmacHashAlgorithm}`);const m=new I.default({salt:new e.OctetString({valueHex:o}),iterationCount:a.iterationCount,prf:new c.default({algorithmId:s,algorithmParams:new e.Null})}),u=(0,r.getOIDByAlgorithm)(a.keyEncryptionAlgorithm);if(""===u)throw new Error('Incorrect value for "keyEncryptionAlgorithm"');const h=new v.default({version:0,keyDerivationAlgorithm:new c.default({algorithmId:n,algorithmParams:m.toSchema()}),keyEncryptionAlgorithm:new c.default({algorithmId:u,algorithmParams:a.keyEncryptionAlgorithmParams}),password:t});this.recipientInfos.push(new i.default({variant:4,value:h}))}break;default:throw new Error(`Unknown value for "variant": ${o}`)}}addRecipientByKeyIdentifier(t,r,n){const i=Object.assign({},K,n||{}),o=new f.default({variant:2,value:new u.default({subjectKeyIdentifier:new e.OctetString({valueHex:r})})});this._addKeyAgreeRecipientInfo(o,i,{recipientPublicKey:t})}_addKeyAgreeRecipientInfo(t,n,o){const a=new h.default({rid:t}),l=(0,r.getOIDByAlgorithm)({name:"AES-KW",length:n.kekEncryptionLength});if(""===l)throw new Error(`Unknown length for key encryption algorithm: ${n.kekEncryptionLength}`);const s=new c.default({algorithmId:l}),m=(0,r.getOIDByAlgorithm)({name:"ECDH",kdf:n.kdfAlgorithm});if(""===m)throw new Error(`Unknown KDF algorithm: ${n.kdfAlgorithm}`);const u=new ArrayBuffer(64),f=new Uint8Array(u);(0,r.getRandomValues)(f);const g={version:3,ukm:new e.OctetString({valueHex:u}),keyEncryptionAlgorithm:new c.default({algorithmId:m,algorithmParams:s.toSchema()}),recipientEncryptedKeys:new p.default({encryptedKeys:[a]})},d=new y.default(Object.assign(g,o));this.recipientInfos.push(new i.default({variant:2,value:d}))}encrypt(t,n){let i=Promise.resolve();const a=new ArrayBuffer(16),s=new Uint8Array(a);(0,r.getRandomValues)(s);const m=new Uint8Array(n);let u,h,f;const y=[],p=this,g=(0,r.getOIDByAlgorithm)(t);if(""===g)return Promise.reject('Wrong "contentEncryptionAlgorithm" value');const d=(0,r.getCrypto)();if(void 0===d)return Promise.reject("Unable to create WebCrypto object");function v(t){let n=Promise.resolve();const i=p.recipientInfos[t];let o,a,l,s,m,h;return n=(n=(n=(n=(n=(n=(n=(n=(n=n.then(()=>{if(i.value.recipientPublicKey)return s=i.value.recipientPublicKey.algorithm.namedCurve,i.value.recipientPublicKey;{const r=i.value.recipientCertificate.subjectPublicKeyInfo.algorithm.algorithmParams;if(r.constructor.blockName()!==e.ObjectIdentifier.blockName())return Promise.reject(`Incorrect "recipientCertificate" for index ${t}`);switch(r.valueBlock.toString()){case"1.2.840.10045.3.1.7":s="P-256";break;case"1.3.132.0.34":s="P-384";break;case"1.3.132.0.35":s="P-521";break;default:return Promise.reject(`Incorrect curve OID for index ${t}`)}return i.value.recipientCertificate.getPublicKey({algorithm:{algorithm:{name:"ECDH",namedCurve:s},usages:[]}})}},e=>Promise.reject(e))).then(e=>(l=e,m=D[s],d.generateKey({name:"ECDH",namedCurve:s},!0,["deriveBits"])),e=>Promise.reject(e))).then(e=>(o=e.publicKey,a=e.privateKey,d.exportKey("spki",o)),e=>Promise.reject(e))).then(e=>{h=e},e=>Promise.reject(e))).then(()=>d.deriveBits({name:"ECDH",public:l},a,m),e=>Promise.reject(e))).then(t=>{const n=new c.default({schema:i.value.keyEncryptionAlgorithm.algorithmParams}),o=(0,r.getAlgorithmByOID)(n.algorithmId);if("name"in o==!1)return Promise.reject(`Incorrect OID for key encryption algorithm: ${n.algorithmId}`);let a=o.length;const l=new ArrayBuffer(4),s=new Uint8Array(l);for(let e=3;e>=0;e--)s[e]=a,a>>=8;const m=new w.default({keyInfo:new c.default({algorithmId:n.algorithmId}),entityUInfo:i.value.ukm,suppPubInfo:new e.OctetString({valueHex:l})}).toSchema().toBER(!1),u=(0,r.getAlgorithmByOID)(i.value.keyEncryptionAlgorithm.algorithmId);return"name"in u==!1?Promise.reject(`Incorrect OID for key encryption algorithm: ${i.value.keyEncryptionAlgorithm.algorithmId}`):(0,r.kdf)(u.kdf,t,o.length,m)},e=>Promise.reject(e))).then(e=>d.importKey("raw",e,{name:"AES-KW"},!0,["wrapKey"]),e=>Promise.reject(e))).then(e=>d.wrapKey("raw",u,e,{name:"AES-KW"}),e=>Promise.reject(e))).then(t=>{const r=e.fromBER(h),n=new A.default;return n.variant=3,n.value=new P.default({schema:r.result}),i.value.originator=n,i.value.recipientEncryptedKeys.encryptedKeys[0].encryptedKey=new e.OctetString({valueHex:t}),{ecdhPrivateKey:a}},e=>Promise.reject(e))}async function k(t){const n=(0,r.getAlgorithmByOID)(p.recipientInfos[t].value.keyEncryptionAlgorithm.algorithmId);if("name"in n==!1)throw new Error(`Unknown keyEncryptionAlgorithm: ${p.recipientInfos[t].value.keyEncryptionAlgorithm.algorithmId}`);if("RSA-OAEP"===n.name){const e=p.recipientInfos[t].value.keyEncryptionAlgorithm.algorithmParams,i=new l.default({schema:e});if(n.hash=(0,r.getAlgorithmByOID)(i.hashAlgorithm.algorithmId),"name"in n.hash==!1)throw new Error(`Incorrect OID for hash algorithm: ${i.hashAlgorithm.algorithmId}`)}try{const r=await p.recipientInfos[t].value.recipientCertificate.getPublicKey({algorithm:{algorithm:n,usages:["encrypt","wrapKey"]}}),o=await d.encrypt(r.algorithm,r,f);p.recipientInfos[t].value.encryptedKey=new e.OctetString({valueHex:o})}catch(i){}}function E(t){let n,i=Promise.resolve();return i=(i=(i=i.then(()=>"name"in(n=(0,r.getAlgorithmByOID)(p.recipientInfos[t].value.keyEncryptionAlgorithm.algorithmId))==!1?Promise.reject(`Incorrect OID for "keyEncryptionAlgorithm": ${p.recipientInfos[t].value.keyEncryptionAlgorithm.algorithmId}`):d.importKey("raw",new Uint8Array(p.recipientInfos[t].value.preDefinedKEK),n,!0,["wrapKey"]),e=>Promise.reject(e))).then(e=>d.wrapKey("raw",u,e,n),e=>Promise.reject(e))).then(r=>{p.recipientInfos[t].value.encryptedKey=new e.OctetString({valueHex:r})},e=>Promise.reject(e))}function j(t){let n,i,o=Promise.resolve();return o=(o=(o=(o=(o=o.then(()=>{if("keyDerivationAlgorithm"in p.recipientInfos[t].value==!1)return Promise.reject('Please append encoded "keyDerivationAlgorithm"');if("algorithmParams"in p.recipientInfos[t].value.keyDerivationAlgorithm==!1)return Promise.reject('Incorrectly encoded "keyDerivationAlgorithm"');try{n=new I.default({schema:p.recipientInfos[t].value.keyDerivationAlgorithm.algorithmParams})}catch(e){return Promise.reject('Incorrectly encoded "keyDerivationAlgorithm"')}return Promise.resolve()},e=>Promise.reject(e))).then(()=>{const e=new Uint8Array(p.recipientInfos[t].value.password);return d.importKey("raw",e,"PBKDF2",!1,["deriveKey"])},e=>Promise.reject(e))).then(e=>{if("name"in(i=(0,r.getAlgorithmByOID)(p.recipientInfos[t].value.keyEncryptionAlgorithm.algorithmId))==!1)return Promise.reject(`Incorrect OID for "keyEncryptionAlgorithm": ${p.recipientInfos[t].value.keyEncryptionAlgorithm.algorithmId}`);let o="SHA-1";if("prf"in n){const e=(0,r.getAlgorithmByOID)(n.prf.algorithmId);if("name"in e==!1)return Promise.reject("Incorrect OID for HMAC hash algorithm");o=e.hash.name}const a=new Uint8Array(n.salt.valueBlock.valueHex),c=n.iterationCount;return d.deriveKey({name:"PBKDF2",hash:{name:o},salt:a,iterations:c},e,i,!0,["wrapKey"])},e=>Promise.reject(e))).then(e=>d.wrapKey("raw",u,e,i),e=>Promise.reject(e))).then(r=>{p.recipientInfos[t].value.encryptedKey=new e.OctetString({valueHex:r})},e=>Promise.reject(e))}return i=(i=(i=(i=(i=i.then(()=>d.generateKey(t,!0,["encrypt"]))).then(e=>(u=e,d.encrypt({name:t.name,iv:s},u,m)),e=>Promise.reject(e))).then(e=>(h=e,d.exportKey("raw",u)),e=>Promise.reject(e)).then(e=>(f=e,!0),e=>Promise.reject(e))).then(()=>{this.version=2,this.encryptedContentInfo=new o.default({contentType:"1.2.840.113549.1.7.1",contentEncryptionAlgorithm:new c.default({algorithmId:g,algorithmParams:new e.OctetString({valueHex:a})}),encryptedContent:new e.OctetString({valueHex:h})})},e=>Promise.reject(e))).then(()=>{for(let e=0;e<this.recipientInfos.length;e++){let t=Promise.resolve();switch(this.recipientInfos[e].variant){case 1:t=k(e);break;case 2:t=v(e);break;case 3:t=E(e);break;case 4:t=j(e);break;default:return Promise.reject(`Uknown recipient type in array with index ${e}`)}y.push(t)}return Promise.all(y)},e=>Promise.reject(e))}decrypt(n,i){let o=Promise.resolve();const a=i||{},s=this;if(n+1>this.recipientInfos.length)return Promise.reject(`Maximum value for "index" is: ${this.recipientInfos.length-1}`);const m=(0,r.getCrypto)();if(void 0===m)return Promise.reject("Unable to create WebCrypto object");return o=(o=o.then(()=>{let t=Promise.resolve();switch(this.recipientInfos[n].variant){case 1:t=async function(e){if("recipientPrivateKey"in a==0)throw new Error('Parameter "recipientPrivateKey" is mandatory for "KeyTransRecipientInfo"');const t=(0,r.getAlgorithmByOID)(s.recipientInfos[e].value.keyEncryptionAlgorithm.algorithmId);if("name"in t==0)throw new Error(`Unknown keyEncryptionAlgorithm: ${s.recipientInfos[e].value.keyEncryptionAlgorithm.algorithmId}`);if("RSA-OAEP"===t.name){const n=s.recipientInfos[e].value.keyEncryptionAlgorithm.algorithmParams,i=new l.default({schema:n});if(t.hash=(0,r.getAlgorithmByOID)(i.hashAlgorithm.algorithmId),"name"in t.hash==0)throw new Error(`Incorrect OID for hash algorithm: ${i.hashAlgorithm.algorithmId}`)}const n=await m.importKey("pkcs8",a.recipientPrivateKey,t,!0,["decrypt"]),i=await m.decrypt(n.algorithm,n,s.recipientInfos[e].value.encryptedKey.valueBlock.valueHex),o=(0,r.getAlgorithmByOID)(s.encryptedContentInfo.contentEncryptionAlgorithm.algorithmId);if("name"in o==0)throw new Error(`Incorrect "contentEncryptionAlgorithm": ${s.encryptedContentInfo.contentEncryptionAlgorithm.algorithmId}`);return m.importKey("raw",i,o,!0,["decrypt"])}(n);break;case 2:t=function(t){let n,i,o,l,u=Promise.resolve();const h=s.recipientInfos[t].value.originator;function f(n){n=n||!1;const i=new c.default({schema:s.recipientInfos[t].value.keyEncryptionAlgorithm.algorithmParams}),o=(0,r.getAlgorithmByOID)(i.algorithmId);if("name"in o==0)return Promise.reject(`Incorrect OID for key encryption algorithm: ${i.algorithmId}`);let a=o.length;const l=new ArrayBuffer(4),m=new Uint8Array(l);for(let e=3;e>=0;e--)m[e]=a,a>>=8;const u={algorithmId:i.algorithmId};n&&(u.algorithmParams=new e.Null);const h=new w.default({keyInfo:new c.default(u),entityUInfo:s.recipientInfos[t].value.ukm,suppPubInfo:new e.OctetString({valueHex:l})}).toSchema().toBER(!1),f=(0,r.getAlgorithmByOID)(s.recipientInfos[t].value.keyEncryptionAlgorithm.algorithmId);return"name"in f==0?Promise.reject(`Incorrect OID for key encryption algorithm: ${s.recipientInfos[t].value.keyEncryptionAlgorithm.algorithmId}`):(0,r.kdf)(f.kdf,y,o.length,h)}let y;function p(e){return m.importKey("raw",e,{name:"AES-KW"},!0,["unwrapKey"])}function g(e){const n=(0,r.getAlgorithmByOID)(s.encryptedContentInfo.contentEncryptionAlgorithm.algorithmId);return"name"in n==0?Promise.reject(`Incorrect "contentEncryptionAlgorithm": ${s.encryptedContentInfo.contentEncryptionAlgorithm.algorithmId}`):m.unwrapKey("raw",s.recipientInfos[t].value.recipientEncryptedKeys.encryptedKeys[0].encryptedKey.valueBlock.valueHex,e,{name:"AES-KW"},n,!0,["decrypt"])}return u=(u=(u=(u=(u=(u=u.then(()=>{if("recipientCertificate"in a){const r=a.recipientCertificate.subjectPublicKeyInfo.algorithm.algorithmParams;if(r.constructor.blockName()!==e.ObjectIdentifier.blockName())return Promise.reject(`Incorrect "recipientCertificate" for index ${t}`);o=r.valueBlock.toString()}else{if(!("algorithmParams"in h.value.algorithm))return Promise.reject('Parameter "recipientCertificate" is mandatory for "KeyAgreeRecipientInfo" if algorithm params are missing from originator');{const r=h.value.algorithm.algorithmParams;if(r.constructor.blockName()!==e.ObjectIdentifier.blockName())return Promise.reject(`Incorrect originator for index ${t}`);o=r.valueBlock.toString()}}if("recipientPrivateKey"in a==0)return Promise.reject('Parameter "recipientPrivateKey" is mandatory for "KeyAgreeRecipientInfo"');switch(o){case"1.2.840.10045.3.1.7":n="P-256",i=256;break;case"1.3.132.0.34":n="P-384",i=384;break;case"1.3.132.0.35":n="P-521",i=528;break;default:return Promise.reject(`Incorrect curve OID for index ${t}`)}return m.importKey("pkcs8",a.recipientPrivateKey,{name:"ECDH",namedCurve:n},!0,["deriveBits"])},e=>Promise.reject(e))).then(t=>{l=t,"algorithmParams"in h.value.algorithm==0&&(h.value.algorithm.algorithmParams=new e.ObjectIdentifier({value:o}));const r=h.value.toSchema().toBER(!1);return m.importKey("spki",r,{name:"ECDH",namedCurve:n},!0,[])},e=>Promise.reject(e))).then(e=>m.deriveBits({name:"ECDH",public:e},l,i),e=>Promise.reject(e))).then(e=>(y=e,f()),e=>Promise.reject(e))).then(p,e=>Promise.reject(e))).then(e=>g(e).catch(()=>f(!0).then(p).then(g)),e=>Promise.reject(e))}(n);break;case 3:t=function(e){let t,n=Promise.resolve();return n=(n=n.then(()=>"preDefinedData"in a==0?Promise.reject('Parameter "preDefinedData" is mandatory for "KEKRecipientInfo"'):"name"in(t=(0,r.getAlgorithmByOID)(s.recipientInfos[e].value.keyEncryptionAlgorithm.algorithmId))==0?Promise.reject(`Incorrect OID for "keyEncryptionAlgorithm": ${s.recipientInfos[e].value.keyEncryptionAlgorithm.algorithmId}`):m.importKey("raw",a.preDefinedData,t,!0,["unwrapKey"]),e=>Promise.reject(e))).then(n=>{const i=(0,r.getAlgorithmByOID)(s.encryptedContentInfo.contentEncryptionAlgorithm.algorithmId);return"name"in i==0?Promise.reject(`Incorrect "contentEncryptionAlgorithm": ${s.encryptedContentInfo.contentEncryptionAlgorithm.algorithmId}`):m.unwrapKey("raw",s.recipientInfos[e].value.encryptedKey.valueBlock.valueHex,n,t,i,!0,["decrypt"])},e=>Promise.reject(e))}(n);break;case 4:t=function(e){let t,n,i=Promise.resolve();return i=(i=(i=i.then(()=>{if("preDefinedData"in a==0)return Promise.reject('Parameter "preDefinedData" is mandatory for "KEKRecipientInfo"');if("keyDerivationAlgorithm"in s.recipientInfos[e].value==0)return Promise.reject('Please append encoded "keyDerivationAlgorithm"');if("algorithmParams"in s.recipientInfos[e].value.keyDerivationAlgorithm==0)return Promise.reject('Incorrectly encoded "keyDerivationAlgorithm"');try{t=new I.default({schema:s.recipientInfos[e].value.keyDerivationAlgorithm.algorithmParams})}catch(r){return Promise.reject('Incorrectly encoded "keyDerivationAlgorithm"')}return m.importKey("raw",a.preDefinedData,"PBKDF2",!1,["deriveKey"])},e=>Promise.reject(e))).then(i=>{if("name"in(n=(0,r.getAlgorithmByOID)(s.recipientInfos[e].value.keyEncryptionAlgorithm.algorithmId))==0)return Promise.reject(`Incorrect OID for "keyEncryptionAlgorithm": ${s.recipientInfos[e].value.keyEncryptionAlgorithm.algorithmId}`);let o="SHA-1";if("prf"in t){const e=(0,r.getAlgorithmByOID)(t.prf.algorithmId);if("name"in e==0)return Promise.reject("Incorrect OID for HMAC hash algorithm");o=e.hash.name}const a=new Uint8Array(t.salt.valueBlock.valueHex),c=t.iterationCount;return m.deriveKey({name:"PBKDF2",hash:{name:o},salt:a,iterations:c},i,n,!0,["unwrapKey"])},e=>Promise.reject(e))).then(t=>{const i=(0,r.getAlgorithmByOID)(s.encryptedContentInfo.contentEncryptionAlgorithm.algorithmId);return"name"in i==0?Promise.reject(`Incorrect "contentEncryptionAlgorithm": ${s.encryptedContentInfo.contentEncryptionAlgorithm.algorithmId}`):m.unwrapKey("raw",s.recipientInfos[e].value.encryptedKey.valueBlock.valueHex,t,n,i,!0,["decrypt"])},e=>Promise.reject(e))}(n);break;default:return Promise.reject(`Uknown recipient type in array with index ${n}`)}return t},e=>Promise.reject(e))).then(e=>{const n=(0,r.getAlgorithmByOID)(this.encryptedContentInfo.contentEncryptionAlgorithm.algorithmId);if("name"in n==!1)return Promise.reject(`Incorrect "contentEncryptionAlgorithm": ${this.encryptedContentInfo.contentEncryptionAlgorithm.algorithmId}`);const i=this.encryptedContentInfo.contentEncryptionAlgorithm.algorithmParams.valueBlock.valueHex,o=new Uint8Array(i);let a=new ArrayBuffer(0);if(!1===this.encryptedContentInfo.encryptedContent.idBlock.isConstructed)a=this.encryptedContentInfo.encryptedContent.valueBlock.valueHex;else for(const r of this.encryptedContentInfo.encryptedContent.valueBlock.value)a=(0,t.utilConcatBuf)(a,r.valueBlock.valueHex);return m.decrypt({name:n.name,iv:o},e,a)},e=>Promise.reject(e))}}exports.default=O;
},{"asn1js":"h7Xx","pvutils":"V6vO","./common.js":"ViMO","./OriginatorInfo.js":"rHVU","./RecipientInfo.js":"yH6d","./EncryptedContentInfo.js":"lktU","./Attribute.js":"stBO","./AlgorithmIdentifier.js":"D4jV","./RSAESOAEPParams.js":"YXMp","./KeyTransRecipientInfo.js":"xm8t","./IssuerAndSerialNumber.js":"zQFJ","./RecipientKeyIdentifier.js":"JVaQ","./RecipientEncryptedKey.js":"Id27","./KeyAgreeRecipientIdentifier.js":"JO0E","./KeyAgreeRecipientInfo.js":"XEda","./RecipientEncryptedKeys.js":"PnqX","./KEKRecipientInfo.js":"ZNaN","./KEKIdentifier.js":"R23S","./PBKDF2Params.js":"H51Z","./PasswordRecipientinfo.js":"Qb4j","./ECCCMSSharedInfo.js":"ITDN","./OriginatorIdentifierOrKey.js":"yvK6","./OriginatorPublicKey.js":"ePqs"}],"vV3k":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=c(require("asn1js")),t=require("pvutils"),n=o(require("./ContentInfo.js")),r=o(require("./SafeContents.js")),a=o(require("./EnvelopedData.js")),s=o(require("./EncryptedData.js"));function o(e){return e&&e.__esModule?e:{default:e}}function i(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(i=function(e){return e?n:t})(e)}function c(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=i(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var o=a?Object.getOwnPropertyDescriptor(e,s):null;o&&(o.get||o.set)?Object.defineProperty(r,s,o):r[s]=e[s]}return r.default=e,n&&n.set(e,r),r}class f{constructor(e={}){this.safeContents=(0,t.getParametersValue)(e,"safeContents",f.defaultValues("safeContents")),"parsedValue"in e&&(this.parsedValue=(0,t.getParametersValue)(e,"parsedValue",f.defaultValues("parsedValue"))),"schema"in e&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case"safeContents":return[];case"parsedValue":return{};default:throw new Error(`Invalid member name for AuthenticatedSafe class: ${e}`)}}static compareWithDefault(e,t){switch(e){case"safeContents":return 0===t.length;case"parsedValue":return t instanceof Object&&0===Object.keys(t).length;default:throw new Error(`Invalid member name for AuthenticatedSafe class: ${e}`)}}static schema(r={}){const a=(0,t.getParametersValue)(r,"names",{});return new e.Sequence({name:a.blockName||"",value:[new e.Repeated({name:a.contentInfos||"",value:n.default.schema()})]})}fromSchema(r){(0,t.clearProps)(r,["contentInfos"]);const a=e.compareSchema(r,r,f.schema({names:{contentInfos:"contentInfos"}}));if(!1===a.verified)throw new Error("Object's schema was not verified against input data for AuthenticatedSafe");this.safeContents=Array.from(a.result.contentInfos,e=>new n.default({schema:e}))}toSchema(){return new e.Sequence({value:Array.from(this.safeContents,e=>e.toSchema())})}toJSON(){return{safeContents:Array.from(this.safeContents,e=>e.toJSON())}}parseInternalValues(n){if(n instanceof Object==!1)return Promise.reject('The "parameters" must has "Object" type');if("safeContents"in n==!1)return Promise.reject('Absent mandatory parameter "safeContents"');if(n.safeContents instanceof Array==!1)return Promise.reject('The "parameters.safeContents" must has "Array" type');if(n.safeContents.length!==this.safeContents.length)return Promise.reject('Length of "parameters.safeContents" must be equal to "this.safeContents.length"');let o=Promise.resolve();this.parsedValue={safeContents:[]};for(const[i,c]of this.safeContents.entries())switch(c.contentType){case"1.2.840.113549.1.7.1":{if(c.content instanceof e.OctetString==!1)return Promise.reject('Wrong type of "this.safeContents[j].content"');let n=new ArrayBuffer(0);if(c.content.valueBlock.isConstructed)for(const e of c.content.valueBlock.value)n=(0,t.utilConcatBuf)(n,e.valueBlock.valueHex);else n=c.content.valueBlock.valueHex;const a=e.fromBER(n);if(-1===a.offset)return Promise.reject('Error during parsing of ASN.1 data inside "content.content"');this.parsedValue.safeContents.push({privacyMode:0,value:new r.default({schema:a.result})})}break;case"1.2.840.113549.1.7.3":{const t=new a.default({schema:c.content});if("recipientCertificate"in n.safeContents[i]==!1)return Promise.reject('Absent mandatory parameter "recipientCertificate" in "parameters.safeContents[j]"');const s=n.safeContents[i].recipientCertificate;if("recipientKey"in n.safeContents[i]==!1)return Promise.reject('Absent mandatory parameter "recipientKey" in "parameters.safeContents[j]"');const f=n.safeContents[i].recipientKey;o=(o=o.then(()=>t.decrypt(0,{recipientCertificate:s,recipientPrivateKey:f}))).then(t=>{const n=e.fromBER(t);return-1===n.offset?Promise.reject("Error during parsing of decrypted data"):(this.parsedValue.safeContents.push({privacyMode:2,value:new r.default({schema:n.result})}),Promise.resolve())})}break;case"1.2.840.113549.1.7.6":{const t=new s.default({schema:c.content});if("password"in n.safeContents[i]==!1)return Promise.reject('Absent mandatory parameter "password" in "parameters.safeContents[j]"');const a=n.safeContents[i].password;o=(o=o.then(()=>t.decrypt({password:a}),e=>Promise.reject(e))).then(t=>{const n=e.fromBER(t);return-1===n.offset?Promise.reject("Error during parsing of decrypted data"):(this.parsedValue.safeContents.push({privacyMode:1,value:new r.default({schema:n.result})}),Promise.resolve())},e=>Promise.reject(e))}break;default:throw new Error(`Unknown "contentType" for AuthenticatedSafe: " ${c.contentType}`)}return o}makeInternalValues(t){if("parsedValue"in this==!1)return Promise.reject('Please run "parseValues" first or add "parsedValue" manually');if(this.parsedValue instanceof Object==!1)return Promise.reject('The "this.parsedValue" must has "Object" type');if(this.parsedValue.safeContents instanceof Array==!1)return Promise.reject('The "this.parsedValue.safeContents" must has "Array" type');if(t instanceof Object==!1)return Promise.reject('The "parameters" must has "Object" type');if("safeContents"in t==!1)return Promise.reject('Absent mandatory parameter "safeContents"');if(t.safeContents instanceof Array==!1)return Promise.reject('The "parameters.safeContents" must has "Array" type');if(t.safeContents.length!==this.parsedValue.safeContents.length)return Promise.reject('Length of "parameters.safeContents" must be equal to "this.parsedValue.safeContents"');let o=Promise.resolve();this.safeContents=[];for(const[i,c]of this.parsedValue.safeContents.entries()){if("privacyMode"in c==!1)return Promise.reject('The "privacyMode" is a mandatory parameter for "content"');if("value"in c==!1)return Promise.reject('The "value" is a mandatory parameter for "content"');if(c.value instanceof r.default==!1)return Promise.reject('The "content.value" must has "SafeContents" type');switch(c.privacyMode){case 0:{const t=c.value.toSchema().toBER(!1);o=o.then(()=>{this.safeContents.push(new n.default({contentType:"1.2.840.113549.1.7.1",content:new e.OctetString({valueHex:t})}))})}break;case 1:{const e=new s.default,r=t.safeContents[i];r.contentToEncrypt=c.value.toSchema().toBER(!1),o=(o=o.then(()=>e.encrypt(r),e=>Promise.reject(e))).then(()=>{this.safeContents.push(new n.default({contentType:"1.2.840.113549.1.7.6",content:e.toSchema()}))},e=>Promise.reject(e))}break;case 2:{const e=new a.default,r=c.value.toSchema().toBER(!1);if("encryptingCertificate"in t.safeContents[i]==!1)return Promise.reject('Absent mandatory parameter "encryptingCertificate" in "parameters.safeContents[i]"');if("encryptionAlgorithm"in t.safeContents[i]==!1)return Promise.reject('Absent mandatory parameter "encryptionAlgorithm" in "parameters.safeContents[i]"');switch(!0){case"aes-cbc"===t.safeContents[i].encryptionAlgorithm.name.toLowerCase():case"aes-gcm"===t.safeContents[i].encryptionAlgorithm.name.toLowerCase():break;default:return Promise.reject(`Incorrect parameter "encryptionAlgorithm" in "parameters.safeContents[i]": ${t.safeContents[i].encryptionAlgorithm}`)}switch(!0){case 128===t.safeContents[i].encryptionAlgorithm.length:case 192===t.safeContents[i].encryptionAlgorithm.length:case 256===t.safeContents[i].encryptionAlgorithm.length:break;default:return Promise.reject(`Incorrect parameter "encryptionAlgorithm.length" in "parameters.safeContents[i]": ${t.safeContents[i].encryptionAlgorithm.length}`)}const s=t.safeContents[i].encryptionAlgorithm;e.addRecipientByCertificate(t.safeContents[i].encryptingCertificate),o=(o=o.then(()=>e.encrypt(s,r))).then(()=>{this.safeContents.push(new n.default({contentType:"1.2.840.113549.1.7.3",content:e.toSchema()}))})}break;default:return Promise.reject(`Incorrect value for "content.privacyMode": ${c.privacyMode}`)}}return o.then(()=>this,e=>Promise.reject(`Error during parsing: ${e}`))}}exports.default=f;
},{"asn1js":"h7Xx","pvutils":"V6vO","./ContentInfo.js":"NWpo","./SafeContents.js":"JIm2","./EnvelopedData.js":"pjkG","./EncryptedData.js":"JYmP"}],"cVMQ":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=h(require("asn1js")),r=require("pvutils"),s=require("./common.js"),a=t(require("./AlgorithmIdentifier.js"));function t(e){return e&&e.__esModule?e:{default:e}}function i(e){if("function"!=typeof WeakMap)return null;var r=new WeakMap,s=new WeakMap;return(i=function(e){return e?s:r})(e)}function h(e,r){if(!r&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var s=i(r);if(s&&s.has(e))return s.get(e);var a={},t=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var h in e)if("default"!==h&&Object.prototype.hasOwnProperty.call(e,h)){var u=t?Object.getOwnPropertyDescriptor(e,h):null;u&&(u.get||u.set)?Object.defineProperty(a,h,u):a[h]=e[h]}return a.default=e,s&&s.set(e,a),a}class u{constructor(e={}){this.hashAlgorithm=(0,r.getParametersValue)(e,"hashAlgorithm",u.defaultValues("hashAlgorithm")),this.issuerNameHash=(0,r.getParametersValue)(e,"issuerNameHash",u.defaultValues("issuerNameHash")),this.issuerKeyHash=(0,r.getParametersValue)(e,"issuerKeyHash",u.defaultValues("issuerKeyHash")),this.serialNumber=(0,r.getParametersValue)(e,"serialNumber",u.defaultValues("serialNumber")),"schema"in e&&this.fromSchema(e.schema)}static defaultValues(r){switch(r){case"hashAlgorithm":return new a.default;case"issuerNameHash":case"issuerKeyHash":return new e.OctetString;case"serialNumber":return new e.Integer;default:throw new Error(`Invalid member name for CertID class: ${r}`)}}static compareWithDefault(e,r){switch(e){case"hashAlgorithm":return""===r.algorithmId&&"algorithmParams"in r==!1;case"issuerNameHash":case"issuerKeyHash":case"serialNumber":return r.isEqual(u.defaultValues(e));default:throw new Error(`Invalid member name for CertID class: ${e}`)}}static schema(s={}){const t=(0,r.getParametersValue)(s,"names",{});return new e.Sequence({name:t.blockName||"",value:[a.default.schema(t.hashAlgorithmObject||{names:{blockName:t.hashAlgorithm||""}}),new e.OctetString({name:t.issuerNameHash||""}),new e.OctetString({name:t.issuerKeyHash||""}),new e.Integer({name:t.serialNumber||""})]})}fromSchema(s){(0,r.clearProps)(s,["hashAlgorithm","issuerNameHash","issuerKeyHash","serialNumber"]);const t=e.compareSchema(s,s,u.schema({names:{hashAlgorithm:"hashAlgorithm",issuerNameHash:"issuerNameHash",issuerKeyHash:"issuerKeyHash",serialNumber:"serialNumber"}}));if(!1===t.verified)throw new Error("Object's schema was not verified against input data for CertID");this.hashAlgorithm=new a.default({schema:t.result.hashAlgorithm}),this.issuerNameHash=t.result.issuerNameHash,this.issuerKeyHash=t.result.issuerKeyHash,this.serialNumber=t.result.serialNumber}toSchema(){return new e.Sequence({value:[this.hashAlgorithm.toSchema(),this.issuerNameHash,this.issuerKeyHash,this.serialNumber]})}toJSON(){return{hashAlgorithm:this.hashAlgorithm.toJSON(),issuerNameHash:this.issuerNameHash.toJSON(),issuerKeyHash:this.issuerKeyHash.toJSON(),serialNumber:this.serialNumber.toJSON()}}isEqual(e){return!this.hashAlgorithm.algorithmId!==e.hashAlgorithm.algorithmId&&(!1!==(0,r.isEqualBuffer)(this.issuerNameHash.valueBlock.valueHex,e.issuerNameHash.valueBlock.valueHex)&&(!1!==(0,r.isEqualBuffer)(this.issuerKeyHash.valueBlock.valueHex,e.issuerKeyHash.valueBlock.valueHex)&&!!this.serialNumber.isEqual(e.serialNumber)))}createForCertificate(r,t){let i,h=Promise.resolve();const u=(0,s.getCrypto)();if(void 0===u)return Promise.reject("Unable to create WebCrypto object");if("hashAlgorithm"in t==!1)return Promise.reject('Parameter "hashAlgorithm" is mandatory for "OCSP_REQUEST.createForCertificate"');const l=(0,s.getOIDByAlgorithm)({name:t.hashAlgorithm});return""===l?Promise.reject(`Incorrect "hashAlgorithm": ${this.hashAlgorithm}`):(this.hashAlgorithm=new a.default({algorithmId:l,algorithmParams:new e.Null}),"issuerCertificate"in t?(i=t.issuerCertificate,this.serialNumber=r.serialNumber,h=(h=h.then(()=>u.digest({name:t.hashAlgorithm},i.subject.toSchema().toBER(!1)),e=>Promise.reject(e))).then(r=>{this.issuerNameHash=new e.OctetString({valueHex:r});const s=i.subjectPublicKeyInfo.subjectPublicKey.valueBlock.valueHex;return u.digest({name:t.hashAlgorithm},s)},e=>Promise.reject(e)).then(r=>{this.issuerKeyHash=new e.OctetString({valueHex:r})},e=>Promise.reject(e))):Promise.reject('Parameter "issuerCertificate" is mandatory for "OCSP_REQUEST.createForCertificate"'))}}exports.default=u;
},{"asn1js":"h7Xx","pvutils":"V6vO","./common.js":"ViMO","./AlgorithmIdentifier.js":"D4jV"}],"G8tv":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=u(require("asn1js")),t=require("pvutils"),a=r(require("./CertID.js")),s=r(require("./Extension.js")),n=r(require("./Extensions.js"));function r(e){return e&&e.__esModule?e:{default:e}}function i(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(i=function(e){return e?a:t})(e)}function u(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=i(t);if(a&&a.has(e))return a.get(e);var s={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var u=n?Object.getOwnPropertyDescriptor(e,r):null;u&&(u.get||u.set)?Object.defineProperty(s,r,u):s[r]=e[r]}return s.default=e,a&&a.set(e,s),s}class l{constructor(e={}){this.certID=(0,t.getParametersValue)(e,"certID",l.defaultValues("certID")),this.certStatus=(0,t.getParametersValue)(e,"certStatus",l.defaultValues("certStatus")),this.thisUpdate=(0,t.getParametersValue)(e,"thisUpdate",l.defaultValues("thisUpdate")),"nextUpdate"in e&&(this.nextUpdate=(0,t.getParametersValue)(e,"nextUpdate",l.defaultValues("nextUpdate"))),"singleExtensions"in e&&(this.singleExtensions=(0,t.getParametersValue)(e,"singleExtensions",l.defaultValues("singleExtensions"))),"schema"in e&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case"certID":return new a.default;case"certStatus":return{};case"thisUpdate":case"nextUpdate":return new Date(0,0,0);case"singleExtensions":return[];default:throw new Error(`Invalid member name for SingleResponse class: ${e}`)}}static compareWithDefault(e,t){switch(e){case"certID":return a.default.compareWithDefault("hashAlgorithm",t.hashAlgorithm)&&a.default.compareWithDefault("issuerNameHash",t.issuerNameHash)&&a.default.compareWithDefault("issuerKeyHash",t.issuerKeyHash)&&a.default.compareWithDefault("serialNumber",t.serialNumber);case"certStatus":return 0===Object.keys(t).length;case"thisUpdate":case"nextUpdate":return t===l.defaultValues(e);default:throw new Error(`Invalid member name for SingleResponse class: ${e}`)}}static schema(s={}){const r=(0,t.getParametersValue)(s,"names",{});return new e.Sequence({name:r.blockName||"",value:[a.default.schema(r.certID||{}),new e.Choice({value:[new e.Primitive({name:r.certStatus||"",idBlock:{tagClass:3,tagNumber:0},lenBlockLength:1}),new e.Constructed({name:r.certStatus||"",idBlock:{tagClass:3,tagNumber:1},value:[new e.GeneralizedTime,new e.Constructed({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[new e.Enumerated]})]}),new e.Primitive({name:r.certStatus||"",idBlock:{tagClass:3,tagNumber:2},lenBlock:{length:1}})]}),new e.GeneralizedTime({name:r.thisUpdate||""}),new e.Constructed({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[new e.GeneralizedTime({name:r.nextUpdate||""})]}),new e.Constructed({optional:!0,idBlock:{tagClass:3,tagNumber:1},value:[n.default.schema(r.singleExtensions||{})]})]})}fromSchema(n){(0,t.clearProps)(n,["certID","certStatus","thisUpdate","nextUpdate","singleExtensions"]);const r=e.compareSchema(n,n,l.schema({names:{certID:{names:{blockName:"certID"}},certStatus:"certStatus",thisUpdate:"thisUpdate",nextUpdate:"nextUpdate",singleExtensions:{names:{blockName:"singleExtensions"}}}}));if(!1===r.verified)throw new Error("Object's schema was not verified against input data for SingleResponse");this.certID=new a.default({schema:r.result.certID}),this.certStatus=r.result.certStatus,this.thisUpdate=r.result.thisUpdate.toDate(),"nextUpdate"in r.result&&(this.nextUpdate=r.result.nextUpdate.toDate()),"singleExtensions"in r.result&&(this.singleExtensions=Array.from(r.result.singleExtensions.valueBlock.value,e=>new s.default({schema:e})))}toSchema(){const t=[];return t.push(this.certID.toSchema()),t.push(this.certStatus),t.push(new e.GeneralizedTime({valueDate:this.thisUpdate})),"nextUpdate"in this&&t.push(new e.Constructed({idBlock:{tagClass:3,tagNumber:0},value:[new e.GeneralizedTime({valueDate:this.nextUpdate})]})),"singleExtensions"in this&&t.push(new e.Sequence({value:Array.from(this.singleExtensions,e=>e.toSchema())})),new e.Sequence({value:t})}toJSON(){const e={certID:this.certID.toJSON(),certStatus:this.certStatus.toJSON(),thisUpdate:this.thisUpdate};return"nextUpdate"in this&&(e.nextUpdate=this.nextUpdate),"singleExtensions"in this&&(e.singleExtensions=Array.from(this.singleExtensions,e=>e.toJSON())),e}}exports.default=l;
},{"asn1js":"h7Xx","pvutils":"V6vO","./CertID.js":"cVMQ","./Extension.js":"UuwD","./Extensions.js":"wMRS"}],"ZUDl":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=i(require("asn1js")),s=require("pvutils"),t=o(require("./RelativeDistinguishedNames.js")),r=o(require("./SingleResponse.js")),n=o(require("./Extension.js")),a=o(require("./Extensions.js"));function o(e){return e&&e.__esModule?e:{default:e}}function u(e){if("function"!=typeof WeakMap)return null;var s=new WeakMap,t=new WeakMap;return(u=function(e){return e?t:s})(e)}function i(e,s){if(!s&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=u(s);if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var o=n?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(r,a,o):r[a]=e[a]}return r.default=e,t&&t.set(e,r),r}class p{constructor(e={}){this.tbs=(0,s.getParametersValue)(e,"tbs",p.defaultValues("tbs")),this.responderID=(0,s.getParametersValue)(e,"responderID",p.defaultValues("responderID")),this.producedAt=(0,s.getParametersValue)(e,"producedAt",p.defaultValues("producedAt")),this.responses=(0,s.getParametersValue)(e,"responses",p.defaultValues("responses")),"responseExtensions"in e&&(this.responseExtensions=(0,s.getParametersValue)(e,"responseExtensions",p.defaultValues("responseExtensions"))),"schema"in e&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case"tbs":return new ArrayBuffer(0);case"responderID":return{};case"producedAt":return new Date(0,0,0);case"responses":case"responseExtensions":return[];default:throw new Error(`Invalid member name for ResponseData class: ${e}`)}}static compareWithDefault(e,s){switch(e){case"tbs":return 0===s.byteLength;case"responderID":return 0===Object.keys(s).length;case"producedAt":return s===p.defaultValues(e);case"responses":case"responseExtensions":return 0===s.length;default:throw new Error(`Invalid member name for ResponseData class: ${e}`)}}static schema(n={}){const o=(0,s.getParametersValue)(n,"names",{});return new e.Sequence({name:o.blockName||"ResponseData",value:[new e.Constructed({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[new e.Integer({name:o.version||"ResponseData.version"})]}),new e.Choice({value:[new e.Constructed({name:o.responderID||"ResponseData.responderID",idBlock:{tagClass:3,tagNumber:1},value:[t.default.schema(o.ResponseDataByName||{names:{blockName:"ResponseData.byName"}})]}),new e.Constructed({name:o.responderID||"ResponseData.responderID",idBlock:{tagClass:3,tagNumber:2},value:[new e.OctetString({name:o.ResponseDataByKey||"ResponseData.byKey"})]})]}),new e.GeneralizedTime({name:o.producedAt||"ResponseData.producedAt"}),new e.Sequence({value:[new e.Repeated({name:"ResponseData.responses",value:r.default.schema(o.response||{})})]}),new e.Constructed({optional:!0,idBlock:{tagClass:3,tagNumber:1},value:[a.default.schema(o.extensions||{names:{blockName:"ResponseData.responseExtensions"}})]})]})}fromSchema(a){(0,s.clearProps)(a,["ResponseData","ResponseData.version","ResponseData.responderID","ResponseData.producedAt","ResponseData.responses","ResponseData.responseExtensions"]);const o=e.compareSchema(a,a,p.schema());if(!1===o.verified)throw new Error("Object's schema was not verified against input data for ResponseData");this.tbs=o.result.ResponseData.valueBeforeDecode,"ResponseData.version"in o.result&&(this.version=o.result["ResponseData.version"].valueBlock.valueDec),1===o.result["ResponseData.responderID"].idBlock.tagNumber?this.responderID=new t.default({schema:o.result["ResponseData.responderID"].valueBlock.value[0]}):this.responderID=o.result["ResponseData.responderID"].valueBlock.value[0],this.producedAt=o.result["ResponseData.producedAt"].toDate(),this.responses=Array.from(o.result["ResponseData.responses"],e=>new r.default({schema:e})),"ResponseData.responseExtensions"in o.result&&(this.responseExtensions=Array.from(o.result["ResponseData.responseExtensions"].valueBlock.value,e=>new n.default({schema:e})))}toSchema(s=!1){let r;if(!1===s){if(0===this.tbs.length)return p.schema();r=e.fromBER(this.tbs).result}else{const s=[];"version"in this&&s.push(new e.Constructed({idBlock:{tagClass:3,tagNumber:0},value:[new e.Integer({value:this.version})]})),this.responderID instanceof t.default?s.push(new e.Constructed({idBlock:{tagClass:3,tagNumber:1},value:[this.responderID.toSchema()]})):s.push(new e.Constructed({idBlock:{tagClass:3,tagNumber:2},value:[this.responderID]})),s.push(new e.GeneralizedTime({valueDate:this.producedAt})),s.push(new e.Sequence({value:Array.from(this.responses,e=>e.toSchema())})),"responseExtensions"in this&&s.push(new e.Constructed({idBlock:{tagClass:3,tagNumber:1},value:[new e.Sequence({value:Array.from(this.responseExtensions,e=>e.toSchema())})]})),r=new e.Sequence({value:s})}return r}toJSON(){const e={};return"version"in this&&(e.version=this.version),"responderID"in this&&(e.responderID=this.responderID),"producedAt"in this&&(e.producedAt=this.producedAt),"responses"in this&&(e.responses=Array.from(this.responses,e=>e.toJSON())),"responseExtensions"in this&&(e.responseExtensions=Array.from(this.responseExtensions,e=>e.toJSON())),e}}exports.default=p;
},{"asn1js":"h7Xx","pvutils":"V6vO","./RelativeDistinguishedNames.js":"ZcqL","./SingleResponse.js":"G8tv","./Extension.js":"UuwD","./Extensions.js":"wMRS"}],"Th0l":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=require("pvutils"),t=require("./common.js");class s{constructor(t={}){this.trustedCerts=(0,e.getParametersValue)(t,"trustedCerts",this.defaultValues("trustedCerts")),this.certs=(0,e.getParametersValue)(t,"certs",this.defaultValues("certs")),this.crls=(0,e.getParametersValue)(t,"crls",this.defaultValues("crls")),this.ocsps=(0,e.getParametersValue)(t,"ocsps",this.defaultValues("ocsps")),this.checkDate=(0,e.getParametersValue)(t,"checkDate",this.defaultValues("checkDate")),this.findOrigin=(0,e.getParametersValue)(t,"findOrigin",this.defaultValues("findOrigin")),this.findIssuer=(0,e.getParametersValue)(t,"findIssuer",this.defaultValues("findIssuer"))}static defaultFindOrigin(t,s){0===t.tbs.byteLength&&(t.tbs=t.encodeTBS());for(const r of s.certs)if(0===r.tbs.byteLength&&(r.tbs=r.encodeTBS()),(0,e.isEqualBuffer)(t.tbs,r.tbs))return"Intermediate Certificates";for(const r of s.trustedCerts)if(0===r.tbs.byteLength&&(r.tbs=r.encodeTBS()),(0,e.isEqualBuffer)(t.tbs,r.tbs))return"Trusted Certificates";return"Unknown"}async defaultFindIssuer(t,s){let r=[],i=null,l=null,n=null;if(t.subject.isEqual(t.issuer))try{if(!0===await t.verify())return[t]}catch(u){}if("extensions"in t)for(const e of t.extensions)if("2.5.29.35"===e.extnID){"keyIdentifier"in e.parsedValue?i=e.parsedValue.keyIdentifier:("authorityCertIssuer"in e.parsedValue&&(l=e.parsedValue.authorityCertIssuer),"authorityCertSerialNumber"in e.parsedValue&&(n=e.parsedValue.authorityCertSerialNumber));break}function a(s){if(null!==i&&"extensions"in s){let t=!1;for(const l of s.extensions)if("2.5.29.14"===l.extnID){t=!0,(0,e.isEqualBuffer)(l.parsedValue.valueBlock.valueHex,i.valueBlock.valueHex)&&r.push(s);break}if(t)return}let a=!1;null!==n&&(a=s.serialNumber.isEqual(n)),null!==l?s.subject.isEqual(l)&&a&&r.push(s):t.issuer.isEqual(s.subject)&&r.push(s)}for(const e of s.trustedCerts)a(e);for(const e of s.certs)a(e);for(let e=0;e<r.length;e++)try{!1===await t.verify(r[e])&&r.splice(e,1)}catch(u){r.splice(e,1)}return r}defaultValues(e){switch(e){case"trustedCerts":case"certs":case"crls":case"ocsps":return[];case"checkDate":return new Date;case"findOrigin":return s.defaultFindOrigin;case"findIssuer":return this.defaultFindIssuer;default:throw new Error(`Invalid member name for CertificateChainValidationEngine class: ${e}`)}}async sort(s=!1){const r=[],i=this;async function l(e){const t=[],s=[],l=[];if(t.push(...r.filter(t=>e.issuer.isEqual(t.subject))),0===t.length)return{status:1,statusMessage:"No certificate's issuers"};if(s.push(...i.crls.filter(t=>t.issuer.isEqual(e.issuer))),0===s.length)return{status:2,statusMessage:"No CRLs for specific certificate issuer"};for(let r=0;r<s.length;r++)if(!(s[r].nextUpdate.value<i.checkDate))for(let e=0;e<t.length;e++)try{if(await s[r].verify({issuerCertificate:t[e]})){l.push({crl:s[r],certificate:t[e]});break}}catch(n){}return l.length?{status:0,statusMessage:"",result:l}:{status:3,statusMessage:"No valid CRLs found"}}async function n(e,s){const r=(0,t.getAlgorithmByOID)(e.signatureAlgorithm.algorithmId);if("name"in r==!1)return 1;if("hash"in r==!1)return 1;for(let t=0;t<i.ocsps.length;t++){const r=await i.ocsps[t].getCertificateStatus(e,s);if(r.isForCertificate)return 0===r.status?0:1}return 2}async function a(e,t=!1){let s=!1,r=!1,i=!1,l=!1;if("extensions"in e){for(let t=0;t<e.extensions.length;t++){if(!0===e.extensions[t].critical&&"parsedValue"in e.extensions[t]==!1)return{result:!1,resultCode:6,resultMessage:`Unable to parse critical certificate extension: ${e.extensions[t].extnID}`};if("2.5.29.15"===e.extensions[t].extnID){i=!0;const s=new Uint8Array(e.extensions[t].parsedValue.valueBlock.valueHex);4==(4&s[0])&&(r=!0),2==(2&s[0])&&(l=!0)}"2.5.29.19"===e.extensions[t].extnID&&"cA"in e.extensions[t].parsedValue&&!0===e.extensions[t].parsedValue.cA&&(s=!0)}if(!0===r&&!1===s)return{result:!1,resultCode:3,resultMessage:'Unable to build certificate chain - using "keyCertSign" flag set without BasicConstaints'};if(!0===i&&!0===s&&!1===r)return{result:!1,resultCode:4,resultMessage:'Unable to build certificate chain - "keyCertSign" flag was not set'};if(!0===s&&!0===i&&t&&!1===l)return{result:!1,resultCode:5,resultMessage:'Unable to build certificate chain - intermediate certificate must have "cRLSign" key usage flag'}}return!1===s?{result:!1,resultCode:7,resultMessage:"Unable to build certificate chain - more than one possible end-user certificate"}:{result:!0,resultCode:0,resultMessage:""}}r.push(...i.trustedCerts),r.push(...i.certs);for(let t=0;t<r.length;t++)for(let s=0;s<r.length;s++)if(t!==s&&(0,e.isEqualBuffer)(r[t].tbs,r[s].tbs)){r.splice(s,1),t=0;break}let u;const c=[r[r.length-1]];if(0===(u=await async function t(s){const r=[];function l(e){let t=!0;for(let s=0;s<e.length;s++){for(let r=0;r<e.length;r++)if(r!==s&&e[s]===e[r]){t=!1;break}if(!t)break}return t}const n=await i.findIssuer(s,i);if(0===n.length)throw new Error("No valid certificate paths found");for(let i=0;i<n.length;i++){if((0,e.isEqualBuffer)(n[i].tbs,s.tbs)){r.push([n[i]]);continue}const a=await t(n[i]);for(let e=0;e<a.length;e++){const t=a[e].slice();t.splice(0,0,n[i]),l(t)?r.push(t):r.push(a[e])}}return r}(r[r.length-1])).length)return{result:!1,resultCode:60,resultMessage:"Unable to find certificate path"};for(let t=0;t<u.length;t++){let s=!1;for(let r=0;r<u[t].length;r++){const l=u[t][r];for(let t=0;t<i.trustedCerts.length;t++)if((0,e.isEqualBuffer)(l.tbs,i.trustedCerts[t].tbs)){s=!0;break}if(s)break}s||(u.splice(t,1),t=0)}if(0===u.length)throw{result:!1,resultCode:97,resultMessage:"No valid certificate paths found"};let o=u[0].length,f=0;for(let e=0;e<u.length;e++)u[e].length<o&&(o=u[e].length,f=e);for(let e=0;e<u[f].length;e++)c.push(u[f][e]);if(!1===(u=await async function(e,t){for(let s=0;s<e.length;s++)if(e[s].notBefore.value>t||e[s].notAfter.value<t)return{result:!1,resultCode:8,resultMessage:"The certificate is either not yet valid or expired"};if(e.length<2)return{result:!1,resultCode:9,resultMessage:"Too short certificate path"};for(let s=e.length-2;s>=0;s--)if(!1===e[s].issuer.isEqual(e[s].subject)&&!1===e[s].issuer.isEqual(e[s+1].subject))return{result:!1,resultCode:10,resultMessage:"Incorrect name chaining"};if(0!==i.crls.length||0!==i.ocsps.length)for(let r=0;r<e.length-1;r++){let t=2,u={status:0,statusMessage:""};if(0!==i.ocsps.length)switch(t=await n(e[r],e[r+1])){case 0:continue;case 1:return{result:!1,resultCode:12,resultMessage:"One of certificates was revoked via OCSP response"}}if(0!==i.crls.length){if(0===(u=await l(e[r])).status)for(let s=0;s<u.result.length;s++){if(u.result[s].crl.isCertificateRevoked(e[r]))return{result:!1,resultCode:12,resultMessage:"One of certificates had been revoked"};if(!1===(await a(u.result[s].certificate,!0)).result)return{result:!1,resultCode:13,resultMessage:"CRL issuer certificate is not a CA certificate or does not have crlSign flag"}}else if(!1===s)throw{result:!1,resultCode:11,resultMessage:`No revocation values found for one of certificates: ${u.statusMessage}`}}else if(2===t)return{result:!1,resultCode:11,resultMessage:"No revocation values found for one of certificates"};if(2===t&&2===u.status&&s){const t=e[r+1];let s=!1;if("extensions"in t)for(const e of t.extensions)switch(e.extnID){case"2.5.29.31":case"2.5.29.46":case"1.3.6.1.5.5.7.1.1":s=!0}if(s)throw{result:!1,resultCode:11,resultMessage:`No revocation values found for one of certificates: ${u.statusMessage}`}}}for(let s=1;s<e.length;s++)if(!1===(await a(e[s])).result)return{result:!1,resultCode:14,resultMessage:"One of intermediate certificates is not a CA certificate"};return{result:!0}}(c,i.checkDate)).result)throw u;return c}async verify(e={}){function s(e,s){const r=(0,t.stringPrep)(e),i=(0,t.stringPrep)(s),l=r.split("."),n=i.split("."),a=l.length,u=n.length;if(0===a||0===u||a<u)return!1;for(let t=0;t<a;t++)if(0===l[t].length)return!1;for(let t=0;t<u;t++)if(0===n[t].length){if(0===t){if(1===u)return!1;continue}return!1}for(let t=0;t<u;t++)if(0!==n[u-1-t].length&&0!==l[a-1-t].localeCompare(n[u-1-t]))return!1;return!0}function r(e,r){const i=(0,t.stringPrep)(e),l=(0,t.stringPrep)(r),n=i.split("@"),a=l.split("@");if(0===n.length||0===a.length||n.length<a.length)return!1;if(1===a.length){if(s(n[1],a[0])){const e=n[1].split("."),t=a[0].split(".");return 0===t[0].length||e.length===t.length}return!1}return 0===i.localeCompare(l)}function i(e,r){let i=(0,t.stringPrep)(e);const l=(0,t.stringPrep)(r),n=i.split("/");if(l.split("/").length>1)return!1;if(n.length>1)for(let t=0;t<n.length;t++)if(n[t].length>0&&":"!==n[t].charAt(n[t].length-1)){i=n[t].split(":")[0];break}if(s(i,l)){const e=i.split("."),t=l.split(".");return 0===t[0].length||e.length===t.length}return!1}function l(e,t){const s=new Uint8Array(e.valueBlock.valueHex),r=new Uint8Array(t.valueBlock.valueHex);if(4===s.length&&8===r.length){for(let e=0;e<4;e++)if((s[e]^r[e])&r[e+4])return!1;return!0}if(16===s.length&&32===r.length){for(let e=0;e<16;e++)if((s[e]^r[e])&r[e+16])return!1;return!0}return!1}function n(e,t){if(0===e.typesAndValues.length||0===t.typesAndValues.length)return!0;if(e.typesAndValues.length<t.typesAndValues.length)return!1;let s=!0,r=0;for(let i=0;i<t.typesAndValues.length;i++){let l=!1;for(let n=r;n<e.typesAndValues.length;n++)if(l=e.typesAndValues[n].isEqual(t.typesAndValues[i]),e.typesAndValues[n].type===t.typesAndValues[i].type&&(s=s&&l),!0===l){if(0===r||r===n){r=n+1;break}return!1}if(!1===l)return!1}return 0!==r&&s}try{if(0===this.certs.length)throw"Empty certificate array";let t=!1;"passedWhenNotRevValues"in e&&(t=e.passedWhenNotRevValues);let u=[];u.push("2.5.29.32.0");let c=!1,o=!1,f=!1,h=[],g=[],p=[];"initialPolicySet"in e&&(u=e.initialPolicySet),"initialExplicitPolicy"in e&&(c=e.initialExplicitPolicy),"initialPolicyMappingInhibit"in e&&(o=e.initialPolicyMappingInhibit),"initialInhibitPolicy"in e&&(f=e.initialInhibitPolicy),"initialPermittedSubtreesSet"in e&&(h=e.initialPermittedSubtreesSet),"initialExcludedSubtreesSet"in e&&(g=e.initialExcludedSubtreesSet),"initialRequiredNameForms"in e&&(p=e.initialRequiredNameForms);let d=c,b=o,y=f;const x=new Array(3);x[0]=!1,x[1]=!1,x[2]=!1;let v=0,V=0,C=0,m=h,k=g;const P=p;let w=1;this.certs=await this.sort(t);const M=[];M.push("2.5.29.32.0");const A=[],I=new Array(this.certs.length-1);for(let e=0;e<this.certs.length-1;e++)I[e]=!0;A.push(I);const D=new Array(this.certs.length-1),E=new Array(this.certs.length-1);let j=d?this.certs.length-1:-1;for(let e=this.certs.length-2;e>=0;e--,w++)if("extensions"in this.certs[e]){for(let t=0;t<this.certs[e].extensions.length;t++){if("2.5.29.32"===this.certs[e].extensions[t].extnID){E[e]=this.certs[e].extensions[t].parsedValue;for(let t=0;t<M.length;t++)if("2.5.29.32.0"===M[t]){delete A[t][e];break}for(let s=0;s<this.certs[e].extensions[t].parsedValue.certificatePolicies.length;s++){let r=-1;for(let i=0;i<M.length;i++)if(this.certs[e].extensions[t].parsedValue.certificatePolicies[s].policyIdentifier===M[i]){r=i;break}if(-1===r){M.push(this.certs[e].extensions[t].parsedValue.certificatePolicies[s].policyIdentifier);const r=new Array(this.certs.length-1);r[e]=!0,A.push(r)}else A[r][e]=!0}}if("2.5.29.33"===this.certs[e].extensions[t].extnID){if(b)return{result:!1,resultCode:98,resultMessage:"Policy mapping prohibited"};D[e]=this.certs[e].extensions[t].parsedValue}"2.5.29.36"===this.certs[e].extensions[t].extnID&&!1===d&&(0===this.certs[e].extensions[t].parsedValue.requireExplicitPolicy?(d=!0,j=e):!1===x[0]?(x[0]=!0,v=this.certs[e].extensions[t].parsedValue.requireExplicitPolicy):v=v>this.certs[e].extensions[t].parsedValue.requireExplicitPolicy?this.certs[e].extensions[t].parsedValue.requireExplicitPolicy:v,0===this.certs[e].extensions[t].parsedValue.inhibitPolicyMapping?b=!0:!1===x[1]?(x[1]=!0,V=this.certs[e].extensions[t].parsedValue.inhibitPolicyMapping+1):V=V>this.certs[e].extensions[t].parsedValue.inhibitPolicyMapping+1?this.certs[e].extensions[t].parsedValue.inhibitPolicyMapping+1:V),"2.5.29.54"===this.certs[e].extensions[t].extnID&&!1===y&&(0===this.certs[e].extensions[t].parsedValue.valueBlock.valueDec?y=!0:!1===x[2]?(x[2]=!0,C=this.certs[e].extensions[t].parsedValue.valueBlock.valueDec):C=C>this.certs[e].extensions[t].parsedValue.valueBlock.valueDec?this.certs[e].extensions[t].parsedValue.valueBlock.valueDec:C)}if(!0===y){let t=-1;for(let e=0;e<M.length;e++)if("2.5.29.32.0"===M[e]){t=e;break}-1!==t&&delete A[0][e]}!1===d&&!0===x[0]&&0===--v&&(d=!0,j=e,x[0]=!1),!1===b&&!0===x[1]&&0===--V&&(b=!0,x[1]=!1),!1===y&&!0===x[2]&&0===--C&&(y=!0,x[2]=!1)}for(let e=0;e<this.certs.length-1;e++)if(e<this.certs.length-2&&void 0!==D[e+1])for(let t=0;t<D[e+1].mappings.length;t++){if("2.5.29.32.0"===D[e+1].mappings[t].issuerDomainPolicy||"2.5.29.32.0"===D[e+1].mappings[t].subjectDomainPolicy)return{result:!1,resultCode:99,resultMessage:'The "anyPolicy" should not be a part of policy mapping scheme'};let s=-1,r=-1;for(let i=0;i<M.length;i++)M[i]===D[e+1].mappings[t].issuerDomainPolicy&&(s=i),M[i]===D[e+1].mappings[t].subjectDomainPolicy&&(r=i);void 0!==A[s][e]&&delete A[s][e];for(let i=0;i<E[e].certificatePolicies.length;i++)if(D[e+1].mappings[t].subjectDomainPolicy===E[e].certificatePolicies[i].policyIdentifier&&-1!==s&&-1!==r)for(let t=0;t<=e;t++)void 0!==A[r][t]&&(A[s][t]=!0,delete A[r][t])}for(let e=0;e<M.length;e++)if("2.5.29.32.0"===M[e])for(let t=0;t<j;t++)delete A[e][t];const S=[];for(let e=0;e<A.length;e++){let t=!0;for(let s=0;s<this.certs.length-1;s++){let r=!1;if(s<j&&"2.5.29.32.0"===M[e]&&M.length>1){t=!1;break}if(void 0===A[e][s]){if(s>=j)for(let e=0;e<M.length;e++)if("2.5.29.32.0"===M[e]){!0===A[e][s]&&(r=!0);break}if(!r){t=!1;break}}}!0===t&&S.push(M[e])}let q=[];if(1===u.length&&"2.5.29.32.0"===u[0]&&!1===d)q=u;else if(1===S.length&&"2.5.29.32.0"===S[0])q=u;else for(let e=0;e<S.length;e++)for(let t=0;t<u.length;t++)if(u[t]===S[e]||"2.5.29.32.0"===u[t]){q.push(S[e]);break}const B={result:q.length>0,resultCode:0,resultMessage:q.length>0?"":'Zero "userConstrPolicies" array, no intersections with "authConstrPolicies"',authConstrPolicies:S,userConstrPolicies:q,explicitPolicyIndicator:d,policyMappings:D,certificatePath:this.certs};if(0===q.length)return B;if(!1===B.result)return B;w=1;for(let e=this.certs.length-2;e>=0;e--,w++){let t=[],a=[],u=[];if("extensions"in this.certs[e])for(let s=0;s<this.certs[e].extensions.length;s++)"2.5.29.30"===this.certs[e].extensions[s].extnID&&("permittedSubtrees"in this.certs[e].extensions[s].parsedValue&&(a=a.concat(this.certs[e].extensions[s].parsedValue.permittedSubtrees)),"excludedSubtrees"in this.certs[e].extensions[s].parsedValue&&(u=u.concat(this.certs[e].extensions[s].parsedValue.excludedSubtrees))),"2.5.29.17"===this.certs[e].extensions[s].extnID&&(t=t.concat(this.certs[e].extensions[s].parsedValue.altNames));let c=P.length<=0;for(let s=0;s<P.length;s++)switch(P[s].base.type){case 4:if(P[s].base.value.typesAndValues.length!==this.certs[e].subject.typesAndValues.length)continue;c=!0;for(let t=0;t<this.certs[e].subject.typesAndValues.length;t++)if(this.certs[e].subject.typesAndValues[t].type!==P[s].base.value.typesAndValues[t].type){c=!1;break}if(!0===c)break}if(!1===c)throw B.result=!1,B.resultCode=21,B.resultMessage="No neccessary name form found",B;const o=[];o[0]=[],o[1]=[],o[2]=[],o[3]=[],o[4]=[];for(let e=0;e<m.length;e++)switch(m[e].base.type){case 1:o[0].push(m[e]);break;case 2:o[1].push(m[e]);break;case 4:o[2].push(m[e]);break;case 6:o[3].push(m[e]);break;case 7:o[4].push(m[e])}for(let h=0;h<5;h++){let a=!1,u=!1;const c=o[h];for(let o=0;o<c.length;o++){switch(h){case 0:if(t.length>0)for(let e=0;e<t.length;e++)1===t[e].type&&(u=!0,a=a||r(t[e].value,c[o].base.value));else for(let t=0;t<this.certs[e].subject.typesAndValues.length;t++)"1.2.840.113549.1.9.1"!==this.certs[e].subject.typesAndValues[t].type&&"0.9.2342.19200300.100.1.3"!==this.certs[e].subject.typesAndValues[t].type||(u=!0,a=a||r(this.certs[e].subject.typesAndValues[t].value.valueBlock.value,c[o].base.value));break;case 1:if(t.length>0)for(let e=0;e<t.length;e++)2===t[e].type&&(u=!0,a=a||s(t[e].value,c[o].base.value));break;case 2:u=!0,a=n(this.certs[e].subject,c[o].base.value);break;case 3:if(t.length>0)for(let e=0;e<t.length;e++)6===t[e].type&&(u=!0,a=a||i(t[e].value,c[o].base.value));break;case 4:if(t.length>0)for(let e=0;e<t.length;e++)7===t[e].type&&(u=!0,a=a||l(t[e].value,c[o].base.value))}if(a)break}if(!1===a&&c.length>0&&u)throw B.result=!1,B.resultCode=41,B.resultMessage='Failed to meet "permitted sub-trees" name constraint',B}let f=!1;for(let h=0;h<k.length;h++){switch(k[h].base.type){case 1:if(t.length>=0)for(let e=0;e<t.length;e++)1===t[e].type&&(f=f||r(t[e].value,k[h].base.value));else for(let t=0;t<this.certs[e].subject.typesAndValues.length;t++)"1.2.840.113549.1.9.1"!==this.certs[e].subject.typesAndValues[t].type&&"0.9.2342.19200300.100.1.3"!==this.certs[e].subject.typesAndValues[t].type||(f=f||r(this.certs[e].subject.typesAndValues[t].value.valueBlock.value,k[h].base.value));break;case 2:if(t.length>0)for(let e=0;e<t.length;e++)2===t[e].type&&(f=f||s(t[e].value,k[h].base.value));break;case 4:f=f||n(this.certs[e].subject,k[h].base.value);break;case 6:if(t.length>0)for(let e=0;e<t.length;e++)6===t[e].type&&(f=f||i(t[e].value,k[h].base.value));break;case 7:if(t.length>0)for(let e=0;e<t.length;e++)7===t[e].type&&(f=f||l(t[e].value,k[h].base.value))}if(f)break}if(!0===f)throw B.result=!1,B.resultCode=42,B.resultMessage='Failed to meet "excluded sub-trees" name constraint',B;m=m.concat(a),k=k.concat(u)}return B}catch(a){if(a instanceof Object){if("resultMessage"in a)return a;if("message"in a)return{result:!1,resultCode:-1,resultMessage:a.message}}return{result:!1,resultCode:-1,resultMessage:a}}}}exports.default=s;
},{"pvutils":"V6vO","./common.js":"ViMO"}],"DFJU":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=h(require("asn1js")),t=require("pvutils"),s=require("./common.js"),r=c(require("./ResponseData.js")),a=c(require("./AlgorithmIdentifier.js")),i=c(require("./Certificate.js")),n=c(require("./CertID.js")),o=c(require("./RelativeDistinguishedNames.js")),u=c(require("./CertificateChainValidationEngine.js"));function c(e){return e&&e.__esModule?e:{default:e}}function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,s=new WeakMap;return(l=function(e){return e?s:t})(e)}function h(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var s=l(t);if(s&&s.has(e))return s.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var n=a?Object.getOwnPropertyDescriptor(e,i):null;n&&(n.get||n.set)?Object.defineProperty(r,i,n):r[i]=e[i]}return r.default=e,s&&s.set(e,r),r}class f{constructor(e={}){this.tbsResponseData=(0,t.getParametersValue)(e,"tbsResponseData",f.defaultValues("tbsResponseData")),this.signatureAlgorithm=(0,t.getParametersValue)(e,"signatureAlgorithm",f.defaultValues("signatureAlgorithm")),this.signature=(0,t.getParametersValue)(e,"signature",f.defaultValues("signature")),"certs"in e&&(this.certs=(0,t.getParametersValue)(e,"certs",f.defaultValues("certs"))),"schema"in e&&this.fromSchema(e.schema)}static defaultValues(t){switch(t){case"tbsResponseData":return new r.default;case"signatureAlgorithm":return new a.default;case"signature":return new e.BitString;case"certs":return[];default:throw new Error(`Invalid member name for BasicOCSPResponse class: ${t}`)}}static compareWithDefault(e,t){switch(e){case"type":{let e=r.default.compareWithDefault("tbs",t.tbs)&&r.default.compareWithDefault("responderID",t.responderID)&&r.default.compareWithDefault("producedAt",t.producedAt)&&r.default.compareWithDefault("responses",t.responses);return"responseExtensions"in t&&(e=e&&r.default.compareWithDefault("responseExtensions",t.responseExtensions)),e}case"signatureAlgorithm":return""===t.algorithmId&&"algorithmParams"in t==!1;case"signature":return t.isEqual(f.defaultValues(e));case"certs":return 0===t.length;default:throw new Error(`Invalid member name for BasicOCSPResponse class: ${e}`)}}static schema(s={}){const n=(0,t.getParametersValue)(s,"names",{});return new e.Sequence({name:n.blockName||"BasicOCSPResponse",value:[r.default.schema(n.tbsResponseData||{names:{blockName:"BasicOCSPResponse.tbsResponseData"}}),a.default.schema(n.signatureAlgorithm||{names:{blockName:"BasicOCSPResponse.signatureAlgorithm"}}),new e.BitString({name:n.signature||"BasicOCSPResponse.signature"}),new e.Constructed({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[new e.Sequence({value:[new e.Repeated({name:"BasicOCSPResponse.certs",value:i.default.schema(n.certs||{})})]})]})]})}fromSchema(s){(0,t.clearProps)(s,["BasicOCSPResponse.tbsResponseData","BasicOCSPResponse.signatureAlgorithm","BasicOCSPResponse.signature","BasicOCSPResponse.certs"]);const n=e.compareSchema(s,s,f.schema());if(!1===n.verified)throw new Error("Object's schema was not verified against input data for BasicOCSPResponse");this.tbsResponseData=new r.default({schema:n.result["BasicOCSPResponse.tbsResponseData"]}),this.signatureAlgorithm=new a.default({schema:n.result["BasicOCSPResponse.signatureAlgorithm"]}),this.signature=n.result["BasicOCSPResponse.signature"],"BasicOCSPResponse.certs"in n.result&&(this.certs=Array.from(n.result["BasicOCSPResponse.certs"],e=>new i.default({schema:e})))}toSchema(){const t=[];return t.push(this.tbsResponseData.toSchema()),t.push(this.signatureAlgorithm.toSchema()),t.push(this.signature),"certs"in this&&t.push(new e.Constructed({idBlock:{tagClass:3,tagNumber:0},value:[new e.Sequence({value:Array.from(this.certs,e=>e.toSchema())})]})),new e.Sequence({value:t})}toJSON(){const e={tbsResponseData:this.tbsResponseData.toJSON(),signatureAlgorithm:this.signatureAlgorithm.toJSON(),signature:this.signature.toJSON()};return"certs"in this&&(e.certs=Array.from(this.certs,e=>e.toJSON())),e}getCertificateStatus(e,t){let r=Promise.resolve();const a={isForCertificate:!1,status:2},i={},o=[],u=[];for(const c of this.tbsResponseData.responses){const r=(0,s.getAlgorithmByOID)(c.certID.hashAlgorithm.algorithmId);if("name"in r==!1)return Promise.reject(`Wrong CertID hashing algorithm: ${c.certID.hashAlgorithm.algorithmId}`);if(r.name in i==!1){i[r.name]=1;const s=new n.default;o.push(s),u.push(s.createForCertificate(e,{hashAlgorithm:r.name,issuerCertificate:t}))}}return r=(r=r.then(()=>Promise.all(u))).then(()=>{for(const t of this.tbsResponseData.responses)for(const s of o)if(t.certID.isEqual(s)){a.isForCertificate=!0;try{switch(t.certStatus.idBlock.isConstructed){case!0:1===t.certStatus.idBlock.tagNumber&&(a.status=1);break;case!1:switch(t.certStatus.idBlock.tagNumber){case 0:a.status=0;break;case 2:a.status=2}}}catch(e){}return a}return a})}sign(t,r="SHA-1"){if(void 0===t)return Promise.reject("Need to provide a private key for signing");let a,i=Promise.resolve();const n=(0,s.getEngine)();return i=(i=(i=(i=(i=i.then(()=>n.subtle.getSignatureParameters(t,r))).then(e=>{a=e.parameters,this.signatureAlgorithm=e.signatureAlgorithm})).then(()=>{this.tbsResponseData.tbs=this.tbsResponseData.toSchema(!0).toBER(!1)})).then(()=>n.subtle.signWithPrivateKey(this.tbsResponseData.tbs,t,a))).then(t=>{this.signature=new e.BitString({valueHex:t})})}verify(r={}){let a=null,i=-1,n=Promise.resolve(),c=[];const l=this,h=(0,s.getEngine)();if("certs"in this==!1)return Promise.reject("No certificates attached to the BasicOCSPResponce");"trustedCerts"in r&&(c=r.trustedCerts);const f=(0,s.getCrypto)();if(void 0===f)return Promise.reject("Unable to create WebCrypto object");switch(!0){case this.tbsResponseData.responderID instanceof o.default:n=n.then(()=>{for(const[e,t]of l.certs.entries())if(t.subject.isEqual(l.tbsResponseData.responderID)){i=e;break}});break;case this.tbsResponseData.responderID instanceof e.OctetString:n=n.then(()=>Promise.all(Array.from(l.certs,e=>f.digest({name:"sha-1"},new Uint8Array(e.subjectPublicKeyInfo.subjectPublicKey.valueBlock.valueHex)))).then(e=>{for(const[s]of l.certs.entries())if((0,t.isEqualBuffer)(e[s],l.tbsResponseData.responderID.valueBlock.valueHex)){i=s;break}}));break;default:return Promise.reject("Wrong value for responderID")}return n=(n=n.then(()=>-1===i?Promise.reject("Correct certificate was not found in OCSP response"):(a=this.certs[i],Promise.all(Array.from(l.certs,e=>(function(e){if(!0===e.issuer.isEqual(a.issuer)&&!0===e.serialNumber.isEqual(a.serialNumber))return null;let t=!1;for(const s of e.extensions)"2.5.29.19"===s.extnID&&"cA"in s.parsedValue&&!0===s.parsedValue.cA&&(t=!0);return t?e:null})(e))).then(e=>{const t=[];t.push(a);for(const s of e)null!==s&&t.push(s);return new u.default({certs:t,trustedCerts:c}).verify().then(e=>!0===e.result?Promise.resolve():Promise.reject("Validation of signer's certificate failed"),e=>Promise.reject(`Validation of signer's certificate failed with error: ${e instanceof Object?e.resultMessage:e}`))},e=>Promise.reject(`Error during checking certificates for CA flag: ${e}`))))).then(()=>h.subtle.verifyWithPublicKey(this.tbsResponseData.tbs,this.signature,this.certs[i].subjectPublicKeyInfo,this.signatureAlgorithm))}}exports.default=f;
},{"asn1js":"h7Xx","pvutils":"V6vO","./common.js":"ViMO","./ResponseData.js":"ZUDl","./AlgorithmIdentifier.js":"D4jV","./Certificate.js":"ArbZ","./CertID.js":"cVMQ","./RelativeDistinguishedNames.js":"ZcqL","./CertificateChainValidationEngine.js":"Th0l"}],"ZYga":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=l(require("asn1js")),t=require("pvutils"),i=require("./common.js"),r=n(require("./PublicKeyInfo.js")),s=n(require("./RelativeDistinguishedNames.js")),u=n(require("./AlgorithmIdentifier.js")),a=n(require("./Attribute.js"));function n(e){return e&&e.__esModule?e:{default:e}}function o(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,i=new WeakMap;return(o=function(e){return e?i:t})(e)}function l(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var i=o(t);if(i&&i.has(e))return i.get(e);var r={},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e)if("default"!==u&&Object.prototype.hasOwnProperty.call(e,u)){var a=s?Object.getOwnPropertyDescriptor(e,u):null;a&&(a.get||a.set)?Object.defineProperty(r,u,a):r[u]=e[u]}return r.default=e,i&&i.set(e,r),r}function c(i={}){const u=(0,t.getParametersValue)(i,"names",{});return new e.Sequence({name:u.CertificationRequestInfo||"CertificationRequestInfo",value:[new e.Integer({name:u.CertificationRequestInfoVersion||"CertificationRequestInfo.version"}),s.default.schema(u.subject||{names:{blockName:"CertificationRequestInfo.subject"}}),r.default.schema({names:{blockName:"CertificationRequestInfo.subjectPublicKeyInfo"}}),new e.Constructed({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[new e.Repeated({optional:!0,name:u.CertificationRequestInfoAttributes||"CertificationRequestInfo.attributes",value:a.default.schema(u.attributes||{})})]})]})}class f{constructor(e={}){this.tbs=(0,t.getParametersValue)(e,"tbs",f.defaultValues("tbs")),this.version=(0,t.getParametersValue)(e,"version",f.defaultValues("version")),this.subject=(0,t.getParametersValue)(e,"subject",f.defaultValues("subject")),this.subjectPublicKeyInfo=(0,t.getParametersValue)(e,"subjectPublicKeyInfo",f.defaultValues("subjectPublicKeyInfo")),"attributes"in e&&(this.attributes=(0,t.getParametersValue)(e,"attributes",f.defaultValues("attributes"))),this.signatureAlgorithm=(0,t.getParametersValue)(e,"signatureAlgorithm",f.defaultValues("signatureAlgorithm")),this.signatureValue=(0,t.getParametersValue)(e,"signatureValue",f.defaultValues("signatureValue")),"schema"in e&&this.fromSchema(e.schema)}static defaultValues(t){switch(t){case"tbs":return new ArrayBuffer(0);case"version":return 0;case"subject":return new s.default;case"subjectPublicKeyInfo":return new r.default;case"attributes":return[];case"signatureAlgorithm":return new u.default;case"signatureValue":return new e.BitString;default:throw new Error(`Invalid member name for CertificationRequest class: ${t}`)}}static schema(i={}){const r=(0,t.getParametersValue)(i,"names",{});return new e.Sequence({value:[c(r.certificationRequestInfo||{}),new e.Sequence({name:r.signatureAlgorithm||"signatureAlgorithm",value:[new e.ObjectIdentifier,new e.Any({optional:!0})]}),new e.BitString({name:r.signatureValue||"signatureValue"})]})}fromSchema(i){(0,t.clearProps)(i,["CertificationRequestInfo","CertificationRequestInfo.version","CertificationRequestInfo.subject","CertificationRequestInfo.subjectPublicKeyInfo","CertificationRequestInfo.attributes","signatureAlgorithm","signatureValue"]);const n=e.compareSchema(i,i,f.schema());if(!1===n.verified)throw new Error("Object's schema was not verified against input data for CertificationRequest");this.tbs=n.result.CertificationRequestInfo.valueBeforeDecode,this.version=n.result["CertificationRequestInfo.version"].valueBlock.valueDec,this.subject=new s.default({schema:n.result["CertificationRequestInfo.subject"]}),this.subjectPublicKeyInfo=new r.default({schema:n.result["CertificationRequestInfo.subjectPublicKeyInfo"]}),"CertificationRequestInfo.attributes"in n.result&&(this.attributes=Array.from(n.result["CertificationRequestInfo.attributes"],e=>new a.default({schema:e}))),this.signatureAlgorithm=new u.default({schema:n.result.signatureAlgorithm}),this.signatureValue=n.result.signatureValue}encodeTBS(){const t=[new e.Integer({value:this.version}),this.subject.toSchema(),this.subjectPublicKeyInfo.toSchema()];return"attributes"in this&&t.push(new e.Constructed({idBlock:{tagClass:3,tagNumber:0},value:Array.from(this.attributes,e=>e.toSchema())})),new e.Sequence({value:t})}toSchema(t=!1){let i;if(!1===t){if(0===this.tbs.byteLength)return f.schema();i=e.fromBER(this.tbs).result}else i=this.encodeTBS();return new e.Sequence({value:[i,this.signatureAlgorithm.toSchema(),this.signatureValue]})}toJSON(){const e={tbs:(0,t.bufferToHexCodes)(this.tbs,0,this.tbs.byteLength),version:this.version,subject:this.subject.toJSON(),subjectPublicKeyInfo:this.subjectPublicKeyInfo.toJSON(),signatureAlgorithm:this.signatureAlgorithm.toJSON(),signatureValue:this.signatureValue.toJSON()};return"attributes"in this&&(e.attributes=Array.from(this.attributes,e=>e.toJSON())),e}sign(t,r="SHA-1"){if(void 0===t)return Promise.reject("Need to provide a private key for signing");let s,u=Promise.resolve();const a=(0,i.getEngine)();return u=(u=(u=(u=(u=u.then(()=>a.subtle.getSignatureParameters(t,r))).then(e=>{s=e.parameters,this.signatureAlgorithm=e.signatureAlgorithm})).then(()=>{this.tbs=this.encodeTBS().toBER(!1)})).then(()=>a.subtle.signWithPrivateKey(this.tbs,t,s))).then(t=>{this.signatureValue=new e.BitString({valueHex:t})})}verify(){return(0,i.getEngine)().subtle.verifyWithPublicKey(this.tbs,this.signatureValue,this.subjectPublicKeyInfo,this.signatureAlgorithm)}getPublicKey(e=null){return(0,i.getEngine)().getPublicKey(this.subjectPublicKeyInfo,this.signatureAlgorithm,e)}}exports.default=f;
},{"asn1js":"h7Xx","pvutils":"V6vO","./common.js":"ViMO","./PublicKeyInfo.js":"Gwml","./RelativeDistinguishedNames.js":"ZcqL","./AlgorithmIdentifier.js":"D4jV","./Attribute.js":"stBO"}],"ugXV":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=a(require("asn1js")),t=require("pvutils"),r=i(require("./AlgorithmIdentifier.js"));function i(e){return e&&e.__esModule?e:{default:e}}function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(s=function(e){return e?r:t})(e)}function a(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=s(t);if(r&&r.has(e))return r.get(e);var i={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var n=a?Object.getOwnPropertyDescriptor(e,o):null;n&&(n.get||n.set)?Object.defineProperty(i,o,n):i[o]=e[o]}return i.default=e,r&&r.set(e,i),i}class o{constructor(e={}){this.digestAlgorithm=(0,t.getParametersValue)(e,"digestAlgorithm",o.defaultValues("digestAlgorithm")),this.digest=(0,t.getParametersValue)(e,"digest",o.defaultValues("digest")),"schema"in e&&this.fromSchema(e.schema)}static defaultValues(t){switch(t){case"digestAlgorithm":return new r.default;case"digest":return new e.OctetString;default:throw new Error(`Invalid member name for DigestInfo class: ${t}`)}}static compareWithDefault(e,t){switch(e){case"digestAlgorithm":return r.default.compareWithDefault("algorithmId",t.algorithmId)&&"algorithmParams"in t==!1;case"digest":return t.isEqual(o.defaultValues(e));default:throw new Error(`Invalid member name for DigestInfo class: ${e}`)}}static schema(i={}){const s=(0,t.getParametersValue)(i,"names",{});return new e.Sequence({name:s.blockName||"",value:[r.default.schema(s.digestAlgorithm||{names:{blockName:"digestAlgorithm"}}),new e.OctetString({name:s.digest||"digest"})]})}fromSchema(i){(0,t.clearProps)(i,["digestAlgorithm","digest"]);const s=e.compareSchema(i,i,o.schema({names:{digestAlgorithm:{names:{blockName:"digestAlgorithm"}},digest:"digest"}}));if(!1===s.verified)throw new Error("Object's schema was not verified against input data for DigestInfo");this.digestAlgorithm=new r.default({schema:s.result.digestAlgorithm}),this.digest=s.result.digest}toSchema(){return new e.Sequence({value:[this.digestAlgorithm.toSchema(),this.digest]})}toJSON(){return{digestAlgorithm:this.digestAlgorithm.toJSON(),digest:this.digest.toJSON()}}}exports.default=o;
},{"asn1js":"h7Xx","pvutils":"V6vO","./AlgorithmIdentifier.js":"D4jV"}],"c1Cx":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=o(require("asn1js")),t=require("pvutils");function n(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,o=new WeakMap;return(n=function(e){return e?o:t})(e)}function o(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var o=n(t);if(o&&o.has(e))return o.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var u=r?Object.getOwnPropertyDescriptor(e,s):null;u&&(u.get||u.set)?Object.defineProperty(a,s,u):a[s]=e[s]}return a.default=e,o&&o.set(e,a),a}class a{constructor(n={}){if(this.eContentType=(0,t.getParametersValue)(n,"eContentType",a.defaultValues("eContentType")),"eContent"in n&&(this.eContent=(0,t.getParametersValue)(n,"eContent",a.defaultValues("eContent")),1===this.eContent.idBlock.tagClass&&4===this.eContent.idBlock.tagNumber&&!1===this.eContent.idBlock.isConstructed)){const t=new e.OctetString({idBlock:{isConstructed:!0},isConstructed:!0});let n=0,o=this.eContent.valueBlock.valueHex.byteLength;for(;o>0;){const a=new Uint8Array(this.eContent.valueBlock.valueHex,n,n+65536>this.eContent.valueBlock.valueHex.byteLength?this.eContent.valueBlock.valueHex.byteLength-n:65536),r=new ArrayBuffer(a.length),s=new Uint8Array(r);for(let e=0;e<s.length;e++)s[e]=a[e];t.valueBlock.value.push(new e.OctetString({valueHex:r})),o-=a.length,n+=a.length}this.eContent=t}"schema"in n&&this.fromSchema(n.schema)}static defaultValues(t){switch(t){case"eContentType":return"";case"eContent":return new e.OctetString;default:throw new Error(`Invalid member name for EncapsulatedContentInfo class: ${t}`)}}static compareWithDefault(e,t){switch(e){case"eContentType":return""===t;case"eContent":return 1===t.idBlock.tagClass&&4===t.idBlock.tagNumber&&t.isEqual(a.defaultValues("eContent"));default:throw new Error(`Invalid member name for EncapsulatedContentInfo class: ${e}`)}}static schema(n={}){const o=(0,t.getParametersValue)(n,"names",{});return new e.Sequence({name:o.blockName||"",value:[new e.ObjectIdentifier({name:o.eContentType||""}),new e.Constructed({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[new e.Any({name:o.eContent||""})]})]})}fromSchema(n){(0,t.clearProps)(n,["eContentType","eContent"]);const o=e.compareSchema(n,n,a.schema({names:{eContentType:"eContentType",eContent:"eContent"}}));if(!1===o.verified)throw new Error("Object's schema was not verified against input data for EncapsulatedContentInfo");this.eContentType=o.result.eContentType.valueBlock.toString(),"eContent"in o.result&&(this.eContent=o.result.eContent)}toSchema(){const t=[];return t.push(new e.ObjectIdentifier({value:this.eContentType})),"eContent"in this&&!1===a.compareWithDefault("eContent",this.eContent)&&t.push(new e.Constructed({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[this.eContent]})),new e.Sequence({value:t})}toJSON(){const e={eContentType:this.eContentType};return"eContent"in this&&!1===a.compareWithDefault("eContent",this.eContent)&&(e.eContent=this.eContent.toJSON()),e}}exports.default=a;
},{"asn1js":"h7Xx","pvutils":"V6vO"}],"XF17":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=t(require("./PrivateKeyInfo.js"));function t(e){return e&&e.__esModule?e:{default:e}}class r extends e.default{constructor(e={}){super(e)}}exports.default=r;
},{"./PrivateKeyInfo.js":"Ow1x"}],"MReg":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=s(require("asn1js")),t=require("pvutils"),a=r(require("./DigestInfo.js"));function r(e){return e&&e.__esModule?e:{default:e}}function i(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(i=function(e){return e?a:t})(e)}function s(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=i(t);if(a&&a.has(e))return a.get(e);var r={},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var n in e)if("default"!==n&&Object.prototype.hasOwnProperty.call(e,n)){var c=s?Object.getOwnPropertyDescriptor(e,n):null;c&&(c.get||c.set)?Object.defineProperty(r,n,c):r[n]=e[n]}return r.default=e,a&&a.set(e,r),r}class n{constructor(e={}){this.mac=(0,t.getParametersValue)(e,"mac",n.defaultValues("mac")),this.macSalt=(0,t.getParametersValue)(e,"macSalt",n.defaultValues("macSalt")),"iterations"in e&&(this.iterations=(0,t.getParametersValue)(e,"iterations",n.defaultValues("iterations"))),"schema"in e&&this.fromSchema(e.schema)}static defaultValues(t){switch(t){case"mac":return new a.default;case"macSalt":return new e.OctetString;case"iterations":return 1;default:throw new Error(`Invalid member name for MacData class: ${t}`)}}static compareWithDefault(e,t){switch(e){case"mac":return a.default.compareWithDefault("digestAlgorithm",t.digestAlgorithm)&&a.default.compareWithDefault("digest",t.digest);case"macSalt":return t.isEqual(n.defaultValues(e));case"iterations":return t===n.defaultValues(e);default:throw new Error(`Invalid member name for MacData class: ${e}`)}}static schema(r={}){const i=(0,t.getParametersValue)(r,"names",{});return new e.Sequence({name:i.blockName||"",optional:i.optional||!0,value:[a.default.schema(i.mac||{names:{blockName:"mac"}}),new e.OctetString({name:i.macSalt||"macSalt"}),new e.Integer({optional:!0,name:i.iterations||"iterations"})]})}fromSchema(r){(0,t.clearProps)(r,["mac","macSalt","iterations"]);const i=e.compareSchema(r,r,n.schema({names:{mac:{names:{blockName:"mac"}},macSalt:"macSalt",iterations:"iterations"}}));if(!1===i.verified)throw new Error("Object's schema was not verified against input data for MacData");this.mac=new a.default({schema:i.result.mac}),this.macSalt=i.result.macSalt,"iterations"in i.result&&(this.iterations=i.result.iterations.valueBlock.valueDec)}toSchema(){const t=[this.mac.toSchema(),this.macSalt];return"iterations"in this&&t.push(new e.Integer({value:this.iterations})),new e.Sequence({value:t})}toJSON(){const e={mac:this.mac.toJSON(),macSalt:this.macSalt.toJSON()};return"iterations"in this&&(e.iterations=this.iterations.toJSON()),e}}exports.default=n;
},{"asn1js":"h7Xx","pvutils":"V6vO","./DigestInfo.js":"ugXV"}],"FmGP":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=h(require("asn1js")),a=require("pvutils"),t=s(require("./AlgorithmIdentifier.js"));function s(e){return e&&e.__esModule?e:{default:e}}function r(e){if("function"!=typeof WeakMap)return null;var a=new WeakMap,t=new WeakMap;return(r=function(e){return e?t:a})(e)}function h(e,a){if(!a&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=r(a);if(t&&t.has(e))return t.get(e);var s={},h=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var n=h?Object.getOwnPropertyDescriptor(e,i):null;n&&(n.get||n.set)?Object.defineProperty(s,i,n):s[i]=e[i]}return s.default=e,t&&t.set(e,s),s}class i{constructor(e={}){this.hashAlgorithm=(0,a.getParametersValue)(e,"hashAlgorithm",i.defaultValues("hashAlgorithm")),this.hashedMessage=(0,a.getParametersValue)(e,"hashedMessage",i.defaultValues("hashedMessage")),"schema"in e&&this.fromSchema(e.schema)}static defaultValues(a){switch(a){case"hashAlgorithm":return new t.default;case"hashedMessage":return new e.OctetString;default:throw new Error(`Invalid member name for MessageImprint class: ${a}`)}}static compareWithDefault(e,a){switch(e){case"hashAlgorithm":return""===a.algorithmId&&"algorithmParams"in a==!1;case"hashedMessage":return 0===a.isEqual(i.defaultValues(e));default:throw new Error(`Invalid member name for MessageImprint class: ${e}`)}}static schema(s={}){const r=(0,a.getParametersValue)(s,"names",{});return new e.Sequence({name:r.blockName||"",value:[t.default.schema(r.hashAlgorithm||{}),new e.OctetString({name:r.hashedMessage||""})]})}fromSchema(s){(0,a.clearProps)(s,["hashAlgorithm","hashedMessage"]);const r=e.compareSchema(s,s,i.schema({names:{hashAlgorithm:{names:{blockName:"hashAlgorithm"}},hashedMessage:"hashedMessage"}}));if(!1===r.verified)throw new Error("Object's schema was not verified against input data for MessageImprint");this.hashAlgorithm=new t.default({schema:r.result.hashAlgorithm}),this.hashedMessage=r.result.hashedMessage}toSchema(){return new e.Sequence({value:[this.hashAlgorithm.toSchema(),this.hashedMessage]})}toJSON(){return{hashAlgorithm:this.hashAlgorithm.toJSON(),hashedMessage:this.hashedMessage.toJSON()}}}exports.default=i;
},{"asn1js":"h7Xx","pvutils":"V6vO","./AlgorithmIdentifier.js":"D4jV"}],"O77D":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=u(require("asn1js")),t=require("pvutils"),s=n(require("./CertID.js")),r=n(require("./Extension.js"));function n(e){return e&&e.__esModule?e:{default:e}}function a(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,s=new WeakMap;return(a=function(e){return e?s:t})(e)}function u(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var s=a(t);if(s&&s.has(e))return s.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e)if("default"!==u&&Object.prototype.hasOwnProperty.call(e,u)){var i=n?Object.getOwnPropertyDescriptor(e,u):null;i&&(i.get||i.set)?Object.defineProperty(r,u,i):r[u]=e[u]}return r.default=e,s&&s.set(e,r),r}class i{constructor(e={}){this.reqCert=(0,t.getParametersValue)(e,"reqCert",i.defaultValues("reqCert")),"singleRequestExtensions"in e&&(this.singleRequestExtensions=(0,t.getParametersValue)(e,"singleRequestExtensions",i.defaultValues("singleRequestExtensions"))),"schema"in e&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case"reqCert":return new s.default;case"singleRequestExtensions":return[];default:throw new Error(`Invalid member name for Request class: ${e}`)}}static compareWithDefault(e,t){switch(e){case"reqCert":return t.isEqual(i.defaultValues(e));case"singleRequestExtensions":return 0===t.length;default:throw new Error(`Invalid member name for Request class: ${e}`)}}static schema(n={}){const a=(0,t.getParametersValue)(n,"names",{});return new e.Sequence({name:a.blockName||"",value:[s.default.schema(a.reqCert||{}),new e.Constructed({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[r.default.schema(a.extensions||{names:{blockName:a.singleRequestExtensions||""}})]})]})}fromSchema(n){(0,t.clearProps)(n,["reqCert","singleRequestExtensions"]);const a=e.compareSchema(n,n,i.schema({names:{reqCert:{names:{blockName:"reqCert"}},singleRequestExtensions:{names:{blockName:"singleRequestExtensions"}}}}));if(!1===a.verified)throw new Error("Object's schema was not verified against input data for Request");this.reqCert=new s.default({schema:a.result.reqCert}),"singleRequestExtensions"in a.result&&(this.singleRequestExtensions=Array.from(a.result.singleRequestExtensions.valueBlock.value,e=>new r.default({schema:e})))}toSchema(){const t=[];return t.push(this.reqCert.toSchema()),"singleRequestExtensions"in this&&t.push(new e.Constructed({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[new e.Sequence({value:Array.from(this.singleRequestExtensions,e=>e.toSchema())})]})),new e.Sequence({value:t})}toJSON(){const e={reqCert:this.reqCert.toJSON()};return"singleRequestExtensions"in this&&(e.singleRequestExtensions=Array.from(this.singleRequestExtensions,e=>e.toJSON())),e}}exports.default=i;
},{"asn1js":"h7Xx","pvutils":"V6vO","./CertID.js":"cVMQ","./Extension.js":"UuwD"}],"ucMG":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=i(require("asn1js")),t=require("pvutils"),s=n(require("./GeneralName.js")),r=n(require("./Request.js")),u=n(require("./Extension.js")),a=n(require("./Extensions.js"));function n(e){return e&&e.__esModule?e:{default:e}}function o(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,s=new WeakMap;return(o=function(e){return e?s:t})(e)}function i(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var s=o(t);if(s&&s.has(e))return s.get(e);var r={},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var n=u?Object.getOwnPropertyDescriptor(e,a):null;n&&(n.get||n.set)?Object.defineProperty(r,a,n):r[a]=e[a]}return r.default=e,s&&s.set(e,r),r}class l{constructor(e={}){this.tbs=(0,t.getParametersValue)(e,"tbs",l.defaultValues("tbs")),"version"in e&&(this.version=(0,t.getParametersValue)(e,"version",l.defaultValues("version"))),"requestorName"in e&&(this.requestorName=(0,t.getParametersValue)(e,"requestorName",l.defaultValues("requestorName"))),this.requestList=(0,t.getParametersValue)(e,"requestList",l.defaultValues("requestList")),"requestExtensions"in e&&(this.requestExtensions=(0,t.getParametersValue)(e,"requestExtensions",l.defaultValues("requestExtensions"))),"schema"in e&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case"tbs":return new ArrayBuffer(0);case"version":return 0;case"requestorName":return new s.default;case"requestList":case"requestExtensions":return[];default:throw new Error(`Invalid member name for TBSRequest class: ${e}`)}}static compareWithDefault(e,t){switch(e){case"tbs":return 0===t.byteLength;case"version":return t===l.defaultValues(e);case"requestorName":return t.type===s.default.defaultValues("type")&&0===Object.keys(t.value).length;case"requestList":case"requestExtensions":return 0===t.length;default:throw new Error(`Invalid member name for TBSRequest class: ${e}`)}}static schema(u={}){const n=(0,t.getParametersValue)(u,"names",{});return new e.Sequence({name:n.blockName||"TBSRequest",value:[new e.Constructed({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[new e.Integer({name:n.TBSRequestVersion||"TBSRequest.version"})]}),new e.Constructed({optional:!0,idBlock:{tagClass:3,tagNumber:1},value:[s.default.schema(n.requestorName||{names:{blockName:"TBSRequest.requestorName"}})]}),new e.Sequence({name:n.requestList||"TBSRequest.requestList",value:[new e.Repeated({name:n.requests||"TBSRequest.requests",value:r.default.schema(n.requestNames||{})})]}),new e.Constructed({optional:!0,idBlock:{tagClass:3,tagNumber:2},value:[a.default.schema(n.extensions||{names:{blockName:n.requestExtensions||"TBSRequest.requestExtensions"}})]})]})}fromSchema(a){(0,t.clearProps)(a,["TBSRequest","TBSRequest.version","TBSRequest.requestorName","TBSRequest.requests","TBSRequest.requestExtensions"]);const n=e.compareSchema(a,a,l.schema());if(!1===n.verified)throw new Error("Object's schema was not verified against input data for TBSRequest");this.tbs=n.result.TBSRequest.valueBeforeDecode,"TBSRequest.version"in n.result&&(this.version=n.result["TBSRequest.version"].valueBlock.valueDec),"TBSRequest.requestorName"in n.result&&(this.requestorName=new s.default({schema:n.result["TBSRequest.requestorName"]})),this.requestList=Array.from(n.result["TBSRequest.requests"],e=>new r.default({schema:e})),"TBSRequest.requestExtensions"in n.result&&(this.requestExtensions=Array.from(n.result["TBSRequest.requestExtensions"].valueBlock.value,e=>new u.default({schema:e})))}toSchema(t=!1){let s;if(!1===t){if(0===this.tbs.byteLength)return l.schema();s=e.fromBER(this.tbs).result}else{const t=[];"version"in this&&t.push(new e.Constructed({idBlock:{tagClass:3,tagNumber:0},value:[new e.Integer({value:this.version})]})),"requestorName"in this&&t.push(new e.Constructed({idBlock:{tagClass:3,tagNumber:1},value:[this.requestorName.toSchema()]})),t.push(new e.Sequence({value:Array.from(this.requestList,e=>e.toSchema())})),"requestExtensions"in this&&t.push(new e.Constructed({idBlock:{tagClass:3,tagNumber:2},value:[new e.Sequence({value:Array.from(this.requestExtensions,e=>e.toSchema())})]})),s=new e.Sequence({value:t})}return s}toJSON(){const e={};return"version"in this&&(e.version=this.version),"requestorName"in this&&(e.requestorName=this.requestorName.toJSON()),e.requestList=Array.from(this.requestList,e=>e.toJSON()),"requestExtensions"in this&&(e.requestExtensions=Array.from(this.requestExtensions,e=>e.toJSON())),e}}exports.default=l;
},{"asn1js":"h7Xx","pvutils":"V6vO","./GeneralName.js":"DITp","./Request.js":"O77D","./Extension.js":"UuwD","./Extensions.js":"wMRS"}],"diDj":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=i(require("asn1js")),t=require("pvutils"),r=s(require("./AlgorithmIdentifier.js")),a=s(require("./Certificate.js"));function s(e){return e&&e.__esModule?e:{default:e}}function n(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(n=function(e){return e?r:t})(e)}function i(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=n(t);if(r&&r.has(e))return r.get(e);var a={},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var u=s?Object.getOwnPropertyDescriptor(e,i):null;u&&(u.get||u.set)?Object.defineProperty(a,i,u):a[i]=e[i]}return a.default=e,r&&r.set(e,a),a}class u{constructor(e={}){this.signatureAlgorithm=(0,t.getParametersValue)(e,"signatureAlgorithm",u.defaultValues("signatureAlgorithm")),this.signature=(0,t.getParametersValue)(e,"signature",u.defaultValues("signature")),"certs"in e&&(this.certs=(0,t.getParametersValue)(e,"certs",u.defaultValues("certs"))),"schema"in e&&this.fromSchema(e.schema)}static defaultValues(t){switch(t){case"signatureAlgorithm":return new r.default;case"signature":return new e.BitString;case"certs":return[];default:throw new Error(`Invalid member name for Signature class: ${t}`)}}static compareWithDefault(e,t){switch(e){case"signatureAlgorithm":return""===t.algorithmId&&"algorithmParams"in t==!1;case"signature":return t.isEqual(u.defaultValues(e));case"certs":return 0===t.length;default:throw new Error(`Invalid member name for Signature class: ${e}`)}}static schema(s={}){const n=(0,t.getParametersValue)(s,"names",{});return new e.Sequence({name:n.blockName||"",value:[r.default.schema(n.signatureAlgorithm||{}),new e.BitString({name:n.signature||""}),new e.Constructed({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[new e.Sequence({value:[new e.Repeated({name:n.certs||"",value:a.default.schema(n.certs||{})})]})]})]})}fromSchema(s){(0,t.clearProps)(s,["signatureAlgorithm","signature","certs"]);const n=e.compareSchema(s,s,u.schema({names:{signatureAlgorithm:{names:{blockName:"signatureAlgorithm"}},signature:"signature",certs:"certs"}}));if(!1===n.verified)throw new Error("Object's schema was not verified against input data for Signature");this.signatureAlgorithm=new r.default({schema:n.result.signatureAlgorithm}),this.signature=n.result.signature,"certs"in n.result&&(this.certs=Array.from(n.result.certs,e=>new a.default({schema:e})))}toSchema(){const t=[];return t.push(this.signatureAlgorithm.toSchema()),t.push(this.signature),"certs"in this&&t.push(new e.Constructed({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[new e.Sequence({value:Array.from(this.certs,e=>e.toSchema())})]})),new e.Sequence({value:t})}toJSON(){const e={signatureAlgorithm:this.signatureAlgorithm.toJSON(),signature:this.signature.toJSON()};return"certs"in this&&(e.certs=Array.from(this.certs,e=>e.toJSON())),e}}exports.default=u;
},{"asn1js":"h7Xx","pvutils":"V6vO","./AlgorithmIdentifier.js":"D4jV","./Certificate.js":"ArbZ"}],"XvGI":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=l(require("asn1js")),t=require("pvutils"),r=require("./common.js"),a=u(require("./TBSRequest.js")),s=u(require("./Signature.js")),i=u(require("./Request.js")),n=u(require("./CertID.js"));function u(e){return e&&e.__esModule?e:{default:e}}function o(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(o=function(e){return e?r:t})(e)}function l(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=o(t);if(r&&r.has(e))return r.get(e);var a={},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var n=s?Object.getOwnPropertyDescriptor(e,i):null;n&&(n.get||n.set)?Object.defineProperty(a,i,n):a[i]=e[i]}return a.default=e,r&&r.set(e,a),a}class c{constructor(e={}){this.tbsRequest=(0,t.getParametersValue)(e,"tbsRequest",c.defaultValues("tbsRequest")),"optionalSignature"in e&&(this.optionalSignature=(0,t.getParametersValue)(e,"optionalSignature",c.defaultValues("optionalSignature"))),"schema"in e&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case"tbsRequest":return new a.default;case"optionalSignature":return new s.default;default:throw new Error(`Invalid member name for OCSPRequest class: ${e}`)}}static compareWithDefault(e,t){switch(e){case"tbsRequest":return a.default.compareWithDefault("tbs",t.tbs)&&a.default.compareWithDefault("version",t.version)&&a.default.compareWithDefault("requestorName",t.requestorName)&&a.default.compareWithDefault("requestList",t.requestList)&&a.default.compareWithDefault("requestExtensions",t.requestExtensions);case"optionalSignature":return s.default.compareWithDefault("signatureAlgorithm",t.signatureAlgorithm)&&s.default.compareWithDefault("signature",t.signature)&&s.default.compareWithDefault("certs",t.certs);default:throw new Error(`Invalid member name for OCSPRequest class: ${e}`)}}static schema(r={}){const i=(0,t.getParametersValue)(r,"names",{});return new e.Sequence({name:i.blockName||"OCSPRequest",value:[a.default.schema(i.tbsRequest||{names:{blockName:"tbsRequest"}}),new e.Constructed({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[s.default.schema(i.optionalSignature||{names:{blockName:"optionalSignature"}})]})]})}fromSchema(r){(0,t.clearProps)(r,["tbsRequest","optionalSignature"]);const i=e.compareSchema(r,r,c.schema());if(!1===i.verified)throw new Error("Object's schema was not verified against input data for OCSPRequest");this.tbsRequest=new a.default({schema:i.result.tbsRequest}),"optionalSignature"in i.result&&(this.optionalSignature=new s.default({schema:i.result.optionalSignature}))}toSchema(t=!1){const r=[];return r.push(this.tbsRequest.toSchema(t)),"optionalSignature"in this&&r.push(new e.Constructed({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[this.optionalSignature.toSchema()]})),new e.Sequence({value:r})}toJSON(){const e={tbsRequest:this.tbsRequest.toJSON()};return"optionalSignature"in this&&(e.optionalSignature=this.optionalSignature.toJSON()),e}createForCertificate(e,t){let r=Promise.resolve();const s=new n.default;return r=(r=r.then(()=>s.createForCertificate(e,t))).then(()=>{this.tbsRequest=new a.default({requestList:[new i.default({reqCert:s})]})},e=>Promise.reject(e))}sign(t,a="SHA-1"){if(void 0===t)return Promise.reject("Need to provide a private key for signing");if("optionalSignature"in this==!1)return Promise.reject('Need to create "optionalSignature" field before signing');let s,i,n=Promise.resolve();const u=(0,r.getEngine)();return n=(n=(n=(n=(n=n.then(()=>u.subtle.getSignatureParameters(t,a))).then(e=>{s=e.parameters,this.optionalSignature.signatureAlgorithm=e.signatureAlgorithm})).then(()=>{i=this.tbsRequest.toSchema(!0).toBER(!1)})).then(()=>u.subtle.signWithPrivateKey(i,t,s))).then(t=>{this.optionalSignature.signature=new e.BitString({valueHex:t})})}verify(){}}exports.default=c;
},{"asn1js":"h7Xx","pvutils":"V6vO","./common.js":"ViMO","./TBSRequest.js":"ucMG","./Signature.js":"diDj","./Request.js":"O77D","./CertID.js":"cVMQ"}],"zbed":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=t(require("asn1js")),s=require("pvutils");function r(e){if("function"!=typeof WeakMap)return null;var s=new WeakMap,t=new WeakMap;return(r=function(e){return e?t:s})(e)}function t(e,s){if(!s&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=r(s);if(t&&t.has(e))return t.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var p=a?Object.getOwnPropertyDescriptor(e,o):null;p&&(p.get||p.set)?Object.defineProperty(n,o,p):n[o]=e[o]}return n.default=e,t&&t.set(e,n),n}class n{constructor(e={}){this.responseType=(0,s.getParametersValue)(e,"responseType",n.defaultValues("responseType")),this.response=(0,s.getParametersValue)(e,"response",n.defaultValues("response")),"schema"in e&&this.fromSchema(e.schema)}static defaultValues(s){switch(s){case"responseType":return"";case"response":return new e.OctetString;default:throw new Error(`Invalid member name for ResponseBytes class: ${s}`)}}static compareWithDefault(e,s){switch(e){case"responseType":return""===s;case"response":return s.isEqual(n.defaultValues(e));default:throw new Error(`Invalid member name for ResponseBytes class: ${e}`)}}static schema(r={}){const t=(0,s.getParametersValue)(r,"names",{});return new e.Sequence({name:t.blockName||"",value:[new e.ObjectIdentifier({name:t.responseType||""}),new e.OctetString({name:t.response||""})]})}fromSchema(r){(0,s.clearProps)(r,["responseType","response"]);const t=e.compareSchema(r,r,n.schema({names:{responseType:"responseType",response:"response"}}));if(!1===t.verified)throw new Error("Object's schema was not verified against input data for ResponseBytes");this.responseType=t.result.responseType.valueBlock.toString(),this.response=t.result.response}toSchema(){return new e.Sequence({value:[new e.ObjectIdentifier({value:this.responseType}),this.response]})}toJSON(){return{responseType:this.responseType,response:this.response.toJSON()}}}exports.default=n;
},{"asn1js":"h7Xx","pvutils":"V6vO"}],"L20S":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=a(require("asn1js")),s=require("pvutils"),t=n(require("./ResponseBytes.js")),r=n(require("./BasicOCSPResponse.js"));function n(e){return e&&e.__esModule?e:{default:e}}function o(e){if("function"!=typeof WeakMap)return null;var s=new WeakMap,t=new WeakMap;return(o=function(e){return e?t:s})(e)}function a(e,s){if(!s&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=o(s);if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var u=n?Object.getOwnPropertyDescriptor(e,a):null;u&&(u.get||u.set)?Object.defineProperty(r,a,u):r[a]=e[a]}return r.default=e,t&&t.set(e,r),r}class u{constructor(e={}){this.responseStatus=(0,s.getParametersValue)(e,"responseStatus",u.defaultValues("responseStatus")),"responseBytes"in e&&(this.responseBytes=(0,s.getParametersValue)(e,"responseBytes",u.defaultValues("responseBytes"))),"schema"in e&&this.fromSchema(e.schema)}static defaultValues(s){switch(s){case"responseStatus":return new e.Enumerated;case"responseBytes":return new t.default;default:throw new Error(`Invalid member name for OCSPResponse class: ${s}`)}}static compareWithDefault(e,s){switch(e){case"responseStatus":return s.isEqual(u.defaultValues(e));case"responseBytes":return t.default.compareWithDefault("responseType",s.responseType)&&t.default.compareWithDefault("response",s.response);default:throw new Error(`Invalid member name for OCSPResponse class: ${e}`)}}static schema(r={}){const n=(0,s.getParametersValue)(r,"names",{});return new e.Sequence({name:n.blockName||"OCSPResponse",value:[new e.Enumerated({name:n.responseStatus||"responseStatus"}),new e.Constructed({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[t.default.schema(n.responseBytes||{names:{blockName:"responseBytes"}})]})]})}fromSchema(r){(0,s.clearProps)(r,["responseStatus","responseBytes"]);const n=e.compareSchema(r,r,u.schema());if(!1===n.verified)throw new Error("Object's schema was not verified against input data for OCSPResponse");this.responseStatus=n.result.responseStatus,"responseBytes"in n.result&&(this.responseBytes=new t.default({schema:n.result.responseBytes}))}toSchema(){const s=[];return s.push(this.responseStatus),"responseBytes"in this&&s.push(new e.Constructed({idBlock:{tagClass:3,tagNumber:0},value:[this.responseBytes.toSchema()]})),new e.Sequence({value:s})}toJSON(){const e={responseStatus:this.responseStatus.toJSON()};return"responseBytes"in this&&(e.responseBytes=this.responseBytes.toJSON()),e}getCertificateStatus(s,t){let n;const o={isForCertificate:!1,status:2};if("responseBytes"in this==!1)return o;if("1.3.6.1.5.5.7.48.1.1"!==this.responseBytes.responseType)return o;try{const s=e.fromBER(this.responseBytes.response.valueBlock.valueHex);n=new r.default({schema:s.result})}catch(a){return o}return n.getCertificateStatus(s,t)}sign(s,t){if("1.3.6.1.5.5.7.48.1.1"===this.responseBytes.responseType){const n=e.fromBER(this.responseBytes.response.valueBlock.valueHex);return new r.default({schema:n.result}).sign(s,t)}return Promise.reject(`Unknown ResponseBytes type: ${this.responseBytes.responseType}`)}verify(s=null){if("responseBytes"in this==!1)return Promise.reject("Empty ResponseBytes field");if("1.3.6.1.5.5.7.48.1.1"===this.responseBytes.responseType){const t=e.fromBER(this.responseBytes.response.valueBlock.valueHex),n=new r.default({schema:t.result});return null!==s&&("certs"in n==!1&&(n.certs=[]),n.certs.push(s)),n.verify()}return Promise.reject(`Unknown ResponseBytes type: ${this.responseBytes.responseType}`)}}exports.default=u;
},{"asn1js":"h7Xx","pvutils":"V6vO","./ResponseBytes.js":"zbed","./BasicOCSPResponse.js":"DFJU"}],"IXdD":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=i(require("asn1js")),t=require("pvutils"),r=a(require("./Attribute.js"));function a(e){return e&&e.__esModule?e:{default:e}}function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(s=function(e){return e?r:t})(e)}function i(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=s(t);if(r&&r.has(e))return r.get(e);var a={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e)if("default"!==u&&Object.prototype.hasOwnProperty.call(e,u)){var n=i?Object.getOwnPropertyDescriptor(e,u):null;n&&(n.get||n.set)?Object.defineProperty(a,u,n):a[u]=e[u]}return a.default=e,r&&r.set(e,a),a}class u{constructor(e={}){this.type=(0,t.getParametersValue)(e,"type",u.defaultValues("type")),this.attributes=(0,t.getParametersValue)(e,"attributes",u.defaultValues("attributes")),this.encodedValue=(0,t.getParametersValue)(e,"encodedValue",u.defaultValues("encodedValue")),"schema"in e&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case"type":return-1;case"attributes":return[];case"encodedValue":return new ArrayBuffer(0);default:throw new Error(`Invalid member name for SignedAndUnsignedAttributes class: ${e}`)}}static compareWithDefault(e,t){switch(e){case"type":return t===u.defaultValues("type");case"attributes":return 0===t.length;case"encodedValue":return 0===t.byteLength;default:throw new Error(`Invalid member name for SignedAndUnsignedAttributes class: ${e}`)}}static schema(a={}){const s=(0,t.getParametersValue)(a,"names",{});return new e.Constructed({name:s.blockName||"",optional:!0,idBlock:{tagClass:3,tagNumber:s.tagNumber},value:[new e.Repeated({name:s.attributes||"",value:r.default.schema()})]})}fromSchema(a){(0,t.clearProps)(a,["attributes"]);const s=e.compareSchema(a,a,u.schema({names:{tagNumber:this.type,attributes:"attributes"}}));if(!1===s.verified)throw new Error("Object's schema was not verified against input data for SignedAndUnsignedAttributes");if(this.type=s.result.idBlock.tagNumber,this.encodedValue=s.result.valueBeforeDecode,new Uint8Array(this.encodedValue)[0]=49,"attributes"in s.result!=!1)this.attributes=Array.from(s.result.attributes,e=>new r.default({schema:e}));else if(0===this.type)throw new Error("Wrong structure of SignedUnsignedAttributes")}toSchema(){if(u.compareWithDefault("type",this.type)||u.compareWithDefault("attributes",this.attributes))throw new Error('Incorrectly initialized "SignedAndUnsignedAttributes" class');return new e.Constructed({optional:!0,idBlock:{tagClass:3,tagNumber:this.type},value:Array.from(this.attributes,e=>e.toSchema())})}toJSON(){if(u.compareWithDefault("type",this.type)||u.compareWithDefault("attributes",this.attributes))throw new Error('Incorrectly initialized "SignedAndUnsignedAttributes" class');return{type:this.type,attributes:Array.from(this.attributes,e=>e.toJSON())}}}exports.default=u;
},{"asn1js":"h7Xx","pvutils":"V6vO","./Attribute.js":"stBO"}],"jnvZ":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=u(require("asn1js")),t=require("pvutils"),s=n(require("./AlgorithmIdentifier.js")),r=n(require("./SignedAndUnsignedAttributes.js")),i=n(require("./IssuerAndSerialNumber.js"));function n(e){return e&&e.__esModule?e:{default:e}}function a(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,s=new WeakMap;return(a=function(e){return e?s:t})(e)}function u(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var s=a(t);if(s&&s.has(e))return s.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var n in e)if("default"!==n&&Object.prototype.hasOwnProperty.call(e,n)){var u=i?Object.getOwnPropertyDescriptor(e,n):null;u&&(u.get||u.set)?Object.defineProperty(r,n,u):r[n]=e[n]}return r.default=e,s&&s.set(e,r),r}class o{constructor(e={}){this.version=(0,t.getParametersValue)(e,"version",o.defaultValues("version")),this.sid=(0,t.getParametersValue)(e,"sid",o.defaultValues("sid")),this.digestAlgorithm=(0,t.getParametersValue)(e,"digestAlgorithm",o.defaultValues("digestAlgorithm")),"signedAttrs"in e&&(this.signedAttrs=(0,t.getParametersValue)(e,"signedAttrs",o.defaultValues("signedAttrs"))),this.signatureAlgorithm=(0,t.getParametersValue)(e,"signatureAlgorithm",o.defaultValues("signatureAlgorithm")),this.signature=(0,t.getParametersValue)(e,"signature",o.defaultValues("signature")),"unsignedAttrs"in e&&(this.unsignedAttrs=(0,t.getParametersValue)(e,"unsignedAttrs",o.defaultValues("unsignedAttrs"))),"schema"in e&&this.fromSchema(e.schema)}static defaultValues(t){switch(t){case"version":return 0;case"sid":return new e.Any;case"digestAlgorithm":return new s.default;case"signedAttrs":return new r.default({type:0});case"signatureAlgorithm":return new s.default;case"signature":return new e.OctetString;case"unsignedAttrs":return new r.default({type:1});default:throw new Error(`Invalid member name for SignerInfo class: ${t}`)}}static compareWithDefault(t,i){switch(t){case"version":return o.defaultValues("version")===i;case"sid":return i instanceof e.Any;case"digestAlgorithm":return i instanceof s.default!=!1&&i.isEqual(o.defaultValues("digestAlgorithm"));case"signedAttrs":return r.default.compareWithDefault("type",i.type)&&r.default.compareWithDefault("attributes",i.attributes)&&r.default.compareWithDefault("encodedValue",i.encodedValue);case"signatureAlgorithm":return i instanceof s.default!=!1&&i.isEqual(o.defaultValues("signatureAlgorithm"));case"signature":case"unsignedAttrs":return r.default.compareWithDefault("type",i.type)&&r.default.compareWithDefault("attributes",i.attributes)&&r.default.compareWithDefault("encodedValue",i.encodedValue);default:throw new Error(`Invalid member name for SignerInfo class: ${t}`)}}static schema(n={}){const a=(0,t.getParametersValue)(n,"names",{});return new e.Sequence({name:"SignerInfo",value:[new e.Integer({name:a.version||"SignerInfo.version"}),new e.Choice({value:[i.default.schema(a.sid||{names:{blockName:"SignerInfo.sid"}}),new e.Choice({value:[new e.Constructed({optional:!0,name:a.sid||"SignerInfo.sid",idBlock:{tagClass:3,tagNumber:0},value:[new e.OctetString]}),new e.Primitive({optional:!0,name:a.sid||"SignerInfo.sid",idBlock:{tagClass:3,tagNumber:0},value:[new e.OctetString]})]})]}),s.default.schema(a.digestAlgorithm||{names:{blockName:"SignerInfo.digestAlgorithm"}}),r.default.schema(a.signedAttrs||{names:{blockName:"SignerInfo.signedAttrs",tagNumber:0}}),s.default.schema(a.signatureAlgorithm||{names:{blockName:"SignerInfo.signatureAlgorithm"}}),new e.OctetString({name:a.signature||"SignerInfo.signature"}),r.default.schema(a.unsignedAttrs||{names:{blockName:"SignerInfo.unsignedAttrs",tagNumber:1}})]})}fromSchema(n){(0,t.clearProps)(n,["SignerInfo.version","SignerInfo.sid","SignerInfo.digestAlgorithm","SignerInfo.signedAttrs","SignerInfo.signatureAlgorithm","SignerInfo.signature","SignerInfo.unsignedAttrs"]);const a=e.compareSchema(n,n,o.schema());if(!1===a.verified)throw new Error("Object's schema was not verified against input data for SignerInfo");this.version=a.result["SignerInfo.version"].valueBlock.valueDec;const u=a.result["SignerInfo.sid"];1===u.idBlock.tagClass?this.sid=new i.default({schema:u}):this.sid=u,this.digestAlgorithm=new s.default({schema:a.result["SignerInfo.digestAlgorithm"]}),"SignerInfo.signedAttrs"in a.result&&(this.signedAttrs=new r.default({type:0,schema:a.result["SignerInfo.signedAttrs"]})),this.signatureAlgorithm=new s.default({schema:a.result["SignerInfo.signatureAlgorithm"]}),this.signature=a.result["SignerInfo.signature"],"SignerInfo.unsignedAttrs"in a.result&&(this.unsignedAttrs=new r.default({type:1,schema:a.result["SignerInfo.unsignedAttrs"]}))}toSchema(){if(o.compareWithDefault("sid",this.sid))throw new Error('Incorrectly initialized "SignerInfo" class');const t=[];return t.push(new e.Integer({value:this.version})),this.sid instanceof i.default?t.push(this.sid.toSchema()):t.push(this.sid),t.push(this.digestAlgorithm.toSchema()),"signedAttrs"in this&&!1===o.compareWithDefault("signedAttrs",this.signedAttrs)&&t.push(this.signedAttrs.toSchema()),t.push(this.signatureAlgorithm.toSchema()),t.push(this.signature),"unsignedAttrs"in this&&!1===o.compareWithDefault("unsignedAttrs",this.unsignedAttrs)&&t.push(this.unsignedAttrs.toSchema()),new e.Sequence({value:t})}toJSON(){if(o.compareWithDefault("sid",this.sid))throw new Error('Incorrectly initialized "SignerInfo" class');const t={version:this.version};return this.sid instanceof e.Any||(t.sid=this.sid.toJSON()),t.digestAlgorithm=this.digestAlgorithm.toJSON(),!1===o.compareWithDefault("signedAttrs",this.signedAttrs)&&(t.signedAttrs=this.signedAttrs.toJSON()),t.signatureAlgorithm=this.signatureAlgorithm.toJSON(),t.signature=this.signature.toJSON(),!1===o.compareWithDefault("unsignedAttrs",this.unsignedAttrs)&&(t.unsignedAttrs=this.unsignedAttrs.toJSON()),t}}exports.default=o;
},{"asn1js":"h7Xx","pvutils":"V6vO","./AlgorithmIdentifier.js":"D4jV","./SignedAndUnsignedAttributes.js":"IXdD","./IssuerAndSerialNumber.js":"zQFJ"}],"hjnE":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=l(require("asn1js")),t=require("pvutils"),n=require("./common.js"),a=o(require("./MessageImprint.js")),r=o(require("./Accuracy.js")),s=o(require("./GeneralName.js")),i=o(require("./Extension.js"));function o(e){return e&&e.__esModule?e:{default:e}}function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}function l(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var i=r?Object.getOwnPropertyDescriptor(e,s):null;i&&(i.get||i.set)?Object.defineProperty(a,s,i):a[s]=e[s]}return a.default=e,n&&n.set(e,a),a}class c{constructor(e={}){this.version=(0,t.getParametersValue)(e,"version",c.defaultValues("version")),this.policy=(0,t.getParametersValue)(e,"policy",c.defaultValues("policy")),this.messageImprint=(0,t.getParametersValue)(e,"messageImprint",c.defaultValues("messageImprint")),this.serialNumber=(0,t.getParametersValue)(e,"serialNumber",c.defaultValues("serialNumber")),this.genTime=(0,t.getParametersValue)(e,"genTime",c.defaultValues("genTime")),"accuracy"in e&&(this.accuracy=(0,t.getParametersValue)(e,"accuracy",c.defaultValues("accuracy"))),"ordering"in e&&(this.ordering=(0,t.getParametersValue)(e,"ordering",c.defaultValues("ordering"))),"nonce"in e&&(this.nonce=(0,t.getParametersValue)(e,"nonce",c.defaultValues("nonce"))),"tsa"in e&&(this.tsa=(0,t.getParametersValue)(e,"tsa",c.defaultValues("tsa"))),"extensions"in e&&(this.extensions=(0,t.getParametersValue)(e,"extensions",c.defaultValues("extensions"))),"schema"in e&&this.fromSchema(e.schema)}static defaultValues(t){switch(t){case"version":return 0;case"policy":return"";case"messageImprint":return new a.default;case"serialNumber":return new e.Integer;case"genTime":return new Date(0,0,0);case"accuracy":return new r.default;case"ordering":return!1;case"nonce":return new e.Integer;case"tsa":return new s.default;case"extensions":return[];default:throw new Error(`Invalid member name for TSTInfo class: ${t}`)}}static compareWithDefault(e,t){switch(e){case"version":case"policy":case"genTime":case"ordering":return t===c.defaultValues(e);case"messageImprint":return a.default.compareWithDefault("hashAlgorithm",t.hashAlgorithm)&&a.default.compareWithDefault("hashedMessage",t.hashedMessage);case"serialNumber":case"nonce":return t.isEqual(c.defaultValues(e));case"accuracy":return r.default.compareWithDefault("seconds",t.seconds)&&r.default.compareWithDefault("millis",t.millis)&&r.default.compareWithDefault("micros",t.micros);case"tsa":return s.default.compareWithDefault("type",t.type)&&s.default.compareWithDefault("value",t.value);case"extensions":return 0===t.length;default:throw new Error(`Invalid member name for TSTInfo class: ${e}`)}}static schema(n={}){const o=(0,t.getParametersValue)(n,"names",{});return new e.Sequence({name:o.blockName||"TSTInfo",value:[new e.Integer({name:o.version||"TSTInfo.version"}),new e.ObjectIdentifier({name:o.policy||"TSTInfo.policy"}),a.default.schema(o.messageImprint||{names:{blockName:"TSTInfo.messageImprint"}}),new e.Integer({name:o.serialNumber||"TSTInfo.serialNumber"}),new e.GeneralizedTime({name:o.genTime||"TSTInfo.genTime"}),r.default.schema(o.accuracy||{names:{blockName:"TSTInfo.accuracy"}}),new e.Boolean({name:o.ordering||"TSTInfo.ordering",optional:!0}),new e.Integer({name:o.nonce||"TSTInfo.nonce",optional:!0}),new e.Constructed({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[s.default.schema(o.tsa||{names:{blockName:"TSTInfo.tsa"}})]}),new e.Constructed({optional:!0,idBlock:{tagClass:3,tagNumber:1},value:[new e.Repeated({name:o.extensions||"TSTInfo.extensions",value:i.default.schema(o.extension||{})})]})]})}fromSchema(n){(0,t.clearProps)(n,["TSTInfo.version","TSTInfo.policy","TSTInfo.messageImprint","TSTInfo.serialNumber","TSTInfo.genTime","TSTInfo.accuracy","TSTInfo.ordering","TSTInfo.nonce","TSTInfo.tsa","TSTInfo.extensions"]);const o=e.compareSchema(n,n,c.schema());if(!1===o.verified)throw new Error("Object's schema was not verified against input data for TSTInfo");this.version=o.result["TSTInfo.version"].valueBlock.valueDec,this.policy=o.result["TSTInfo.policy"].valueBlock.toString(),this.messageImprint=new a.default({schema:o.result["TSTInfo.messageImprint"]}),this.serialNumber=o.result["TSTInfo.serialNumber"],this.genTime=o.result["TSTInfo.genTime"].toDate(),"TSTInfo.accuracy"in o.result&&(this.accuracy=new r.default({schema:o.result["TSTInfo.accuracy"]})),"TSTInfo.ordering"in o.result&&(this.ordering=o.result["TSTInfo.ordering"].valueBlock.value),"TSTInfo.nonce"in o.result&&(this.nonce=o.result["TSTInfo.nonce"]),"TSTInfo.tsa"in o.result&&(this.tsa=new s.default({schema:o.result["TSTInfo.tsa"]})),"TSTInfo.extensions"in o.result&&(this.extensions=Array.from(o.result["TSTInfo.extensions"],e=>new i.default({schema:e})))}toSchema(){const t=[];return t.push(new e.Integer({value:this.version})),t.push(new e.ObjectIdentifier({value:this.policy})),t.push(this.messageImprint.toSchema()),t.push(this.serialNumber),t.push(new e.GeneralizedTime({valueDate:this.genTime})),"accuracy"in this&&t.push(this.accuracy.toSchema()),"ordering"in this&&t.push(new e.Boolean({value:this.ordering})),"nonce"in this&&t.push(this.nonce),"tsa"in this&&t.push(new e.Constructed({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[this.tsa.toSchema()]})),"extensions"in this&&t.push(new e.Constructed({optional:!0,idBlock:{tagClass:3,tagNumber:1},value:Array.from(this.extensions,e=>e.toSchema())})),new e.Sequence({value:t})}toJSON(){const e={version:this.version,policy:this.policy,messageImprint:this.messageImprint.toJSON(),serialNumber:this.serialNumber.toJSON(),genTime:this.genTime};return"accuracy"in this&&(e.accuracy=this.accuracy.toJSON()),"ordering"in this&&(e.ordering=this.ordering),"nonce"in this&&(e.nonce=this.nonce.toJSON()),"tsa"in this&&(e.tsa=this.tsa.toJSON()),"extensions"in this&&(e.extensions=Array.from(this.extensions,e=>e.toJSON())),e}verify(e={}){let a,r=Promise.resolve(),s=null,i=null;const o=(0,n.getCrypto)();if(void 0===o)return Promise.reject("Unable to create WebCrypto object");if(!("data"in e))return Promise.reject('"data" is a mandatory attribute for TST_INFO verification');if(a=e.data,"notBefore"in e&&(s=e.notBefore),"notAfter"in e&&(i=e.notAfter),null!==s&&this.genTime<s)return Promise.reject("Generation time for TSTInfo object is less than notBefore value");if(null!==i&&this.genTime>i)return Promise.reject("Generation time for TSTInfo object is more than notAfter value");const u=(0,n.getAlgorithmByOID)(this.messageImprint.hashAlgorithm.algorithmId);return"name"in u==!1?Promise.reject(`Unsupported signature algorithm: ${this.messageImprint.hashAlgorithm.algorithmId}`):r=r.then(()=>o.digest(u.name,new Uint8Array(a))).then(e=>(0,t.isEqualBuffer)(e,this.messageImprint.hashedMessage.valueBlock.valueHex))}}exports.default=c;
},{"asn1js":"h7Xx","pvutils":"V6vO","./common.js":"ViMO","./MessageImprint.js":"FmGP","./Accuracy.js":"oACs","./GeneralName.js":"DITp","./Extension.js":"UuwD"}],"MPjQ":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=v(require("asn1js")),t=require("pvutils"),i=require("./common.js"),r=m(require("./AlgorithmIdentifier.js")),s=m(require("./EncapsulatedContentInfo.js")),n=m(require("./Certificate.js")),a=m(require("./CertificateRevocationList.js")),o=m(require("./OtherRevocationInfoFormat.js")),c=m(require("./SignerInfo.js")),l=m(require("./CertificateSet.js")),u=m(require("./RevocationInfoChoices.js")),f=m(require("./IssuerAndSerialNumber.js")),d=m(require("./TSTInfo.js")),g=m(require("./CertificateChainValidationEngine.js")),h=m(require("./BasicOCSPResponse.js"));function m(e){return e&&e.__esModule?e:{default:e}}function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,i=new WeakMap;return(p=function(e){return e?i:t})(e)}function v(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var i=p(t);if(i&&i.has(e))return i.get(e);var r={},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var n in e)if("default"!==n&&Object.prototype.hasOwnProperty.call(e,n)){var a=s?Object.getOwnPropertyDescriptor(e,n):null;a&&(a.get||a.set)?Object.defineProperty(r,n,a):r[n]=e[n]}return r.default=e,i&&i.set(e,r),r}class C{constructor(e={}){this.version=(0,t.getParametersValue)(e,"version",C.defaultValues("version")),this.digestAlgorithms=(0,t.getParametersValue)(e,"digestAlgorithms",C.defaultValues("digestAlgorithms")),this.encapContentInfo=(0,t.getParametersValue)(e,"encapContentInfo",C.defaultValues("encapContentInfo")),"certificates"in e&&(this.certificates=(0,t.getParametersValue)(e,"certificates",C.defaultValues("certificates"))),"crls"in e&&(this.crls=(0,t.getParametersValue)(e,"crls",C.defaultValues("crls"))),"ocsps"in e&&(this.ocsps=(0,t.getParametersValue)(e,"ocsps",C.defaultValues("ocsps"))),this.signerInfos=(0,t.getParametersValue)(e,"signerInfos",C.defaultValues("signerInfos")),"schema"in e&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case"version":return 0;case"digestAlgorithms":return[];case"encapContentInfo":return new s.default;case"certificates":case"crls":case"ocsps":case"signerInfos":return[];default:throw new Error(`Invalid member name for SignedData class: ${e}`)}}static compareWithDefault(e,t){switch(e){case"version":return t===C.defaultValues("version");case"encapContentInfo":return new s.default;case"digestAlgorithms":case"certificates":case"crls":case"ocsps":case"signerInfos":return 0===t.length;default:throw new Error(`Invalid member name for SignedData class: ${e}`)}}static schema(i={}){const n=(0,t.getParametersValue)(i,"names",{});return"optional"in n==!1&&(n.optional=!1),new e.Sequence({name:n.blockName||"SignedData",optional:n.optional,value:[new e.Integer({name:n.version||"SignedData.version"}),new e.Set({value:[new e.Repeated({name:n.digestAlgorithms||"SignedData.digestAlgorithms",value:r.default.schema()})]}),s.default.schema(n.encapContentInfo||{names:{blockName:"SignedData.encapContentInfo"}}),new e.Constructed({name:n.certificates||"SignedData.certificates",optional:!0,idBlock:{tagClass:3,tagNumber:0},value:l.default.schema().valueBlock.value}),new e.Constructed({optional:!0,idBlock:{tagClass:3,tagNumber:1},value:u.default.schema(n.crls||{names:{crls:"SignedData.crls"}}).valueBlock.value}),new e.Set({value:[new e.Repeated({name:n.signerInfos||"SignedData.signerInfos",value:c.default.schema()})]})]})}fromSchema(i){(0,t.clearProps)(i,["SignedData.version","SignedData.digestAlgorithms","SignedData.encapContentInfo","SignedData.certificates","SignedData.crls","SignedData.signerInfos"]);const n=e.compareSchema(i,i,C.schema());if(!1===n.verified)throw new Error("Object's schema was not verified against input data for SignedData");if(this.version=n.result["SignedData.version"].valueBlock.valueDec,"SignedData.digestAlgorithms"in n.result&&(this.digestAlgorithms=Array.from(n.result["SignedData.digestAlgorithms"],e=>new r.default({schema:e}))),this.encapContentInfo=new s.default({schema:n.result["SignedData.encapContentInfo"]}),"SignedData.certificates"in n.result){const t=new l.default({schema:new e.Set({value:n.result["SignedData.certificates"].valueBlock.value})});this.certificates=t.certificates.slice(0)}"SignedData.crls"in n.result&&(this.crls=Array.from(n.result["SignedData.crls"],e=>1===e.idBlock.tagClass?new a.default({schema:e}):(e.idBlock.tagClass=1,e.idBlock.tagNumber=16,new o.default({schema:e})))),"SignedData.signerInfos"in n.result&&(this.signerInfos=Array.from(n.result["SignedData.signerInfos"],e=>new c.default({schema:e})))}toSchema(t=!1){const i=[];if(i.push(new e.Integer({value:this.version})),i.push(new e.Set({value:Array.from(this.digestAlgorithms,e=>e.toSchema(t))})),i.push(this.encapContentInfo.toSchema()),"certificates"in this){const t=new l.default({certificates:this.certificates}).toSchema();i.push(new e.Constructed({idBlock:{tagClass:3,tagNumber:0},value:t.valueBlock.value}))}return"crls"in this&&i.push(new e.Constructed({idBlock:{tagClass:3,tagNumber:1},value:Array.from(this.crls,e=>{if(e instanceof o.default){const i=e.toSchema(t);return i.idBlock.tagClass=3,i.idBlock.tagNumber=1,i}return e.toSchema(t)})})),i.push(new e.Set({value:Array.from(this.signerInfos,e=>e.toSchema(t))})),new e.Sequence({value:i})}toJSON(){const e={version:this.version,digestAlgorithms:Array.from(this.digestAlgorithms,e=>e.toJSON()),encapContentInfo:this.encapContentInfo.toJSON()};return"certificates"in this&&(e.certificates=Array.from(this.certificates,e=>e.toJSON())),"crls"in this&&(e.crls=Array.from(this.crls,e=>e.toJSON())),e.signerInfos=Array.from(this.signerInfos,e=>e.toJSON()),e}verify({signer:r=-1,data:s=new ArrayBuffer(0),trustedCerts:a=[],checkDate:o=new Date,checkChain:c=!1,extendedMode:l=!1,passedWhenNotRevValues:u=!1,findOrigin:m=null,findIssuer:p=null}={}){let v=Promise.resolve(),C=new ArrayBuffer(0),I="",b={},y=null,A=[];const S=(0,i.getEngine)(),P=(0,i.getCrypto)();if(void 0===P)return Promise.reject("Unable to create WebCrypto object");if(-1===r)return l?Promise.reject({date:o,code:1,message:"Unable to get signer index from input parameters",signatureVerified:null,signerCertificate:null,signerCertificateVerified:null}):Promise.reject("Unable to get signer index from input parameters");if("certificates"in this==!1)return l?Promise.reject({date:o,code:2,message:"No certificates attached to this signed data",signatureVerified:null,signerCertificate:null,signerCertificateVerified:null}):Promise.reject("No certificates attached to this signed data");return v=(v=this.signerInfos[r].sid instanceof f.default?v.then(()=>{for(const e of this.certificates)if(e instanceof n.default!=!1&&e.issuer.isEqual(this.signerInfos[r].sid.issuer)&&e.serialNumber.isEqual(this.signerInfos[r].sid.serialNumber))return b=e,Promise.resolve();return l?Promise.reject({date:o,code:3,message:"Unable to find signer certificate",signatureVerified:null,signerCertificate:null,signerCertificateVerified:null}):Promise.reject("Unable to find signer certificate")}):(async()=>{try{const i=this.signerInfos[r].sid,s=i.idBlock.isConstructed?i.valueBlock.value[0].valueBlock.valueHex:i.valueBlock.valueHex;for(const e of this.certificates){if(!(e instanceof n.default))continue;const i=await P.digest({name:"sha-1"},new Uint8Array(e.subjectPublicKeyInfo.subjectPublicKey.valueBlock.valueHex));if((0,t.isEqualBuffer)(i,s)){b=e;break}}if(!b)throw new Error("Signing certificate not found")}catch(e){if(l)return Promise.reject({date:o,code:3,message:"Unable to find signer certificate",signatureVerified:null,signerCertificate:null,signerCertificateVerified:null});throw"Unable to find signer certificate"}})()).then(()=>{if("1.2.840.113549.1.9.16.1.4"===this.encapContentInfo.eContentType){if("eContent"in this.encapContentInfo==!1)return!1;const i=e.fromBER(this.encapContentInfo.eContent.valueBlock.valueHex);let r;try{r=new d.default({schema:i.result})}catch(t){return!1}return o=r.genTime,y=r.serialNumber.valueBlock.valueHex,0===s.byteLength?l?Promise.reject({date:o,code:4,message:"Missed detached data input array",signatureVerified:null,signerCertificate:b,signerCertificateVerified:null}):Promise.reject("Missed detached data input array"):r.verify({data:s})}return!0}),c&&(v=v.then(e=>{if(!1===e)return!1;const t=Array.from(this.certificates.filter(e=>e instanceof n.default),e=>(function(e){if(!0===e.issuer.isEqual(b.issuer)&&!0===e.serialNumber.isEqual(b.serialNumber))return null;let t=!1;if("extensions"in e)for(const i of e.extensions)"2.5.29.19"===i.extnID&&"cA"in i.parsedValue&&!0===i.parsedValue.cA&&(t=!0);return t?e:null})(e)),i={checkDate:o,certs:Array.from(t.filter(e=>null!==e)),trustedCerts:a};null!==p&&(i.findIssuer=p),null!==m&&(i.findOrigin=m);const r=new g.default(i);if(r.certs.push(b),"crls"in this)for(const s of this.crls)"thisUpdate"in s?r.crls.push(s):"1.3.6.1.5.5.7.48.1.1"===s.otherRevInfoFormat&&r.ocsps.push(new h.default({schema:s.otherRevInfo}));return"ocsps"in this&&r.ocsps.push(...this.ocsps),r.verify({passedWhenNotRevValues:u}).then(e=>("certificatePath"in e&&(A=e.certificatePath),!0===e.result?Promise.resolve(!0):l?Promise.reject({date:o,code:5,message:`Validation of signer's certificate failed: ${e.resultMessage}`,signatureVerified:null,signerCertificate:b,signerCertificateVerified:!1}):Promise.reject("Validation of signer's certificate failed")),e=>l?Promise.reject({date:o,code:5,message:`Validation of signer's certificate failed with error: ${e instanceof Object?e.resultMessage:e}`,signatureVerified:null,signerCertificate:b,signerCertificateVerified:!1}):Promise.reject(`Validation of signer's certificate failed with error: ${e instanceof Object?e.resultMessage:e}`))})),v=(v=(v=(v=(v=v.then(e=>{if(!1===e)return!1;const t=(0,i.getAlgorithmByOID)(this.signerInfos[r].digestAlgorithm.algorithmId);return"name"in t==!1?l?Promise.reject({date:o,code:7,message:`Unsupported signature algorithm: ${this.signerInfos[r].digestAlgorithm.algorithmId}`,signatureVerified:null,signerCertificate:b,signerCertificateVerified:!0}):Promise.reject(`Unsupported signature algorithm: ${this.signerInfos[r].digestAlgorithm.algorithmId}`):(I=t.name,!0)})).then(e=>{if(!1===e)return!1;if("eContent"in this.encapContentInfo)if(1===this.encapContentInfo.eContent.idBlock.tagClass&&4===this.encapContentInfo.eContent.idBlock.tagNumber)if(!1===this.encapContentInfo.eContent.idBlock.isConstructed)s=this.encapContentInfo.eContent.valueBlock.valueHex;else for(const i of this.encapContentInfo.eContent.valueBlock.value)s=(0,t.utilConcatBuf)(s,i.valueBlock.valueHex);else s=this.encapContentInfo.eContent.valueBlock.valueBeforeDecode;else if(0===s.byteLength)return l?Promise.reject({date:o,code:8,message:"Missed detached data input array",signatureVerified:null,signerCertificate:b,signerCertificateVerified:!0}):Promise.reject("Missed detached data input array");if("signedAttrs"in this.signerInfos[r]){let e=!1,t=!1;for(const i of this.signerInfos[r].signedAttrs.attributes)if("1.2.840.113549.1.9.3"===i.type&&(e=!0),"1.2.840.113549.1.9.4"===i.type&&(t=!0,C=i.values[0].valueBlock.valueHex),e&&t)break;if(!1===e)return l?Promise.reject({date:o,code:9,message:'Attribute "content-type" is a mandatory attribute for "signed attributes"',signatureVerified:null,signerCertificate:b,signerCertificateVerified:!0}):Promise.reject('Attribute "content-type" is a mandatory attribute for "signed attributes"');if(!1===t)return l?Promise.reject({date:o,code:10,message:'Attribute "message-digest" is a mandatory attribute for "signed attributes"',signatureVerified:null,signerCertificate:b,signerCertificateVerified:!0}):Promise.reject('Attribute "message-digest" is a mandatory attribute for "signed attributes"')}return!0})).then(e=>!1!==e&&(!("signedAttrs"in this.signerInfos[r])||P.digest(I,new Uint8Array(s)))).then(e=>!1!==e&&(!("signedAttrs"in this.signerInfos[r])||!!(0,t.isEqualBuffer)(e,C)&&(s=this.signerInfos[r].signedAttrs.encodedValue,!0)))).then(e=>!1!==e&&S.subtle.verifyWithPublicKey(s,this.signerInfos[r].signature,b.subjectPublicKeyInfo,b.signatureAlgorithm,I))).then(e=>l?{date:o,code:14,message:"",signatureVerified:e,signerCertificate:b,timestampSerial:y,signerCertificateVerified:!0,certificatePath:A}:e,e=>l?"code"in e?Promise.reject(e):Promise.reject({date:o,code:15,message:`Error during verification: ${e.message}`,signatureVerified:null,signerCertificate:b,timestampSerial:y,signerCertificateVerified:!0}):Promise.reject(e))}sign(s,n,a="SHA-1",o=new ArrayBuffer(0)){if(void 0===s)return Promise.reject("Need to provide a private key for signing");let c,l=Promise.resolve();const u=(0,i.getEngine)(),f=(0,i.getOIDByAlgorithm)({name:a});return""===f?Promise.reject(`Unsupported hash algorithm: ${a}`):(0===this.digestAlgorithms.filter(e=>e.algorithmId===f).length&&this.digestAlgorithms.push(new r.default({algorithmId:f,algorithmParams:new e.Null})),this.signerInfos[n].digestAlgorithm=new r.default({algorithmId:f,algorithmParams:new e.Null}),l=(l=(l=(l=(l=l.then(()=>u.subtle.getSignatureParameters(s,a))).then(e=>{c=e.parameters,this.signerInfos[n].signatureAlgorithm=e.signatureAlgorithm})).then(()=>{if("signedAttrs"in this.signerInfos[n])if(0!==this.signerInfos[n].signedAttrs.encodedValue.byteLength)o=this.signerInfos[n].signedAttrs.encodedValue;else{o=this.signerInfos[n].signedAttrs.toSchema(!0).toBER(!1),new Uint8Array(o)[0]=49}else if("eContent"in this.encapContentInfo)if(1===this.encapContentInfo.eContent.idBlock.tagClass&&4===this.encapContentInfo.eContent.idBlock.tagNumber)if(!1===this.encapContentInfo.eContent.idBlock.isConstructed)o=this.encapContentInfo.eContent.valueBlock.valueHex;else for(const e of this.encapContentInfo.eContent.valueBlock.value)o=(0,t.utilConcatBuf)(o,e.valueBlock.valueHex);else o=this.encapContentInfo.eContent.valueBlock.valueBeforeDecode;else if(0===o.byteLength)return Promise.reject("Missed detached data input array");return Promise.resolve()})).then(()=>u.subtle.signWithPrivateKey(o,s,c))).then(t=>(this.signerInfos[n].signature=new e.OctetString({valueHex:t}),t)))}}exports.default=C;
},{"asn1js":"h7Xx","pvutils":"V6vO","./common.js":"ViMO","./AlgorithmIdentifier.js":"D4jV","./EncapsulatedContentInfo.js":"c1Cx","./Certificate.js":"ArbZ","./CertificateRevocationList.js":"HshX","./OtherRevocationInfoFormat.js":"VgPC","./SignerInfo.js":"jnvZ","./CertificateSet.js":"nZOy","./RevocationInfoChoices.js":"yaXO","./IssuerAndSerialNumber.js":"zQFJ","./TSTInfo.js":"hjnE","./CertificateChainValidationEngine.js":"Th0l","./BasicOCSPResponse.js":"DFJU"}],"ktAK":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=g(require("asn1js")),t=require("pvutils"),a=require("./common.js"),r=d(require("./ContentInfo.js")),n=d(require("./MacData.js")),i=d(require("./DigestInfo.js")),s=d(require("./AlgorithmIdentifier.js")),o=d(require("./SignedData.js")),u=d(require("./EncapsulatedContentInfo.js")),c=d(require("./Attribute.js")),l=d(require("./SignerInfo.js")),m=d(require("./IssuerAndSerialNumber.js")),f=d(require("./SignedAndUnsignedAttributes.js")),h=d(require("./AuthenticatedSafe.js"));function d(e){return e&&e.__esModule?e:{default:e}}function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(p=function(e){return e?a:t})(e)}function g(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=p(t);if(a&&a.has(e))return a.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var s=n?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(r,i,s):r[i]=e[i]}return r.default=e,a&&a.set(e,r),r}class v{constructor(e={}){this.version=(0,t.getParametersValue)(e,"version",v.defaultValues("version")),this.authSafe=(0,t.getParametersValue)(e,"authSafe",v.defaultValues("authSafe")),"macData"in e&&(this.macData=(0,t.getParametersValue)(e,"macData",v.defaultValues("macData"))),"parsedValue"in e&&(this.parsedValue=(0,t.getParametersValue)(e,"parsedValue",v.defaultValues("parsedValue"))),"schema"in e&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case"version":return 3;case"authSafe":return new r.default;case"macData":return new n.default;case"parsedValue":return{};default:throw new Error(`Invalid member name for PFX class: ${e}`)}}static compareWithDefault(e,t){switch(e){case"version":return t===v.defaultValues(e);case"authSafe":return r.default.compareWithDefault("contentType",t.contentType)&&r.default.compareWithDefault("content",t.content);case"macData":return n.default.compareWithDefault("mac",t.mac)&&n.default.compareWithDefault("macSalt",t.macSalt)&&n.default.compareWithDefault("iterations",t.iterations);case"parsedValue":return t instanceof Object&&0===Object.keys(t).length;default:throw new Error(`Invalid member name for PFX class: ${e}`)}}static schema(a={}){const i=(0,t.getParametersValue)(a,"names",{});return new e.Sequence({name:i.blockName||"",value:[new e.Integer({name:i.version||"version"}),r.default.schema(i.authSafe||{names:{blockName:"authSafe"}}),n.default.schema(i.macData||{names:{blockName:"macData",optional:!0}})]})}fromSchema(a){(0,t.clearProps)(a,["version","authSafe","macData"]);const i=e.compareSchema(a,a,v.schema({names:{version:"version",authSafe:{names:{blockName:"authSafe"}},macData:{names:{blockName:"macData"}}}}));if(!1===i.verified)throw new Error("Object's schema was not verified against input data for PFX");this.version=i.result.version.valueBlock.valueDec,this.authSafe=new r.default({schema:i.result.authSafe}),"macData"in i.result&&(this.macData=new n.default({schema:i.result.macData}))}toSchema(){const t=[new e.Integer({value:this.version}),this.authSafe.toSchema()];return"macData"in this&&t.push(this.macData.toSchema()),new e.Sequence({value:t})}toJSON(){const e={version:this.version,authSafe:this.authSafe.toJSON()};return"macData"in this&&(e.macData=this.macData.toJSON()),e}makeInternalValues(t={}){if(t instanceof Object==!1)return Promise.reject('The "parameters" must has "Object" type');if("parsedValue"in this==!1)return Promise.reject('Please call "parseValues" function first in order to make "parsedValue" data');if("integrityMode"in this.parsedValue==!1)return Promise.reject('Absent mandatory parameter "integrityMode" inside "parsedValue"');let h=Promise.resolve();const d=(0,a.getCrypto)();if(void 0===d)return Promise.reject("Unable to create WebCrypto object");if("authenticatedSafe"in this.parsedValue==!1)return Promise.reject('Absent mandatory parameter "authenticatedSafe" in "parsedValue"');switch(this.parsedValue.integrityMode){case 0:{if("iterations"in t==!1)return Promise.reject('Absent mandatory parameter "iterations"');if("pbkdf2HashAlgorithm"in t==!1)return Promise.reject('Absent mandatory parameter "pbkdf2HashAlgorithm"');if("hmacHashAlgorithm"in t==!1)return Promise.reject('Absent mandatory parameter "hmacHashAlgorithm"');if("password"in t==!1)return Promise.reject('Absent mandatory parameter "password"');const o=new ArrayBuffer(64),u=new Uint8Array(o);(0,a.getRandomValues)(u);const c=this.parsedValue.authenticatedSafe.toSchema().toBER(!1);this.authSafe=new r.default({contentType:"1.2.840.113549.1.7.1",content:new e.OctetString({valueHex:c})});const l=(0,a.getEngine)();if("stampDataWithPassword"in l.subtle==!1)return Promise.reject(`No support for "stampDataWithPassword" in current engine "${l.name}"`);h=(h=h.then(()=>l.subtle.stampDataWithPassword({password:t.password,hashAlgorithm:t.hmacHashAlgorithm,salt:o,iterationCount:t.iterations,contentToStamp:c}))).then(r=>{this.macData=new n.default({mac:new i.default({digestAlgorithm:new s.default({algorithmId:(0,a.getOIDByAlgorithm)({name:t.hmacHashAlgorithm})}),digest:new e.OctetString({valueHex:r})}),macSalt:new e.OctetString({valueHex:o}),iterations:t.iterations})},e=>Promise.reject(e))}break;case 1:{if("signingCertificate"in t==!1)return Promise.reject('Absent mandatory parameter "signingCertificate"');if("privateKey"in t==!1)return Promise.reject('Absent mandatory parameter "privateKey"');if("hashAlgorithm"in t==!1)return Promise.reject('Absent mandatory parameter "hashAlgorithm"');const a=this.parsedValue.authenticatedSafe.toSchema().toBER(!1),n=new o.default({version:1,encapContentInfo:new u.default({eContentType:"1.2.840.113549.1.7.1",eContent:new e.OctetString({valueHex:a})}),certificates:[t.signingCertificate]});h=(h=(h=(h=h.then(()=>d.digest({name:t.hashAlgorithm},new Uint8Array(a)))).then(a=>{const r=[];r.push(new c.default({type:"1.2.840.113549.1.9.3",values:[new e.ObjectIdentifier({value:"1.2.840.113549.1.7.1"})]})),r.push(new c.default({type:"1.2.840.113549.1.9.5",values:[new e.UTCTime({valueDate:new Date})]})),r.push(new c.default({type:"1.2.840.113549.1.9.4",values:[new e.OctetString({valueHex:a})]})),n.signerInfos.push(new l.default({version:1,sid:new m.default({issuer:t.signingCertificate.issuer,serialNumber:t.signingCertificate.serialNumber}),signedAttrs:new f.default({type:0,attributes:r})}))},e=>Promise.reject(`Error during making digest for message: ${e}`))).then(()=>n.sign(t.privateKey,0,t.hashAlgorithm))).then(()=>{this.authSafe=new r.default({contentType:"1.2.840.113549.1.7.2",content:n.toSchema(!0)})},e=>Promise.reject(`Error during making signature: ${e}`))}break;default:return Promise.reject(`Parameter "integrityMode" has unknown value: ${t.integrityMode}`)}return h}parseInternalValues(r){if(r instanceof Object==!1)return Promise.reject('The "parameters" must has "Object" type');"checkIntegrity"in r==!1&&(r.checkIntegrity=!0);let n=Promise.resolve();if(void 0===(0,a.getCrypto)())return Promise.reject("Unable to create WebCrypto object");switch(this.parsedValue={},this.authSafe.contentType){case"1.2.840.113549.1.7.1":{if("password"in r==!1)return Promise.reject('Absent mandatory parameter "password"');if(this.parsedValue.integrityMode=0,this.authSafe.content instanceof e.OctetString==!1)return Promise.reject('Wrong type of "this.authSafe.content"');let i=new ArrayBuffer(0);if(this.authSafe.content.valueBlock.isConstructed)for(const e of this.authSafe.content.valueBlock.value)i=(0,t.utilConcatBuf)(i,e.valueBlock.valueHex);else i=this.authSafe.content.valueBlock.valueHex;const s=e.fromBER(i);if(-1===s.offset)return Promise.reject('Error during parsing of ASN.1 data inside "this.authSafe.content"');if(this.parsedValue.authenticatedSafe=new h.default({schema:s.result}),r.checkIntegrity){if("macData"in this==!1)return Promise.reject('Absent "macData" value, can not check PKCS#12 data integrity');const e=(0,a.getAlgorithmByOID)(this.macData.mac.digestAlgorithm.algorithmId);if("name"in e==!1)return Promise.reject(`Unsupported digest algorithm: ${this.macData.mac.digestAlgorithm.algorithmId}`);const t=(0,a.getEngine)();n=(n=n.then(()=>t.subtle.verifyDataStampedWithPassword({password:r.password,hashAlgorithm:e.name,salt:this.macData.macSalt.valueBlock.valueHex,iterationCount:this.macData.iterations,contentToVerify:i,signatureToVerify:this.macData.mac.digest.valueBlock.valueHex}))).then(e=>!1===e?Promise.reject("Integrity for the PKCS#12 data is broken!"):Promise.resolve(),e=>Promise.reject(e))}}break;case"1.2.840.113549.1.7.2":{this.parsedValue.integrityMode=1;const a=new o.default({schema:this.authSafe.content});if("eContent"in a.encapContentInfo==!1)return Promise.reject('Absent of attached data in "cmsSigned.encapContentInfo"');if(a.encapContentInfo.eContent instanceof e.OctetString==!1)return Promise.reject('Wrong type of "cmsSigned.encapContentInfo.eContent"');let r=new ArrayBuffer(0);if(!1===a.encapContentInfo.eContent.idBlock.isConstructed)r=a.encapContentInfo.eContent.valueBlock.valueHex;else for(let e=0;e<a.encapContentInfo.eContent.valueBlock.value.length;e++)r=(0,t.utilConcatBuf)(r,a.encapContentInfo.eContent.valueBlock.value[e].valueBlock.valueHex);const i=e.fromBER(r);if(-1===i.offset)return Promise.reject('Error during parsing of ASN.1 data inside "this.authSafe.content"');this.parsedValue.authenticatedSafe=new h.default({schema:i.result}),n=n.then(()=>a.verify({signer:0,checkChain:!1})).then(e=>!1===e?Promise.reject("Integrity for the PKCS#12 data is broken!"):Promise.resolve(),e=>Promise.reject(`Error during integrity verification: ${e}`))}break;default:return Promise.reject(`Incorrect value for "this.authSafe.contentType": ${this.authSafe.contentType}`)}return n.then(()=>this,e=>Promise.reject(`Error during parsing: ${e}`))}}exports.default=v;
},{"asn1js":"h7Xx","pvutils":"V6vO","./common.js":"ViMO","./ContentInfo.js":"NWpo","./MacData.js":"MReg","./DigestInfo.js":"ugXV","./AlgorithmIdentifier.js":"D4jV","./SignedData.js":"MPjQ","./EncapsulatedContentInfo.js":"c1Cx","./Attribute.js":"stBO","./SignerInfo.js":"jnvZ","./IssuerAndSerialNumber.js":"zQFJ","./SignedAndUnsignedAttributes.js":"IXdD","./AuthenticatedSafe.js":"vV3k"}],"Rb4N":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=a(require("asn1js")),e=require("pvutils");function s(t){if("function"!=typeof WeakMap)return null;var e=new WeakMap,a=new WeakMap;return(s=function(t){return t?a:e})(t)}function a(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var a=s(e);if(a&&a.has(t))return a.get(t);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in t)if("default"!==u&&Object.prototype.hasOwnProperty.call(t,u)){var i=r?Object.getOwnPropertyDescriptor(t,u):null;i&&(i.get||i.set)?Object.defineProperty(n,u,i):n[u]=t[u]}return n.default=t,a&&a.set(t,n),n}class n{constructor(t={}){this.status=(0,e.getParametersValue)(t,"status",n.defaultValues("status")),"statusStrings"in t&&(this.statusStrings=(0,e.getParametersValue)(t,"statusStrings",n.defaultValues("statusStrings"))),"failInfo"in t&&(this.failInfo=(0,e.getParametersValue)(t,"failInfo",n.defaultValues("failInfo"))),"schema"in t&&this.fromSchema(t.schema)}static defaultValues(e){switch(e){case"status":return 2;case"statusStrings":return[];case"failInfo":return new t.BitString;default:throw new Error(`Invalid member name for PKIStatusInfo class: ${e}`)}}static compareWithDefault(t,e){switch(t){case"status":return e===n.defaultValues(t);case"statusStrings":return 0===e.length;case"failInfo":return e.isEqual(n.defaultValues(t));default:throw new Error(`Invalid member name for PKIStatusInfo class: ${t}`)}}static schema(s={}){const a=(0,e.getParametersValue)(s,"names",{});return new t.Sequence({name:a.blockName||"",value:[new t.Integer({name:a.status||""}),new t.Sequence({optional:!0,value:[new t.Repeated({name:a.statusStrings||"",value:new t.Utf8String})]}),new t.BitString({name:a.failInfo||"",optional:!0})]})}fromSchema(s){(0,e.clearProps)(s,["status","statusStrings","failInfo"]);const a=t.compareSchema(s,s,n.schema({names:{status:"status",statusStrings:"statusStrings",failInfo:"failInfo"}}));if(!1===a.verified)throw new Error("Object's schema was not verified against input data for PKIStatusInfo");const r=a.result.status;if(!0===r.valueBlock.isHexOnly||r.valueBlock.valueDec<0||r.valueBlock.valueDec>5)throw new Error('PKIStatusInfo "status" has invalid value');this.status=r.valueBlock.valueDec,"statusStrings"in a.result&&(this.statusStrings=a.result.statusStrings),"failInfo"in a.result&&(this.failInfo=a.result.failInfo)}toSchema(){const e=[];return e.push(new t.Integer({value:this.status})),"statusStrings"in this&&e.push(new t.Sequence({optional:!0,value:this.statusStrings})),"failInfo"in this&&e.push(this.failInfo),new t.Sequence({value:e})}toJSON(){const t={status:this.status};return"statusStrings"in this&&(t.statusStrings=Array.from(this.statusStrings,t=>t.toJSON())),"failInfo"in this&&(t.failInfo=this.failInfo.toJSON()),t}}exports.default=n;
},{"asn1js":"h7Xx","pvutils":"V6vO"}],"GRR0":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=i(require("asn1js")),t=require("pvutils"),r=n(require("./MessageImprint.js")),s=n(require("./Extension.js"));function n(e){return e&&e.__esModule?e:{default:e}}function a(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(a=function(e){return e?r:t})(e)}function i(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=a(t);if(r&&r.has(e))return r.get(e);var s={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var o=n?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(s,i,o):s[i]=e[i]}return s.default=e,r&&r.set(e,s),s}class o{constructor(e={}){this.version=(0,t.getParametersValue)(e,"version",o.defaultValues("version")),this.messageImprint=(0,t.getParametersValue)(e,"messageImprint",o.defaultValues("messageImprint")),"reqPolicy"in e&&(this.reqPolicy=(0,t.getParametersValue)(e,"reqPolicy",o.defaultValues("reqPolicy"))),"nonce"in e&&(this.nonce=(0,t.getParametersValue)(e,"nonce",o.defaultValues("nonce"))),"certReq"in e&&(this.certReq=(0,t.getParametersValue)(e,"certReq",o.defaultValues("certReq"))),"extensions"in e&&(this.extensions=(0,t.getParametersValue)(e,"extensions",o.defaultValues("extensions"))),"schema"in e&&this.fromSchema(e.schema)}static defaultValues(t){switch(t){case"version":return 0;case"messageImprint":return new r.default;case"reqPolicy":return"";case"nonce":return new e.Integer;case"certReq":return!1;case"extensions":return[];default:throw new Error(`Invalid member name for TimeStampReq class: ${t}`)}}static compareWithDefault(e,t){switch(e){case"version":case"reqPolicy":case"certReq":return t===o.defaultValues(e);case"messageImprint":return r.default.compareWithDefault("hashAlgorithm",t.hashAlgorithm)&&r.default.compareWithDefault("hashedMessage",t.hashedMessage);case"nonce":return t.isEqual(o.defaultValues(e));case"extensions":return 0===t.length;default:throw new Error(`Invalid member name for TimeStampReq class: ${e}`)}}static schema(n={}){const a=(0,t.getParametersValue)(n,"names",{});return new e.Sequence({name:a.blockName||"TimeStampReq",value:[new e.Integer({name:a.version||"TimeStampReq.version"}),r.default.schema(a.messageImprint||{names:{blockName:"TimeStampReq.messageImprint"}}),new e.ObjectIdentifier({name:a.reqPolicy||"TimeStampReq.reqPolicy",optional:!0}),new e.Integer({name:a.nonce||"TimeStampReq.nonce",optional:!0}),new e.Boolean({name:a.certReq||"TimeStampReq.certReq",optional:!0}),new e.Constructed({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[new e.Repeated({name:a.extensions||"TimeStampReq.extensions",value:s.default.schema()})]})]})}fromSchema(n){(0,t.clearProps)(n,["TimeStampReq.version","TimeStampReq.messageImprint","TimeStampReq.reqPolicy","TimeStampReq.nonce","TimeStampReq.certReq","TimeStampReq.extensions"]);const a=e.compareSchema(n,n,o.schema());if(!1===a.verified)throw new Error("Object's schema was not verified against input data for TimeStampReq");this.version=a.result["TimeStampReq.version"].valueBlock.valueDec,this.messageImprint=new r.default({schema:a.result["TimeStampReq.messageImprint"]}),"TimeStampReq.reqPolicy"in a.result&&(this.reqPolicy=a.result["TimeStampReq.reqPolicy"].valueBlock.toString()),"TimeStampReq.nonce"in a.result&&(this.nonce=a.result["TimeStampReq.nonce"]),"TimeStampReq.certReq"in a.result&&(this.certReq=a.result["TimeStampReq.certReq"].valueBlock.value),"TimeStampReq.extensions"in a.result&&(this.extensions=Array.from(a.result["TimeStampReq.extensions"],e=>new s.default({schema:e})))}toSchema(){const t=[];return t.push(new e.Integer({value:this.version})),t.push(this.messageImprint.toSchema()),"reqPolicy"in this&&t.push(new e.ObjectIdentifier({value:this.reqPolicy})),"nonce"in this&&t.push(this.nonce),"certReq"in this&&!1===o.compareWithDefault("certReq",this.certReq)&&t.push(new e.Boolean({value:this.certReq})),"extensions"in this&&t.push(new e.Constructed({idBlock:{tagClass:3,tagNumber:0},value:Array.from(this.extensions,e=>e.toSchema())})),new e.Sequence({value:t})}toJSON(){const e={version:this.version,messageImprint:this.messageImprint.toJSON()};return"reqPolicy"in this&&(e.reqPolicy=this.reqPolicy),"nonce"in this&&(e.nonce=this.nonce.toJSON()),"certReq"in this&&!1===o.compareWithDefault("certReq",this.certReq)&&(e.certReq=this.certReq),"extensions"in this&&(e.extensions=Array.from(this.extensions,e=>e.toJSON())),e}}exports.default=o;
},{"asn1js":"h7Xx","pvutils":"V6vO","./MessageImprint.js":"FmGP","./Extension.js":"UuwD"}],"sTNR":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=m(require("asn1js")),t=require("pvutils"),a=r(require("./PKIStatusInfo.js")),n=r(require("./ContentInfo.js")),s=r(require("./SignedData.js"));function r(e){return e&&e.__esModule?e:{default:e}}function i(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(i=function(e){return e?a:t})(e)}function m(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=i(t);if(a&&a.has(e))return a.get(e);var n={},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var m=s?Object.getOwnPropertyDescriptor(e,r):null;m&&(m.get||m.set)?Object.defineProperty(n,r,m):n[r]=e[r]}return n.default=e,a&&a.set(e,n),n}class o{constructor(e={}){this.status=(0,t.getParametersValue)(e,"status",o.defaultValues("status")),"timeStampToken"in e&&(this.timeStampToken=(0,t.getParametersValue)(e,"timeStampToken",o.defaultValues("timeStampToken"))),"schema"in e&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case"status":return new a.default;case"timeStampToken":return new n.default;default:throw new Error(`Invalid member name for TimeStampResp class: ${e}`)}}static compareWithDefault(t,n){switch(t){case"status":return a.default.compareWithDefault("status",n.status)&&"statusStrings"in n==!1&&"failInfo"in n==!1;case"timeStampToken":return""===n.contentType&&n.content instanceof e.Any;default:throw new Error(`Invalid member name for TimeStampResp class: ${t}`)}}static schema(s={}){const r=(0,t.getParametersValue)(s,"names",{});return new e.Sequence({name:r.blockName||"TimeStampResp",value:[a.default.schema(r.status||{names:{blockName:"TimeStampResp.status"}}),n.default.schema(r.timeStampToken||{names:{blockName:"TimeStampResp.timeStampToken",optional:!0}})]})}fromSchema(s){(0,t.clearProps)(s,["TimeStampResp.status","TimeStampResp.timeStampToken"]);const r=e.compareSchema(s,s,o.schema());if(!1===r.verified)throw new Error("Object's schema was not verified against input data for TimeStampResp");this.status=new a.default({schema:r.result["TimeStampResp.status"]}),"TimeStampResp.timeStampToken"in r.result&&(this.timeStampToken=new n.default({schema:r.result["TimeStampResp.timeStampToken"]}))}toSchema(){const t=[];return t.push(this.status.toSchema()),"timeStampToken"in this&&t.push(this.timeStampToken.toSchema()),new e.Sequence({value:t})}toJSON(){const e={status:this.status};return"timeStampToken"in this&&(e.timeStampToken=this.timeStampToken.toJSON()),e}sign(e,t){if("timeStampToken"in this==!1)return Promise.reject("timeStampToken is absent in TSP response");if("1.2.840.113549.1.7.2"!==this.timeStampToken.contentType)return Promise.reject(`Wrong format of timeStampToken: ${this.timeStampToken.contentType}`);return new n.default({schema:this.timeStampToken.content}).sign(e,0,t)}verify(e={signer:0,trustedCerts:[],data:new ArrayBuffer(0)}){if("timeStampToken"in this==!1)return Promise.reject("timeStampToken is absent in TSP response");if("1.2.840.113549.1.7.2"!==this.timeStampToken.contentType)return Promise.reject(`Wrong format of timeStampToken: ${this.timeStampToken.contentType}`);return new s.default({schema:this.timeStampToken.content}).verify(e)}}exports.default=o;
},{"asn1js":"h7Xx","pvutils":"V6vO","./PKIStatusInfo.js":"Rb4N","./ContentInfo.js":"NWpo","./SignedData.js":"MPjQ"}],"Bnj9":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),Object.defineProperty(exports,"AccessDescription",{enumerable:!0,get:function(){return t.default}}),Object.defineProperty(exports,"Accuracy",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(exports,"AlgorithmIdentifier",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(exports,"AltName",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(exports,"Attribute",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(exports,"AttributeTypeAndValue",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(exports,"AuthenticatedSafe",{enumerable:!0,get:function(){return f.default}}),Object.defineProperty(exports,"AuthorityKeyIdentifier",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(exports,"BasicConstraints",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(exports,"BasicOCSPResponse",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(exports,"CAVersion",{enumerable:!0,get:function(){return Ye.default}}),Object.defineProperty(exports,"CRLBag",{enumerable:!0,get:function(){return p.default}}),Object.defineProperty(exports,"CRLDistributionPoints",{enumerable:!0,get:function(){return d.default}}),Object.defineProperty(exports,"CertBag",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(exports,"CertID",{enumerable:!0,get:function(){return b.default}}),Object.defineProperty(exports,"Certificate",{enumerable:!0,get:function(){return j.default}}),Object.defineProperty(exports,"CertificateChainValidationEngine",{enumerable:!0,get:function(){return g.default}}),Object.defineProperty(exports,"CertificatePolicies",{enumerable:!0,get:function(){return y.default}}),Object.defineProperty(exports,"CertificateRevocationList",{enumerable:!0,get:function(){return P.default}}),Object.defineProperty(exports,"CertificateSet",{enumerable:!0,get:function(){return m.default}}),Object.defineProperty(exports,"CertificateTemplate",{enumerable:!0,get:function(){return Je.default}}),Object.defineProperty(exports,"CertificationRequest",{enumerable:!0,get:function(){return O.default}}),Object.defineProperty(exports,"ContentInfo",{enumerable:!0,get:function(){return x.default}}),Object.defineProperty(exports,"CryptoEngine",{enumerable:!0,get:function(){return q.default}}),Object.defineProperty(exports,"DigestInfo",{enumerable:!0,get:function(){return S.default}}),Object.defineProperty(exports,"DistributionPoint",{enumerable:!0,get:function(){return C.default}}),Object.defineProperty(exports,"ECCCMSSharedInfo",{enumerable:!0,get:function(){return I.default}}),Object.defineProperty(exports,"ECPrivateKey",{enumerable:!0,get:function(){return R.default}}),Object.defineProperty(exports,"ECPublicKey",{enumerable:!0,get:function(){return A.default}}),Object.defineProperty(exports,"EncapsulatedContentInfo",{enumerable:!0,get:function(){return K.default}}),Object.defineProperty(exports,"EncryptedContentInfo",{enumerable:!0,get:function(){return E.default}}),Object.defineProperty(exports,"EncryptedData",{enumerable:!0,get:function(){return h.default}}),Object.defineProperty(exports,"EnvelopedData",{enumerable:!0,get:function(){return D.default}}),Object.defineProperty(exports,"ExtKeyUsage",{enumerable:!0,get:function(){return v.default}}),Object.defineProperty(exports,"Extension",{enumerable:!0,get:function(){return B.default}}),Object.defineProperty(exports,"Extensions",{enumerable:!0,get:function(){return T.default}}),Object.defineProperty(exports,"GeneralName",{enumerable:!0,get:function(){return M.default}}),Object.defineProperty(exports,"GeneralNames",{enumerable:!0,get:function(){return F.default}}),Object.defineProperty(exports,"GeneralSubtree",{enumerable:!0,get:function(){return N.default}}),Object.defineProperty(exports,"InfoAccess",{enumerable:!0,get:function(){return k.default}}),Object.defineProperty(exports,"IssuerAndSerialNumber",{enumerable:!0,get:function(){return L.default}}),Object.defineProperty(exports,"IssuingDistributionPoint",{enumerable:!0,get:function(){return V.default}}),Object.defineProperty(exports,"KEKIdentifier",{enumerable:!0,get:function(){return w.default}}),Object.defineProperty(exports,"KEKRecipientInfo",{enumerable:!0,get:function(){return G.default}}),Object.defineProperty(exports,"KeyAgreeRecipientIdentifier",{enumerable:!0,get:function(){return Q.default}}),Object.defineProperty(exports,"KeyAgreeRecipientInfo",{enumerable:!0,get:function(){return U.default}}),Object.defineProperty(exports,"KeyBag",{enumerable:!0,get:function(){return _.default}}),Object.defineProperty(exports,"KeyTransRecipientInfo",{enumerable:!0,get:function(){return W.default}}),Object.defineProperty(exports,"MacData",{enumerable:!0,get:function(){return H.default}}),Object.defineProperty(exports,"MessageImprint",{enumerable:!0,get:function(){return X.default}}),Object.defineProperty(exports,"NameConstraints",{enumerable:!0,get:function(){return z.default}}),Object.defineProperty(exports,"OCSPRequest",{enumerable:!0,get:function(){return J.default}}),Object.defineProperty(exports,"OCSPResponse",{enumerable:!0,get:function(){return Y.default}}),Object.defineProperty(exports,"OriginatorIdentifierOrKey",{enumerable:!0,get:function(){return Z.default}}),Object.defineProperty(exports,"OriginatorInfo",{enumerable:!0,get:function(){return $.default}}),Object.defineProperty(exports,"OriginatorPublicKey",{enumerable:!0,get:function(){return ee.default}}),Object.defineProperty(exports,"OtherCertificateFormat",{enumerable:!0,get:function(){return te.default}}),Object.defineProperty(exports,"OtherKeyAttribute",{enumerable:!0,get:function(){return re.default}}),Object.defineProperty(exports,"OtherPrimeInfo",{enumerable:!0,get:function(){return ne.default}}),Object.defineProperty(exports,"OtherRecipientInfo",{enumerable:!0,get:function(){return ie.default}}),Object.defineProperty(exports,"OtherRevocationInfoFormat",{enumerable:!0,get:function(){return ue.default}}),Object.defineProperty(exports,"PBES2Params",{enumerable:!0,get:function(){return oe.default}}),Object.defineProperty(exports,"PBKDF2Params",{enumerable:!0,get:function(){return fe.default}}),Object.defineProperty(exports,"PFX",{enumerable:!0,get:function(){return ae.default}}),Object.defineProperty(exports,"PKCS8ShroudedKeyBag",{enumerable:!0,get:function(){return se.default}}),Object.defineProperty(exports,"PKIStatusInfo",{enumerable:!0,get:function(){return ce.default}}),Object.defineProperty(exports,"PasswordRecipientinfo",{enumerable:!0,get:function(){return pe.default}}),Object.defineProperty(exports,"PolicyConstraints",{enumerable:!0,get:function(){return de.default}}),Object.defineProperty(exports,"PolicyInformation",{enumerable:!0,get:function(){return le.default}}),Object.defineProperty(exports,"PolicyMapping",{enumerable:!0,get:function(){return be.default}}),Object.defineProperty(exports,"PolicyMappings",{enumerable:!0,get:function(){return je.default}}),Object.defineProperty(exports,"PolicyQualifierInfo",{enumerable:!0,get:function(){return ge.default}}),Object.defineProperty(exports,"PrivateKeyInfo",{enumerable:!0,get:function(){return ye.default}}),Object.defineProperty(exports,"PrivateKeyUsagePeriod",{enumerable:!0,get:function(){return Pe.default}}),Object.defineProperty(exports,"PublicKeyInfo",{enumerable:!0,get:function(){return me.default}}),Object.defineProperty(exports,"QCStatement",{enumerable:!0,get:function(){return Ze.QCStatement}}),Object.defineProperty(exports,"QCStatements",{enumerable:!0,get:function(){return Ze.default}}),Object.defineProperty(exports,"RSAESOAEPParams",{enumerable:!0,get:function(){return Oe.default}}),Object.defineProperty(exports,"RSAPrivateKey",{enumerable:!0,get:function(){return xe.default}}),Object.defineProperty(exports,"RSAPublicKey",{enumerable:!0,get:function(){return qe.default}}),Object.defineProperty(exports,"RSASSAPSSParams",{enumerable:!0,get:function(){return Se.default}}),Object.defineProperty(exports,"RecipientEncryptedKey",{enumerable:!0,get:function(){return Ce.default}}),Object.defineProperty(exports,"RecipientEncryptedKeys",{enumerable:!0,get:function(){return Ie.default}}),Object.defineProperty(exports,"RecipientIdentifier",{enumerable:!0,get:function(){return Re.default}}),Object.defineProperty(exports,"RecipientInfo",{enumerable:!0,get:function(){return Ae.default}}),Object.defineProperty(exports,"RecipientKeyIdentifier",{enumerable:!0,get:function(){return Ke.default}}),Object.defineProperty(exports,"RelativeDistinguishedNames",{enumerable:!0,get:function(){return Ee.default}}),Object.defineProperty(exports,"Request",{enumerable:!0,get:function(){return he.default}}),Object.defineProperty(exports,"ResponseBytes",{enumerable:!0,get:function(){return De.default}}),Object.defineProperty(exports,"ResponseData",{enumerable:!0,get:function(){return ve.default}}),Object.defineProperty(exports,"RevocationInfoChoices",{enumerable:!0,get:function(){return Be.default}}),Object.defineProperty(exports,"RevokedCertificate",{enumerable:!0,get:function(){return Te.default}}),Object.defineProperty(exports,"SafeBag",{enumerable:!0,get:function(){return Me.default}}),Object.defineProperty(exports,"SafeContents",{enumerable:!0,get:function(){return Fe.default}}),Object.defineProperty(exports,"SecretBag",{enumerable:!0,get:function(){return Ne.default}}),Object.defineProperty(exports,"Signature",{enumerable:!0,get:function(){return ke.default}}),Object.defineProperty(exports,"SignedAndUnsignedAttributes",{enumerable:!0,get:function(){return Le.default}}),Object.defineProperty(exports,"SignedCertificateTimestamp",{enumerable:!0,get:function(){return ze.SignedCertificateTimestamp}}),Object.defineProperty(exports,"SignedCertificateTimestampList",{enumerable:!0,get:function(){return ze.default}}),Object.defineProperty(exports,"SignedData",{enumerable:!0,get:function(){return Ve.default}}),Object.defineProperty(exports,"SignerInfo",{enumerable:!0,get:function(){return we.default}}),Object.defineProperty(exports,"SingleResponse",{enumerable:!0,get:function(){return Ge.default}}),Object.defineProperty(exports,"SubjectDirectoryAttributes",{enumerable:!0,get:function(){return Qe.default}}),Object.defineProperty(exports,"TBSRequest",{enumerable:!0,get:function(){return Ue.default}}),Object.defineProperty(exports,"TSTInfo",{enumerable:!0,get:function(){return _e.default}}),Object.defineProperty(exports,"Time",{enumerable:!0,get:function(){return We.default}}),Object.defineProperty(exports,"TimeStampReq",{enumerable:!0,get:function(){return He.default}}),Object.defineProperty(exports,"TimeStampResp",{enumerable:!0,get:function(){return Xe.default}}),Object.defineProperty(exports,"createCMSECDSASignature",{enumerable:!0,get:function(){return e.createCMSECDSASignature}}),Object.defineProperty(exports,"createECDSASignatureFromCMS",{enumerable:!0,get:function(){return e.createECDSASignatureFromCMS}}),Object.defineProperty(exports,"getAlgorithmByOID",{enumerable:!0,get:function(){return e.getAlgorithmByOID}}),Object.defineProperty(exports,"getAlgorithmParameters",{enumerable:!0,get:function(){return e.getAlgorithmParameters}}),Object.defineProperty(exports,"getCrypto",{enumerable:!0,get:function(){return e.getCrypto}}),Object.defineProperty(exports,"getEngine",{enumerable:!0,get:function(){return e.getEngine}}),Object.defineProperty(exports,"getHashAlgorithm",{enumerable:!0,get:function(){return e.getHashAlgorithm}}),Object.defineProperty(exports,"getOIDByAlgorithm",{enumerable:!0,get:function(){return e.getOIDByAlgorithm}}),Object.defineProperty(exports,"getRandomValues",{enumerable:!0,get:function(){return e.getRandomValues}}),Object.defineProperty(exports,"kdf",{enumerable:!0,get:function(){return e.kdf}}),Object.defineProperty(exports,"kdfWithCounter",{enumerable:!0,get:function(){return e.kdfWithCounter}}),Object.defineProperty(exports,"setEngine",{enumerable:!0,get:function(){return e.setEngine}}),Object.defineProperty(exports,"stringPrep",{enumerable:!0,get:function(){return e.stringPrep}}),Object.defineProperty(exports,"verifySCTsForCertificate",{enumerable:!0,get:function(){return ze.verifySCTsForCertificate}});var e=require("./common.js"),t=tt(require("./AccessDescription.js")),r=tt(require("./Accuracy.js")),n=tt(require("./AlgorithmIdentifier.js")),i=tt(require("./AltName.js")),u=tt(require("./Attribute.js")),o=tt(require("./AttributeTypeAndValue.js")),f=tt(require("./AuthenticatedSafe.js")),a=tt(require("./AuthorityKeyIdentifier.js")),s=tt(require("./BasicConstraints.js")),c=tt(require("./BasicOCSPResponse.js")),p=tt(require("./CRLBag.js")),d=tt(require("./CRLDistributionPoints.js")),l=tt(require("./CertBag.js")),b=tt(require("./CertID.js")),j=tt(require("./Certificate.js")),g=tt(require("./CertificateChainValidationEngine.js")),y=tt(require("./CertificatePolicies.js")),P=tt(require("./CertificateRevocationList.js")),m=tt(require("./CertificateSet.js")),O=tt(require("./CertificationRequest.js")),x=tt(require("./ContentInfo.js")),q=tt(require("./CryptoEngine.js")),S=tt(require("./DigestInfo.js")),C=tt(require("./DistributionPoint.js")),I=tt(require("./ECCCMSSharedInfo.js")),R=tt(require("./ECPrivateKey.js")),A=tt(require("./ECPublicKey.js")),K=tt(require("./EncapsulatedContentInfo.js")),E=tt(require("./EncryptedContentInfo.js")),h=tt(require("./EncryptedData.js")),D=tt(require("./EnvelopedData.js")),v=tt(require("./ExtKeyUsage.js")),B=tt(require("./Extension.js")),T=tt(require("./Extensions.js")),M=tt(require("./GeneralName.js")),F=tt(require("./GeneralNames.js")),N=tt(require("./GeneralSubtree.js")),k=tt(require("./InfoAccess.js")),L=tt(require("./IssuerAndSerialNumber.js")),V=tt(require("./IssuingDistributionPoint.js")),w=tt(require("./KEKIdentifier.js")),G=tt(require("./KEKRecipientInfo.js")),Q=tt(require("./KeyAgreeRecipientIdentifier.js")),U=tt(require("./KeyAgreeRecipientInfo.js")),_=tt(require("./KeyBag.js")),W=tt(require("./KeyTransRecipientInfo.js")),H=tt(require("./MacData.js")),X=tt(require("./MessageImprint.js")),z=tt(require("./NameConstraints.js")),J=tt(require("./OCSPRequest.js")),Y=tt(require("./OCSPResponse.js")),Z=tt(require("./OriginatorIdentifierOrKey.js")),$=tt(require("./OriginatorInfo.js")),ee=tt(require("./OriginatorPublicKey.js")),te=tt(require("./OtherCertificateFormat.js")),re=tt(require("./OtherKeyAttribute.js")),ne=tt(require("./OtherPrimeInfo.js")),ie=tt(require("./OtherRecipientInfo.js")),ue=tt(require("./OtherRevocationInfoFormat.js")),oe=tt(require("./PBES2Params.js")),fe=tt(require("./PBKDF2Params.js")),ae=tt(require("./PFX.js")),se=tt(require("./PKCS8ShroudedKeyBag.js")),ce=tt(require("./PKIStatusInfo.js")),pe=tt(require("./PasswordRecipientinfo.js")),de=tt(require("./PolicyConstraints.js")),le=tt(require("./PolicyInformation.js")),be=tt(require("./PolicyMapping.js")),je=tt(require("./PolicyMappings.js")),ge=tt(require("./PolicyQualifierInfo.js")),ye=tt(require("./PrivateKeyInfo.js")),Pe=tt(require("./PrivateKeyUsagePeriod.js")),me=tt(require("./PublicKeyInfo.js")),Oe=tt(require("./RSAESOAEPParams.js")),xe=tt(require("./RSAPrivateKey.js")),qe=tt(require("./RSAPublicKey.js")),Se=tt(require("./RSASSAPSSParams.js")),Ce=tt(require("./RecipientEncryptedKey.js")),Ie=tt(require("./RecipientEncryptedKeys.js")),Re=tt(require("./RecipientIdentifier.js")),Ae=tt(require("./RecipientInfo.js")),Ke=tt(require("./RecipientKeyIdentifier.js")),Ee=tt(require("./RelativeDistinguishedNames.js")),he=tt(require("./Request.js")),De=tt(require("./ResponseBytes.js")),ve=tt(require("./ResponseData.js")),Be=tt(require("./RevocationInfoChoices.js")),Te=tt(require("./RevokedCertificate.js")),Me=tt(require("./SafeBag.js")),Fe=tt(require("./SafeContents.js")),Ne=tt(require("./SecretBag.js")),ke=tt(require("./Signature.js")),Le=tt(require("./SignedAndUnsignedAttributes.js")),Ve=tt(require("./SignedData.js")),we=tt(require("./SignerInfo.js")),Ge=tt(require("./SingleResponse.js")),Qe=tt(require("./SubjectDirectoryAttributes.js")),Ue=tt(require("./TBSRequest.js")),_e=tt(require("./TSTInfo.js")),We=tt(require("./Time.js")),He=tt(require("./TimeStampReq.js")),Xe=tt(require("./TimeStampResp.js")),ze=et(require("./SignedCertificateTimestampList.js")),Je=tt(require("./CertificateTemplate.js")),Ye=tt(require("./CAVersion.js")),Ze=et(require("./QCStatements.js"));function $e(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return($e=function(e){return e?r:t})(e)}function et(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=$e(t);if(r&&r.has(e))return r.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e)if("default"!==u&&Object.prototype.hasOwnProperty.call(e,u)){var o=i?Object.getOwnPropertyDescriptor(e,u):null;o&&(o.get||o.set)?Object.defineProperty(n,u,o):n[u]=e[u]}return n.default=e,r&&r.set(e,n),n}function tt(e){return e&&e.__esModule?e:{default:e}}
},{"./common.js":"ViMO","./AccessDescription.js":"OaiP","./Accuracy.js":"oACs","./AlgorithmIdentifier.js":"D4jV","./AltName.js":"n1em","./Attribute.js":"stBO","./AttributeTypeAndValue.js":"Blay","./AuthenticatedSafe.js":"vV3k","./AuthorityKeyIdentifier.js":"dt6r","./BasicConstraints.js":"UpiD","./BasicOCSPResponse.js":"DFJU","./CRLBag.js":"d32S","./CRLDistributionPoints.js":"Xsm3","./CertBag.js":"vpMe","./CertID.js":"cVMQ","./Certificate.js":"ArbZ","./CertificateChainValidationEngine.js":"Th0l","./CertificatePolicies.js":"Prfj","./CertificateRevocationList.js":"HshX","./CertificateSet.js":"nZOy","./CertificationRequest.js":"ZYga","./ContentInfo.js":"NWpo","./CryptoEngine.js":"nbWF","./DigestInfo.js":"ugXV","./DistributionPoint.js":"uB91","./ECCCMSSharedInfo.js":"ITDN","./ECPrivateKey.js":"Itsp","./ECPublicKey.js":"EIvz","./EncapsulatedContentInfo.js":"c1Cx","./EncryptedContentInfo.js":"lktU","./EncryptedData.js":"JYmP","./EnvelopedData.js":"pjkG","./ExtKeyUsage.js":"Gd9g","./Extension.js":"UuwD","./Extensions.js":"wMRS","./GeneralName.js":"DITp","./GeneralNames.js":"pY44","./GeneralSubtree.js":"I4vz","./InfoAccess.js":"WbMS","./IssuerAndSerialNumber.js":"zQFJ","./IssuingDistributionPoint.js":"rd5E","./KEKIdentifier.js":"R23S","./KEKRecipientInfo.js":"ZNaN","./KeyAgreeRecipientIdentifier.js":"JO0E","./KeyAgreeRecipientInfo.js":"XEda","./KeyBag.js":"XF17","./KeyTransRecipientInfo.js":"xm8t","./MacData.js":"MReg","./MessageImprint.js":"FmGP","./NameConstraints.js":"IHuX","./OCSPRequest.js":"XvGI","./OCSPResponse.js":"L20S","./OriginatorIdentifierOrKey.js":"yvK6","./OriginatorInfo.js":"rHVU","./OriginatorPublicKey.js":"ePqs","./OtherCertificateFormat.js":"cbH4","./OtherKeyAttribute.js":"SXgS","./OtherPrimeInfo.js":"R0I1","./OtherRecipientInfo.js":"MUeQ","./OtherRevocationInfoFormat.js":"VgPC","./PBES2Params.js":"LOCs","./PBKDF2Params.js":"H51Z","./PFX.js":"ktAK","./PKCS8ShroudedKeyBag.js":"hfrw","./PKIStatusInfo.js":"Rb4N","./PasswordRecipientinfo.js":"Qb4j","./PolicyConstraints.js":"pSHR","./PolicyInformation.js":"wCSB","./PolicyMapping.js":"rGQk","./PolicyMappings.js":"EtsQ","./PolicyQualifierInfo.js":"nXgH","./PrivateKeyInfo.js":"Ow1x","./PrivateKeyUsagePeriod.js":"qNfq","./PublicKeyInfo.js":"Gwml","./RSAESOAEPParams.js":"YXMp","./RSAPrivateKey.js":"aFxw","./RSAPublicKey.js":"IA3c","./RSASSAPSSParams.js":"DuQt","./RecipientEncryptedKey.js":"Id27","./RecipientEncryptedKeys.js":"PnqX","./RecipientIdentifier.js":"uUPS","./RecipientInfo.js":"yH6d","./RecipientKeyIdentifier.js":"JVaQ","./RelativeDistinguishedNames.js":"ZcqL","./Request.js":"O77D","./ResponseBytes.js":"zbed","./ResponseData.js":"ZUDl","./RevocationInfoChoices.js":"yaXO","./RevokedCertificate.js":"xinX","./SafeBag.js":"zgaC","./SafeContents.js":"JIm2","./SecretBag.js":"LW0A","./Signature.js":"diDj","./SignedAndUnsignedAttributes.js":"IXdD","./SignedData.js":"MPjQ","./SignerInfo.js":"jnvZ","./SingleResponse.js":"G8tv","./SubjectDirectoryAttributes.js":"oWUO","./TBSRequest.js":"ucMG","./TSTInfo.js":"hjnE","./Time.js":"GiRj","./TimeStampReq.js":"GRR0","./TimeStampResp.js":"sTNR","./SignedCertificateTimestampList.js":"gWJK","./CertificateTemplate.js":"oPGj","./CAVersion.js":"QZlQ","./QCStatements.js":"smy5"}],"akLm":[function(require,module,exports) {
var define;
var global = arguments[3];
var e,t=arguments[3];Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0,function(t,r){"function"==typeof e&&e.amd?e([],function(){return r(t)}):"object"==typeof module&&module.exports?module.exports=r(t):r(t)}("undefined"!=typeof self?self:void 0,function(e){"use strict";if("function"!=typeof Promise)throw"Promise support required";var t=e.crypto||e.msCrypto;if(t){var r=t.subtle||t.webkitSubtle;if(r){var n=e.Crypto||t.constructor||Object,a=e.SubtleCrypto||r.constructor||Object,o=(e.CryptoKey||e.Key||Object,e.navigator.userAgent.indexOf("Edge/")>-1),i=!!e.msCrypto&&!o,u=!t.subtle&&!!t.webkitSubtle;if(i||u){var s={KoZIhvcNAQEB:"1.2.840.113549.1.1.1"},p={"1.2.840.113549.1.1.1":"KoZIhvcNAQEB"};if(["generateKey","importKey","unwrapKey"].forEach(function(e){var n=r[e];r[e]=function(a,o,s){var p,c,w,k,K,E=[].slice.call(arguments);switch(e){case"generateKey":p=g(a),c=o,w=s;break;case"importKey":p=g(s),c=E[3],w=E[4],"jwk"===a&&((o=m(o)).alg||(o.alg=A(p)),o.key_ops||(o.key_ops="oct"!==o.kty?"d"in o?w.filter(v):w.filter(S):w.slice()),E[1]=(k=m(o),i&&(k.extractable=k.ext,delete k.ext),f(unescape(encodeURIComponent(JSON.stringify(k)))).buffer));break;case"unwrapKey":p=E[4],c=E[5],w=E[6],E[2]=s._key}if("generateKey"===e&&"HMAC"===p.name&&p.hash)return p.length=p.length||{"SHA-1":512,"SHA-256":512,"SHA-384":1024,"SHA-512":1024}[p.hash.name],r.importKey("raw",t.getRandomValues(new Uint8Array(p.length+7>>3)),p,c,w);if(u&&"generateKey"===e&&"RSASSA-PKCS1-v1_5"===p.name&&(!p.modulusLength||p.modulusLength>=2048))return(a=g(a)).name="RSAES-PKCS1-v1_5",delete a.hash,r.generateKey(a,!0,["encrypt","decrypt"]).then(function(e){return Promise.all([r.exportKey("jwk",e.publicKey),r.exportKey("jwk",e.privateKey)])}).then(function(e){return e[0].alg=e[1].alg=A(p),e[0].key_ops=w.filter(S),e[1].key_ops=w.filter(v),Promise.all([r.importKey("jwk",e[0],p,!0,e[0].key_ops),r.importKey("jwk",e[1],p,c,e[1].key_ops)])}).then(function(e){return{publicKey:e[0],privateKey:e[1]}});if((u||i&&"SHA-1"===(p.hash||{}).name)&&"importKey"===e&&"jwk"===a&&"HMAC"===p.name&&"oct"===o.kty)return r.importKey("raw",f(y(o.k)),s,E[3],E[4]);if(u&&"importKey"===e&&("spki"===a||"pkcs8"===a))return r.importKey("jwk",function(e){var t=b(e),r=!1;t.length>2&&(r=!0,t.shift());var n={ext:!0};switch(t[0][0]){case"1.2.840.113549.1.1.1":var a=["n","e","d","p","q","dp","dq","qi"],o=b(t[1]);r&&o.shift();for(var i=0;i<o.length;i++)o[i][0]||(o[i]=o[i].subarray(1)),n[a[i]]=l(h(o[i]));n.kty="RSA";break;default:throw new TypeError("Unsupported key type")}return n}(o),s,E[3],E[4]);if(i&&"unwrapKey"===e)return r.decrypt(E[3],s,o).then(function(e){return r.importKey(a,e,E[4],E[5],E[6])});try{K=n.apply(r,E)}catch(C){return Promise.reject(C)}return i&&(K=new Promise(function(e,t){K.onabort=K.onerror=function(e){t(e)},K.oncomplete=function(t){e(t.target.result)}})),K=K.then(function(e){return"HMAC"===p.name&&(p.length||(p.length=8*e.algorithm.length)),0==p.name.search("RSA")&&(p.modulusLength||(p.modulusLength=(e.publicKey||e).algorithm.modulusLength),p.publicExponent||(p.publicExponent=(e.publicKey||e).algorithm.publicExponent)),e=e.publicKey&&e.privateKey?{publicKey:new d(e.publicKey,p,c,w.filter(S)),privateKey:new d(e.privateKey,p,c,w.filter(v))}:new d(e,p,c,w)})}}),["exportKey","wrapKey"].forEach(function(e){var t=r[e];r[e]=function(n,a,o){var s,p=[].slice.call(arguments);switch(e){case"exportKey":p[1]=a._key;break;case"wrapKey":p[1]=a._key,p[2]=o._key}if((u||i&&"SHA-1"===(a.algorithm.hash||{}).name)&&"exportKey"===e&&"jwk"===n&&"HMAC"===a.algorithm.name&&(p[0]="raw"),!u||"exportKey"!==e||"spki"!==n&&"pkcs8"!==n||(p[0]="jwk"),i&&"wrapKey"===e)return r.exportKey(n,a).then(function(e){return"jwk"===n&&(e=f(unescape(encodeURIComponent(JSON.stringify(m(e)))))),r.encrypt(p[3],o,e)});try{s=t.apply(r,p)}catch(c){return Promise.reject(c)}return i&&(s=new Promise(function(e,t){s.onabort=s.onerror=function(e){t(e)},s.oncomplete=function(t){e(t.target.result)}})),"exportKey"===e&&"jwk"===n&&(s=s.then(function(e){return(u||i&&"SHA-1"===(a.algorithm.hash||{}).name)&&"HMAC"===a.algorithm.name?{kty:"oct",alg:A(a.algorithm),key_ops:a.usages.slice(),ext:!0,k:l(h(e))}:((e=m(e)).alg||(e.alg=A(a.algorithm)),e.key_ops||(e.key_ops="public"===a.type?a.usages.filter(S):"private"===a.type?a.usages.filter(v):a.usages.slice()),e)})),!u||"exportKey"!==e||"spki"!==n&&"pkcs8"!==n||(s=s.then(function(e){return e=function(e){var t,r=[["",null]],n=!1;switch(e.kty){case"RSA":for(var a=["n","e","d","p","q","dp","dq","qi"],o=[],i=0;i<a.length&&a[i]in e;i++){var u=o[i]=f(y(e[a[i]]));128&u[0]&&(o[i]=new Uint8Array(u.length+1),o[i].set(u,1))}o.length>2&&(n=!0,o.unshift(new Uint8Array([0]))),r[0][0]="1.2.840.113549.1.1.1",t=o;break;default:throw new TypeError("Unsupported key type")}return r.push(new Uint8Array(w(t)).buffer),n?r.unshift(new Uint8Array([0])):r[1]={tag:3,value:r[1]},new Uint8Array(w(r)).buffer}(m(e))})),s}}),["encrypt","decrypt","sign","verify"].forEach(function(e){var t=r[e];r[e]=function(n,a,o,u){if(i&&(!o.byteLength||u&&!u.byteLength))throw new Error("Empy input is not allowed");var s,p=[].slice.call(arguments),c=g(n);if(i&&"decrypt"===e&&"AES-GCM"===c.name){var l=n.tagLength>>3;p[2]=(o.buffer||o).slice(0,o.byteLength-l),n.tag=(o.buffer||o).slice(o.byteLength-l)}p[1]=a._key;try{s=t.apply(r,p)}catch(y){return Promise.reject(y)}return i&&(s=new Promise(function(t,r){s.onabort=s.onerror=function(e){r(e)},s.oncomplete=function(r){r=r.target.result;if("encrypt"===e&&r instanceof AesGcmEncryptResult){var n=r.ciphertext,a=r.tag;(r=new Uint8Array(n.byteLength+a.byteLength)).set(new Uint8Array(n),0),r.set(new Uint8Array(a),n.byteLength),r=r.buffer}t(r)}})),s}}),i){var c=r.digest;r.digest=function(e,t){if(!t.byteLength)throw new Error("Empy input is not allowed");var n;try{n=c.call(r,e,t)}catch(a){return Promise.reject(a)}return n=new Promise(function(e,t){n.onabort=n.onerror=function(e){t(e)},n.oncomplete=function(t){e(t.target.result)}})},e.crypto=Object.create(t,{getRandomValues:{value:function(e){return t.getRandomValues(e)}},subtle:{value:r}}),e.CryptoKey=d}u&&(t.subtle=r,e.Crypto=n,e.SubtleCrypto=a,e.CryptoKey=d)}}}function l(e){return btoa(e).replace(/\=+$/,"").replace(/\+/g,"-").replace(/\//g,"_")}function y(e){return e=(e+="===").slice(0,-e.length%4),atob(e.replace(/-/g,"+").replace(/_/g,"/"))}function f(e){for(var t=new Uint8Array(e.length),r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}function h(e){return e instanceof ArrayBuffer&&(e=new Uint8Array(e)),String.fromCharCode.apply(String,e)}function g(e){var t={name:(e.name||e||"").toUpperCase().replace("V","v")};switch(t.name){case"SHA-1":case"SHA-256":case"SHA-384":case"SHA-512":break;case"AES-CBC":case"AES-GCM":case"AES-KW":e.length&&(t.length=e.length);break;case"HMAC":e.hash&&(t.hash=g(e.hash)),e.length&&(t.length=e.length);break;case"RSAES-PKCS1-v1_5":e.publicExponent&&(t.publicExponent=new Uint8Array(e.publicExponent)),e.modulusLength&&(t.modulusLength=e.modulusLength);break;case"RSASSA-PKCS1-v1_5":case"RSA-OAEP":e.hash&&(t.hash=g(e.hash)),e.publicExponent&&(t.publicExponent=new Uint8Array(e.publicExponent)),e.modulusLength&&(t.modulusLength=e.modulusLength);break;default:throw new SyntaxError("Bad algorithm name")}return t}function A(e){return{HMAC:{"SHA-1":"HS1","SHA-256":"HS256","SHA-384":"HS384","SHA-512":"HS512"},"RSASSA-PKCS1-v1_5":{"SHA-1":"RS1","SHA-256":"RS256","SHA-384":"RS384","SHA-512":"RS512"},"RSAES-PKCS1-v1_5":{"":"RSA1_5"},"RSA-OAEP":{"SHA-1":"RSA-OAEP","SHA-256":"RSA-OAEP-256"},"AES-KW":{128:"A128KW",192:"A192KW",256:"A256KW"},"AES-GCM":{128:"A128GCM",192:"A192GCM",256:"A256GCM"},"AES-CBC":{128:"A128CBC",192:"A192CBC",256:"A256CBC"}}[e.name][(e.hash||{}).name||e.length||""]}function m(e){(e instanceof ArrayBuffer||e instanceof Uint8Array)&&(e=JSON.parse(decodeURIComponent(escape(h(e)))));var t={kty:e.kty,alg:e.alg,ext:e.ext||e.extractable};switch(t.kty){case"oct":t.k=e.k;case"RSA":["n","e","d","p","q","dp","dq","qi","oth"].forEach(function(r){r in e&&(t[r]=e[r])});break;default:throw new TypeError("Unsupported key type")}return t}function b(e,t){if(e instanceof ArrayBuffer&&(e=new Uint8Array(e)),t||(t={pos:0,end:e.length}),t.end-t.pos<2||t.end>e.length)throw new RangeError("Malformed DER");var r,n=e[t.pos++],a=e[t.pos++];if(a>=128){if(a&=127,t.end-t.pos<a)throw new RangeError("Malformed DER");for(var o=0;a--;)o<<=8,o|=e[t.pos++];a=o}if(t.end-t.pos<a)throw new RangeError("Malformed DER");switch(n){case 2:r=e.subarray(t.pos,t.pos+=a);break;case 3:if(e[t.pos++])throw new Error("Unsupported bit string");a--;case 4:r=new Uint8Array(e.subarray(t.pos,t.pos+=a)).buffer;break;case 5:r=null;break;case 6:var i=btoa(h(e.subarray(t.pos,t.pos+=a)));if(!(i in s))throw new Error("Unsupported OBJECT ID "+i);r=s[i];break;case 48:r=[];for(var u=t.pos+a;t.pos<u;)r.push(b(e,t));break;default:throw new Error("Unsupported DER tag 0x"+n.toString(16))}return r}function w(e,t){t||(t=[]);var r=0,n=0,a=t.length+2;if(t.push(0,0),e instanceof Uint8Array){r=2,n=e.length;for(var o=0;o<n;o++)t.push(e[o])}else if(e instanceof ArrayBuffer){r=4,n=e.byteLength,e=new Uint8Array(e);for(o=0;o<n;o++)t.push(e[o])}else if(null===e)r=5,n=0;else if("string"==typeof e&&e in p){var i=f(atob(p[e]));r=6,n=i.length;for(o=0;o<n;o++)t.push(i[o])}else if(e instanceof Array){for(o=0;o<e.length;o++)w(e[o],t);r=48,n=t.length-a}else{if(!("object"==typeof e&&3===e.tag&&e.value instanceof ArrayBuffer))throw new Error("Unsupported DER value "+e);r=3,n=(e=new Uint8Array(e.value)).byteLength,t.push(0);for(o=0;o<n;o++)t.push(e[o]);n++}if(n>=128){var u=n;n=4;for(t.splice(a,0,u>>24&255,u>>16&255,u>>8&255,255&u);n>1&&!(u>>24);)u<<=8,n--;n<4&&t.splice(a,4-n),n|=128}return t.splice(a-2,2,r,n),t}function d(e,t,r,n){Object.defineProperties(this,{_key:{value:e},type:{value:e.type,enumerable:!0},extractable:{value:void 0===r?e.extractable:r,enumerable:!0},algorithm:{value:void 0===t?e.algorithm:t,enumerable:!0},usages:{value:void 0===n?e.usages:n,enumerable:!0}})}function S(e){return"verify"===e||"encrypt"===e||"wrapKey"===e}function v(e){return"sign"===e||"decrypt"===e||"unwrapKey"===e}});var r={};exports.default=r;
},{}],"EvZc":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0,require("./webcrypto-shim.mjs");var e=window.crypto;exports.default=e;
},{"./webcrypto-shim.mjs":"akLm"}],"OLKu":[function(require,module,exports) {
"use strict";var e=require("@babel/runtime-corejs2/core-js/reflect/construct"),r=require("@babel/runtime-corejs2/core-js/array/from"),t=require("@babel/runtime-corejs2/core-js/symbol"),n=require("@babel/runtime-corejs2/core-js/symbol/iterator"),o=require("@babel/runtime-corejs2/core-js/array/is-array"),i=require("@babel/runtime-corejs2/core-js/object/define-property"),a=require("@babel/runtime-corejs2/helpers/interopRequireDefault");i(exports,"__esModule",{value:!0}),exports.default=exports.KMSError=void 0;var u=a(require("@babel/runtime-corejs2/core-js/promise")),l=a(require("@babel/runtime-corejs2/helpers/slicedToArray")),s=a(require("@babel/runtime-corejs2/helpers/classCallCheck")),c=a(require("@babel/runtime-corejs2/helpers/inherits")),f=a(require("@babel/runtime-corejs2/helpers/possibleConstructorReturn")),d=a(require("@babel/runtime-corejs2/helpers/getPrototypeOf")),b=a(require("@babel/runtime-corejs2/helpers/wrapNativeSuper")),v=a(require("lodash/isArray")),p=require("url"),h=require("valid-url"),m=require("asn1js"),y=require("pkijs"),j=a(require("node-jose")),q=a(require("isomorphic-webcrypto")),g=require("safe-buffer");function k(e,r){var i=void 0!==t&&e[n]||e["@@iterator"];if(!i){if(o(e)||(i=x(e))||r&&e&&"number"==typeof e.length){i&&(e=i);var a=0,u=function(){};return{s:u,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:u}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var l,s=!0,c=!1;return{s:function(){i=i.call(e)},n:function(){var e=i.next();return s=e.done,e},e:function(e){c=!0,l=e},f:function(){try{s||null==i.return||i.return()}finally{if(c)throw l}}}}function x(e,t){if(e){if("string"==typeof e)return w(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?r(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?w(e,t):void 0}}function w(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function E(r){var t=C();return function(){var n,o=(0,d.default)(r);if(t){var i=(0,d.default)(this).constructor;n=e(o,arguments,i)}else n=o.apply(this,arguments);return(0,f.default)(this,n)}}function C(){if("undefined"==typeof Reflect||!e)return!1;if(e.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(e(Boolean,[],function(){})),!0}catch(r){return!1}}(0,y.setEngine)("newEngine",q.default,new y.CryptoEngine({name:"",crypto:q.default,subtle:q.default.subtle}));var A="RSA",B="kms:",S="2.5.4.3",I="2.5.29.17",R=function(e){(0,c.default)(t,e);var r=E(t);function t(e){var n;return(0,s.default)(this,t),(n=r.call(this,e)).kmsError=!0,n}return t}((0,b.default)(Error));exports.KMSError=R;var K=function(e){throw new R("INVALID KMS: ".concat(e))},M=function(e){"string"!=typeof e&&K("certificate needs to be a string");var r=g.Buffer.from(e,"base64"),t=new Uint8Array(r).buffer,n=(0,m.fromBER)(t);return new y.Certificate({schema:n.result})},P=function(e){e.kty!==A&&K("'kty' header must be '".concat(A,"'"))},V=function(e){var r=e.kid;(0,h.isUri)(r)||K("'kid' is not a valid URI"),(0,p.parse)(r).protocol!==B&&K("'kid' protocol must be '".concat(B,"'"))},O=function(e,r){var t=(0,l.default)(e,1)[0],n=r.kid,o=(0,p.parse)(n).hostname,i=!1;if(t.extensions){var a,u=k(t.extensions);try{for(u.s();!(a=u.n()).done;){var s=a.value;if(s.extnID===I){var c,f=k(s.parsedValue.altNames);try{for(f.s();!(c=f.n()).done;){if(i=c.value.value===o)break}}catch(h){f.e(h)}finally{f.f()}if(i)break}}}catch(h){u.e(h)}finally{u.f()}}if(!i){var d,b=k(t.subject.typesAndValues);try{for(b.s();!(d=b.n()).done;){var v=d.value;if(v.type===S)if(i=v.value.valueBlock.value===o)break}}catch(h){b.e(h)}finally{b.f()}}i||K("hostname of the 1st certificate does not match 'kid'")},U=function(e,r){var t=(0,l.default)(e,1)[0],n=r.e,o=r.n,i=j.default.util.base64url.encode,a=t.subjectPublicKeyInfo.subjectPublicKey,u=(0,m.fromBER)(a.valueBlock.valueHex),s=new y.RSAPublicKey({schema:u.result}),c=s.publicExponent.valueBlock.valueHex,f=s.modulus.valueBlock.valueHex;n!==i(c)&&K("Public exponent is invalid"),o!==i(f)&&K("Modulus is invalid")},D=function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return new y.CertificateChainValidationEngine({trustedCerts:r.map(M),certs:e}).verify().then(function(e){var r=e.result,t=e.resultCode,n=e.resultMessage;r||K("Certificate Validation failed [".concat(t,"]: ").concat(n))})},H=function(e){return function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return u.default.resolve().then(function(){P(r),V(r),(0,v.default)(r.x5c)&&r.x5c.length>0||K("JWK does not contain a list of certificates");var t=r.x5c.map(M);return O(t,r),U(t,r),(e?D(t,e):u.default.resolve()).then(function(){return r})})}},N=H;exports.default=N;
},{"@babel/runtime-corejs2/core-js/reflect/construct":"vZQy","@babel/runtime-corejs2/core-js/array/from":"ybNn","@babel/runtime-corejs2/core-js/symbol":"mr6k","@babel/runtime-corejs2/core-js/symbol/iterator":"uGl8","@babel/runtime-corejs2/core-js/array/is-array":"BpbX","@babel/runtime-corejs2/core-js/object/define-property":"eIqn","@babel/runtime-corejs2/helpers/interopRequireDefault":"LXwi","@babel/runtime-corejs2/core-js/promise":"eOfj","@babel/runtime-corejs2/helpers/slicedToArray":"vwJD","@babel/runtime-corejs2/helpers/classCallCheck":"Tzth","@babel/runtime-corejs2/helpers/inherits":"CdTE","@babel/runtime-corejs2/helpers/possibleConstructorReturn":"w9GY","@babel/runtime-corejs2/helpers/getPrototypeOf":"Qxr1","@babel/runtime-corejs2/helpers/wrapNativeSuper":"y1h1","lodash/isArray":"p0cq","url":"Mej7","valid-url":"vEd9","asn1js":"h7Xx","pkijs":"Bnj9","node-jose":"vwdx","isomorphic-webcrypto":"EvZc","safe-buffer":"Wugr"}],"S6kH":[function(require,module,exports) {
"use strict";function e(e){function n(e){for(var n=0,t=0;t<e.length;t++)n=(n<<5)-n+e.charCodeAt(t),n|=0;return r.colors[Math.abs(n)%r.colors.length]}function r(e){var a;function i(){if(i.enabled){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];var s=i,o=Number(new Date),c=o-(a||o);s.diff=c,s.prev=a,s.curr=o,a=o,n[0]=r.coerce(n[0]),"string"!=typeof n[0]&&n.unshift("%O");var u=0;n[0]=n[0].replace(/%([a-zA-Z%])/g,function(e,t){if("%%"===e)return e;u++;var a=r.formatters[t];if("function"==typeof a){var i=n[u];e=a.call(s,i),n.splice(u,1),u--}return e}),r.formatArgs.call(s,n),(s.log||r.log).apply(s,n)}}return i.namespace=e,i.enabled=r.enabled(e),i.useColors=r.useColors(),i.color=n(e),i.destroy=t,i.extend=s,"function"==typeof r.init&&r.init(i),r.instances.push(i),i}function t(){var e=r.instances.indexOf(this);return-1!==e&&(r.instances.splice(e,1),!0)}function s(e,n){return r(this.namespace+(void 0===n?":":n)+e)}return r.debug=r,r.default=r,r.coerce=function(e){if(e instanceof Error)return e.stack||e.message;return e},r.disable=function(){r.enable("")},r.enable=function(e){var n;r.save(e),r.names=[],r.skips=[];var t=("string"==typeof e?e:"").split(/[\s,]+/),s=t.length;for(n=0;n<s;n++)t[n]&&("-"===(e=t[n].replace(/\*/g,".*?"))[0]?r.skips.push(new RegExp("^"+e.substr(1)+"$")):r.names.push(new RegExp("^"+e+"$")));for(n=0;n<r.instances.length;n++){var a=r.instances[n];a.enabled=r.enabled(a.namespace)}},r.enabled=function(e){if("*"===e[e.length-1])return!0;var n,t;for(n=0,t=r.skips.length;n<t;n++)if(r.skips[n].test(e))return!1;for(n=0,t=r.names.length;n<t;n++)if(r.names[n].test(e))return!0;return!1},r.humanize=require("ms"),Object.keys(e).forEach(function(n){r[n]=e[n]}),r.instances=[],r.names=[],r.skips=[],r.formatters={},r.selectColor=n,r.enable(r.load()),r}module.exports=e;
},{"ms":"IAgR"}],"gter":[function(require,module,exports) {
var process = require("process");
var e=require("process");function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function t(){return!("undefined"==typeof window||!window.process||"renderer"!==window.process.type&&!window.process.__nwjs)||("undefined"==typeof navigator||!navigator.userAgent||!navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&("undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))}function C(e){if(e[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+e[0]+(this.useColors?"%c ":" ")+"+"+module.exports.humanize(this.diff),this.useColors){var o="color: "+this.color;e.splice(1,0,o,"color: inherit");var t=0,C=0;e[0].replace(/%[a-zA-Z%]/g,function(e){"%%"!==e&&(t++,"%c"===e&&(C=t))}),e.splice(C,0,o)}}function n(){var e;return"object"===("undefined"==typeof console?"undefined":o(console))&&console.log&&(e=console).log.apply(e,arguments)}function r(e){try{e?exports.storage.setItem("debug",e):exports.storage.removeItem("debug")}catch(o){}}function s(){var o;try{o=exports.storage.getItem("debug")}catch(t){}return!o&&void 0!==e&&"env"in e&&(o=void 0),o}function F(){try{return localStorage}catch(e){}}exports.log=n,exports.formatArgs=C,exports.save=r,exports.load=s,exports.useColors=t,exports.storage=F(),exports.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],module.exports=require("./common")(exports);var i=module.exports.formatters;i.j=function(e){try{return JSON.stringify(e)}catch(o){return"[UnexpectedJSONParseError]: "+o.message}};
},{"./common":"S6kH","process":"pBGv"}],"wQjM":[function(require,module,exports) {
"use strict";var e=require("@babel/runtime-corejs2/helpers/typeof"),r=require("@babel/runtime-corejs2/core-js/weak-map"),t=require("@babel/runtime-corejs2/core-js/object/define-property"),n=require("@babel/runtime-corejs2/core-js/object/get-own-property-descriptor"),i=require("@babel/runtime-corejs2/helpers/interopRequireDefault");t(exports,"__esModule",{value:!0}),exports.default=void 0;var o,u,s=i(require("@babel/runtime-corejs2/helpers/slicedToArray")),a=i(require("@babel/runtime-corejs2/helpers/applyDecoratedDescriptor")),c=i(require("@babel/runtime-corejs2/core-js/weak-map")),l=i(require("@babel/runtime-corejs2/core-js/promise")),f=i(require("@babel/runtime-corejs2/core-js/json/stringify")),h=i(require("@babel/runtime-corejs2/core-js/date/now")),d=i(require("@babel/runtime-corejs2/core-js/object/get-own-property-descriptor")),g=i(require("lodash/omit")),m=i(require("querystring")),k=i(require("util")),p=require("@webex/common-timers"),y=require("@webex/common"),b=require("@webex/webex-core"),v=require("node-kms"),q=i(require("node-jose")),w=x(require("./kms-batcher")),j=x(require("./kms-certificate-validation"));function K(e){if("function"!=typeof r)return null;var t=new r,n=new r;return(K=function(e){return e?n:t})(e)}function x(r,i){if(!i&&r&&r.__esModule)return r;if(null===r||"object"!==e(r)&&"function"!=typeof r)return{default:r};var o=K(i);if(o&&o.has(r))return o.get(r);var u={},s=t&&n;for(var a in r)if("default"!==a&&Object.prototype.hasOwnProperty.call(r,a)){var c=s?n(r,a):null;c&&(c.get||c.set)?t(u,a,c):u[a]=r[a]}return u.default=r,o&&o.set(r,u),u}var M=new c.default,I=new c.default,_=new c.default,S=require("debug")("kms"),E=b.WebexPlugin.extend((o=(0,y.oneFlight)({keyFactory:function(e){var r=e.uri,t=e.onBehalfOf;return"".concat(r,"/").concat(t)}}),u={namespace:"Encryption",children:{batcher:w.default},bindKey:function(e){var r=this,t=e.kro,n=e.kroUri,i=e.key,o=e.keyUri;return n=n||t.uri,o=o||i.uri,this.logger.info("kms: binding key to resource"),n?o?this.request({method:"update",resourceUri:n,uri:o}).then(function(e){return r.logger.info("kms: bound key to resource"),e.key}):l.default.reject(new Error("`key` or `keyUri` is required")):l.default.reject(new Error("`kro` or `kroUri` is required"))},createResource:function(e){var r=this,t=e.userIds,n=e.keyUris,i=e.key,o=e.keys;return n=n||[],o&&(n=o.reduce(function(e,r){return e.push(r.uri),e},n)),i&&n.push(i.uri),0===n.length?l.default.reject(new Error("Cannot create KMS Resource without at least one keyUri")):(this.logger.info("kms: creating resource"),this.request({method:"create",uri:"/resources",userIds:t,keyUris:n}).then(function(e){return r.logger.info("kms: created resource"),e.resource}))},addAuthorization:function(e){var r=this,t=e.userIds,n=e.authIds,i=e.kro,o=e.kroUri;return t=t||[],o=o||i.uri,n&&(t=t.concat(n)),0===t.length?l.default.reject(new Error("Cannot add authorization without userIds or authIds")):o?(this.logger.info("kms: adding authorization to kms resource"),this.request({method:"create",uri:"/authorizations",resourceUri:o,userIds:t}).then(function(e){return r.logger.info("kms: added authorization"),e.authorizations})):l.default.reject(new Error("`kro` or `kroUri` is required"))},listAuthorizations:function(e){var r=this,t=e.kro,n=e.kroUri;return(n=n||t.uri)?this.request({method:"retrieve",uri:"".concat(n,"/authorizations")}).then(function(e){return r.logger.info("kms: retrieved authorization list"),e.authorizations}):l.default.reject(new Error("`kro` or `kroUri` is required"))},removeAuthorization:function(e){var r=this,t=e.authId,n=e.userId,i=e.kro,o=e.kroUri;return t=t||n,o=o||i.uri,t?o?(this.logger.info("kms: removing authorization from kms resource"),this.request({method:"delete",uri:"".concat(o,"/authorizations?").concat(m.default.stringify({authId:t}))}).then(function(e){return r.logger.info("kms: removed authorization"),e.authorizations})):l.default.reject(new Error("`kro` or `kroUri` is required")):l.default.reject(new Error("Cannot remove authorization without authId"))},createUnboundKeys:function(e){var r=this,t=e.count;return this.logger.info("kms: request ".concat(t," unbound keys")),t?this.request({method:"create",uri:"/keys",count:t}).then(function(e){return r.logger.info("kms: received unbound keys"),l.default.all(e.keys.map(r.asKey))}):l.default.reject(new Error("`options.count` is required"))},fetchKey:function(e){var r=this,t=e.uri,n=e.onBehalfOf;return t?(this.logger.info("kms: fetching key"),this.request({method:"retrieve",uri:t},{onBehalfOf:n}).then(function(e){return r.logger.info("kms: fetched key"),r.asKey(e.key)})):l.default.reject(new Error("`options.uri` is required"))},ping:function(){return this.request({method:"update",uri:"/ping"})},asKey:function(e){return q.default.JWK.asKey(e.jwk).then(function(r){return e.jwk=r,e})},prepareRequest:function(e,r){var t=this,n="create"===e.method&&e.uri.includes("/ecdhe");return l.default.resolve(n?_.get(this):this._getContext()).then(function(i){t.logger.info("kms: wrapping ".concat(n?"ephemeral key":"kms"," request"));var o=new v.Request(e),u=i;return r&&(u=t._contextOnBehalfOf(i,r)),o.wrap(u,{serverKey:n}).then(function(){return o})})},processKmsMessageEvent:function(e){var r=this;return this.logger.info("kms: received kms message"),l.default.all(e.encryption.kmsMessages.map(function(t,n){return r._isECDHEMessage(t).then(function(i){r.logger.info("kms: received ".concat(i?"ecdhe":"normal"," message"));var o=new v.Response(t);return l.default.resolve(i?_.get(r):M.get(r)).then(function(e){return o.unwrap(e)}).then(function(){0}).then(function(){e.encryption.kmsMessages[n]=o}).then(function(){return o})})})).then(function(){return r.batcher.processKmsMessageEvent(e)}).catch(function(e){return r.logger.error("kms: decrypt failed",e.stack),l.default.reject(e)}).then(function(){return e})},decryptKmsMessage:function(e){var r=new v.Response(e);return M.get(this).then(function(e){return r.unwrap(e)}).then(function(){return r.body})},_isECDHEMessage:function(e){return this._getKMSStaticPubKey().then(function(r){var t=e.split(".");return 3===t.length&&JSON.parse(q.default.util.base64url.decode(t[0])).kid===r.kid})},request:function(e){var r=this,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.timeout,i=t.onBehalfOf;return n=n||this.config.kmsInitialTimeout,this.webex.internal.mercury.connect().then(function(){return r.prepareRequest(e,i)}).then(function(e){return e[w.TIMEOUT_SYMBOL]=n,r.batcher.request(e)}).catch(function(t){if(t instanceof j.KMSError)return r.webex.trigger("client:InvalidRequestError"),l.default.reject(t);if(!t.statusCode&&!t.status){if(S("timeout ".concat(n)),(n*=2)>=r.config.ecdhMaxTimeout)return r.logger.info("kms: exceeded maximum KMS request retries"),l.default.reject(t);var o=2*n;return n>=r.config.kmsMaxTimeout&&o<r.config.ecdhMaxTimeout&&(r.logger.info("kms: exceeded maximum KMS request retries; negotiating new ecdh key"),M.delete(r),n=0),r.request(e,{timeout:n,onBehalfOf:i})}return l.default.reject(t)})},_getAuthorization:function(){return this.webex.credentials.getUserToken("spark:kms").then(function(e){return e.access_token})},_getContext:function(){var e=this,r=M.get(this);return r||(r=this._prepareContext(),M.set(this,r),r.then(function(r){var t=r.ephemeralKey.expirationDate-(0,h.default)()-3e4;(0,p.safeSetTimeout)(function(){return M.delete(e)},t)})),l.default.all([r,this._getAuthorization()]).then(function(e){var r=(0,s.default)(e,2),t=r[0],n=r[1];return t.clientInfo.credential.bearer=n,t})},_getKMSCluster:function(){return this.logger.info("kms: retrieving KMS cluster"),this._getKMSDetails().then(function(e){return e.kmsCluster})},_getKMSDetails:function(){var e=this,r=I.get(this);return r||(this.logger.info("kms: fetching KMS details"),r=this.webex.request({service:"encryption",resource:"/kms/".concat(this.webex.internal.device.userId)}).then(function(r){e.logger.info("kms: fetched KMS details");var t=r.body;return t.rsaPublicKey=JSON.parse(t.rsaPublicKey),t}).catch(function(r){return e.logger.error("kms: failed to fetch KMS details",r),l.default.reject(r)}),I.set(this,r)),r},_getKMSStaticPubKey:function(){return this.logger.info("kms: retrieving KMS static public key"),this._getKMSDetails().then(function(e){return e.rsaPublicKey})},_prepareContext:function(){var e=this;this.logger.info("kms: creating context");var r=new v.Context;return l.default.all([this._getKMSStaticPubKey().then((0,j.default)(this.config.caroots)),this._getAuthorization()]).then(function(t){var n=(0,s.default)(t,2),i=n[0],o=n[1];return r.clientInfo={clientId:e.webex.internal.device.url,credential:{userId:e.webex.internal.device.userId,bearer:o}},r.serverInfo={key:i},e.logger.info("kms: creating local ephemeral key"),r.createECDHKey()}).then(function(t){return r.ephemeralKey=t,_.set(e,r),l.default.all([t.asKey(),e._getKMSCluster()])}).then(function(r){var t=(0,s.default)(r,2),n=t[0],i=t[1];return e.logger.info("kms: submitting ephemeral key request"),e.request({uri:"".concat(i,"/ecdhe"),method:"create",jwk:n.toJSON()})}).then(function(t){return e.logger.info("kms: deriving final ephemeral key"),r.deriveEphemeralKey(t.key)}).then(function(t){return r.ephemeralKey=t,_.delete(e),e.logger.info("kms: derived final ephemeral key"),r}).catch(function(r){return e.logger.error("kms: failed to negotiate ephemeral key",r),l.default.reject(r)})},_contextOnBehalfOf:function(e,r){var t=new v.Context;return t.clientInfo=t.clientInfo={clientId:e.clientInfo.clientId,credential:{userId:r,onBehalfOf:r,bearer:e.clientInfo.credential.bearer}},t.serverInfo=e.serverInfo,t.ephemeralKey=e.ephemeralKey,t},version:"1.150.0"},(0,a.default)(u,"fetchKey",[o],(0,d.default)(u,"fetchKey"),u),(0,a.default)(u,"_getContext",[y.oneFlight],(0,d.default)(u,"_getContext"),u),u)),z=E;exports.default=z;
},{"@babel/runtime-corejs2/helpers/typeof":"hVHy","@babel/runtime-corejs2/core-js/weak-map":"HKHU","@babel/runtime-corejs2/core-js/object/define-property":"eIqn","@babel/runtime-corejs2/core-js/object/get-own-property-descriptor":"mQ9c","@babel/runtime-corejs2/helpers/interopRequireDefault":"LXwi","@babel/runtime-corejs2/helpers/slicedToArray":"vwJD","@babel/runtime-corejs2/helpers/applyDecoratedDescriptor":"WYJH","@babel/runtime-corejs2/core-js/promise":"eOfj","@babel/runtime-corejs2/core-js/json/stringify":"E09K","@babel/runtime-corejs2/core-js/date/now":"Pb2S","lodash/omit":"J2GV","querystring":"fk5h","util":"gfUn","@webex/common-timers":"oZaC","@webex/common":"UeF0","@webex/webex-core":"bqGz","node-kms":"iTbq","node-jose":"vwdx","./kms-batcher":"DYqD","./kms-certificate-validation":"OLKu","debug":"gter"}],"UCxd":[function(require,module,exports) {
"use strict";var e=require("@babel/runtime-corejs2/core-js/object/keys"),r=require("@babel/runtime-corejs2/core-js/object/get-own-property-symbols"),t=require("@babel/runtime-corejs2/core-js/object/get-own-property-descriptor"),n=require("@babel/runtime-corejs2/core-js/object/get-own-property-descriptors"),o=require("@babel/runtime-corejs2/core-js/object/define-properties"),u=require("@babel/runtime-corejs2/core-js/object/define-property"),i=require("@babel/runtime-corejs2/helpers/interopRequireDefault");u(exports,"__esModule",{value:!0}),exports.default=void 0;var c=i(require("@babel/runtime-corejs2/helpers/defineProperty")),s=i(require("@babel/runtime-corejs2/core-js/promise")),a=i(require("@babel/runtime-corejs2/core-js/json/stringify")),f=require("events"),l=i(require("url")),d=require("@webex/webex-core"),p=require("@webex/common"),h=i(require("node-jose")),y=i(require("node-scr")),b=i(require("./ensure-buffer")),j=i(require("./kms"));function m(n,o){var u=e(n);if(r){var i=r(n);o&&(i=i.filter(function(e){return t(n,e).enumerable})),u.push.apply(u,i)}return u}function g(e){for(var r=1;r<arguments.length;r++){var i=null!=arguments[r]?arguments[r]:{};r%2?m(Object(i),!0).forEach(function(r){(0,c.default)(e,r,i[r])}):n?o(e,n(i)):m(Object(i)).forEach(function(r){u(e,r,t(i,r))})}return e}var v=d.WebexPlugin.extend({children:{kms:j.default},namespace:"Encryption",processKmsMessageEvent:function(e){return this.kms.processKmsMessageEvent(e)},decryptBinary:function(e,r){return(0,b.default)(r).then(function(t){return 0===r.length||0===r.byteLength?s.default.reject(new Error("Attempted to decrypt zero-length buffer")):e.decrypt(t)})},decryptScr:function(e,r,t){return this.getKey(e,t).then(function(e){return y.default.fromJWE(e.jwk,r)})},decryptText:function(e,r,t){return this.getKey(e,t).then(function(e){return h.default.JWE.createDecrypt(e.jwk).decrypt(r).then(function(e){return e.plaintext.toString()})})},download:function(e,r){var t=this;if(!e.loc)return s.default.reject(new Error("`scr.loc` is required"));var n=new f.EventEmitter,o=this._fetchDownloadUrl(e,r).then(function(e){var r={method:"GET",uri:e,responseType:"buffer"},o=t.request(r);return(0,p.transferEvents)("progress",r.download,n),o}).then(function(r){return t.decryptBinary(e,r.body)});return(0,p.proxyEvents)(n,o),o},_fetchDownloadUrl:function(e,r){var t=this;this.logger.info("encryption: retrieving download url for encrypted file");var n={endpoints:[e.loc]},o=l.default.parse(e.loc);return o.protocol="https",o.pathname="/v1/download/endpoints",this.request({method:"POST",uri:l.default.format(o),body:r?g(g({},n),{},{allow:r.params.allow}):n}).then(function(r){var n=r.body.endpoints[e.loc];return n?(t.logger.info("encryption: retrieved download url for encrypted file"),n):(t.logger.warn("encryption: could not determine download url for `scr.loc`; attempting to download `scr.loc` directly"),e.loc)})},encryptBinary:function(e){return(0,b.default)(e).then(function(e){return y.default.create().then(function(r){return r.encrypt(e).then(b.default).then(function(e){return{scr:r,cdata:e}})})})},encryptScr:function(e,r,t){return r.loc?this.getKey(e,t).then(function(e){return r.toJWE(e.jwk)}):s.default.reject(new Error("Cannot encrypt `scr` without first setting `loc`"))},encryptText:function(e,r,t){var n=this;return this.getKey(e,t).then(function(e){return h.default.JWE.createEncrypt(n.config.joseOptions,{key:e.jwk,header:{alg:"dir"},reference:null}).final(r,"utf8")})},getKey:function(e){var r=this,t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).onBehalfOf;if(e.jwk)return this.kms.asKey(e);var n=e;return t&&(n+="/onBehalfOf/".concat(t)),this.unboundedStorage.get(n).then(function(e){return JSON.parse(e)}).then(function(e){return r.kms.asKey(e)}).catch(function(){return r.kms.fetchKey({uri:e,onBehalfOf:t}).then((0,p.tap)(function(e){return r.unboundedStorage.put(n,(0,a.default)(e,w))}))})},version:"1.150.0"});function w(e,r){return"jwk"===e?this[e].toJSON(!0):r}var q=v;exports.default=q;
},{"@babel/runtime-corejs2/core-js/object/keys":"d81a","@babel/runtime-corejs2/core-js/object/get-own-property-symbols":"DovH","@babel/runtime-corejs2/core-js/object/get-own-property-descriptor":"mQ9c","@babel/runtime-corejs2/core-js/object/get-own-property-descriptors":"Hv1v","@babel/runtime-corejs2/core-js/object/define-properties":"CpmN","@babel/runtime-corejs2/core-js/object/define-property":"eIqn","@babel/runtime-corejs2/helpers/interopRequireDefault":"LXwi","@babel/runtime-corejs2/helpers/defineProperty":"n5FU","@babel/runtime-corejs2/core-js/promise":"eOfj","@babel/runtime-corejs2/core-js/json/stringify":"E09K","events":"FRpO","url":"Mej7","@webex/webex-core":"bqGz","@webex/common":"UeF0","node-jose":"vwdx","node-scr":"udAx","./ensure-buffer":"uzHO","./kms":"wQjM"}],"yQBM":[function(require,module,exports) {
"use strict";var e=require("@babel/runtime-corejs2/core-js/object/define-property");e(exports,"__esModule",{value:!0}),exports.default=void 0;var t={encryption:{joseOptions:{compact:!0,contentAlg:"A256GCM",protect:"*"},kmsInitialTimeout:6e3,kmsMaxTimeout:32e3,ecdhMaxTimeout:96e3,batcherWait:50,batcherMaxCalls:50,batcherMaxWait:150}};exports.default=t;
},{"@babel/runtime-corejs2/core-js/object/define-property":"eIqn"}],"atbV":[function(require,module,exports) {
function r(r,n,e,l){for(var o=-1,t=null==r?0:r.length;++o<t;){var u=r[o];n(l,u,e(u),r)}return l}module.exports=r;
},{}],"tgST":[function(require,module,exports) {
var e=require("./_baseEach");function r(r,n,u,o){return e(r,function(e,r,t){n(o,e,u(e),t)}),o}module.exports=r;
},{"./_baseEach":"z7ms"}],"hmcW":[function(require,module,exports) {
var r=require("./_Stack"),e=require("./_baseIsEqual"),i=1,n=2;function u(u,t,a,f){var v=a.length,o=v,l=!f;if(null==u)return!o;for(u=Object(u);v--;){var s=a[v];if(l&&s[2]?s[1]!==u[s[0]]:!(s[0]in u))return!1}for(;++v<o;){var c=(s=a[v])[0],d=u[c],q=s[1];if(l&&s[2]){if(void 0===d&&!(c in u))return!1}else{var b=new r;if(f)var _=f(d,q,c,u,t,b);if(!(void 0===_?e(q,d,i|n,f,b):_))return!1}}return!0}module.exports=u;
},{"./_Stack":"I84N","./_baseIsEqual":"iKxp"}],"E5qx":[function(require,module,exports) {
var e=require("./isObject");function r(r){return r==r&&!e(r)}module.exports=r;
},{"./isObject":"u9vI"}],"N0V4":[function(require,module,exports) {
var r=require("./_isStrictComparable"),e=require("./keys");function t(t){for(var a=e(t),i=a.length;i--;){var o=a[i],u=t[o];a[i]=[o,u,r(u)]}return a}module.exports=t;
},{"./_isStrictComparable":"E5qx","./keys":"HI10"}],"sruz":[function(require,module,exports) {
function n(n,t){return function(u){return null!=u&&(u[n]===t&&(void 0!==t||n in Object(u)))}}module.exports=n;
},{}],"s6cN":[function(require,module,exports) {
var e=require("./_baseIsMatch"),r=require("./_getMatchData"),t=require("./_matchesStrictComparable");function a(a){var u=r(a);return 1==u.length&&u[0][2]?t(u[0][0],u[0][1]):function(r){return r===a||e(r,a,u)}}module.exports=a;
},{"./_baseIsMatch":"hmcW","./_getMatchData":"N0V4","./_matchesStrictComparable":"sruz"}],"zCYT":[function(require,module,exports) {
var e=require("./_baseIsEqual"),r=require("./get"),i=require("./hasIn"),u=require("./_isKey"),t=require("./_isStrictComparable"),a=require("./_matchesStrictComparable"),o=require("./_toKey"),q=1,n=2;function s(s,c){return u(s)&&t(c)?a(o(s),c):function(u){var t=r(u,s);return void 0===t&&t===c?i(u,s):e(c,t,q|n)}}module.exports=s;
},{"./_baseIsEqual":"iKxp","./get":"U5YY","./hasIn":"Q8vl","./_isKey":"ibmM","./_isStrictComparable":"E5qx","./_matchesStrictComparable":"sruz","./_toKey":"RQ0L"}],"wcxQ":[function(require,module,exports) {
function n(n){return function(u){return null==u?void 0:u[n]}}module.exports=n;
},{}],"jE9R":[function(require,module,exports) {
var e=require("./_baseGet");function r(r){return function(n){return e(n,r)}}module.exports=r;
},{"./_baseGet":"yeiR"}],"mWmH":[function(require,module,exports) {
var e=require("./_baseProperty"),r=require("./_basePropertyDeep"),u=require("./_isKey"),i=require("./_toKey");function o(o){return u(o)?e(i(o)):r(o)}module.exports=o;
},{"./_baseProperty":"wcxQ","./_basePropertyDeep":"jE9R","./_isKey":"ibmM","./_toKey":"RQ0L"}],"lW7l":[function(require,module,exports) {
var e=require("./_baseMatches"),r=require("./_baseMatchesProperty"),t=require("./identity"),i=require("./isArray"),u=require("./property");function o(o){return"function"==typeof o?o:null==o?t:"object"==typeof o?i(o)?r(o[0],o[1]):e(o):u(o)}module.exports=o;
},{"./_baseMatches":"s6cN","./_baseMatchesProperty":"zCYT","./identity":"Jpv1","./isArray":"p0cq","./property":"mWmH"}],"ApCU":[function(require,module,exports) {
var r=require("./_arrayAggregator"),e=require("./_baseAggregator"),a=require("./_baseIteratee"),t=require("./isArray");function u(u,i){return function(g,n){var o=t(g)?r:e,q=i?i():{};return o(g,u,a(n,2),q)}}module.exports=u;
},{"./_arrayAggregator":"atbV","./_baseAggregator":"tgST","./_baseIteratee":"lW7l","./isArray":"p0cq"}],"uxXC":[function(require,module,exports) {
var r=require("./_createAggregator"),e=r(function(r,e,t){r[t?0:1].push(e)},function(){return[[],[]]});module.exports=e;
},{"./_createAggregator":"ApCU"}],"dSMk":[function(require,module,exports) {
"use strict";var e=require("@babel/runtime-corejs2/core-js/object/define-property"),t=require("@babel/runtime-corejs2/helpers/interopRequireDefault");e(exports,"__esModule",{value:!0}),exports.default=void 0;var r=t(require("@babel/runtime-corejs2/core-js/promise")),i=t(require("@babel/runtime-corejs2/core-js/reflect/apply")),n=t(require("lodash/partition"));require("@webex/internal-plugin-device");var a=require("@webex/webex-core"),u=a.WebexPlugin.extend({namespace:"Feature",getFeature:function(e,t,i){if("developer"!==e&&"user"!==e&&"entitlement"!==e)return r.default.reject(new Error("Invalid feature keyType provided. Only `developer`, `user`, and `entitlement` feature toggles are permitted."));i=i||{};var n=this.webex.internal.device.features[e].get(t);return n?i.full?r.default.resolve(n.serialize()):r.default.resolve(n.value):r.default.resolve(null)},handleFeatureUpdate:function(e){if(e&&e.data){var t=e.data.featureToggle,r=t.type.toLowerCase();"user"!==r&&"developer"!==r||this.webex.internal.device.features[r].add([t],{merge:!0})}},listen:function(){this.listenTo(this.webex.internal.mercury,"event:featureToggle_update",this.handleFeatureUpdate)},setFeature:function(e,t,i){var n=this;return"developer"!==e&&"user"!==e?r.default.reject(new Error("Only `developer` and `user` feature toggles can be set.")):this.request({method:"POST",api:"feature",resource:"features/users/".concat(this.webex.internal.device.userId,"/").concat(e),body:{key:t,mutable:!0,val:i}}).then(function(t){return n.webex.internal.device.features[e].add(t.body,{merge:!0})})},setBundledFeatures:function(e){var t=this;return e.forEach(function(e){e.mutable=e.mutable||"true","USER"!==e.type&&"DEV"!==e.type&&(e.type="USER")}),this.request({method:"POST",api:"feature",resource:"features/users/".concat(this.webex.internal.device.userId,"/toggles"),body:e}).then(function(e){var r=(0,n.default)(e.body.featureToggles,{type:"USER"});t.webex.internal.device.features.user.add(r[0],{merge:!0}),t.webex.internal.device.features.developer.add(r[1],{merge:!0})})},initialize:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];(0,i.default)(a.WebexPlugin.prototype.initialize,this,t),this.listenToAndRun(this.webex,"change:internal.device.features.developer",this.trigger.bind(this,"change:developer")),this.listenToAndRun(this.webex,"change:internal.device.features.entitlement",this.trigger.bind(this,"change:entitlement")),this.listenToAndRun(this.webex,"change:internal.device.features.user",this.trigger.bind(this,"change:user"))},version:"1.150.0"}),s=u;exports.default=s;
},{"@babel/runtime-corejs2/core-js/object/define-property":"eIqn","@babel/runtime-corejs2/helpers/interopRequireDefault":"LXwi","@babel/runtime-corejs2/core-js/promise":"eOfj","@babel/runtime-corejs2/core-js/reflect/apply":"Lf7Q","lodash/partition":"uxXC","@webex/internal-plugin-device":"Ori7","@webex/webex-core":"bqGz"}],"noPt":[function(require,module,exports) {
"use strict";var e=require("@babel/runtime-corejs2/core-js/object/define-property");e(exports,"__esModule",{value:!0}),exports.default=void 0;var r={feature:{}};exports.default=r;
},{"@babel/runtime-corejs2/core-js/object/define-property":"eIqn"}],"GYrY":[function(require,module,exports) {
"use strict";var e=require("@babel/runtime-corejs2/core-js/object/define-property"),r=require("@babel/runtime-corejs2/helpers/interopRequireDefault");e(exports,"__esModule",{value:!0}),e(exports,"default",{enumerable:!0,get:function(){return t.default}}),require("@webex/internal-plugin-mercury");var u=require("@webex/webex-core"),t=r(require("./feature")),i=r(require("./config"));(0,u.registerInternalPlugin)("feature",t.default,{config:i.default});
},{"@babel/runtime-corejs2/core-js/object/define-property":"eIqn","@babel/runtime-corejs2/helpers/interopRequireDefault":"LXwi","@webex/internal-plugin-mercury":"njNR","@webex/webex-core":"bqGz","./feature":"dSMk","./config":"noPt"}],"Tkb9":[function(require,module,exports) {
"use strict";var e=require("@babel/runtime-corejs2/core-js/object/define-property"),r=require("@babel/runtime-corejs2/helpers/interopRequireDefault");e(exports,"__esModule",{value:!0}),exports.default=void 0;var t=r(require("@babel/runtime-corejs2/helpers/slicedToArray")),n=r(require("@babel/runtime-corejs2/core-js/symbol")),u=r(require("@babel/runtime-corejs2/core-js/date/now")),i=r(require("@babel/runtime-corejs2/core-js/promise")),o=r(require("@babel/runtime-corejs2/core-js/reflect/apply")),s=require("@webex/webex-core"),a=require("@webex/common-timers"),c=(0,n.default)("metric id"),l=s.Batcher.extend({namespace:"Metrics",prepareItem:function(e){return e.appType=e.appType||this.config.appType,e.env=e.env||null,e.time=e.time||(0,u.default)(),e.version=e.version||this.webex.version,i.default.resolve(e)},prepareRequest:function(e){return i.default.resolve(e.map(function(e){return e.postTime=e.postTime||(0,u.default)(),e}))},submitHttpRequest:function(e){return this.webex.request({method:"POST",service:"metrics",resource:"metrics",body:{metrics:e}})},handleHttpSuccess:function(e){var r=this;return i.default.all(e.options.body.metrics.map(function(e){return r.acceptItem(e)}))},handleHttpError:function(e){var r=this;return e instanceof s.WebexHttpError.NetworkOrCORSError?(this.logger.warn("metrics-batcher: received network error submitting metrics, reenqueuing payload"),i.default.all(e.options.body.metrics.map(function(e){return new i.default(function(t){var n=e[c].nextDelay;n<r.config.batcherRetryPlateau&&(e[c].nextDelay*=2),(0,a.safeSetTimeout)(function(){t(r.rerequest(e))},n)})}))):(0,o.default)(s.Batcher.prototype.handleHttpError,this,[e])},rerequest:function(e){var r=this;return i.default.all([this.getDeferredForRequest(e),this.prepareItem(e)]).then(function(e){var n=(0,t.default)(e,2),u=n[0],i=n[1];r.enqueue(i).then(function(){return r.bounce()}).catch(function(e){return u.reject(e)})})},fingerprintRequest:function(e){return e[c]=e[c]||{nextDelay:1e3},i.default.resolve(e[c])},fingerprintResponse:function(e){return i.default.resolve(e[c])}}),p=l;exports.default=p;
},{"@babel/runtime-corejs2/core-js/object/define-property":"eIqn","@babel/runtime-corejs2/helpers/interopRequireDefault":"LXwi","@babel/runtime-corejs2/helpers/slicedToArray":"vwJD","@babel/runtime-corejs2/core-js/symbol":"mr6k","@babel/runtime-corejs2/core-js/date/now":"Pb2S","@babel/runtime-corejs2/core-js/promise":"eOfj","@babel/runtime-corejs2/core-js/reflect/apply":"Lf7Q","@webex/webex-core":"bqGz","@webex/common-timers":"oZaC"}],"Gdhk":[function(require,module,exports) {
"use strict";var e=require("@babel/runtime-corejs2/core-js/object/define-property"),r=require("@babel/runtime-corejs2/helpers/interopRequireDefault");e(exports,"__esModule",{value:!0}),exports.default=void 0;var t=r(require("@babel/runtime-corejs2/core-js/promise")),u=r(require("./batcher")),s=u.default.extend({namespace:"Metrics",prepareItem:function(e){return t.default.resolve(e)},prepareRequest:function(e){return t.default.resolve(e)},submitHttpRequest:function(e){return this.webex.request({method:"POST",service:"metrics",resource:"clientmetrics",body:{metrics:e}})}}),i=s;exports.default=i;
},{"@babel/runtime-corejs2/core-js/object/define-property":"eIqn","@babel/runtime-corejs2/helpers/interopRequireDefault":"LXwi","@babel/runtime-corejs2/core-js/promise":"eOfj","./batcher":"Tkb9"}],"tXLt":[function(require,module,exports) {
"use strict";var e=require("@babel/runtime-corejs2/core-js/object/define-property"),r=require("@babel/runtime-corejs2/helpers/interopRequireDefault");e(exports,"__esModule",{value:!0}),exports.default=void 0;var t=r(require("@babel/runtime-corejs2/core-js/object/assign")),i=r(require("@babel/runtime-corejs2/core-js/promise")),n=r(require("./batcher")),o=n.default.extend({namespace:"Metrics",getBuildType:function(e){return null!=e&&e.includes("teams.webex.com")||null!=e&&e.includes("localhost")||null!=e&&e.includes("127.0.0.1")?"test":"prod"},prepareItem:function(e){var r,n,o={buildType:this.getBuildType(null===(r=e.event)||void 0===r?void 0:null===(n=r.eventData)||void 0===n?void 0:n.webClientDomain),networkType:"unknown"};return e.eventPayload.origin=(0,t.default)(o,e.eventPayload.origin),i.default.resolve(e)},prepareRequest:function(e){return e.forEach(function(e){e.eventPayload.originTime=e.eventPayload.originTime||{},e.eventPayload.originTime.sent=(new Date).toISOString()}),i.default.resolve(e)},submitHttpRequest:function(e){return this.webex.request({method:"POST",service:"metrics",resource:"clientmetrics",body:{metrics:e}})}}),u=o;exports.default=u;
},{"@babel/runtime-corejs2/core-js/object/define-property":"eIqn","@babel/runtime-corejs2/helpers/interopRequireDefault":"LXwi","@babel/runtime-corejs2/core-js/object/assign":"h2Mz","@babel/runtime-corejs2/core-js/promise":"eOfj","./batcher":"Tkb9"}],"e8Lt":[function(require,module,exports) {
"use strict";var e=require("@babel/runtime-corejs2/core-js/object/define-property"),t=require("@babel/runtime-corejs2/helpers/interopRequireDefault");e(exports,"__esModule",{value:!0}),exports.default=void 0;var r,i,s=t(require("@babel/runtime-corejs2/core-js/object/assign")),n=t(require("@babel/runtime-corejs2/core-js/date/now")),c=t(require("@babel/runtime-corejs2/core-js/object/get-own-property-descriptor")),a=t(require("@babel/runtime-corejs2/helpers/applyDecoratedDescriptor")),u=require("@webex/webex-core"),o=require("@webex/common"),l=t(require("./batcher")),d=t(require("./client-metrics-batcher")),b=t(require("./call-diagnostic-events-batcher")),p=u.WebexPlugin.extend((r=(0,o.deprecated)("Metrics#sendUnstructured() is deprecated; please use Metrics#submit()"),i={children:{batcher:l.default,clientMetricsBatcher:d.default,callDiagnosticEventsBatcher:b.default},namespace:"Metrics",sendUnstructured:function(e,t){return this.submit(e,t)},submit:function(e,t){return this.batcher.request((0,s.default)({key:e},t))},submitClientMetrics:function(e,t,r){var i={metricName:e};if(t.tags&&(i.tags=t.tags),t.fields&&(i.fields=t.fields),t.type&&(i.type=t.type),t.context&&(i.context=t.context),t.eventPayload&&(i.eventPayload=t.eventPayload),i.timestamp=(0,n.default)(),r){var s={metrics:[i]};return this.postPreLoginMetric(s,r)}return this.clientMetricsBatcher.request(i)},aliasUser:function(e){return this.request({method:"POST",api:"metrics",resource:"clientmetrics",headers:{"x-prelogin-userid":e},body:{},qs:{alias:!0}})},postPreLoginMetric:function(e,t){var r=this;return this.webex.credentials.getClientToken().then(function(i){return r.request({method:"POST",api:"metrics",resource:"clientmetrics-prelogin",headers:{authorization:i.toString(),"x-prelogin-userid":t},body:e})})},submitCallDiagnosticEvents:function(e){var t={type:"diagnostic-event",eventPayload:e};return this.callDiagnosticEventsBatcher.request(t)},version:"1.150.0"},(0,a.default)(i,"sendUnstructured",[r],(0,c.default)(i,"sendUnstructured"),i),i)),h=p;exports.default=h;
},{"@babel/runtime-corejs2/core-js/object/define-property":"eIqn","@babel/runtime-corejs2/helpers/interopRequireDefault":"LXwi","@babel/runtime-corejs2/core-js/object/assign":"h2Mz","@babel/runtime-corejs2/core-js/date/now":"Pb2S","@babel/runtime-corejs2/core-js/object/get-own-property-descriptor":"mQ9c","@babel/runtime-corejs2/helpers/applyDecoratedDescriptor":"WYJH","@webex/webex-core":"bqGz","@webex/common":"UeF0","./batcher":"Tkb9","./client-metrics-batcher":"Gdhk","./call-diagnostic-events-batcher":"tXLt"}],"Vwvo":[function(require,module,exports) {
"use strict";var e=require("@babel/runtime-corejs2/core-js/object/define-property");e(exports,"__esModule",{value:!0}),exports.default=void 0;var r=require("@webex/common"),t={device:{preDiscoveryServices:{metricsServiceUrl:"https://metrics-a.wbx2.com/metrics/api/v1",metrics:"https://metrics-a.wbx2.com/metrics/api/v1"}},metrics:{appType:r.inBrowser?"browser":"nodejs",batcherWait:500,batcherMaxCalls:50,batcherMaxWait:1500,batcherRetryPlateau:32e3}};exports.default=t;
},{"@babel/runtime-corejs2/core-js/object/define-property":"eIqn","@webex/common":"UeF0"}],"b10M":[function(require,module,exports) {
"use strict";var e=require("@babel/runtime-corejs2/core-js/object/define-property"),r=require("@babel/runtime-corejs2/helpers/interopRequireDefault");e(exports,"__esModule",{value:!0}),e(exports,"default",{enumerable:!0,get:function(){return u.default}}),e(exports,"config",{enumerable:!0,get:function(){return i.default}}),require("@webex/internal-plugin-device");var t=require("@webex/webex-core"),u=r(require("./metrics")),i=r(require("./config"));(0,t.registerInternalPlugin)("metrics",u.default,{config:i.default});
},{"@babel/runtime-corejs2/core-js/object/define-property":"eIqn","@babel/runtime-corejs2/helpers/interopRequireDefault":"LXwi","@webex/internal-plugin-device":"Ori7","@webex/webex-core":"bqGz","./metrics":"e8Lt","./config":"Vwvo"}],"Kr2C":[function(require,module,exports) {
var e=require("./_baseSlice");function r(r,i,n){var o=r.length;return n=void 0===n?o:n,!i&&n>=o?r:e(r,i,n)}module.exports=r;
},{"./_baseSlice":"Chbn"}],"oxMD":[function(require,module,exports) {
var u="\\ud800-\\udfff",f="\\u0300-\\u036f",e="\\ufe20-\\ufe2f",d="\\u20d0-\\u20ff",t=f+e+d,r="\\ufe0e\\ufe0f",n="\\u200d",o=RegExp("["+n+u+t+r+"]");function p(u){return o.test(u)}module.exports=p;
},{}],"ACee":[function(require,module,exports) {
function t(t){return t.split("")}module.exports=t;
},{}],"NNKx":[function(require,module,exports) {
var f="\\ud800-\\udfff",u="\\u0300-\\u036f",d="\\ufe20-\\ufe2f",e="\\u20d0-\\u20ff",c=u+d+e,n="\\ufe0e\\ufe0f",o="["+f+"]",r="["+c+"]",t="\\ud83c[\\udffb-\\udfff]",i="(?:"+r+"|"+t+")",a="[^"+f+"]",b="(?:\\ud83c[\\udde6-\\uddff]){2}",g="[\\ud800-\\udbff][\\udc00-\\udfff]",j="\\u200d",m=i+"?",p="["+n+"]?",x="(?:"+j+"(?:"+[a,b,g].join("|")+")"+p+m+")*",h=p+m+x,l="(?:"+[a+r+"?",r,b,g,o].join("|")+")",s=RegExp(t+"(?="+t+")|"+l+h,"g");function v(f){return f.match(s)||[]}module.exports=v;
},{}],"smkV":[function(require,module,exports) {
var r=require("./_asciiToArray"),e=require("./_hasUnicode"),i=require("./_unicodeToArray");function o(o){return e(o)?i(o):r(o)}module.exports=o;
},{"./_asciiToArray":"ACee","./_hasUnicode":"oxMD","./_unicodeToArray":"NNKx"}],"prUu":[function(require,module,exports) {
var r=require("./_castSlice"),e=require("./_hasUnicode"),i=require("./_stringToArray"),n=require("./toString");function t(t){return function(o){o=n(o);var u=e(o)?i(o):void 0,c=u?u[0]:o.charAt(0),a=u?r(u,1).join(""):o.slice(1);return c[t]()+a}}module.exports=t;
},{"./_castSlice":"Kr2C","./_hasUnicode":"oxMD","./_stringToArray":"smkV","./toString":"A8RV"}],"SwE8":[function(require,module,exports) {
var e=require("./_createCaseFirst"),r=e("toUpperCase");module.exports=r;
},{"./_createCaseFirst":"prUu"}],"NEda":[function(require,module,exports) {
var r=require("./toString"),e=require("./upperFirst");function t(t){return e(r(t).toLowerCase())}module.exports=t;
},{"./toString":"A8RV","./upperFirst":"SwE8"}],"FhVQ":[function(require,module,exports) {
function n(n,r,e,l){var o=-1,t=null==n?0:n.length;for(l&&t&&(e=n[++o]);++o<t;)e=r(e,n[o],o,n);return e}module.exports=n;
},{}],"U25D":[function(require,module,exports) {
var e=require("./_basePropertyOf"),o={"":"A","":"A","":"A","":"A","":"A","":"A","":"a","":"a","":"a","":"a","":"a","":"a","":"C","":"c","":"D","":"d","":"E","":"E","":"E","":"E","":"e","":"e","":"e","":"e","":"I","":"I","":"I","":"I","":"i","":"i","":"i","":"i","":"N","":"n","":"O","":"O","":"O","":"O","":"O","":"O","":"o","":"o","":"o","":"o","":"o","":"o","":"U","":"U","":"U","":"U","":"u","":"u","":"u","":"u","":"Y","":"y","":"y","":"Ae","":"ae","":"Th","":"th","":"ss","":"A","":"A","":"A","":"a","":"a","":"a","":"C","":"C","":"C","":"C","":"c","":"c","":"c","":"c","":"D","":"D","":"d","":"d","":"E","":"E","":"E","":"E","":"E","":"e","":"e","":"e","":"e","":"e","":"G","":"G","":"G","":"G","":"g","":"g","":"g","":"g","":"H","":"H","":"h","":"h","":"I","":"I","":"I","":"I","":"I","":"i","":"i","":"i","":"i","":"i","":"J","":"j","":"K","":"k","":"k","":"L","":"L","":"L","":"L","":"L","":"l","":"l","":"l","":"l","":"l","":"N","":"N","":"N","":"N","":"n","":"n","":"n","":"n","":"O","":"O","":"O","":"o","":"o","":"o","":"R","":"R","":"R","":"r","":"r","":"r","":"S","":"S","":"S","":"S","":"s","":"s","":"s","":"s","":"T","":"T","":"T","":"t","":"t","":"t","":"U","":"U","":"U","":"U","":"U","":"U","":"u","":"u","":"u","":"u","":"u","":"u","":"W","":"w","":"Y","":"y","":"Y","":"Z","":"Z","":"Z","":"z","":"z","":"z","":"IJ","":"ij","":"Oe","":"oe","":"'n","":"s"},a=e(o);module.exports=a;
},{"./_basePropertyOf":"IAIt"}],"zTb8":[function(require,module,exports) {
var e=require("./_deburrLetter"),r=require("./toString"),u=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,f="\\u0300-\\u036f",x="\\ufe20-\\ufe2f",t="\\u20d0-\\u20ff",d=f+x+t,c="["+d+"]",g=RegExp(c,"g");function i(f){return(f=r(f))&&f.replace(u,e).replace(g,"")}module.exports=i;
},{"./_deburrLetter":"U25D","./toString":"A8RV"}],"RY7o":[function(require,module,exports) {
var x=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;function r(r){return r.match(x)||[]}module.exports=r;
},{}],"bACJ":[function(require,module,exports) {
var a=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;function t(t){return a.test(t)}module.exports=t;
},{}],"Wq7j":[function(require,module,exports) {
var u="\\ud800-\\udfff",f="\\u0300-\\u036f",d="\\ufe20-\\ufe2f",x="\\u20d0-\\u20ff",e=f+d+x,b="\\u2700-\\u27bf",n="a-z\\xdf-\\xf6\\xf8-\\xff",a="\\xac\\xb1\\xd7\\xf7",o="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",t="\\u2000-\\u206f",c=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",r="A-Z\\xc0-\\xd6\\xd8-\\xde",i="\\ufe0e\\ufe0f",j=a+o+t+c,l="[']",m="["+j+"]",s="["+e+"]",D="\\d+",E="["+b+"]",R="["+n+"]",T="[^"+u+j+D+b+n+r+"]",g="\\ud83c[\\udffb-\\udfff]",h="(?:"+s+"|"+g+")",p="[^"+u+"]",v="(?:\\ud83c[\\udde6-\\uddff]){2}",z="[\\ud800-\\udbff][\\udc00-\\udfff]",A="["+r+"]",L="\\u200d",S="(?:"+R+"|"+T+")",Z="(?:"+A+"|"+T+")",$="(?:"+l+"(?:d|ll|m|re|s|t|ve))?",_="(?:"+l+"(?:D|LL|M|RE|S|T|VE))?",H=h+"?",M="["+i+"]?",N="(?:"+L+"(?:"+[p,v,z].join("|")+")"+M+H+")*",V="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",k="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",q=M+H+N,w="(?:"+[E,v,z].join("|")+")"+q,y=RegExp([A+"?"+R+"+"+$+"(?="+[m,A,"$"].join("|")+")",Z+"+"+_+"(?="+[m,A+S,"$"].join("|")+")",A+"?"+S+"+"+$,A+"+"+_,k,V,D,w].join("|"),"g");function B(u){return u.match(y)||[]}module.exports=B;
},{}],"y4UJ":[function(require,module,exports) {
var r=require("./_asciiWords"),e=require("./_hasUnicodeWord"),i=require("./toString"),o=require("./_unicodeWords");function d(d,u,n){return d=i(d),void 0===(u=n?void 0:u)?e(d)?o(d):r(d):d.match(u)||[]}module.exports=d;
},{"./_asciiWords":"RY7o","./_hasUnicodeWord":"bACJ","./toString":"A8RV","./_unicodeWords":"Wq7j"}],"JydJ":[function(require,module,exports) {
var r=require("./_arrayReduce"),e=require("./deburr"),u=require("./words"),n="[']",i=RegExp(n,"g");function o(n){return function(o){return r(u(e(o).replace(i,"")),n,"")}}module.exports=o;
},{"./_arrayReduce":"FhVQ","./deburr":"zTb8","./words":"y4UJ"}],"SjCc":[function(require,module,exports) {
var e=require("./capitalize"),r=require("./_createCompounder"),o=r(function(r,o,t){return o=o.toLowerCase(),r+(t?e(o):o)});module.exports=o;
},{"./capitalize":"NEda","./_createCompounder":"JydJ"}],"Aflm":[function(require,module,exports) {
var e,r,o=require("./lib/rng"),s=require("./lib/bytesToUuid"),i=0,n=0;function c(c,l,u){var v=l&&u||0,a=l||[],d=(c=c||{}).node||e,t=void 0!==c.clockseq?c.clockseq:r;if(null==d||null==t){var m=o();null==d&&(d=e=[1|m[0],m[1],m[2],m[3],m[4],m[5]]),null==t&&(t=r=16383&(m[6]<<8|m[7]))}var q=void 0!==c.msecs?c.msecs:(new Date).getTime(),f=void 0!==c.nsecs?c.nsecs:n+1,b=q-i+(f-n)/1e4;if(b<0&&void 0===c.clockseq&&(t=t+1&16383),(b<0||q>i)&&void 0===c.nsecs&&(f=0),f>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");i=q,n=f,r=t;var k=(1e4*(268435455&(q+=122192928e5))+f)%4294967296;a[v++]=k>>>24&255,a[v++]=k>>>16&255,a[v++]=k>>>8&255,a[v++]=255&k;var w=q/4294967296*1e4&268435455;a[v++]=w>>>8&255,a[v++]=255&w,a[v++]=w>>>24&15|16,a[v++]=w>>>16&255,a[v++]=t>>>8|128,a[v++]=255&t;for(var g=0;g<6;++g)a[v+g]=d[g];return l||s(a)}module.exports=c;
},{"./lib/rng":"j3Do","./lib/bytesToUuid":"HSap"}],"rdCT":[function(require,module,exports) {
var r=require("./lib/rng"),n=require("./lib/bytesToUuid");function e(e,i,u){var a=i&&u||0;"string"==typeof e&&(i="binary"===e?new Array(16):null,e=null);var l=(e=e||{}).random||(e.rng||r)();if(l[6]=15&l[6]|64,l[8]=63&l[8]|128,i)for(var o=0;o<16;++o)i[a+o]=l[o];return i||n(l)}module.exports=e;
},{"./lib/rng":"j3Do","./lib/bytesToUuid":"HSap"}],"mfR9":[function(require,module,exports) {
var e=require("./v1"),r=require("./v4"),v=r;v.v1=e,v.v4=r,module.exports=v;
},{"./v1":"Aflm","./v4":"rdCT"}],"e4GY":[function(require,module,exports) {
"use strict";var e=require("@babel/runtime-corejs2/core-js/reflect/construct"),r=require("@babel/runtime-corejs2/core-js/object/define-property"),t=require("@babel/runtime-corejs2/helpers/interopRequireDefault");r(exports,"__esModule",{value:!0}),exports.Forbidden=exports.NotAuthorized=exports.BadRequest=exports.UnknownResponse=exports.ConnectionError=void 0;var n=t(require("@babel/runtime-corejs2/core-js/object/define-properties")),o=t(require("@babel/runtime-corejs2/helpers/classCallCheck")),u=t(require("@babel/runtime-corejs2/helpers/createClass")),a=t(require("@babel/runtime-corejs2/helpers/inherits")),s=t(require("@babel/runtime-corejs2/helpers/possibleConstructorReturn")),i=t(require("@babel/runtime-corejs2/helpers/getPrototypeOf")),l=t(require("@babel/runtime-corejs2/helpers/defineProperty")),c=require("@webex/common");function f(r){var t=d();return function(){var n,o=(0,i.default)(r);if(t){var u=(0,i.default)(this).constructor;n=e(o,arguments,u)}else n=o.apply(this,arguments);return(0,s.default)(this,n)}}function d(){if("undefined"==typeof Reflect||!e)return!1;if(e.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(e(Boolean,[],function(){})),!0}catch(r){return!1}}var p=function(e){(0,a.default)(t,e);var r=f(t);function t(){return(0,o.default)(this,t),r.apply(this,arguments)}return(0,u.default)(t,[{key:"parse",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,n.default)(this,{code:{value:e.code},reason:{value:e.reason}}),e.reason}}]),t}(c.Exception);exports.ConnectionError=p,(0,l.default)(p,"defaultMessage","Failed to connect to socket");var h=function(e){(0,a.default)(t,e);var r=f(t);function t(){return(0,o.default)(this,t),r.apply(this,arguments)}return t}(p);exports.UnknownResponse=h,(0,l.default)(h,"defaultMessage","UnknownResponse is produced by IE when we receive a 4XXX. You probably want to treat this like a NotFound");var b=function(e){(0,a.default)(t,e);var r=f(t);function t(){return(0,o.default)(this,t),r.apply(this,arguments)}return t}(p);exports.BadRequest=b,(0,l.default)(b,"defaultMessage","BadRequest usually implies an attempt to use service account credentials");var v=function(e){(0,a.default)(t,e);var r=f(t);function t(){return(0,o.default)(this,t),r.apply(this,arguments)}return t}(p);exports.NotAuthorized=v,(0,l.default)(v,"defaultMessage","Please refresh your access token");var y=function(e){(0,a.default)(t,e);var r=f(t);function t(){return(0,o.default)(this,t),r.apply(this,arguments)}return t}(p);exports.Forbidden=y,(0,l.default)(y,"defaultMessage","Forbidden usually implies these credentials are not entitled for Webex");
},{"@babel/runtime-corejs2/core-js/reflect/construct":"vZQy","@babel/runtime-corejs2/core-js/object/define-property":"eIqn","@babel/runtime-corejs2/helpers/interopRequireDefault":"LXwi","@babel/runtime-corejs2/core-js/object/define-properties":"CpmN","@babel/runtime-corejs2/helpers/classCallCheck":"Tzth","@babel/runtime-corejs2/helpers/createClass":"xM5U","@babel/runtime-corejs2/helpers/inherits":"CdTE","@babel/runtime-corejs2/helpers/possibleConstructorReturn":"w9GY","@babel/runtime-corejs2/helpers/getPrototypeOf":"Qxr1","@babel/runtime-corejs2/helpers/defineProperty":"n5FU","@webex/common":"UeF0"}],"Iu6t":[function(require,module,exports) {
"use strict";var e=require("@babel/runtime-corejs2/core-js/reflect/construct"),r=require("@babel/runtime-corejs2/core-js/object/define-property"),t=require("@babel/runtime-corejs2/helpers/interopRequireDefault");r(exports,"__esModule",{value:!0}),exports.default=void 0;var o=t(require("@babel/runtime-corejs2/core-js/weak-map")),n=t(require("@babel/runtime-corejs2/core-js/promise")),i=t(require("@babel/runtime-corejs2/core-js/object/keys")),c=t(require("@babel/runtime-corejs2/core-js/reflect/define-property")),s=t(require("@babel/runtime-corejs2/core-js/parse-int")),a=t(require("@babel/runtime-corejs2/core-js/json/stringify")),u=t(require("@babel/runtime-corejs2/helpers/classCallCheck")),l=t(require("@babel/runtime-corejs2/helpers/createClass")),d=t(require("@babel/runtime-corejs2/helpers/assertThisInitialized")),f=t(require("@babel/runtime-corejs2/helpers/inherits")),g=t(require("@babel/runtime-corejs2/helpers/possibleConstructorReturn")),h=t(require("@babel/runtime-corejs2/helpers/getPrototypeOf")),p=t(require("lodash/isObject")),m=t(require("lodash/has")),b=t(require("lodash/defaults")),k=require("events"),v=require("@webex/common"),y=require("@webex/common-timers"),w=t(require("uuid")),q=require("../errors");function j(r){var t=T();return function(){var o,n=(0,h.default)(r);if(t){var i=(0,h.default)(this).constructor;o=e(n,arguments,i)}else o=n.apply(this,arguments);return(0,g.default)(this,o)}}function T(){if("undefined"==typeof Reflect||!e)return!1;if(e.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(e(Boolean,[],function(){})),!0}catch(r){return!1}}var x=new o.default,S=function(e){(0,f.default)(t,e);var r=j(t);function t(){var e;return(0,u.default)(this,t),(e=r.call(this)).onmessage=e.onmessage.bind((0,d.default)(e)),e.onclose=e.onclose.bind((0,d.default)(e)),e}return(0,l.default)(t,[{key:"binaryType",get:function(){return x.get(this).binaryType}},{key:"bufferedAmount",get:function(){return x.get(this).bufferedAmount}},{key:"extensions",get:function(){return x.get(this).extensions}},{key:"protocol",get:function(){return x.get(this).protocol}},{key:"readyState",get:function(){return x.get(this).readyState}},{key:"url",get:function(){return x.get(this).url}},{key:"close",value:function(e){var r=this;return new n.default(function(t,o){var n=x.get(r);if(n){if(r.logger.info("socket: closing"),2===n.readyState||3===n.readyState)return r.logger.info("socket: already closed"),void t();if((e=e||{}).code&&1e3!==e.code&&(e.code<3e3||e.code>4999))o(new Error("`options.code` must be 1000 or between 3000 and 4999 (inclusive)"));else{e=(0,b.default)(e,{code:1e3,reason:"Done"});var i=(0,y.safeSetTimeout)(function(){try{r.logger.info("socket: no close event received, forcing closure"),t(r.onclose({code:1e3,reason:"Done (forced)"}))}catch(e){r.logger.warn("socket: force-close failed",e)}},r.forceCloseDelay);n.onclose=function(e){r.logger.info("socket: close event fired",e.code,e.reason),clearTimeout(i),r.onclose(e),t(e)},n.close(e.code,e.reason)}}else t()})}},{key:"open",value:function(e,r){var o=this;return new n.default(function(n,s){if(e)if(x.get(o))s(new Error("Socket#open() can only be called once per instance"));else{r=r||{},(0,v.checkRequired)(["forceCloseDelay","pingInterval","pongTimeout","token","trackingId","logger"],r),(0,i.default)(r).forEach(function(e){(0,c.default)(o,e,{enumerable:!1,value:r[e]})});var a=t.getWebSocketConstructor();o.logger.info("socket: creating WebSocket");var u=new a(e,[],r);u.binaryType="arraybuffer",u.onmessage=o.onmessage,u.onclose=function(e){switch(e=o._fixCloseCode(e),o.logger.info("socket: closed before open",e.code,e.reason),e.code){case 1005:return s(new q.UnknownResponse(e));case 4400:return s(new q.BadRequest(e));case 4401:return s(new q.NotAuthorized(e));case 4403:return s(new q.Forbidden(e));default:return s(new q.ConnectionError(e))}},u.onopen=function(){o.logger.info("socket: connected"),o._authorize().then(function(){o.logger.info("socket: authorized"),u.onclose=o.onclose,n()}).catch(s)},u.onerror=function(e){o.logger.warn("socket: error event fired",e)},x.set(o,u),o.logger.info("socket: waiting for server")}else s(new Error("`url` is required"))})}},{key:"onclose",value:function(e){this.logger.info("socket: closed",e.code,e.reason),clearTimeout(this.pongTimer),clearTimeout(this.pingTimer),e=this._fixCloseCode(e),this.emit("close",e),this.removeAllListeners()}},{key:"onmessage",value:function(e){try{var r=JSON.parse(e.data),t=(0,s.default)(r.sequenceNumber,10);this.logger.debug("socket: sequence number: ",t),this.expectedSequenceNumber&&t!==this.expectedSequenceNumber&&(this.logger.debug("socket: sequence number mismatch indicates lost mercury message. expected: ".concat(this.expectedSequenceNumber,", actual: ").concat(t)),this.emit("sequence-mismatch",t,this.expectedSequenceNumber)),this.expectedSequenceNumber=t+1;var o={data:r};this._acknowledge(o),"pong"===r.type?this.emit("pong",o):this.emit("message",o)}catch(n){this.logger.warn("socket: error while receiving WebSocket message",n)}}},{key:"send",value:function(e){var r=this;return new n.default(function(t,o){return 1!==r.readyState?o(new Error("INVALID_STATE_ERROR")):((0,p.default)(e)&&(e=(0,a.default)(e)),x.get(r).send(e),t())})}},{key:"_acknowledge",value:function(e){return e?(0,m.default)(e,"data.id")?this.send({messageId:e.data.id,type:"ack"}):n.default.reject(new Error("`event.data.id` is required")):n.default.reject(new Error("`event` is required"))}},{key:"_authorize",value:function(){var e=this;return new n.default(function(r){e.logger.info("socket: authorizing"),e.send({id:w.default.v4(),type:"authorization",data:{token:e.token},trackingId:e.trackingId,logLevelToken:e.logLevelToken});e.once("message",function t(o){o.data.type||"mercury.buffer_state"!==o.data.data.eventType&&"mercury.registration_status"!==o.data.data.eventType||(e.removeListener("message",t),e._ping(),r())})})}},{key:"_fixCloseCode",value:function(e){if(1005===e.code&&e.reason)switch(e.reason.toLowerCase()){case"replaced":this.logger.info("socket: fixing CloseEvent code for reason: ",e.reason),e.code=4e3;break;case"authentication failed":case"authentication did not happen within the timeout window of 30000 seconds.":this.logger.info("socket: fixing CloseEvent code for reason: ",e.reason),e.code=1008}return e}},{key:"_ping",value:function(e){var r=this;return e=e||w.default.v4(),this.pongTimer=(0,y.safeSetTimeout)(function(){try{r.logger.info("socket: pong not receive in expected period, closing socket"),r.close({code:1e3,reason:"Pong not received"}).catch(function(e){r.logger.warn("socket: failed to close socket after missed pong",e)})}catch(e){r.logger.error("socket: error occurred in onPongNotReceived",e)}},this.pongTimeout),this.once("pong",function(){try{clearTimeout(r.pongTimer),r.pingTimer=(0,y.safeSetTimeout)(function(){return r._ping()},r.pingInterval)}catch(e){r.logger.error("socket: error occurred in scheduleNextPingAndCancelPongTimer",e)}}),this.once("pong",function(t){try{r.logger.debug("socket: pong",t.data.id),t.data&&t.data.id!==e&&(r.logger.info("socket: received pong for wrong ping id, closing socket"),r.logger.debug("socket: expected",e,"received",t.data.id),r.close({code:1e3,reason:"Pong mismatch"}))}catch(o){r.logger.error("socket: error occurred in confirmPongId",o)}}),this.logger.debug("socket: ping ".concat(e)),this.send({id:e,type:"ping"})}}],[{key:"getWebSocketConstructor",value:function(){throw new Error("Socket.getWebSocketConstructor() must be implemented in an environmentally appropriate way")}}]),t}(k.EventEmitter);exports.default=S;
},{"@babel/runtime-corejs2/core-js/reflect/construct":"vZQy","@babel/runtime-corejs2/core-js/object/define-property":"eIqn","@babel/runtime-corejs2/helpers/interopRequireDefault":"LXwi","@babel/runtime-corejs2/core-js/weak-map":"HKHU","@babel/runtime-corejs2/core-js/promise":"eOfj","@babel/runtime-corejs2/core-js/object/keys":"d81a","@babel/runtime-corejs2/core-js/reflect/define-property":"Gn7E","@babel/runtime-corejs2/core-js/parse-int":"TiYh","@babel/runtime-corejs2/core-js/json/stringify":"E09K","@babel/runtime-corejs2/helpers/classCallCheck":"Tzth","@babel/runtime-corejs2/helpers/createClass":"xM5U","@babel/runtime-corejs2/helpers/assertThisInitialized":"YqR0","@babel/runtime-corejs2/helpers/inherits":"CdTE","@babel/runtime-corejs2/helpers/possibleConstructorReturn":"w9GY","@babel/runtime-corejs2/helpers/getPrototypeOf":"Qxr1","lodash/isObject":"u9vI","lodash/has":"HZ8X","lodash/defaults":"mpS4","events":"FRpO","@webex/common":"UeF0","@webex/common-timers":"oZaC","uuid":"mfR9","../errors":"e4GY"}],"htec":[function(require,module,exports) {
var global = arguments[3];
var e=arguments[3],o=require("@babel/runtime-corejs2/core-js/object/define-property"),t=require("@babel/runtime-corejs2/helpers/interopRequireDefault");o(exports,"__esModule",{value:!0}),exports.default=void 0;var r=t(require("./socket-base"));r.default.getWebSocketConstructor=function(){var o;return"undefined"!=typeof WebSocket?o=WebSocket:"undefined"!=typeof MozWebSocket?o=MozWebSocket:void 0!==e?o=e.WebSocket||e.MozWebSocket:"undefined"!=typeof window?o=window.WebSocket||window.MozWebSocket:"undefined"!=typeof self&&(o=self.WebSocket||self.MozWebSocket),o};var u=r.default;exports.default=u;
},{"@babel/runtime-corejs2/core-js/object/define-property":"eIqn","@babel/runtime-corejs2/helpers/interopRequireDefault":"LXwi","./socket-base":"Iu6t"}],"tay0":[function(require,module,exports) {
"use strict";var e=require("@babel/runtime-corejs2/core-js/object/define-property"),r=require("@babel/runtime-corejs2/helpers/interopRequireDefault");e(exports,"__esModule",{value:!0}),e(exports,"default",{enumerable:!0,get:function(){return t.default}});var t=r(require("./socket"));
},{"@babel/runtime-corejs2/core-js/object/define-property":"eIqn","@babel/runtime-corejs2/helpers/interopRequireDefault":"LXwi","./socket":"htec"}],"Az8J":[function(require,module,exports) {
"use strict";var e=require("@babel/runtime-corejs2/core-js/object/keys"),r=require("@babel/runtime-corejs2/core-js/object/get-own-property-symbols"),t=require("@babel/runtime-corejs2/core-js/object/get-own-property-descriptor"),n=require("@babel/runtime-corejs2/core-js/object/get-own-property-descriptors"),o=require("@babel/runtime-corejs2/core-js/object/define-properties"),c=require("@babel/runtime-corejs2/core-js/object/define-property"),i=require("@babel/runtime-corejs2/helpers/interopRequireDefault");c(exports,"__esModule",{value:!0}),exports.default=void 0;var a,s,l,u=i(require("@babel/runtime-corejs2/core-js/promise")),f=i(require("@babel/runtime-corejs2/core-js/object/keys")),d=i(require("@babel/runtime-corejs2/core-js/object/assign")),g=i(require("@babel/runtime-corejs2/core-js/reflect/delete-property")),m=i(require("@babel/runtime-corejs2/core-js/date/now")),b=i(require("@babel/runtime-corejs2/core-js/object/get-own-property-descriptor")),h=i(require("@babel/runtime-corejs2/helpers/defineProperty")),p=i(require("@babel/runtime-corejs2/helpers/slicedToArray")),y=i(require("@babel/runtime-corejs2/helpers/applyDecoratedDescriptor")),v=i(require("lodash/set")),w=i(require("lodash/get")),k=i(require("lodash/camelCase")),x=i(require("url")),j=require("@webex/webex-core"),_=require("@webex/common"),q=i(require("backoff")),C=i(require("./socket")),M=require("./errors");function R(n,o){var c=e(n);if(r){var i=r(n);o&&(i=i.filter(function(e){return t(n,e).enumerable})),c.push.apply(c,i)}return c}function T(e){for(var r=1;r<arguments.length;r++){var i=null!=arguments[r]?arguments[r]:{};r%2?R(Object(i),!0).forEach(function(r){(0,h.default)(e,r,i[r])}):n?o(e,n(i)):R(Object(i)).forEach(function(r){c(e,r,t(i,r))})}return e}var U=["idle","done (forced)","pong not received","pong mismatch"],S=j.WebexPlugin.extend((a=(0,_.deprecated)("Mercury#listen(): Use Mercury#connect() instead"),s=(0,_.deprecated)("Mercury#stopListening(): Use Mercury#disconnect() instead"),l={namespace:"Mercury",session:{connected:{default:!1,type:"boolean"},connecting:{default:!1,type:"boolean"},socket:"object",localClusterServiceUrls:"object"},derived:{listening:{deps:["connected"],fn:function(){return this.connected}}},connect:function(e){var r=this;return this.connected?(this.logger.info("mercury: already connected, will not connect again"),u.default.resolve()):(this.connecting=!0,u.default.resolve(this.webex.internal.device.registered||this.webex.internal.device.register()).then(function(){return r.logger.info("mercury: connecting"),r._connectWithBackoff(e)}))},disconnect:function(){var e=this;return new u.default(function(r){if(e.backoffCall&&(e.logger.info("mercury: aborting connection"),e.backoffCall.abort()),e.socket)return e.socket.removeAllListeners("message"),e.once("offline",r),void e.socket.close();r()})},listen:function(){return this.connect()},stopListening:function(){return this.disconnect()},processRegistrationStatusEvent:function(e){this.localClusterServiceUrls=e.localClusterServiceUrls},_applyOverrides:function(e){e&&e.headers&&(0,f.default)(e.headers).forEach(function(r){(0,v.default)(e,r,e.headers[r])})},_prepareUrl:function(e){var r=this;return e||(e=this.webex.internal.device.webSocketUrl),this.webex.internal.feature.getFeature("developer","web-high-availability").then(function(t){return t?r.webex.internal.services.convertUrlToPriorityHostUrl(e):e}).then(function(r){e=r}).then(function(){return r.webex.internal.feature.getFeature("developer","web-shared-mercury")}).then(function(t){return e=x.default.parse(e,!0),(0,d.default)(e.query,{outboundWireFormat:"text",bufferStates:!0,aliasHttpStatus:!0}),t&&((0,d.default)(e.query,{mercuryRegistrationStatus:!0,isRegistrationRefreshEnabled:!0}),(0,g.default)(e.query,"bufferStates")),(0,w.default)(r,"webex.config.device.ephemeral",!1)&&(e.query.multipleConnections=!0),x.default.format(e)})},_attemptConnection:function(e,r){var t,n=this,o=new C.default;o.on("close",function(){return n._onclose.apply(n,arguments)}),o.on("message",function(){return n._onmessage.apply(n,arguments)}),o.on("sequence-mismatch",function(){for(var e=arguments.length,r=new Array(e),t=0;t<e;t++)r[t]=arguments[t];return n._emit.apply(n,["sequence-mismatch"].concat(r))}),u.default.all([this._prepareUrl(e),this.webex.credentials.getUserToken()]).then(function(e){var r=(0,p.default)(e,2),c=r[0],i=r[1];if(!n.backoffCall){var a="mercury: prevent socket open when backoffCall no longer defined";return n.logger.info(a),u.default.reject(new Error(a))}t=c;var s={forceCloseDelay:n.config.forceCloseDelay,pingInterval:n.config.pingInterval,pongTimeout:n.config.pongTimeout,token:i.toString(),trackingId:"".concat(n.webex.sessionId,"_").concat((0,m.default)()),logger:n.logger};return n.webex.config.defaultMercuryOptions&&(n.logger.info("mercury: setting custom options"),s=T(T({},s),n.webex.config.defaultMercuryOptions)),n.socket=o,o.open(c,s)}).then(function(){return n.webex.internal.metrics.submitClientMetrics("web-ha-mercury",{fields:{success:!0},tags:{action:"connected",url:t}}),r(),n.webex.internal.feature.getFeature("developer","web-high-availability").then(function(e){return e?n.webex.internal.device.refresh():u.default.resolve()})}).catch(function(e){return 1006!==e.code&&n.backoffCall&&n.backoffCall.getNumRetries()>0&&n._emit("connection_failed",e,{retries:n.backoffCall.getNumRetries()}),n.logger.info("mercury: connection attempt failed",e),e instanceof M.UnknownResponse?(n.logger.info("mercury: received unknown response code, refreshing device registration"),n.webex.internal.device.refresh().then(function(){return r(e)})):e instanceof M.NotAuthorized?(n.logger.info("mercury: received authorization error, reauthorizing"),n.webex.credentials.refresh({force:!0}).then(function(){return r(e)})):e instanceof M.BadRequest||e instanceof M.Forbidden?(n.logger.warn("mercury: received unrecoverable response from mercury"),n.backoffCall.abort(),r(e)):e instanceof M.ConnectionError?n.webex.internal.feature.getFeature("developer","web-high-availability").then(function(r){return r?(n.logger.info("mercury: received a generic connection error, will try to connect to another datacenter"),n.webex.internal.metrics.submitClientMetrics("web-ha-mercury",{fields:{success:!1},tags:{action:"failed",error:e.message,url:t}}),n.webex.internal.services.markFailedUrl(t)):null}).then(function(){return r(e)}):r(e)}).catch(function(e){n.logger.error("mercury: failed to handle connection failure",e),r(e)})},_connectWithBackoff:function(e){var r=this;return new u.default(function(t,n){var o;(o=q.default.call(function(t){r.logger.info("mercury: executing connection attempt ".concat(o.getNumRetries())),r._attemptConnection(e,t)},function(e){return r.connecting=!1,r.backoffCall=void 0,e?(r.logger.info("mercury: failed to connect after ".concat(o.getNumRetries()," retries; log statement about next retry was inaccurate; ").concat(e)),n(e)):(r.connected=!0,r._emit("online"),t())})).setStrategy(new q.default.ExponentialStrategy({initialDelay:r.config.backoffTimeReset,maxDelay:r.config.backoffTimeMax})),r.config.maxRetries&&o.failAfter(r.config.maxRetries),o.on("abort",function(){r.logger.info("mercury: connection aborted"),n(new Error("Mercury Connection Aborted"))}),o.on("callback",function(e){if(e){var t=o.getNumRetries(),n=Math.min(o.strategy_.nextBackoffDelay_,r.config.backoffTimeMax);r.logger.info("mercury: failed to connect; attempting retry ".concat(t+1," in ").concat(n," ms"))}else r.logger.info("mercury: connected")}),o.start(),r.backoffCall=o})},_emit:function(){try{this.trigger.apply(this,arguments)}catch(e){this.logger.error("mercury: error occurred in event handler",e)}},_getEventHandlers:function(e){var r=e.split("."),t=(0,p.default)(r,2),n=t[0],o=t[1],c=[];if(!this.webex[n]&&!this.webex.internal[n])return c;var i=(0,k.default)("process_".concat(o,"_event"));return(this.webex[n]||this.webex.internal[n])[i]&&c.push({name:i,namespace:n}),c},_onclose:function(e){try{var r=e.reason&&e.reason.toLowerCase(),t=this.socket.url;switch(this.socket.removeAllListeners(),this.unset("socket"),this.connected=!1,this._emit("offline",e),e.code){case 1003:this.logger.info("mercury: Mercury service rejected last message; will not reconnect: ".concat(e.reason)),this._emit("offline.permanent",e);break;case 4e3:this.logger.info("mercury: socket replaced; will not reconnect"),this._emit("offline.replaced",e);break;case 1001:case 1005:case 1006:case 1011:this.logger.info("mercury: socket disconnected; reconnecting"),this._emit("offline.transient",e),this._reconnect(t);break;case 1e3:U.includes(r)?(this.logger.info("mercury: socket disconnected; reconnecting"),this._emit("offline.transient",e),this._reconnect(t)):(this.logger.info("mercury: socket disconnected; will not reconnect"),this._emit("offline.permanent",e));break;default:this.logger.info("mercury: socket disconnected unexpectedly; will not reconnect"),this._emit("offline.permanent",e)}}catch(n){this.logger.error("mercury: error occurred in close handler",n)}},_onmessage:function(e){var r=this,t=e.data;var n=t.data;return this._applyOverrides(n),this._getEventHandlers(n.eventType).reduce(function(e,t){return e.then(function(){var e=t.namespace,o=t.name;return new u.default(function(t){return t((r.webex[e]||r.webex.internal[e])[o](n))}).catch(function(e){return r.logger.error("mercury: error occurred in autowired event handler for ".concat(n.eventType),e)})})},u.default.resolve()).then(function(){r._emit("event",e.data);var o=n.eventType.split("."),c=(0,p.default)(o,1)[0];c===n.eventType?r._emit("event:".concat(c),t):(r._emit("event:".concat(c),t),r._emit("event:".concat(n.eventType),t))}).catch(function(e){r.logger.error("mercury: error occurred processing socket message",e)})},_reconnect:function(e){return this.logger.info("mercury: reconnecting"),this.connect(e)},version:"1.150.0"},(0,y.default)(l,"connect",[_.oneFlight],(0,b.default)(l,"connect"),l),(0,y.default)(l,"disconnect",[_.oneFlight],(0,b.default)(l,"disconnect"),l),(0,y.default)(l,"listen",[a],(0,b.default)(l,"listen"),l),(0,y.default)(l,"stopListening",[s],(0,b.default)(l,"stopListening"),l),l)),E=S;exports.default=E;
},{"@babel/runtime-corejs2/core-js/object/keys":"d81a","@babel/runtime-corejs2/core-js/object/get-own-property-symbols":"DovH","@babel/runtime-corejs2/core-js/object/get-own-property-descriptor":"mQ9c","@babel/runtime-corejs2/core-js/object/get-own-property-descriptors":"Hv1v","@babel/runtime-corejs2/core-js/object/define-properties":"CpmN","@babel/runtime-corejs2/core-js/object/define-property":"eIqn","@babel/runtime-corejs2/helpers/interopRequireDefault":"LXwi","@babel/runtime-corejs2/core-js/promise":"eOfj","@babel/runtime-corejs2/core-js/object/assign":"h2Mz","@babel/runtime-corejs2/core-js/reflect/delete-property":"CFlp","@babel/runtime-corejs2/core-js/date/now":"Pb2S","@babel/runtime-corejs2/helpers/defineProperty":"n5FU","@babel/runtime-corejs2/helpers/slicedToArray":"vwJD","@babel/runtime-corejs2/helpers/applyDecoratedDescriptor":"WYJH","lodash/set":"VHgz","lodash/get":"U5YY","lodash/camelCase":"SjCc","url":"Mej7","@webex/webex-core":"bqGz","@webex/common":"UeF0","backoff":"PvFw","./socket":"tay0","./errors":"e4GY"}],"AwZI":[function(require,module,exports) {
"use strict";var e=require("@babel/runtime-corejs2/core-js/object/define-property");e(exports,"__esModule",{value:!0}),exports.default=void 0;var r={mercury:{pingInterval:15e3,pongTimeout:14e3,backoffTimeMax:32e3,backoffTimeReset:1e3,forceCloseDelay:2e3}};exports.default=r;
},{"@babel/runtime-corejs2/core-js/object/define-property":"eIqn"}],"njNR":[function(require,module,exports) {
"use strict";var e=require("@babel/runtime-corejs2/core-js/object/define-property"),r=require("@babel/runtime-corejs2/helpers/interopRequireDefault");e(exports,"__esModule",{value:!0}),e(exports,"default",{enumerable:!0,get:function(){return t.default}}),e(exports,"Mercury",{enumerable:!0,get:function(){return t.default}}),e(exports,"config",{enumerable:!0,get:function(){return u.default}}),e(exports,"Socket",{enumerable:!0,get:function(){return o.default}}),e(exports,"BadRequest",{enumerable:!0,get:function(){return i.BadRequest}}),e(exports,"ConnectionError",{enumerable:!0,get:function(){return i.ConnectionError}}),e(exports,"Forbidden",{enumerable:!0,get:function(){return i.Forbidden}}),e(exports,"NotAuthorized",{enumerable:!0,get:function(){return i.NotAuthorized}}),e(exports,"UnknownResponse",{enumerable:!0,get:function(){return i.UnknownResponse}}),require("@webex/internal-plugin-device"),require("@webex/internal-plugin-feature"),require("@webex/internal-plugin-metrics");var n=require("@webex/webex-core"),t=r(require("./mercury")),u=r(require("./config")),o=r(require("./socket")),i=require("./errors");(0,n.registerInternalPlugin)("mercury",t.default,{config:u.default,onBeforeLogout:function(){return this.disconnect()}});
},{"@babel/runtime-corejs2/core-js/object/define-property":"eIqn","@babel/runtime-corejs2/helpers/interopRequireDefault":"LXwi","@webex/internal-plugin-device":"Ori7","@webex/internal-plugin-feature":"GYrY","@webex/internal-plugin-metrics":"b10M","@webex/webex-core":"bqGz","./mercury":"Az8J","./config":"AwZI","./socket":"tay0","./errors":"e4GY"}],"YSVY":[function(require,module,exports) {
"use strict";var e=require("@babel/runtime-corejs2/core-js/reflect/construct"),r=require("@babel/runtime-corejs2/core-js/object/define-property"),t=require("@babel/runtime-corejs2/helpers/interopRequireDefault");r(exports,"__esModule",{value:!0}),exports.default=void 0;var o=t(require("@babel/runtime-corejs2/core-js/promise")),u=t(require("@babel/runtime-corejs2/helpers/classCallCheck")),n=t(require("@babel/runtime-corejs2/helpers/createClass")),s=t(require("@babel/runtime-corejs2/helpers/inherits")),i=t(require("@babel/runtime-corejs2/helpers/possibleConstructorReturn")),a=t(require("@babel/runtime-corejs2/helpers/getPrototypeOf")),l=require("@webex/http-core"),c=require("./kms-errors");function f(r){var t=p();return function(){var o,u=(0,a.default)(r);if(t){var n=(0,a.default)(this).constructor;o=e(u,arguments,n)}else o=u.apply(this,arguments);return(0,i.default)(this,o)}}function p(){if("undefined"==typeof Reflect||!e)return!1;if(e.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(e(Boolean,[],function(){})),!0}catch(r){return!1}}var b=function(e){(0,s.default)(t,e);var r=f(t);function t(){return(0,u.default)(this,t),r.apply(this,arguments)}return(0,n.default)(t,[{key:"onResponseError",value:function(e,r){return r instanceof c.DryError&&r.message.match(/Failed to resolve authorization token in KmsMessage request for user/)?(this.webex.logger.error("DRY Request Failed due to kms/test-user flakiness"),this.webex.logger.error(r),this.replay(e,r)):o.default.reject(r)}},{key:"replay",value:function(e,r){return e.replayCount?e.replayCount+=1:e.replayCount=1,e.replayCount>this.webex.config.maxAuthenticationReplays?(this.webex.logger.error("kms: failed after ".concat(this.webex.config.maxAuthenticationReplays," replay attempts")),o.default.reject(r)):(this.webex.logger.info("kms: replaying request ".concat(e.replayCount," time")),this.webex.request(e))}}],[{key:"create",value:function(){return new t({webex:this})}}]),t}(l.Interceptor);exports.default=b;
},{"@babel/runtime-corejs2/core-js/reflect/construct":"vZQy","@babel/runtime-corejs2/core-js/object/define-property":"eIqn","@babel/runtime-corejs2/helpers/interopRequireDefault":"LXwi","@babel/runtime-corejs2/core-js/promise":"eOfj","@babel/runtime-corejs2/helpers/classCallCheck":"Tzth","@babel/runtime-corejs2/helpers/createClass":"xM5U","@babel/runtime-corejs2/helpers/inherits":"CdTE","@babel/runtime-corejs2/helpers/possibleConstructorReturn":"w9GY","@babel/runtime-corejs2/helpers/getPrototypeOf":"Qxr1","@webex/http-core":"qRWj","./kms-errors":"A5q3"}],"YJqt":[function(require,module,exports) {
"use strict";var e=require("@babel/runtime-corejs2/core-js/object/define-property"),r=require("@babel/runtime-corejs2/helpers/interopRequireDefault");e(exports,"__esModule",{value:!0}),e(exports,"default",{enumerable:!0,get:function(){return a.default}}),e(exports,"KmsError",{enumerable:!0,get:function(){return d.KmsError}}),e(exports,"DryError",{enumerable:!0,get:function(){return d.DryError}}),e(exports,"KMS",{enumerable:!0,get:function(){return m.default}});var s=r(require("@babel/runtime-corejs2/core-js/promise")),n=r(require("lodash/isString")),t=r(require("lodash/isObject")),o=r(require("lodash/has")),u=require("@webex/webex-core"),a=r(require("./encryption")),i=r(require("./config")),d=require("./kms-errors");require("@webex/internal-plugin-device"),require("@webex/internal-plugin-mercury");var l,c=r(require("./kms-dry-error-interceptor")),m=r(require("./kms"));(0,u.registerInternalPlugin)("encryption",a.default,{payloadTransformer:{predicates:[{name:"encryptKmsMessage",direction:"outbound",test:function(e,r){return(0,o.default)(r,"body.kmsMessage")&&(0,t.default)(r.body.kmsMessage)?r.body.kmsMessage.keyUris&&0===r.body.kmsMessage.keyUris.length?s.default.resolve(!1):r.body.kmsMessage.resourceUri&&(r.body.kmsMessage.resourceUri.includes("<KRO>")||r.body.kmsMessage.resourceUri.includes("<KEYURL>"))?s.default.resolve(!1):r.body.kmsMessage.uri&&(r.body.kmsMessage.uri.includes("<KRO>")||r.body.kmsMessage.uri.includes("<KEYURL>"))?s.default.resolve(!1):s.default.resolve(!0):s.default.resolve(!1)},extract:function(e){return s.default.resolve(e.body)}},{name:"decryptKmsMessage",direction:"inbound",test:function(e,r){return s.default.resolve((0,o.default)(r,"body.kmsMessage")&&(0,n.default)(r.body.kmsMessage))},extract:function(e){return s.default.resolve(e.body)}},{name:"decryptErrorResponse",direction:"inbound",test:function(e,r){return s.default.resolve(Boolean(r.body&&19e5===r.body.errorCode))},extract:function(e){return s.default.resolve(e)}}],transforms:[{name:"encryptKmsMessage",fn:function(e,r){return r&&r.kmsMessage?(0,n.default)(r.kmsMessage)?s.default.resolve():e.webex.internal.encryption.kms.prepareRequest(r.kmsMessage).then(function(e){r.kmsMessage=e.wrapped}):s.default.resolve()}},{name:"decryptKmsMessage",fn:function(e,r){return e.webex.internal.encryption.kms.decryptKmsMessage(r.kmsMessage).then(function(e){r.kmsMessage=e})}},{name:"decryptErrorResponse",fn:function(e,r){var n=r.body.errors.map(function(r){return e.webex.internal.encryption.kms.decryptKmsMessage(r.description).then(function(e){r.description=e})});return n.push(e.webex.internal.encryption.kms.decryptKmsMessage(r.body.message).then(function(e){r.body.message=e})),s.default.all(n).then(function(){return s.default.reject(new d.DryError(r))})}}]},interceptors:l,config:i.default});
},{"@babel/runtime-corejs2/core-js/object/define-property":"eIqn","@babel/runtime-corejs2/helpers/interopRequireDefault":"LXwi","@babel/runtime-corejs2/core-js/promise":"eOfj","lodash/isString":"CkJF","lodash/isObject":"u9vI","lodash/has":"HZ8X","@webex/webex-core":"bqGz","./encryption":"UCxd","./config":"yQBM","./kms-errors":"A5q3","@webex/internal-plugin-device":"Ori7","@webex/internal-plugin-mercury":"njNR","./kms-dry-error-interceptor":"YSVY","./kms":"wQjM"}],"AvhG":[function(require,module,exports) {
"use strict";var e=require("@babel/runtime-corejs2/core-js/object/define-property"),r=require("@babel/runtime-corejs2/helpers/interopRequireDefault");e(exports,"__esModule",{value:!0}),exports.default=void 0;var t=r(require("@babel/runtime-corejs2/core-js/promise")),n=r(require("@babel/runtime-corejs2/core-js/object/keys")),s=require("@webex/webex-core"),u=s.Batcher.extend({namespace:"User",prepareItem:function(e){return t.default.resolve({email:e})},handleHttpSuccess:function(e){var r=this;return t.default.all((0,n.default)(e.body).map(function(t){return e.body[t]&&e.body[t].id?r.handleItemSuccess(t,e.body[t]):r.handleItemFailure(t,e.body[t])}))},handleItemFailure:function(e,r){return this.getDeferredForResponse(e).then(function(e){e.reject(r)})},handleItemSuccess:function(e,r){return this.getDeferredForResponse(e).then(function(e){e.resolve(r)})},fingerprintRequest:function(e){return t.default.resolve(e.email||e)},fingerprintResponse:function(e){return t.default.resolve(e)}}),o=u.extend({submitHttpRequest:function(e){return this.webex.request({method:"POST",service:"conversation",resource:"/users",body:e})}}),i=u.extend({submitHttpRequest:function(e){return this.webex.request({method:"POST",service:"conversation",resource:"/users",body:e,qs:{shouldCreateUsers:!0}})}}),c=s.WebexPlugin.extend({children:{faker:o,creator:i},request:function(e){return e.create?this.creator.request(e.email):this.faker.request(e.email)},version:"1.150.0"}),a=c;exports.default=a;
},{"@babel/runtime-corejs2/core-js/object/define-property":"eIqn","@babel/runtime-corejs2/helpers/interopRequireDefault":"LXwi","@babel/runtime-corejs2/core-js/promise":"eOfj","@babel/runtime-corejs2/core-js/object/keys":"d81a","@webex/webex-core":"bqGz"}],"S0pU":[function(require,module,exports) {
"use strict";var e=require("@babel/runtime-corejs2/core-js/object/define-property"),r=require("@babel/runtime-corejs2/helpers/interopRequireDefault");e(exports,"__esModule",{value:!0}),exports.default=void 0;var t=r(require("@babel/runtime-corejs2/helpers/classCallCheck")),u=r(require("@babel/runtime-corejs2/helpers/createClass")),s=r(require("@babel/runtime-corejs2/core-js/weak-map")),i=r(require("@babel/runtime-corejs2/core-js/map")),a=r(require("@babel/runtime-corejs2/core-js/promise")),d=r(require("@babel/runtime-corejs2/core-js/object/assign")),n=require("@webex/common"),l=new s.default,o=new s.default,c=function(){function e(){(0,t.default)(this,e),l.set(this,new i.default),o.set(this,new i.default)}return(0,u.default)(e,[{key:"add",value:function(e){var r=this;if(!e.id)return a.default.reject(new Error("`user.id` is required"));if(!e.emailAddress)return a.default.reject(new Error("`user.emailAddress` is required"));if(!n.patterns.uuid.test(e.id))return a.default.reject(new Error("`user.id` does not appear to be a uuid"));if(!n.patterns.email.test(e.emailAddress))return a.default.reject(new Error("`user.emailAddress` does not appear to be an email address"));var t=this.getById(e.id).then(function(t){return o.get(r).set(e.id,(0,d.default)({},t,e))}).catch(function(){return o.get(r).set(e.id,(0,d.default)({},e))}),u=this.getByEmail(e.emailAddress).then(function(t){return l.get(r).set(e.emailAddress,(0,d.default)({},t,e))}).catch(function(){return l.get(r).set(e.emailAddress,(0,d.default)({},e))});return a.default.all([t,u])}},{key:"get",value:function(e){return n.patterns.uuid.test(e)?this.getById(e):n.patterns.email.test(e)?this.getByEmail(e):a.default.reject(new Error("`id` does not appear to be a valid user identifier"))}},{key:"getById",value:function(e){var r=o.get(this).get(e);return r?a.default.resolve(r):a.default.reject(new Error("No user found by specified id"))}},{key:"getByEmail",value:function(e){var r=l.get(this).get(e);return r?a.default.resolve(r):a.default.reject(new Error("No user found by specified email address"))}}]),e}();exports.default=c;
},{"@babel/runtime-corejs2/core-js/object/define-property":"eIqn","@babel/runtime-corejs2/helpers/interopRequireDefault":"LXwi","@babel/runtime-corejs2/helpers/classCallCheck":"Tzth","@babel/runtime-corejs2/helpers/createClass":"xM5U","@babel/runtime-corejs2/core-js/weak-map":"HKHU","@babel/runtime-corejs2/core-js/map":"y6NN","@babel/runtime-corejs2/core-js/promise":"eOfj","@babel/runtime-corejs2/core-js/object/assign":"h2Mz","@webex/common":"UeF0"}],"DkOX":[function(require,module,exports) {
"use strict";var e=require("@babel/runtime-corejs2/core-js/object/define-property"),r=require("@babel/runtime-corejs2/helpers/interopRequireDefault");e(exports,"__esModule",{value:!0}),exports.default=void 0;var t,i,n,s,o,a=r(require("@babel/runtime-corejs2/core-js/promise")),u=r(require("@babel/runtime-corejs2/core-js/object/assign")),d=r(require("@babel/runtime-corejs2/core-js/reflect/apply")),c=r(require("@babel/runtime-corejs2/core-js/object/get-own-property-descriptor")),l=r(require("@babel/runtime-corejs2/helpers/applyDecoratedDescriptor")),f=r(require("lodash/isArray")),h=require("@webex/common"),m=require("@webex/webex-core"),p=r(require("./user-uuid-batcher")),b=r(require("./user-uuid-store")),w=m.WebexPlugin.extend((t=(0,m.waitForValue)("@"),i=(0,h.oneFlight)({keyFactory:function(e,r){return e+String(r&&r.create)}}),n=(0,m.persist)("@"),s=(0,h.deprecated)("Use User#verify()"),o={namespace:"User",children:{batcher:p.default},props:{hasPassword:{default:!1,type:"boolean"}},session:{store:{default:function(){return new b.default},type:"any"}},activate:function(){var e=this,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!(r.verificationToken||r.confirmationCode&&r.id))return a.default.reject(new Error("either options.verificationToken is required or both options.confirmationCode and options.id are required"));r.scope=this.webex.config.credentials.scope;var t=(0,u.default)({},r);return delete t.email,this.request({uri:this.webex.config.credentials.activationUrl,method:"POST",body:t,auth:{user:this.webex.config.credentials.client_id,pass:this.webex.config.credentials.client_secret,sendImmediately:!0}}).then(function(r){return e.webex.credentials.set({supertoken:r.body.tokenData}),r.body})},asUUID:function(e,r){var t=this;if(!e)return a.default.reject(new Error("`user` is required"));if((0,f.default)(e))return a.default.all(e.map(function(e){return t.asUUID(e,r)}));var i=this._extractUUID(e);if((!r||!r.force)&&h.patterns.uuid.test(i))return a.default.resolve(i);var n=this._extractEmailAddress(e);return h.patterns.email.test(n)?this.getUUID(n,r):a.default.reject(new Error("Provided user object does not appear to identify a user"))},fetchUUID:function(e,r){var t=this;return this.batcher.request({email:e,create:r&&r.create}).then(function(r){return t.recordUUID((0,u.default)({emailAddress:e},r)).then(function(){return r.id})})},generateOTP:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.email||e.id?this.request({uri:this.webex.config.credentials.generateOtpUrl,method:"POST",body:e,auth:{user:this.webex.config.credentials.client_id,pass:this.webex.config.credentials.client_secret}}).then(function(e){return e.body}):a.default.reject(new Error("One of `options.email` or `options.id` is required"))},get:function(){var e=this;return this.request({service:"conversation",resource:"users"}).then(function(e){return e.body}).then((0,h.tap)(function(r){return e.recordUUID({id:r.id,emailAddress:r.email||r.emailAddress})}))},getUUID:function(e,r){var t=this;return this.store.getByEmail(e).then(function(e){return r&&r.create&&!e.userExists?a.default.reject(new Error("User for specified email cannot be confirmed to exist")):e.id?e.id:a.default.reject(new Error("No id recorded for specified user"))}).catch(function(){return t.fetchUUID(e,r)})},initialize:function(){for(var e=arguments.length,r=new Array(e),t=0;t<e;t++)r[t]=arguments[t];return(0,d.default)(m.WebexPlugin.prototype.initialize,this,r)},recordUUID:function(e){return e?e.id?h.patterns.uuid.test(e.id)?e.emailAddress?h.patterns.email.test(e.emailAddress)?this.store.add(e):a.default.reject(new Error("`user.emailAddress` must be an email address")):a.default.reject(new Error("`user.emailAddress` is required")):a.default.reject(new Error("`user.id` must be a uuid")):a.default.reject(new Error("`user.id` is required")):a.default.reject(new Error("`user` is required"))},register:function(){return this.verify.apply(this,arguments)},_setUser:function(e){var r=this;return this.webex.credentials.getUserToken().then(function(t){return r.request({uri:"".concat(r.webex.config.credentials.setPasswordUrl,"/").concat(r.webex.internal.device.userId),method:"PATCH",headers:{authorization:t.toString()},body:e})})},setPassword:function(e){var r=this;return(e=e||{}).password?this._setUser({schemas:["urn:scim:schemas:core:1.0","urn:scim:schemas:extension:cisco:commonidentity:1.0"],password:e.password}).then(function(e){return r.hasPassword=!0,e.body}):a.default.reject(new Error("`options.password` is required"))},updateName:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=e.givenName,t=e.familyName,i=e.displayName;return r||t||i?this._setUser({schemas:["urn:scim:schemas:core:1.0","urn:scim:schemas:extension:cisco:commonidentity:1.0"],name:{givenName:r,familyName:t},displayName:i}).then(function(e){return e.body}):a.default.reject(new Error("One of `givenName` and `familyName` or `displayName` is required"))},update:function(e){return(e=e||{}).displayName?this.request({method:"PATCH",service:"conversation",resource:"users/user",body:e}).then(function(e){return e.body}):a.default.reject(new Error("`options.displayName` is required"))},validateOTP:function(){var e=this,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(r.email||r.id)&&r.oneTimePassword?(r.scope=this.webex.config.credentials.scope,this.request({uri:this.webex.config.credentials.validateOtpUrl,method:"POST",body:r,auth:{user:this.webex.config.credentials.client_id,pass:this.webex.config.credentials.client_secret}}).then(function(r){return e.webex.credentials.set({supertoken:r.body.tokenData}),r.body})):a.default.reject(new Error("One of `options.email` or `options.id` and `options.oneTimePassword` are required"))},verify:function(e){var r=this,t=(e=(0,u.default)({},this.config.verifyDefaults,e)).email;return t?this.webex.internal.services.collectPreauthCatalog({email:t}).then(function(){return r.webex.credentials.getUserToken()}).catch(function(){return r.webex.credentials.getClientToken()}).then(function(t){return r.request({service:"atlas",resource:"users/activations",method:"POST",headers:{authorization:t.toString(),"x-prelogin-userid":e.preloginId},body:e,shouldRefreshAccessToken:!1})}).then(function(e){return(e.body.hasPassword||e.body.sso)&&(r.hasPassword=!0),e.body}):a.default.reject(new Error("`options.email` is required"))},getUserCI:function(e,r){if(r){var t={email:e,suppressEmail:!0};return this.verify(t).then(function(e){return a.default.resolve(e.userEntities)})}return a.default.resolve({idBrokerUrl:this.webex.config.credentials.idbroker.url,identityUrl:this.webex.config.credentials.identity.url})},_extractUUID:function(e){return e.entryUUID||e.id||e},_extractEmailAddress:function(e){return e.email||e.emailAddress||e.entryEmail||e},version:"1.150.0"},(0,l.default)(o,"activate",[t],(0,c.default)(o,"activate"),o),(0,l.default)(o,"getUUID",[i],(0,c.default)(o,"getUUID"),o),(0,l.default)(o,"initialize",[n],(0,c.default)(o,"initialize"),o),(0,l.default)(o,"register",[s],(0,c.default)(o,"register"),o),o)),v=w;exports.default=v;
},{"@babel/runtime-corejs2/core-js/object/define-property":"eIqn","@babel/runtime-corejs2/helpers/interopRequireDefault":"LXwi","@babel/runtime-corejs2/core-js/promise":"eOfj","@babel/runtime-corejs2/core-js/object/assign":"h2Mz","@babel/runtime-corejs2/core-js/reflect/apply":"Lf7Q","@babel/runtime-corejs2/core-js/object/get-own-property-descriptor":"mQ9c","@babel/runtime-corejs2/helpers/applyDecoratedDescriptor":"WYJH","lodash/isArray":"p0cq","@webex/common":"UeF0","@webex/webex-core":"bqGz","./user-uuid-batcher":"AvhG","./user-uuid-store":"S0pU"}],"N3ph":[function(require,module,exports) {
"use strict";var e=require("@babel/runtime-corejs2/core-js/object/define-property");e(exports,"__esModule",{value:!0}),exports.default=void 0;var a={device:{preDiscoveryServices:{atlasServiceUrl:"https://atlas-a.wbx2.com/admin/api/v1",atlas:"https://atlas-a.wbx2.com/admin/api/v1"}},user:{batcherWait:100,batcherMaxCalls:100,batcherMaxWait:1500,verifyDefaults:{reqId:"WEBCLIENT"}}};exports.default=a;
},{"@babel/runtime-corejs2/core-js/object/define-property":"eIqn"}],"jBR5":[function(require,module,exports) {
"use strict";var e=require("@babel/runtime-corejs2/core-js/object/define-property"),r=require("@babel/runtime-corejs2/helpers/interopRequireDefault");e(exports,"__esModule",{value:!0}),e(exports,"default",{enumerable:!0,get:function(){return i.default}});var u=require("@webex/webex-core"),i=r(require("./user")),t=r(require("./config"));require("@webex/internal-plugin-device"),(0,u.registerInternalPlugin)("user",i.default,{config:t.default});
},{"@babel/runtime-corejs2/core-js/object/define-property":"eIqn","@babel/runtime-corejs2/helpers/interopRequireDefault":"LXwi","@webex/webex-core":"bqGz","./user":"DkOX","./config":"N3ph","@webex/internal-plugin-device":"Ori7"}],"oN9Z":[function(require,module,exports) {
function n(n,o,t,u,e){return e(n,function(n,e,r){t=u?(u=!1,n):o(t,n,e,r)}),t}module.exports=n;
},{}],"bxLG":[function(require,module,exports) {
var e=require("./_arrayReduce"),r=require("./_baseEach"),a=require("./_baseIteratee"),u=require("./_baseReduce"),i=require("./isArray");function t(t,q,s){var c=i(t)?e:u,n=arguments.length<3;return c(t,a(q,4),s,n,r)}module.exports=t;
},{"./_arrayReduce":"FhVQ","./_baseEach":"z7ms","./_baseIteratee":"lW7l","./_baseReduce":"oN9Z","./isArray":"p0cq"}],"CKJv":[function(require,module,exports) {
"use strict";var e=require("@babel/runtime-corejs2/core-js/object/define-property"),r=require("@babel/runtime-corejs2/helpers/interopRequireDefault");e(exports,"__esModule",{value:!0}),exports.escape=n,exports.escapeSync=c;var t=r(require("@babel/runtime-corejs2/core-js/promise")),u=/(<|>|&)/g;function n(e){return new t.default(function(r){return r(c(e))})}function c(e){return e.replace(u,s)}function s(e){switch(e){case"<":return"&lt;";case">":return"&gt;";case"&":return"&amp;";default:return e}}
},{"@babel/runtime-corejs2/core-js/object/define-property":"eIqn","@babel/runtime-corejs2/helpers/interopRequireDefault":"LXwi","@babel/runtime-corejs2/core-js/promise":"eOfj"}],"InDI":[function(require,module,exports) {
"use strict";var e=require("@babel/runtime-corejs2/core-js/object/define-property"),r=require("@babel/runtime-corejs2/helpers/interopRequireDefault");e(exports,"__esModule",{value:!0}),e(exports,"escape",{enumerable:!0,get:function(){return u.escape}}),e(exports,"escapeSync",{enumerable:!0,get:function(){return u.escapeSync}}),exports.filterEscapeSync=exports.filterEscape=exports.filterSync=exports.filter=void 0;var t=r(require("@babel/runtime-corejs2/core-js/promise")),n=r(require("@babel/runtime-corejs2/core-js/object/keys")),o=r(require("lodash/reduce")),a=r(require("lodash/includes")),i=r(require("lodash/forEach")),l=r(require("lodash/curry")),u=require("./html-base");function s(e){if(e.remove)e.remove();else if(e.parentElement)e.parentElement.removeChild(e);else{if(!("length"in e))throw new Error("Could not find a way to remove node");for(var r=e.length-1;r>=0;r-=1)s(e[r])}}function d(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return new t.default(function(e){e(c.apply(void 0,r))})}var f=(0,l.default)(d,4);function c(e,r,t,o){if(!o||!t||!r){if(0===o.length)return o;throw new Error("`allowedTags`, `allowedStyles`, and `html` must be provided")}var l=(new DOMParser).parseFromString(o,"text/html");return N(l.body.childNodes,function e(o){if(!g(o))return;var l=o.nodeName.toLowerCase();var u=(0,n.default)(r);N(o.childNodes,e);if((0,a.default)(u,l)){var s=r[l];(0,i.default)(w(o.attributes),function(e){if((0,a.default)(s,e)){if("href"===e||"src"===e){var r=o.attributes.getNamedItem(e).value.trim().toLowerCase();0!==r.indexOf("javascript:")&&0!==r.indexOf("vbscript:")||h(o)}else if("style"===e){var n=o.attributes.getNamedItem("style").value.split(";").map(function(e){var r=y(e.split(":")[0]);return(0,a.default)(t,r)?e:null}).filter(function(e){return Boolean(e)}).join(";");o.setAttribute("style",n)}}else o.removeAttribute(e)})}else h(o)}),e(l.body),1===o.indexOf("body")?"<body>".concat(l.body.innerHTML,"</body>"):l.body.innerHTML}function p(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return new t.default(function(e){e(v.apply(void 0,r))})}function v(e,r,t,o){if(!o||!t||!r){if(0===o.length)return o;throw new Error("`allowedTags`, `allowedStyles`, and `html` must be provided")}var l=(new DOMParser).parseFromString(o,"text/html");return N(l.body.childNodes,function e(o){if(!g(o))return;N(o.childNodes,e);var l=o.nodeName.toLowerCase();var u=(0,n.default)(r);if((0,a.default)(u,l)){var s=r[l];(0,i.default)(w(o.attributes),function(e){if((0,a.default)(s,e)){if("href"===e||"src"===e){var r=o.attributes.getNamedItem(e).value.toLowerCase();0!==r.indexOf("javascript:")&&0!==r.indexOf("vbscript:")||h(o)}else if("style"===e){var n=o.attributes.getNamedItem("style").value.split(";").map(function(e){var r=y(e.split(":")[0]);return(0,a.default)(t,r)?e:null}).filter(function(e){return Boolean(e)}).join(";");o.setAttribute("style",n)}}else o.removeAttribute(e)})}else m(o)}),e(l.body),1===o.indexOf("body")?"<body>".concat(l.body.innerHTML,"</body>"):l.body.innerHTML}function m(e){var r=document.createTextNode("<".concat(e.nodeName.toLowerCase(),">")),t=document.createTextNode("</".concat(e.nodeName.toLowerCase(),">"));for(e.parentNode.insertBefore(r,e);e.childNodes.length>0;)e.parentNode.insertBefore(e.childNodes[0],e);e.parentNode.insertBefore(t,e),s(e)}exports.filter=f;var b=/^\s|\s$/g;function y(e){return e.replace(b,"")}function h(e){for(;e.childNodes.length>0;)e.parentNode.insertBefore(e.childNodes[0],e);s(e)}function w(e){return(0,o.default)(e,function(e,r){return e.push(r.name),e},[])}function N(e,r){for(var t=e.length;t>=0;t-=1)r(e[t])}function g(e){return!!e&&(void 0!==e.ownerDocument&&(1===e.nodeType&&"string"==typeof e.nodeName))}var x=(0,l.default)(c,4);exports.filterSync=x;var j=(0,l.default)(p,4);exports.filterEscape=j;var q=(0,l.default)(v,4);exports.filterEscapeSync=q;
},{"@babel/runtime-corejs2/core-js/object/define-property":"eIqn","@babel/runtime-corejs2/helpers/interopRequireDefault":"LXwi","@babel/runtime-corejs2/core-js/promise":"eOfj","@babel/runtime-corejs2/core-js/object/keys":"d81a","lodash/reduce":"bxLG","lodash/includes":"AOeR","lodash/forEach":"cTKO","lodash/curry":"L4BM","./html-base":"CKJv"}],"ivXz":[function(require,module,exports) {
"use strict";var e=require("@babel/runtime-corejs2/core-js/object/define-property");e(exports,"__esModule",{value:!0}),e(exports,"escape",{enumerable:!0,get:function(){return r.escape}}),e(exports,"escapeSync",{enumerable:!0,get:function(){return r.escapeSync}}),e(exports,"filter",{enumerable:!0,get:function(){return r.filter}}),e(exports,"filterSync",{enumerable:!0,get:function(){return r.filterSync}}),e(exports,"filterEscape",{enumerable:!0,get:function(){return r.filterEscape}}),e(exports,"filterEscapeSync",{enumerable:!0,get:function(){return r.filterEscapeSync}});var r=require("./html");
},{"@babel/runtime-corejs2/core-js/object/define-property":"eIqn","./html":"InDI"}],"iKR6":[function(require,module,exports) {
function e(e){this.wrapped=e}module.exports=e,module.exports.default=module.exports,module.exports.__esModule=!0;
},{}],"HuMP":[function(require,module,exports) {
var e=require("./AwaitValue.js");function o(o){return new e(o)}module.exports=o,module.exports.default=module.exports,module.exports.__esModule=!0;
},{"./AwaitValue.js":"iKR6"}],"Dyxn":[function(require,module,exports) {
var e=require("@babel/runtime-corejs2/core-js/promise"),r=require("@babel/runtime-corejs2/core-js/symbol"),t=require("./AwaitValue.js");function n(r){var n,o;function u(n,o){try{var s=r[n](o),a=s.value,c=a instanceof t;e.resolve(c?a.wrapped:a).then(function(e){c?u("return"===n?"return":"next",e):i(s.done?"return":"normal",e)},function(e){u("throw",e)})}catch(l){i("throw",l)}}function i(e,r){switch(e){case"return":n.resolve({value:r,done:!0});break;case"throw":n.reject(r);break;default:n.resolve({value:r,done:!1})}(n=n.next)?u(n.key,n.arg):o=null}this._invoke=function(r,t){return new e(function(e,i){var s={key:r,arg:t,resolve:e,reject:i,next:null};o?o=o.next=s:(n=o=s,u(r,t))})},"function"!=typeof r.return&&(this.return=void 0)}n.prototype["function"==typeof r&&r.asyncIterator||"@@asyncIterator"]=function(){return this},n.prototype.next=function(e){return this._invoke("next",e)},n.prototype.throw=function(e){return this._invoke("throw",e)},n.prototype.return=function(e){return this._invoke("return",e)},module.exports=n,module.exports.default=module.exports,module.exports.__esModule=!0;
},{"@babel/runtime-corejs2/core-js/promise":"eOfj","@babel/runtime-corejs2/core-js/symbol":"mr6k","./AwaitValue.js":"iKR6"}],"QwSi":[function(require,module,exports) {
var e=require("./AsyncGenerator.js");function r(r){return function(){return new e(r.apply(this,arguments))}}module.exports=r,module.exports.default=module.exports,module.exports.__esModule=!0;
},{"./AsyncGenerator.js":"Dyxn"}],"wrrS":[function(require,module,exports) {
var r=require("./_baseEach"),e=require("./isArrayLike");function a(a,i){var n=-1,u=e(a)?Array(a.length):[];return r(a,function(r,e,a){u[++n]=i(r,e,a)}),u}module.exports=a;
},{"./_baseEach":"z7ms","./isArrayLike":"LN6c"}],"vGW8":[function(require,module,exports) {
var r=require("./_arrayMap"),e=require("./_baseIteratee"),a=require("./_baseMap"),u=require("./isArray");function i(i,t){return(u(i)?r:a)(i,e(t,3))}module.exports=i;
},{"./_arrayMap":"BblM","./_baseIteratee":"lW7l","./_baseMap":"wrrS","./isArray":"p0cq"}],"Zvqm":[function(require,module,exports) {
var e=require("./_baseClone"),o=1,n=4;function r(r,t){return e(r,o|n,t="function"==typeof t?t:void 0)}module.exports=r;
},{"./_baseClone":"s7WH"}],"v95G":[function(require,module,exports) {
var define;
var e;!function(t,i){"object"==typeof exports?module.exports=exports=i(require("./core")):"function"==typeof e&&e.amd?e(["./core"],i):i(t.CryptoJS)}(this,function(e){var t,i,s;i=(t=e).lib.Base,s=t.enc.Utf8,t.algo.HMAC=i.extend({init:function(e,t){e=this._hasher=new e.init,"string"==typeof t&&(t=s.parse(t));var i=e.blockSize,r=4*i;t.sigBytes>r&&(t=e.finalize(t)),t.clamp();for(var n=this._oKey=t.clone(),o=this._iKey=t.clone(),a=n.words,h=o.words,c=0;c<i;c++)a[c]^=1549556828,h[c]^=909522486;n.sigBytes=o.sigBytes=r,this.reset()},reset:function(){var e=this._hasher;e.reset(),e.update(this._iKey)},update:function(e){return this._hasher.update(e),this},finalize:function(e){var t=this._hasher,i=t.finalize(e);return t.reset(),t.finalize(this._oKey.clone().concat(i))}})});
},{"./core":"KOvs"}],"ztDJ":[function(require,module,exports) {
var define;
var e;!function(r,o,t){"object"==typeof exports?module.exports=exports=o(require("./core"),require("./sha256"),require("./hmac")):"function"==typeof e&&e.amd?e(["./core","./sha256","./hmac"],o):o(r.CryptoJS)}(this,function(e){return e.HmacSHA256});
},{"./core":"KOvs","./sha256":"A0uM","./hmac":"v95G"}],"f6Xj":[function(require,module,exports) {
var define;
var e;!function(o,t){"object"==typeof exports?module.exports=exports=t(require("./core")):"function"==typeof e&&e.amd?e(["./core"],t):t(o.CryptoJS)}(this,function(e){return e.enc.Hex});
},{"./core":"KOvs"}],"vlyv":[function(require,module,exports) {
"use strict";var e=require("@babel/runtime-corejs2/core-js/object/define-property"),t=require("@babel/runtime-corejs2/helpers/interopRequireDefault");e(exports,"__esModule",{value:!0}),exports.default=h;var i=t(require("@babel/runtime-corejs2/core-js/promise")),r=t(require("lodash/pick")),n=require("./index");function a(e,t,i){var r=e.width,n=e.height;return n>r?(n>i&&(r=r*i/n,n=i),r>t&&(n=n*t/r,r=t)):(r>t&&(n=n*t/r,r=t),n>i&&(r=r*i/n,n=i)),{height:n,width:r}}function h(e){var t=e.file,h=e.type,o=e.thumbnailMaxWidth,l=e.thumbnailMaxHeight,u=e.enableThumbnails,d=e.logger,s=e.isAvatar;return h&&h.startsWith("image")?(t=t instanceof Blob?t:new Blob([t]),new i.default(function(e,i){var r=new Image;r.onload=function(){e(r)},r.onerror=i,r.src=URL.createObjectURL(t)}).then(function(e){var i=(0,r.default)(e,"height","width");if(s){d.info("dimensions will be set for avatar image");var h=i.height>i.width?i.height:i.width;i.height=h,i.width=h}if(!u)return d.info("thumbnails not enabled"),[null,i,null];var g=a(i,o,l),c=document.createElement("canvas"),f=c.getContext("2d"),w=g.width,b=g.height;t.orientation&&t.orientation>4?(c.width=b,c.height=w,g.width=b,g.height=w):(c.width=g.width,c.height=g.height),(0,n.orient)({orientation:t&&t.orientation?t.orientation:"",img:e,x:0,y:0,width:w,height:b,ctx:f},t);for(var m=c.toDataURL("image/png").split(","),v=atob(m[1]),p=new ArrayBuffer(v.length),x=new DataView(p),j=0;j<v.length;j+=1)x.setUint8(j,v.charCodeAt(j));return[p,i,g]})):i.default.resolve()}
},{"@babel/runtime-corejs2/core-js/object/define-property":"eIqn","@babel/runtime-corejs2/helpers/interopRequireDefault":"LXwi","@babel/runtime-corejs2/core-js/promise":"eOfj","lodash/pick":"N5Tq","./index":"wNfc"}],"SDCf":[function(require,module,exports) {
"use strict";function t(){this._types=Object.create(null),this._extensions=Object.create(null);for(let t=0;t<arguments.length;t++)this.define(arguments[t]);this.define=this.define.bind(this),this.getType=this.getType.bind(this),this.getExtension=this.getExtension.bind(this)}t.prototype.define=function(t,e){for(let s in t){let n=t[s].map(function(t){return t.toLowerCase()});s=s.toLowerCase();for(let t=0;t<n.length;t++){const i=n[t];if("*"!==i[0]){if(!e&&i in this._types)throw new Error('Attempt to change mapping for "'+i+'" extension from "'+this._types[i]+'" to "'+s+'". Pass `force=true` to allow this, otherwise remove "'+i+'" from the list of extensions for "'+s+'".');this._types[i]=s}}if(e||!this._extensions[s]){const t=n[0];this._extensions[s]="*"!==t[0]?t:t.substr(1)}}},t.prototype.getType=function(t){let e=(t=String(t)).replace(/^.*[/\\]/,"").toLowerCase(),s=e.replace(/^.*\./,"").toLowerCase(),n=e.length<t.length;return(s.length<e.length-1||!n)&&this._types[s]||null},t.prototype.getExtension=function(t){return(t=/^\s*([^;\s]*)/.test(t)&&RegExp.$1)&&this._extensions[t.toLowerCase()]||null},module.exports=t;
},{}],"Lyni":[function(require,module,exports) {
module.exports={"application/andrew-inset":["ez"],"application/applixware":["aw"],"application/atom+xml":["atom"],"application/atomcat+xml":["atomcat"],"application/atomdeleted+xml":["atomdeleted"],"application/atomsvc+xml":["atomsvc"],"application/atsc-dwd+xml":["dwd"],"application/atsc-held+xml":["held"],"application/atsc-rsat+xml":["rsat"],"application/bdoc":["bdoc"],"application/calendar+xml":["xcs"],"application/ccxml+xml":["ccxml"],"application/cdfx+xml":["cdfx"],"application/cdmi-capability":["cdmia"],"application/cdmi-container":["cdmic"],"application/cdmi-domain":["cdmid"],"application/cdmi-object":["cdmio"],"application/cdmi-queue":["cdmiq"],"application/cu-seeme":["cu"],"application/dash+xml":["mpd"],"application/davmount+xml":["davmount"],"application/docbook+xml":["dbk"],"application/dssc+der":["dssc"],"application/dssc+xml":["xdssc"],"application/ecmascript":["es","ecma"],"application/emma+xml":["emma"],"application/emotionml+xml":["emotionml"],"application/epub+zip":["epub"],"application/exi":["exi"],"application/express":["exp"],"application/fdt+xml":["fdt"],"application/font-tdpfr":["pfr"],"application/geo+json":["geojson"],"application/gml+xml":["gml"],"application/gpx+xml":["gpx"],"application/gxf":["gxf"],"application/gzip":["gz"],"application/hjson":["hjson"],"application/hyperstudio":["stk"],"application/inkml+xml":["ink","inkml"],"application/ipfix":["ipfix"],"application/its+xml":["its"],"application/java-archive":["jar","war","ear"],"application/java-serialized-object":["ser"],"application/java-vm":["class"],"application/javascript":["js","mjs"],"application/json":["json","map"],"application/json5":["json5"],"application/jsonml+json":["jsonml"],"application/ld+json":["jsonld"],"application/lgr+xml":["lgr"],"application/lost+xml":["lostxml"],"application/mac-binhex40":["hqx"],"application/mac-compactpro":["cpt"],"application/mads+xml":["mads"],"application/manifest+json":["webmanifest"],"application/marc":["mrc"],"application/marcxml+xml":["mrcx"],"application/mathematica":["ma","nb","mb"],"application/mathml+xml":["mathml"],"application/mbox":["mbox"],"application/mediaservercontrol+xml":["mscml"],"application/metalink+xml":["metalink"],"application/metalink4+xml":["meta4"],"application/mets+xml":["mets"],"application/mmt-aei+xml":["maei"],"application/mmt-usd+xml":["musd"],"application/mods+xml":["mods"],"application/mp21":["m21","mp21"],"application/mp4":["mp4s","m4p"],"application/msword":["doc","dot"],"application/mxf":["mxf"],"application/n-quads":["nq"],"application/n-triples":["nt"],"application/node":["cjs"],"application/octet-stream":["bin","dms","lrf","mar","so","dist","distz","pkg","bpk","dump","elc","deploy","exe","dll","deb","dmg","iso","img","msi","msp","msm","buffer"],"application/oda":["oda"],"application/oebps-package+xml":["opf"],"application/ogg":["ogx"],"application/omdoc+xml":["omdoc"],"application/onenote":["onetoc","onetoc2","onetmp","onepkg"],"application/oxps":["oxps"],"application/p2p-overlay+xml":["relo"],"application/patch-ops-error+xml":["xer"],"application/pdf":["pdf"],"application/pgp-encrypted":["pgp"],"application/pgp-signature":["asc","sig"],"application/pics-rules":["prf"],"application/pkcs10":["p10"],"application/pkcs7-mime":["p7m","p7c"],"application/pkcs7-signature":["p7s"],"application/pkcs8":["p8"],"application/pkix-attr-cert":["ac"],"application/pkix-cert":["cer"],"application/pkix-crl":["crl"],"application/pkix-pkipath":["pkipath"],"application/pkixcmp":["pki"],"application/pls+xml":["pls"],"application/postscript":["ai","eps","ps"],"application/provenance+xml":["provx"],"application/pskc+xml":["pskcxml"],"application/raml+yaml":["raml"],"application/rdf+xml":["rdf","owl"],"application/reginfo+xml":["rif"],"application/relax-ng-compact-syntax":["rnc"],"application/resource-lists+xml":["rl"],"application/resource-lists-diff+xml":["rld"],"application/rls-services+xml":["rs"],"application/route-apd+xml":["rapd"],"application/route-s-tsid+xml":["sls"],"application/route-usd+xml":["rusd"],"application/rpki-ghostbusters":["gbr"],"application/rpki-manifest":["mft"],"application/rpki-roa":["roa"],"application/rsd+xml":["rsd"],"application/rss+xml":["rss"],"application/rtf":["rtf"],"application/sbml+xml":["sbml"],"application/scvp-cv-request":["scq"],"application/scvp-cv-response":["scs"],"application/scvp-vp-request":["spq"],"application/scvp-vp-response":["spp"],"application/sdp":["sdp"],"application/senml+xml":["senmlx"],"application/sensml+xml":["sensmlx"],"application/set-payment-initiation":["setpay"],"application/set-registration-initiation":["setreg"],"application/shf+xml":["shf"],"application/sieve":["siv","sieve"],"application/smil+xml":["smi","smil"],"application/sparql-query":["rq"],"application/sparql-results+xml":["srx"],"application/srgs":["gram"],"application/srgs+xml":["grxml"],"application/sru+xml":["sru"],"application/ssdl+xml":["ssdl"],"application/ssml+xml":["ssml"],"application/swid+xml":["swidtag"],"application/tei+xml":["tei","teicorpus"],"application/thraud+xml":["tfi"],"application/timestamped-data":["tsd"],"application/toml":["toml"],"application/trig":["trig"],"application/ttml+xml":["ttml"],"application/ubjson":["ubj"],"application/urc-ressheet+xml":["rsheet"],"application/urc-targetdesc+xml":["td"],"application/voicexml+xml":["vxml"],"application/wasm":["wasm"],"application/widget":["wgt"],"application/winhlp":["hlp"],"application/wsdl+xml":["wsdl"],"application/wspolicy+xml":["wspolicy"],"application/xaml+xml":["xaml"],"application/xcap-att+xml":["xav"],"application/xcap-caps+xml":["xca"],"application/xcap-diff+xml":["xdf"],"application/xcap-el+xml":["xel"],"application/xcap-ns+xml":["xns"],"application/xenc+xml":["xenc"],"application/xhtml+xml":["xhtml","xht"],"application/xliff+xml":["xlf"],"application/xml":["xml","xsl","xsd","rng"],"application/xml-dtd":["dtd"],"application/xop+xml":["xop"],"application/xproc+xml":["xpl"],"application/xslt+xml":["*xsl","xslt"],"application/xspf+xml":["xspf"],"application/xv+xml":["mxml","xhvml","xvml","xvm"],"application/yang":["yang"],"application/yin+xml":["yin"],"application/zip":["zip"],"audio/3gpp":["*3gpp"],"audio/adpcm":["adp"],"audio/amr":["amr"],"audio/basic":["au","snd"],"audio/midi":["mid","midi","kar","rmi"],"audio/mobile-xmf":["mxmf"],"audio/mp3":["*mp3"],"audio/mp4":["m4a","mp4a"],"audio/mpeg":["mpga","mp2","mp2a","mp3","m2a","m3a"],"audio/ogg":["oga","ogg","spx","opus"],"audio/s3m":["s3m"],"audio/silk":["sil"],"audio/wav":["wav"],"audio/wave":["*wav"],"audio/webm":["weba"],"audio/xm":["xm"],"font/collection":["ttc"],"font/otf":["otf"],"font/ttf":["ttf"],"font/woff":["woff"],"font/woff2":["woff2"],"image/aces":["exr"],"image/apng":["apng"],"image/avif":["avif"],"image/bmp":["bmp"],"image/cgm":["cgm"],"image/dicom-rle":["drle"],"image/emf":["emf"],"image/fits":["fits"],"image/g3fax":["g3"],"image/gif":["gif"],"image/heic":["heic"],"image/heic-sequence":["heics"],"image/heif":["heif"],"image/heif-sequence":["heifs"],"image/hej2k":["hej2"],"image/hsj2":["hsj2"],"image/ief":["ief"],"image/jls":["jls"],"image/jp2":["jp2","jpg2"],"image/jpeg":["jpeg","jpg","jpe"],"image/jph":["jph"],"image/jphc":["jhc"],"image/jpm":["jpm"],"image/jpx":["jpx","jpf"],"image/jxr":["jxr"],"image/jxra":["jxra"],"image/jxrs":["jxrs"],"image/jxs":["jxs"],"image/jxsc":["jxsc"],"image/jxsi":["jxsi"],"image/jxss":["jxss"],"image/ktx":["ktx"],"image/ktx2":["ktx2"],"image/png":["png"],"image/sgi":["sgi"],"image/svg+xml":["svg","svgz"],"image/t38":["t38"],"image/tiff":["tif","tiff"],"image/tiff-fx":["tfx"],"image/webp":["webp"],"image/wmf":["wmf"],"message/disposition-notification":["disposition-notification"],"message/global":["u8msg"],"message/global-delivery-status":["u8dsn"],"message/global-disposition-notification":["u8mdn"],"message/global-headers":["u8hdr"],"message/rfc822":["eml","mime"],"model/3mf":["3mf"],"model/gltf+json":["gltf"],"model/gltf-binary":["glb"],"model/iges":["igs","iges"],"model/mesh":["msh","mesh","silo"],"model/mtl":["mtl"],"model/obj":["obj"],"model/step+xml":["stpx"],"model/step+zip":["stpz"],"model/step-xml+zip":["stpxz"],"model/stl":["stl"],"model/vrml":["wrl","vrml"],"model/x3d+binary":["*x3db","x3dbz"],"model/x3d+fastinfoset":["x3db"],"model/x3d+vrml":["*x3dv","x3dvz"],"model/x3d+xml":["x3d","x3dz"],"model/x3d-vrml":["x3dv"],"text/cache-manifest":["appcache","manifest"],"text/calendar":["ics","ifb"],"text/coffeescript":["coffee","litcoffee"],"text/css":["css"],"text/csv":["csv"],"text/html":["html","htm","shtml"],"text/jade":["jade"],"text/jsx":["jsx"],"text/less":["less"],"text/markdown":["markdown","md"],"text/mathml":["mml"],"text/mdx":["mdx"],"text/n3":["n3"],"text/plain":["txt","text","conf","def","list","log","in","ini"],"text/richtext":["rtx"],"text/rtf":["*rtf"],"text/sgml":["sgml","sgm"],"text/shex":["shex"],"text/slim":["slim","slm"],"text/spdx":["spdx"],"text/stylus":["stylus","styl"],"text/tab-separated-values":["tsv"],"text/troff":["t","tr","roff","man","me","ms"],"text/turtle":["ttl"],"text/uri-list":["uri","uris","urls"],"text/vcard":["vcard"],"text/vtt":["vtt"],"text/xml":["*xml"],"text/yaml":["yaml","yml"],"video/3gpp":["3gp","3gpp"],"video/3gpp2":["3g2"],"video/h261":["h261"],"video/h263":["h263"],"video/h264":["h264"],"video/iso.segment":["m4s"],"video/jpeg":["jpgv"],"video/jpm":["*jpm","jpgm"],"video/mj2":["mj2","mjp2"],"video/mp2t":["ts"],"video/mp4":["mp4","mp4v","mpg4"],"video/mpeg":["mpeg","mpg","mpe","m1v","m2v"],"video/ogg":["ogv"],"video/quicktime":["qt","mov"],"video/webm":["webm"]};
},{}],"JhBH":[function(require,module,exports) {
module.exports={"application/prs.cww":["cww"],"application/vnd.1000minds.decision-model+xml":["1km"],"application/vnd.3gpp.pic-bw-large":["plb"],"application/vnd.3gpp.pic-bw-small":["psb"],"application/vnd.3gpp.pic-bw-var":["pvb"],"application/vnd.3gpp2.tcap":["tcap"],"application/vnd.3m.post-it-notes":["pwn"],"application/vnd.accpac.simply.aso":["aso"],"application/vnd.accpac.simply.imp":["imp"],"application/vnd.acucobol":["acu"],"application/vnd.acucorp":["atc","acutc"],"application/vnd.adobe.air-application-installer-package+zip":["air"],"application/vnd.adobe.formscentral.fcdt":["fcdt"],"application/vnd.adobe.fxp":["fxp","fxpl"],"application/vnd.adobe.xdp+xml":["xdp"],"application/vnd.adobe.xfdf":["xfdf"],"application/vnd.ahead.space":["ahead"],"application/vnd.airzip.filesecure.azf":["azf"],"application/vnd.airzip.filesecure.azs":["azs"],"application/vnd.amazon.ebook":["azw"],"application/vnd.americandynamics.acc":["acc"],"application/vnd.amiga.ami":["ami"],"application/vnd.android.package-archive":["apk"],"application/vnd.anser-web-certificate-issue-initiation":["cii"],"application/vnd.anser-web-funds-transfer-initiation":["fti"],"application/vnd.antix.game-component":["atx"],"application/vnd.apple.installer+xml":["mpkg"],"application/vnd.apple.keynote":["key"],"application/vnd.apple.mpegurl":["m3u8"],"application/vnd.apple.numbers":["numbers"],"application/vnd.apple.pages":["pages"],"application/vnd.apple.pkpass":["pkpass"],"application/vnd.aristanetworks.swi":["swi"],"application/vnd.astraea-software.iota":["iota"],"application/vnd.audiograph":["aep"],"application/vnd.balsamiq.bmml+xml":["bmml"],"application/vnd.blueice.multipass":["mpm"],"application/vnd.bmi":["bmi"],"application/vnd.businessobjects":["rep"],"application/vnd.chemdraw+xml":["cdxml"],"application/vnd.chipnuts.karaoke-mmd":["mmd"],"application/vnd.cinderella":["cdy"],"application/vnd.citationstyles.style+xml":["csl"],"application/vnd.claymore":["cla"],"application/vnd.cloanto.rp9":["rp9"],"application/vnd.clonk.c4group":["c4g","c4d","c4f","c4p","c4u"],"application/vnd.cluetrust.cartomobile-config":["c11amc"],"application/vnd.cluetrust.cartomobile-config-pkg":["c11amz"],"application/vnd.commonspace":["csp"],"application/vnd.contact.cmsg":["cdbcmsg"],"application/vnd.cosmocaller":["cmc"],"application/vnd.crick.clicker":["clkx"],"application/vnd.crick.clicker.keyboard":["clkk"],"application/vnd.crick.clicker.palette":["clkp"],"application/vnd.crick.clicker.template":["clkt"],"application/vnd.crick.clicker.wordbank":["clkw"],"application/vnd.criticaltools.wbs+xml":["wbs"],"application/vnd.ctc-posml":["pml"],"application/vnd.cups-ppd":["ppd"],"application/vnd.curl.car":["car"],"application/vnd.curl.pcurl":["pcurl"],"application/vnd.dart":["dart"],"application/vnd.data-vision.rdz":["rdz"],"application/vnd.dbf":["dbf"],"application/vnd.dece.data":["uvf","uvvf","uvd","uvvd"],"application/vnd.dece.ttml+xml":["uvt","uvvt"],"application/vnd.dece.unspecified":["uvx","uvvx"],"application/vnd.dece.zip":["uvz","uvvz"],"application/vnd.denovo.fcselayout-link":["fe_launch"],"application/vnd.dna":["dna"],"application/vnd.dolby.mlp":["mlp"],"application/vnd.dpgraph":["dpg"],"application/vnd.dreamfactory":["dfac"],"application/vnd.ds-keypoint":["kpxx"],"application/vnd.dvb.ait":["ait"],"application/vnd.dvb.service":["svc"],"application/vnd.dynageo":["geo"],"application/vnd.ecowin.chart":["mag"],"application/vnd.enliven":["nml"],"application/vnd.epson.esf":["esf"],"application/vnd.epson.msf":["msf"],"application/vnd.epson.quickanime":["qam"],"application/vnd.epson.salt":["slt"],"application/vnd.epson.ssf":["ssf"],"application/vnd.eszigno3+xml":["es3","et3"],"application/vnd.ezpix-album":["ez2"],"application/vnd.ezpix-package":["ez3"],"application/vnd.fdf":["fdf"],"application/vnd.fdsn.mseed":["mseed"],"application/vnd.fdsn.seed":["seed","dataless"],"application/vnd.flographit":["gph"],"application/vnd.fluxtime.clip":["ftc"],"application/vnd.framemaker":["fm","frame","maker","book"],"application/vnd.frogans.fnc":["fnc"],"application/vnd.frogans.ltf":["ltf"],"application/vnd.fsc.weblaunch":["fsc"],"application/vnd.fujitsu.oasys":["oas"],"application/vnd.fujitsu.oasys2":["oa2"],"application/vnd.fujitsu.oasys3":["oa3"],"application/vnd.fujitsu.oasysgp":["fg5"],"application/vnd.fujitsu.oasysprs":["bh2"],"application/vnd.fujixerox.ddd":["ddd"],"application/vnd.fujixerox.docuworks":["xdw"],"application/vnd.fujixerox.docuworks.binder":["xbd"],"application/vnd.fuzzysheet":["fzs"],"application/vnd.genomatix.tuxedo":["txd"],"application/vnd.geogebra.file":["ggb"],"application/vnd.geogebra.tool":["ggt"],"application/vnd.geometry-explorer":["gex","gre"],"application/vnd.geonext":["gxt"],"application/vnd.geoplan":["g2w"],"application/vnd.geospace":["g3w"],"application/vnd.gmx":["gmx"],"application/vnd.google-apps.document":["gdoc"],"application/vnd.google-apps.presentation":["gslides"],"application/vnd.google-apps.spreadsheet":["gsheet"],"application/vnd.google-earth.kml+xml":["kml"],"application/vnd.google-earth.kmz":["kmz"],"application/vnd.grafeq":["gqf","gqs"],"application/vnd.groove-account":["gac"],"application/vnd.groove-help":["ghf"],"application/vnd.groove-identity-message":["gim"],"application/vnd.groove-injector":["grv"],"application/vnd.groove-tool-message":["gtm"],"application/vnd.groove-tool-template":["tpl"],"application/vnd.groove-vcard":["vcg"],"application/vnd.hal+xml":["hal"],"application/vnd.handheld-entertainment+xml":["zmm"],"application/vnd.hbci":["hbci"],"application/vnd.hhe.lesson-player":["les"],"application/vnd.hp-hpgl":["hpgl"],"application/vnd.hp-hpid":["hpid"],"application/vnd.hp-hps":["hps"],"application/vnd.hp-jlyt":["jlt"],"application/vnd.hp-pcl":["pcl"],"application/vnd.hp-pclxl":["pclxl"],"application/vnd.hydrostatix.sof-data":["sfd-hdstx"],"application/vnd.ibm.minipay":["mpy"],"application/vnd.ibm.modcap":["afp","listafp","list3820"],"application/vnd.ibm.rights-management":["irm"],"application/vnd.ibm.secure-container":["sc"],"application/vnd.iccprofile":["icc","icm"],"application/vnd.igloader":["igl"],"application/vnd.immervision-ivp":["ivp"],"application/vnd.immervision-ivu":["ivu"],"application/vnd.insors.igm":["igm"],"application/vnd.intercon.formnet":["xpw","xpx"],"application/vnd.intergeo":["i2g"],"application/vnd.intu.qbo":["qbo"],"application/vnd.intu.qfx":["qfx"],"application/vnd.ipunplugged.rcprofile":["rcprofile"],"application/vnd.irepository.package+xml":["irp"],"application/vnd.is-xpr":["xpr"],"application/vnd.isac.fcs":["fcs"],"application/vnd.jam":["jam"],"application/vnd.jcp.javame.midlet-rms":["rms"],"application/vnd.jisp":["jisp"],"application/vnd.joost.joda-archive":["joda"],"application/vnd.kahootz":["ktz","ktr"],"application/vnd.kde.karbon":["karbon"],"application/vnd.kde.kchart":["chrt"],"application/vnd.kde.kformula":["kfo"],"application/vnd.kde.kivio":["flw"],"application/vnd.kde.kontour":["kon"],"application/vnd.kde.kpresenter":["kpr","kpt"],"application/vnd.kde.kspread":["ksp"],"application/vnd.kde.kword":["kwd","kwt"],"application/vnd.kenameaapp":["htke"],"application/vnd.kidspiration":["kia"],"application/vnd.kinar":["kne","knp"],"application/vnd.koan":["skp","skd","skt","skm"],"application/vnd.kodak-descriptor":["sse"],"application/vnd.las.las+xml":["lasxml"],"application/vnd.llamagraphics.life-balance.desktop":["lbd"],"application/vnd.llamagraphics.life-balance.exchange+xml":["lbe"],"application/vnd.lotus-1-2-3":["123"],"application/vnd.lotus-approach":["apr"],"application/vnd.lotus-freelance":["pre"],"application/vnd.lotus-notes":["nsf"],"application/vnd.lotus-organizer":["org"],"application/vnd.lotus-screencam":["scm"],"application/vnd.lotus-wordpro":["lwp"],"application/vnd.macports.portpkg":["portpkg"],"application/vnd.mapbox-vector-tile":["mvt"],"application/vnd.mcd":["mcd"],"application/vnd.medcalcdata":["mc1"],"application/vnd.mediastation.cdkey":["cdkey"],"application/vnd.mfer":["mwf"],"application/vnd.mfmp":["mfm"],"application/vnd.micrografx.flo":["flo"],"application/vnd.micrografx.igx":["igx"],"application/vnd.mif":["mif"],"application/vnd.mobius.daf":["daf"],"application/vnd.mobius.dis":["dis"],"application/vnd.mobius.mbk":["mbk"],"application/vnd.mobius.mqy":["mqy"],"application/vnd.mobius.msl":["msl"],"application/vnd.mobius.plc":["plc"],"application/vnd.mobius.txf":["txf"],"application/vnd.mophun.application":["mpn"],"application/vnd.mophun.certificate":["mpc"],"application/vnd.mozilla.xul+xml":["xul"],"application/vnd.ms-artgalry":["cil"],"application/vnd.ms-cab-compressed":["cab"],"application/vnd.ms-excel":["xls","xlm","xla","xlc","xlt","xlw"],"application/vnd.ms-excel.addin.macroenabled.12":["xlam"],"application/vnd.ms-excel.sheet.binary.macroenabled.12":["xlsb"],"application/vnd.ms-excel.sheet.macroenabled.12":["xlsm"],"application/vnd.ms-excel.template.macroenabled.12":["xltm"],"application/vnd.ms-fontobject":["eot"],"application/vnd.ms-htmlhelp":["chm"],"application/vnd.ms-ims":["ims"],"application/vnd.ms-lrm":["lrm"],"application/vnd.ms-officetheme":["thmx"],"application/vnd.ms-outlook":["msg"],"application/vnd.ms-pki.seccat":["cat"],"application/vnd.ms-pki.stl":["*stl"],"application/vnd.ms-powerpoint":["ppt","pps","pot"],"application/vnd.ms-powerpoint.addin.macroenabled.12":["ppam"],"application/vnd.ms-powerpoint.presentation.macroenabled.12":["pptm"],"application/vnd.ms-powerpoint.slide.macroenabled.12":["sldm"],"application/vnd.ms-powerpoint.slideshow.macroenabled.12":["ppsm"],"application/vnd.ms-powerpoint.template.macroenabled.12":["potm"],"application/vnd.ms-project":["mpp","mpt"],"application/vnd.ms-word.document.macroenabled.12":["docm"],"application/vnd.ms-word.template.macroenabled.12":["dotm"],"application/vnd.ms-works":["wps","wks","wcm","wdb"],"application/vnd.ms-wpl":["wpl"],"application/vnd.ms-xpsdocument":["xps"],"application/vnd.mseq":["mseq"],"application/vnd.musician":["mus"],"application/vnd.muvee.style":["msty"],"application/vnd.mynfc":["taglet"],"application/vnd.neurolanguage.nlu":["nlu"],"application/vnd.nitf":["ntf","nitf"],"application/vnd.noblenet-directory":["nnd"],"application/vnd.noblenet-sealer":["nns"],"application/vnd.noblenet-web":["nnw"],"application/vnd.nokia.n-gage.ac+xml":["*ac"],"application/vnd.nokia.n-gage.data":["ngdat"],"application/vnd.nokia.n-gage.symbian.install":["n-gage"],"application/vnd.nokia.radio-preset":["rpst"],"application/vnd.nokia.radio-presets":["rpss"],"application/vnd.novadigm.edm":["edm"],"application/vnd.novadigm.edx":["edx"],"application/vnd.novadigm.ext":["ext"],"application/vnd.oasis.opendocument.chart":["odc"],"application/vnd.oasis.opendocument.chart-template":["otc"],"application/vnd.oasis.opendocument.database":["odb"],"application/vnd.oasis.opendocument.formula":["odf"],"application/vnd.oasis.opendocument.formula-template":["odft"],"application/vnd.oasis.opendocument.graphics":["odg"],"application/vnd.oasis.opendocument.graphics-template":["otg"],"application/vnd.oasis.opendocument.image":["odi"],"application/vnd.oasis.opendocument.image-template":["oti"],"application/vnd.oasis.opendocument.presentation":["odp"],"application/vnd.oasis.opendocument.presentation-template":["otp"],"application/vnd.oasis.opendocument.spreadsheet":["ods"],"application/vnd.oasis.opendocument.spreadsheet-template":["ots"],"application/vnd.oasis.opendocument.text":["odt"],"application/vnd.oasis.opendocument.text-master":["odm"],"application/vnd.oasis.opendocument.text-template":["ott"],"application/vnd.oasis.opendocument.text-web":["oth"],"application/vnd.olpc-sugar":["xo"],"application/vnd.oma.dd2+xml":["dd2"],"application/vnd.openblox.game+xml":["obgx"],"application/vnd.openofficeorg.extension":["oxt"],"application/vnd.openstreetmap.data+xml":["osm"],"application/vnd.openxmlformats-officedocument.presentationml.presentation":["pptx"],"application/vnd.openxmlformats-officedocument.presentationml.slide":["sldx"],"application/vnd.openxmlformats-officedocument.presentationml.slideshow":["ppsx"],"application/vnd.openxmlformats-officedocument.presentationml.template":["potx"],"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":["xlsx"],"application/vnd.openxmlformats-officedocument.spreadsheetml.template":["xltx"],"application/vnd.openxmlformats-officedocument.wordprocessingml.document":["docx"],"application/vnd.openxmlformats-officedocument.wordprocessingml.template":["dotx"],"application/vnd.osgeo.mapguide.package":["mgp"],"application/vnd.osgi.dp":["dp"],"application/vnd.osgi.subsystem":["esa"],"application/vnd.palm":["pdb","pqa","oprc"],"application/vnd.pawaafile":["paw"],"application/vnd.pg.format":["str"],"application/vnd.pg.osasli":["ei6"],"application/vnd.picsel":["efif"],"application/vnd.pmi.widget":["wg"],"application/vnd.pocketlearn":["plf"],"application/vnd.powerbuilder6":["pbd"],"application/vnd.previewsystems.box":["box"],"application/vnd.proteus.magazine":["mgz"],"application/vnd.publishare-delta-tree":["qps"],"application/vnd.pvi.ptid1":["ptid"],"application/vnd.quark.quarkxpress":["qxd","qxt","qwd","qwt","qxl","qxb"],"application/vnd.rar":["rar"],"application/vnd.realvnc.bed":["bed"],"application/vnd.recordare.musicxml":["mxl"],"application/vnd.recordare.musicxml+xml":["musicxml"],"application/vnd.rig.cryptonote":["cryptonote"],"application/vnd.rim.cod":["cod"],"application/vnd.rn-realmedia":["rm"],"application/vnd.rn-realmedia-vbr":["rmvb"],"application/vnd.route66.link66+xml":["link66"],"application/vnd.sailingtracker.track":["st"],"application/vnd.seemail":["see"],"application/vnd.sema":["sema"],"application/vnd.semd":["semd"],"application/vnd.semf":["semf"],"application/vnd.shana.informed.formdata":["ifm"],"application/vnd.shana.informed.formtemplate":["itp"],"application/vnd.shana.informed.interchange":["iif"],"application/vnd.shana.informed.package":["ipk"],"application/vnd.simtech-mindmapper":["twd","twds"],"application/vnd.smaf":["mmf"],"application/vnd.smart.teacher":["teacher"],"application/vnd.software602.filler.form+xml":["fo"],"application/vnd.solent.sdkm+xml":["sdkm","sdkd"],"application/vnd.spotfire.dxp":["dxp"],"application/vnd.spotfire.sfs":["sfs"],"application/vnd.stardivision.calc":["sdc"],"application/vnd.stardivision.draw":["sda"],"application/vnd.stardivision.impress":["sdd"],"application/vnd.stardivision.math":["smf"],"application/vnd.stardivision.writer":["sdw","vor"],"application/vnd.stardivision.writer-global":["sgl"],"application/vnd.stepmania.package":["smzip"],"application/vnd.stepmania.stepchart":["sm"],"application/vnd.sun.wadl+xml":["wadl"],"application/vnd.sun.xml.calc":["sxc"],"application/vnd.sun.xml.calc.template":["stc"],"application/vnd.sun.xml.draw":["sxd"],"application/vnd.sun.xml.draw.template":["std"],"application/vnd.sun.xml.impress":["sxi"],"application/vnd.sun.xml.impress.template":["sti"],"application/vnd.sun.xml.math":["sxm"],"application/vnd.sun.xml.writer":["sxw"],"application/vnd.sun.xml.writer.global":["sxg"],"application/vnd.sun.xml.writer.template":["stw"],"application/vnd.sus-calendar":["sus","susp"],"application/vnd.svd":["svd"],"application/vnd.symbian.install":["sis","sisx"],"application/vnd.syncml+xml":["xsm"],"application/vnd.syncml.dm+wbxml":["bdm"],"application/vnd.syncml.dm+xml":["xdm"],"application/vnd.syncml.dmddf+xml":["ddf"],"application/vnd.tao.intent-module-archive":["tao"],"application/vnd.tcpdump.pcap":["pcap","cap","dmp"],"application/vnd.tmobile-livetv":["tmo"],"application/vnd.trid.tpt":["tpt"],"application/vnd.triscape.mxs":["mxs"],"application/vnd.trueapp":["tra"],"application/vnd.ufdl":["ufd","ufdl"],"application/vnd.uiq.theme":["utz"],"application/vnd.umajin":["umj"],"application/vnd.unity":["unityweb"],"application/vnd.uoml+xml":["uoml"],"application/vnd.vcx":["vcx"],"application/vnd.visio":["vsd","vst","vss","vsw"],"application/vnd.visionary":["vis"],"application/vnd.vsf":["vsf"],"application/vnd.wap.wbxml":["wbxml"],"application/vnd.wap.wmlc":["wmlc"],"application/vnd.wap.wmlscriptc":["wmlsc"],"application/vnd.webturbo":["wtb"],"application/vnd.wolfram.player":["nbp"],"application/vnd.wordperfect":["wpd"],"application/vnd.wqd":["wqd"],"application/vnd.wt.stf":["stf"],"application/vnd.xara":["xar"],"application/vnd.xfdl":["xfdl"],"application/vnd.yamaha.hv-dic":["hvd"],"application/vnd.yamaha.hv-script":["hvs"],"application/vnd.yamaha.hv-voice":["hvp"],"application/vnd.yamaha.openscoreformat":["osf"],"application/vnd.yamaha.openscoreformat.osfpvg+xml":["osfpvg"],"application/vnd.yamaha.smaf-audio":["saf"],"application/vnd.yamaha.smaf-phrase":["spf"],"application/vnd.yellowriver-custom-menu":["cmp"],"application/vnd.zul":["zir","zirz"],"application/vnd.zzazz.deck+xml":["zaz"],"application/x-7z-compressed":["7z"],"application/x-abiword":["abw"],"application/x-ace-compressed":["ace"],"application/x-apple-diskimage":["*dmg"],"application/x-arj":["arj"],"application/x-authorware-bin":["aab","x32","u32","vox"],"application/x-authorware-map":["aam"],"application/x-authorware-seg":["aas"],"application/x-bcpio":["bcpio"],"application/x-bdoc":["*bdoc"],"application/x-bittorrent":["torrent"],"application/x-blorb":["blb","blorb"],"application/x-bzip":["bz"],"application/x-bzip2":["bz2","boz"],"application/x-cbr":["cbr","cba","cbt","cbz","cb7"],"application/x-cdlink":["vcd"],"application/x-cfs-compressed":["cfs"],"application/x-chat":["chat"],"application/x-chess-pgn":["pgn"],"application/x-chrome-extension":["crx"],"application/x-cocoa":["cco"],"application/x-conference":["nsc"],"application/x-cpio":["cpio"],"application/x-csh":["csh"],"application/x-debian-package":["*deb","udeb"],"application/x-dgc-compressed":["dgc"],"application/x-director":["dir","dcr","dxr","cst","cct","cxt","w3d","fgd","swa"],"application/x-doom":["wad"],"application/x-dtbncx+xml":["ncx"],"application/x-dtbook+xml":["dtb"],"application/x-dtbresource+xml":["res"],"application/x-dvi":["dvi"],"application/x-envoy":["evy"],"application/x-eva":["eva"],"application/x-font-bdf":["bdf"],"application/x-font-ghostscript":["gsf"],"application/x-font-linux-psf":["psf"],"application/x-font-pcf":["pcf"],"application/x-font-snf":["snf"],"application/x-font-type1":["pfa","pfb","pfm","afm"],"application/x-freearc":["arc"],"application/x-futuresplash":["spl"],"application/x-gca-compressed":["gca"],"application/x-glulx":["ulx"],"application/x-gnumeric":["gnumeric"],"application/x-gramps-xml":["gramps"],"application/x-gtar":["gtar"],"application/x-hdf":["hdf"],"application/x-httpd-php":["php"],"application/x-install-instructions":["install"],"application/x-iso9660-image":["*iso"],"application/x-iwork-keynote-sffkey":["*key"],"application/x-iwork-numbers-sffnumbers":["*numbers"],"application/x-iwork-pages-sffpages":["*pages"],"application/x-java-archive-diff":["jardiff"],"application/x-java-jnlp-file":["jnlp"],"application/x-keepass2":["kdbx"],"application/x-latex":["latex"],"application/x-lua-bytecode":["luac"],"application/x-lzh-compressed":["lzh","lha"],"application/x-makeself":["run"],"application/x-mie":["mie"],"application/x-mobipocket-ebook":["prc","mobi"],"application/x-ms-application":["application"],"application/x-ms-shortcut":["lnk"],"application/x-ms-wmd":["wmd"],"application/x-ms-wmz":["wmz"],"application/x-ms-xbap":["xbap"],"application/x-msaccess":["mdb"],"application/x-msbinder":["obd"],"application/x-mscardfile":["crd"],"application/x-msclip":["clp"],"application/x-msdos-program":["*exe"],"application/x-msdownload":["*exe","*dll","com","bat","*msi"],"application/x-msmediaview":["mvb","m13","m14"],"application/x-msmetafile":["*wmf","*wmz","*emf","emz"],"application/x-msmoney":["mny"],"application/x-mspublisher":["pub"],"application/x-msschedule":["scd"],"application/x-msterminal":["trm"],"application/x-mswrite":["wri"],"application/x-netcdf":["nc","cdf"],"application/x-ns-proxy-autoconfig":["pac"],"application/x-nzb":["nzb"],"application/x-perl":["pl","pm"],"application/x-pilot":["*prc","*pdb"],"application/x-pkcs12":["p12","pfx"],"application/x-pkcs7-certificates":["p7b","spc"],"application/x-pkcs7-certreqresp":["p7r"],"application/x-rar-compressed":["*rar"],"application/x-redhat-package-manager":["rpm"],"application/x-research-info-systems":["ris"],"application/x-sea":["sea"],"application/x-sh":["sh"],"application/x-shar":["shar"],"application/x-shockwave-flash":["swf"],"application/x-silverlight-app":["xap"],"application/x-sql":["sql"],"application/x-stuffit":["sit"],"application/x-stuffitx":["sitx"],"application/x-subrip":["srt"],"application/x-sv4cpio":["sv4cpio"],"application/x-sv4crc":["sv4crc"],"application/x-t3vm-image":["t3"],"application/x-tads":["gam"],"application/x-tar":["tar"],"application/x-tcl":["tcl","tk"],"application/x-tex":["tex"],"application/x-tex-tfm":["tfm"],"application/x-texinfo":["texinfo","texi"],"application/x-tgif":["*obj"],"application/x-ustar":["ustar"],"application/x-virtualbox-hdd":["hdd"],"application/x-virtualbox-ova":["ova"],"application/x-virtualbox-ovf":["ovf"],"application/x-virtualbox-vbox":["vbox"],"application/x-virtualbox-vbox-extpack":["vbox-extpack"],"application/x-virtualbox-vdi":["vdi"],"application/x-virtualbox-vhd":["vhd"],"application/x-virtualbox-vmdk":["vmdk"],"application/x-wais-source":["src"],"application/x-web-app-manifest+json":["webapp"],"application/x-x509-ca-cert":["der","crt","pem"],"application/x-xfig":["fig"],"application/x-xliff+xml":["*xlf"],"application/x-xpinstall":["xpi"],"application/x-xz":["xz"],"application/x-zmachine":["z1","z2","z3","z4","z5","z6","z7","z8"],"audio/vnd.dece.audio":["uva","uvva"],"audio/vnd.digital-winds":["eol"],"audio/vnd.dra":["dra"],"audio/vnd.dts":["dts"],"audio/vnd.dts.hd":["dtshd"],"audio/vnd.lucent.voice":["lvp"],"audio/vnd.ms-playready.media.pya":["pya"],"audio/vnd.nuera.ecelp4800":["ecelp4800"],"audio/vnd.nuera.ecelp7470":["ecelp7470"],"audio/vnd.nuera.ecelp9600":["ecelp9600"],"audio/vnd.rip":["rip"],"audio/x-aac":["aac"],"audio/x-aiff":["aif","aiff","aifc"],"audio/x-caf":["caf"],"audio/x-flac":["flac"],"audio/x-m4a":["*m4a"],"audio/x-matroska":["mka"],"audio/x-mpegurl":["m3u"],"audio/x-ms-wax":["wax"],"audio/x-ms-wma":["wma"],"audio/x-pn-realaudio":["ram","ra"],"audio/x-pn-realaudio-plugin":["rmp"],"audio/x-realaudio":["*ra"],"audio/x-wav":["*wav"],"chemical/x-cdx":["cdx"],"chemical/x-cif":["cif"],"chemical/x-cmdf":["cmdf"],"chemical/x-cml":["cml"],"chemical/x-csml":["csml"],"chemical/x-xyz":["xyz"],"image/prs.btif":["btif"],"image/prs.pti":["pti"],"image/vnd.adobe.photoshop":["psd"],"image/vnd.airzip.accelerator.azv":["azv"],"image/vnd.dece.graphic":["uvi","uvvi","uvg","uvvg"],"image/vnd.djvu":["djvu","djv"],"image/vnd.dvb.subtitle":["*sub"],"image/vnd.dwg":["dwg"],"image/vnd.dxf":["dxf"],"image/vnd.fastbidsheet":["fbs"],"image/vnd.fpx":["fpx"],"image/vnd.fst":["fst"],"image/vnd.fujixerox.edmics-mmr":["mmr"],"image/vnd.fujixerox.edmics-rlc":["rlc"],"image/vnd.microsoft.icon":["ico"],"image/vnd.ms-dds":["dds"],"image/vnd.ms-modi":["mdi"],"image/vnd.ms-photo":["wdp"],"image/vnd.net-fpx":["npx"],"image/vnd.pco.b16":["b16"],"image/vnd.tencent.tap":["tap"],"image/vnd.valve.source.texture":["vtf"],"image/vnd.wap.wbmp":["wbmp"],"image/vnd.xiff":["xif"],"image/vnd.zbrush.pcx":["pcx"],"image/x-3ds":["3ds"],"image/x-cmu-raster":["ras"],"image/x-cmx":["cmx"],"image/x-freehand":["fh","fhc","fh4","fh5","fh7"],"image/x-icon":["*ico"],"image/x-jng":["jng"],"image/x-mrsid-image":["sid"],"image/x-ms-bmp":["*bmp"],"image/x-pcx":["*pcx"],"image/x-pict":["pic","pct"],"image/x-portable-anymap":["pnm"],"image/x-portable-bitmap":["pbm"],"image/x-portable-graymap":["pgm"],"image/x-portable-pixmap":["ppm"],"image/x-rgb":["rgb"],"image/x-tga":["tga"],"image/x-xbitmap":["xbm"],"image/x-xpixmap":["xpm"],"image/x-xwindowdump":["xwd"],"message/vnd.wfa.wsc":["wsc"],"model/vnd.collada+xml":["dae"],"model/vnd.dwf":["dwf"],"model/vnd.gdl":["gdl"],"model/vnd.gtw":["gtw"],"model/vnd.mts":["mts"],"model/vnd.opengex":["ogex"],"model/vnd.parasolid.transmit.binary":["x_b"],"model/vnd.parasolid.transmit.text":["x_t"],"model/vnd.sap.vds":["vds"],"model/vnd.usdz+zip":["usdz"],"model/vnd.valve.source.compiled-map":["bsp"],"model/vnd.vtu":["vtu"],"text/prs.lines.tag":["dsc"],"text/vnd.curl":["curl"],"text/vnd.curl.dcurl":["dcurl"],"text/vnd.curl.mcurl":["mcurl"],"text/vnd.curl.scurl":["scurl"],"text/vnd.dvb.subtitle":["sub"],"text/vnd.fly":["fly"],"text/vnd.fmi.flexstor":["flx"],"text/vnd.graphviz":["gv"],"text/vnd.in3d.3dml":["3dml"],"text/vnd.in3d.spot":["spot"],"text/vnd.sun.j2me.app-descriptor":["jad"],"text/vnd.wap.wml":["wml"],"text/vnd.wap.wmlscript":["wmls"],"text/x-asm":["s","asm"],"text/x-c":["c","cc","cxx","cpp","h","hh","dic"],"text/x-component":["htc"],"text/x-fortran":["f","for","f77","f90"],"text/x-handlebars-template":["hbs"],"text/x-java-source":["java"],"text/x-lua":["lua"],"text/x-markdown":["mkd"],"text/x-nfo":["nfo"],"text/x-opml":["opml"],"text/x-org":["*org"],"text/x-pascal":["p","pas"],"text/x-processing":["pde"],"text/x-sass":["sass"],"text/x-scss":["scss"],"text/x-setext":["etx"],"text/x-sfv":["sfv"],"text/x-suse-ymp":["ymp"],"text/x-uuencode":["uu"],"text/x-vcalendar":["vcs"],"text/x-vcard":["vcf"],"video/vnd.dece.hd":["uvh","uvvh"],"video/vnd.dece.mobile":["uvm","uvvm"],"video/vnd.dece.pd":["uvp","uvvp"],"video/vnd.dece.sd":["uvs","uvvs"],"video/vnd.dece.video":["uvv","uvvv"],"video/vnd.dvb.file":["dvb"],"video/vnd.fvt":["fvt"],"video/vnd.mpegurl":["mxu","m4u"],"video/vnd.ms-playready.media.pyv":["pyv"],"video/vnd.uvvu.mp4":["uvu","uvvu"],"video/vnd.vivo":["viv"],"video/x-f4v":["f4v"],"video/x-fli":["fli"],"video/x-flv":["flv"],"video/x-m4v":["m4v"],"video/x-matroska":["mkv","mk3d","mks"],"video/x-mng":["mng"],"video/x-ms-asf":["asf","asx"],"video/x-ms-vob":["vob"],"video/x-ms-wm":["wm"],"video/x-ms-wmv":["wmv"],"video/x-ms-wmx":["wmx"],"video/x-ms-wvx":["wvx"],"video/x-msvideo":["avi"],"video/x-sgi-movie":["movie"],"video/x-smv":["smv"],"x-conference/x-cooltalk":["ice"]};
},{}],"ZjKD":[function(require,module,exports) {
"use strict";let e=require("./Mime");module.exports=new e(require("./types/standard"),require("./types/other"));
},{"./Mime":"SDCf","./types/standard":"Lyni","./types/other":"JhBH"}],"JrBD":[function(require,module,exports) {
"use strict";var e=require("@babel/runtime-corejs2/core-js/object/define-property"),t=require("@babel/runtime-corejs2/helpers/interopRequireDefault");e(exports,"__esModule",{value:!0}),exports.default=n;var i=t(require("@babel/runtime-corejs2/core-js/promise")),r=require("@webex/http-core"),o=require("mime");function n(e,t){return e.type?(t.info("file already has type ".concat(e.type,". using existing file.type.")),i.default.resolve(e.type)):e.mimeType?(t.info("file already has mimeType ".concat(e.type,". using existing file.mimeType.")),i.default.resolve(e.mimeType)):(0,r.detect)(e).then(function(i){return"application/x-msi"===i||"application/octet-stream"===i?(t.info("detected filetype to be ".concat(i,". Falling back to mime.lookup")),(0,o.getType)(e.name)):(t.info("detected filetype to be ".concat(i,". returning it")),i)})}
},{"@babel/runtime-corejs2/core-js/object/define-property":"eIqn","@babel/runtime-corejs2/helpers/interopRequireDefault":"LXwi","@babel/runtime-corejs2/core-js/promise":"eOfj","@webex/http-core":"qRWj","mime":"ZjKD"}],"ux2U":[function(require,module,exports) {
var define;
var global = arguments[3];
var process = require("process");
var Buffer = require("buffer").Buffer;
var e,t=arguments[3],i=require("process"),s=require("buffer").Buffer;!function(t,i){"object"==typeof exports&&"undefined"!=typeof module?i(exports):"function"==typeof e&&e.amd?e("exifr",["exports"],i):i((t=t||self).exifr={})}(this,function(e){"use strict";function n(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}let r="undefined"!=typeof self?self:t;var a="undefined"!=typeof navigator,o=a&&"undefined"==typeof HTMLImageElement,h=!(void 0===t||void 0===i||!i.versions||!i.versions.node);let l=r.Buffer,f=r.BigInt;var u=!!l;function d(e){return g(e)?void 0:e}const c=e=>void 0!==e;function g(e){return void 0===e||(e instanceof Map?0===e.size:0===Object.values(e).filter(c).length)}function p(e){let t=new Error(e);throw delete t.stack,t}function m(e){return""===(e=function(e){for(;e.endsWith("\0");)e=e.slice(0,-1);return e}(e).trim())?void 0:e}function y(e){let t=function(e){let t=0;return e.ifd0.enabled&&(t+=1024),e.exif.enabled&&(t+=2048),e.makerNote&&(t+=2048),e.userComment&&(t+=1024),e.gps.enabled&&(t+=512),e.interop.enabled&&(t+=100),e.ifd1.enabled&&(t+=1024),t+2048}(e);return e.jfif.enabled&&(t+=50),e.xmp.enabled&&(t+=2e4),e.iptc.enabled&&(t+=14e3),e.icc.enabled&&(t+=6e3),t}const b="undefined"!=typeof TextDecoder?new TextDecoder("utf-8"):void 0;function S(e){return b?b.decode(e):u?s.from(e).toString("utf8"):decodeURIComponent(escape(String.fromCharCode.apply(null,e)))}class w{static from(e,t){return e instanceof this&&e.le===t?e:new w(e,void 0,void 0,t)}constructor(e,t=0,i,s){if("boolean"==typeof s&&(this.le=s),Array.isArray(e)&&(e=new Uint8Array(e)),0===e)this.byteOffset=0,this.byteLength=0;else if(e instanceof ArrayBuffer){void 0===i&&(i=e.byteLength-t);let s=new DataView(e,t,i);this._swapDataView(s)}else if(e instanceof Uint8Array||e instanceof DataView||e instanceof w){void 0===i&&(i=e.byteLength-t),(t+=e.byteOffset)+i>e.byteOffset+e.byteLength&&p("Creating view outside of available memory in ArrayBuffer");let s=new DataView(e.buffer,t,i);this._swapDataView(s)}else if("number"==typeof e){let t=new DataView(new ArrayBuffer(e));this._swapDataView(t)}else p("Invalid input argument for BufferView: "+e)}_swapArrayBuffer(e){this._swapDataView(new DataView(e))}_swapBuffer(e){this._swapDataView(new DataView(e.buffer,e.byteOffset,e.byteLength))}_swapDataView(e){this.dataView=e,this.buffer=e.buffer,this.byteOffset=e.byteOffset,this.byteLength=e.byteLength}_lengthToEnd(e){return this.byteLength-e}set(e,t,i=w){return e instanceof DataView||e instanceof w?e=new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e instanceof ArrayBuffer&&(e=new Uint8Array(e)),e instanceof Uint8Array||p("BufferView.set(): Invalid data argument."),this.toUint8().set(e,t),new i(this,t,e.byteLength)}subarray(e,t){return t=t||this._lengthToEnd(e),new w(this,e,t)}toUint8(){return new Uint8Array(this.buffer,this.byteOffset,this.byteLength)}getUint8Array(e,t){return new Uint8Array(this.buffer,this.byteOffset+e,t)}getString(e=0,t=this.byteLength){return S(this.getUint8Array(e,t))}getUnicodeString(e=0,t=this.byteLength){const i=[];for(let s=0;s<t&&e+s<this.byteLength;s+=2)i.push(this.getUint16(e+s));return i.map(e=>String.fromCharCode(e)).join("")}getInt8(e){return this.dataView.getInt8(e)}getUint8(e){return this.dataView.getUint8(e)}getInt16(e,t=this.le){return this.dataView.getInt16(e,t)}getInt32(e,t=this.le){return this.dataView.getInt32(e,t)}getUint16(e,t=this.le){return this.dataView.getUint16(e,t)}getUint32(e,t=this.le){return this.dataView.getUint32(e,t)}getFloat32(e,t=this.le){return this.dataView.getFloat32(e,t)}getFloat64(e,t=this.le){return this.dataView.getFloat64(e,t)}getFloat(e,t=this.le){return this.dataView.getFloat32(e,t)}getDouble(e,t=this.le){return this.dataView.getFloat64(e,t)}getUintBytes(e,t,i){switch(t){case 1:return this.getUint8(e,i);case 2:return this.getUint16(e,i);case 4:return this.getUint32(e,i);case 8:return this.getUint64&&this.getUint64(e,i)}}getUint(e,t,i){switch(t){case 8:return this.getUint8(e,i);case 16:return this.getUint16(e,i);case 32:return this.getUint32(e,i);case 64:return this.getUint64&&this.getUint64(e,i)}}toString(e){return this.dataView.toString(e,this.constructor.name)}ensureChunk(){}}function k(e,t){p("".concat(e," '").concat(t,"' was not loaded, try using full build of exifr."))}class v extends Map{constructor(e){super(),this.kind=e}get(e,t){return this.has(e)||k(this.kind,e),t&&(e in t||function(e,t){p("Unknown ".concat(e," '").concat(t,"'."))}(this.kind,e),t[e].enabled||k(this.kind,e)),super.get(e)}keyList(){return Array.from(this.keys())}}var O=new v("file parser"),x=new v("segment parser"),C=new v("file reader");function A(e,t){return(i=e).startsWith("data:")||i.length>1e4?B(e,t,"base64"):a?P(e,t,"url",U):h?B(e,t,"fs"):void p("Invalid input argument");var i}async function P(e,t,i,s){return C.has(i)?B(e,t,i):s?async function(e,t){let i=await t(e);return new w(i)}(e,s):void p("Parser ".concat(i," is not loaded"))}async function B(e,t,i){let s=new(C.get(i))(e,t);return await s.read(),s}async function U(e){return fetch(e).then(e=>e.arrayBuffer())}async function I(e){return new Promise((t,i)=>{let s=new FileReader;s.onloadend=(()=>t(s.result||new ArrayBuffer)),s.onerror=i,s.readAsArrayBuffer(e)})}class F extends Map{get tagKeys(){return this.allKeys||(this.allKeys=Array.from(this.keys())),this.allKeys}get tagValues(){return this.allValues||(this.allValues=Array.from(this.values())),this.allValues}}function L(e,t,i){let s=new F;for(let[n,r]of i)s.set(n,r);if(Array.isArray(t))for(let n of t)e.set(n,s);else e.set(t,s);return s}function D(e,t,i){let s,n=e.get(t);for(s of i)n.set(s[0],s[1])}const T=new Map,V=new Map,z=new Map,N=["chunked","firstChunkSize","firstChunkSizeNode","firstChunkSizeBrowser","chunkSize","chunkLimit"],M=["jfif","xmp","icc","iptc"],E=["tiff",...M],R=["ifd0","ifd1","exif","gps","interop"],j=[...E,...R],G=["makerNote","userComment"],_=["translateKeys","translateValues","reviveValues","multiSegment"],H=[..._,"sanitize","mergeOutput"];class W{get translate(){return this.translateKeys||this.translateValues||this.reviveValues}}class K extends W{get needed(){return this.enabled||this.deps.size>0}constructor(e,t,i,s){if(super(),n(this,"enabled",!1),n(this,"skip",new Set),n(this,"pick",new Set),n(this,"deps",new Set),n(this,"translateKeys",!1),n(this,"translateValues",!1),n(this,"reviveValues",!1),this.key=e,this.enabled=t,this.parse=this.enabled,this.applyInheritables(s),this.canBeFiltered=R.includes(e),this.canBeFiltered&&(this.dict=T.get(e)),void 0!==i)if(Array.isArray(i))this.parse=this.enabled=!0,this.canBeFiltered&&i.length>0&&this.translateTagSet(i,this.pick);else if("object"==typeof i){if(this.enabled=!0,this.parse=!1!==i.parse,this.canBeFiltered){let{pick:e,skip:t}=i;e&&e.length>0&&this.translateTagSet(e,this.pick),t&&t.length>0&&this.translateTagSet(t,this.skip)}this.applyInheritables(i)}else!0===i||!1===i?this.parse=this.enabled=i:p("Invalid options argument: ".concat(i))}applyInheritables(e){let t,i;for(t of _)void 0!==(i=e[t])&&(this[t]=i)}translateTagSet(e,t){if(this.dict){let i,s,{tagKeys:n,tagValues:r}=this.dict;for(i of e)"string"==typeof i?(-1===(s=r.indexOf(i))&&(s=n.indexOf(Number(i))),-1!==s&&t.add(Number(n[s]))):t.add(i)}else for(let i of e)t.add(i)}finalizeFilters(){!this.enabled&&this.deps.size>0?(this.enabled=!0,Q(this.pick,this.deps)):this.enabled&&this.pick.size>0&&Q(this.pick,this.deps)}}var X={jfif:!1,tiff:!0,xmp:!1,icc:!1,iptc:!1,ifd0:!0,ifd1:!1,exif:!0,gps:!0,interop:!1,makerNote:!1,userComment:!1,multiSegment:!1,skip:[],pick:[],translateKeys:!0,translateValues:!0,reviveValues:!0,sanitize:!0,mergeOutput:!0,silentErrors:!0,chunked:!0,firstChunkSize:void 0,firstChunkSizeNode:512,firstChunkSizeBrowser:65536,chunkSize:65536,chunkLimit:5},Y=new Map;class q extends W{static useCached(e){let t=Y.get(e);return void 0!==t?t:(t=new this(e),Y.set(e,t),t)}constructor(e){super(),!0===e?this.setupFromTrue():void 0===e?this.setupFromUndefined():Array.isArray(e)?this.setupFromArray(e):"object"==typeof e?this.setupFromObject(e):p("Invalid options argument ".concat(e)),void 0===this.firstChunkSize&&(this.firstChunkSize=a?this.firstChunkSizeBrowser:this.firstChunkSizeNode),this.mergeOutput&&(this.ifd1.enabled=!1),this.filterNestedSegmentTags(),this.traverseTiffDependencyTree(),this.checkLoadedPlugins()}setupFromUndefined(){let e;for(e of N)this[e]=X[e];for(e of H)this[e]=X[e];for(e of G)this[e]=X[e];for(e of j)this[e]=new K(e,X[e],void 0,this)}setupFromTrue(){let e;for(e of N)this[e]=X[e];for(e of H)this[e]=X[e];for(e of G)this[e]=!0;for(e of j)this[e]=new K(e,!0,void 0,this)}setupFromArray(e){let t;for(t of N)this[t]=X[t];for(t of H)this[t]=X[t];for(t of G)this[t]=X[t];for(t of j)this[t]=new K(t,!1,void 0,this);this.setupGlobalFilters(e,void 0,R)}setupFromObject(e){let t;for(t of(R.ifd0=R.ifd0||R.image,R.ifd1=R.ifd1||R.thumbnail,Object.assign(this,e),N))this[t]=Z(e[t],X[t]);for(t of H)this[t]=Z(e[t],X[t]);for(t of G)this[t]=Z(e[t],X[t]);for(t of E)this[t]=new K(t,X[t],e[t],this);for(t of R)this[t]=new K(t,X[t],e[t],this.tiff);this.setupGlobalFilters(e.pick,e.skip,R,j),!0===e.tiff?this.batchEnableWithBool(R,!0):!1===e.tiff?this.batchEnableWithUserValue(R,e):Array.isArray(e.tiff)?this.setupGlobalFilters(e.tiff,void 0,R):"object"==typeof e.tiff&&this.setupGlobalFilters(e.tiff.pick,e.tiff.skip,R)}batchEnableWithBool(e,t){for(let i of e)this[i].enabled=t}batchEnableWithUserValue(e,t){for(let i of e){let e=t[i];this[i].enabled=!1!==e&&void 0!==e}}setupGlobalFilters(e,t,i,s=i){if(e&&e.length){for(let e of s)this[e].enabled=!1;let t=J(e,i);for(let[e,i]of t)Q(this[e].pick,i),this[e].enabled=!0}else if(t&&t.length){let e=J(t,i);for(let[t,i]of e)Q(this[t].skip,i)}}filterNestedSegmentTags(){let{ifd0:e,exif:t,xmp:i,iptc:s,icc:n}=this;this.makerNote?t.deps.add(37500):t.skip.add(37500),this.userComment?t.deps.add(37510):t.skip.add(37510),i.enabled||e.skip.add(700),s.enabled||e.skip.add(33723),n.enabled||e.skip.add(34675)}traverseTiffDependencyTree(){let{ifd0:e,exif:t,gps:i,interop:s}=this;s.needed&&(t.deps.add(40965),e.deps.add(40965)),t.needed&&e.deps.add(34665),i.needed&&e.deps.add(34853),this.tiff.enabled=R.some(e=>!0===this[e].enabled)||this.makerNote||this.userComment;for(let n of R)this[n].finalizeFilters()}get onlyTiff(){return!M.map(e=>this[e].enabled).some(e=>!0===e)&&this.tiff.enabled}checkLoadedPlugins(){for(let e of E)this[e].enabled&&!x.has(e)&&k("segment parser",e)}}function J(e,t){let i,s,n,r,a=[];for(n of t){for(r of(s=[],i=T.get(n)))(e.includes(r[0])||e.includes(r[1]))&&s.push(r[0]);s.length&&a.push([n,s])}return a}function Z(e,t){return void 0!==e?e:void 0!==t?t:void 0}function Q(e,t){for(let i of t)e.add(i)}n(q,"default",X);class ${constructor(e){n(this,"parsers",{}),this.options=q.useCached(e)}setup(){if(this.fileParser)return;let{file:e}=this,t=e.getUint16(0);for(let[i,s]of O)if(s.canHandle(e,t))return this.fileParser=new s(this.options,this.file,this.parsers),e[i]=!0;p("Unknown file format")}async read(e){this.file=await function(e,t){return"string"==typeof e?A(e,t):a&&!o&&e instanceof HTMLImageElement?A(e.src,t):e instanceof Uint8Array||e instanceof ArrayBuffer||e instanceof DataView?new w(e):a&&e instanceof Blob?P(e,t,"blob",I):void p("Invalid input argument")}(e,this.options)}async parse(){this.setup(),await this.fileParser.parse();let e={},t=[],i=Object.values(this.parsers).map(async i=>{let s;if(this.options.silentErrors){try{s=await i.parse()}catch(e){t.push(e)}t.push(...i.errors)}else s=await i.parse();i.assignToOutput(e,s)});return await Promise.all(i),this.options.silentErrors&&t.length>0&&(e.errors=t),this.file.close&&this.file.close(),d(e)}async extractThumbnail(){this.setup();let{options:e,file:t}=this,i=x.get("tiff",e);var s;if(t.tiff?s={start:0,type:"tiff"}:t.jpeg&&(s=await this.fileParser.getOrFindSegment("tiff")),void 0===s)return;let n=await this.fileParser.ensureSegmentChunk(s),r=this.parsers.tiff=new i(n,e,t),a=await r.extractThumbnail();return t.close&&t.close(),a}}async function ee(e,t){let i=new $(t);return await i.read(e),i.parse()}var te=Object.freeze({__proto__:null,parse:ee,Exifr:$,fileParsers:O,segmentParsers:x,fileReaders:C,tagKeys:T,tagValues:V,tagRevivers:z,createDictionary:L,extendDictionary:D,fetchUrlAsArrayBuffer:U,readBlobAsArrayBuffer:I,chunkedProps:N,otherSegments:M,segments:E,tiffBlocks:R,segmentsAndBlocks:j,tiffExtractables:G,inheritables:_,allFormatters:H,Options:q});class ie{constructor(e,t,i){n(this,"ensureSegmentChunk",async e=>{let t=e.start,i=e.size||65536;if(this.file.chunked)if(this.file.available(t,i))e.chunk=this.file.subarray(t,i);else try{e.chunk=await this.file.readChunk(t,i)}catch(t){p("Couldn't read segment: ".concat(JSON.stringify(e),". ").concat(t.message))}else this.file.byteLength>t+i?e.chunk=this.file.subarray(t,i):void 0===e.size?e.chunk=this.file.subarray(t):p("Segment unreachable: "+JSON.stringify(e));return e.chunk}),this.extendOptions&&this.extendOptions(e),this.options=e,this.file=t,this.parsers=i}createParser(e,t){let i=new(x.get(e))(t,this.options,this.file);return this.parsers[e]=i}}class se{static findPosition(e,t){let i=e.getUint16(t+2)+2,s="function"==typeof this.headerLength?this.headerLength(e,t,i):this.headerLength,n=t+s,r=i-s;return{offset:t,length:i,headerLength:s,start:n,size:r,end:n+r}}static parse(e,t={}){return new this(e,new q({[this.type]:t})).parse()}normalizeInput(e){return e instanceof w?e:new w(e)}constructor(e,t={},i){n(this,"errors",[]),n(this,"raw",new Map),n(this,"handleError",e=>{if(!this.options.silentErrors)throw e;this.errors.push(e.message)}),this.chunk=this.normalizeInput(e),this.file=i,this.type=this.constructor.type,this.globalOptions=this.options=t,this.localOptions=t[this.type],this.canTranslate=this.localOptions&&this.localOptions.translate}translate(){this.canTranslate&&(this.translated=this.translateBlock(this.raw,this.type))}get output(){return this.translated?this.translated:this.raw?Object.fromEntries(this.raw):void 0}translateBlock(e,t){let i=z.get(t),s=V.get(t),n=T.get(t),r=this.options[t],a=r.reviveValues&&!!i,o=r.translateValues&&!!s,h=r.translateKeys&&!!n,l={};for(let[f,u]of e)a&&i.has(f)?u=i.get(f)(u):o&&s.has(f)&&(u=this.translateValue(u,s.get(f))),h&&n.has(f)&&(f=n.get(f)||f),l[f]=u;return l}translateValue(e,t){return t[e]||e}assignToOutput(e,t){this.assignObjectToOutput(e,this.constructor.type,t)}assignObjectToOutput(e,t,i){if(this.globalOptions.mergeOutput)return Object.assign(e,i);e[t]?Object.assign(e[t],i):e[t]=i}}function ne(e){return 192===e||194===e||196===e||219===e||221===e||218===e||254===e}function re(e){return e>=224&&e<=239}function ae(e,t){for(let[i,s]of x)if(s.canHandle(e,t))return i}n(se,"headerLength",4),n(se,"type",void 0),n(se,"multiSegment",!1),n(se,"canHandle",()=>!1);class oe extends ie{constructor(...e){super(...e),n(this,"appSegments",[]),n(this,"jpegSegments",[]),n(this,"unknownSegments",[])}static canHandle(e,t){return 65496===t}async parse(){await this.findAppSegments(),await this.readSegments(),this.mergeMultiSegments(),this.createParsers()}async readSegments(){let e=this.appSegments.map(this.ensureSegmentChunk);await Promise.all(e)}setupSegmentFinderArgs(e){!0===e?(this.findAll=!0,this.wanted=new Set(x.keyList())):(e=void 0===e?x.keyList().filter(e=>this.options[e].enabled):e.filter(e=>this.options[e].enabled&&x.has(e)),this.findAll=!1,this.remaining=new Set(e),this.wanted=new Set(e)),this.unfinishedMultiSegment=!1}async findAppSegments(e=0,t){this.setupSegmentFinderArgs(t);let{file:i,findAll:s,wanted:n,remaining:r}=this;if(!s&&this.file.chunked&&((s=Array.from(n).some(e=>{let t=x.get(e),i=this.options[e];return t.multiSegment&&i.multiSegment}))&&await this.file.readWhole()),e=this._findAppSegments(e,i.byteLength,s,n,r),!this.options.onlyTiff&&i.chunked){let t=!1;for(;r.size>0&&!t&&(i.canReadNextChunk||this.unfinishedMultiSegment);){let{nextChunkOffset:s}=i,n=this.appSegments.some(e=>!this.file.available(e.offset||e.start,e.length||e.size));if(t=e>s&&!n?!(await i.readNextChunk(e)):!(await i.readNextChunk(s)),void 0===(e=this._findAppSegments(e,i.byteLength)))return}}}_findAppSegments(e,t){t-=2;let i,s,n,r,a,o,{file:h,findAll:l,wanted:f,remaining:u,options:d}=this;for(;e<t;e++)if(255===h.getUint8(e))if(re(i=h.getUint8(e+1))){if(s=h.getUint16(e+2),(n=ae(h,e))&&f.has(n)&&(a=(r=x.get(n)).findPosition(h,e),o=d[n],a.type=n,this.appSegments.push(a),!l&&(r.multiSegment&&o.multiSegment?(this.unfinishedMultiSegment=a.chunkNumber<a.chunkCount,this.unfinishedMultiSegment||u.delete(n)):u.delete(n),0===u.size)))break;d.recordUnknownSegments&&((a=se.findPosition(h,e)).marker=i,this.unknownSegments.push(a)),e+=s+1}else if(ne(i)){if(s=h.getUint16(e+2),218===i&&!1!==d.stopAfterSos)return;d.recordJpegSegments&&this.jpegSegments.push({offset:e,length:s,marker:i}),e+=s+1}return e}mergeMultiSegments(){if(!this.appSegments.some(e=>e.multiSegment))return;let e=function(e,t){let i,s,n,r=new Map;for(let a=0;a<e.length;a++)s=(i=e[a]).type,r.has(s)?n=r.get(s):r.set(s,n=[]),n.push(i);return Array.from(r)}(this.appSegments);this.mergedAppSegments=e.map(([e,t])=>{let i=x.get(e,this.options);return i.handleMultiSegments?{type:e,chunk:i.handleMultiSegments(t)}:t[0]})}async createParsers(){let e=this.mergedAppSegments||this.appSegments;for(let t of e){let{type:e,chunk:i}=t;if(!this.options[e].enabled)continue;let s=this.parsers[e];if(s&&s.append);else if(!s){let t=new(x.get(e,this.options))(i,this.options,this.file);this.parsers[e]=t}}}getSegment(e){return this.appSegments.find(t=>t.type===e)}async getOrFindSegment(e){let t=this.getSegment(e);return void 0===t&&(await this.findAppSegments(0,[e]),t=this.getSegment(e)),t}}n(oe,"type","jpeg"),O.set("jpeg",oe);const he=[void 0,1,1,2,4,8,1,1,2,4,8,4,8,4];class le extends se{parseHeader(){var e=this.chunk.getUint16();18761===e?this.le=!0:19789===e&&(this.le=!1),this.chunk.le=this.le,this.headerParsed=!0}parseTags(e,t,i=new Map){let{pick:s,skip:n}=this.options[t],r=(s=new Set(s)).size>0,a=0===n.size,o=this.chunk.getUint16(e);e+=2;for(let h=0;h<o;h++){let o=this.chunk.getUint16(e);if(r){if(s.has(o)&&(i.set(o,this.parseTag(e,o,t)),s.delete(o),0===s.size))break}else!a&&n.has(o)||i.set(o,this.parseTag(e,o,t));e+=12}return i}parseTag(e,t,i){let{chunk:s}=this,n=s.getUint16(e+2),r=s.getUint32(e+4),a=he[n];if(a*r<=4?e+=8:e=s.getUint32(e+8),(n<1||n>13)&&p("Invalid TIFF value type. block: ".concat(i.toUpperCase(),", tag: ").concat(t.toString(16),", type: ").concat(n,", offset ").concat(e)),e>s.byteLength&&p("Invalid TIFF value offset. block: ".concat(i.toUpperCase(),", tag: ").concat(t.toString(16),", type: ").concat(n,", offset ").concat(e," is outside of chunk size ").concat(s.byteLength)),1===n)return s.getUint8Array(e,r);if(2===n)return m(s.getString(e,r));if(7===n)return s.getUint8Array(e,r);if(1===r)return this.parseTagValue(n,e);{let t=new(function(e){switch(n){case 1:return Uint8Array;case 3:return Uint16Array;case 4:return Uint32Array;case 5:return Array;case 6:return Int8Array;case 8:return Int16Array;case 9:return Int32Array;case 10:return Array;case 11:return Float32Array;case 12:return Float64Array;default:return Array}}())(r),i=a;for(let s=0;s<r;s++)t[s]=this.parseTagValue(n,e),e+=i;return t}}parseTagValue(e,t){let{chunk:i}=this;switch(e){case 1:return i.getUint8(t);case 3:return i.getUint16(t);case 4:return i.getUint32(t);case 5:return i.getUint32(t)/i.getUint32(t+4);case 6:return i.getInt8(t);case 8:return i.getInt16(t);case 9:return i.getInt32(t);case 10:return i.getInt32(t)/i.getInt32(t+4);case 11:return i.getFloat(t);case 12:return i.getDouble(t);case 13:return i.getUint32(t);default:p("Invalid tiff type ".concat(e))}}}class fe extends le{static canHandle(e,t){return 225===e.getUint8(t+1)&&1165519206===e.getUint32(t+4)&&0===e.getUint16(t+8)}async parse(){this.parseHeader();let{options:e}=this;return e.ifd0.enabled&&await this.parseIfd0Block(),e.exif.enabled&&await this.safeParse("parseExifBlock"),e.gps.enabled&&await this.safeParse("parseGpsBlock"),e.interop.enabled&&await this.safeParse("parseInteropBlock"),e.ifd1.enabled&&await this.safeParse("parseThumbnailBlock"),this.createOutput()}safeParse(e){let t=this[e]();return void 0!==t.catch&&(t=t.catch(this.handleError)),t}findIfd0Offset(){void 0===this.ifd0Offset&&(this.ifd0Offset=this.chunk.getUint32(4))}findIfd1Offset(){if(void 0===this.ifd1Offset){this.findIfd0Offset();let e=this.chunk.getUint16(this.ifd0Offset),t=this.ifd0Offset+2+12*e;this.ifd1Offset=this.chunk.getUint32(t)}}parseBlock(e,t){let i=new Map;return this[t]=i,this.parseTags(e,t,i),i}async parseIfd0Block(){if(this.ifd0)return;let{file:e}=this;this.findIfd0Offset(),this.ifd0Offset<8&&p("Malformed EXIF data"),!e.chunked&&this.ifd0Offset>e.byteLength&&p("IFD0 offset points to outside of file.\nthis.ifd0Offset: ".concat(this.ifd0Offset,", file.byteLength: ").concat(e.byteLength)),e.tiff&&await e.ensureChunk(this.ifd0Offset,y(this.options));let t=this.parseBlock(this.ifd0Offset,"ifd0");return 0!==t.size?(this.exifOffset=t.get(34665),this.interopOffset=t.get(40965),this.gpsOffset=t.get(34853),this.xmp=t.get(700),this.iptc=t.get(33723),this.icc=t.get(34675),this.options.sanitize&&(t.delete(34665),t.delete(40965),t.delete(34853),t.delete(700),t.delete(33723),t.delete(34675)),t):void 0}async parseExifBlock(){if(this.exif)return;if(this.ifd0||await this.parseIfd0Block(),void 0===this.exifOffset)return;this.file.tiff&&await this.file.ensureChunk(this.exifOffset,y(this.options));let e=this.parseBlock(this.exifOffset,"exif");return this.interopOffset||(this.interopOffset=e.get(40965)),this.makerNote=e.get(37500),this.userComment=e.get(37510),this.options.sanitize&&(e.delete(40965),e.delete(37500),e.delete(37510)),this.unpack(e,41728),this.unpack(e,41729),e}unpack(e,t){let i=e.get(t);i&&1===i.length&&e.set(t,i[0])}async parseGpsBlock(){if(this.gps)return;if(this.ifd0||await this.parseIfd0Block(),void 0===this.gpsOffset)return;let e=this.parseBlock(this.gpsOffset,"gps");return e&&e.has(2)&&e.has(4)&&(e.set("latitude",ue(...e.get(2),e.get(1))),e.set("longitude",ue(...e.get(4),e.get(3)))),e}async parseInteropBlock(){if(!this.interop&&(this.ifd0||await this.parseIfd0Block(),void 0!==this.interopOffset||this.exif||await this.parseExifBlock(),void 0!==this.interopOffset))return this.parseBlock(this.interopOffset,"interop")}async parseThumbnailBlock(e=!1){if(!this.ifd1&&!this.ifd1Parsed&&(!this.options.mergeOutput||e))return this.findIfd1Offset(),this.ifd1Offset>0&&(this.parseBlock(this.ifd1Offset,"ifd1"),this.ifd1Parsed=!0),this.ifd1}async extractThumbnail(){if(this.headerParsed||this.parseHeader(),this.ifd1Parsed||await this.parseThumbnailBlock(!0),void 0===this.ifd1)return;let e=this.ifd1.get(513),t=this.ifd1.get(514);return this.chunk.getUint8Array(e,t)}get image(){return this.ifd0}get thumbnail(){return this.ifd1}createOutput(){let e,t,i,s={};for(t of R)if(!g(e=this[t]))if(i=this.canTranslate?this.translateBlock(e,t):Object.fromEntries(e),this.options.mergeOutput){if("ifd1"===t)continue;Object.assign(s,i)}else s[t]=i;return this.makerNote&&(s.makerNote=this.makerNote),this.userComment&&(s.userComment=this.userComment),s}assignToOutput(e,t){if(this.globalOptions.mergeOutput)Object.assign(e,t);else for(let[i,s]of Object.entries(t))this.assignObjectToOutput(e,i,s)}}function ue(e,t,i,s){var n=e+t/60+i/3600;return"S"!==s&&"W"!==s||(n*=-1),n}n(fe,"type","tiff"),n(fe,"headerLength",10),x.set("tiff",fe);var de=Object.freeze({__proto__:null,default:te,parse:ee,Exifr:$,fileParsers:O,segmentParsers:x,fileReaders:C,tagKeys:T,tagValues:V,tagRevivers:z,createDictionary:L,extendDictionary:D,fetchUrlAsArrayBuffer:U,readBlobAsArrayBuffer:I,chunkedProps:N,otherSegments:M,segments:E,tiffBlocks:R,segmentsAndBlocks:j,tiffExtractables:G,inheritables:_,allFormatters:H,Options:q});const ce={ifd0:!1,ifd1:!1,exif:!1,gps:!1,interop:!1,sanitize:!1,reviveValues:!0,translateKeys:!1,translateValues:!1,mergeOutput:!1},ge=Object.assign({},ce,{firstChunkSize:4e4,gps:[1,2,3,4]}),pe=Object.assign({},ce,{firstChunkSize:4e4,ifd0:[274]}),me=Object.assign({},ce,{tiff:!1,ifd1:!0,mergeOutput:!1});async function ye(e){let t=new $(me);await t.read(e);let i=await t.extractThumbnail();return i&&u?l.from(i):i}async function be(e){let t=await this.thumbnail(e);if(void 0!==t){let e=new Blob([t]);return URL.createObjectURL(e)}}async function Se(e){let t=new $(ge);await t.read(e);let i=await t.parse();if(i&&i.gps){let{latitude:e,longitude:t}=i.gps;return{latitude:e,longitude:t}}}async function we(e){let t=new $(pe);await t.read(e);let i=await t.parse();if(i&&i.ifd0)return i.ifd0[274]}const ke={1:{dimensionSwapped:!1,scaleX:1,scaleY:1,deg:0,rad:0},2:{dimensionSwapped:!1,scaleX:-1,scaleY:1,deg:0,rad:0},3:{dimensionSwapped:!1,scaleX:1,scaleY:1,deg:180,rad:180*Math.PI/180},4:{dimensionSwapped:!1,scaleX:-1,scaleY:1,deg:180,rad:180*Math.PI/180},5:{dimensionSwapped:!0,scaleX:1,scaleY:-1,deg:90,rad:90*Math.PI/180},6:{dimensionSwapped:!0,scaleX:1,scaleY:1,deg:90,rad:90*Math.PI/180},7:{dimensionSwapped:!0,scaleX:1,scaleY:-1,deg:270,rad:270*Math.PI/180},8:{dimensionSwapped:!0,scaleX:1,scaleY:1,deg:270,rad:270*Math.PI/180}};if(e.rotateCanvas=!0,e.rotateCss=!0,"object"==typeof navigator){let t=navigator.userAgent;if(t.includes("iPad")||t.includes("iPhone")){let[i,s,n]=t.match(/OS (\d+)_(\d+)/),r=Number(s)+.1*Number(n);e.rotateCanvas=r<13.4,e.rotateCss=!1}if(t.includes("Chrome/")){let[i,s]=t.match(/Chrome\/(\d+)/);Number(s)>=81&&(e.rotateCanvas=e.rotateCss=!1)}else if(t.includes("Firefox/")){let[i,s]=t.match(/Firefox\/(\d+)/);Number(s)>=77&&(e.rotateCanvas=e.rotateCss=!1)}}async function ve(t){let i=await we(t);return Object.assign({canvas:e.rotateCanvas,css:e.rotateCss},ke[i])}class Oe extends w{constructor(...e){super(...e),n(this,"ranges",new xe),0!==this.byteLength&&this.ranges.add(0,this.byteLength)}_tryExtend(e,t,i){if(0===e&&0===this.byteLength&&i){let e=new DataView(i.buffer||i,i.byteOffset,i.byteLength);this._swapDataView(e)}else{let i=e+t;if(i>this.byteLength){let{dataView:e}=this._extend(i);this._swapDataView(e)}}}_extend(e){let t;t=u?l.allocUnsafe(e):new Uint8Array(e);let i=new DataView(t.buffer,t.byteOffset,t.byteLength);return t.set(new Uint8Array(this.buffer,this.byteOffset,this.byteLength),0),{uintView:t,dataView:i}}subarray(e,t,i=!1){return t=t||this._lengthToEnd(e),i&&this._tryExtend(e,t),this.ranges.add(e,t),super.subarray(e,t)}set(e,t,i=!1){i&&this._tryExtend(t,e.byteLength,e);let s=super.set(e,t);return this.ranges.add(t,s.byteLength),s}async ensureChunk(e,t){this.chunked&&(this.ranges.available(e,t)||await this.readChunk(e,t))}available(e,t){return this.ranges.available(e,t)}}class xe{constructor(){n(this,"list",[])}get length(){return this.list.length}add(e,t,i=0){let s=e+t,n=this.list.filter(t=>Ce(e,t.offset,s)||Ce(e,t.end,s));if(n.length>0){e=Math.min(e,...n.map(e=>e.offset)),t=(s=Math.max(s,...n.map(e=>e.end)))-e;let i=n.shift();i.offset=e,i.length=t,i.end=s,this.list=this.list.filter(e=>!n.includes(e))}else this.list.push({offset:e,length:t,end:s})}available(e,t){let i=e+t;return this.list.some(t=>t.offset<=e&&i<=t.end)}}function Ce(e,t,i){return e<=t&&t<=i}class Ae extends Oe{constructor(e,t){super(0),n(this,"chunksRead",0),this.input=e,this.options=t}async readWhole(){this.chunked=!1,await this.readChunk(this.nextChunkOffset)}async readChunked(){this.chunked=!0,await this.readChunk(0,this.options.firstChunkSize)}async readNextChunk(e=this.nextChunkOffset){if(this.fullyRead)return this.chunksRead++,!1;let t=this.options.chunkSize,i=await this.readChunk(e,t);return!!i&&i.byteLength===t}async readChunk(e,t){if(this.chunksRead++,0!==(t=this.safeWrapAddress(e,t)))return this._readChunk(e,t)}safeWrapAddress(e,t){return void 0!==this.size&&e+t>this.size?Math.max(0,this.size-e):t}get nextChunkOffset(){if(0!==this.ranges.list.length)return this.ranges.list[0].length}get canReadNextChunk(){return this.chunksRead<this.options.chunkLimit}get fullyRead(){return void 0!==this.size&&this.nextChunkOffset===this.size}read(){return this.options.chunked?this.readChunked():this.readWhole()}close(){}}C.set("blob",class extends Ae{async readWhole(){this.chunked=!1;let e=await I(this.input);this._swapArrayBuffer(e)}readChunked(){return this.chunked=!0,this.size=this.input.size,super.readChunked()}async _readChunk(e,t){let i=t?e+t:void 0,s=this.input.slice(e,i),n=await I(s);return this.set(n,e,!0)}});var Pe=Object.freeze({__proto__:null,default:de,parse:ee,Exifr:$,fileParsers:O,segmentParsers:x,fileReaders:C,tagKeys:T,tagValues:V,tagRevivers:z,createDictionary:L,extendDictionary:D,fetchUrlAsArrayBuffer:U,readBlobAsArrayBuffer:I,chunkedProps:N,otherSegments:M,segments:E,tiffBlocks:R,segmentsAndBlocks:j,tiffExtractables:G,inheritables:_,allFormatters:H,Options:q,disableAllOptions:ce,gpsOnlyOptions:ge,orientationOnlyOptions:pe,thumbnailOnlyOptions:me,thumbnail:ye,thumbnailUrl:be,gps:Se,orientation:we,rotations:ke,get rotateCanvas(){return e.rotateCanvas},get rotateCss(){return e.rotateCss},rotation:ve});C.set("url",class extends Ae{async readWhole(){this.chunked=!1;let e=await U(this.input);this._swapArrayBuffer(e)}async _readChunk(e,t){let i=t?e+t-1:void 0,s={};(e||i)&&(s.range="bytes=".concat([e,i].join("-")));let n=await fetch(this.input,{headers:s}),r=await n.arrayBuffer(),a=r.byteLength;if(416!==n.status)return a!==t&&(this.size=e+a),this.set(r,e,!0)}}),w.prototype.getUint64=function(e){let t=this.getUint32(e),i=this.getUint32(e+4);return t<1048575?t<<32|i:void 0!==typeof f?(console.warn("Using BigInt because of type 64uint but JS can only handle 53b numbers."),f(t)<<f(32)|f(i)):void p("Trying to read 64b value but JS can only handle 53b numbers.")};class Be extends ie{parseBoxes(e=0){let t=[];for(;e<this.file.byteLength-4;){let i=this.parseBoxHead(e);if(t.push(i),0===i.length)break;e+=i.length}return t}parseSubBoxes(e){e.boxes=this.parseBoxes(e.start)}findBox(e,t){return void 0===e.boxes&&this.parseSubBoxes(e),e.boxes.find(e=>e.kind===t)}parseBoxHead(e){let t=this.file.getUint32(e),i=this.file.getString(e+4,4),s=e+8;return 1===t&&(t=this.file.getUint64(e+8),s+=8),{offset:e,length:t,kind:i,start:s}}parseBoxFullHead(e){let t=this.file.getUint32(e.start);e.version=t>>24,e.start+=4}}class Ue extends Be{static canHandle(e){if(0!==e.getUint16(0))return!1;let t=e.getUint16(2);if(t>50)return!1;let i=16,s=[];for(;i<t;)s.push(e.getString(i,4)),i+=4;return s.includes("heic")}async parse(){let e=this.file.getUint32(0),t=this.parseBoxHead(e);for(;"meta"!==t.kind;)e+=t.length,t=this.parseBoxHead(e);await this.file.ensureChunk(t.offset,t.length),this.parseBoxFullHead(t),this.parseSubBoxes(t),this.options.icc.enabled&&await this.findIcc(t),this.options.tiff.enabled&&await this.findExif(t)}async registerSegment(e,t,i){await this.file.ensureChunk(t,i);let s=this.file.subarray(t,i);this.createParser(e,s)}async findIcc(e){let t=this.findBox(e,"iprp");if(void 0===t)return;let i=this.findBox(t,"ipco");if(void 0===i)return;let s=this.findBox(i,"colr");void 0!==s&&await this.registerSegment("icc",s.offset+12,s.length)}async findExif(e){let t=this.findBox(e,"iinf");if(void 0===t)return;let i=this.findBox(e,"iloc");if(void 0===i)return;let s=this.findExifLocIdInIinf(t),n=this.findExtentInIloc(i,s);if(void 0===n)return;let[r,a]=n;await this.file.ensureChunk(r,a);let o=4+this.file.getUint32(r);r+=o,a-=o,await this.registerSegment("tiff",r,a)}findExifLocIdInIinf(e){this.parseBoxFullHead(e);let t,i,s,n,r=e.start,a=this.file.getUint16(r);for(r+=2;a--;){if(t=this.parseBoxHead(r),this.parseBoxFullHead(t),i=t.start,t.version>=2&&(s=3===t.version?4:2,"Exif"===(n=this.file.getString(i+s+2,4))))return this.file.getUintBytes(i,s);r+=t.length}}get8bits(e){let t=this.file.getUint8(e);return[t>>4,15&t]}findExtentInIloc(e,t){this.parseBoxFullHead(e);let i=e.start,[s,n]=this.get8bits(i++),[r,a]=this.get8bits(i++),o=2===e.version?4:2,h=1===e.version||2===e.version?2:0,l=a+s+n,f=2===e.version?4:2,u=this.file.getUintBytes(i,f);for(i+=f;u--;){let e=this.file.getUintBytes(i,o);i+=o+h+2+r;let f=this.file.getUint16(i);if(i+=2,e===t)return f>1&&console.warn("ILOC box has more than one extent but we're only processing one\nPlease create an issue at https://github.com/MikeKovarik/exifr with this file"),[this.file.getUintBytes(i+a,s),this.file.getUintBytes(i+a+s,n)];i+=f*l}}}n(Ue,"type","heic"),O.set("heic",Ue),L(T,["ifd0","ifd1"],[[256,"ImageWidth"],[257,"ImageHeight"],[258,"BitsPerSample"],[259,"Compression"],[262,"PhotometricInterpretation"],[270,"ImageDescription"],[271,"Make"],[272,"Model"],[273,"StripOffsets"],[274,"Orientation"],[277,"SamplesPerPixel"],[278,"RowsPerStrip"],[279,"StripByteCounts"],[282,"XResolution"],[283,"YResolution"],[284,"PlanarConfiguration"],[296,"ResolutionUnit"],[301,"TransferFunction"],[305,"Software"],[306,"ModifyDate"],[315,"Artist"],[316,"HostComputer"],[317,"Predictor"],[318,"WhitePoint"],[319,"PrimaryChromaticities"],[513,"ThumbnailOffset"],[514,"ThumbnailLength"],[529,"YCbCrCoefficients"],[530,"YCbCrSubSampling"],[531,"YCbCrPositioning"],[532,"ReferenceBlackWhite"],[700,"ApplicationNotes"],[33432,"Copyright"],[33723,"IPTC"],[34665,"ExifIFD"],[34675,"ICC"],[34853,"GpsIFD"],[330,"SubIFD"],[40965,"InteropIFD"],[40091,"XPTitle"],[40092,"XPComment"],[40093,"XPAuthor"],[40094,"XPKeywords"],[40095,"XPSubject"]]),L(T,"exif",[[33434,"ExposureTime"],[33437,"FNumber"],[34850,"ExposureProgram"],[34852,"SpectralSensitivity"],[34855,"ISO"],[34858,"TimeZoneOffset"],[34859,"SelfTimerMode"],[34864,"SensitivityType"],[34865,"StandardOutputSensitivity"],[34866,"RecommendedExposureIndex"],[34867,"ISOSpeed"],[34868,"ISOSpeedLatitudeyyy"],[34869,"ISOSpeedLatitudezzz"],[36864,"ExifVersion"],[36867,"DateTimeOriginal"],[36868,"CreateDate"],[36873,"GooglePlusUploadCode"],[36880,"OffsetTime"],[36881,"OffsetTimeOriginal"],[36882,"OffsetTimeDigitized"],[37121,"ComponentsConfiguration"],[37122,"CompressedBitsPerPixel"],[37377,"ShutterSpeedValue"],[37378,"ApertureValue"],[37379,"BrightnessValue"],[37380,"ExposureCompensation"],[37381,"MaxApertureValue"],[37382,"SubjectDistance"],[37383,"MeteringMode"],[37384,"LightSource"],[37385,"Flash"],[37386,"FocalLength"],[37393,"ImageNumber"],[37394,"SecurityClassification"],[37395,"ImageHistory"],[37396,"SubjectArea"],[37500,"MakerNote"],[37510,"UserComment"],[37520,"SubSecTime"],[37521,"SubSecTimeOriginal"],[37522,"SubSecTimeDigitized"],[37888,"AmbientTemperature"],[37889,"Humidity"],[37890,"Pressure"],[37891,"WaterDepth"],[37892,"Acceleration"],[37893,"CameraElevationAngle"],[40960,"FlashpixVersion"],[40961,"ColorSpace"],[40962,"ExifImageWidth"],[40963,"ExifImageHeight"],[40964,"RelatedSoundFile"],[41483,"FlashEnergy"],[41486,"FocalPlaneXResolution"],[41487,"FocalPlaneYResolution"],[41488,"FocalPlaneResolutionUnit"],[41492,"SubjectLocation"],[41493,"ExposureIndex"],[41495,"SensingMethod"],[41728,"FileSource"],[41729,"SceneType"],[41730,"CFAPattern"],[41985,"CustomRendered"],[41986,"ExposureMode"],[41987,"WhiteBalance"],[41988,"DigitalZoomRatio"],[41989,"FocalLengthIn35mmFormat"],[41990,"SceneCaptureType"],[41991,"GainControl"],[41992,"Contrast"],[41993,"Saturation"],[41994,"Sharpness"],[41996,"SubjectDistanceRange"],[42016,"ImageUniqueID"],[42032,"OwnerName"],[42033,"SerialNumber"],[42034,"LensInfo"],[42035,"LensMake"],[42036,"LensModel"],[42037,"LensSerialNumber"],[42080,"CompositeImage"],[42081,"CompositeImageCount"],[42082,"CompositeImageExposureTimes"],[42240,"Gamma"],[59932,"Padding"],[59933,"OffsetSchema"],[65e3,"OwnerName"],[65001,"SerialNumber"],[65002,"Lens"],[65100,"RawFile"],[65101,"Converter"],[65102,"WhiteBalance"],[65105,"Exposure"],[65106,"Shadows"],[65107,"Brightness"],[65108,"Contrast"],[65109,"Saturation"],[65110,"Sharpness"],[65111,"Smoothness"],[65112,"MoireFilter"],[40965,"InteropIFD"]]),L(T,"gps",[[0,"GPSVersionID"],[1,"GPSLatitudeRef"],[2,"GPSLatitude"],[3,"GPSLongitudeRef"],[4,"GPSLongitude"],[5,"GPSAltitudeRef"],[6,"GPSAltitude"],[7,"GPSTimeStamp"],[8,"GPSSatellites"],[9,"GPSStatus"],[10,"GPSMeasureMode"],[11,"GPSDOP"],[12,"GPSSpeedRef"],[13,"GPSSpeed"],[14,"GPSTrackRef"],[15,"GPSTrack"],[16,"GPSImgDirectionRef"],[17,"GPSImgDirection"],[18,"GPSMapDatum"],[19,"GPSDestLatitudeRef"],[20,"GPSDestLatitude"],[21,"GPSDestLongitudeRef"],[22,"GPSDestLongitude"],[23,"GPSDestBearingRef"],[24,"GPSDestBearing"],[25,"GPSDestDistanceRef"],[26,"GPSDestDistance"],[27,"GPSProcessingMethod"],[28,"GPSAreaInformation"],[29,"GPSDateStamp"],[30,"GPSDifferential"],[31,"GPSHPositioningError"]]),L(V,["ifd0","ifd1"],[[274,{1:"Horizontal (normal)",2:"Mirror horizontal",3:"Rotate 180",4:"Mirror vertical",5:"Mirror horizontal and rotate 270 CW",6:"Rotate 90 CW",7:"Mirror horizontal and rotate 90 CW",8:"Rotate 270 CW"}],[296,{1:"None",2:"inches",3:"cm"}]]);let Ie=L(V,"exif",[[34850,{0:"Not defined",1:"Manual",2:"Normal program",3:"Aperture priority",4:"Shutter priority",5:"Creative program",6:"Action program",7:"Portrait mode",8:"Landscape mode"}],[37121,{0:"-",1:"Y",2:"Cb",3:"Cr",4:"R",5:"G",6:"B"}],[37383,{0:"Unknown",1:"Average",2:"CenterWeightedAverage",3:"Spot",4:"MultiSpot",5:"Pattern",6:"Partial",255:"Other"}],[37384,{0:"Unknown",1:"Daylight",2:"Fluorescent",3:"Tungsten (incandescent light)",4:"Flash",9:"Fine weather",10:"Cloudy weather",11:"Shade",12:"Daylight fluorescent (D 5700 - 7100K)",13:"Day white fluorescent (N 4600 - 5400K)",14:"Cool white fluorescent (W 3900 - 4500K)",15:"White fluorescent (WW 3200 - 3700K)",17:"Standard light A",18:"Standard light B",19:"Standard light C",20:"D55",21:"D65",22:"D75",23:"D50",24:"ISO studio tungsten",255:"Other"}],[37385,{0:"Flash did not fire",1:"Flash fired",5:"Strobe return light not detected",7:"Strobe return light detected",9:"Flash fired, compulsory flash mode",13:"Flash fired, compulsory flash mode, return light not detected",15:"Flash fired, compulsory flash mode, return light detected",16:"Flash did not fire, compulsory flash mode",24:"Flash did not fire, auto mode",25:"Flash fired, auto mode",29:"Flash fired, auto mode, return light not detected",31:"Flash fired, auto mode, return light detected",32:"No flash function",65:"Flash fired, red-eye reduction mode",69:"Flash fired, red-eye reduction mode, return light not detected",71:"Flash fired, red-eye reduction mode, return light detected",73:"Flash fired, compulsory flash mode, red-eye reduction mode",77:"Flash fired, compulsory flash mode, red-eye reduction mode, return light not detected",79:"Flash fired, compulsory flash mode, red-eye reduction mode, return light detected",89:"Flash fired, auto mode, red-eye reduction mode",93:"Flash fired, auto mode, return light not detected, red-eye reduction mode",95:"Flash fired, auto mode, return light detected, red-eye reduction mode"}],[41495,{1:"Not defined",2:"One-chip color area sensor",3:"Two-chip color area sensor",4:"Three-chip color area sensor",5:"Color sequential area sensor",7:"Trilinear sensor",8:"Color sequential linear sensor"}],[41728,{1:"Film Scanner",2:"Reflection Print Scanner",3:"Digital Camera"}],[41729,{1:"Directly photographed"}],[41985,{0:"Normal",1:"Custom",2:"HDR (no original saved)",3:"HDR (original saved)",4:"Original (for HDR)",6:"Panorama",7:"Portrait HDR",8:"Portrait"}],[41986,{0:"Auto",1:"Manual",2:"Auto bracket"}],[41987,{0:"Auto",1:"Manual"}],[41990,{0:"Standard",1:"Landscape",2:"Portrait",3:"Night",4:"Other"}],[41991,{0:"None",1:"Low gain up",2:"High gain up",3:"Low gain down",4:"High gain down"}],[41996,{0:"Unknown",1:"Macro",2:"Close",3:"Distant"}],[42080,{0:"Unknown",1:"Not a Composite Image",2:"General Composite Image",3:"Composite Image Captured While Shooting"}]]);const Fe={1:"No absolute unit of measurement",2:"Inch",3:"Centimeter"};Ie.set(37392,Fe),Ie.set(41488,Fe);const Le={0:"Normal",1:"Low",2:"High"};function De(e){let t=Array.from(e).slice(1);return t[1]>15&&(t=t.map(e=>String.fromCharCode(e))),"0"!==t[2]&&0!==t[2]||t.pop(),t.join(".")}function Te(e){if("string"==typeof e){var[t,i,s,n,r,a]=e.trim().split(/[-: ]/g).map(Number),o=new Date(t,i-1,s);return Number.isNaN(n)||Number.isNaN(r)||Number.isNaN(a)||(o.setHours(n),o.setMinutes(r),o.setSeconds(a)),Number.isNaN(+o)?e:o}}function Ve(e){if("string"==typeof e)return e;let t=[];if(0===e[1]&&0===e[e.length-1])for(let i=0;i<e.length;i+=2)t.push(ze(e[i+1],e[i]));else for(let i=0;i<e.length;i+=2)t.push(ze(e[i],e[i+1]));return m(String.fromCodePoint(...t))}function ze(e,t){return e<<8|t}Ie.set(41992,Le),Ie.set(41993,Le),Ie.set(41994,Le),L(z,["ifd0","ifd1"],[[50827,function(e){return"string"!=typeof e?S(e):e}],[306,Te],[40091,Ve],[40092,Ve],[40093,Ve],[40094,Ve],[40095,Ve]]),L(z,"exif",[[40960,De],[36864,De],[36867,Te],[36868,Te]]),L(z,"gps",[[0,e=>Array.from(e).join(".")],[7,e=>Array.from(e).join(":")]]);class Ne extends se{static canHandle(e,t){return 225===e.getUint8(t+1)&&1752462448===e.getUint32(t+4)&&"http://ns.adobe.com/"===e.getString(t+4,"http://ns.adobe.com/".length)}static headerLength(e,t){return"http://ns.adobe.com/xmp/extension/"===e.getString(t+4,"http://ns.adobe.com/xmp/extension/".length)?79:4+"http://ns.adobe.com/xap/1.0/".length+1}static findPosition(e,t){let i=super.findPosition(e,t);return i.multiSegment=i.extended=79===i.headerLength,i.multiSegment?(i.chunkCount=e.getUint8(t+72),i.chunkNumber=e.getUint8(t+76),0!==e.getUint8(t+77)&&i.chunkNumber++):(i.chunkCount=1/0,i.chunkNumber=-1),i}static handleMultiSegments(e){return e.map(e=>e.chunk.getString()).join("")}normalizeInput(e){return"string"==typeof e?e:e.getString&&e.getString()}parse(e=this.chunk){if(!this.localOptions.parse)return e;e=function(e){let t={"rdf:li":1,"rdf:Seq":1,"rdf:Bag":1,"rdf:Alt":1};return e.replace(Ke,(e,i,s)=>"<"===i?"".concat(e,"#").concat(t[s]++):"".concat(e,"#").concat(--t[s]))}(e);let t=Ee.findAll(e,"rdf","Description");0===t.length&&t.push(new Ee("rdf","Description",void 0,e));let i,s={};for(let n of t)for(let e of n.properties)Re(e,i=_e(e.ns,s));return function(e){let t;for(let i in e)void 0===(t=e[i]=d(e[i]))&&delete e[i];return d(e)}(s)}assignToOutput(e,t){if(this.localOptions.parse)for(let[i,s]of Object.entries(t))switch(i){case"tiff":this.assignObjectToOutput(e,"ifd0",s);break;case"exif":this.assignObjectToOutput(e,"exif",s);break;case"xmlns":break;default:this.assignObjectToOutput(e,i,s)}else e.xmp=t}}n(Ne,"type","xmp"),n(Ne,"multiSegment",!0),x.set("xmp",Ne);class Me{static findAll(e){return He(e,/([a-zA-Z0-9-]+):([a-zA-Z0-9-]+)=("[^"]*"|'[^']*')/gm).map(Me.unpackMatch)}static unpackMatch(e){let t=e[1],i=e[2],s=e[3].slice(1,-1);return s=We(s),new Me(t,i,s)}constructor(e,t,i){this.ns=e,this.name=t,this.value=i}serialize(){return this.value}}class Ee{static findAll(e,t,i){if(void 0!==t||void 0!==i){t=t||"[\\w\\d-]+",i=i||"[\\w\\d-]+";var s=new RegExp("<(".concat(t,"):(").concat(i,")(#\\d+)?((\\s+?[\\w\\d-:]+=(\"[^\"]*\"|'[^']*'))*\\s*)(\\/>|>([\\s\\S]*?)<\\/\\1:\\2\\3>)"),"gm")}else s=/<([\w\d-]+):([\w\d-]+)(#\d+)?((\s+?[\w\d-:]+=("[^"]*"|'[^']*'))*\s*)(\/>|>([\s\S]*?)<\/\1:\2\3>)/gm;return He(e,s).map(Ee.unpackMatch)}static unpackMatch(e){let t=e[1],i=e[2],s=e[4],n=e[8];return new Ee(t,i,s,n)}constructor(e,t,i,s){this.ns=e,this.name=t,this.attrString=i,this.innerXml=s,this.attrs=Me.findAll(i),this.children=Ee.findAll(s),this.value=0===this.children.length?We(s):void 0,this.properties=[...this.attrs,...this.children]}get isPrimitive(){return void 0!==this.value&&0===this.attrs.length&&0===this.children.length}get isListContainer(){return 1===this.children.length&&this.children[0].isList}get isList(){let{ns:e,name:t}=this;return"rdf"===e&&("Seq"===t||"Bag"===t||"Alt"===t)}get isListItem(){return"rdf"===this.ns&&"li"===this.name}serialize(){if(0===this.properties.length&&void 0===this.value)return;if(this.isPrimitive)return this.value;if(this.isListContainer)return this.children[0].serialize();if(this.isList)return Ge(this.children.map(je));if(this.isListItem&&1===this.children.length&&0===this.attrs.length)return this.children[0].serialize();let e={};for(let t of this.properties)Re(t,e);return void 0!==this.value&&(e.value=this.value),d(e)}}function Re(e,t){let i=e.serialize();void 0!==i&&(t[e.name]=i)}var je=e=>e.serialize(),Ge=e=>1===e.length?e[0]:e,_e=(e,t)=>t[e]?t[e]:t[e]={};function He(e,t){let i,s=[];if(!e)return s;for(;null!==(i=t.exec(e));)s.push(i);return s}function We(e){if(function(e){return null==e||"null"===e||"undefined"===e||""===e||""===e.trim()}(e))return;let t=Number(e);if(!Number.isNaN(t))return t;let i=e.toLowerCase();return"true"===i||"false"!==i&&e.trim()}const Ke=/(<|\/)(rdf:li|rdf:Seq|rdf:Bag|rdf:Alt)/g;e.Exifr=$,e.Options=q,e.allFormatters=H,e.chunkedProps=N,e.createDictionary=L,e.default=Pe,e.disableAllOptions=ce,e.extendDictionary=D,e.fetchUrlAsArrayBuffer=U,e.fileParsers=O,e.fileReaders=C,e.gps=Se,e.gpsOnlyOptions=ge,e.inheritables=_,e.orientation=we,e.orientationOnlyOptions=pe,e.otherSegments=M,e.parse=ee,e.readBlobAsArrayBuffer=I,e.rotation=ve,e.rotations=ke,e.segmentParsers=x,e.segments=E,e.segmentsAndBlocks=j,e.tagKeys=T,e.tagRevivers=z,e.tagValues=V,e.thumbnail=ye,e.thumbnailOnlyOptions=me,e.thumbnailUrl=be,e.tiffBlocks=R,e.tiffExtractables=G,Object.defineProperty(e,"__esModule",{value:!0})});
},{"process":"pBGv","buffer":"peL6"}],"wNfc":[function(require,module,exports) {

"use strict";var e=require("@babel/runtime-corejs2/core-js/object/define-property"),r=require("@babel/runtime-corejs2/helpers/interopRequireDefault");e(exports,"__esModule",{value:!0}),exports.updateImageOrientation=m,exports.readExifData=l,exports.orient=d,e(exports,"processImage",{enumerable:!0,get:function(){return i.default}}),e(exports,"detectFileType",{enumerable:!0,get:function(){return o.default}});var t=r(require("@babel/runtime-corejs2/regenerator")),a=r(require("@babel/runtime-corejs2/helpers/asyncToGenerator")),n=r(require("@babel/runtime-corejs2/core-js/promise")),i=r(require("./process-image")),o=r(require("./detect-filetype")),u=require("safe-buffer"),s=u.Buffer,f=require("exifr/dist/lite.umd"),c=f.parse;function m(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new n.default(function(r){var t=new FileReader;t.readAsArrayBuffer(e),t.onload=function(){var e=t.result,a=s.from(e);r(a)}}).then(function(t){return r.shouldNotAddExifData?t:l(e,t)})}function l(e,r){return p.apply(this,arguments)}function p(){return(p=(0,a.default)(t.default.mark(function e(r,a){var n,i,o,u;return t.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!r||"image/jpeg"!==r.type&&"image/jpeg"!==r.mimeType){e.next=5;break}return e.next=3,c(a,{translateValues:!1});case 3:(n=e.sent)&&(i=n.Orientation,o=n.ExifImageHeight,u=n.ExifImageWidth,r.orientation=i,r.exifHeight=o,r.exifWidth=u,r.image&&(r.image.orientation=i));case 5:return e.abrupt("return",a);case 6:case"end":return e.stop()}},e)}))).apply(this,arguments)}function d(e,r){var t=e.width,a=e.height,n=e.ctx,i=e.img,o=e.orientation,u=e.x,s=e.y;if(r&&r.orientation&&1!==r.orientation)switch(o){case 2:n.transform(-1,0,0,1,t,0);break;case 3:n.transform(-1,0,0,-1,t,a);break;case 4:n.transform(1,0,0,-1,0,a);break;case 5:n.transform(0,1,1,0,0,0);break;case 6:n.transform(0,1,-1,0,a,0);break;case 7:n.transform(0,-1,-1,0,a,t);break;case 8:n.transform(0,-1,1,0,0,t)}n.drawImage(i,u,s,t,a)}
},{"@babel/runtime-corejs2/core-js/object/define-property":"eIqn","@babel/runtime-corejs2/helpers/interopRequireDefault":"LXwi","@babel/runtime-corejs2/regenerator":"i9LV","@babel/runtime-corejs2/helpers/asyncToGenerator":"OYLD","@babel/runtime-corejs2/core-js/promise":"eOfj","./process-image":"vlyv","./detect-filetype":"JrBD","safe-buffer":"Wugr","exifr/dist/lite.umd":"ux2U"}],"bhCy":[function(require,module,exports) {
var e,r,o=require("./lib/rng"),s=require("./lib/bytesToUuid"),i=0,n=0;function c(c,l,u){var v=l&&u||0,a=l||[],d=(c=c||{}).node||e,t=void 0!==c.clockseq?c.clockseq:r;if(null==d||null==t){var m=o();null==d&&(d=e=[1|m[0],m[1],m[2],m[3],m[4],m[5]]),null==t&&(t=r=16383&(m[6]<<8|m[7]))}var q=void 0!==c.msecs?c.msecs:(new Date).getTime(),f=void 0!==c.nsecs?c.nsecs:n+1,b=q-i+(f-n)/1e4;if(b<0&&void 0===c.clockseq&&(t=t+1&16383),(b<0||q>i)&&void 0===c.nsecs&&(f=0),f>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");i=q,n=f,r=t;var k=(1e4*(268435455&(q+=122192928e5))+f)%4294967296;a[v++]=k>>>24&255,a[v++]=k>>>16&255,a[v++]=k>>>8&255,a[v++]=255&k;var w=q/4294967296*1e4&268435455;a[v++]=w>>>8&255,a[v++]=255&w,a[v++]=w>>>24&15|16,a[v++]=w>>>16&255,a[v++]=t>>>8|128,a[v++]=255&t;for(var g=0;g<6;++g)a[v+g]=d[g];return l||s(a)}module.exports=c;
},{"./lib/rng":"j3Do","./lib/bytesToUuid":"HSap"}],"tv1V":[function(require,module,exports) {
var r=require("./lib/rng"),n=require("./lib/bytesToUuid");function e(e,i,u){var a=i&&u||0;"string"==typeof e&&(i="binary"===e?new Array(16):null,e=null);var l=(e=e||{}).random||(e.rng||r)();if(l[6]=15&l[6]|64,l[8]=63&l[8]|128,i)for(var o=0;o<16;++o)i[a+o]=l[o];return i||n(l)}module.exports=e;
},{"./lib/rng":"j3Do","./lib/bytesToUuid":"HSap"}],"WpaS":[function(require,module,exports) {
var e=require("./v1"),r=require("./v4"),v=r;v.v1=e,v.v4=r,module.exports=v;
},{"./v1":"bhCy","./v4":"tv1V"}],"NKbL":[function(require,module,exports) {
"use strict";var e=require("@babel/runtime-corejs2/core-js/reflect/construct"),r=require("@babel/runtime-corejs2/core-js/object/define-property"),t=require("@babel/runtime-corejs2/helpers/interopRequireDefault");r(exports,"__esModule",{value:!0}),exports.InvalidUserCreation=exports.ConversationError=void 0;var n=t(require("@babel/runtime-corejs2/helpers/classCallCheck")),o=t(require("@babel/runtime-corejs2/helpers/inherits")),u=t(require("@babel/runtime-corejs2/helpers/possibleConstructorReturn")),i=t(require("@babel/runtime-corejs2/helpers/getPrototypeOf")),s=require("@webex/common");function a(r){var t=l();return function(){var n,o=(0,i.default)(r);if(t){var s=(0,i.default)(this).constructor;n=e(o,arguments,s)}else n=o.apply(this,arguments);return(0,u.default)(this,n)}}function l(){if("undefined"==typeof Reflect||!e)return!1;if(e.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(e(Boolean,[],function(){})),!0}catch(r){return!1}}var c=function(e){(0,o.default)(t,e);var r=a(t);function t(){return(0,n.default)(this,t),r.apply(this,arguments)}return t}(s.Exception);exports.ConversationError=c;var f=function(e){(0,o.default)(t,e);var r=a(t);function t(){return(0,n.default)(this,t),r.apply(this,arguments)}return t}(c);exports.InvalidUserCreation=f;
},{"@babel/runtime-corejs2/core-js/reflect/construct":"vZQy","@babel/runtime-corejs2/core-js/object/define-property":"eIqn","@babel/runtime-corejs2/helpers/interopRequireDefault":"LXwi","@babel/runtime-corejs2/helpers/classCallCheck":"Tzth","@babel/runtime-corejs2/helpers/inherits":"CdTE","@babel/runtime-corejs2/helpers/possibleConstructorReturn":"w9GY","@babel/runtime-corejs2/helpers/getPrototypeOf":"Qxr1","@webex/common":"UeF0"}],"uifF":[function(require,module,exports) {
var r=require("./_baseEach");function e(e,n){var u;return r(e,function(r,e,t){return!(u=n(r,e,t))}),!!u}module.exports=e;
},{"./_baseEach":"z7ms"}],"cg6j":[function(require,module,exports) {
var e=require("./_arraySome"),r=require("./_baseIteratee"),a=require("./_baseSome"),i=require("./isArray"),u=require("./_isIterateeCall");function t(t,o,q){var s=i(t)?e:a;return q&&u(t,o,q)&&(o=void 0),s(t,r(o,3))}module.exports=t;
},{"./_arraySome":"SfCF","./_baseIteratee":"lW7l","./_baseSome":"uifF","./isArray":"p0cq","./_isIterateeCall":"R62e"}],"jlll":[function(require,module,exports) {
var r=require("./_baseEach");function e(e,u){var n=[];return r(e,function(r,e,a){u(r,e,a)&&n.push(r)}),n}module.exports=e;
},{"./_baseEach":"z7ms"}],"FnLS":[function(require,module,exports) {
var r=require("./_arrayFilter"),e=require("./_baseFilter"),i=require("./_baseIteratee"),a=require("./isArray");function t(t,u){return(a(t)?r:e)(t,i(u,3))}module.exports=t;
},{"./_arrayFilter":"uvMU","./_baseFilter":"jlll","./_baseIteratee":"lW7l","./isArray":"p0cq"}],"EpkU":[function(require,module,exports) {
"use strict";var e=require("@babel/runtime-corejs2/core-js/array/from"),t=require("@babel/runtime-corejs2/core-js/symbol"),r=require("@babel/runtime-corejs2/core-js/symbol/iterator"),n=require("@babel/runtime-corejs2/core-js/array/is-array"),i=require("@babel/runtime-corejs2/core-js/object/define-property"),o=require("@babel/runtime-corejs2/helpers/interopRequireDefault");i(exports,"__esModule",{value:!0}),exports.default=exports.FILE_SYMBOL=exports.EMITTER_SYMBOL=void 0;var a=o(require("@babel/runtime-corejs2/core-js/symbol")),l=o(require("@babel/runtime-corejs2/core-js/map")),u=o(require("@babel/runtime-corejs2/core-js/reflect/apply")),s=o(require("@babel/runtime-corejs2/core-js/promise")),c=o(require("@babel/runtime-corejs2/core-js/object/assign")),d=o(require("@babel/runtime-corejs2/core-js/reflect/delete-property")),f=o(require("@babel/runtime-corejs2/helpers/slicedToArray")),h=o(require("@babel/runtime-corejs2/helpers/defineProperty")),p=o(require("lodash/some")),m=o(require("lodash/pick")),b=o(require("lodash/map")),v=o(require("lodash/filter")),y=require("events"),g=o(require("node-scr")),j=require("@webex/common"),q=require("@webex/webex-core"),w=require("@webex/helper-image"),x=o(require("crypto-js/sha256"));function T(e,i){var o=void 0!==t&&e[r]||e["@@iterator"];if(!o){if(n(e)||(o=S(e))||i&&e&&"number"==typeof e.length){o&&(e=o);var a=0,l=function(){};return{s:l,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:l}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var u,s=!0,c=!1;return{s:function(){o=o.call(e)},n:function(){var e=o.next();return s=e.done,e},e:function(e){c=!0,u=e},f:function(){try{s||null==o.return||o.return()}finally{if(c)throw u}}}}function S(t,r){if(t){if("string"==typeof t)return _(t,r);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?e(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_(t,r):void 0}}function _(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var U=(0,a.default)("EMITTER_SYMBOL");exports.EMITTER_SYMBOL=U;var M=(0,a.default)("FILE_SYMBOL");exports.FILE_SYMBOL=M;var E=(0,a.default)("PROMISE_SYMBOL"),I=q.WebexPlugin.extend({getSymbols:function(){return{file:M,emitter:U}},namespace:"Conversation",derived:{target:{deps:["conversation"],fn:function(){return this.conversation}}},session:{conversation:{required:!0,type:"object"},content:"string",clientTempId:"string",displayName:"string",enableThumbnails:{default:!0,type:"boolean"},hiddenSpaceUrl:"object",mentions:"object",spaceUrl:"object",uploads:{type:"object",default:function(){return new l.default}}},initialize:function(e,t){(0,u.default)(q.WebexPlugin.prototype.initialize,this,[e,t]),e&&e.conversation&&(this.spaceUrl=s.default.resolve(e.conversation._spaceUrl||this._retrieveSpaceUrl("".concat(e.conversation.url,"/space")).then(function(t){return e.conversation._spaceUrl=t,t})),this.hiddenSpaceUrl=s.default.resolve(e.conversation._hiddenSpaceUrl||this._retrieveSpaceUrl("".concat(e.conversation.url,"/space/hidden")).then(function(t){return e.conversation._hiddenSpaceUrl=t,t})))},addGif:function(e,t){var r=this.uploads.get(e);return r?s.default.resolve():(r=(0,c.default)((0,h.default)({displayName:e.name,fileSize:e.size||e.byteLength||e.length,mimeType:e.type,url:"https://giphy.com",objectType:"file",height:e.height,width:e.width,image:{height:e.image.height,width:e.image.width,url:"https://giphy.com"}},M,e),(0,m.default)(t,"actions")),this.uploads.set(e,r),g.default.create().then(function(t){return t.loc=e.url,r.scr=t,g.default.create()}).then(function(t){t.loc=e.image.url,r.image.scr=t}))},add:function(e,t){var r,n=this;t=t||{};var i=this.uploads.get(e);if(i)return i[E];var o=new y.EventEmitter;i=(0,c.default)((r={displayName:e.name,fileSize:e.size||e.byteLength||e.length,mimeType:e.type,objectType:"file"},(0,h.default)(r,U,o),(0,h.default)(r,M,e),r),(0,m.default)(t,"actions")),this.uploads.set(e,i);var a=(0,w.detectFileType)(e,this.logger).then(function(t){return i.mimeType=t,(0,w.processImage)({file:e,type:t,thumbnailMaxWidth:n.config.thumbnailMaxWidth,thumbnailMaxHeight:n.config.thumbnailMaxHeight,enableThumbnails:n.enableThumbnails,logger:n.logger})}).then(function(r){var a,l=n.webex.internal.encryption.encryptBinary(e).then(function(e){var t=e.scr,r=e.cdata;return i.scr=t,s.default.all([r,n.spaceUrl])}).then(function(e){var r=(0,f.default)(e,2),i=r[0],a=r[1],l=n._upload(i,"".concat(a,"/upload_sessions"),t);return(0,j.transferEvents)("progress",l,o),l}).then(function(e){i.url=i.scr.loc=e.downloadUrl});if(r){var u=(0,f.default)(r,3),d=u[0],h=u[1],p=u[2];(0,c.default)(i,h),d&&p&&(i.image=p,a=n.webex.internal.encryption.encryptBinary(d).then(function(e){var t=e.scr,r=e.cdata;return i.image.scr=t,s.default.all([r,n.hiddenSpaceUrl])}).then(function(e){var t=(0,f.default)(e,2),r=t[0],i=t[1];return n._upload(r,"".concat(i,"/upload_sessions"))}).then(function(e){i.image.url=i.image.scr.loc=e.downloadUrl}))}return s.default.all([l,a])});return i[E]=a,(0,j.proxyEvents)(o,a),a},getFiles:function(){var e,t=[],r=T(this.uploads);try{for(r.s();!(e=r.n()).done;){var n=(0,f.default)(e.value,1)[0];t.push(this.uploads.get(n)[M])}}catch(i){r.e(i)}finally{r.f()}return t},_upload:function(e,t,r){var n=e.length||e.size||e.byteLength,i=(0,x.default)(e).toString(),o=(null!=r?r:{}).role,a=(0,c.default)({fileSize:n},o&&{role:o});return this.webex.upload({uri:t,file:e,qs:{transcode:!0},phases:{initialize:{body:a},upload:{$url:function(e){return e.uploadUrl}},finalize:{$uri:function(e){return e.finishUploadUrl},body:{fileSize:n,fileHash:i}}}})},remove:function(e){return this.uploads.delete(e),s.default.resolve()},prepare:function(){if(!this.uploads.size)throw new Error("Cannot submit a share activity without atleast one file");var e={verb:"share",object:{objectType:"content",displayName:this.object&&this.object.displayName?this.object.displayName:void 0,content:this.object&&this.object.content?this.object.content:void 0,mentions:this.object&&this.object.mentions?this.object.mentions:void 0,files:{items:[]}},clientTempId:this.clientTempId},t=[];return this.uploads.forEach(function(r){e.object.files.items.push(r),t.push(r[E])}),e.object.contentCategory=this._determineContentCategory(e.object.files.items),s.default.all(t).then(function(){return e})},_itemContainsActionWithMimeType:function(e,t){return(0,p.default)(e.map(function(e){return(0,p.default)(e.actions,{mimeType:t})}))},_determineContentCategory:function(e){if(this._itemContainsActionWithMimeType(e,"application/x-cisco-webex-whiteboard"))return"documents";var t=(0,v.default)((0,b.default)(e,"mimeType"));if(t.length!==e.length)return"documents";var r=t[0].split("/").shift();if("video"!==r&&"image"!==r)return"documents";var n,i=T(t);try{for(i.s();!(n=i.n()).done;){if(n.value.split("/").shift()!==r)return"documents"}}catch(o){i.e(o)}finally{i.f()}return"".concat(r,"s")},_retrieveSpaceUrl:function(e){return this.webex.request({method:"PUT",uri:e}).then(function(e){return e.body.spaceUrl})},version:"1.150.0"});I.create=function(e,t,r){var n,i,o,a;if(t instanceof I)return t;null!=t&&null!==(n=t.object)&&void 0!==n&&n.files&&(a=t.object.files,(0,d.default)(t.object,"files"));var l=new I((0,c.default)({conversation:e},t),{parent:r});return(a=null!==(i=null===(o=a)||void 0===o?void 0:o.items)&&void 0!==i?i:a)&&a.forEach(function(e){return l.add(e)}),l};var L=I;exports.default=L;
},{"@babel/runtime-corejs2/core-js/array/from":"ybNn","@babel/runtime-corejs2/core-js/symbol":"mr6k","@babel/runtime-corejs2/core-js/symbol/iterator":"uGl8","@babel/runtime-corejs2/core-js/array/is-array":"BpbX","@babel/runtime-corejs2/core-js/object/define-property":"eIqn","@babel/runtime-corejs2/helpers/interopRequireDefault":"LXwi","@babel/runtime-corejs2/core-js/map":"y6NN","@babel/runtime-corejs2/core-js/reflect/apply":"Lf7Q","@babel/runtime-corejs2/core-js/promise":"eOfj","@babel/runtime-corejs2/core-js/object/assign":"h2Mz","@babel/runtime-corejs2/core-js/reflect/delete-property":"CFlp","@babel/runtime-corejs2/helpers/slicedToArray":"vwJD","@babel/runtime-corejs2/helpers/defineProperty":"n5FU","lodash/some":"cg6j","lodash/pick":"N5Tq","lodash/map":"vGW8","lodash/filter":"FnLS","events":"FRpO","node-scr":"udAx","@webex/common":"UeF0","@webex/webex-core":"bqGz","@webex/helper-image":"wNfc","crypto-js/sha256":"A0uM"}],"urtK":[function(require,module,exports) {
function r(r,e){var o=r.length;for(r.sort(e);o--;)r[o]=r[o].value;return r}module.exports=r;
},{}],"qW88":[function(require,module,exports) {
var r=require("./isSymbol");function i(i,u){if(i!==u){var e=void 0!==i,n=null===i,l=i==i,o=r(i),t=void 0!==u,f=null===u,v=u==u,d=r(u);if(!f&&!d&&!o&&i>u||o&&t&&v&&!f&&!d||n&&t&&v||!e&&v||!l)return 1;if(!n&&!o&&!d&&i<u||d&&e&&l&&!n&&!o||f&&e&&l||!t&&l||!v)return-1}return 0}module.exports=i;
},{"./isSymbol":"bgO7"}],"X7Fw":[function(require,module,exports) {
var r=require("./_compareAscending");function e(e,i,n){for(var t=-1,a=e.criteria,c=i.criteria,d=a.length,o=n.length;++t<d;){var u=r(a[t],c[t]);if(u)return t>=o?u:u*("desc"==n[t]?-1:1)}return e.index-i.index}module.exports=e;
},{"./_compareAscending":"qW88"}],"NGIR":[function(require,module,exports) {
var r=require("./_arrayMap"),e=require("./_baseGet"),u=require("./_baseIteratee"),n=require("./_baseMap"),t=require("./_baseSortBy"),i=require("./_baseUnary"),a=require("./_compareMultiple"),o=require("./identity"),q=require("./isArray");function c(c,s,_){s=s.length?r(s,function(r){return q(r)?function(u){return e(u,1===r.length?r[0]:r)}:r}):[o];var f=-1;s=r(s,i(u));var l=n(c,function(e,u,n){return{criteria:r(s,function(r){return r(e)}),index:++f,value:e}});return t(l,function(r,e){return a(r,e,_)})}module.exports=c;
},{"./_arrayMap":"BblM","./_baseGet":"yeiR","./_baseIteratee":"lW7l","./_baseMap":"wrrS","./_baseSortBy":"urtK","./_baseUnary":"PnXa","./_compareMultiple":"X7Fw","./identity":"Jpv1","./isArray":"p0cq"}],"JXMh":[function(require,module,exports) {
var e=require("./_baseFlatten"),r=require("./_baseOrderBy"),t=require("./_baseRest"),u=require("./_isIterateeCall"),a=t(function(t,a){if(null==t)return[];var i=a.length;return i>1&&u(t,a[0],a[1])?a=[]:i>2&&u(a[0],a[1],a[2])&&(a=[a[0]]),r(t,e(a,1),[])});module.exports=a;
},{"./_baseFlatten":"cZtZ","./_baseOrderBy":"NGIR","./_baseRest":"f4Fl","./_isIterateeCall":"R62e"}],"fGTh":[function(require,module,exports) {
"use strict";var e=require("@babel/runtime-corejs2/core-js/object/keys"),t=require("@babel/runtime-corejs2/core-js/object/get-own-property-symbols"),r=require("@babel/runtime-corejs2/core-js/object/get-own-property-descriptor"),i=require("@babel/runtime-corejs2/core-js/object/get-own-property-descriptors"),o=require("@babel/runtime-corejs2/core-js/object/define-properties"),n=require("@babel/runtime-corejs2/core-js/object/define-property"),s=require("@babel/runtime-corejs2/helpers/interopRequireDefault");n(exports,"__esModule",{value:!0}),exports.createReplyEditActivity=exports.createEditActivity=exports.createReplyActivity=exports.createRootActivity=exports.determineActivityType=exports.getIsActivityOrphaned=exports.sanitizeActivity=exports.isDeleteActivity=exports.isCreateActivity=exports.isEditActivity=exports.isReplyActivity=exports.isRootActivity=exports.getParentId=exports.sortActivitiesByPublishedDate=exports.isNewer=exports.getPublishedDate=exports.getActivityType=exports.ACTIVITY_TYPES=exports.INITIAL=exports.MID=exports.NEWER=exports.OLDER=void 0;var a=s(require("@babel/runtime-corejs2/helpers/defineProperty")),p=s(require("lodash/sortBy"));function c(i,o){var n=e(i);if(t){var s=t(i);o&&(s=s.filter(function(e){return r(i,e).enumerable})),n.push.apply(n,s)}return n}function u(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?c(Object(s),!0).forEach(function(t){(0,a.default)(e,t,s[t])}):i?o(e,i(s)):c(Object(s)).forEach(function(t){n(e,t,r(s,t))})}return e}var v="older";exports.OLDER=v;var E="newer";exports.NEWER=E;var l="mid";exports.MID=l;var d="initial";exports.INITIAL=d;var y={REPLY:"REPLY",EDIT:"EDIT",REACTION:"REACTION",REACTION_SELF:"REACTION_SELF",ROOT:"ROOT",CREATE:"CREATE",TOMBSTONE:"TOMBSTONE",DELETE:"DELETE",REPLY_EDIT:"REPLY_EDIT"};exports.ACTIVITY_TYPES=y;var x="reply",T="edit",b="reactionSummary",A="reactionSelfSummary",f="create",R="tombstone",I="delete",j="add",O=function(e){var t,r;return(null===(t=e.parent)||void 0===t?void 0:t.type)===x?y.REPLY:(null===(r=e.parent)||void 0===r?void 0:r.type)===T?y.EDIT:e.verb===j||e.type===b?y.REACTION:e.type===A?y.REACTION_SELF:e.verb===f?y.CREATE:e.verb===R?y.TOMBSTONE:e.verb===I?y.DELETE:y.ROOT};exports.getActivityType=O;var D=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new Date(e.published).getTime()};exports.getPublishedDate=D;var P=function(e,t){return D(e)>D(t)};exports.isNewer=P;var h=function(e){return(0,p.default)(e,function(e){return D(e)})};exports.sortActivitiesByPublishedDate=h;var m=function(e){var t;return null==e?void 0:null===(t=e.parent)||void 0===t?void 0:t.id};exports.getParentId=m;var L=function(e){return O(e)===y.ROOT};exports.isRootActivity=L;var N=function(e){return O(e)===y.REPLY};exports.isReplyActivity=N;var g=function(e){return O(e)===y.EDIT};exports.isEditActivity=g;var C=function(e){return O(e)===y.CREATE};exports.isCreateActivity=C;var S=function(e){return O(e)===y.DELETE};exports.isDeleteActivity=S;var Y=function(e){var t=u({},e);return t.reaction=e.reaction||{},t.reactionSelf=e.reactionSelf||{},delete t.replies,t};exports.sanitizeActivity=Y;var q=function(e,t){return e.parent&&e.parent.id&&!t[e.parent.id]};exports.getIsActivityOrphaned=q;var _=function(e,t){var r=t[e.parent.id];return r&&N(r)},w=function(e,t){var r=O(e);return r===y.EDIT&&_(e,t)?y.REPLY_EDIT:r};exports.determineActivityType=w;var B=function(e){return e};exports.createRootActivity=B;var M=function(e){return u(u({},e),{},{replyParent:e.parent})};exports.createReplyActivity=M;var F=function(e,t){var r=e.parent;return u(u({},t[r.id]),{},{id:e.id,parent:r,editParent:r,object:e.object,published:e.published})};exports.createEditActivity=F;var z=function(e,t){var r=e.parent,i=t[r.id];return u(u({},i),{},{id:e.id,parent:r,editParent:r,replyParent:i.parent,object:e.object,published:e.published})};exports.createReplyEditActivity=z;
},{"@babel/runtime-corejs2/core-js/object/keys":"d81a","@babel/runtime-corejs2/core-js/object/get-own-property-symbols":"DovH","@babel/runtime-corejs2/core-js/object/get-own-property-descriptor":"mQ9c","@babel/runtime-corejs2/core-js/object/get-own-property-descriptors":"Hv1v","@babel/runtime-corejs2/core-js/object/define-properties":"CpmN","@babel/runtime-corejs2/core-js/object/define-property":"eIqn","@babel/runtime-corejs2/helpers/interopRequireDefault":"LXwi","@babel/runtime-corejs2/helpers/defineProperty":"n5FU","lodash/sortBy":"JXMh"}],"J0Lp":[function(require,module,exports) {
"use strict";var e=require("@babel/runtime-corejs2/core-js/object/define-property"),t=require("@babel/runtime-corejs2/helpers/interopRequireDefault");e(exports,"__esModule",{value:!0}),exports.getQuery=exports.getLoopCounterFailsafe=exports.rootActivityManager=exports.noMoreActivitiesManager=exports.bookendManager=exports.activityManager=exports.getActivityObjectsFromMap=exports.getValue=exports.setValue=exports.batchSizeIncrementCount=exports.fetchLoopCountMax=exports.minBatchSize=exports.defaultMinDisplayableActivities=void 0;var r=t(require("@babel/runtime-corejs2/core-js/array/from")),n=t(require("@babel/runtime-corejs2/core-js/map")),i=t(require("@babel/runtime-corejs2/helpers/defineProperty")),a=t(require("@babel/runtime-corejs2/helpers/slicedToArray")),o=t(require("lodash/last")),u=require("./activities"),c=20;exports.defaultMinDisplayableActivities=c;var s=10;exports.minBatchSize=s;var f=100;exports.fetchLoopCountMax=f;var l=10;exports.batchSizeIncrementCount=l;var d=function(e,t,r){return e.set(t,r)};exports.setValue=d;var T=function(e,t){return e.get(t)};exports.getValue=T;var v=function(e){return(0,r.default)(e).map(function(e){return(0,a.default)(e,2)[1]})};exports.getActivityObjectsFromMap=v;var p=function(){var e=new n.default,t=new n.default,r=new n.default,a=new n.default,o=function(t){var r=(0,u.getParentId)(t),i=T(e,r);if(i)d(i,t.id,t);else{var a=new n.default;d(a,t.id,t),d(e,r,a)}},c=function(e){if(!(e.verb===u.ACTIVITY_TYPES.TOMBSTONE)){var r=(0,u.getParentId)(e),n=T(t,r);n&&!(0,u.isNewer)(e,n)||d(t,r,e)}},s=function(e,t){var r=(0,u.getParentId)(e),n=T(t,r);n&&!(0,u.isNewer)(e,n)||d(t,r,e)},f=function(e){s(e,r)},l=function(e){s(e,a)};return{getActivityHandlerByKey:function(e){var t;return(t={},(0,i.default)(t,u.ACTIVITY_TYPES.REACTION,f),(0,i.default)(t,u.ACTIVITY_TYPES.REACTION_SELF,l),(0,i.default)(t,u.ACTIVITY_TYPES.EDIT,c),(0,i.default)(t,u.ACTIVITY_TYPES.REPLY,o),t)[e]},getActivityByTypeAndParentId:function(n,o){var c;return(c={},(0,i.default)(c,u.ACTIVITY_TYPES.EDIT,T(t,o)),(0,i.default)(c,u.ACTIVITY_TYPES.REPLY,T(e,o)),(0,i.default)(c,u.ACTIVITY_TYPES.REACTION,T(r,o)),(0,i.default)(c,u.ACTIVITY_TYPES.REACTION_SELF,T(a,o)),c)[n]}}};exports.activityManager=p;var A=function(){var e,t;return{setBookends:function(r){var n,i=(0,u.sortActivitiesByPublishedDate)(r),a=(0,o.default)(i),c=i[0];n=c,e?(0,u.isNewer)(e,n)&&(e=n):e=n,function(e){t?(0,u.isNewer)(e,t)&&(t=e):t=e}(a)},getNewestAct:function(){return t},getOldestAct:function(){return e}}};exports.bookendManager=A;var I=function(){var e=!1,t=!1,r=!1;return{getNoMoreActs:function(){return e},checkAndSetNoMoreActs:function(n,i,a){(n===u.NEWER&&r||(n===u.OLDER||n===u.INITIAL)&&t||n===u.MID&&i<a&&t)&&(e=!0)},checkAndSetNoNewerActs:function(e){e&&e.length||(r=!0)},checkAndSetNoOlderActs:function(e){t||(0,u.getActivityType)(e)!==u.ACTIVITY_TYPES.CREATE||(t=!0)}}};exports.noMoreActivitiesManager=I;var E=function(){var e=new n.default;return{addNewRoot:function(t){d(e,t.id,t)},getRootActivityHash:function(){return e}}};exports.rootActivityManager=E;var x=function(){var e=0;return function(){if((e+=1)>f)throw new Error("max fetches reached")}};exports.getLoopCounterFailsafe=x;var g=function(e,t){var r=t.newestPublishedDate,n=t.oldestPublishedDate,i=t.batchSize,a=t.activityToSearch,o=void 0===a?{}:a;switch(e){case u.NEWER:return{sinceDate:r+1,lastActivityFirst:!1};case u.MID:var c=(0,u.getActivityType)(o);return{midDate:c===u.ACTIVITY_TYPES.REPLY||c===u.ACTIVITY_TYPES.EDIT?o.parent.published:o.published,limit:i};case u.OLDER:return{maxDate:n-1};case u.INITIAL:default:return{}}};exports.getQuery=g;
},{"@babel/runtime-corejs2/core-js/object/define-property":"eIqn","@babel/runtime-corejs2/helpers/interopRequireDefault":"LXwi","@babel/runtime-corejs2/core-js/array/from":"ybNn","@babel/runtime-corejs2/core-js/map":"y6NN","@babel/runtime-corejs2/helpers/defineProperty":"n5FU","@babel/runtime-corejs2/helpers/slicedToArray":"vwJD","lodash/last":"uUO9","./activities":"fGTh"}],"WedO":[function(require,module,exports) {
"use strict";var E=require("@babel/runtime-corejs2/core-js/object/define-property");E(exports,"__esModule",{value:!0}),exports.DEFAULT_CLUSTER_SERVICE=exports.DEFAULT_CLUSTER=exports.ENCRYPTION_KEY_URL_MISMATCH=exports.KEY_ALREADY_ROTATED=exports.KEY_ROTATION_REQUIRED=void 0;var e=1400087;exports.KEY_ROTATION_REQUIRED=e;var r=1409004;exports.KEY_ALREADY_ROTATED=r;var _=1400049;exports.ENCRYPTION_KEY_URL_MISMATCH=_;var T="urn:TEAM:us-east-2_a";exports.DEFAULT_CLUSTER=T;var R="identityLookup";exports.DEFAULT_CLUSTER_SERVICE=R;
},{"@babel/runtime-corejs2/core-js/object/define-property":"eIqn"}],"UarM":[function(require,module,exports) {
"use strict";var e=require("@babel/runtime-corejs2/core-js/array/from"),t=require("@babel/runtime-corejs2/core-js/symbol"),r=require("@babel/runtime-corejs2/core-js/symbol/iterator"),n=require("@babel/runtime-corejs2/core-js/array/is-array"),i=require("@babel/runtime-corejs2/core-js/object/keys"),a=require("@babel/runtime-corejs2/core-js/object/get-own-property-symbols"),o=require("@babel/runtime-corejs2/core-js/object/get-own-property-descriptor"),u=require("@babel/runtime-corejs2/core-js/object/get-own-property-descriptors"),s=require("@babel/runtime-corejs2/core-js/object/define-properties"),c=require("@babel/runtime-corejs2/core-js/object/define-property"),l=require("@babel/runtime-corejs2/helpers/interopRequireDefault");c(exports,"__esModule",{value:!0}),exports.default=void 0;var d=l(require("@babel/runtime-corejs2/regenerator")),f=l(require("@babel/runtime-corejs2/core-js/map")),v=l(require("@babel/runtime-corejs2/core-js/object/assign")),p=l(require("@babel/runtime-corejs2/core-js/promise")),h=l(require("@babel/runtime-corejs2/core-js/json/stringify")),b=l(require("@babel/runtime-corejs2/helpers/slicedToArray")),y=l(require("@babel/runtime-corejs2/helpers/typeof")),m=l(require("@babel/runtime-corejs2/helpers/defineProperty")),g=l(require("@babel/runtime-corejs2/helpers/toConsumableArray")),T=l(require("@babel/runtime-corejs2/helpers/asyncToGenerator")),I=l(require("@babel/runtime-corejs2/helpers/awaitAsyncGenerator")),E=l(require("@babel/runtime-corejs2/helpers/wrapAsyncGenerator")),j=l(require("lodash/uniq")),A=l(require("lodash/pick")),C=l(require("lodash/omit")),w=l(require("lodash/merge")),O=l(require("lodash/map")),x=l(require("lodash/last")),_=l(require("lodash/isString")),U=l(require("lodash/isObject")),S=l(require("lodash/isArray")),q=l(require("lodash/defaults")),N=l(require("lodash/cloneDeepWith")),k=l(require("lodash/cloneDeep")),P=l(require("querystring")),R=require("events"),D=l(require("crypto-js/hmac-sha256")),Y=l(require("crypto-js/enc-hex")),M=require("@webex/common"),F=require("@webex/webex-core"),L=require("@webex/helper-image"),V=l(require("uuid")),K=require("./convo-error"),B=l(require("./share-activity")),G=require("./activity-thread-ordering"),z=require("./activities"),W=require("./constants");function H(e,t){var r=i(e);if(a){var n=a(e);t&&(n=n.filter(function(t){return o(e,t).enumerable})),r.push.apply(r,n)}return r}function J(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?H(Object(r),!0).forEach(function(t){(0,m.default)(e,t,r[t])}):u?s(e,u(r)):H(Object(r)).forEach(function(t){c(e,t,o(r,t))})}return e}function Q(e,i){var a=void 0!==t&&e[r]||e["@@iterator"];if(!a){if(n(e)||(a=$(e))||i&&e&&"number"==typeof e.length){a&&(e=a);var o=0,u=function(){};return{s:u,n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:u}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,c=!0,l=!1;return{s:function(){a=a.call(e)},n:function(){var e=a.next();return c=e.done,e},e:function(e){l=!0,s=e},f:function(){try{c||null==a.return||a.return()}finally{if(l)throw s}}}}function $(t,r){if(t){if("string"==typeof t)return X(t,r);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?e(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?X(t,r):void 0}}function X(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Z=W.DEFAULT_CLUSTER_SERVICE,ee="".concat(W.DEFAULT_CLUSTER,":").concat(Z),te=new f.default,re=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return t.conversationsLimit&&(e={value:t.conversationsLimit,name:"conversationsLimit"}),e},ne=F.WebexPlugin.extend({namespace:"Conversation",getUrlFromClusterId:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.cluster,r=void 0===t?"us":t,n=e.id,i="us"===r?ee:r;i.split(":").length<4&&(i="".concat(r,":").concat(Z));var a=(this.webex.internal.services.getServiceFromClusterId({clusterId:i})||{}).url;if(!a)throw Error("Could not find service for cluster [".concat(r,"]"));return n?"".concat(a,"/conversations/").concat(n):a},acknowledge:function(e,t,r){var n=this,i=this.getConvoUrl(e),a=(0,v.default)({},e,{url:i});return(0,U.default)(t)?this.prepare(r,{verb:"acknowledge",target:this.prepareConversation(a),object:{objectType:"activity",id:t.id,url:t.url}}).then(function(e){return n.submit(e)}):p.default.reject(new Error("`object` must be an object"))},add:function(e,t,r){var n=this,i=this.getConvoUrl(e),a=(0,v.default)({},e,{url:i});return this.webex.internal.user.asUUID(t,{create:!0}).then(function(e){return n.prepare(r,{verb:"add",target:n.prepareConversation(a),object:{id:e,objectType:"person"},kmsMessage:{method:"create",uri:"/authorizations",resourceUri:"<KRO>",userIds:[e]}}).then(function(e){return n.submit(e)})})},create:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e.participants&&0!==e.participants.length?p.default.all(e.participants.map(function(e){return t.webex.internal.user.asUUID(e,{create:!0}).catch(function(e){return r.allowPartialCreation?void 0:p.default.reject(e)})})).then(function(n){n.unshift(t.webex.internal.device.userId);var i=(n=(0,j.default)(n)).filter(function(e){return e});return e.participants=i,2!==n.length||r&&r.forceGrouped?t._createGrouped(e,r):e.participants[1]?r.skipOneOnOneFetch?t._createOneOnOne(e):t._maybeCreateOneOnOneThenPost(e,r):p.default.reject(new K.InvalidUserCreation)}).then(function(r){return te.set(r.id,r.url),e.files?t.webex.internal.conversation.share(r,e.files).then(function(e){return r.activities.items.push(e),r}):r}):p.default.reject(new Error("`params.participants` is required"))},createReactionHmac:function(e,t){return this.webex.internal.encryption.unboundedStorage.get(t.encryptionKeyUrl).then(function(r){var n=JSON.parse(r),i={k:n.jwk.k,kid:n.jwk.kid,kty:n.jwk.kty},a="".concat((0,h.default)(i)).concat(t.id).concat(e),o=Y.default.stringify((0,D.default)(a,t.id));return p.default.resolve(o)})},sendReaction:function(e,t){var r=this,n=this.getConvoUrl(e),i=(0,v.default)({},e,{url:n});return(0,U.default)(t)?this.prepare(t,{target:this.prepareConversation(i),object:(0,A.default)(t,"id","url","objectType")}).then(function(e){return r.submit(e)}):p.default.reject(new Error("`object` must be an object"))},deleteReaction:function(e,t){var r={actor:{objectType:"person",id:this.webex.internal.device.userId},object:{id:t,objectType:"activity"},objectType:"activity",target:{id:e.id,objectType:"conversation"},verb:"delete"};return this.sendReaction(e,r)},addReaction:function(e,t,r){var n=this;return this.createReactionHmac(t,r).then(function(i){var a={actor:{objectType:"person",id:n.webex.internal.device.userId},target:{id:e.id,objectType:"conversation"},verb:"add",objectType:"activity",parent:{type:"reaction",id:r.id},object:{objectType:"reaction2",displayName:t,hmac:i}};return n.sendReaction(e,a)})},delete:function(e,t,r){var n=this,i=this.getConvoUrl(e),a=(0,v.default)({},e,{url:i});return(0,U.default)(t)?this.prepare(r,{verb:"delete",target:this.prepareConversation(a),object:(0,A.default)(t,"id","url","objectType")}).then(function(e){return n.submit(e)}):p.default.reject(new Error("`object` must be an object"))},download:function(e){var t,r=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=Boolean(e.scr&&e.scr.key),a=new R.EventEmitter;return t=(t=i?this.webex.internal.encryption.download(e.scr,e.options):e.scr&&e.scr.loc?this._downloadUnencryptedFile(e.scr.loc,n):this._downloadUnencryptedFile(e.url,n)).on("progress",function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return a.emit.apply(a,["progress"].concat(t))}).then(function(t){return n.shouldNotAddExifData?t:(0,L.readExifData)(e,t)}).then(function(t){return r.logger.info("conversation: file downloaded"),e.displayName&&!t.name&&(t.name=e.displayName),!t.type&&e.mimeType&&(t.type=e.mimeType),t}),(0,M.proxyEvents)(a,t),t},_downloadUnencryptedFile:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,v.default)(t,{uri:e,responseType:"buffer"});var r=this.request(t).then(function(e){return e.body});return(0,M.proxyEvents)(t.download,r),r},expand:function(e,t,r,n){var i={actor:n,objectType:"activity",verb:e};return n||(n=this.webex.internal.device.userId),(0,_.default)(n)&&(i.actor={objectType:"person",id:n}),t&&(i.object=t),r&&(i.target=r),i},bulkActivitiesFetch:function(e){var t,r,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};"string"==typeof n?t=n:(t=n.cluster,r=n.url);var i="bulk_activities_fetch",a={method:"POST",body:{activityUrls:e}};if(r){var o="".concat(r,"/").concat(i);(0,v.default)(a,{uri:o})}else if(t){var u="".concat(this.getUrlFromClusterId({cluster:t}),"/").concat(i);(0,v.default)(a,{uri:u})}else(0,v.default)(a,{api:"conversation",resource:i});return this.webex.request(a).then(function(e){var t=[];return e.body.multistatus&&e.body.multistatus.forEach(function(e){"200"===e.status&&e.data&&e.data.activity&&t.push(e.data.activity)}),t})},get:function(e){var t,r=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=e.user;try{t=i?"":this.getConvoUrl(e)}catch(o){return p.default.reject(Error(o))}var a={qs:(0,v.default)({uuidEntryFormat:!0,personRefresh:!0,activitiesLimit:0,includeConvWithDeletedUserUUID:!1,includeParticipants:!1},(0,C.default)(n,"id","user","url"))};return("participantAckFilter"in n||"participantsLimit"in n)&&delete a.qs.includeParticipants,p.default.resolve(i?this.webex.internal.user.asUUID(i):null).then(function(e){return e?(0,v.default)(a,{service:"conversation",resource:"conversations/user/".concat(e)}):a.uri=t,r.request(a)}).then((0,M.tap)(function(e){var t=e.body,n=t.id,i=t.url;r._recordUUIDs(t),te.set(n,i)})).then(function(e){return e.body})},leave:function(e,t,r){var n=this,i=(0,v.default)({},e,{url:this.getConvoUrl(e)});return p.default.resolve().then(function(){return t||(t=n.webex.internal.device.userId),n.webex.internal.user.asUUID(t).then(function(e){return n.prepare(r,{verb:"leave",target:n.prepareConversation(i),object:{id:e,objectType:"person"},kmsMessage:{method:"delete",uri:"<KRO>/authorizations?".concat(P.default.stringify({authId:e}))}})})}).then(function(e){return n.submit(e)})},list:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this._list({service:"conversation",resource:e.summary?"conversationsSummary":"conversations",qs:(0,C.default)(e,["deferDecrypt","summary"]),deferDecrypt:e.deferDecrypt,limit:re(e)}).then(function(e){var t,r=Q(e);try{for(r.s();!(t=r.n()).done;){var n=t.value;te.set(n.id,n.url)}}catch(i){r.e(i)}finally{r.f()}return e})},paginate:function(){var e=arguments,t=this;return(0,T.default)(d.default.mark(function r(){var n,i,a;return d.default.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(!(n=e.length>0&&void 0!==e[0]?e[0]:{}).page){r.next=5;break}if(n.page.links&&n.page.links.next){r.next=4;break}throw new Error("No link to follow for the provided page");case 4:return r.abrupt("return",t.request({url:n.page.links.next}).then(function(e){return{page:new F.Page(e,t.webex)}}));case 5:return i=(0,v.default)({personRefresh:!0,uuidEntryFormat:!0,activitiesLimit:0,participantsLimit:0,paginate:!0},(0,C.default)(n,["deferDecrypt","url"])),a={qs:i,deferDecrypt:n.deferDecrypt,limit:re(n)},n.url?a.uri="".concat(n.url,"/conversations"):(a.service="conversation",a.resource="conversations"),r.abrupt("return",t.request(a).then(function(e){var r={page:new F.Page(e,t.webex)};return e.body&&e.body.additionalUrls&&(r.additionalUrls=e.body.additionalUrls),r}));case 9:case"end":return r.stop()}},r)}))()},listLeft:function(e){return this._list({service:"conversation",resource:"conversations/left",qs:e,limit:re(e)}).then(function(e){var t,r=Q(e);try{for(r.s();!(t=r.n()).done;){var n=t.value;te.set(n.id,n.url)}}catch(i){r.e(i)}finally{r.f()}return e})},listActivities:function(e){return this._listActivities((0,v.default)(e,{resource:"activities"}))},listParentActivityIds:function(e,t){var r=this;return(0,T.default)(d.default.mark(function n(){var i,a;return d.default.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return i={method:"GET",url:"".concat(e,"/parents"),qs:t},n.next=3,r.request(i);case 3:return a=n.sent,n.abrupt("return",a.body);case 5:case"end":return n.stop()}},n)}))()},listAllChildActivitiesByParentId:function(){var e=arguments,t=this;return(0,T.default)(d.default.mark(function r(){var n,i,a,o,u,s,c,l,f,v,p;return d.default.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return n=e.length>0&&void 0!==e[0]?e[0]:{},i=n.conversationUrl,a=n.activityParentId,o=n.query,u=o.activityType,r.next=5,t.listChildActivitiesByParentId(i,a,u,o);case 5:s=r.sent,c=new F.Page(s,t.webex),l=(0,g.default)(c.items);case 8:if(!c.hasNext()){r.next=16;break}return r.next=11,c.next();case 11:c=r.sent,f=Q(c);try{for(f.s();!(v=f.n()).done;)p=v.value,l.push(p)}catch(d){f.e(d)}finally{f.f()}r.next=8;break;case 16:return l.length&&(0,x.default)(l).published<l[0].published&&l.reverse(),r.abrupt("return",l);case 18:case"end":return r.stop()}},r)}))()},listChildActivitiesByParentId:function(e,t,r){var n=arguments,i=this;return(0,T.default)(d.default.mark(function a(){var o,u,s;return d.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return o=n.length>3&&void 0!==n[3]?n[3]:{},u=J(J({},o),{},{activityType:r}),s={method:"GET",url:"".concat(e,"/parents/").concat(t),qs:u},a.abrupt("return",i.request(s));case 4:case"end":return a.stop()}},a)}))()},getReactionSummaryByParentId:function(e,t,r){var n=this;return(0,T.default)(d.default.mark(function i(){var a,o,u;return d.default.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,n.request({method:"GET",url:"".concat(e,"/activities/").concat(t),qs:r});case 2:return a=i.sent,o=a.body,u=o.children?o.children.filter(function(e){return"reactionSelfSummary"===e.type||"reactionSummary"===e.type}):[],i.abrupt("return",u);case 6:case"end":return i.stop()}},i)}))()},listMentions:function(e){return this._list({service:"conversation",resource:"mentions",qs:(0,C.default)(e,"mentions")})},muteMentions:function(e,t){return this.tag(e,{tags:["MENTION_NOTIFICATIONS_OFF"]},t)},muteMessages:function(e,t){return this.tag(e,{tags:["MESSAGE_NOTIFICATIONS_OFF"]},t)},ignore:function(e,t){return this.tag(e,{tags:["IGNORED"]},t)},cardAction:function(e,t,r){var n=this,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=(0,v.default)({},e,{url:this.getConvoUrl(e)});return i.parent={id:r.id,type:"cardAction"},this.prepare(i,{verb:"cardAction",target:this.prepareConversation(a),object:(0,v.default)({objectType:"submit"},t)}).then(function(e){return n.submit(e)})},post:function(e,t,r){var n=this,i=(0,v.default)({},e,{url:this.getConvoUrl(e)});return(0,_.default)(t)&&(t={displayName:t}),this.prepare(r,{verb:"post",target:this.prepareConversation(i),object:(0,v.default)({objectType:"comment"},t)}).then(function(e){return n.submit(e)})},prepareConversation:function(e){return(0,q.default)((0,A.default)(e,"id","url","objectType","defaultActivityEncryptionKeyUrl","kmsResourceObjectUrl"),{objectType:"conversation"})},prepare:function(e,t){var r=this;return t=t||{},e=e||{},p.default.resolve(e.prepare?e.prepare(t):e).then(function(n){return(0,q.default)(n,{verb:t.verb,kmsMessage:t.kmsMessage,objectType:"activity",clientTempId:V.default.v4(),actor:r.webex.internal.device.userId}),(e.parentActivityId&&e.activityType||e.parent&&e.parent.id&&e.parent.type)&&(n.parent={id:e.parentActivityId||e.parent.id,type:e.activityType||e.parent.type}),(0,_.default)(n.actor)&&(n.actor={objectType:"person",id:n.actor}),["actor","object"].forEach(function(e){t[e]&&(n[e]=n[e]||{},(0,q.default)(n[e],t[e]))}),t.target&&(0,w.default)(n,{target:(0,A.default)(t.target,"id","url","objectType","kmsResourceObjectUrl","defaultActivityEncryptionKeyUrl")}),["object","target"].forEach(function(e){n[e]&&n[e].url&&!n[e].id&&(n[e].id=n[e].url.split("/").pop())}),["actor","object","target"].forEach(function(e){if(n[e]&&!n[e].objectType)throw new Error("`act.".concat(e,".objectType` must be defined"))}),n.object&&n.object.content&&!n.object.displayName?p.default.reject(new Error("Cannot submit activity object with `content` but no `displayName`")):n})},listThreads:function(e){var t=this;return(0,T.default)(d.default.mark(function r(){return d.default.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",t._list({service:"conversation",resource:"threads",qs:(0,C.default)(e,"showAllTypes")}));case 1:case"end":return r.stop()}},r)}))()},processActivityEvent:function(e){return this.webex.transform("inbound",e).then(function(){return e})},removeAllMuteTags:function(e,t){return this.untag(e,{tags:["MENTION_NOTIFICATIONS_OFF","MENTION_NOTIFICATIONS_ON","MESSAGE_NOTIFICATIONS_OFF","MESSAGE_NOTIFICATIONS_ON"]},t)},makeShare:function(e,t){return B.default.create(e,t,this.webex)},assign:function(e,t){var r=this,n={role:"spaceAvatar"};if((t.size||t.length)>1048576)return p.default.reject(new Error("Room avatars must be less than 1MB"));var i=(0,v.default)({},e,{url:this.getConvoUrl(e)});return p.default.resolve().then(function(){var a=B.default.create(e,null,r.webex);return a.enableThumbnails=!1,a.add(t,n),r.prepare(a,{target:r.prepareConversation(i)})}).then(function(e){return e.verb="assign",r.submit(e)})},getConvoUrl:function(e){var t=e.id,r=e.url,n=e.cluster,i=e.conversations,a=e.generalConversationUuid;if(a)return i.items.find(function(e){return e.id===a}).url;if(r)return r;if(t){if(n)return this.getUrlFromClusterId({cluster:n,id:t});this.logger.warn("You should be using the `url` instead of the `id` property");var o=te.get(t);if(!o)throw Error("Could not find the `url` from the given `id`");return o}throw Error("The space needs a `url` property")},updateTypingStatus:function(e,t){if(!e.id){if(!e.url)return p.default.reject(new Error("conversation: could not identify conversation"));e.id=e.url.split("/").pop()}var r;r=t.typing?"status.start_typing":"status.stop_typing";var n=this.getConvoUrl(e),i={method:"POST",body:{conversationId:e.id,eventType:r},url:"".concat(n,"/").concat("status/typing")};return this.request(i)},share:function(e,t){var r=this;(0,S.default)(t)&&(t={object:{files:t}});var n=(0,v.default)({},e,{url:this.getConvoUrl(e)});return t instanceof B.default||(t=B.default.create(n,t,this.webex)),this.prepare(t,{target:this.prepareConversation(n)}).then(function(e){return r.submit(e)})},submit:function(e,t){var r=this,n=t||this.getConvoUrl(e.target),i="share"===e.verb?"content":"activities",a={method:"POST",body:e,qs:{personRefresh:!0},url:"".concat(n,"/").concat(i)};"share"===e.verb&&(0,v.default)(a.qs,{transcode:!0,async:!1});var o=(0,N.default)(a,function(e){var t=a.body.object.files;if(t&&e&&t.items.length>0&&e.constructor===t.items[0].scr.constructor){var r=(0,k.default)(e);return r.toJWE=e.toJWE,r.toJSON=e.toJSON,r}});return this.webex.trigger("user-activity"),this.request(a).then(function(e){return e.body}).catch(function(e){if(e.body&&e.body.errorCode===W.KEY_ROTATION_REQUIRED)o.body.target.defaultActivityEncryptionKeyUrl=null,r.request(o);else{if(!e.body||e.body.errorCode!==W.KEY_ALREADY_ROTATED&&e.body.errorCode!==W.ENCRYPTION_KEY_URL_MISMATCH)throw e;r.webex.request({method:"GET",api:"conversation",resource:"conversations/".concat(a.body.target.id)}).then(function(e){o.body.target.defaultActivityEncryptionKeyUrl=e.body.defaultActivityEncryptionkeyUrl,r.request(o)})}})},unassign:function(e,t){var r=this,n=(0,v.default)({},e,{url:this.getConvoUrl(e)});return this.prepare(t,{verb:"unassign",target:this.prepareConversation(n),object:{objectType:"content",files:{items:[]}}}).then(function(e){return r.submit(e)})},unmuteMentions:function(e,t){return this.tag(e,{tags:["MENTION_NOTIFICATIONS_ON"]},t)},unmuteMessages:function(e,t){return this.tag(e,{tags:["MESSAGE_NOTIFICATIONS_ON"]},t)},unignore:function(e,t){return this.untag(e,{tags:["IGNORED"]},t)},update:function(e,t,r){var n=this;if(!(0,U.default)(t))return p.default.reject(new Error("`object` must be an object"));var i=(0,v.default)({},e,{url:this.getConvoUrl(e)});return this.prepare(r,{verb:"update",target:this.prepareConversation(i),object:t}).then(function(e){return n.submit(e)})},updateKey:function(e,t,r){var n=this,i=(0,v.default)({},e,{url:this.getConvoUrl(e)});return this.get(i,{activitiesLimit:0,includeParticipants:!0}).then(function(e){return n._updateKey(e,t,r)})},_updateKey:function(e,t,r){var n=this,i=(0,v.default)({},e,{url:this.getConvoUrl(e)});return p.default.resolve(t||this.webex.internal.encryption.kms.createUnboundKeys({count:1})).then(function(e){var t=(0,S.default)(e)?e[0]:e,a={verb:"updateKey",target:n.prepareConversation(i),object:{defaultActivityEncryptionKeyUrl:t.uri,objectType:"conversation"}};return i.kmsResourceObjectUrl&&i.kmsResourceObjectUrl.startsWith("kms:")?a.kmsMessage={method:"update",resourceUri:"<KRO>",uri:t.uri}:a.kmsMessage={method:"create",uri:"/resources",userIds:(0,O.default)(i.participants.items,"id"),keyUris:[t.uri]},n.prepare(r,a).then(function(e){return n.submit(e)})})},_create:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request({method:"POST",service:"conversation",resource:"conversations",body:e,qs:{forceCreate:t.allowPartialCreation}}).then(function(e){return e.body})},_createGrouped:function(e,t){return this._create(this._prepareConversationForCreation(e),t)},_createOneOnOne:function(e){var t=this._prepareConversationForCreation(e);return t.tags=["ONE_ON_ONE"],this._create(t)},getConversationUrl:function(){var e=this;this.logger.info("conversation: getting the conversation service url");var t=this.webex.internal.services.get("conversation");return t?p.default.resolve(t):this.webex.internal.waitForCatalog("postauth").then(function(){return e.webex.internal.services.get("conversation")}).catch(function(t){return e.logger.warn("conversation: unable to get conversation url",t.message),p.default.reject(t)})},_inferConversationUrl:function(e){var t=this;return e.id?this.webex.internal.feature.getFeature("developer","web-high-availability").then(function(r){return r?t.getConversationUrl().then(function(t){return e.url="".concat(t,"/conversations/").concat(e.id),e}):e.url?p.default.resolve(e):t.getConversationUrl().then(function(t){return e.url="".concat(t,"/conversations/").concat(e.id),e})}):p.default.resolve(e)},_listActivities:function(e){var t=e.conversationId,r=this.getConvoUrl({url:e.conversationUrl,id:t}),n=e.resource;return this._list({qs:(0,C.default)(e,"resource"),url:"".concat(r,"/").concat(n)})},listActivitiesThreadOrdered:function(e){var t=this,r=e.conversationUrl,n=e.conversationId;if(!r&&!n)throw new Error("must provide a conversation URL or conversation ID");var i=this.getConvoUrl({url:r,id:n}),a=J(J({},(0,C.default)(e,["conversationUrl","conversationId"])),{},{url:i}),o=J(J({},a),{},{queryType:z.OLDER}),u=this._listActivitiesThreadOrdered(a),s=function(){var e=(0,T.default)(d.default.mark(function e(r){var n,i,o,s;return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r){e.next=2;break}throw new Error("Search must be an activity object from conversation service");case 2:if(n=r.target&&r.target.url){e.next=5;break}throw new Error("Search object must have a target url!");case 5:return i=J(J({},a),{},{url:n,queryType:z.MID,search:r}),u=t._listActivitiesThreadOrdered(i),e.next=9,u.next(i);case 9:return o=e.sent,s=o.value,e.abrupt("return",{done:!0,value:s});case 12:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),c=function(){var e=(0,T.default)(d.default.mark(function e(){var t,r,n,i,a;return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.next(o);case 2:return t=e.sent,r=t.value,i=(n=void 0===r?[]:r)[0]&&n[0].activity,a=i&&(0,z.getActivityType)(i)!==z.ACTIVITY_TYPES.CREATE,e.abrupt("return",{done:!a,value:n});case 8:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}();return{jumpToActivity:s,getNewer:function(){var e=(0,T.default)(d.default.mark(function e(){var t,r,n;return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=J(J({},a),{},{queryType:z.NEWER}),e.next=3,u.next(t);case 3:return r=e.sent,n=r.value,e.abrupt("return",{done:!n.length,value:n});case 6:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),getOlder:c}},_listActivitiesThreadOrdered:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,E.default)(d.default.mark(function r(){var n,i,a,o,u,s,c,l,f,v,h,T,E,j,A,C,w,O,x,_;return d.default.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:n=t.minActivities,i=void 0===n?G.defaultMinDisplayableActivities:n,a=t.queryType,(o=void 0===a?z.INITIAL:a)===z.NEWER&&(o=z.INITIAL),u=t.url,s=t.search,c=void 0===s?{}:s,l=t.includeChildren,f=(0,G.bookendManager)(),v=f.setBookends,h=f.getNewestAct,T=f.getOldestAct,E=o===z.INITIAL||o===z.OLDER?i:Math.max(G.minBatchSize,Math.ceil(i/2)),j=E,A=(0,G.activityManager)(),C=A.getActivityHandlerByKey,w=A.getActivityByTypeAndParentId,O=(0,G.getQuery)(o,{activityToSearch:c,batchSize:j}),x=d.default.mark(function t(){var r,n,a,s,f,y,A,x,_,U,S,q,N,k,P,R,D,Y,M,F,L,V;return d.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r=(0,G.rootActivityManager)(),n=r.getRootActivityHash,a=r.addNewRoot,s=(0,G.noMoreActivitiesManager)(),f=s.getNoMoreActs,y=s.checkAndSetNoMoreActs,A=s.checkAndSetNoOlderActs,x=s.checkAndSetNoNewerActs,_=function(e){var t;return(t={},(0,m.default)(t,z.ACTIVITY_TYPES.ROOT,a),(0,m.default)(t,z.ACTIVITY_TYPES.REPLY,C(z.ACTIVITY_TYPES.REPLY)),(0,m.default)(t,z.ACTIVITY_TYPES.EDIT,C(z.ACTIVITY_TYPES.EDIT)),(0,m.default)(t,z.ACTIVITY_TYPES.REACTION,C(z.ACTIVITY_TYPES.REACTION)),(0,m.default)(t,z.ACTIVITY_TYPES.REACTION_SELF,C(z.ACTIVITY_TYPES.REACTION_SELF)),(0,m.default)(t,z.ACTIVITY_TYPES.TOMBSTONE,a),(0,m.default)(t,z.ACTIVITY_TYPES.CREATE,a),t)[e]},U=function(e){var t=(0,z.getActivityType)(e);(0,z.isDeleteActivity)(e)||_(t)(e)},S=function(e){e.forEach(function(e){U(e),A(e)})},q=function(e){v(e,z.OLDER),S(e)},N=function(e){x(e),e.length&&(v(e,z.NEWER),S(e))},k=function(e){v(e,z.MID),S(e)},P=function(e){var t;return(t={},(0,m.default)(t,z.OLDER,q),(0,m.default)(t,z.NEWER,N),(0,m.default)(t,z.MID,k),(0,m.default)(t,z.INITIAL,q),t)[e]},R=(0,G.getLoopCounterFailsafe)(),D=d.default.mark(function t(){var r,a,s,f,v,m,A,C,x,_,U,q,N,k,D,Y,M,F,L,V,K,B,W,H,$,X,Z,ee,te,re,ne,ie,ae,oe,ue,se,ce,le,de,fe;return d.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return R(),r=J({conversationUrl:u,limit:j,includeChildren:l},O),a=e.listActivities(r),s=[a],o!==z.MID&&o!==z.NEWER||(f={activityType:null},O.sinceDate&&(f.sinceDate=O.sinceDate),v=e.listParentActivityIds(u,f),s.push(v)),t.next=7,(0,I.default)(p.default.all(s));case 7:if(m=t.sent,A=(0,b.default)(m,2),C=A[0],x=A[1],_=void 0===x?{}:x,P(o)(C),U=_.reply,q=void 0===U?[]:U,N=_.edit,k=void 0===N?[]:N,D=_.reaction,Y=void 0===D?[]:D,!(q.length||k.length||Y.length)){t.next=35;break}M=[],F=[],L=[],V=Q(C);try{for(V.s();!(K=V.n()).done;)B=K.value,W=B.id,H={conversationUrl:u,activityParentId:W},Y.includes(W)&&M.push(e.getReactionSummaryByParentId(u,W,{activityType:"reactionSummary",includeChildren:!0})),q.includes(W)&&(H.query={activityType:"reply"},F.push(e.listAllChildActivitiesByParentId(H))),k.includes(W)&&(H.query={activityType:"edit"},L.push(e.listAllChildActivitiesByParentId(H)))}catch(d){V.e(d)}finally{V.f()}return t.next=23,(0,I.default)(p.default.all([p.default.all(M),p.default.all(F),p.default.all(L)]));case 23:return $=t.sent,X=(0,b.default)($,3),Z=X[0],ee=X[1],te=X[2],t.next=30,(0,I.default)(p.default.all(ee.filter(function(e){return q.includes(e.id)}).map(function(t){return e.getReactionSummaryByParentId(u,t.id,{activityType:"reactionSummary",includeChildren:!0})})));case 30:re=t.sent,ne=[].concat((0,g.default)(Z),(0,g.default)(re)),ee.forEach(function(e){return S(e)}),te.forEach(function(e){return S(e)}),ne.forEach(function(e){return S(e)});case 35:ie=n(),ae=ie.size,oe=Q(ie.values());try{for(oe.s();!(ue=oe.n()).done;)se=ue.value,ce=se.id,(le=w(z.ACTIVITY_TYPES.REPLY,ce))&&le.size&&(ae+=le.size||0)}catch(d){oe.e(d)}finally{oe.f()}if(!(ae>=i)){t.next=41;break}return t.abrupt("return","break");case 41:y(o,ae,j),o===z.OLDER&&(j=i),o===z.NEWER&&(j=E),de=(0,z.getPublishedDate)(T()),fe=(0,z.getPublishedDate)(h()),O=o===z.INITIAL?(0,G.getQuery)(z.OLDER,{oldestPublishedDate:de,batchSize:j}):(0,G.getQuery)(o,{batchSize:j,activityToSearch:c,oldestPublishedDate:de,newestPublishedDate:fe}),o===z.MID&&(j+=G.batchSizeIncrementCount);case 48:case"end":return t.stop()}},t)});case 11:if(f()){t.next=18;break}return t.delegateYield(D(),"t0",13);case 13:if("break"!==t.t0){t.next=16;break}return t.abrupt("break",18);case 16:t.next=11;break;case 18:return Y=[],M=function(t){var r=[],i=w(z.ACTIVITY_TYPES.REPLY,t);return i?((0,z.sortActivitiesByPublishedDate)((0,G.getActivityObjectsFromMap)(i)).forEach(function(t){var a=t.id,o=w(z.ACTIVITY_TYPES.EDIT,a),u=w(z.ACTIVITY_TYPES.REACTION,a),s=w(z.ACTIVITY_TYPES.REACTION_SELF,a),c=o||t,l=[].concat((0,g.default)((0,G.getActivityObjectsFromMap)(n())),(0,g.default)((0,G.getActivityObjectsFromMap)(i))).reduce(function(e,t){return e[t.id]=t,e},{}),d={id:a,activity:e._createParsedServerActivity(c,l),reaction:u,reactionSelf:s},f=(0,z.sanitizeActivity)(d);r.push(f)}),r):r},(0,z.sortActivitiesByPublishedDate)((0,G.getActivityObjectsFromMap)(n())).forEach(function(t){var r=t.id,n=M(r),i=w(z.ACTIVITY_TYPES.EDIT,r),a=w(z.ACTIVITY_TYPES.REACTION,r),o=w(z.ACTIVITY_TYPES.REACTION_SELF,r),u=i||t,s={id:r,activity:e._createParsedServerActivity(u,(0,m.default)({},r,t)),reaction:a,reactionSelf:o},c=(0,z.sanitizeActivity)(s);Y.push(c),n.forEach(function(e){return Y.push(e)})}),t.next=24,Y;case 24:if(!(F=t.sent)){t.next=33;break}i=F.minActivities||i,L=(0,z.getPublishedDate)(T()),V=(0,z.getPublishedDate)(h()),o=F.queryType,O=(0,G.getQuery)(o,{activityToSearch:c,oldestPublishedDate:L,newestPublishedDate:V,batchSize:j}),t.next=34;break;case 33:return t.abrupt("return",{v:void 0});case 34:case"end":return t.stop()}},t)});case 9:return r.delegateYield(x(),"t0",11);case 11:if(_=r.t0,"object"!==(0,y.default)(_)){r.next=14;break}return r.abrupt("return",_.v);case 14:r.next=9;break;case 16:case"end":return r.stop()}},r)}))()},_createParsedServerActivity:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if((0,z.getIsActivityOrphaned)(e,t))throw new Error("activity has a parent that cannot be found in allActivitiesHash! please handle this as necessary");switch((0,z.determineActivityType)(e,t)){case z.ACTIVITY_TYPES.ROOT:return(0,z.createRootActivity)(e);case z.ACTIVITY_TYPES.EDIT:return(0,z.createEditActivity)(e,t);case z.ACTIVITY_TYPES.REPLY:return(0,z.createReplyActivity)(e);case z.ACTIVITY_TYPES.REPLY_EDIT:return(0,z.createReplyEditActivity)(e,t);default:return e}},_list:function(e){var t=this;return(0,T.default)(d.default.mark(function r(){var n,i,a,o,u,s,c,l;return d.default.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return e.qs=(0,v.default)({personRefresh:!0,uuidEntryFormat:!0,activitiesLimit:0,participantsLimit:0},e.qs),r.next=3,t.request(e);case 3:if((n=r.sent).body&&n.body.items&&0!==n.body.items.length?(i=n.body.items.slice(0),(0,x.default)(i).published<i[0].published&&i.reverse()):i=[],!n.body.additionalUrls){r.next=14;break}if(a=0,e.limit&&(a=Math.floor((e.limit.value-i.length)/n.body.additionalUrls.length)),e.limit&&0===a){r.next=14;break}return r.next=11,p.default.all(n.body.additionalUrls.map(function(r){var n="".concat(r,"/").concat(e.resource),i=(0,v.default)({},e,{uri:n,url:n});return e.limit&&(i.qs[i.limit.name]=a),t.request(i)}));case 11:o=r.sent,u=Q(o);try{for(u.s();!(s=u.n()).done;)(c=s.value).body&&c.body.items&&c.body.items.length&&(l=c.body.items,(0,x.default)(l).published<l[0].published&&l.reverse(),i=i.concat(l))}catch(d){u.e(d)}finally{u.f()}case 14:return r.next=16,p.default.all(i.map(function(e){return t._recordUUIDs(e)}));case 16:return r.abrupt("return",i);case 17:case"end":return r.stop()}},r)}))()},_maybeCreateOneOnOneThenPost:function(e,t){var r=this;return this.get((0,q.default)({user:e.participants[1]}),(0,v.default)(t,{includeConvWithDeletedUserUUID:!0,includeParticipants:!0})).then(function(t){return e.comment||e.html?r.post(t,{content:e.html,displayName:e.comment}).then(function(e){return t.activities.items.push(e),t}):t}).catch(function(t){return 404!==t.statusCode?p.default.reject(t):r._createOneOnOne(e)})},_prepareConversationForCreation:function(e){var t=this,r={activities:{items:[this.expand("create")]},objectType:"conversation",kmsMessage:{method:"create",uri:"/resources",userIds:(0,k.default)(e.participants),keyUris:[]}};return e.displayName&&(r.displayName=e.displayName),e.tags&&(r.tags=e.tags),e.participants.forEach(function(e){r.activities.items.push(t.expand("add",{objectType:"person",id:e}))}),e.comment&&r.activities.items.push(this.expand("post",{objectType:"comment",content:e.html,displayName:e.comment})),!e.isDefaultClassification&&e.classificationId&&r.activities.items.push(this.expand("update",{objectType:"classification",classificationId:e.classificationId,effectiveDate:e.effectiveDate})),e.favorite&&r.activities.items.push(this.expand("favorite",{objectType:"conversation"})),r},_recordUUIDs:function(e){var t=this;return e.participants&&e.participants.items?p.default.all(e.participants.items.map(function(e){return"ROOM"===e.type||"LYRA_SPACE"===e.type?p.default.resolve():t.webex.internal.user.recordUUID(e).catch(function(e){return t.logger.warn("Could not record uuid",e)})})):p.default.resolve(e)},version:"1.150.0"});["favorite","hide","lock","mute","unfavorite","unhide","unlock","unmute"].forEach(function(e){ne.prototype[e]=function(t,r){var n=this,i=this.prepareConversation((0,v.default)({},t,{url:this.getConvoUrl(t)}));return this.prepare(r,{verb:e,object:i,target:i}).then(function(e){return n.submit(e)})}}),["assignModerator","unassignModerator"].forEach(function(e){ne.prototype[e]=function(t,r,n){var i=this,a=(0,v.default)({},t,{url:this.getConvoUrl(t)});return p.default.all([a,r?this.webex.internal.user.asUUID(r):this.webex.internal.device.userId]).then(function(t){var r=(0,b.default)(t,2),a=r[0],o=r[1];return i.prepare(n,{verb:e,target:i.prepareConversation(a),object:{id:o,objectType:"person"}})}).then(function(e){return i.submit(e)})}}),["setSpaceProperty","unsetSpaceProperty"].forEach(function(e){var t=e.startsWith("set")?"set":"unset";ne.prototype[e]=function(e,r,n){var i=this;if(!(0,_.default)(r))return p.default.reject(new Error("`tag` must be a string"));var a=(0,v.default)({},e,{url:this.getConvoUrl(e)});return this.prepare(n,{verb:t,target:this.prepareConversation(a),object:{tags:[r],objectType:"spaceProperty"}}).then(function(e){return i.submit(e)})}}),["tag","untag"].forEach(function(e){ne.prototype[e]=function(t,r,n){var i=this;if(!(0,U.default)(r))return p.default.reject(new Error("`object` must be an object"));var a=this.prepareConversation((0,v.default)({},t,{url:this.getConvoUrl(t)}));return this.prepare(n,{verb:e,target:a,object:(0,v.default)(a,r)}).then(function(e){return i.submit(e)})}});var ie=ne;exports.default=ie;
},{"@babel/runtime-corejs2/core-js/array/from":"ybNn","@babel/runtime-corejs2/core-js/symbol":"mr6k","@babel/runtime-corejs2/core-js/symbol/iterator":"uGl8","@babel/runtime-corejs2/core-js/array/is-array":"BpbX","@babel/runtime-corejs2/core-js/object/keys":"d81a","@babel/runtime-corejs2/core-js/object/get-own-property-symbols":"DovH","@babel/runtime-corejs2/core-js/object/get-own-property-descriptor":"mQ9c","@babel/runtime-corejs2/core-js/object/get-own-property-descriptors":"Hv1v","@babel/runtime-corejs2/core-js/object/define-properties":"CpmN","@babel/runtime-corejs2/core-js/object/define-property":"eIqn","@babel/runtime-corejs2/helpers/interopRequireDefault":"LXwi","@babel/runtime-corejs2/regenerator":"i9LV","@babel/runtime-corejs2/core-js/map":"y6NN","@babel/runtime-corejs2/core-js/object/assign":"h2Mz","@babel/runtime-corejs2/core-js/promise":"eOfj","@babel/runtime-corejs2/core-js/json/stringify":"E09K","@babel/runtime-corejs2/helpers/slicedToArray":"vwJD","@babel/runtime-corejs2/helpers/typeof":"hVHy","@babel/runtime-corejs2/helpers/defineProperty":"n5FU","@babel/runtime-corejs2/helpers/toConsumableArray":"TW4i","@babel/runtime-corejs2/helpers/asyncToGenerator":"OYLD","@babel/runtime-corejs2/helpers/awaitAsyncGenerator":"HuMP","@babel/runtime-corejs2/helpers/wrapAsyncGenerator":"QwSi","lodash/uniq":"oUkM","lodash/pick":"N5Tq","lodash/omit":"J2GV","lodash/merge":"yubd","lodash/map":"vGW8","lodash/last":"uUO9","lodash/isString":"CkJF","lodash/isObject":"u9vI","lodash/isArray":"p0cq","lodash/defaults":"mpS4","lodash/cloneDeepWith":"Zvqm","lodash/cloneDeep":"Y0zI","querystring":"fk5h","events":"FRpO","crypto-js/hmac-sha256":"ztDJ","crypto-js/enc-hex":"f6Xj","@webex/common":"UeF0","@webex/webex-core":"bqGz","@webex/helper-image":"wNfc","uuid":"WpaS","./convo-error":"NKbL","./share-activity":"EpkU","./activity-thread-ordering":"J0Lp","./activities":"fGTh","./constants":"WedO"}],"UprI":[function(require,module,exports) {
"use strict";var e=require("@babel/runtime-corejs2/core-js/object/define-property");e(exports,"__esModule",{value:!0}),exports.default=void 0;var t={conversation:{allowedInboundTags:{"webex-mention":["data-object-type","data-object-id","data-object-url"]},allowedOutboundTags:{"webex-mention":["data-object-type","data-object-id","data-object-url"]},inboundProcessFunc:function(){},outboundProcessFunc:function(){},allowedInboundStyles:[],allowedOutboundStyles:[],thumbnailMaxHeight:960,thumbnailMaxWidth:640,keepEncryptedProperties:!1,decryptionFailureMessage:"This message cannot be decrypted"}};exports.default=t;
},{"@babel/runtime-corejs2/core-js/object/define-property":"eIqn"}],"jWwt":[function(require,module,exports) {
"use strict";var e=require("@babel/runtime-corejs2/core-js/object/define-property"),r=require("@babel/runtime-corejs2/helpers/interopRequireDefault");e(exports,"__esModule",{value:!0}),exports.default=o;var t=r(require("@babel/runtime-corejs2/core-js/object/keys")),u=r(require("@babel/runtime-corejs2/core-js/object/assign")),i=r(require("lodash/isFunction"));function o(e,r){return(0,t.default)(r).map(function(t){var o=r[t];return(0,i.default)(o)?{name:t,direction:e,fn:o}:(0,u.default)({name:t},o)})}
},{"@babel/runtime-corejs2/core-js/object/define-property":"eIqn","@babel/runtime-corejs2/helpers/interopRequireDefault":"LXwi","@babel/runtime-corejs2/core-js/object/keys":"d81a","@babel/runtime-corejs2/core-js/object/assign":"h2Mz","lodash/isFunction":"dRuq"}],"ZyZy":[function(require,module,exports) {
"use strict";var e=require("@babel/runtime-corejs2/core-js/object/define-property"),t=require("@babel/runtime-corejs2/helpers/interopRequireDefault");e(exports,"__esModule",{value:!0}),exports.transforms=void 0;var r=t(require("@babel/runtime-corejs2/core-js/symbol")),n=t(require("@babel/runtime-corejs2/core-js/promise")),i=t(require("@babel/runtime-corejs2/core-js/reflect/delete-property")),o=t(require("@babel/runtime-corejs2/core-js/json/stringify")),c=t(require("lodash/isArray")),a=t(require("lodash/has")),s=t(require("lodash/get")),u=t(require("lodash/curry")),y=t(require("lodash/capitalize")),l=t(require("./to-array")),p=(0,r.default)("KEY"),f=(0,u.default)(function(e,t,r,n){return t.transform("encryptTextProp",e,r,n)}),d=(0,u.default)(function(e,t,r,n){return t.transform("encryptJsonProp",e,r,n)}),m=(0,l.default)("outbound",{encryptObject:function(e,t,r){return r||(r=t,t=void 0),r&&r.objectType?!1===t?n.default.resolve():e.transform("encrypt".concat((0,y.default)(r.objectType)),t,r):n.default.resolve()},encryptReaction2:function(e,t,r){return e.transform("encryptPropDisplayName",t,r)},encryptConversation:function(e,t,r){return!1===t?n.default.resolve():n.default.resolve(t||e.webex.internal.encryption.kms.createUnboundKeys({count:1})).then(function(i){var o=(0,c.default)(i)?i[0]:i;return(0,a.default)(r,"kmsMessage.keyUris")&&!r.kmsMessage.keyUris.includes(o.uri)&&r.kmsMessage.keyUris.push(o.uri),n.default.all([(0,a.default)(r,"activities.items")&&r.activities.items.reduce(function(t,r){return t.then(function(){return e.transform("encryptObject",o,r)})},n.default.resolve()),e.transform("encryptPropDisplayName",o,r)]).then(function(){r.encryptionKeyUrl=o.uri||o,t||(r.defaultActivityEncryptionKeyUrl=r.defaultActivityEncryptionKeyUrl||o.uri||o)})})},encryptActivity:function(e,t,r){return r.encryptionKeyUrl?n.default.resolve():e.transform("encrypt".concat((0,y.default)(r.verb),"Activity"),t,r).then(function(){return t=t||r[p],e.transform("prepareActivityKmsMessage",t,r)})},encryptVerbActivity:function(e,t,r){return e.transform("maybeEncryptTarget",t,r).then(function(){t=t||r[p]}).then(function(){return e.transform("encryptObject",t,r.object)})},maybeEncryptTarget:function(e,t,r){if(t)return n.default.resolve();if((0,a.default)(r,"target.defaultActivityEncryptionKeyUrl")&&r.target.defaultActivityEncryptionKeyUrl&&(0,a.default)(r,"target.kmsResourceObjectUrl"))return r[p]=t||r.target.defaultActivityEncryptionKeyUrl,n.default.resolve();var i=r.target&&r.target.url;return i?e.webex.internal.conversation.get({url:i}).then(function(t){return t.defaultActivityEncryptionKeyUrl?(r.target.defaultActivityEncryptionKeyUrl||e.webex.logger.warn("plugin-conversation: downloaded conversation to determine its defaultActivityEncryptionKeyUrl; make sure to pass all encryption related properties when calling Webex.conversation methods."),r.target.kmsResourceObjectUrl||e.webex.logger.warn("plugin-conversation: downloaded conversation to determine its kmsResourceObjectUrl; make sure to pass all encryption related properties when calling Webex.conversation methods."),r[p]=r.target.defaultActivityEncryptionKeyUrl=t.defaultActivityEncryptionKeyUrl,r.target.kmsResourceObjectUrl=t.kmsResourceObjectUrl,n.default.resolve()):e.webex.internal.conversation.updateKey(t).then(function(e){e.kmsMessage.resource&&(r.target.kmsResourceObjectUrl=e.kmsMessage.resource.uri),r[p]=r.target.defaultActivityEncryptionKeyUrl=e.object.defaultActivityEncryptionKeyUrl})}):n.default.reject(new Error("Cannot determine encryption key for activity's conversation; no key url or conversation url provided"))},prepareActivityKmsMessage:function(e,t,r){if(r.kmsMessage)if(!t&&"updateKey"===r.verb&&(0,a.default)(r,"object.defaultActivityEncryptionKeyUrl")&&(t=(0,s.default)(r,"object.defaultActivityEncryptionKeyUrl")),!t&&"leave"===r.verb&&(0,a.default)(r,"target.defaultActivityEncryptionKeyUrl")&&(t=(0,s.default)(r,"target.defaultActivityEncryptionKeyUrl")),t){var n=r.target.kmsResourceObjectUrl;["uri","resourceUri"].forEach(function(e){if(r.kmsMessage[e]&&!n&&r.kmsMessage[e].includes("<KRO>"))throw new Error("encrypter: cannot determine kro");r.kmsMessage[e]&&(r.kmsMessage[e]=r.kmsMessage[e].replace("<KRO>",n),r.kmsMessage[e]=r.kmsMessage[e].replace("<KEYURL>",t.keyUrl||t))})}else(0,i.default)(r,"kmsMessage")},encryptVerbActivityWithKey:{direction:"outbound",fn:function(e,t,r){return e.transform("encryptVerbActivity",t,r).then(function(){t=t||r[p],r.encryptionKeyUrl=t.uri||t})}},encryptAddActivity:{direction:"outbound",fn:function(e,t,r){return(0,a.default)(r,"object.objectType")&&"reaction2"===r.object.objectType?e.transform("encryptVerbActivityWithKey",t,r):e.transform("encryptVerbActivity",t,r)}},encryptAssignActivity:{direction:"outbound",alias:"encryptVerbActivityWithKey"},encryptCreateActivity:{direction:"outbound",alias:"encryptVerbActivity"},encryptPostActivity:{direction:"outbound",alias:"encryptVerbActivityWithKey"},encryptShareActivity:{direction:"outbound",alias:"encryptVerbActivityWithKey"},encryptCardactionActivity:{direction:"outbound",alias:"encryptVerbActivityWithKey"},encryptUpdateActivity:{direction:"outbound",alias:"encryptVerbActivityWithKey"},encryptUpdateKeyActivity:{direction:"outbound",alias:"encryptVerbActivity"},encryptComment:function(e,t,r){return n.default.all([e.transform("encryptPropDisplayName",t,r),e.transform("encryptPropContent",t,r)])},encryptContent:function(e,t,r){var i=r.files.items.map(function(r){return e.transform("encryptObject",t,r)});return i.push(e.transform("encryptPropContent",t,r)),i.push(e.transform("encryptPropDisplayName",t,r)),n.default.all(i)},encryptFile:function(e,t,r){return r.image&&!r.image.scr?n.default.reject(new Error("`file.image` must have an `scr`")):n.default.all([e.transform("encryptPropScr",t,r),e.transform("encryptPropDisplayName",t,r),e.transform("encryptPropContent",t,r),r.image&&e.transform("encryptPropScr",t,r.image)])},encryptSubmit:function(e,t,r){return e.transform("encryptPropInputs",t,r)},encryptImageURI:function(e,t,r){return e.transform("encryptPropLocation",t,r)},encryptPropContent:f("content"),encryptPropDisplayName:f("displayName"),encryptPropInputs:d("inputs"),encryptPropLocation:f("location"),encryptPropScr:function(e,t,r){return r.scr?e.webex.internal.encryption.encryptScr(t,r.scr).then(function(e){r.scr=e}):n.default.resolve()},encryptJsonProp:function(e,t,r,i){return i[t]?e.webex.internal.encryption.encryptText(r.uri||r,(0,o.default)(i[t])).then(function(e){i[t]=e}):n.default.resolve()},encryptTextProp:function(e,t,r,i){return i[t]?e.webex.internal.encryption.encryptText(r.uri||r,i[t]).then(function(e){i[t]=e}):n.default.resolve()}});exports.transforms=m;
},{"@babel/runtime-corejs2/core-js/object/define-property":"eIqn","@babel/runtime-corejs2/helpers/interopRequireDefault":"LXwi","@babel/runtime-corejs2/core-js/symbol":"mr6k","@babel/runtime-corejs2/core-js/promise":"eOfj","@babel/runtime-corejs2/core-js/reflect/delete-property":"CFlp","@babel/runtime-corejs2/core-js/json/stringify":"E09K","lodash/isArray":"p0cq","lodash/has":"HZ8X","lodash/get":"U5YY","lodash/curry":"L4BM","lodash/capitalize":"NEda","./to-array":"jWwt"}],"uFU6":[function(require,module,exports) {
var e=require("./_is-object"),r=Math.floor;module.exports=function(i){return!e(i)&&isFinite(i)&&r(i)===i};
},{"./_is-object":"mW2H"}],"VZJS":[function(require,module,exports) {
var e=require("./_export");e(e.S,"Number",{isInteger:require("./_is-integer")});
},{"./_export":"mBzY","./_is-integer":"uFU6"}],"jvSc":[function(require,module,exports) {
require("../../modules/es6.number.is-integer"),module.exports=require("../../modules/_core").Number.isInteger;
},{"../../modules/es6.number.is-integer":"VZJS","../../modules/_core":"RosZ"}],"zeo1":[function(require,module,exports) {
module.exports=require("core-js/library/fn/number/is-integer");
},{"core-js/library/fn/number/is-integer":"jvSc"}],"CKKH":[function(require,module,exports) {
"use strict";var e=require("@babel/runtime-corejs2/core-js/object/define-property"),r=require("@babel/runtime-corejs2/helpers/interopRequireDefault");e(exports,"__esModule",{value:!0}),exports.transforms=void 0;var t=r(require("@babel/runtime-corejs2/core-js/promise")),n=r(require("@babel/runtime-corejs2/core-js/array/is-array")),o=r(require("@babel/runtime-corejs2/core-js/number/is-integer")),a=r(require("lodash/curry")),c=r(require("lodash/capitalize")),i=r(require("lodash/camelCase")),l=r(require("./to-array")),s=(0,a.default)(function(e,r,t,n){return r.transform("decryptTextProp",e,t,n)}),p=(0,l.default)("inbound",{decryptObject:function(e,r,n){return n||(n=r,r=void 0),n&&n.objectType?(!r&&n.encryptionKeyUrl&&(r=n.encryptionKeyUrl),"transcodedContent"===n.objectType?t.default.all(n.files.items.map(function(t){return e.transform("decryptFile",r,t)})):e.transform("decrypt".concat((0,c.default)(n.objectType)),r,n)):t.default.resolve()},decryptSubmit:function(e,r,n){if(!n.inputs)return t.default.resolve();var o=e.webex.internal.conversation.config.decryptionFailureMessage;return e.transform("decryptPropCardItem",0,r,[n.inputs]).then(function(e){n.inputs=JSON.parse(e[0])}).catch(function(r){return e.webex.logger.warn("plugin-conversation: failed to decrypt attachmentAction.inputs: ".concat(r)),n.inputs=o,t.default.resolve(o)})},decryptReaction2summary:function(e,r,n){return n.reactions?t.default.all(n.reactions.map(function(t){return e.transform("decryptPropDisplayName",r,t)})):t.default.resolve()},decryptReaction2selfsummary:function(e,r,n){return n.reactions?t.default.all(n.reactions.map(function(t){return e.transform("decryptPropDisplayName",r,t)})):t.default.resolve()},decryptReaction2:function(e,r,t){return e.transform("decryptPropDisplayName",r,t)},decryptThread:function(e,r){var o=[];return r.childActivities&&(0,n.default)(r.childActivities)&&(o=r.childActivities.map(function(r){return e.transform("decryptObject",null,r)})),t.default.all(o)},decryptConversation:function(e,r,n){var o=[];n.activities.items&&o.push(t.default.all(n.activities.items.map(function(r){return e.transform("decryptObject",null,r)})));var a=n.encryptionKeyUrl||r,c=e.webex.internal.conversation.config.decryptionFailureMessage;return a&&(o.push(e.transform("decryptPropDisplayName",a,n).catch(function(r){e.webex.logger.warn("plugin-conversation: failed to decrypt display name of ",n.url,r),t.default.resolve(c)})),o.push(e.transform("decryptPropContent",a,n))),n.avatarEncryptionKeyUrl&&o.push(e.transform("decryptObject",n.avatarEncryptionKeyUrl,n.avatar)),n.previous&&o.push(e.transform("decryptPropDisplayName",a,n.previous)),n.previousValue&&o.push(e.transform("decryptPropDisplayName",a,n.previousValue)),t.default.all(o)},decryptActivity:function(e,r,o){if(!(o.encryptionKeyUrl||o.object&&o.object.encryptionKeyUrl))return t.default.resolve(o);var a=o.encryptionKeyUrl||o.object.encryptionKeyUrl||r,c=[];return o.children&&(0,n.default)(o.children)&&(c=o.children.map(function(r){return e.transform("decryptObject",a,r.activity)})),c.push(e.transform("decryptObject",a,o.object)),t.default.all(c)},decryptMicroappinstance:function(e,r,t){return e.transform("decryptPropModel",r,t)},decryptComment:function(e,r,o){var a=[e.transform("decryptPropDisplayName",r,o),e.transform("decryptPropContent",r,o)];return o.cards&&(0,n.default)(o.cards)&&o.cards.map(function(t,n){return a.push(e.transform("decryptPropCardItem",n,r,o.cards))}),t.default.all(a)},decryptContent:function(e,r,t){return"links"===t.contentCategory?e.transform("decryptContentLinks",r,t):e.transform("decryptContentFiles",r,t)},decryptContentFiles:function(e,r,o){if(!o.files||!o.files.items||!(0,n.default)(o.files.items))return t.default.resolve();var a=o.files.items.map(function(t){return e.transform("decryptObject",r,t)});return a.push(e.transform("decryptComment",r,o)),o.links&&o.links.items&&(0,n.default)(o.links.items)&&o.links.items.forEach(function(t){return a.push(e.transform("decryptObject",r,t))}),t.default.all(a)},decryptContentLinks:function(e,r,o){if(!o.links||!o.links.items||!(0,n.default)(o.links.items))return t.default.resolve();var a=o.links.items.map(function(t){return e.transform("decryptObject",r,t)});return a.push(e.transform("decryptComment",r,o)),t.default.all(a)},decryptEvent:function(e,r,n){var o=[e.transform("decryptPropDisplayName",r,n)];return n.location&&5===n.location.split(".").length&&o.push(e.transform("decryptPropLocation",r,n)),t.default.all(o)},decryptFile:function(e,r,n){return n.encryptionKeyUrl&&n.encryptionKeyUrl!==r&&(r=n.encryptionKeyUrl),t.default.all([n.transcodedCollection&&t.default.all(n.transcodedCollection.items.map(function(t){return e.transform("decryptObject",r,t)})),e.transform("decryptPropScr",r,n),e.transform("decryptPropDisplayName",r,n),e.transform("decryptPropContent",r,n),n.image&&e.transform("decryptPropScr",r,n.image)])},decryptLink:function(e,r,n){return t.default.all([e.transform("decryptPropSslr",r,n),e.transform("decryptPropDisplayName",r,n)])},decryptTranscodedContent:function(e,r,n){return t.default.all(n.files.items.map(function(t){return e.transform("decryptFile",r,t)}))},decryptImageURI:function(e,r,t){return e.transform("decryptPropLocation",r,t)},decryptTextProp:function(e,r,n,o){if(!o[r])return t.default.resolve();var a=e.webex.internal.conversation.config.decryptionFailureMessage;return e.webex.internal.encryption.decryptText(n,o[r]).then(function(t){if(e.webex.config.conversation.keepEncryptedProperties){var n=(0,i.default)("encrypted_".concat(r));o[n]=o[r]}o[r]=t}).catch(function(n){return e.webex.logger.warn("plugin-conversation: failed to decrypt ".concat(r," "),n),o[r]=a,t.default.resolve(a)})},decryptPropCardItem:function(e,r,a,c){if(!(0,o.default)(r)||!c||!(0,n.default)(c)||r<0||r>=c.length||!(c[r]instanceof String||"string"==typeof c[r]))return t.default.resolve();var i=e.webex.internal.conversation.config.decryptionFailureMessage;return e.webex.internal.encryption.decryptText(a,c[r]).then(function(e){c[r]=e}).catch(function(n){return e.webex.logger.warn("plugin-conversation: failed to decrypt card at ".concat(r," "),n),c[r]=i,t.default.resolve(i)})},decryptPropScr:function(e,r,t){return e.webex.internal.encryption.decryptScr(r,t.scr).then(function(e){t.scr=e})},decryptPropSslr:function(e,r,t){return e.webex.internal.encryption.decryptScr(r,t.sslr).then(function(e){t.sslr=e})},decryptPropDisplayName:s("displayName"),decryptPropContent:s("content"),decryptPropModel:s("model"),decryptPropLocation:s("location")});exports.transforms=p;
},{"@babel/runtime-corejs2/core-js/object/define-property":"eIqn","@babel/runtime-corejs2/helpers/interopRequireDefault":"LXwi","@babel/runtime-corejs2/core-js/promise":"eOfj","@babel/runtime-corejs2/core-js/array/is-array":"BpbX","@babel/runtime-corejs2/core-js/number/is-integer":"zeo1","lodash/curry":"L4BM","lodash/capitalize":"NEda","lodash/camelCase":"SjCc","./to-array":"jWwt"}],"QrqD":[function(require,module,exports) {
"use strict";var e=require("@babel/runtime-corejs2/core-js/object/define-property"),t=require("@babel/runtime-corejs2/helpers/interopRequireDefault");e(exports,"__esModule",{value:!0}),e(exports,"default",{enumerable:!0,get:function(){return c.default}}),e(exports,"ShareActivity",{enumerable:!0,get:function(){return b.default}}),e(exports,"ConversationError",{enumerable:!0,get:function(){return p.ConversationError}}),e(exports,"InvalidUserCreation",{enumerable:!0,get:function(){return p.InvalidUserCreation}});var r=t(require("@babel/runtime-corejs2/core-js/promise")),n=t(require("@babel/runtime-corejs2/core-js/reflect/delete-property")),o=t(require("lodash/has")),a=t(require("lodash/get")),i=t(require("lodash/capitalize"));require("@webex/internal-plugin-encryption"),require("@webex/internal-plugin-user");var u=require("@webex/common"),s=require("@webex/helper-html"),l=require("@webex/webex-core"),c=t(require("./conversation")),f=t(require("./config")),d=require("./encryption-transforms"),m=require("./decryption-transforms"),b=t(require("./share-activity")),p=require("./convo-error");(0,l.registerInternalPlugin)("conversation",c.default,{payloadTransformer:{predicates:[{name:"transformObject",test:function(e,t){return r.default.resolve((0,o.default)(t,"body.objectType"))},extract:function(e){return r.default.resolve(e.body)}},{name:"transformObject",direction:"inbound",test:function(e,t){return r.default.resolve((0,o.default)(t,"activity"))},extract:function(e){return r.default.resolve(e.activity)}},{name:"transformObjectArray",direction:"inbound",test:function(e,t){return r.default.resolve((0,o.default)(t,"body.multistatus"))},extract:function(e){return r.default.resolve(e.body.multistatus.map(function(e){return e&&e.data&&e.data.activity}))}},{name:"normalizeConversationListAndBindDecrypters",direction:"inbound",test:function(e,t){return(0,o.default)(t,"body.items[0].objectType")&&(0,a.default)(t,"options.deferDecrypt")?r.default.resolve(!0):r.default.resolve(!1)},extract:function(e){return r.default.resolve(e.body.items)}},{name:"transformObjectArray",direction:"inbound",test:function(e,t){return(0,o.default)(t,"body.items[0].objectType")?(0,a.default)(t,"options.deferDecrypt")?r.default.resolve(!1):r.default.resolve(!0):r.default.resolve(!1)},extract:function(e){return r.default.resolve(e.body.items)}},{name:"transformThreadArray",direction:"inbound",test:function(e,t){return(0,o.default)(t,"body.items[0].childType")&&(0,o.default)(t,"body.items[0].actorId")?(0,a.default)(t,"options.deferDecrypt")?r.default.resolve(!1):r.default.resolve(!0):r.default.resolve(!1)},extract:function(e){return r.default.resolve(e.body.items)}}],transforms:[{name:"normalizeConversationListAndBindDecrypters",fn:function(e,t){return r.default.all(t.map(function(t){return e.transform("normalizeObject",t).then(function(){return t.decrypt=function(){return(0,n.default)(t,"decrypt"),e.transform("decryptObject",t)},t})}))}},{name:"transformObjectArray",fn:function(e,t){return r.default.all(t.map(function(t){return e.transform("transformObject",t)}))}},{name:"transformThreadArray",fn:function(e,t){return r.default.all(t.map(function(t){return e.transform("transformThread",t)}))}},{name:"transformObject",direction:"outbound",fn:function(e,t){return t&&t.objectType?e.transform("normalizeObject",t).then(function(){return e.transform("encryptObject",t)}).then(function(){return e.transform("encryptKmsMessage",t)}):r.default.resolve()}},{name:"transformObject",direction:"inbound",fn:function(e,t){return t&&t.objectType?e.transform("decryptObject",t).then(function(){return e.transform("normalizeObject",t)}):r.default.resolve()}},{name:"normalizeObject",fn:function(e,t){return t&&t.objectType?r.default.all([e.transform("normalize".concat((0,i.default)(t.objectType)),t),e.transform("normalizePropContent",t)]):r.default.resolve()}},{name:"transformThread",direction:"inbound",fn:function(e,t){return t?e.transform("decryptThread",t).then(function(){return e.transform("normalizeThread",t)}):r.default.resolve()}},{name:"normalizePropContent",direction:"inbound",fn:function(e,t){if(!t.content)return r.default.resolve();var n=e.webex.config.conversation,o=n.inboundProcessFunc,a=n.allowedInboundTags,i=n.allowedInboundStyles;return(0,s.filter)(o,a||{},i,t.content).then(function(e){t.content=e})}},{name:"normalizePropContent",direction:"outbound",fn:function(e,t){if(!t.content)return r.default.resolve();var n=e.webex.config.conversation,o=n.outboundProcessFunc,a=n.allowedOutboundTags,i=n.allowedOutboundStyles;return(0,s.filterEscape)(o,a||{},i,t.content).then(function(e){t.content=e})}},{name:"normalizeConversation",fn:function(e,t){return t.activities=t.activities||{},t.activities.items=t.activities.items||[],t.participants=t.participants||{},t.participants.items=t.participants.items||[],r.default.all([r.default.all(t.activities.items.map(function(t){return e.transform("normalizeObject",t)})),r.default.all(t.participants.items.map(function(t){return e.transform("normalizeObject",t)}))])}},{name:"normalizeActivity",fn:function(e,t){return r.default.all([e.transform("normalizeObject",t.actor),e.transform("normalizeObject",t.object),e.transform("normalizeObject",t.target)])}},{name:"normalizeThread",fn:function(e,t){return r.default.all(t.childActivities.map(function(t){return e.transform("normalizeObject",t)}))}},{name:"normalizePerson",fn:function(e,t){var o=t.entryEmail||t.emailAddress||t.id,a=t.entryUUID||t.id;return u.patterns.email.test(o)?t.entryEmail=t.emailAddress=o.toLowerCase():((0,n.default)(t,"entryEmail"),(0,n.default)(t,"emailAddress")),t.roomProperties&&(t.roomProperties.isModerator=Boolean(t.roomProperties.isModerator)),u.patterns.uuid.test(a)?(t.entryUUID=t.id=a.toLowerCase(),r.default.resolve(t)):o?e.webex.internal.user.asUUID(o).then(function(e){return t.entryUUID=t.id=e,t}):r.default.reject(new Error("cannot determine id without an `emailAddress` or `entryUUID` property"))}}].concat(m.transforms).concat(d.transforms)},config:f.default});
},{"@babel/runtime-corejs2/core-js/object/define-property":"eIqn","@babel/runtime-corejs2/helpers/interopRequireDefault":"LXwi","@babel/runtime-corejs2/core-js/promise":"eOfj","@babel/runtime-corejs2/core-js/reflect/delete-property":"CFlp","lodash/has":"HZ8X","lodash/get":"U5YY","lodash/capitalize":"NEda","@webex/internal-plugin-encryption":"YJqt","@webex/internal-plugin-user":"jBR5","@webex/common":"UeF0","@webex/helper-html":"ivXz","@webex/webex-core":"bqGz","./conversation":"UarM","./config":"UprI","./encryption-transforms":"ZyZy","./decryption-transforms":"CKKH","./share-activity":"EpkU","./convo-error":"NKbL"}],"Q0qE":[function(require,module,exports) {
var Buffer = require("buffer").Buffer;
var r=require("buffer").Buffer;!function(){"use strict";module.exports=function(t){return(t instanceof r?t:r.from(t.toString(),"binary")).toString("base64")}}();
},{"buffer":"peL6"}],"Sn5d":[function(require,module,exports) {
var r=require("./_baseIteratee"),e=require("./isArrayLike"),i=require("./keys");function t(t){return function(u,n,a){var o=Object(u);if(!e(u)){var v=r(n,3);u=i(u),n=function(r){return v(o[r],r,o)}}var c=t(u,n,a);return c>-1?o[v?u[c]:c]:void 0}}module.exports=t;
},{"./_baseIteratee":"lW7l","./isArrayLike":"LN6c","./keys":"HI10"}],"cKQD":[function(require,module,exports) {
var e=require("./_baseFindIndex"),r=require("./_baseIteratee"),n=require("./toInteger"),t=Math.max;function u(u,a,i){var l=null==u?0:u.length;if(!l)return-1;var o=null==i?0:n(i);return o<0&&(o=t(l+o,0)),e(u,r(a,3),o)}module.exports=u;
},{"./_baseFindIndex":"IiHL","./_baseIteratee":"lW7l","./toInteger":"d9A1"}],"y1nO":[function(require,module,exports) {
var e=require("./_createFind"),r=require("./findIndex"),d=e(r);module.exports=d;
},{"./_createFind":"Sn5d","./findIndex":"cKQD"}],"XH23":[function(require,module,exports) {
"use strict";var e=require("@babel/runtime-corejs2/core-js/object/keys"),r=require("@babel/runtime-corejs2/core-js/object/get-own-property-symbols"),t=require("@babel/runtime-corejs2/core-js/object/get-own-property-descriptor"),o=require("@babel/runtime-corejs2/core-js/object/get-own-property-descriptors"),n=require("@babel/runtime-corejs2/core-js/object/define-properties"),u=require("@babel/runtime-corejs2/core-js/object/define-property"),i=require("@babel/runtime-corejs2/helpers/interopRequireDefault");u(exports,"__esModule",{value:!0}),exports.default=void 0;var c=i(require("@babel/runtime-corejs2/helpers/defineProperty"));function s(o,n){var u=e(o);if(r){var i=r(o);n&&(i=i.filter(function(e){return t(o,e).enumerable})),u.push.apply(u,i)}return u}function a(e){for(var r=1;r<arguments.length;r++){var i=null!=arguments[r]?arguments[r]:{};r%2?s(Object(i),!0).forEach(function(r){(0,c.default)(e,r,i[r])}):o?n(e,o(i)):s(Object(i)).forEach(function(r){u(e,r,t(i,r))})}return e}var b={calculateEndTime:function(e){return a(a({},e),{},{endTime:new Date(new Date(e.start).getTime()+6e4*e.durationMinutes)})}},l=b;exports.default=l;
},{"@babel/runtime-corejs2/core-js/object/keys":"d81a","@babel/runtime-corejs2/core-js/object/get-own-property-symbols":"DovH","@babel/runtime-corejs2/core-js/object/get-own-property-descriptor":"mQ9c","@babel/runtime-corejs2/core-js/object/get-own-property-descriptors":"Hv1v","@babel/runtime-corejs2/core-js/object/define-properties":"CpmN","@babel/runtime-corejs2/core-js/object/define-property":"eIqn","@babel/runtime-corejs2/helpers/interopRequireDefault":"LXwi","@babel/runtime-corejs2/helpers/defineProperty":"n5FU"}],"YsAh":[function(require,module,exports) {
"use strict";var e=require("@babel/runtime-corejs2/core-js/object/define-property");e(exports,"__esModule",{value:!0}),exports.CALENDAR=exports.CALENDAR_CREATE=exports.CALENDAR_DELETE=exports.CALENDAR_UPDATED=exports.CALENDAR_UNREGISTERED=exports.CALENDAR_REGISTERED=void 0;var r="calendar:registered";exports.CALENDAR_REGISTERED=r;var E="calendar:unregistered";exports.CALENDAR_UNREGISTERED=E;var A="calendar:update";exports.CALENDAR_UPDATED=A;var t="calendar:delete";exports.CALENDAR_DELETE=t;var D="calendar:create";exports.CALENDAR_CREATE=D;var R="CALENDAR";exports.CALENDAR=R;
},{"@babel/runtime-corejs2/core-js/object/define-property":"eIqn"}],"HsUv":[function(require,module,exports) {
"use strict";var e=require("@babel/runtime-corejs2/core-js/object/define-property"),t=require("@babel/runtime-corejs2/helpers/interopRequireDefault");e(exports,"__esModule",{value:!0}),exports.default=void 0;var r=t(require("@babel/runtime-corejs2/core-js/object/values")),i=t(require("lodash/find")),u=t(require("./util")),s=require("./constants"),n={namespace:s.CALENDAR,items:{},get:function(e){return this.items[e]},getBy:function(e,t){return e&&t?(0,i.default)(this.items,function(r){return r[e]===t}):null},set:function(e){var t=e.id,r=u.default.calculateEndTime(e);return this.items[t]=r,t},reset:function(){this.items={}},remove:function(e){var t=this.get(e);return delete this.items[e],t},setAll:function(e){var t=this;e.forEach(function(e){t.set(e)})},getAll:function(){return(0,r.default)(this.items)}},o=n;exports.default=o;
},{"@babel/runtime-corejs2/core-js/object/define-property":"eIqn","@babel/runtime-corejs2/helpers/interopRequireDefault":"LXwi","@babel/runtime-corejs2/core-js/object/values":"vh4c","lodash/find":"y1nO","./util":"XH23","./constants":"YsAh"}],"lxbJ":[function(require,module,exports) {
"use strict";var e=require("@babel/runtime-corejs2/core-js/object/define-property"),t=require("@babel/runtime-corejs2/helpers/interopRequireDefault");e(exports,"__esModule",{value:!0}),exports.default=void 0;var n=t(require("@babel/runtime-corejs2/core-js/promise")),r=t(require("btoa")),a=require("@webex/webex-core"),i=t(require("./collection")),c=require("./constants"),o=a.WebexPlugin.extend({namespace:"Calendar",registered:!1,register:function(){var e=this;return this.webex.canAuthorize?this.registered?(this.logger.info("calendar->register#INFO, Calendar plugin already registered"),n.default.resolve()):this.webex.internal.device.register().then(function(){return e.webex.internal.mercury.connect()}).then(function(){e.listenForEvents(),e.trigger(c.CALENDAR_REGISTERED),e.registered=!0}).catch(function(t){return e.logger.error("calendar->register#ERROR, Unable to register, ".concat(t.message)),n.default.reject(t)}):(this.logger.error("calendar->register#ERROR, Unable to register, SDK cannot authorize"),n.default.reject(new Error("SDK cannot authorize")))},unregister:function(){var e=this;return this.registered?(this.stopListeningForEvents(),this.webex.internal.mercury.disconnect().then(function(){return e.webex.internal.device.unregister()}).then(function(){e.trigger(c.CALENDAR_UNREGISTERED),e.registered=!1})):(this.logger.info("calendar->unregister#INFO, Calendar plugin already unregistered"),n.default.resolve())},listenForEvents:function(){var e=this;this.webex.internal.mercury.on("event:calendar.meeting.create",function(t){e._handleCreate(t.data)}),this.webex.internal.mercury.on("event:calendar.meeting.update",function(t){e._handleUpdate(t.data)}),this.webex.internal.mercury.on("event:calendar.meeting.create.minimal",function(t){e._handleCreate(t.data)}),this.webex.internal.mercury.on("event:calendar.meeting.update.minimal",function(t){e._handleUpdate(t.data)}),this.webex.internal.mercury.on("event:calendar.meeting.delete",function(t){e._handleDelete(t.data)})},stopListeningForEvents:function(){this.webex.internal.mercury.off("event:calendar.meeting.create"),this.webex.internal.mercury.off("event:calendar.meeting.create.minimal"),this.webex.internal.mercury.off("event:calendar.meeting.update"),this.webex.internal.mercury.off("event:calendar.meeting.update.minimal"),this.webex.internal.mercury.off("event:calendar.meeting.delete")},_handleUpdate:function(e){var t=i.default.set(e.calendarMeetingExternal);this.trigger(c.CALENDAR_UPDATED,i.default.get(t))},_handleCreate:function(e){var t=i.default.set(e.calendarMeetingExternal);this.trigger(c.CALENDAR_CREATE,i.default.get(t))},_handleDelete:function(e){var t=i.default.remove(e.calendarMeetingExternal.id);this.trigger(c.CALENDAR_DELETE,t)},syncCalendar:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{fromDate:this.config.fromDate,toDate:this.config.toDate};return this.list({fromDate:e.fromDate,toDate:e.toDate}).then(function(e){return i.default.setAll(e),i.default.getAll()})},getByType:function(e,t){if(["spaceURI","spaceMeetURL","conversationId"].includes(e))return i.default.getBy(e,t);throw new Error("key must be one of, spaceURI, spaceMeetURL, or conversationId")},getAll:function(){return i.default.getAll()},processMeetingEvent:function(e){return this.webex.transform("inbound",e).then(function(){return e})},getParticipants:function(e){return this.request({method:"GET",service:"calendar",resource:"calendarEvents/".concat((0,r.default)(e),"/participants")})},getNotes:function(e){return this.request({method:"GET",service:"calendar",resource:"calendarEvents/".concat((0,r.default)(e),"/notes")})},list:function(e){var t=this;return e=e||{},this.webex.request({method:"GET",service:"calendar",resource:"calendarEvents",qs:e}).then(function(e){var r=e.body.items,a=[];return r.forEach(function(e){e.encryptedNotes||a.push(t.getNotes(e.id).then(function(t){e.encryptedNotes=t.body&&t.body.encryptedNotes})),e.encryptedParticipants||a.push(t.getParticipants(e.id).then(function(t){e.encryptedParticipants=t.body.encryptedParticipants}))}),n.default.all(a).then(function(){return r})})},version:"1.150.0"}),s=o;exports.default=s;
},{"@babel/runtime-corejs2/core-js/object/define-property":"eIqn","@babel/runtime-corejs2/helpers/interopRequireDefault":"LXwi","@babel/runtime-corejs2/core-js/promise":"eOfj","btoa":"Q0qE","@webex/webex-core":"bqGz","./collection":"HsUv","./constants":"YsAh"}],"iWg8":[function(require,module,exports) {
"use strict";var e=require("@babel/runtime-corejs2/core-js/object/define-property");e(exports,"__esModule",{value:!0}),exports.default=void 0;var t={calendar:{fromDate:new Date((new Date).setDate((new Date).getDate()-1)),toDate:new Date((new Date).setDate((new Date).getDate()+7))}};exports.default=t;
},{"@babel/runtime-corejs2/core-js/object/define-property":"eIqn"}],"BM8P":[function(require,module,exports) {
"use strict";var e=require("@babel/runtime-corejs2/core-js/object/define-property"),r=require("@babel/runtime-corejs2/helpers/interopRequireDefault");e(exports,"__esModule",{value:!0}),e(exports,"default",{enumerable:!0,get:function(){return a.default}});var t=r(require("@babel/runtime-corejs2/core-js/promise")),n=r(require("lodash/has"));require("@webex/internal-plugin-device"),require("@webex/internal-plugin-encryption"),require("@webex/internal-plugin-conversation");var o=require("@webex/webex-core"),a=r(require("./calendar")),i=r(require("./config"));(0,o.registerInternalPlugin)("calendar",a.default,{config:i.default,payloadTransformer:{predicates:[{name:"transformMeetingNotes",direction:"inbound",test:function(e,r){return t.default.resolve((0,n.default)(r,"body.encryptedNotes"))},extract:function(e){return t.default.resolve(e.body)}},{name:"transformMeetingParticipants",direction:"inbound",test:function(e,r){return t.default.resolve((0,n.default)(r,"body.encryptedParticipants"))},extract:function(e){return t.default.resolve(e.body)}},{name:"transformMeetingArray",direction:"inbound",test:function(e,r){return t.default.resolve((0,n.default)(r,"body.items[0].seriesId"))},extract:function(e){return t.default.resolve(e.body.items)}},{name:"transformMeeting",direction:"inbound",test:function(e,r){return t.default.resolve((0,n.default)(r,"body.seriesId"))},extract:function(e){return t.default.resolve(e.body)}},{name:"transformMeeting",direction:"inbound",test:function(e,r){return t.default.resolve((0,n.default)(r,"calendarMeetingExternal"))},extract:function(e){return t.default.resolve(e.calendarMeetingExternal)}}],transforms:[{name:"transformMeetingArray",fn:function(e,r){return t.default.all(r.map(function(r){return e.transform("transformMeeting",r)}))}},{name:"transformMeeting",direction:"inbound",fn:function(e,r){if(!r)return t.default.resolve();if(!r.encryptionKeyUrl)return t.default.resolve();var n=r.encryptedParticipants?r.encryptedParticipants.map(function(n){return t.default.all([e.transform("decryptTextProp","encryptedEmailAddress",r.encryptionKeyUrl,n),e.transform("decryptTextProp","encryptedName",r.encryptionKeyUrl,n)])}):[],o=r.meetingJoinInfo?t.default.all([e.transform("decryptTextProp","meetingJoinURI",r.encryptionKeyUrl,r.meetingJoinInfo),e.transform("decryptTextProp","meetingJoinURL",r.encryptionKeyUrl,r.meetingJoinInfo)]):[],a=r.encryptedOrganizer?t.default.all([e.transform("decryptTextProp","encryptedEmailAddress",r.encryptionKeyUrl,r.encryptedOrganizer),e.transform("decryptTextProp","encryptedName",r.encryptionKeyUrl,r.encryptedOrganizer)]):[];return t.default.all([e.transform("decryptTextProp","encryptedSubject",r.encryptionKeyUrl,r),e.transform("decryptTextProp","encryptedLocation",r.encryptionKeyUrl,r),e.transform("decryptTextProp","encryptedNotes",r.encryptionKeyUrl,r),e.transform("decryptTextProp","webexURI",r.encryptionKeyUrl,r),e.transform("decryptTextProp","webexURL",r.encryptionKeyUrl,r),e.transform("decryptTextProp","spaceMeetURL",r.encryptionKeyUrl,r),e.transform("decryptTextProp","spaceURI",r.encryptionKeyUrl,r),e.transform("decryptTextProp","spaceURL",r.encryptionKeyUrl,r)].concat(a,n,o))}},{name:"transformMeetingNotes",direction:"inbound",fn:function(e,r){return r&&r.encryptionKeyUrl?t.default.all([e.transform("decryptTextProp","encryptedNotes",r.encryptionKeyUrl,r)]):t.default.resolve()}},{name:"transformMeetingParticipants",direction:"inbound",fn:function(e,r){if(!r)return t.default.resolve();if(!r.encryptionKeyUrl||!r.encryptedParticipants)return t.default.resolve();var n=r.encryptedParticipants.map(function(n){return t.default.all([e.transform("decryptTextProp","encryptedEmailAddress",r.encryptionKeyUrl,n),e.transform("decryptTextProp","encryptedName",r.encryptionKeyUrl,n)])});return t.default.all(n)}}]}});
},{"@babel/runtime-corejs2/core-js/object/define-property":"eIqn","@babel/runtime-corejs2/helpers/interopRequireDefault":"LXwi","@babel/runtime-corejs2/core-js/promise":"eOfj","lodash/has":"HZ8X","@webex/internal-plugin-device":"Ori7","@webex/internal-plugin-encryption":"YJqt","@webex/internal-plugin-conversation":"QrqD","@webex/webex-core":"bqGz","./calendar":"lxbJ","./config":"iWg8"}],"XrcR":[function(require,module,exports) {
"use strict";var e=require("@babel/runtime-corejs2/core-js/object/define-property"),r=require("@babel/runtime-corejs2/helpers/interopRequireDefault");e(exports,"__esModule",{value:!0}),exports.default=void 0;var t=r(require("@babel/runtime-corejs2/core-js/promise")),n=require("@webex/webex-core"),s=n.Batcher.extend({namespace:"Presence",handleHttpSuccess:function(e){var r=this;return t.default.all(e.body.statusList.map(function(e){return r.handleItemSuccess(e.subject,e)}))},handleItemFailure:function(e,r){return this.getDeferredForResponse(e).then(function(e){e.reject(r)})},handleItemSuccess:function(e,r){return this.getDeferredForResponse(e).then(function(e){e.resolve(r)})},fingerprintRequest:function(e){return t.default.resolve(e)},fingerprintResponse:function(e){return t.default.resolve(e)},prepareRequest:function(e){return t.default.resolve(e)},submitHttpRequest:function(e){return this.webex.request({method:"POST",api:"apheleia",resource:"compositions",body:{subjects:e}})}}),u=s;exports.default=u;
},{"@babel/runtime-corejs2/core-js/object/define-property":"eIqn","@babel/runtime-corejs2/helpers/interopRequireDefault":"LXwi","@babel/runtime-corejs2/core-js/promise":"eOfj","@webex/webex-core":"bqGz"}],"rPFq":[function(require,module,exports) {
var r=require("./_export"),e=require("./_object-to-array")(!0);r(r.S,"Object",{entries:function(r){return e(r)}});
},{"./_export":"mBzY","./_object-to-array":"VRhk"}],"RPa9":[function(require,module,exports) {
require("../../modules/es7.object.entries"),module.exports=require("../../modules/_core").Object.entries;
},{"../../modules/es7.object.entries":"rPFq","../../modules/_core":"RosZ"}],"dv51":[function(require,module,exports) {
module.exports=require("core-js/library/fn/object/entries");
},{"core-js/library/fn/object/entries":"RPa9"}],"HZSV":[function(require,module,exports) {
"use strict";var E=require("@babel/runtime-corejs2/core-js/object/define-property");E(exports,"__esModule",{value:!0}),exports.ENVELOPE_TYPE=exports.PRESENCE_UPDATE=exports.APHELEIA_SUBSCRIPTION_UPDATE=exports.DEFAULT_SUBSCRIPTION_TTL=exports.PREMATURE_EXPIRATION_SUBSCRIPTION_TIME=exports.SUBSCRIPTION_DELAY=exports.EXPIRED_PRESENCE_TIME=exports.UPDATE_PRESENCE_DELAY=exports.FETCH_DELAY=exports.GROUNDSKEEPER_INTERVAL=void 0;var e=2e4;exports.GROUNDSKEEPER_INTERVAL=e;var r=300;exports.FETCH_DELAY=r;var P=6e4;exports.UPDATE_PRESENCE_DELAY=P;var T=6e5;exports.EXPIRED_PRESENCE_TIME=T;var _=6e4;exports.SUBSCRIPTION_DELAY=_;var t=6e4;exports.PREMATURE_EXPIRATION_SUBSCRIPTION_TIME=t;var I=6e5;exports.DEFAULT_SUBSCRIPTION_TTL=I;var s="event:apheleia.subscription_update";exports.APHELEIA_SUBSCRIPTION_UPDATE=s;var R="updated";exports.PRESENCE_UPDATE=R;var o={SUBSCRIPTION:"subscription",PRESENCE:"presence",DELETE:"delete"};exports.ENVELOPE_TYPE=o;
},{"@babel/runtime-corejs2/core-js/object/define-property":"eIqn"}],"kDYR":[function(require,module,exports) {
"use strict";var e=require("@babel/runtime-corejs2/core-js/object/define-property"),t=require("@babel/runtime-corejs2/helpers/interopRequireDefault");e(exports,"__esModule",{value:!0}),exports.default=void 0;var s=t(require("@babel/runtime-corejs2/core-js/promise")),r=t(require("@babel/runtime-corejs2/core-js/object/assign")),i=t(require("@babel/runtime-corejs2/core-js/object/keys")),n=t(require("@babel/runtime-corejs2/core-js/object/entries")),c=t(require("@babel/runtime-corejs2/helpers/toConsumableArray")),a=t(require("@babel/runtime-corejs2/helpers/classCallCheck")),u=t(require("@babel/runtime-corejs2/helpers/createClass")),h=t(require("@babel/runtime-corejs2/helpers/defineProperty")),l=t(require("lodash/debounce")),o=require("./constants"),b=function(){function e(){(0,a.default)(this,e),(0,h.default)(this,"debouncedFetch",(0,l.default)(this.checkFetchers,o.FETCH_DELAY)),this.presences={},this.watchers={},this.fetchers={},this.flights={},this.campers={},this.subscribers={}}return(0,u.default)(e,[{key:"initialize",value:function(e){var t=this;if(!e||!e.internal)throw new Error("Must initialize Presence Worker with webex!");this.webex=e,(this.webex.internal.mercury.connected?s.default.resolve():this.webex.internal.mercury.connect()).then(function(){t.webex.internal.mercury.on(o.APHELEIA_SUBSCRIPTION_UPDATE,t.subscriptionUpdate.bind(t))}),setInterval(this.groundskeeper.bind(this),o.GROUNDSKEEPER_INTERVAL)}},{key:"subscriptionUpdate",value:function(e){this.presences[e.data.subject]=(new Date).getTime(),this.webex.internal.presence.emitEvent(o.PRESENCE_UPDATE,{type:o.ENVELOPE_TYPE.SUBSCRIPTION,payload:e.data})}},{key:"enqueue",value:function(e){var t=(new Date).getTime();this.watchers[e]?this.watchers[e]+=1:this.watchers[e]=1,this.subscribers[e]||(this.campers[e]||(this.campers[e]=t),this.flights[e]||this.presences[e]&&!(this.presences[e]<t-o.UPDATE_PRESENCE_DELAY)||(this.fetchers[e]=e,this.debouncedFetch()))}},{key:"dequeue",value:function(e){this.watchers[e]&&(this.watchers[e]-=1,this.watchers[e]<=0&&(delete this.watchers[e],delete this.fetchers[e],delete this.campers[e]))}},{key:"checkFetchers",value:function(){var e=this,t=this.fetchers;(0,r.default)(this.flights,t),this.fetchers={},this.webex.internal.presence.list((0,i.default)(t)).then(function(t){var s=(new Date).getTime();t.statusList.forEach(function(t){var r=t.subject;delete e.flights[r],e.presences[r]=s}),e.webex.internal.presence.emitEvent(o.PRESENCE_UPDATE,{type:o.ENVELOPE_TYPE.PRESENCE,payload:t})})}},{key:"checkCampers",value:function(){var e=this,t=(new Date).getTime(),s=[];return(0,n.default)(this.campers).forEach(function(r){var i=r[0];r[1]<t-o.SUBSCRIPTION_DELAY&&(delete e.campers[i],e.subscribers[i]=null,s.push(i))}),s}},{key:"checkSubscriptions",value:function(){var e=this,t=(new Date).getTime(),s=[];return(0,n.default)(this.subscribers).forEach(function(r){var i=r[0],n=r[1];n&&(e.watchers[i]&&t>n-o.PREMATURE_EXPIRATION_SUBSCRIPTION_TIME?s.push(i):t>n&&delete e.subscribers[i])}),s}},{key:"cleanPresences",value:function(){var e=this,t=[],s=(new Date).getTime()-o.EXPIRED_PRESENCE_TIME;(0,n.default)(this.presences).forEach(function(r){var i=r[0];r[1]<s&&(delete e.presences[i],t.push(i))}),t.length&&this.webex.internal.presence.emitEvent(o.PRESENCE_UPDATE,{type:o.ENVELOPE_TYPE.DELETE,payload:t})}},{key:"groundskeeper",value:function(){var e=this,t=this.checkCampers(),s=this.checkSubscriptions(),r=[].concat((0,c.default)(t),(0,c.default)(s));r.length&&this.webex.internal.presence.subscribe(r).then(function(t){var s=(new Date).getTime();t.responses.forEach(function(t){if(200===t.responseCode){var r=1e3*t.subscriptionTtl;e.subscribers[t.subject]=s+r,e.presences[t.status.subject]=s}else e.subscribers[t.subject]=s+o.DEFAULT_SUBSCRIPTION_TTL})}),this.cleanPresences()}}]),e}();exports.default=b;
},{"@babel/runtime-corejs2/core-js/object/define-property":"eIqn","@babel/runtime-corejs2/helpers/interopRequireDefault":"LXwi","@babel/runtime-corejs2/core-js/promise":"eOfj","@babel/runtime-corejs2/core-js/object/assign":"h2Mz","@babel/runtime-corejs2/core-js/object/keys":"d81a","@babel/runtime-corejs2/core-js/object/entries":"dv51","@babel/runtime-corejs2/helpers/toConsumableArray":"TW4i","@babel/runtime-corejs2/helpers/classCallCheck":"Tzth","@babel/runtime-corejs2/helpers/createClass":"xM5U","@babel/runtime-corejs2/helpers/defineProperty":"n5FU","lodash/debounce":"CXfR","./constants":"HZSV"}],"TjO1":[function(require,module,exports) {
"use strict";var e=require("@babel/runtime-corejs2/core-js/object/define-property"),r=require("@babel/runtime-corejs2/helpers/interopRequireDefault");e(exports,"__esModule",{value:!0}),exports.default=void 0;var t=r(require("@babel/runtime-corejs2/helpers/toConsumableArray")),n=r(require("@babel/runtime-corejs2/core-js/promise")),u=r(require("@babel/runtime-corejs2/core-js/array/is-array"));require("@webex/internal-plugin-device");var i=require("@webex/webex-core"),s=r(require("./presence-batcher")),a=r(require("./presence-worker")),o=600,c="user",l="user-presence-enabled",d=i.WebexPlugin.extend({namespace:"Presence",children:{batcher:s.default},session:{worker:{default:function(){return new a.default},type:"any"}},initialize:function(){var e=this;this.webex.once("ready",function(){e.config.initializeWorker&&e.worker.initialize(e.webex)})},emitEvent:function(e,r){r.type&&r.payload&&this.trigger(e,r)},enable:function(){return this.webex.internal.feature.setFeature(c,l,!0).then(function(e){return e.value})},disable:function(){return this.webex.internal.feature.setFeature(c,l,!1).then(function(e){return e.value})},isEnabled:function(){return this.webex.internal.feature.getFeature(c,l)},get:function(e){return e?this.webex.request({method:"GET",service:"apheleia",resource:"compositions?userId=".concat(e)}).then(function(e){return e.body}):n.default.reject(new Error("A person id is required"))},list:function(e){var r=this;return e&&(0,u.default)(e)?n.default.all(e.map(function(e){return r.batcher.request(e)})).then(function(e){return{statusList:e}}):n.default.reject(new Error("An array of person ids is required"))},subscribe:function(e){var r,i=this,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o,a=[];if(!e)return n.default.reject(new Error("A person id is required"));r=(0,u.default)(e)?e:[e];for(var c=0;c<r.length;c+=50)a.push(r.slice(c,c+50));return n.default.all(a.map(function(e){return i.webex.request({method:"POST",api:"apheleia",resource:"subscriptions",body:{subjects:e,subscriptionTtl:s,includeStatus:!0}}).then(function(e){return e.body.responses})})).then(function(e){var r;return{responses:(r=[]).concat.apply(r,(0,t.default)(e))}})},unsubscribe:function(e){var r;return e?(r=(0,u.default)(e)?e:[e],this.webex.request({method:"POST",api:"apheleia",resource:"subscriptions",body:{subjects:r,subscriptionTtl:0,includeStatus:!0}})):n.default.reject(new Error("A person id is required"))},setStatus:function(e,r){return e?this.webex.request({method:"POST",api:"apheleia",resource:"events",body:{subject:this.webex.internal.device.userId,eventType:e,ttl:r}}).then(function(e){return e.body}):n.default.reject(new Error("A status is required"))},enqueue:function(e){return this.worker.enqueue(e)},dequeue:function(e){return this.worker.dequeue(e)},version:"1.150.0"}),b=d;exports.default=b;
},{"@babel/runtime-corejs2/core-js/object/define-property":"eIqn","@babel/runtime-corejs2/helpers/interopRequireDefault":"LXwi","@babel/runtime-corejs2/helpers/toConsumableArray":"TW4i","@babel/runtime-corejs2/core-js/promise":"eOfj","@babel/runtime-corejs2/core-js/array/is-array":"BpbX","@webex/internal-plugin-device":"Ori7","@webex/webex-core":"bqGz","./presence-batcher":"XrcR","./presence-worker":"kDYR"}],"Qvog":[function(require,module,exports) {
"use strict";var e=require("@babel/runtime-corejs2/core-js/object/define-property");e(exports,"__esModule",{value:!0}),exports.default=void 0;var r={presence:{batcherWait:50,batcherMaxCalls:50,batcherMaxWait:150}};exports.default=r;
},{"@babel/runtime-corejs2/core-js/object/define-property":"eIqn"}],"Yhuf":[function(require,module,exports) {
"use strict";var e=require("@babel/runtime-corejs2/core-js/object/define-property"),r=require("@babel/runtime-corejs2/helpers/interopRequireDefault");e(exports,"__esModule",{value:!0}),e(exports,"default",{enumerable:!0,get:function(){return i.default}});var t=r(require("@babel/runtime-corejs2/core-js/promise")),n=r(require("lodash/has"));require("@webex/internal-plugin-device");var u=require("@webex/webex-core"),i=r(require("./presence")),o=r(require("./config"));(0,u.registerInternalPlugin)("presence",i.default,{payloadTransformer:{predicates:[{name:"normalizeSingleStatusResponse",direction:"inbound",test:function(e,r){return t.default.resolve((0,n.default)(r,"body.eventType")&&(0,n.default)(r,"body.subject"))},extract:function(e){return t.default.resolve(e)}}],transforms:[{name:"normalizeSingleStatusResponse",direction:"inbound",fn:function(e,r){r.body.status=r.body.eventType}}]},config:o.default});
},{"@babel/runtime-corejs2/core-js/object/define-property":"eIqn","@babel/runtime-corejs2/helpers/interopRequireDefault":"LXwi","@babel/runtime-corejs2/core-js/promise":"eOfj","lodash/has":"HZ8X","@webex/internal-plugin-device":"Ori7","@webex/webex-core":"bqGz","./presence":"TjO1","./config":"Qvog"}],"hBWd":[function(require,module,exports) {
var e,r,o=require("./lib/rng"),s=require("./lib/bytesToUuid"),i=0,n=0;function c(c,l,u){var v=l&&u||0,a=l||[],d=(c=c||{}).node||e,t=void 0!==c.clockseq?c.clockseq:r;if(null==d||null==t){var m=o();null==d&&(d=e=[1|m[0],m[1],m[2],m[3],m[4],m[5]]),null==t&&(t=r=16383&(m[6]<<8|m[7]))}var q=void 0!==c.msecs?c.msecs:(new Date).getTime(),f=void 0!==c.nsecs?c.nsecs:n+1,b=q-i+(f-n)/1e4;if(b<0&&void 0===c.clockseq&&(t=t+1&16383),(b<0||q>i)&&void 0===c.nsecs&&(f=0),f>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");i=q,n=f,r=t;var k=(1e4*(268435455&(q+=122192928e5))+f)%4294967296;a[v++]=k>>>24&255,a[v++]=k>>>16&255,a[v++]=k>>>8&255,a[v++]=255&k;var w=q/4294967296*1e4&268435455;a[v++]=w>>>8&255,a[v++]=255&w,a[v++]=w>>>24&15|16,a[v++]=w>>>16&255,a[v++]=t>>>8|128,a[v++]=255&t;for(var g=0;g<6;++g)a[v+g]=d[g];return l||s(a)}module.exports=c;
},{"./lib/rng":"j3Do","./lib/bytesToUuid":"HSap"}],"V3Z0":[function(require,module,exports) {
var r=require("./lib/rng"),n=require("./lib/bytesToUuid");function e(e,i,u){var a=i&&u||0;"string"==typeof e&&(i="binary"===e?new Array(16):null,e=null);var l=(e=e||{}).random||(e.rng||r)();if(l[6]=15&l[6]|64,l[8]=63&l[8]|128,i)for(var o=0;o<16;++o)i[a+o]=l[o];return i||n(l)}module.exports=e;
},{"./lib/rng":"j3Do","./lib/bytesToUuid":"HSap"}],"mf7H":[function(require,module,exports) {
var e=require("./v1"),r=require("./v4"),v=r;v.v1=e,v.v4=r,module.exports=v;
},{"./v1":"hBWd","./v4":"V3Z0"}],"LVFQ":[function(require,module,exports) {
"use strict";var e=require("@babel/runtime-corejs2/core-js/object/define-property"),r=require("@babel/runtime-corejs2/helpers/interopRequireDefault");e(exports,"__esModule",{value:!0}),exports.default=void 0;var t=r(require("@babel/runtime-corejs2/regenerator")),n=r(require("@babel/runtime-corejs2/helpers/asyncToGenerator")),u=r(require("lodash/defaults")),i=require("@webex/webex-core"),s=r(require("uuid")),o=i.WebexPlugin.extend({namespace:"Support",getFeedbackUrl:function(e){return e=e||{},this.request({method:"POST",api:"conversation",resource:"users/deskFeedbackUrl",body:(0,u.default)(e,{appVersion:this.config.appVersion,appType:this.config.appType,feedbackId:e.feedbackId||s.default.v4(),languageCode:this.config.languageCode})}).then(function(e){return e.body.url})},getSupportUrl:function(){return this.webex.request({method:"GET",api:"conversation",resource:"users/deskSupportUrl",qs:{languageCode:this.config.languageCode}}).then(function(e){return e.body.url})},submitLogs:function(e,r){var i,s,o=this,a=this._constructFileMetadata(e);return!r&&this.webex.logger.sdkBuffer&&this.webex.logger.clientBuffer&&this.webex.logger.buffer&&(r=this.webex.logger.formatLogs()),i=e.locusId&&e.callStart?"".concat(e.locusId,"_").concat(e.callStart,".txt"):"".concat(this.webex.sessionId,".txt"),this.webex.credentials.getUserToken().catch(function(){return o.webex.credentials.getClientToken()}).then(function(){var e=(0,n.default)(t.default.mark(function e(n){var l,c,d,f;return t.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return l={authorization:n.toString()},c={service:"clientLogs",resource:"logs/urls"},d={service:"clientLogs",resource:"logs/meta"},f=(0,u.default)(c,{file:r,shouldAttemptReauth:!1,headers:l,phases:{initialize:{body:{file:i}},upload:{$uri:function(e){return e.tempURL}},finalize:(0,u.default)(d,{$body:function(e){return s=e.userId,{filename:e.logFilename,data:a,userId:o.webex.internal.device.userId||e.userId}}})}}),e.abrupt("return",o.webex.upload(f));case 5:case"end":return e.stop()}},e)}));return function(r){return e.apply(this,arguments)}}()).then(function(e){return s&&!e.userId&&(e.userId=s),e})},_constructFileMetadata:function(e){var r=["locusId","callStart","feedbackId","correlationId","meetingId"].map(function(r){return e[r]?{key:r,value:e[r]}:null}).filter(function(e){return Boolean(e)});return this.webex.sessionId&&r.push({key:"trackingId",value:this.webex.sessionId}),this.webex.internal.device.userId&&r.push({key:"userId",value:this.webex.internal.device.userId}),this.webex.internal.device.orgId&&r.push({key:"orgId",value:this.webex.internal.device.orgId}),r},version:"1.150.0"}),a=o;exports.default=a;
},{"@babel/runtime-corejs2/core-js/object/define-property":"eIqn","@babel/runtime-corejs2/helpers/interopRequireDefault":"LXwi","@babel/runtime-corejs2/regenerator":"i9LV","@babel/runtime-corejs2/helpers/asyncToGenerator":"OYLD","lodash/defaults":"mpS4","@webex/webex-core":"bqGz","uuid":"mf7H"}],"UVBr":[function(require,module,exports) {
"use strict";var e=require("@babel/runtime-corejs2/core-js/object/define-property");e(exports,"__esModule",{value:!0}),exports.default=void 0;var a={device:{preDiscoveryServices:{atlasServiceUrl:"https://atlas-a.wbx2.com/admin/api/v1",atlas:"https://atlas-a.wbx2.com/admin/api/v1",clientLogs:"https://client-logs-a.wbx2.com/api/v1",clientLogsServiceUrl:"https://client-logs-a.wbx2.com/api/v1"}},support:{appType:"",appVersion:"",languageCode:""}};exports.default=a;
},{"@babel/runtime-corejs2/core-js/object/define-property":"eIqn"}],"m8Je":[function(require,module,exports) {
"use strict";var e=require("@babel/runtime-corejs2/core-js/object/define-property"),r=require("@babel/runtime-corejs2/helpers/interopRequireDefault");e(exports,"__esModule",{value:!0}),e(exports,"default",{enumerable:!0,get:function(){return t.default}});var u=require("@webex/webex-core"),t=r(require("./support")),i=r(require("./config"));require("@webex/internal-plugin-device"),(0,u.registerInternalPlugin)("support",t.default,{config:i.default});
},{"@babel/runtime-corejs2/core-js/object/define-property":"eIqn","@babel/runtime-corejs2/helpers/interopRequireDefault":"LXwi","@webex/webex-core":"bqGz","./support":"LVFQ","./config":"UVBr","@webex/internal-plugin-device":"Ori7"}],"cFT5":[function(require,module,exports) {
var process = require("process");
var e=require("process");function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function t(){return!("undefined"==typeof window||!window.process||"renderer"!==window.process.type&&!window.process.__nwjs)||("undefined"==typeof navigator||!navigator.userAgent||!navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&("undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))}function C(e){if(e[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+e[0]+(this.useColors?"%c ":" ")+"+"+module.exports.humanize(this.diff),this.useColors){var o="color: "+this.color;e.splice(1,0,o,"color: inherit");var t=0,C=0;e[0].replace(/%[a-zA-Z%]/g,function(e){"%%"!==e&&(t++,"%c"===e&&(C=t))}),e.splice(C,0,o)}}function n(){var e;return"object"===("undefined"==typeof console?"undefined":o(console))&&console.log&&(e=console).log.apply(e,arguments)}function r(e){try{e?exports.storage.setItem("debug",e):exports.storage.removeItem("debug")}catch(o){}}function s(){var o;try{o=exports.storage.getItem("debug")}catch(t){}return!o&&void 0!==e&&"env"in e&&(o=void 0),o}function F(){try{return localStorage}catch(e){}}exports.log=n,exports.formatArgs=C,exports.save=r,exports.load=s,exports.useColors=t,exports.storage=F(),exports.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],module.exports=require("./common")(exports);var i=module.exports.formatters;i.j=function(e){try{return JSON.stringify(e)}catch(o){return"[UnexpectedJSONParseError]: "+o.message}};
},{"./common":"S6kH","process":"pBGv"}],"Mqdg":[function(require,module,exports) {
"use strict";var e=require("@babel/runtime-corejs2/core-js/object/define-property"),t=require("@babel/runtime-corejs2/helpers/interopRequireDefault");e(exports,"__esModule",{value:!0}),exports.default=void 0;var r=t(require("@babel/runtime-corejs2/core-js/reflect/apply")),n=t(require("@babel/runtime-corejs2/core-js/json/stringify")),a=t(require("lodash/cloneDeep")),c=require("@webex/webex-core"),i=require("@webex/common"),o=require("debug")("attachmentActions"),u=c.WebexPlugin.extend({initialize:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];(0,r.default)(c.WebexPlugin.prototype.initialize,this,t)},listen:function(){var e=this;return(0,i.createEventEnvelope)(this.webex,i.SDK_EVENT.EXTERNAL.RESOURCE.ATTACHMENT_ACTIONS).then(function(t){return e.eventEnvelope=t,e.webex.internal.mercury.connect().then(function(){e.listenTo(e.webex.internal.mercury,i.SDK_EVENT.INTERNAL.WEBEX_ACTIVITY,function(t){return e.onWebexApiEvent(t)})})})},create:function(e){return this.request({method:"POST",service:"hydra",resource:"attachment/actions",body:e}).then(function(e){return e.body})},get:function(e){var t=e.id||e;return this.request({service:"hydra",resource:"attachment/actions/".concat(t)}).then(function(e){return e.body.items||e.body})},onWebexApiEvent:function(e){var t=e.data.activity;switch(t.verb){case i.SDK_EVENT.INTERNAL.ACTIVITY_VERB.CARD_ACTION:var r=this.getattachmentActionEvent(t,i.SDK_EVENT.EXTERNAL.EVENT_TYPE.CREATED);r&&(o('attachmentAction "created" payload:             '.concat((0,n.default)(r))),this.trigger(i.SDK_EVENT.EXTERNAL.EVENT_TYPE.CREATED,r))}},getattachmentActionEvent:function(e,t){try{var r=(0,a.default)(this.eventEnvelope),n=(0,i.getHydraClusterString)(this.webex,e.target.url);return r.event=t,r.data.created=e.published,r.actorId=(0,i.constructHydraId)(i.hydraTypes.PEOPLE,e.actor.entryUUID,n),r.data.roomId=(0,i.constructHydraId)(i.hydraTypes.ROOM,e.target.id,n),r.data.messageId=(0,i.constructHydraId)(i.hydraTypes.MESSAGE,e.parent.id,n),r.data.personId=(0,i.constructHydraId)(i.hydraTypes.PEOPLE,e.actor.entryUUID,n),r.data.id=(0,i.constructHydraId)(i.hydraTypes.ATTACHMENT_ACTION,e.id,n),e.object.inputs&&(r.data.inputs=e.object.inputs),r.data.type=e.object.objectType,r}catch(c){return this.webex.logger.error("Unable to generate SDK event from mercury 'socket activity for attachmentAction:".concat(t," event: ").concat(c.message)),null}},version:"1.150.0"}),s=u;exports.default=s;
},{"@babel/runtime-corejs2/core-js/object/define-property":"eIqn","@babel/runtime-corejs2/helpers/interopRequireDefault":"LXwi","@babel/runtime-corejs2/core-js/reflect/apply":"Lf7Q","@babel/runtime-corejs2/core-js/json/stringify":"E09K","lodash/cloneDeep":"Y0zI","@webex/webex-core":"bqGz","@webex/common":"UeF0","debug":"cFT5"}],"KWl7":[function(require,module,exports) {
"use strict";var e=require("@babel/runtime-corejs2/core-js/object/define-property"),r=require("@babel/runtime-corejs2/helpers/interopRequireDefault");e(exports,"__esModule",{value:!0}),exports.default=void 0,require("@webex/internal-plugin-conversation"),require("@webex/internal-plugin-mercury");var t=require("@webex/webex-core"),i=r(require("./attachmentActions"));(0,t.registerPlugin)("attachmentActions",i.default);var u=i.default;exports.default=u;
},{"@babel/runtime-corejs2/core-js/object/define-property":"eIqn","@babel/runtime-corejs2/helpers/interopRequireDefault":"LXwi","@webex/internal-plugin-conversation":"QrqD","@webex/internal-plugin-mercury":"njNR","@webex/webex-core":"bqGz","./attachmentActions":"Mqdg"}],"fN4w":[function(require,module,exports) {
"use strict";var e=require("@babel/runtime-corejs2/core-js/object/define-property"),r=require("@babel/runtime-corejs2/helpers/interopRequireDefault");e(exports,"__esModule",{value:!0}),exports.default=void 0;var t=r(require("@babel/runtime-corejs2/core-js/promise")),i=r(require("@babel/runtime-corejs2/core-js/object/assign")),n=r(require("querystring")),u=require("@webex/webex-core"),s=require("@webex/common"),o=u.WebexPlugin.extend({namespace:"Lyra",list:function(){return this.webex.request({method:"GET",api:"lyra",resource:"/spaces"}).then(function(e){return e.body.items})},get:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=e.id||e.identity&&e.identity.id;return r?this.webex.request({method:"GET",api:"lyra",resource:"/spaces/".concat(r)}).then(function(e){return e.body}):t.default.reject(new Error("space.id is required"))},join:function(e,r){var t={pass:{type:(r=(0,i.default)({passType:"MANUAL"},r)).passType},deviceUrl:this.webex.internal.device.url};return r.data&&(t.pass.data=r.data),r.verificationInitiation&&(t.verificationInitiation=r.verificationInitiation),r.uri?this.webex.request({method:"PUT",uri:r.uri,body:t}):this.webex.request({method:"PUT",api:"lyra",resource:"".concat(e.url,"/occupants/@me"),body:t})},leave:function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t="".concat(e.url,"/occupants/@me");if(!r.removeAllDevices){var i={deviceUrl:s.base64.toBase64Url(this.webex.internal.device.url)};t+="?".concat(n.default.stringify(i))}return this.webex.request({method:"DELETE",api:"lyra",resource:t})},verifyOccupant:function(e,r){return this.webex.request({method:"PUT",uri:"".concat(e.url,"/occupants/").concat(r),body:{pass:{type:"VERIFICATION"}}})},getCurrentBindings:function(e){return this.webex.request({method:"GET",uri:"".concat(e.url,"/bindings")}).then(function(e){return e.body})},bindConversation:function(){var e=this,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},u=r.id||r.identity&&r.identity.id;if(!r.url)return t.default.reject(new Error("space.url is required"));if(!u)return t.default.reject(new Error("space.id is required"));if(!i.kmsResourceObjectUrl)return t.default.reject(new Error("conversation.kmsResourceObjectUrl is required"));if(!i.url)return t.default.reject(new Error("conversation.url is required"));var s={method:"POST",body:{kmsMessage:{method:"create",uri:"/authorizations",resourceUri:"".concat(i.kmsResourceObjectUrl),userIds:[u]},conversationUrl:i.url}};return n.uri?s.uri=n.uri:(s.api="lyra",s.resource="".concat(r.url,"/bindings")),this._bindConversation(u).then(function(){return e.webex.request(s)}).then(function(e){return e.body})},_bindConversation:function(e){return t.default.resolve()},unbindConversation:function(){var e=this,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=r.id||r.identity&&r.identity.id;if(!r.url)return t.default.reject(new Error("space.url is required"));if(!o)return t.default.reject(new Error("space.id is required"));if(!i.url)return t.default.reject(new Error("conversation.url is required"));if(!i.kmsResourceObjectUrl)return t.default.reject(new Error("conversation.kmsResourceObjectUrl is required"));var a={kmsMessage:{method:"delete",uri:"".concat(i.kmsResourceObjectUrl,"/authorizations?").concat(n.default.stringify({authId:o}))},conversationUrl:s.base64.toBase64Url(i.url)};return this.webex.internal.encryption.kms.prepareRequest(a.kmsMessage).then(function(t){return a.kmsMessage=t.wrapped,u.uri?e.webex.request({method:"DELETE",uri:"".concat(u.uri,"?").concat(n.default.stringify(a))}):e.webex.request({method:"DELETE",api:"lyra",resource:"".concat(r.url,"/bindings?").concat(n.default.stringify(a))})})},deleteBinding:function(){var e=this,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},u=r.id||r.identity&&r.identity.id;if(!r.url)return t.default.reject(new Error("space.url is required"));if(!u)return t.default.reject(new Error("space.id is required"));if(!i.kmsResourceObjectUrl)return t.default.reject(new Error("options.kmsResourceObjectUrl is required"));if(!i.bindingId)return t.default.reject(new Error("options.bindingId is required"));var s={kmsMessage:{method:"delete",uri:"".concat(i.kmsResourceObjectUrl,"/authorizations?").concat(n.default.stringify({authId:u}))}};return this.webex.internal.encryption.kms.prepareRequest(s.kmsMessage).then(function(t){return s.kmsMessage=t.wrapped,e.webex.request({method:"DELETE",uri:"".concat(r.url,"/bindings/").concat(i.bindingId,"?").concat(n.default.stringify(s))})})},version:"1.150.0"}),a=o;exports.default=a;
},{"@babel/runtime-corejs2/core-js/object/define-property":"eIqn","@babel/runtime-corejs2/helpers/interopRequireDefault":"LXwi","@babel/runtime-corejs2/core-js/promise":"eOfj","@babel/runtime-corejs2/core-js/object/assign":"h2Mz","querystring":"fk5h","@webex/webex-core":"bqGz","@webex/common":"UeF0"}],"iZwi":[function(require,module,exports) {
"use strict";var e=require("@babel/runtime-corejs2/core-js/object/define-property"),r=require("@babel/runtime-corejs2/helpers/interopRequireDefault");e(exports,"__esModule",{value:!0}),exports.default=void 0;var t=r(require("@babel/runtime-corejs2/core-js/promise")),u=require("@webex/webex-core"),o=u.WebexPlugin.extend({namespace:"Lyra",getAudioState:function(e){return this.webex.request({method:"GET",uri:"".concat(e.url,"/audio")}).then(function(e){return e.body})},putAudioState:function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return r.deviceUrl?this.webex.request({method:"PUT",uri:"".concat(e.url,"/audio"),body:r}).then(function(e){return e.body}):t.default.reject(new Error("audioState.deviceUrl is required"))},mute:function(e){return this.webex.request({method:"POST",uri:"".concat(e.url,"/audio/microphones/actions/mute/invoke")})},unmute:function(e){return this.webex.request({method:"POST",uri:"".concat(e.url,"/audio/microphones/actions/un-mute/invoke")})},increaseVolume:function(e){return this.webex.request({method:"POST",uri:"".concat(e.url,"/audio/volume/actions/increase/invoke")})},decreaseVolume:function(e){return this.webex.request({method:"POST",uri:"".concat(e.url,"/audio/volume/actions/decrease/invoke")})},setVolume:function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.webex.request({method:"POST",uri:"".concat(e.url,"/audio/volume/actions/set/invoke"),body:{level:r}})},version:"1.150.0"}),i=o;exports.default=i;
},{"@babel/runtime-corejs2/core-js/object/define-property":"eIqn","@babel/runtime-corejs2/helpers/interopRequireDefault":"LXwi","@babel/runtime-corejs2/core-js/promise":"eOfj","@webex/webex-core":"bqGz"}],"lHCA":[function(require,module,exports) {
"use strict";var e=require("@babel/runtime-corejs2/core-js/object/define-property"),r=require("@babel/runtime-corejs2/helpers/interopRequireDefault");e(exports,"__esModule",{value:!0}),exports.default=void 0;var t=require("@webex/webex-core"),i=r(require("./space")),u=r(require("./device")),o=t.WebexPlugin.extend({namespace:"Lyra",children:{space:i.default,device:u.default},getAdvertisedEndpoint:function(e){return this.webex.request({method:"GET",api:"proximity",resource:"/ultrasound/advertisements",qs:{token:e}}).then(function(e){return e.body})},version:"1.150.0"}),s=o;exports.default=s;
},{"@babel/runtime-corejs2/core-js/object/define-property":"eIqn","@babel/runtime-corejs2/helpers/interopRequireDefault":"LXwi","@webex/webex-core":"bqGz","./space":"fN4w","./device":"iZwi"}],"fhJE":[function(require,module,exports) {
"use strict";var e=require("@babel/runtime-corejs2/core-js/object/define-property");e(exports,"__esModule",{value:!0}),exports.default=void 0;var r={lyra:{}};exports.default=r;
},{"@babel/runtime-corejs2/core-js/object/define-property":"eIqn"}],"GY59":[function(require,module,exports) {
"use strict";var e=require("@babel/runtime-corejs2/core-js/object/define-property"),r=require("@babel/runtime-corejs2/helpers/interopRequireDefault");e(exports,"__esModule",{value:!0}),e(exports,"default",{enumerable:!0,get:function(){return u.default}}),e(exports,"config",{enumerable:!0,get:function(){return i.default}}),require("@webex/internal-plugin-mercury"),require("@webex/internal-plugin-encryption"),require("@webex/internal-plugin-conversation"),require("@webex/internal-plugin-feature");var n=require("@webex/webex-core"),u=r(require("./lyra")),i=r(require("./config"));(0,n.registerInternalPlugin)("lyra",u.default,{config:i.default});
},{"@babel/runtime-corejs2/core-js/object/define-property":"eIqn","@babel/runtime-corejs2/helpers/interopRequireDefault":"LXwi","@webex/internal-plugin-mercury":"njNR","@webex/internal-plugin-encryption":"YJqt","@webex/internal-plugin-conversation":"QrqD","@webex/internal-plugin-feature":"GYrY","@webex/webex-core":"bqGz","./lyra":"lHCA","./config":"fhJE"}],"oPGW":[function(require,module,exports) {
"use strict";var e=require("@babel/runtime-corejs2/core-js/object/define-property"),r=require("@babel/runtime-corejs2/helpers/interopRequireDefault");e(exports,"__esModule",{value:!0}),exports.default=void 0;var t,n=r(require("@babel/runtime-corejs2/core-js/reflect/delete-property")),i=r(require("@babel/runtime-corejs2/core-js/promise")),u=r(require("@babel/runtime-corejs2/core-js/object/assign")),o=r(require("@babel/runtime-corejs2/core-js/object/keys")),c=r(require("@babel/runtime-corejs2/core-js/object/get-own-property-descriptor")),a=r(require("@babel/runtime-corejs2/helpers/slicedToArray")),s=r(require("@babel/runtime-corejs2/helpers/applyDecoratedDescriptor")),l=r(require("lodash/get")),b=require("@webex/common"),d=require("@webex/webex-core"),y=d.WebexPlugin.extend((t={namespace:"Search",people:function(e){return!(e=e||{}).queryString&&e.query&&(e.queryString=e.query,(0,n.default)(e,"query")),e.queryString?this.request({api:"argonaut",resource:"directory",method:"POST",body:e}).then(function(e){return e.body}):i.default.reject(new Error("`options.query` is required"))},bindSearchKey:function(){var e=this;return this.webex.internal.encryption.kms.createUnboundKeys({count:1}).then(function(r){var t=(0,a.default)(r,1)[0];return e.webex.internal.encryption.kms.createResource({key:t,userIds:[e.webex.internal.device.userId]}).then(function(){return e.webex.internal.device.set("searchEncryptionKeyUrl",t.uri)})})},search:function(e){var r=this;e=e||{};var t=i.default.resolve();return this.webex.internal.device.searchEncryptionKeyUrl||(t=this.bindSearchKey()),t.then(function(){return r.webex.request({service:"argonaut",resource:"search",method:"POST",body:(0,u.default)(e,{searchEncryptionKeyUrl:r.webex.internal.device.searchEncryptionKeyUrl})})}).then(function(t){var n=(0,l.default)(t,"body.activities.items",[]);if(e.includeRemoteClusterReferences&&t.body.breadcrumbs){var u=t.body.breadcrumbs,c=[];return(0,o.default)(u).forEach(function(e){var t="".concat(e,":identityLookup"),n=u[e].items.map(function(e){return e.activityUrl}),o=r.webex.internal.conversation.bulkActivitiesFetch(n,{cluster:t}).catch(function(e){return r.logger.warn("search: error fetching from remote clusters",e),i.default.resolve([])});c.push(o)}),i.default.all(c).then(function(e){return e.reduce(function(e,r){return e.concat(r)},n)})}return n})},version:"1.150.0"},(0,s.default)(t,"bindSearchKey",[b.oneFlight],(0,c.default)(t,"bindSearchKey"),t),t)),h=y;exports.default=h;
},{"@babel/runtime-corejs2/core-js/object/define-property":"eIqn","@babel/runtime-corejs2/helpers/interopRequireDefault":"LXwi","@babel/runtime-corejs2/core-js/reflect/delete-property":"CFlp","@babel/runtime-corejs2/core-js/promise":"eOfj","@babel/runtime-corejs2/core-js/object/assign":"h2Mz","@babel/runtime-corejs2/core-js/object/keys":"d81a","@babel/runtime-corejs2/core-js/object/get-own-property-descriptor":"mQ9c","@babel/runtime-corejs2/helpers/slicedToArray":"vwJD","@babel/runtime-corejs2/helpers/applyDecoratedDescriptor":"WYJH","lodash/get":"U5YY","@webex/common":"UeF0","@webex/webex-core":"bqGz"}],"wwqp":[function(require,module,exports) {
"use strict";var e=require("@babel/runtime-corejs2/core-js/object/define-property");e(exports,"__esModule",{value:!0}),exports.default=void 0;var r={search:{}};exports.default=r;
},{"@babel/runtime-corejs2/core-js/object/define-property":"eIqn"}],"Rtzo":[function(require,module,exports) {
"use strict";var e=require("@babel/runtime-corejs2/core-js/object/define-property"),r=require("@babel/runtime-corejs2/helpers/interopRequireDefault");e(exports,"__esModule",{value:!0}),e(exports,"default",{enumerable:!0,get:function(){return i.default}});var t=r(require("@babel/runtime-corejs2/core-js/promise")),n=r(require("lodash/has")),u=require("@webex/webex-core"),i=r(require("./search")),o=r(require("./config"));require("@webex/internal-plugin-conversation"),require("@webex/internal-plugin-encryption"),(0,u.registerInternalPlugin)("search",i.default,{config:o.default,payloadTransformer:{predicates:[{name:"encryptSearchQuery",direction:"outbound",test:function(e,r){if(!(0,n.default)(r,"body.query"))return t.default.resolve(!1);if(!(0,n.default)(r,"body.searchEncryptionKeyUrl"))return t.default.resolve(!1);if("argonaut"===r.service)return t.default.resolve(!0);if(r.url){var u=e.webex.internal.services.getServiceFromUrl(r.url);return t.default.resolve(u&&"argonaut"===u.name)}return t.default.resolve(!1)},extract:function(e){return t.default.resolve(e.body)}},{name:"transformObjectArray",direction:"inbound",test:function(e,r){return t.default.resolve((0,n.default)(r,"body.activities.items[0].objectType")).then(function(n){if(!n)return t.default.resolve(!1);if("argonaut"===r.options.service)return t.default.resolve(!0);if(r.options.url){var u=e.webex.internal.services.getServiceFromUrl(r.options.url);return t.default.resolve(u&&"argonaut"===u.name)}return t.default.resolve(!1)})},extract:function(e){return t.default.resolve(e.body.activities.items)}}],transforms:[{name:"encryptSearchQuery",direction:"outbound",fn:function(e,r){return e.webex.internal.encryption.encryptText(r.searchEncryptionKeyUrl,r.query).then(function(e){r.query=e})}}]}});
},{"@babel/runtime-corejs2/core-js/object/define-property":"eIqn","@babel/runtime-corejs2/helpers/interopRequireDefault":"LXwi","@babel/runtime-corejs2/core-js/promise":"eOfj","lodash/has":"HZ8X","@webex/webex-core":"bqGz","./search":"oPGW","./config":"wwqp","@webex/internal-plugin-conversation":"QrqD","@webex/internal-plugin-encryption":"YJqt"}],"QlVU":[function(require,module,exports) {
var e,r,o=require("./lib/rng"),s=require("./lib/bytesToUuid"),i=0,n=0;function c(c,l,u){var v=l&&u||0,a=l||[],d=(c=c||{}).node||e,t=void 0!==c.clockseq?c.clockseq:r;if(null==d||null==t){var m=o();null==d&&(d=e=[1|m[0],m[1],m[2],m[3],m[4],m[5]]),null==t&&(t=r=16383&(m[6]<<8|m[7]))}var q=void 0!==c.msecs?c.msecs:(new Date).getTime(),f=void 0!==c.nsecs?c.nsecs:n+1,b=q-i+(f-n)/1e4;if(b<0&&void 0===c.clockseq&&(t=t+1&16383),(b<0||q>i)&&void 0===c.nsecs&&(f=0),f>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");i=q,n=f,r=t;var k=(1e4*(268435455&(q+=122192928e5))+f)%4294967296;a[v++]=k>>>24&255,a[v++]=k>>>16&255,a[v++]=k>>>8&255,a[v++]=255&k;var w=q/4294967296*1e4&268435455;a[v++]=w>>>8&255,a[v++]=255&w,a[v++]=w>>>24&15|16,a[v++]=w>>>16&255,a[v++]=t>>>8|128,a[v++]=255&t;for(var g=0;g<6;++g)a[v+g]=d[g];return l||s(a)}module.exports=c;
},{"./lib/rng":"j3Do","./lib/bytesToUuid":"HSap"}],"dGEb":[function(require,module,exports) {
var r=require("./lib/rng"),n=require("./lib/bytesToUuid");function e(e,i,u){var a=i&&u||0;"string"==typeof e&&(i="binary"===e?new Array(16):null,e=null);var l=(e=e||{}).random||(e.rng||r)();if(l[6]=15&l[6]|64,l[8]=63&l[8]|128,i)for(var o=0;o<16;++o)i[a+o]=l[o];return i||n(l)}module.exports=e;
},{"./lib/rng":"j3Do","./lib/bytesToUuid":"HSap"}],"QiPw":[function(require,module,exports) {
var e=require("./v1"),r=require("./v4"),v=r;v.v1=e,v.v4=r,module.exports=v;
},{"./v1":"QlVU","./v4":"dGEb"}],"elWo":[function(require,module,exports) {
"use strict";var e=require("@babel/runtime-corejs2/core-js/object/define-property");e(exports,"__esModule",{value:!0}),exports.DEFAULT_PRODUCT_NAME=exports.UC_CLOUD=exports.LYRA_SPACE=void 0;var r="LYRA_SPACE";exports.LYRA_SPACE=r;var o="uc-cloud";exports.UC_CLOUD=o;var t="default";exports.DEFAULT_PRODUCT_NAME=t;
},{"@babel/runtime-corejs2/core-js/object/define-property":"eIqn"}],"giSh":[function(require,module,exports) {
"use strict";var e=require("@babel/runtime-corejs2/core-js/object/define-property"),t=require("@babel/runtime-corejs2/helpers/interopRequireDefault");e(exports,"__esModule",{value:!0}),exports.default=void 0;var r=t(require("@babel/runtime-corejs2/core-js/object/values")),i=t(require("lodash/merge")),s={devices:{},get:function(e){return this.devices[e]},set:function(e){var t=e.id||e.identity&&e.identity.id,r=this.devices[t];r?(0,i.default)(r,e):this.devices[t]=e},reset:function(){this.devices={}},getAll:function(){return(0,r.default)(this.devices)}},u=s;exports.default=u;
},{"@babel/runtime-corejs2/core-js/object/define-property":"eIqn","@babel/runtime-corejs2/helpers/interopRequireDefault":"LXwi","@babel/runtime-corejs2/core-js/object/values":"vh4c","lodash/merge":"yubd"}],"fedU":[function(require,module,exports) {
"use strict";var e=require("@babel/runtime-corejs2/core-js/object/define-property"),r=require("@babel/runtime-corejs2/helpers/interopRequireDefault");e(exports,"__esModule",{value:!0}),exports.default=void 0;var i=r(require("@babel/runtime-corejs2/core-js/promise")),t=r(require("lodash/cloneDeep"));require("@webex/internal-plugin-lyra"),require("@webex/internal-plugin-search");var n=require("@webex/webex-core"),a=r(require("uuid")),c=require("./constants"),d=r(require("./collection")),o=n.WebexPlugin.extend({namespace:"DeviceManager",_devicePendingPinChallenge:null,_pairedDevice:null,_boundSpace:null,initialize:function(){var e=this;this.webex.internal.mercury.on("event:lyra.space_updated",function(r){var i=r.data;e._receiveDeviceUpdates(i)})},getAll:function(){return d.default.getAll()},refresh:function(){var e=this;return d.default.reset(),this.webex.request({api:"wdm",resource:"devices/auxiliary"}).then(function(r){return r.body?e._updateDeviceMetadata(r.body.items).then(function(i){return i.forEach(function(r){if(r.deviceInfo&&r.deviceInfo.machineType===c.LYRA_SPACE)return e.webex.internal.lyra.space.get(r.deviceInfo).catch(function(r){e.logger.error("DeviceManager#refresh: failed to receive device info",r)})}),r.body.items.forEach(function(e){d.default.set(e)}),e.getAll()}):i.default.reject()}).catch(function(r){e.logger.error("DeviceManager#refresh: failed to fetch recent devices",r)})},search:function(e){var r=this;return e&&e.searchQuery?this.webex.internal.search.people({searchId:a.default.v4(),searchType:"DEVICE_SEARCH",searchEntity:"device",includePeople:!1,includeRooms:!0,queryString:e.searchQuery}).catch(function(e){throw r.logger.error("DeviceManager#search: failed to search a device",e),e}):(this.logger.error("DeviceManager#search: options.searchQuery is required"),i.default.reject(new Error("DeviceManager#search: options.searchQuery is required")))},upsert:function(e){var r=this,t=e.id||e.identity&&e.identity.id;return t?(this._pairedDevice=this._devicePendingPinChallenge,this._devicePendingPinChallenge=null,d.default.get(t)?(d.default.set(e),i.default.resolve(d.default.get(t))):this.webex.request({api:"wdm",method:"PUT",resource:"devices/auxiliary/Room/".concat(t)}).then(function(e){var i=e.body;return r._decryptDeviceName(i)}).then(function(e){return d.default.set(e),i.default.resolve(d.default.get(t))}).catch(function(e){return r.logger.error("DeviceManager#upsert: failed to add/update a device",e),i.default.reject(e)})):(this.logger.error("DeviceManager#upsert: device.id is required"),i.default.reject(new Error("DeviceManager#upsert: device.id is required")))},get:function(e){var r,t=this;return e?this.webex.internal.lyra.getAdvertisedEndpoint(e).then(function(e){return r=e,t.webex.internal.lyra.space.get({id:e.advertiser.id})}).then(function(e){return e&&e.identity&&e.identity.displayName&&(r.advertiser.displayName=e.identity.displayName),r}).catch(function(e){return t.logger.error("DeviceManager#get: failed to get device info",e),i.default.reject(e)}):(this.logger.error("DeviceManager#get: token is required"),i.default.reject(new Error("DeviceManager#get: token is required")))},remove:function(e){var r=this;return e?this.webex.request({method:"delete",api:"wdm",resource:"devices/auxiliary/".concat(e)}).catch(function(e){return r.logger.error("DeviceManager#remove: failed to remove the device",e),i.default.reject(e)}):(this.logger.error("DeviceManager#remove: deviceId is required"),i.default.reject(new Error("DeviceManager#remove: deviceId is required")))},requestPin:function(e){var r=this,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.id||e.identity&&e.identity.id;if(!n)return this.logger.error("DeviceManager#requestPin: device.id is required"),i.default.reject(new Error("DeviceManager#requestPin: device.id is required"));var a={id:n,url:"/spaces/".concat(n)};return this.webex.internal.lyra.space.get(a).then(function(e){return e&&e.occupants&&e.occupants.pinChallenge?(r.logger.info("DeviceManager#requestPin: space is PIN challenge capable"),r.webex.internal.lyra.space.join(a,{passType:"MANUAL",verificationInitiation:"PIN",data:t.data}).then(function(){return r._devicePendingPinChallenge=e,e})):(r.logger.info("DeviceManager#requestPin: space is not PIN challenge capable, probably already occupied, will still return device info"),r.webex.internal.lyra.space.get(a).then(function(){return i.default.resolve(e)}))}).catch(function(e){return r.logger.error("DeviceManager#requestPin: device failed PIN challenge request",e),i.default.reject(e)})},pair:function(){var e=this,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!r.pin)return this.logger.error("DeviceManager#pair: options.pin is required"),i.default.reject(new Error("DeviceManager#pair: options.pin is required"));if(this._devicePendingPinChallenge){var t={id:this._devicePendingPinChallenge.identity.id,url:"/spaces/".concat(this._devicePendingPinChallenge.identity.id)};return this.webex.internal.lyra.space.join(t,{passType:"PIN_ANSWER",data:r.pin}).catch(function(r){return e.logger.error("DeviceManager#pair: incorrect PIN, unable to pair ",r),i.default.reject(r)}).then(function(){return e.upsert(e._devicePendingPinChallenge)})}return this.logger.error("DeviceManager#pair: no device to pair"),i.default.reject(new Error("DeviceManager#pair: no device to pair"))},unpair:function(){var e=this,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!this._pairedDevice)return this.logger.error("DeviceManager#unpair: no device to unpair"),i.default.reject(new Error("DeviceManager#unpair: no device to unpair"));var t={url:"/spaces/".concat(this._pairedDevice.identity.id)};return this.webex.internal.lyra.space.leave(t,r).catch(function(r){return e.logger.error("DeviceManager#unpair: failed to remove device from Lyra",r),i.default.reject(r)})},bindSpace:function(){var e=this,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!r.url)return this.logger.error("DeviceManager#pair: options.url is required"),i.default.reject(new Error("DeviceManager#bindSpace: options.url is required"));if(!r.kmsResourceObjectUrl)return this.logger.error("DeviceManager#bindSpace: options.kmsResourceObjectUrl is required"),i.default.reject(new Error("DeviceManager#bindSpace: options.kmsResourceObjectUrl is required"));if(!this._pairedDevice)return this.logger.error("DeviceManager#bindSpace: No device paired currently"),i.default.reject(new Error("DeviceManager#bindSpace: No device paired currently"));var t={url:"/spaces/".concat(this._pairedDevice.identity.id),id:this._pairedDevice.identity.id};return this._boundSpace={kmsResourceObjectUrl:r.kmsResourceObjectUrl,url:r.url},this.webex.internal.lyra.space.bindConversation(t,this._boundSpace).catch(function(r){return e.logger.error("DeviceManager#bindSpace: failed to bind device to Space"),i.default.reject(r)})},unbindSpace:function(){var e=this;if(!this._pairedDevice||!this._boundSpace)return this.logger.error("DeviceManager#unbindSpace: No space currently bound to the device"),i.default.reject(new Error("DeviceManager#unbindSpace: No space currently bound to the device"));var r={url:"/spaces/".concat(this._pairedDevice.identity.id),id:this._pairedDevice.identity.id};return this.webex.internal.lyra.space.unbindConversation(r,this._boundSpace).then(function(r){return e._boundSpace=null,i.default.resolve(r)}).catch(function(r){return e.logger.error("DeviceManager#unbindSpace: failed to unbind Space to device"),i.default.reject(r)})},getAudioState:function(){return this._pairedDevice?this.webex.internal.lyra.device.getAudioState(this._pairedDevice):(this.logger.error("DeviceManager#getAudioState: Currently no device is paired"),i.default.reject(new Error("DeviceManager#getAudioState: Currently no device is paired")))},putAudioState:function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.webex.internal.lyra.device.putAudioState(e,r)},mute:function(){return this._pairedDevice?this.webex.internal.lyra.device.mute(this._pairedDevice):(this.logger.error("DeviceManager#mute: Currently no device is paired"),i.default.reject(new Error("DeviceManager#mute: Currently no device is paired")))},unmute:function(){return this._pairedDevice?this.webex.internal.lyra.device.unmute(this._pairedDevice):(this.logger.error("DeviceManager#unmute: Currently no device is paired"),i.default.reject(new Error("DeviceManager#unmute: Currently no device is paired")))},increaseVolume:function(){return this._pairedDevice?this.webex.internal.lyra.device.increaseVolume(this._pairedDevice):(this.logger.error("DeviceManager#increaseVolume: Currently no device is paired"),i.default.reject(new Error("DeviceManager#increaseVolume: Currently no device is paired")))},decreaseVolume:function(){return this._pairedDevice?this.webex.internal.lyra.device.decreaseVolume(this._pairedDevice):(this.logger.error("DeviceManager#decreaseVolume: Currently no device is paired"),i.default.reject(new Error("DeviceManager#decreaseVolume: Currently no device is paired")))},setVolume:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return this._pairedDevice?this.webex.internal.lyra.device.setVolume(this._pairedDevice,e):(this.logger.error("DeviceManager#setVolume: Currently no device is paired"),i.default.reject(new Error("DeviceManager#setVolume: Currently no device is paired")))},_updateDeviceMetadata:function(){var e=this,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(!r.length)return i.default.resolve(r);var n=(0,t.default)(r);return i.default.all(n.map(function(r,t){return e.webex.internal.services.waitForCatalog("postauth").then(function(){return r.deviceClass===c.UC_CLOUD&&(r.id="".concat(e.webex.internal.services.get("wdm"),"/").concat(r.id)),e._decryptDeviceName(r)}).then(function(e){return n[t]=e,i.default.resolve()})})).then(function(){return i.default.resolve(n)})},_decryptDeviceName:function(){var e=this,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=(0,t.default)(r);return n.metadata&&n.metadata.encryptedUserAssignedName&&n.metadata.encryptionKeyUrl?this.webex.internal.encryption.decryptText(n.metadata.encryptionKeyUrl,n.metadata.encryptedUserAssignedName).then(function(e){return n.metadata.encryptedUserAssignedName=void 0,n.metadata.userAssignedName=e,i.default.resolve(n)}).catch(function(r){n.metadata.encryptedUserAssignedName=void 0,e.logger.error("DeviceCollection#_decryptDeviceName: failed to decrypt device name",r)}):i.default.resolve(n)},_receiveDeviceUpdates:function(e){var r=this;if(e&&e.spaceUrl){var t=e.spaceUrl.substring(e.spaceUrl.lastIndexOf("/")+1);if(d.default.get(t))return this.webex.internal.lyra.space.get({id:t}).then(function(e){var n=d.default.get(t);return!n||!e.occupants||e.occupants.self&&e.occupants.self.verified?i.default.resolve():(n.productName=e.devices&&e.devices[0]&&e.devices[0].productName||c.DEFAULT_PRODUCT_NAME,(r._pairedDevice&&(r._pairedDevice.id||r._pairedDevice.identity.id))===t?(r._pairedDevice=null,r.logger.info("DeviceManager#_receiveDeviceUpdates: device ".concat(t," lost pairing")),i.default.resolve()):r._devicePendingPinChallenge.identity.id!==t?r.upsert(n):i.default.resolve())}).catch(function(e){r.logger.error("DeviceManager#_receiveDeviceUpdates: failed to receive updates for Lyra space",e)})}return i.default.resolve()},version:"1.150.0"}),u=o;exports.default=u;
},{"@babel/runtime-corejs2/core-js/object/define-property":"eIqn","@babel/runtime-corejs2/helpers/interopRequireDefault":"LXwi","@babel/runtime-corejs2/core-js/promise":"eOfj","lodash/cloneDeep":"Y0zI","@webex/internal-plugin-lyra":"GY59","@webex/internal-plugin-search":"Rtzo","@webex/webex-core":"bqGz","uuid":"QiPw","./constants":"elWo","./collection":"giSh"}],"uAd0":[function(require,module,exports) {
"use strict";var e=require("@babel/runtime-corejs2/core-js/object/define-property");e(exports,"__esModule",{value:!0}),exports.default=void 0;var r={};exports.default=r;
},{"@babel/runtime-corejs2/core-js/object/define-property":"eIqn"}],"KF6p":[function(require,module,exports) {
"use strict";var e=require("@babel/runtime-corejs2/core-js/object/define-property"),r=require("@babel/runtime-corejs2/helpers/interopRequireDefault");e(exports,"__esModule",{value:!0}),e(exports,"default",{enumerable:!0,get:function(){return i.default}}),e(exports,"config",{enumerable:!0,get:function(){return t.default}}),require("@webex/internal-plugin-device");var u=require("@webex/webex-core"),i=r(require("./device-manager")),t=r(require("./config"));(0,u.registerPlugin)("devicemanager",i.default,{config:t.default});
},{"@babel/runtime-corejs2/core-js/object/define-property":"eIqn","@babel/runtime-corejs2/helpers/interopRequireDefault":"LXwi","@webex/internal-plugin-device":"Ori7","@webex/webex-core":"bqGz","./device-manager":"fedU","./config":"uAd0"}],"lMyY":[function(require,module,exports) {
"use strict";var e=require("@babel/runtime-corejs2/core-js/object/define-property"),r=require("@babel/runtime-corejs2/helpers/interopRequireDefault");e(exports,"__esModule",{value:!0}),exports.default=exports.levels=void 0;var t=r(require("@babel/runtime-corejs2/core-js/object/keys")),n=r(require("@babel/runtime-corejs2/core-js/object/entries")),i=r(require("@babel/runtime-corejs2/core-js/reflect/delete-property")),o=r(require("@babel/runtime-corejs2/helpers/toConsumableArray")),u=r(require("@babel/runtime-corejs2/helpers/slicedToArray")),f=r(require("lodash/isString")),l=r(require("lodash/isObject")),s=r(require("lodash/isArray")),a=r(require("lodash/has")),c=r(require("lodash/cloneDeep")),h=require("@webex/common"),g=require("@webex/webex-core"),d={silent:0,group:1,groupEnd:2,error:3,warn:4,log:5,info:6,debug:7,trace:8},p=(0,t.default)(d).filter(function(e){return"silent"!==e});exports.levels=p;var v={error:["log"],warn:["error","log"],info:["log"],debug:["info","log"],trace:["debug","info","log"]},b={SDK:"sdk",CLIENT:"client"},L="wx-js-sdk",y=/[Aa]uthorization/;function B(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(r.includes(e))return e;if(r.push(e),(0,s.default)(e))return e.map(function(e){return B(e,r)});if(!(0,l.default)(e))return(0,f.default)(e)&&h.patterns.containsEmails.test(e)?e.replace(h.patterns.containsEmails,"[REDACTED]"):e;for(var t=0,o=(0,n.default)(e);t<o.length;t++){var a=(0,u.default)(o[t],2),c=a[0],g=a[1];y.test(c)?(0,i.default)(e,c):e[c]=B(g,r)}return e}var m=g.WebexPlugin.extend({namespace:"Logger",derived:{level:{cache:!1,fn:function(){return this.getCurrentLevel()}},client_level:{cache:!1,fn:function(){return this.getCurrentClientLevel()}}},session:{buffer:{type:"array",default:function(){return[]}},groupLevel:{type:"number",default:function(){return 0}},sdkBuffer:{type:"array",default:function(){return[]}},clientBuffer:{type:"array",default:function(){return[]}}},filter:function(){for(var e=arguments.length,r=new Array(e),t=0;t<e;t++)r[t]=arguments[t];return r.map(function(e){return e instanceof Error?e:B(e=(0,c.default)(e))})},shouldPrint:function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:b.SDK;return d[e]<=d[r===b.SDK?this.getCurrentLevel():this.getCurrentClientLevel()]},shouldBuffer:function(e){return d[e]<=(this.config.bufferLogLevel?d[this.config.bufferLogLevel]:d.info)},getCurrentLevel:function(){if(this.config.level)return this.config.level;if(!p.includes(void 0)){0;var e=this.webex.internal.device&&this.webex.internal.device.features.developer.get("log-level");return e&&p.includes(e)?e:"error"}},getCurrentClientLevel:function(){return this.config.clientLevel?this.config.clientLevel:this.getCurrentLevel()},formatLogs:function(){function e(e){return e[1]}var r=[],t=0,n=0;if(this.config.separateLogBuffers)for(;t<this.clientBuffer.length||n<this.sdkBuffer.length;)n<this.sdkBuffer.length&&(t>=this.clientBuffer.length||new Date(e(this.sdkBuffer[n]))<=new Date(e(this.clientBuffer[t])))?(r.push(this.sdkBuffer[n]),n+=1):t<this.clientBuffer.length&&(r.push(this.clientBuffer[t]),t+=1);else r=this.buffer;return r.join("\n")},version:"1.150.0"});function j(e,r,t){var n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return function(){var u,f,l=t,s=l===b.SDK?L:this.config.clientName||l;this.config.separateLogBuffers?(f=this.config.clientHistoryLength?this.config.clientHistoryLength:this.config.historyLength,u=l===b.SDK?this.sdkBuffer:this.clientBuffer):(u=this.buffer,f=this.config.historyLength);try{var a=!n&&this.shouldPrint(e,l),c=i||this.shouldBuffer(e);if(!c&&!a)return;var d=[s].concat((0,o.default)(this.filter.apply(this,arguments))),p=d.map(function(e){return e instanceof g.WebexHttpError?e.toString():e});if(a){var v,y=h.inBrowser?p:d;0,(v=console)[r].apply(v,(0,o.default)(y))}if(c){var B=new Date;p.unshift(B.toISOString()),p.unshift("|  ".repeat(this.groupLevel)),u.push(p),u.length>f&&u.shift(),"group"===e&&(this.groupLevel+=1),"groupEnd"===e&&this.groupLevel>0&&(this.groupLevel-=1)}}catch(m){n||console.warn("failed to execute Logger#".concat(e),m)}}}p.forEach(function(e){var r=v[e],t=e;if(r)for(r=r.slice();!console[t];)t=r.pop();m.prototype["client_".concat(e)]=j(e,t,b.CLIENT),m.prototype[e]=j(e,t,b.SDK)}),m.prototype.client_logToBuffer=j(p.info,p.info,b.CLIENT,!0,!0),m.prototype.logToBuffer=j(p.info,p.info,b.SDK,!0,!0);var q=m;exports.default=q;
},{"@babel/runtime-corejs2/core-js/object/define-property":"eIqn","@babel/runtime-corejs2/helpers/interopRequireDefault":"LXwi","@babel/runtime-corejs2/core-js/object/keys":"d81a","@babel/runtime-corejs2/core-js/object/entries":"dv51","@babel/runtime-corejs2/core-js/reflect/delete-property":"CFlp","@babel/runtime-corejs2/helpers/toConsumableArray":"TW4i","@babel/runtime-corejs2/helpers/slicedToArray":"vwJD","lodash/isString":"CkJF","lodash/isObject":"u9vI","lodash/isArray":"p0cq","lodash/has":"HZ8X","lodash/cloneDeep":"Y0zI","@webex/common":"UeF0","@webex/webex-core":"bqGz"}],"Cv9W":[function(require,module,exports) {
"use strict";var e=require("@babel/runtime-corejs2/core-js/object/define-property");e(exports,"__esModule",{value:!0}),exports.default=void 0;var r={logger:{level:void 0,historyLength:1e3}};exports.default=r;
},{"@babel/runtime-corejs2/core-js/object/define-property":"eIqn"}],"qshP":[function(require,module,exports) {
"use strict";var e=require("@babel/runtime-corejs2/helpers/typeof"),r=require("@babel/runtime-corejs2/core-js/weak-map"),t=require("@babel/runtime-corejs2/core-js/object/define-property"),u=require("@babel/runtime-corejs2/core-js/object/get-own-property-descriptor"),n=require("@babel/runtime-corejs2/helpers/interopRequireDefault");t(exports,"__esModule",{value:!0}),t(exports,"default",{enumerable:!0,get:function(){return l.default}}),t(exports,"levels",{enumerable:!0,get:function(){return l.levels}});var o=require("@webex/webex-core"),l=f(require("./logger")),i=n(require("./config"));function a(e){if("function"!=typeof r)return null;var t=new r,u=new r;return(a=function(e){return e?u:t})(e)}function f(r,n){if(!n&&r&&r.__esModule)return r;if(null===r||"object"!==e(r)&&"function"!=typeof r)return{default:r};var o=a(n);if(o&&o.has(r))return o.get(r);var l={},i=t&&u;for(var f in r)if("default"!==f&&Object.prototype.hasOwnProperty.call(r,f)){var c=i?u(r,f):null;c&&(c.get||c.set)?t(l,f,c):l[f]=r[f]}return l.default=r,o&&o.set(r,l),l}(0,o.registerPlugin)("logger",l.default,{config:i.default,replace:!0});
},{"@babel/runtime-corejs2/helpers/typeof":"hVHy","@babel/runtime-corejs2/core-js/weak-map":"HKHU","@babel/runtime-corejs2/core-js/object/define-property":"eIqn","@babel/runtime-corejs2/core-js/object/get-own-property-descriptor":"mQ9c","@babel/runtime-corejs2/helpers/interopRequireDefault":"LXwi","@webex/webex-core":"bqGz","./logger":"lMyY","./config":"Cv9W"}],"iSxC":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.compactObject=d,exports.deprecated=a,exports.detectBrowser=p,exports.disableLog=o,exports.disableWarnings=s,exports.extractVersion=n,exports.filterStats=l,exports.log=i,exports.walkStats=u,exports.wrapPeerConnectionEvent=r;let e=!0,t=!0;function n(e,t,n){const r=e.match(t);return r&&r.length>=n&&parseInt(r[n],10)}function r(e,t,n){if(!e.RTCPeerConnection)return;const r=e.RTCPeerConnection.prototype,o=r.addEventListener;r.addEventListener=function(e,r){if(e!==t)return o.apply(this,arguments);const s=e=>{const t=n(e);t&&(r.handleEvent?r.handleEvent(t):r(t))};return this._eventMap=this._eventMap||{},this._eventMap[t]||(this._eventMap[t]=new Map),this._eventMap[t].set(r,s),o.apply(this,[e,s])};const s=r.removeEventListener;r.removeEventListener=function(e,n){if(e!==t||!this._eventMap||!this._eventMap[t])return s.apply(this,arguments);if(!this._eventMap[t].has(n))return s.apply(this,arguments);const r=this._eventMap[t].get(n);return this._eventMap[t].delete(n),0===this._eventMap[t].size&&delete this._eventMap[t],0===Object.keys(this._eventMap).length&&delete this._eventMap,s.apply(this,[e,r])},Object.defineProperty(r,"on"+t,{get(){return this["_on"+t]},set(e){this["_on"+t]&&(this.removeEventListener(t,this["_on"+t]),delete this["_on"+t]),e&&this.addEventListener(t,this["_on"+t]=e)},enumerable:!0,configurable:!0})}function o(t){return"boolean"!=typeof t?new Error("Argument type: "+typeof t+". Please use a boolean."):(e=t,t?"adapter.js logging disabled":"adapter.js logging enabled")}function s(e){return"boolean"!=typeof e?new Error("Argument type: "+typeof e+". Please use a boolean."):(t=!e,"adapter.js deprecation warnings "+(e?"disabled":"enabled"))}function i(){if("object"==typeof window){if(e)return;"undefined"!=typeof console&&"function"==typeof console.log&&console.log.apply(console,arguments)}}function a(e,n){t&&console.warn(e+" is deprecated, please use "+n+" instead.")}function p(e){const t={browser:null,version:null};if(void 0===e||!e.navigator)return t.browser="Not a browser.",t;const{navigator:r}=e;if(r.mozGetUserMedia)t.browser="firefox",t.version=n(r.userAgent,/Firefox\/(\d+)\./,1);else if(r.webkitGetUserMedia||!1===e.isSecureContext&&e.webkitRTCPeerConnection&&!e.RTCIceGatherer)t.browser="chrome",t.version=n(r.userAgent,/Chrom(e|ium)\/(\d+)\./,2);else if(r.mediaDevices&&r.userAgent.match(/Edge\/(\d+).(\d+)$/))t.browser="edge",t.version=n(r.userAgent,/Edge\/(\d+).(\d+)$/,2);else{if(!e.RTCPeerConnection||!r.userAgent.match(/AppleWebKit\/(\d+)\./))return t.browser="Not a supported browser.",t;t.browser="safari",t.version=n(r.userAgent,/AppleWebKit\/(\d+)\./,1),t.supportsUnifiedPlan=e.RTCRtpTransceiver&&"currentDirection"in e.RTCRtpTransceiver.prototype}return t}function c(e){return"[object Object]"===Object.prototype.toString.call(e)}function d(e){return c(e)?Object.keys(e).reduce(function(t,n){const r=c(e[n]),o=r?d(e[n]):e[n],s=r&&!Object.keys(o).length;return void 0===o||s?t:Object.assign(t,{[n]:o})},{}):e}function u(e,t,n){t&&!n.has(t.id)&&(n.set(t.id,t),Object.keys(t).forEach(r=>{r.endsWith("Id")?u(e,e.get(t[r]),n):r.endsWith("Ids")&&t[r].forEach(t=>{u(e,e.get(t),n)})}))}function l(e,t,n){const r=n?"outbound-rtp":"inbound-rtp",o=new Map;if(null===t)return o;const s=[];return e.forEach(e=>{"track"===e.type&&e.trackIdentifier===t.id&&s.push(e)}),s.forEach(t=>{e.forEach(n=>{n.type===r&&n.trackId===t.id&&u(e,n,o)})}),o}
},{}],"s6SN":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.shimGetUserMedia=i;var e=t(require("../utils.js"));function r(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,o=new WeakMap;return(r=function(e){return e?o:t})(e)}function t(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var o=r(t);if(o&&o.has(e))return o.get(e);var i={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var d=n?Object.getOwnPropertyDescriptor(e,a):null;d&&(d.get||d.set)?Object.defineProperty(i,a,d):i[a]=e[a]}return i.default=e,o&&o.set(e,i),i}const o=e.log;function i(e,r){const t=e&&e.navigator;if(!t.mediaDevices)return;const i=function(e){if("object"!=typeof e||e.mandatory||e.optional)return e;const r={};return Object.keys(e).forEach(t=>{if("require"===t||"advanced"===t||"mediaSource"===t)return;const o="object"==typeof e[t]?e[t]:{ideal:e[t]};void 0!==o.exact&&"number"==typeof o.exact&&(o.min=o.max=o.exact);const i=function(e,r){return e?e+r.charAt(0).toUpperCase()+r.slice(1):"deviceId"===r?"sourceId":r};if(void 0!==o.ideal){r.optional=r.optional||[];let e={};"number"==typeof o.ideal?(e[i("min",t)]=o.ideal,r.optional.push(e),(e={})[i("max",t)]=o.ideal,r.optional.push(e)):(e[i("",t)]=o.ideal,r.optional.push(e))}void 0!==o.exact&&"number"!=typeof o.exact?(r.mandatory=r.mandatory||{},r.mandatory[i("",t)]=o.exact):["min","max"].forEach(e=>{void 0!==o[e]&&(r.mandatory=r.mandatory||{},r.mandatory[i(e,t)]=o[e])})}),e.advanced&&(r.optional=(r.optional||[]).concat(e.advanced)),r},n=function(e,n){if(r.version>=61)return n(e);if((e=JSON.parse(JSON.stringify(e)))&&"object"==typeof e.audio){const r=function(e,r,t){r in e&&!(t in e)&&(e[t]=e[r],delete e[r])};r((e=JSON.parse(JSON.stringify(e))).audio,"autoGainControl","googAutoGainControl"),r(e.audio,"noiseSuppression","googNoiseSuppression"),e.audio=i(e.audio)}if(e&&"object"==typeof e.video){let a=e.video.facingMode;a=a&&("object"==typeof a?a:{ideal:a});const d=r.version<66;if(a&&("user"===a.exact||"environment"===a.exact||"user"===a.ideal||"environment"===a.ideal)&&(!t.mediaDevices.getSupportedConstraints||!t.mediaDevices.getSupportedConstraints().facingMode||d)){let r;if(delete e.video.facingMode,"environment"===a.exact||"environment"===a.ideal?r=["back","rear"]:"user"!==a.exact&&"user"!==a.ideal||(r=["front"]),r)return t.mediaDevices.enumerateDevices().then(t=>{let d=(t=t.filter(e=>"videoinput"===e.kind)).find(e=>r.some(r=>e.label.toLowerCase().includes(r)));return!d&&t.length&&r.includes("back")&&(d=t[t.length-1]),d&&(e.video.deviceId=a.exact?{exact:d.deviceId}:{ideal:d.deviceId}),e.video=i(e.video),o("chrome: "+JSON.stringify(e)),n(e)})}e.video=i(e.video)}return o("chrome: "+JSON.stringify(e)),n(e)},a=function(e){return r.version>=64?e:{name:{PermissionDeniedError:"NotAllowedError",PermissionDismissedError:"NotAllowedError",InvalidStateError:"NotAllowedError",DevicesNotFoundError:"NotFoundError",ConstraintNotSatisfiedError:"OverconstrainedError",TrackStartError:"NotReadableError",MediaDeviceFailedDueToShutdown:"NotAllowedError",MediaDeviceKillSwitchOn:"NotAllowedError",TabCaptureError:"AbortError",ScreenCaptureError:"AbortError",DeviceCaptureError:"AbortError"}[e.name]||e.name,message:e.message,constraint:e.constraint||e.constraintName,toString(){return this.name+(this.message&&": ")+this.message}}};if(t.getUserMedia=function(e,r,o){n(e,e=>{t.webkitGetUserMedia(e,r,e=>{o&&o(a(e))})})}.bind(t),t.mediaDevices.getUserMedia){const e=t.mediaDevices.getUserMedia.bind(t.mediaDevices);t.mediaDevices.getUserMedia=function(r){return n(r,r=>e(r).then(e=>{if(r.audio&&!e.getAudioTracks().length||r.video&&!e.getVideoTracks().length)throw e.getTracks().forEach(e=>{e.stop()}),new DOMException("","NotFoundError");return e},e=>Promise.reject(a(e))))}}}
},{"../utils.js":"iSxC"}],"VHa8":[function(require,module,exports) {
"use strict";function e(e,i){e.navigator.mediaDevices&&"getDisplayMedia"in e.navigator.mediaDevices||e.navigator.mediaDevices&&("function"==typeof i?e.navigator.mediaDevices.getDisplayMedia=function(a){return i(a).then(i=>{const t=a.video&&a.video.width,o=a.video&&a.video.height,d=a.video&&a.video.frameRate;return a.video={mandatory:{chromeMediaSource:"desktop",chromeMediaSourceId:i,maxFrameRate:d||3}},t&&(a.video.mandatory.maxWidth=t),o&&(a.video.mandatory.maxHeight=o),e.navigator.mediaDevices.getUserMedia(a)})}:console.error("shimGetDisplayMedia: getSourceId argument is not a function"))}Object.defineProperty(exports,"__esModule",{value:!0}),exports.shimGetDisplayMedia=e;
},{}],"uI5X":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.fixNegotiationNeeded=C,exports.shimAddTrackRemoveTrack=h,exports.shimAddTrackRemoveTrackWithNative=d,Object.defineProperty(exports,"shimGetDisplayMedia",{enumerable:!0,get:function(){return r.shimGetDisplayMedia}}),exports.shimGetSendersWithDtmf=c,exports.shimGetStats=a,Object.defineProperty(exports,"shimGetUserMedia",{enumerable:!0,get:function(){return t.shimGetUserMedia}}),exports.shimMediaStream=i,exports.shimOnTrack=s,exports.shimPeerConnection=m,exports.shimSenderReceiverGetStats=p;var e=o(require("../utils.js")),t=require("./getusermedia"),r=require("./getdisplaymedia");function n(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(n=function(e){return e?r:t})(e)}function o(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=n(t);if(r&&r.has(e))return r.get(e);var o={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var c=i?Object.getOwnPropertyDescriptor(e,s):null;c&&(c.get||c.set)?Object.defineProperty(o,s,c):o[s]=e[s]}return o.default=e,r&&r.set(e,o),o}function i(e){e.MediaStream=e.MediaStream||e.webkitMediaStream}function s(t){if("object"!=typeof t||!t.RTCPeerConnection||"ontrack"in t.RTCPeerConnection.prototype)e.wrapPeerConnectionEvent(t,"track",e=>(e.transceiver||Object.defineProperty(e,"transceiver",{value:{receiver:e.receiver}}),e));else{Object.defineProperty(t.RTCPeerConnection.prototype,"ontrack",{get(){return this._ontrack},set(e){this._ontrack&&this.removeEventListener("track",this._ontrack),this.addEventListener("track",this._ontrack=e)},enumerable:!0,configurable:!0});const e=t.RTCPeerConnection.prototype.setRemoteDescription;t.RTCPeerConnection.prototype.setRemoteDescription=function(){return this._ontrackpoly||(this._ontrackpoly=(e=>{e.stream.addEventListener("addtrack",r=>{let n;n=t.RTCPeerConnection.prototype.getReceivers?this.getReceivers().find(e=>e.track&&e.track.id===r.track.id):{track:r.track};const o=new Event("track");o.track=r.track,o.receiver=n,o.transceiver={receiver:n},o.streams=[e.stream],this.dispatchEvent(o)}),e.stream.getTracks().forEach(r=>{let n;n=t.RTCPeerConnection.prototype.getReceivers?this.getReceivers().find(e=>e.track&&e.track.id===r.id):{track:r};const o=new Event("track");o.track=r,o.receiver=n,o.transceiver={receiver:n},o.streams=[e.stream],this.dispatchEvent(o)})}),this.addEventListener("addstream",this._ontrackpoly)),e.apply(this,arguments)}}}function c(e){if("object"==typeof e&&e.RTCPeerConnection&&!("getSenders"in e.RTCPeerConnection.prototype)&&"createDTMFSender"in e.RTCPeerConnection.prototype){const t=function(e,t){return{track:t,get dtmf(){return void 0===this._dtmf&&("audio"===t.kind?this._dtmf=e.createDTMFSender(t):this._dtmf=null),this._dtmf},_pc:e}};if(!e.RTCPeerConnection.prototype.getSenders){e.RTCPeerConnection.prototype.getSenders=function(){return this._senders=this._senders||[],this._senders.slice()};const r=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addTrack=function(e,n){let o=r.apply(this,arguments);return o||(o=t(this,e),this._senders.push(o)),o};const n=e.RTCPeerConnection.prototype.removeTrack;e.RTCPeerConnection.prototype.removeTrack=function(e){n.apply(this,arguments);const t=this._senders.indexOf(e);-1!==t&&this._senders.splice(t,1)}}const r=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(e){this._senders=this._senders||[],r.apply(this,[e]),e.getTracks().forEach(e=>{this._senders.push(t(this,e))})};const n=e.RTCPeerConnection.prototype.removeStream;e.RTCPeerConnection.prototype.removeStream=function(e){this._senders=this._senders||[],n.apply(this,[e]),e.getTracks().forEach(e=>{const t=this._senders.find(t=>t.track===e);t&&this._senders.splice(this._senders.indexOf(t),1)})}}else if("object"==typeof e&&e.RTCPeerConnection&&"getSenders"in e.RTCPeerConnection.prototype&&"createDTMFSender"in e.RTCPeerConnection.prototype&&e.RTCRtpSender&&!("dtmf"in e.RTCRtpSender.prototype)){const t=e.RTCPeerConnection.prototype.getSenders;e.RTCPeerConnection.prototype.getSenders=function(){const e=t.apply(this,[]);return e.forEach(e=>e._pc=this),e},Object.defineProperty(e.RTCRtpSender.prototype,"dtmf",{get(){return void 0===this._dtmf&&("audio"===this.track.kind?this._dtmf=this._pc.createDTMFSender(this.track):this._dtmf=null),this._dtmf}})}}function a(e){if(!e.RTCPeerConnection)return;const t=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(){const[e,r,n]=arguments;if(arguments.length>0&&"function"==typeof e)return t.apply(this,arguments);if(0===t.length&&(0===arguments.length||"function"!=typeof e))return t.apply(this,[]);const o=function(e){const t={};return e.result().forEach(e=>{const r={id:e.id,timestamp:e.timestamp,type:{localcandidate:"local-candidate",remotecandidate:"remote-candidate"}[e.type]||e.type};e.names().forEach(t=>{r[t]=e.stat(t)}),t[r.id]=r}),t},i=function(e){return new Map(Object.keys(e).map(t=>[t,e[t]]))};if(arguments.length>=2){const n=function(e){r(i(o(e)))};return t.apply(this,[n,e])}return new Promise((e,r)=>{t.apply(this,[function(t){e(i(o(t)))},r])}).then(r,n)}}function p(t){if(!("object"==typeof t&&t.RTCPeerConnection&&t.RTCRtpSender&&t.RTCRtpReceiver))return;if(!("getStats"in t.RTCRtpSender.prototype)){const r=t.RTCPeerConnection.prototype.getSenders;r&&(t.RTCPeerConnection.prototype.getSenders=function(){const e=r.apply(this,[]);return e.forEach(e=>e._pc=this),e});const n=t.RTCPeerConnection.prototype.addTrack;n&&(t.RTCPeerConnection.prototype.addTrack=function(){const e=n.apply(this,arguments);return e._pc=this,e}),t.RTCRtpSender.prototype.getStats=function(){const t=this;return this._pc.getStats().then(r=>e.filterStats(r,t.track,!0))}}if(!("getStats"in t.RTCRtpReceiver.prototype)){const r=t.RTCPeerConnection.prototype.getReceivers;r&&(t.RTCPeerConnection.prototype.getReceivers=function(){const e=r.apply(this,[]);return e.forEach(e=>e._pc=this),e}),e.wrapPeerConnectionEvent(t,"track",e=>(e.receiver._pc=e.srcElement,e)),t.RTCRtpReceiver.prototype.getStats=function(){const t=this;return this._pc.getStats().then(r=>e.filterStats(r,t.track,!1))}}if(!("getStats"in t.RTCRtpSender.prototype&&"getStats"in t.RTCRtpReceiver.prototype))return;const r=t.RTCPeerConnection.prototype.getStats;t.RTCPeerConnection.prototype.getStats=function(){if(arguments.length>0&&arguments[0]instanceof t.MediaStreamTrack){const e=arguments[0];let t,r,n;return this.getSenders().forEach(r=>{r.track===e&&(t?n=!0:t=r)}),this.getReceivers().forEach(t=>(t.track===e&&(r?n=!0:r=t),t.track===e)),n||t&&r?Promise.reject(new DOMException("There are more than one sender or receiver for the track.","InvalidAccessError")):t?t.getStats():r?r.getStats():Promise.reject(new DOMException("There is no sender or receiver for the track.","InvalidAccessError"))}return r.apply(this,arguments)}}function d(e){e.RTCPeerConnection.prototype.getLocalStreams=function(){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},Object.keys(this._shimmedLocalStreams).map(e=>this._shimmedLocalStreams[e][0])};const t=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addTrack=function(e,r){if(!r)return t.apply(this,arguments);this._shimmedLocalStreams=this._shimmedLocalStreams||{};const n=t.apply(this,arguments);return this._shimmedLocalStreams[r.id]?-1===this._shimmedLocalStreams[r.id].indexOf(n)&&this._shimmedLocalStreams[r.id].push(n):this._shimmedLocalStreams[r.id]=[r,n],n};const r=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(e){this._shimmedLocalStreams=this._shimmedLocalStreams||{},e.getTracks().forEach(e=>{if(this.getSenders().find(t=>t.track===e))throw new DOMException("Track already exists.","InvalidAccessError")});const t=this.getSenders();r.apply(this,arguments);const n=this.getSenders().filter(e=>-1===t.indexOf(e));this._shimmedLocalStreams[e.id]=[e].concat(n)};const n=e.RTCPeerConnection.prototype.removeStream;e.RTCPeerConnection.prototype.removeStream=function(e){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},delete this._shimmedLocalStreams[e.id],n.apply(this,arguments)};const o=e.RTCPeerConnection.prototype.removeTrack;e.RTCPeerConnection.prototype.removeTrack=function(e){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},e&&Object.keys(this._shimmedLocalStreams).forEach(t=>{const r=this._shimmedLocalStreams[t].indexOf(e);-1!==r&&this._shimmedLocalStreams[t].splice(r,1),1===this._shimmedLocalStreams[t].length&&delete this._shimmedLocalStreams[t]}),o.apply(this,arguments)}}function h(e,t){if(!e.RTCPeerConnection)return;if(e.RTCPeerConnection.prototype.addTrack&&t.version>=65)return d(e);const r=e.RTCPeerConnection.prototype.getLocalStreams;e.RTCPeerConnection.prototype.getLocalStreams=function(){const e=r.apply(this);return this._reverseStreams=this._reverseStreams||{},e.map(e=>this._reverseStreams[e.id])};const n=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(t){if(this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},t.getTracks().forEach(e=>{if(this.getSenders().find(t=>t.track===e))throw new DOMException("Track already exists.","InvalidAccessError")}),!this._reverseStreams[t.id]){const r=new e.MediaStream(t.getTracks());this._streams[t.id]=r,this._reverseStreams[r.id]=t,t=r}n.apply(this,[t])};const o=e.RTCPeerConnection.prototype.removeStream;function i(e,t){let r=t.sdp;return Object.keys(e._reverseStreams||[]).forEach(t=>{const n=e._reverseStreams[t],o=e._streams[n.id];r=r.replace(new RegExp(o.id,"g"),n.id)}),new RTCSessionDescription({type:t.type,sdp:r})}e.RTCPeerConnection.prototype.removeStream=function(e){this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},o.apply(this,[this._streams[e.id]||e]),delete this._reverseStreams[this._streams[e.id]?this._streams[e.id].id:e.id],delete this._streams[e.id]},e.RTCPeerConnection.prototype.addTrack=function(t,r){if("closed"===this.signalingState)throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");const n=[].slice.call(arguments,1);if(1!==n.length||!n[0].getTracks().find(e=>e===t))throw new DOMException("The adapter.js addTrack polyfill only supports a single  stream which is associated with the specified track.","NotSupportedError");if(this.getSenders().find(e=>e.track===t))throw new DOMException("Track already exists.","InvalidAccessError");this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{};const o=this._streams[r.id];if(o)o.addTrack(t),Promise.resolve().then(()=>{this.dispatchEvent(new Event("negotiationneeded"))});else{const n=new e.MediaStream([t]);this._streams[r.id]=n,this._reverseStreams[n.id]=r,this.addStream(n)}return this.getSenders().find(e=>e.track===t)},["createOffer","createAnswer"].forEach(function(t){const r=e.RTCPeerConnection.prototype[t],n={[t](){const e=arguments;return arguments.length&&"function"==typeof arguments[0]?r.apply(this,[t=>{const r=i(this,t);e[0].apply(null,[r])},t=>{e[1]&&e[1].apply(null,t)},arguments[2]]):r.apply(this,arguments).then(e=>i(this,e))}};e.RTCPeerConnection.prototype[t]=n[t]});const s=e.RTCPeerConnection.prototype.setLocalDescription;e.RTCPeerConnection.prototype.setLocalDescription=function(){return arguments.length&&arguments[0].type?(arguments[0]=function(e,t){let r=t.sdp;return Object.keys(e._reverseStreams||[]).forEach(t=>{const n=e._reverseStreams[t],o=e._streams[n.id];r=r.replace(new RegExp(n.id,"g"),o.id)}),new RTCSessionDescription({type:t.type,sdp:r})}(this,arguments[0]),s.apply(this,arguments)):s.apply(this,arguments)};const c=Object.getOwnPropertyDescriptor(e.RTCPeerConnection.prototype,"localDescription");Object.defineProperty(e.RTCPeerConnection.prototype,"localDescription",{get(){const e=c.get.apply(this);return""===e.type?e:i(this,e)}}),e.RTCPeerConnection.prototype.removeTrack=function(e){if("closed"===this.signalingState)throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");if(!e._pc)throw new DOMException("Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.","TypeError");if(!(e._pc===this))throw new DOMException("Sender was not created by this connection.","InvalidAccessError");let t;this._streams=this._streams||{},Object.keys(this._streams).forEach(r=>{this._streams[r].getTracks().find(t=>e.track===t)&&(t=this._streams[r])}),t&&(1===t.getTracks().length?this.removeStream(this._reverseStreams[t.id]):t.removeTrack(e.track),this.dispatchEvent(new Event("negotiationneeded")))}}function m(e,t){!e.RTCPeerConnection&&e.webkitRTCPeerConnection&&(e.RTCPeerConnection=e.webkitRTCPeerConnection),e.RTCPeerConnection&&t.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(t){const r=e.RTCPeerConnection.prototype[t],n={[t](){return arguments[0]=new("addIceCandidate"===t?e.RTCIceCandidate:e.RTCSessionDescription)(arguments[0]),r.apply(this,arguments)}};e.RTCPeerConnection.prototype[t]=n[t]})}function C(t,r){e.wrapPeerConnectionEvent(t,"negotiationneeded",e=>{const t=e.target;if(!(r.version<72||t.getConfiguration&&"plan-b"===t.getConfiguration().sdpSemantics)||"stable"===t.signalingState)return e})}
},{"../utils.js":"iSxC","./getusermedia":"s6SN","./getdisplaymedia":"VHa8"}],"NZ1C":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.filterIceServers=n;var e=t(require("../utils"));function r(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(r=function(e){return e?n:t})(e)}function t(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=r(t);if(n&&n.has(e))return n.get(e);var u={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var s=l?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(u,i,s):u[i]=e[i]}return u.default=e,n&&n.set(e,u),u}function n(r,t){let n=!1;return(r=JSON.parse(JSON.stringify(r))).filter(r=>{if(r&&(r.urls||r.url)){let t=r.urls||r.url;r.url&&!r.urls&&e.deprecated("RTCIceServer.url","RTCIceServer.urls");const u="string"==typeof t;return u&&(t=[t]),t=t.filter(e=>{if(0===e.indexOf("stun:"))return!1;const r=e.startsWith("turn")&&!e.startsWith("turn:[")&&e.includes("transport=udp");return r&&!n?(n=!0,!0):r&&!n}),delete r.url,r.urls=u?t[0]:t,!!t.length}})}
},{"../utils":"iSxC"}],"YHvh":[function(require,module,exports) {
"use strict";var r={generateIdentifier:function(){return Math.random().toString(36).substr(2,10)}};r.localCName=r.generateIdentifier(),r.splitLines=function(r){return r.trim().split("\n").map(function(r){return r.trim()})},r.splitSections=function(r){return r.split("\nm=").map(function(r,e){return(e>0?"m="+r:r).trim()+"\r\n"})},r.getDescription=function(e){var t=r.splitSections(e);return t&&t[0]},r.getMediaSections=function(e){var t=r.splitSections(e);return t.shift(),t},r.matchPrefix=function(e,t){return r.splitLines(e).filter(function(r){return 0===r.indexOf(t)})},r.parseCandidate=function(r){for(var e,t={foundation:(e=0===r.indexOf("a=candidate:")?r.substring(12).split(" "):r.substring(10).split(" "))[0],component:parseInt(e[1],10),protocol:e[2].toLowerCase(),priority:parseInt(e[3],10),ip:e[4],address:e[4],port:parseInt(e[5],10),type:e[7]},a=8;a<e.length;a+=2)switch(e[a]){case"raddr":t.relatedAddress=e[a+1];break;case"rport":t.relatedPort=parseInt(e[a+1],10);break;case"tcptype":t.tcpType=e[a+1];break;case"ufrag":t.ufrag=e[a+1],t.usernameFragment=e[a+1];break;default:t[e[a]]=e[a+1]}return t},r.writeCandidate=function(r){var e=[];e.push(r.foundation),e.push(r.component),e.push(r.protocol.toUpperCase()),e.push(r.priority),e.push(r.address||r.ip),e.push(r.port);var t=r.type;return e.push("typ"),e.push(t),"host"!==t&&r.relatedAddress&&r.relatedPort&&(e.push("raddr"),e.push(r.relatedAddress),e.push("rport"),e.push(r.relatedPort)),r.tcpType&&"tcp"===r.protocol.toLowerCase()&&(e.push("tcptype"),e.push(r.tcpType)),(r.usernameFragment||r.ufrag)&&(e.push("ufrag"),e.push(r.usernameFragment||r.ufrag)),"candidate:"+e.join(" ")},r.parseIceOptions=function(r){return r.substr(14).split(" ")},r.parseRtpMap=function(r){var e=r.substr(9).split(" "),t={payloadType:parseInt(e.shift(),10)};return e=e[0].split("/"),t.name=e[0],t.clockRate=parseInt(e[1],10),t.channels=3===e.length?parseInt(e[2],10):1,t.numChannels=t.channels,t},r.writeRtpMap=function(r){var e=r.payloadType;void 0!==r.preferredPayloadType&&(e=r.preferredPayloadType);var t=r.channels||r.numChannels||1;return"a=rtpmap:"+e+" "+r.name+"/"+r.clockRate+(1!==t?"/"+t:"")+"\r\n"},r.parseExtmap=function(r){var e=r.substr(9).split(" ");return{id:parseInt(e[0],10),direction:e[0].indexOf("/")>0?e[0].split("/")[1]:"sendrecv",uri:e[1]}},r.writeExtmap=function(r){return"a=extmap:"+(r.id||r.preferredId)+(r.direction&&"sendrecv"!==r.direction?"/"+r.direction:"")+" "+r.uri+"\r\n"},r.parseFmtp=function(r){for(var e,t={},a=r.substr(r.indexOf(" ")+1).split(";"),n=0;n<a.length;n++)t[(e=a[n].trim().split("="))[0].trim()]=e[1];return t},r.writeFmtp=function(r){var e="",t=r.payloadType;if(void 0!==r.preferredPayloadType&&(t=r.preferredPayloadType),r.parameters&&Object.keys(r.parameters).length){var a=[];Object.keys(r.parameters).forEach(function(e){r.parameters[e]?a.push(e+"="+r.parameters[e]):a.push(e)}),e+="a=fmtp:"+t+" "+a.join(";")+"\r\n"}return e},r.parseRtcpFb=function(r){var e=r.substr(r.indexOf(" ")+1).split(" ");return{type:e.shift(),parameter:e.join(" ")}},r.writeRtcpFb=function(r){var e="",t=r.payloadType;return void 0!==r.preferredPayloadType&&(t=r.preferredPayloadType),r.rtcpFeedback&&r.rtcpFeedback.length&&r.rtcpFeedback.forEach(function(r){e+="a=rtcp-fb:"+t+" "+r.type+(r.parameter&&r.parameter.length?" "+r.parameter:"")+"\r\n"}),e},r.parseSsrcMedia=function(r){var e=r.indexOf(" "),t={ssrc:parseInt(r.substr(7,e-7),10)},a=r.indexOf(":",e);return a>-1?(t.attribute=r.substr(e+1,a-e-1),t.value=r.substr(a+1)):t.attribute=r.substr(e+1),t},r.parseSsrcGroup=function(r){var e=r.substr(13).split(" ");return{semantics:e.shift(),ssrcs:e.map(function(r){return parseInt(r,10)})}},r.getMid=function(e){var t=r.matchPrefix(e,"a=mid:")[0];if(t)return t.substr(6)},r.parseFingerprint=function(r){var e=r.substr(14).split(" ");return{algorithm:e[0].toLowerCase(),value:e[1]}},r.getDtlsParameters=function(e,t){return{role:"auto",fingerprints:r.matchPrefix(e+t,"a=fingerprint:").map(r.parseFingerprint)}},r.writeDtlsParameters=function(r,e){var t="a=setup:"+e+"\r\n";return r.fingerprints.forEach(function(r){t+="a=fingerprint:"+r.algorithm+" "+r.value+"\r\n"}),t},r.parseCryptoLine=function(r){var e=r.substr(9).split(" ");return{tag:parseInt(e[0],10),cryptoSuite:e[1],keyParams:e[2],sessionParams:e.slice(3)}},r.writeCryptoLine=function(e){return"a=crypto:"+e.tag+" "+e.cryptoSuite+" "+("object"==typeof e.keyParams?r.writeCryptoKeyParams(e.keyParams):e.keyParams)+(e.sessionParams?" "+e.sessionParams.join(" "):"")+"\r\n"},r.parseCryptoKeyParams=function(r){if(0!==r.indexOf("inline:"))return null;var e=r.substr(7).split("|");return{keyMethod:"inline",keySalt:e[0],lifeTime:e[1],mkiValue:e[2]?e[2].split(":")[0]:void 0,mkiLength:e[2]?e[2].split(":")[1]:void 0}},r.writeCryptoKeyParams=function(r){return r.keyMethod+":"+r.keySalt+(r.lifeTime?"|"+r.lifeTime:"")+(r.mkiValue&&r.mkiLength?"|"+r.mkiValue+":"+r.mkiLength:"")},r.getCryptoParameters=function(e,t){return r.matchPrefix(e+t,"a=crypto:").map(r.parseCryptoLine)},r.getIceParameters=function(e,t){var a=r.matchPrefix(e+t,"a=ice-ufrag:")[0],n=r.matchPrefix(e+t,"a=ice-pwd:")[0];return a&&n?{usernameFragment:a.substr(12),password:n.substr(10)}:null},r.writeIceParameters=function(r){return"a=ice-ufrag:"+r.usernameFragment+"\r\na=ice-pwd:"+r.password+"\r\n"},r.parseRtpParameters=function(e){for(var t={codecs:[],headerExtensions:[],fecMechanisms:[],rtcp:[]},a=r.splitLines(e)[0].split(" "),n=3;n<a.length;n++){var s=a[n],i=r.matchPrefix(e,"a=rtpmap:"+s+" ")[0];if(i){var p=r.parseRtpMap(i),c=r.matchPrefix(e,"a=fmtp:"+s+" ");switch(p.parameters=c.length?r.parseFmtp(c[0]):{},p.rtcpFeedback=r.matchPrefix(e,"a=rtcp-fb:"+s+" ").map(r.parseRtcpFb),t.codecs.push(p),p.name.toUpperCase()){case"RED":case"ULPFEC":t.fecMechanisms.push(p.name.toUpperCase())}}}return r.matchPrefix(e,"a=extmap:").forEach(function(e){t.headerExtensions.push(r.parseExtmap(e))}),t},r.writeRtpDescription=function(e,t){var a="";a+="m="+e+" ",a+=t.codecs.length>0?"9":"0",a+=" UDP/TLS/RTP/SAVPF ",a+=t.codecs.map(function(r){return void 0!==r.preferredPayloadType?r.preferredPayloadType:r.payloadType}).join(" ")+"\r\n",a+="c=IN IP4 0.0.0.0\r\n",a+="a=rtcp:9 IN IP4 0.0.0.0\r\n",t.codecs.forEach(function(e){a+=r.writeRtpMap(e),a+=r.writeFmtp(e),a+=r.writeRtcpFb(e)});var n=0;return t.codecs.forEach(function(r){r.maxptime>n&&(n=r.maxptime)}),n>0&&(a+="a=maxptime:"+n+"\r\n"),a+="a=rtcp-mux\r\n",t.headerExtensions&&t.headerExtensions.forEach(function(e){a+=r.writeExtmap(e)}),a},r.parseRtpEncodingParameters=function(e){var t,a=[],n=r.parseRtpParameters(e),s=-1!==n.fecMechanisms.indexOf("RED"),i=-1!==n.fecMechanisms.indexOf("ULPFEC"),p=r.matchPrefix(e,"a=ssrc:").map(function(e){return r.parseSsrcMedia(e)}).filter(function(r){return"cname"===r.attribute}),c=p.length>0&&p[0].ssrc,o=r.matchPrefix(e,"a=ssrc-group:FID").map(function(r){return r.substr(17).split(" ").map(function(r){return parseInt(r,10)})});o.length>0&&o[0].length>1&&o[0][0]===c&&(t=o[0][1]),n.codecs.forEach(function(r){if("RTX"===r.name.toUpperCase()&&r.parameters.apt){var e={ssrc:c,codecPayloadType:parseInt(r.parameters.apt,10)};c&&t&&(e.rtx={ssrc:t}),a.push(e),s&&((e=JSON.parse(JSON.stringify(e))).fec={ssrc:c,mechanism:i?"red+ulpfec":"red"},a.push(e))}}),0===a.length&&c&&a.push({ssrc:c});var u=r.matchPrefix(e,"b=");return u.length&&(u=0===u[0].indexOf("b=TIAS:")?parseInt(u[0].substr(7),10):0===u[0].indexOf("b=AS:")?1e3*parseInt(u[0].substr(5),10)*.95-16e3:void 0,a.forEach(function(r){r.maxBitrate=u})),a},r.parseRtcpParameters=function(e){var t={},a=r.matchPrefix(e,"a=ssrc:").map(function(e){return r.parseSsrcMedia(e)}).filter(function(r){return"cname"===r.attribute})[0];a&&(t.cname=a.value,t.ssrc=a.ssrc);var n=r.matchPrefix(e,"a=rtcp-rsize");t.reducedSize=n.length>0,t.compound=0===n.length;var s=r.matchPrefix(e,"a=rtcp-mux");return t.mux=s.length>0,t},r.parseMsid=function(e){var t,a=r.matchPrefix(e,"a=msid:");if(1===a.length)return{stream:(t=a[0].substr(7).split(" "))[0],track:t[1]};var n=r.matchPrefix(e,"a=ssrc:").map(function(e){return r.parseSsrcMedia(e)}).filter(function(r){return"msid"===r.attribute});return n.length>0?{stream:(t=n[0].value.split(" "))[0],track:t[1]}:void 0},r.parseSctpDescription=function(e){var t,a=r.parseMLine(e),n=r.matchPrefix(e,"a=max-message-size:");n.length>0&&(t=parseInt(n[0].substr(19),10)),isNaN(t)&&(t=65536);var s=r.matchPrefix(e,"a=sctp-port:");if(s.length>0)return{port:parseInt(s[0].substr(12),10),protocol:a.fmt,maxMessageSize:t};if(r.matchPrefix(e,"a=sctpmap:").length>0){var i=r.matchPrefix(e,"a=sctpmap:")[0].substr(10).split(" ");return{port:parseInt(i[0],10),protocol:i[1],maxMessageSize:t}}},r.writeSctpDescription=function(r,e){var t=[];return t="DTLS/SCTP"!==r.protocol?["m="+r.kind+" 9 "+r.protocol+" "+e.protocol+"\r\n","c=IN IP4 0.0.0.0\r\n","a=sctp-port:"+e.port+"\r\n"]:["m="+r.kind+" 9 "+r.protocol+" "+e.port+"\r\n","c=IN IP4 0.0.0.0\r\n","a=sctpmap:"+e.port+" "+e.protocol+" 65535\r\n"],void 0!==e.maxMessageSize&&t.push("a=max-message-size:"+e.maxMessageSize+"\r\n"),t.join("")},r.generateSessionId=function(){return Math.random().toString().substr(2,21)},r.writeSessionBoilerplate=function(e,t,a){var n=void 0!==t?t:2;return"v=0\r\no="+(a||"thisisadapterortc")+" "+(e||r.generateSessionId())+" "+n+" IN IP4 127.0.0.1\r\ns=-\r\nt=0 0\r\n"},r.writeMediaSection=function(e,t,a,n){var s=r.writeRtpDescription(e.kind,t);if(s+=r.writeIceParameters(e.iceGatherer.getLocalParameters()),s+=r.writeDtlsParameters(e.dtlsTransport.getLocalParameters(),"offer"===a?"actpass":"active"),s+="a=mid:"+e.mid+"\r\n",e.direction?s+="a="+e.direction+"\r\n":e.rtpSender&&e.rtpReceiver?s+="a=sendrecv\r\n":e.rtpSender?s+="a=sendonly\r\n":e.rtpReceiver?s+="a=recvonly\r\n":s+="a=inactive\r\n",e.rtpSender){var i="msid:"+n.id+" "+e.rtpSender.track.id+"\r\n";s+="a="+i,s+="a=ssrc:"+e.sendEncodingParameters[0].ssrc+" "+i,e.sendEncodingParameters[0].rtx&&(s+="a=ssrc:"+e.sendEncodingParameters[0].rtx.ssrc+" "+i,s+="a=ssrc-group:FID "+e.sendEncodingParameters[0].ssrc+" "+e.sendEncodingParameters[0].rtx.ssrc+"\r\n")}return s+="a=ssrc:"+e.sendEncodingParameters[0].ssrc+" cname:"+r.localCName+"\r\n",e.rtpSender&&e.sendEncodingParameters[0].rtx&&(s+="a=ssrc:"+e.sendEncodingParameters[0].rtx.ssrc+" cname:"+r.localCName+"\r\n"),s},r.getDirection=function(e,t){for(var a=r.splitLines(e),n=0;n<a.length;n++)switch(a[n]){case"a=sendrecv":case"a=sendonly":case"a=recvonly":case"a=inactive":return a[n].substr(2)}return t?r.getDirection(t):"sendrecv"},r.getKind=function(e){return r.splitLines(e)[0].split(" ")[0].substr(2)},r.isRejected=function(r){return"0"===r.split(" ",2)[1]},r.parseMLine=function(e){var t=r.splitLines(e)[0].substr(2).split(" ");return{kind:t[0],port:parseInt(t[1],10),protocol:t[2],fmt:t.slice(3).join(" ")}},r.parseOLine=function(e){var t=r.matchPrefix(e,"o=")[0].substr(2).split(" ");return{username:t[0],sessionId:t[1],sessionVersion:parseInt(t[2],10),netType:t[3],addressType:t[4],address:t[5]}},r.isValidSDP=function(e){if("string"!=typeof e||0===e.length)return!1;for(var t=r.splitLines(e),a=0;a<t.length;a++)if(t[a].length<2||"="!==t[a].charAt(1))return!1;return!0},"object"==typeof module&&(module.exports=r);
},{}],"NJ2u":[function(require,module,exports) {
"use strict";var e=require("sdp");function t(e){return{inboundrtp:"inbound-rtp",outboundrtp:"outbound-rtp",candidatepair:"candidate-pair",localcandidate:"local-candidate",remotecandidate:"remote-candidate"}[e.type]||e.type}function r(t,r,n,a,i){var s=e.writeRtpDescription(t.kind,r);if(s+=e.writeIceParameters(t.iceGatherer.getLocalParameters()),s+=e.writeDtlsParameters(t.dtlsTransport.getLocalParameters(),"offer"===n?"actpass":i||"active"),s+="a=mid:"+t.mid+"\r\n",t.rtpSender&&t.rtpReceiver?s+="a=sendrecv\r\n":t.rtpSender?s+="a=sendonly\r\n":t.rtpReceiver?s+="a=recvonly\r\n":s+="a=inactive\r\n",t.rtpSender){var o=t.rtpSender._initialTrackId||t.rtpSender.track.id;t.rtpSender._initialTrackId=o;var c="msid:"+(a?a.id:"-")+" "+o+"\r\n";s+="a="+c,s+="a=ssrc:"+t.sendEncodingParameters[0].ssrc+" "+c,t.sendEncodingParameters[0].rtx&&(s+="a=ssrc:"+t.sendEncodingParameters[0].rtx.ssrc+" "+c,s+="a=ssrc-group:FID "+t.sendEncodingParameters[0].ssrc+" "+t.sendEncodingParameters[0].rtx.ssrc+"\r\n")}return s+="a=ssrc:"+t.sendEncodingParameters[0].ssrc+" cname:"+e.localCName+"\r\n",t.rtpSender&&t.sendEncodingParameters[0].rtx&&(s+="a=ssrc:"+t.sendEncodingParameters[0].rtx.ssrc+" cname:"+e.localCName+"\r\n"),s}function n(e,t){var r=!1;return(e=JSON.parse(JSON.stringify(e))).filter(function(e){if(e&&(e.urls||e.url)){var n=e.urls||e.url;e.url&&!e.urls&&console.warn("RTCIceServer.url is deprecated! Use urls instead.");var a="string"==typeof n;return a&&(n=[n]),n=n.filter(function(e){return 0===e.indexOf("turn:")&&-1!==e.indexOf("transport=udp")&&-1===e.indexOf("turn:[")&&!r?(r=!0,!0):0===e.indexOf("stun:")&&t>=14393&&-1===e.indexOf("?transport=udp")}),delete e.url,e.urls=a?n[0]:n,!!n.length}})}function a(e,t){var r={codecs:[],headerExtensions:[],fecMechanisms:[]},n=function(e,t){e=parseInt(e,10);for(var r=0;r<t.length;r++)if(t[r].payloadType===e||t[r].preferredPayloadType===e)return t[r]},a=function(e,t,r,a){var i=n(e.parameters.apt,r),s=n(t.parameters.apt,a);return i&&s&&i.name.toLowerCase()===s.name.toLowerCase()};return e.codecs.forEach(function(n){for(var i=0;i<t.codecs.length;i++){var s=t.codecs[i];if(n.name.toLowerCase()===s.name.toLowerCase()&&n.clockRate===s.clockRate){if("rtx"===n.name.toLowerCase()&&n.parameters&&s.parameters.apt&&!a(n,s,e.codecs,t.codecs))continue;(s=JSON.parse(JSON.stringify(s))).numChannels=Math.min(n.numChannels,s.numChannels),r.codecs.push(s),s.rtcpFeedback=s.rtcpFeedback.filter(function(e){for(var t=0;t<n.rtcpFeedback.length;t++)if(n.rtcpFeedback[t].type===e.type&&n.rtcpFeedback[t].parameter===e.parameter)return!0;return!1});break}}}),e.headerExtensions.forEach(function(e){for(var n=0;n<t.headerExtensions.length;n++){var a=t.headerExtensions[n];if(e.uri===a.uri){r.headerExtensions.push(a);break}}}),r}function i(e,t,r){return-1!=={offer:{setLocalDescription:["stable","have-local-offer"],setRemoteDescription:["stable","have-remote-offer"]},answer:{setLocalDescription:["have-remote-offer","have-local-pranswer"],setRemoteDescription:["have-local-offer","have-remote-pranswer"]}}[t][e].indexOf(r)}function s(e,t){var r=e.getRemoteCandidates().find(function(e){return t.foundation===e.foundation&&t.ip===e.ip&&t.port===e.port&&t.priority===e.priority&&t.protocol===e.protocol&&t.type===e.type});return r||e.addRemoteCandidate(t),!r}function o(e,t){var r=new Error(t);return r.name=e,r.code={NotSupportedError:9,InvalidStateError:11,InvalidAccessError:15,TypeError:void 0,OperationError:void 0}[e],r}module.exports=function(c,d){function p(e,t){t.addTrack(e),t.dispatchEvent(new c.MediaStreamTrackEvent("addtrack",{track:e}))}function l(e,t,r,n){var a=new Event("track");a.track=t,a.receiver=r,a.transceiver={receiver:r},a.streams=n,c.setTimeout(function(){e._dispatchEvent("track",a)})}var f=function(t){var r=this,a=document.createDocumentFragment();if(["addEventListener","removeEventListener","dispatchEvent"].forEach(function(e){r[e]=a[e].bind(a)}),this.canTrickleIceCandidates=null,this.needNegotiation=!1,this.localStreams=[],this.remoteStreams=[],this._localDescription=null,this._remoteDescription=null,this.signalingState="stable",this.iceConnectionState="new",this.connectionState="new",this.iceGatheringState="new",t=JSON.parse(JSON.stringify(t||{})),this.usingBundle="max-bundle"===t.bundlePolicy,"negotiate"===t.rtcpMuxPolicy)throw o("NotSupportedError","rtcpMuxPolicy 'negotiate' is not supported");switch(t.rtcpMuxPolicy||(t.rtcpMuxPolicy="require"),t.iceTransportPolicy){case"all":case"relay":break;default:t.iceTransportPolicy="all"}switch(t.bundlePolicy){case"balanced":case"max-compat":case"max-bundle":break;default:t.bundlePolicy="balanced"}if(t.iceServers=n(t.iceServers||[],d),this._iceGatherers=[],t.iceCandidatePoolSize)for(var i=t.iceCandidatePoolSize;i>0;i--)this._iceGatherers.push(new c.RTCIceGatherer({iceServers:t.iceServers,gatherPolicy:t.iceTransportPolicy}));else t.iceCandidatePoolSize=0;this._config=t,this.transceivers=[],this._sdpSessionId=e.generateSessionId(),this._sdpSessionVersion=0,this._dtlsRole=void 0,this._isClosed=!1};Object.defineProperty(f.prototype,"localDescription",{configurable:!0,get:function(){return this._localDescription}}),Object.defineProperty(f.prototype,"remoteDescription",{configurable:!0,get:function(){return this._remoteDescription}}),f.prototype.onicecandidate=null,f.prototype.onaddstream=null,f.prototype.ontrack=null,f.prototype.onremovestream=null,f.prototype.onsignalingstatechange=null,f.prototype.oniceconnectionstatechange=null,f.prototype.onconnectionstatechange=null,f.prototype.onicegatheringstatechange=null,f.prototype.onnegotiationneeded=null,f.prototype.ondatachannel=null,f.prototype._dispatchEvent=function(e,t){this._isClosed||(this.dispatchEvent(t),"function"==typeof this["on"+e]&&this["on"+e](t))},f.prototype._emitGatheringStateChange=function(){var e=new Event("icegatheringstatechange");this._dispatchEvent("icegatheringstatechange",e)},f.prototype.getConfiguration=function(){return this._config},f.prototype.getLocalStreams=function(){return this.localStreams},f.prototype.getRemoteStreams=function(){return this.remoteStreams},f.prototype._createTransceiver=function(e,t){var r=this.transceivers.length>0,n={track:null,iceGatherer:null,iceTransport:null,dtlsTransport:null,localCapabilities:null,remoteCapabilities:null,rtpSender:null,rtpReceiver:null,kind:e,mid:null,sendEncodingParameters:null,recvEncodingParameters:null,stream:null,associatedRemoteMediaStreams:[],wantReceive:!0};if(this.usingBundle&&r)n.iceTransport=this.transceivers[0].iceTransport,n.dtlsTransport=this.transceivers[0].dtlsTransport;else{var a=this._createIceAndDtlsTransports();n.iceTransport=a.iceTransport,n.dtlsTransport=a.dtlsTransport}return t||this.transceivers.push(n),n},f.prototype.addTrack=function(e,t){if(this._isClosed)throw o("InvalidStateError","Attempted to call addTrack on a closed peerconnection.");var r;if(this.transceivers.find(function(t){return t.track===e}))throw o("InvalidAccessError","Track already exists.");for(var n=0;n<this.transceivers.length;n++)this.transceivers[n].track||this.transceivers[n].kind!==e.kind||(r=this.transceivers[n]);return r||(r=this._createTransceiver(e.kind)),this._maybeFireNegotiationNeeded(),-1===this.localStreams.indexOf(t)&&this.localStreams.push(t),r.track=e,r.stream=t,r.rtpSender=new c.RTCRtpSender(e,r.dtlsTransport),r.rtpSender},f.prototype.addStream=function(e){var t=this;if(d>=15025)e.getTracks().forEach(function(r){t.addTrack(r,e)});else{var r=e.clone();e.getTracks().forEach(function(e,t){var n=r.getTracks()[t];e.addEventListener("enabled",function(e){n.enabled=e.enabled})}),r.getTracks().forEach(function(e){t.addTrack(e,r)})}},f.prototype.removeTrack=function(e){if(this._isClosed)throw o("InvalidStateError","Attempted to call removeTrack on a closed peerconnection.");if(!(e instanceof c.RTCRtpSender))throw new TypeError("Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.");var t=this.transceivers.find(function(t){return t.rtpSender===e});if(!t)throw o("InvalidAccessError","Sender was not created by this connection.");var r=t.stream;t.rtpSender.stop(),t.rtpSender=null,t.track=null,t.stream=null,-1===this.transceivers.map(function(e){return e.stream}).indexOf(r)&&this.localStreams.indexOf(r)>-1&&this.localStreams.splice(this.localStreams.indexOf(r),1),this._maybeFireNegotiationNeeded()},f.prototype.removeStream=function(e){var t=this;e.getTracks().forEach(function(e){var r=t.getSenders().find(function(t){return t.track===e});r&&t.removeTrack(r)})},f.prototype.getSenders=function(){return this.transceivers.filter(function(e){return!!e.rtpSender}).map(function(e){return e.rtpSender})},f.prototype.getReceivers=function(){return this.transceivers.filter(function(e){return!!e.rtpReceiver}).map(function(e){return e.rtpReceiver})},f.prototype._createIceGatherer=function(e,t){var r=this;if(t&&e>0)return this.transceivers[0].iceGatherer;if(this._iceGatherers.length)return this._iceGatherers.shift();var n=new c.RTCIceGatherer({iceServers:this._config.iceServers,gatherPolicy:this._config.iceTransportPolicy});return Object.defineProperty(n,"state",{value:"new",writable:!0}),this.transceivers[e].bufferedCandidateEvents=[],this.transceivers[e].bufferCandidates=function(t){var a=!t.candidate||0===Object.keys(t.candidate).length;n.state=a?"completed":"gathering",null!==r.transceivers[e].bufferedCandidateEvents&&r.transceivers[e].bufferedCandidateEvents.push(t)},n.addEventListener("localcandidate",this.transceivers[e].bufferCandidates),n},f.prototype._gather=function(t,r){var n=this,a=this.transceivers[r].iceGatherer;if(!a.onlocalcandidate){var i=this.transceivers[r].bufferedCandidateEvents;this.transceivers[r].bufferedCandidateEvents=null,a.removeEventListener("localcandidate",this.transceivers[r].bufferCandidates),a.onlocalcandidate=function(i){if(!(n.usingBundle&&r>0)){var s=new Event("icecandidate");s.candidate={sdpMid:t,sdpMLineIndex:r};var o=i.candidate,c=!o||0===Object.keys(o).length;if(c)"new"!==a.state&&"gathering"!==a.state||(a.state="completed");else{"new"===a.state&&(a.state="gathering"),o.component=1,o.ufrag=a.getLocalParameters().usernameFragment;var d=e.writeCandidate(o);s.candidate=Object.assign(s.candidate,e.parseCandidate(d)),s.candidate.candidate=d,s.candidate.toJSON=function(){return{candidate:s.candidate.candidate,sdpMid:s.candidate.sdpMid,sdpMLineIndex:s.candidate.sdpMLineIndex,usernameFragment:s.candidate.usernameFragment}}}var p=e.getMediaSections(n._localDescription.sdp);p[s.candidate.sdpMLineIndex]+=c?"a=end-of-candidates\r\n":"a="+s.candidate.candidate+"\r\n",n._localDescription.sdp=e.getDescription(n._localDescription.sdp)+p.join("");var l=n.transceivers.every(function(e){return e.iceGatherer&&"completed"===e.iceGatherer.state});"gathering"!==n.iceGatheringState&&(n.iceGatheringState="gathering",n._emitGatheringStateChange()),c||n._dispatchEvent("icecandidate",s),l&&(n._dispatchEvent("icecandidate",new Event("icecandidate")),n.iceGatheringState="complete",n._emitGatheringStateChange())}},c.setTimeout(function(){i.forEach(function(e){a.onlocalcandidate(e)})},0)}},f.prototype._createIceAndDtlsTransports=function(){var e=this,t=new c.RTCIceTransport(null);t.onicestatechange=function(){e._updateIceConnectionState(),e._updateConnectionState()};var r=new c.RTCDtlsTransport(t);return r.ondtlsstatechange=function(){e._updateConnectionState()},r.onerror=function(){Object.defineProperty(r,"state",{value:"failed",writable:!0}),e._updateConnectionState()},{iceTransport:t,dtlsTransport:r}},f.prototype._disposeIceAndDtlsTransports=function(e){var t=this.transceivers[e].iceGatherer;t&&(delete t.onlocalcandidate,delete this.transceivers[e].iceGatherer);var r=this.transceivers[e].iceTransport;r&&(delete r.onicestatechange,delete this.transceivers[e].iceTransport);var n=this.transceivers[e].dtlsTransport;n&&(delete n.ondtlsstatechange,delete n.onerror,delete this.transceivers[e].dtlsTransport)},f.prototype._transceive=function(t,r,n){var i=a(t.localCapabilities,t.remoteCapabilities);r&&t.rtpSender&&(i.encodings=t.sendEncodingParameters,i.rtcp={cname:e.localCName,compound:t.rtcpParameters.compound},t.recvEncodingParameters.length&&(i.rtcp.ssrc=t.recvEncodingParameters[0].ssrc),t.rtpSender.send(i)),n&&t.rtpReceiver&&i.codecs.length>0&&("video"===t.kind&&t.recvEncodingParameters&&d<15019&&t.recvEncodingParameters.forEach(function(e){delete e.rtx}),t.recvEncodingParameters.length?i.encodings=t.recvEncodingParameters:i.encodings=[{}],i.rtcp={compound:t.rtcpParameters.compound},t.rtcpParameters.cname&&(i.rtcp.cname=t.rtcpParameters.cname),t.sendEncodingParameters.length&&(i.rtcp.ssrc=t.sendEncodingParameters[0].ssrc),t.rtpReceiver.receive(i))},f.prototype.setLocalDescription=function(t){var r,n,s=this;if(-1===["offer","answer"].indexOf(t.type))return Promise.reject(o("TypeError",'Unsupported type "'+t.type+'"'));if(!i("setLocalDescription",t.type,s.signalingState)||s._isClosed)return Promise.reject(o("InvalidStateError","Can not set local "+t.type+" in state "+s.signalingState));if("offer"===t.type)r=e.splitSections(t.sdp),n=r.shift(),r.forEach(function(t,r){var n=e.parseRtpParameters(t);s.transceivers[r].localCapabilities=n}),s.transceivers.forEach(function(e,t){s._gather(e.mid,t)});else if("answer"===t.type){r=e.splitSections(s._remoteDescription.sdp),n=r.shift();var c=e.matchPrefix(n,"a=ice-lite").length>0;r.forEach(function(t,r){var i=s.transceivers[r],o=i.iceGatherer,d=i.iceTransport,p=i.dtlsTransport,l=i.localCapabilities,f=i.remoteCapabilities;if(!(e.isRejected(t)&&0===e.matchPrefix(t,"a=bundle-only").length)&&!i.rejected){var u=e.getIceParameters(t,n),v=e.getDtlsParameters(t,n);c&&(v.role="server"),s.usingBundle&&0!==r||(s._gather(i.mid,r),"new"===d.state&&d.start(o,u,c?"controlling":"controlled"),"new"===p.state&&p.start(v));var h=a(l,f);s._transceive(i,h.codecs.length>0,!1)}})}return s._localDescription={type:t.type,sdp:t.sdp},"offer"===t.type?s._updateSignalingState("have-local-offer"):s._updateSignalingState("stable"),Promise.resolve()},f.prototype.setRemoteDescription=function(t){var r=this;if(-1===["offer","answer"].indexOf(t.type))return Promise.reject(o("TypeError",'Unsupported type "'+t.type+'"'));if(!i("setRemoteDescription",t.type,r.signalingState)||r._isClosed)return Promise.reject(o("InvalidStateError","Can not set remote "+t.type+" in state "+r.signalingState));var n={};r.remoteStreams.forEach(function(e){n[e.id]=e});var f=[],u=e.splitSections(t.sdp),v=u.shift(),h=e.matchPrefix(v,"a=ice-lite").length>0,m=e.matchPrefix(v,"a=group:BUNDLE ").length>0;r.usingBundle=m;var g=e.matchPrefix(v,"a=ice-options:")[0];return r.canTrickleIceCandidates=!!g&&g.substr(14).split(" ").indexOf("trickle")>=0,u.forEach(function(i,o){var l=e.splitLines(i),u=e.getKind(i),g=e.isRejected(i)&&0===e.matchPrefix(i,"a=bundle-only").length,y=l[0].substr(2).split(" ")[2],S=e.getDirection(i,v),T=e.parseMsid(i),E=e.getMid(i)||e.generateIdentifier();if(g||"application"===u&&("DTLS/SCTP"===y||"UDP/DTLS/SCTP"===y))r.transceivers[o]={mid:E,kind:u,protocol:y,rejected:!0};else{var C,P,w,R,_,k,b,x,D;!g&&r.transceivers[o]&&r.transceivers[o].rejected&&(r.transceivers[o]=r._createTransceiver(u,!0));var I,L,M=e.parseRtpParameters(i);g||(I=e.getIceParameters(i,v),(L=e.getDtlsParameters(i,v)).role="client"),b=e.parseRtpEncodingParameters(i);var O=e.parseRtcpParameters(i),G=e.matchPrefix(i,"a=end-of-candidates",v).length>0,j=e.matchPrefix(i,"a=candidate:").map(function(t){return e.parseCandidate(t)}).filter(function(e){return 1===e.component});if(("offer"===t.type||"answer"===t.type)&&!g&&m&&o>0&&r.transceivers[o]&&(r._disposeIceAndDtlsTransports(o),r.transceivers[o].iceGatherer=r.transceivers[0].iceGatherer,r.transceivers[o].iceTransport=r.transceivers[0].iceTransport,r.transceivers[o].dtlsTransport=r.transceivers[0].dtlsTransport,r.transceivers[o].rtpSender&&r.transceivers[o].rtpSender.setTransport(r.transceivers[0].dtlsTransport),r.transceivers[o].rtpReceiver&&r.transceivers[o].rtpReceiver.setTransport(r.transceivers[0].dtlsTransport)),"offer"!==t.type||g){if("answer"===t.type&&!g){P=(C=r.transceivers[o]).iceGatherer,w=C.iceTransport,R=C.dtlsTransport,_=C.rtpReceiver,k=C.sendEncodingParameters,x=C.localCapabilities,r.transceivers[o].recvEncodingParameters=b,r.transceivers[o].remoteCapabilities=M,r.transceivers[o].rtcpParameters=O,j.length&&"new"===w.state&&(!h&&!G||m&&0!==o?j.forEach(function(e){s(C.iceTransport,e)}):w.setRemoteCandidates(j)),m&&0!==o||("new"===w.state&&w.start(P,I,"controlling"),"new"===R.state&&R.start(L)),!a(C.localCapabilities,C.remoteCapabilities).codecs.filter(function(e){return"rtx"===e.name.toLowerCase()}).length&&C.sendEncodingParameters[0].rtx&&delete C.sendEncodingParameters[0].rtx,r._transceive(C,"sendrecv"===S||"recvonly"===S,"sendrecv"===S||"sendonly"===S),!_||"sendrecv"!==S&&"sendonly"!==S?delete C.rtpReceiver:(D=_.track,T?(n[T.stream]||(n[T.stream]=new c.MediaStream),p(D,n[T.stream]),f.push([D,_,n[T.stream]])):(n.default||(n.default=new c.MediaStream),p(D,n.default),f.push([D,_,n.default])))}}else{(C=r.transceivers[o]||r._createTransceiver(u)).mid=E,C.iceGatherer||(C.iceGatherer=r._createIceGatherer(o,m)),j.length&&"new"===C.iceTransport.state&&(!G||m&&0!==o?j.forEach(function(e){s(C.iceTransport,e)}):C.iceTransport.setRemoteCandidates(j)),x=c.RTCRtpReceiver.getCapabilities(u),d<15019&&(x.codecs=x.codecs.filter(function(e){return"rtx"!==e.name})),k=C.sendEncodingParameters||[{ssrc:1001*(2*o+2)}];var N,A=!1;if("sendrecv"===S||"sendonly"===S){if(A=!C.rtpReceiver,_=C.rtpReceiver||new c.RTCRtpReceiver(C.dtlsTransport,u),A)D=_.track,T&&"-"===T.stream||(T?(n[T.stream]||(n[T.stream]=new c.MediaStream,Object.defineProperty(n[T.stream],"id",{get:function(){return T.stream}})),Object.defineProperty(D,"id",{get:function(){return T.track}}),N=n[T.stream]):(n.default||(n.default=new c.MediaStream),N=n.default)),N&&(p(D,N),C.associatedRemoteMediaStreams.push(N)),f.push([D,_,N])}else C.rtpReceiver&&C.rtpReceiver.track&&(C.associatedRemoteMediaStreams.forEach(function(e){var t,r,n=e.getTracks().find(function(e){return e.id===C.rtpReceiver.track.id});n&&(t=n,(r=e).removeTrack(t),r.dispatchEvent(new c.MediaStreamTrackEvent("removetrack",{track:t})))}),C.associatedRemoteMediaStreams=[]);C.localCapabilities=x,C.remoteCapabilities=M,C.rtpReceiver=_,C.rtcpParameters=O,C.sendEncodingParameters=k,C.recvEncodingParameters=b,r._transceive(r.transceivers[o],!1,A)}}}),void 0===r._dtlsRole&&(r._dtlsRole="offer"===t.type?"active":"passive"),r._remoteDescription={type:t.type,sdp:t.sdp},"offer"===t.type?r._updateSignalingState("have-remote-offer"):r._updateSignalingState("stable"),Object.keys(n).forEach(function(e){var t=n[e];if(t.getTracks().length){if(-1===r.remoteStreams.indexOf(t)){r.remoteStreams.push(t);var a=new Event("addstream");a.stream=t,c.setTimeout(function(){r._dispatchEvent("addstream",a)})}f.forEach(function(e){var n=e[0],a=e[1];t.id===e[2].id&&l(r,n,a,[t])})}}),f.forEach(function(e){e[2]||l(r,e[0],e[1],[])}),c.setTimeout(function(){r&&r.transceivers&&r.transceivers.forEach(function(e){e.iceTransport&&"new"===e.iceTransport.state&&e.iceTransport.getRemoteCandidates().length>0&&(console.warn("Timeout for addRemoteCandidate. Consider sending an end-of-candidates notification"),e.iceTransport.addRemoteCandidate({}))})},4e3),Promise.resolve()},f.prototype.close=function(){this.transceivers.forEach(function(e){e.iceTransport&&e.iceTransport.stop(),e.dtlsTransport&&e.dtlsTransport.stop(),e.rtpSender&&e.rtpSender.stop(),e.rtpReceiver&&e.rtpReceiver.stop()}),this._isClosed=!0,this._updateSignalingState("closed")},f.prototype._updateSignalingState=function(e){this.signalingState=e;var t=new Event("signalingstatechange");this._dispatchEvent("signalingstatechange",t)},f.prototype._maybeFireNegotiationNeeded=function(){var e=this;"stable"===this.signalingState&&!0!==this.needNegotiation&&(this.needNegotiation=!0,c.setTimeout(function(){if(e.needNegotiation){e.needNegotiation=!1;var t=new Event("negotiationneeded");e._dispatchEvent("negotiationneeded",t)}},0))},f.prototype._updateIceConnectionState=function(){var e,t={new:0,closed:0,checking:0,connected:0,completed:0,disconnected:0,failed:0};if(this.transceivers.forEach(function(e){e.iceTransport&&!e.rejected&&t[e.iceTransport.state]++}),e="new",t.failed>0?e="failed":t.checking>0?e="checking":t.disconnected>0?e="disconnected":t.new>0?e="new":t.connected>0?e="connected":t.completed>0&&(e="completed"),e!==this.iceConnectionState){this.iceConnectionState=e;var r=new Event("iceconnectionstatechange");this._dispatchEvent("iceconnectionstatechange",r)}},f.prototype._updateConnectionState=function(){var e,t={new:0,closed:0,connecting:0,connected:0,completed:0,disconnected:0,failed:0};if(this.transceivers.forEach(function(e){e.iceTransport&&e.dtlsTransport&&!e.rejected&&(t[e.iceTransport.state]++,t[e.dtlsTransport.state]++)}),t.connected+=t.completed,e="new",t.failed>0?e="failed":t.connecting>0?e="connecting":t.disconnected>0?e="disconnected":t.new>0?e="new":t.connected>0&&(e="connected"),e!==this.connectionState){this.connectionState=e;var r=new Event("connectionstatechange");this._dispatchEvent("connectionstatechange",r)}},f.prototype.createOffer=function(){var t=this;if(t._isClosed)return Promise.reject(o("InvalidStateError","Can not call createOffer after close"));var n=t.transceivers.filter(function(e){return"audio"===e.kind}).length,a=t.transceivers.filter(function(e){return"video"===e.kind}).length,i=arguments[0];if(i){if(i.mandatory||i.optional)throw new TypeError("Legacy mandatory/optional constraints not supported.");void 0!==i.offerToReceiveAudio&&(n=!0===i.offerToReceiveAudio?1:!1===i.offerToReceiveAudio?0:i.offerToReceiveAudio),void 0!==i.offerToReceiveVideo&&(a=!0===i.offerToReceiveVideo?1:!1===i.offerToReceiveVideo?0:i.offerToReceiveVideo)}for(t.transceivers.forEach(function(e){"audio"===e.kind?--n<0&&(e.wantReceive=!1):"video"===e.kind&&--a<0&&(e.wantReceive=!1)});n>0||a>0;)n>0&&(t._createTransceiver("audio"),n--),a>0&&(t._createTransceiver("video"),a--);var s=e.writeSessionBoilerplate(t._sdpSessionId,t._sdpSessionVersion++);t.transceivers.forEach(function(r,n){var a=r.track,i=r.kind,s=r.mid||e.generateIdentifier();r.mid=s,r.iceGatherer||(r.iceGatherer=t._createIceGatherer(n,t.usingBundle));var o=c.RTCRtpSender.getCapabilities(i);d<15019&&(o.codecs=o.codecs.filter(function(e){return"rtx"!==e.name})),o.codecs.forEach(function(e){"H264"===e.name&&void 0===e.parameters["level-asymmetry-allowed"]&&(e.parameters["level-asymmetry-allowed"]="1"),r.remoteCapabilities&&r.remoteCapabilities.codecs&&r.remoteCapabilities.codecs.forEach(function(t){e.name.toLowerCase()===t.name.toLowerCase()&&e.clockRate===t.clockRate&&(e.preferredPayloadType=t.payloadType)})}),o.headerExtensions.forEach(function(e){(r.remoteCapabilities&&r.remoteCapabilities.headerExtensions||[]).forEach(function(t){e.uri===t.uri&&(e.id=t.id)})});var p=r.sendEncodingParameters||[{ssrc:1001*(2*n+1)}];a&&d>=15019&&"video"===i&&!p[0].rtx&&(p[0].rtx={ssrc:p[0].ssrc+1}),r.wantReceive&&(r.rtpReceiver=new c.RTCRtpReceiver(r.dtlsTransport,i)),r.localCapabilities=o,r.sendEncodingParameters=p}),"max-compat"!==t._config.bundlePolicy&&(s+="a=group:BUNDLE "+t.transceivers.map(function(e){return e.mid}).join(" ")+"\r\n"),s+="a=ice-options:trickle\r\n",t.transceivers.forEach(function(n,a){s+=r(n,n.localCapabilities,"offer",n.stream,t._dtlsRole),s+="a=rtcp-rsize\r\n",!n.iceGatherer||"new"===t.iceGatheringState||0!==a&&t.usingBundle||(n.iceGatherer.getLocalCandidates().forEach(function(t){t.component=1,s+="a="+e.writeCandidate(t)+"\r\n"}),"completed"===n.iceGatherer.state&&(s+="a=end-of-candidates\r\n"))});var p=new c.RTCSessionDescription({type:"offer",sdp:s});return Promise.resolve(p)},f.prototype.createAnswer=function(){var t=this;if(t._isClosed)return Promise.reject(o("InvalidStateError","Can not call createAnswer after close"));if("have-remote-offer"!==t.signalingState&&"have-local-pranswer"!==t.signalingState)return Promise.reject(o("InvalidStateError","Can not call createAnswer in signalingState "+t.signalingState));var n=e.writeSessionBoilerplate(t._sdpSessionId,t._sdpSessionVersion++);t.usingBundle&&(n+="a=group:BUNDLE "+t.transceivers.map(function(e){return e.mid}).join(" ")+"\r\n"),n+="a=ice-options:trickle\r\n";var i=e.getMediaSections(t._remoteDescription.sdp).length;t.transceivers.forEach(function(e,s){if(!(s+1>i)){if(e.rejected)return"application"===e.kind?"DTLS/SCTP"===e.protocol?n+="m=application 0 DTLS/SCTP 5000\r\n":n+="m=application 0 "+e.protocol+" webrtc-datachannel\r\n":"audio"===e.kind?n+="m=audio 0 UDP/TLS/RTP/SAVPF 0\r\na=rtpmap:0 PCMU/8000\r\n":"video"===e.kind&&(n+="m=video 0 UDP/TLS/RTP/SAVPF 120\r\na=rtpmap:120 VP8/90000\r\n"),void(n+="c=IN IP4 0.0.0.0\r\na=inactive\r\na=mid:"+e.mid+"\r\n");var o;if(e.stream)"audio"===e.kind?o=e.stream.getAudioTracks()[0]:"video"===e.kind&&(o=e.stream.getVideoTracks()[0]),o&&d>=15019&&"video"===e.kind&&!e.sendEncodingParameters[0].rtx&&(e.sendEncodingParameters[0].rtx={ssrc:e.sendEncodingParameters[0].ssrc+1});var c=a(e.localCapabilities,e.remoteCapabilities);!c.codecs.filter(function(e){return"rtx"===e.name.toLowerCase()}).length&&e.sendEncodingParameters[0].rtx&&delete e.sendEncodingParameters[0].rtx,n+=r(e,c,"answer",e.stream,t._dtlsRole),e.rtcpParameters&&e.rtcpParameters.reducedSize&&(n+="a=rtcp-rsize\r\n")}});var s=new c.RTCSessionDescription({type:"answer",sdp:n});return Promise.resolve(s)},f.prototype.addIceCandidate=function(t){var r,n=this;return t&&void 0===t.sdpMLineIndex&&!t.sdpMid?Promise.reject(new TypeError("sdpMLineIndex or sdpMid required")):new Promise(function(a,i){if(!n._remoteDescription)return i(o("InvalidStateError","Can not add ICE candidate without a remote description"));if(t&&""!==t.candidate){var c=t.sdpMLineIndex;if(t.sdpMid)for(var d=0;d<n.transceivers.length;d++)if(n.transceivers[d].mid===t.sdpMid){c=d;break}var p=n.transceivers[c];if(!p)return i(o("OperationError","Can not add ICE candidate"));if(p.rejected)return a();var l=Object.keys(t.candidate).length>0?e.parseCandidate(t.candidate):{};if("tcp"===l.protocol&&(0===l.port||9===l.port))return a();if(l.component&&1!==l.component)return a();if((0===c||c>0&&p.iceTransport!==n.transceivers[0].iceTransport)&&!s(p.iceTransport,l))return i(o("OperationError","Can not add ICE candidate"));var f=t.candidate.trim();0===f.indexOf("a=")&&(f=f.substr(2)),(r=e.getMediaSections(n._remoteDescription.sdp))[c]+="a="+(l.type?f:"end-of-candidates")+"\r\n",n._remoteDescription.sdp=e.getDescription(n._remoteDescription.sdp)+r.join("")}else for(var u=0;u<n.transceivers.length&&(n.transceivers[u].rejected||(n.transceivers[u].iceTransport.addRemoteCandidate({}),(r=e.getMediaSections(n._remoteDescription.sdp))[u]+="a=end-of-candidates\r\n",n._remoteDescription.sdp=e.getDescription(n._remoteDescription.sdp)+r.join(""),!n.usingBundle));u++);a()})},f.prototype.getStats=function(e){if(e&&e instanceof c.MediaStreamTrack){var t=null;if(this.transceivers.forEach(function(r){r.rtpSender&&r.rtpSender.track===e?t=r.rtpSender:r.rtpReceiver&&r.rtpReceiver.track===e&&(t=r.rtpReceiver)}),!t)throw o("InvalidAccessError","Invalid selector.");return t.getStats()}var r=[];return this.transceivers.forEach(function(e){["rtpSender","rtpReceiver","iceGatherer","iceTransport","dtlsTransport"].forEach(function(t){e[t]&&r.push(e[t].getStats())})}),Promise.all(r).then(function(e){var t=new Map;return e.forEach(function(e){e.forEach(function(e){t.set(e.id,e)})}),t})};["RTCRtpSender","RTCRtpReceiver","RTCIceGatherer","RTCIceTransport","RTCDtlsTransport"].forEach(function(e){var r=c[e];if(r&&r.prototype&&r.prototype.getStats){var n=r.prototype.getStats;r.prototype.getStats=function(){return n.apply(this).then(function(e){var r=new Map;return Object.keys(e).forEach(function(n){e[n].type=t(e[n]),r.set(n,e[n])}),r})}}});var u=["createOffer","createAnswer"];return u.forEach(function(e){var t=f.prototype[e];f.prototype[e]=function(){var e=arguments;return"function"==typeof e[0]||"function"==typeof e[1]?t.apply(this,[arguments[2]]).then(function(t){"function"==typeof e[0]&&e[0].apply(null,[t])},function(t){"function"==typeof e[1]&&e[1].apply(null,[t])}):t.apply(this,arguments)}}),(u=["setLocalDescription","setRemoteDescription","addIceCandidate"]).forEach(function(e){var t=f.prototype[e];f.prototype[e]=function(){var e=arguments;return"function"==typeof e[1]||"function"==typeof e[2]?t.apply(this,arguments).then(function(){"function"==typeof e[1]&&e[1].apply(null)},function(t){"function"==typeof e[2]&&e[2].apply(null,[t])}):t.apply(this,arguments)}}),["getStats"].forEach(function(e){var t=f.prototype[e];f.prototype[e]=function(){var e=arguments;return"function"==typeof e[1]?t.apply(this,arguments).then(function(){"function"==typeof e[1]&&e[1].apply(null)}):t.apply(this,arguments)}}),f};
},{"sdp":"YHvh"}],"YdKx":[function(require,module,exports) {
"use strict";function e(e){const r=e&&e.navigator,t=r.mediaDevices.getUserMedia.bind(r.mediaDevices);r.mediaDevices.getUserMedia=function(e){return t(e).catch(e=>Promise.reject(function(e){return{name:{PermissionDeniedError:"NotAllowedError"}[e.name]||e.name,message:e.message,constraint:e.constraint,toString(){return this.name}}}(e)))}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.shimGetUserMedia=e;
},{}],"P3bV":[function(require,module,exports) {
"use strict";function e(e){"getDisplayMedia"in e.navigator&&e.navigator.mediaDevices&&(e.navigator.mediaDevices&&"getDisplayMedia"in e.navigator.mediaDevices||(e.navigator.mediaDevices.getDisplayMedia=e.navigator.getDisplayMedia.bind(e.navigator)))}Object.defineProperty(exports,"__esModule",{value:!0}),exports.shimGetDisplayMedia=e;
},{}],"XRic":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),Object.defineProperty(exports,"shimGetDisplayMedia",{enumerable:!0,get:function(){return i.shimGetDisplayMedia}}),Object.defineProperty(exports,"shimGetUserMedia",{enumerable:!0,get:function(){return n.shimGetUserMedia}}),exports.shimPeerConnection=p,exports.shimReplaceTrack=a;var e=c(require("../utils")),t=require("./filtericeservers"),r=o(require("rtcpeerconnection-shim")),n=require("./getusermedia"),i=require("./getdisplaymedia");function o(e){return e&&e.__esModule?e:{default:e}}function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(s=function(e){return e?r:t})(e)}function c(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=s(t);if(r&&r.has(e))return r.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var c=i?Object.getOwnPropertyDescriptor(e,o):null;c&&(c.get||c.set)?Object.defineProperty(n,o,c):n[o]=e[o]}return n.default=e,r&&r.set(e,n),n}function p(n,i){if(n.RTCIceGatherer&&(n.RTCIceCandidate||(n.RTCIceCandidate=function(e){return e}),n.RTCSessionDescription||(n.RTCSessionDescription=function(e){return e}),i.version<15025)){const e=Object.getOwnPropertyDescriptor(n.MediaStreamTrack.prototype,"enabled");Object.defineProperty(n.MediaStreamTrack.prototype,"enabled",{set(t){e.set.call(this,t);const r=new Event("enabled");r.enabled=t,this.dispatchEvent(r)}})}!n.RTCRtpSender||"dtmf"in n.RTCRtpSender.prototype||Object.defineProperty(n.RTCRtpSender.prototype,"dtmf",{get(){return void 0===this._dtmf&&("audio"===this.track.kind?this._dtmf=new n.RTCDtmfSender(this):"video"===this.track.kind&&(this._dtmf=null)),this._dtmf}}),n.RTCDtmfSender&&!n.RTCDTMFSender&&(n.RTCDTMFSender=n.RTCDtmfSender);const o=(0,r.default)(n,i.version);n.RTCPeerConnection=function(r){return r&&r.iceServers&&(r.iceServers=(0,t.filterIceServers)(r.iceServers,i.version),e.log("ICE servers after filtering:",r.iceServers)),new o(r)},n.RTCPeerConnection.prototype=o.prototype}function a(e){!e.RTCRtpSender||"replaceTrack"in e.RTCRtpSender.prototype||(e.RTCRtpSender.prototype.replaceTrack=e.RTCRtpSender.prototype.setTrack)}
},{"../utils":"iSxC","./filtericeservers":"NZ1C","rtcpeerconnection-shim":"NJ2u","./getusermedia":"YdKx","./getdisplaymedia":"P3bV"}],"GzSv":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.shimGetUserMedia=i;var e=o(require("../utils"));function t(e){if("function"!=typeof WeakMap)return null;var o=new WeakMap,i=new WeakMap;return(t=function(e){return e?i:o})(e)}function o(e,o){if(!o&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var i=t(o);if(i&&i.has(e))return i.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var a=r?Object.getOwnPropertyDescriptor(e,s):null;a&&(a.get||a.set)?Object.defineProperty(n,s,a):n[s]=e[s]}return n.default=e,i&&i.set(e,n),n}function i(t,o){const i=t&&t.navigator,n=t&&t.MediaStreamTrack;if(i.getUserMedia=function(t,o,n){e.deprecated("navigator.getUserMedia","navigator.mediaDevices.getUserMedia"),i.mediaDevices.getUserMedia(t).then(o,n)},!(o.version>55&&"autoGainControl"in i.mediaDevices.getSupportedConstraints())){const e=function(e,t,o){t in e&&!(o in e)&&(e[o]=e[t],delete e[t])},t=i.mediaDevices.getUserMedia.bind(i.mediaDevices);if(i.mediaDevices.getUserMedia=function(o){return"object"==typeof o&&"object"==typeof o.audio&&(o=JSON.parse(JSON.stringify(o)),e(o.audio,"autoGainControl","mozAutoGainControl"),e(o.audio,"noiseSuppression","mozNoiseSuppression")),t(o)},n&&n.prototype.getSettings){const t=n.prototype.getSettings;n.prototype.getSettings=function(){const o=t.apply(this,arguments);return e(o,"mozAutoGainControl","autoGainControl"),e(o,"mozNoiseSuppression","noiseSuppression"),o}}if(n&&n.prototype.applyConstraints){const t=n.prototype.applyConstraints;n.prototype.applyConstraints=function(o){return"audio"===this.kind&&"object"==typeof o&&(o=JSON.parse(JSON.stringify(o)),e(o,"autoGainControl","mozAutoGainControl"),e(o,"noiseSuppression","mozNoiseSuppression")),t.apply(this,[o])}}}}
},{"../utils":"iSxC"}],"UuGU":[function(require,module,exports) {
"use strict";function e(e,i){e.navigator.mediaDevices&&"getDisplayMedia"in e.navigator.mediaDevices||e.navigator.mediaDevices&&(e.navigator.mediaDevices.getDisplayMedia=function(a){if(!a||!a.video){const e=new DOMException("getDisplayMedia without video constraints is undefined");return e.name="NotFoundError",e.code=8,Promise.reject(e)}return!0===a.video?a.video={mediaSource:i}:a.video.mediaSource=i,e.navigator.mediaDevices.getUserMedia(a)})}Object.defineProperty(exports,"__esModule",{value:!0}),exports.shimGetDisplayMedia=e;
},{}],"Fzdr":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.shimAddTransceiver=u,exports.shimCreateAnswer=h,exports.shimCreateOffer=f,Object.defineProperty(exports,"shimGetDisplayMedia",{enumerable:!0,get:function(){return n.shimGetDisplayMedia}}),exports.shimGetParameters=C,Object.defineProperty(exports,"shimGetUserMedia",{enumerable:!0,get:function(){return t.shimGetUserMedia}}),exports.shimOnTrack=i,exports.shimPeerConnection=s,exports.shimRTCDataChannel=d,exports.shimReceiverGetStats=c,exports.shimRemoveStream=p,exports.shimSenderGetStats=a;var e=o(require("../utils")),t=require("./getusermedia"),n=require("./getdisplaymedia");function r(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(r=function(e){return e?n:t})(e)}function o(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=r(t);if(n&&n.has(e))return n.get(e);var o={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var a=i?Object.getOwnPropertyDescriptor(e,s):null;a&&(a.get||a.set)?Object.defineProperty(o,s,a):o[s]=e[s]}return o.default=e,n&&n.set(e,o),o}function i(e){"object"==typeof e&&e.RTCTrackEvent&&"receiver"in e.RTCTrackEvent.prototype&&!("transceiver"in e.RTCTrackEvent.prototype)&&Object.defineProperty(e.RTCTrackEvent.prototype,"transceiver",{get(){return{receiver:this.receiver}}})}function s(e,t){if("object"!=typeof e||!e.RTCPeerConnection&&!e.mozRTCPeerConnection)return;!e.RTCPeerConnection&&e.mozRTCPeerConnection&&(e.RTCPeerConnection=e.mozRTCPeerConnection),t.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(t){const n=e.RTCPeerConnection.prototype[t],r={[t](){return arguments[0]=new("addIceCandidate"===t?e.RTCIceCandidate:e.RTCSessionDescription)(arguments[0]),n.apply(this,arguments)}};e.RTCPeerConnection.prototype[t]=r[t]});const n={inboundrtp:"inbound-rtp",outboundrtp:"outbound-rtp",candidatepair:"candidate-pair",localcandidate:"local-candidate",remotecandidate:"remote-candidate"},r=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(){const[e,o,i]=arguments;return r.apply(this,[e||null]).then(e=>{if(t.version<53&&!o)try{e.forEach(e=>{e.type=n[e.type]||e.type})}catch(r){if("TypeError"!==r.name)throw r;e.forEach((t,r)=>{e.set(r,Object.assign({},t,{type:n[t.type]||t.type}))})}return e}).then(o,i)}}function a(e){if("object"!=typeof e||!e.RTCPeerConnection||!e.RTCRtpSender)return;if(e.RTCRtpSender&&"getStats"in e.RTCRtpSender.prototype)return;const t=e.RTCPeerConnection.prototype.getSenders;t&&(e.RTCPeerConnection.prototype.getSenders=function(){const e=t.apply(this,[]);return e.forEach(e=>e._pc=this),e});const n=e.RTCPeerConnection.prototype.addTrack;n&&(e.RTCPeerConnection.prototype.addTrack=function(){const e=n.apply(this,arguments);return e._pc=this,e}),e.RTCRtpSender.prototype.getStats=function(){return this.track?this._pc.getStats(this.track):Promise.resolve(new Map)}}function c(t){if("object"!=typeof t||!t.RTCPeerConnection||!t.RTCRtpSender)return;if(t.RTCRtpSender&&"getStats"in t.RTCRtpReceiver.prototype)return;const n=t.RTCPeerConnection.prototype.getReceivers;n&&(t.RTCPeerConnection.prototype.getReceivers=function(){const e=n.apply(this,[]);return e.forEach(e=>e._pc=this),e}),e.wrapPeerConnectionEvent(t,"track",e=>(e.receiver._pc=e.srcElement,e)),t.RTCRtpReceiver.prototype.getStats=function(){return this._pc.getStats(this.track)}}function p(t){!t.RTCPeerConnection||"removeStream"in t.RTCPeerConnection.prototype||(t.RTCPeerConnection.prototype.removeStream=function(t){e.deprecated("removeStream","removeTrack"),this.getSenders().forEach(e=>{e.track&&t.getTracks().includes(e.track)&&this.removeTrack(e)})})}function d(e){e.DataChannel&&!e.RTCDataChannel&&(e.RTCDataChannel=e.DataChannel)}function u(e){if("object"!=typeof e||!e.RTCPeerConnection)return;const t=e.RTCPeerConnection.prototype.addTransceiver;t&&(e.RTCPeerConnection.prototype.addTransceiver=function(){this.setParametersPromises=[];const e=arguments[1],n=e&&"sendEncodings"in e;n&&e.sendEncodings.forEach(e=>{if("rid"in e){if(!/^[a-z0-9]{0,16}$/i.test(e.rid))throw new TypeError("Invalid RID value provided.")}if("scaleResolutionDownBy"in e&&!(parseFloat(e.scaleResolutionDownBy)>=1))throw new RangeError("scale_resolution_down_by must be >= 1.0");if("maxFramerate"in e&&!(parseFloat(e.maxFramerate)>=0))throw new RangeError("max_framerate must be >= 0.0")});const r=t.apply(this,arguments);if(n){const{sender:t}=r,n=t.getParameters();"encodings"in n&&(1!==n.encodings.length||0!==Object.keys(n.encodings[0]).length)||(n.encodings=e.sendEncodings,t.sendEncodings=e.sendEncodings,this.setParametersPromises.push(t.setParameters(n).then(()=>{delete t.sendEncodings}).catch(()=>{delete t.sendEncodings})))}return r})}function C(e){if("object"!=typeof e||!e.RTCRtpSender)return;const t=e.RTCRtpSender.prototype.getParameters;t&&(e.RTCRtpSender.prototype.getParameters=function(){const e=t.apply(this,arguments);return"encodings"in e||(e.encodings=[].concat(this.sendEncodings||[{}])),e})}function f(e){if("object"!=typeof e||!e.RTCPeerConnection)return;const t=e.RTCPeerConnection.prototype.createOffer;e.RTCPeerConnection.prototype.createOffer=function(){return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then(()=>t.apply(this,arguments)).finally(()=>{this.setParametersPromises=[]}):t.apply(this,arguments)}}function h(e){if("object"!=typeof e||!e.RTCPeerConnection)return;const t=e.RTCPeerConnection.prototype.createAnswer;e.RTCPeerConnection.prototype.createAnswer=function(){return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then(()=>t.apply(this,arguments)).finally(()=>{this.setParametersPromises=[]}):t.apply(this,arguments)}}
},{"../utils":"iSxC","./getusermedia":"GzSv","./getdisplaymedia":"UuGU"}],"t1lL":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.shimAudioContext=f,exports.shimCallbacksAPI=i,exports.shimConstraints=c,exports.shimCreateOfferLegacy=p,exports.shimGetUserMedia=s,exports.shimLocalStreamsAPI=o,exports.shimRTCIceServerUrls=a,exports.shimRemoteStreamsAPI=n,exports.shimTrackEventTransceiver=d;var e=r(require("../utils"));function t(e){if("function"!=typeof WeakMap)return null;var r=new WeakMap,o=new WeakMap;return(t=function(e){return e?o:r})(e)}function r(e,r){if(!r&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var o=t(r);if(o&&o.has(e))return o.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var c=i?Object.getOwnPropertyDescriptor(e,s):null;c&&(c.get||c.set)?Object.defineProperty(n,s,c):n[s]=e[s]}return n.default=e,o&&o.set(e,n),n}function o(e){if("object"==typeof e&&e.RTCPeerConnection){if("getLocalStreams"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.getLocalStreams=function(){return this._localStreams||(this._localStreams=[]),this._localStreams}),!("addStream"in e.RTCPeerConnection.prototype)){const t=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addStream=function(e){this._localStreams||(this._localStreams=[]),this._localStreams.includes(e)||this._localStreams.push(e),e.getAudioTracks().forEach(r=>t.call(this,r,e)),e.getVideoTracks().forEach(r=>t.call(this,r,e))},e.RTCPeerConnection.prototype.addTrack=function(e,...r){return r&&r.forEach(e=>{this._localStreams?this._localStreams.includes(e)||this._localStreams.push(e):this._localStreams=[e]}),t.apply(this,arguments)}}"removeStream"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.removeStream=function(e){this._localStreams||(this._localStreams=[]);const t=this._localStreams.indexOf(e);if(-1===t)return;this._localStreams.splice(t,1);const r=e.getTracks();this.getSenders().forEach(e=>{r.includes(e.track)&&this.removeTrack(e)})})}}function n(e){if("object"==typeof e&&e.RTCPeerConnection&&("getRemoteStreams"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.getRemoteStreams=function(){return this._remoteStreams?this._remoteStreams:[]}),!("onaddstream"in e.RTCPeerConnection.prototype))){Object.defineProperty(e.RTCPeerConnection.prototype,"onaddstream",{get(){return this._onaddstream},set(e){this._onaddstream&&(this.removeEventListener("addstream",this._onaddstream),this.removeEventListener("track",this._onaddstreampoly)),this.addEventListener("addstream",this._onaddstream=e),this.addEventListener("track",this._onaddstreampoly=(e=>{e.streams.forEach(e=>{if(this._remoteStreams||(this._remoteStreams=[]),this._remoteStreams.includes(e))return;this._remoteStreams.push(e);const t=new Event("addstream");t.stream=e,this.dispatchEvent(t)})}))}});const t=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){const e=this;return this._onaddstreampoly||this.addEventListener("track",this._onaddstreampoly=function(t){t.streams.forEach(t=>{if(e._remoteStreams||(e._remoteStreams=[]),e._remoteStreams.indexOf(t)>=0)return;e._remoteStreams.push(t);const r=new Event("addstream");r.stream=t,e.dispatchEvent(r)})}),t.apply(e,arguments)}}}function i(e){if("object"!=typeof e||!e.RTCPeerConnection)return;const t=e.RTCPeerConnection.prototype,r=t.createOffer,o=t.createAnswer,n=t.setLocalDescription,i=t.setRemoteDescription,s=t.addIceCandidate;t.createOffer=function(e,t){const o=arguments.length>=2?arguments[2]:arguments[0],n=r.apply(this,[o]);return t?(n.then(e,t),Promise.resolve()):n},t.createAnswer=function(e,t){const r=arguments.length>=2?arguments[2]:arguments[0],n=o.apply(this,[r]);return t?(n.then(e,t),Promise.resolve()):n};let c=function(e,t,r){const o=n.apply(this,[e]);return r?(o.then(t,r),Promise.resolve()):o};t.setLocalDescription=c,c=function(e,t,r){const o=i.apply(this,[e]);return r?(o.then(t,r),Promise.resolve()):o},t.setRemoteDescription=c,c=function(e,t,r){const o=s.apply(this,[e]);return r?(o.then(t,r),Promise.resolve()):o},t.addIceCandidate=c}function s(e){const t=e&&e.navigator;if(t.mediaDevices&&t.mediaDevices.getUserMedia){const e=t.mediaDevices,r=e.getUserMedia.bind(e);t.mediaDevices.getUserMedia=(e=>r(c(e)))}!t.getUserMedia&&t.mediaDevices&&t.mediaDevices.getUserMedia&&(t.getUserMedia=function(e,r,o){t.mediaDevices.getUserMedia(e).then(r,o)}.bind(t))}function c(t){return t&&void 0!==t.video?Object.assign({},t,{video:e.compactObject(t.video)}):t}function a(t){if(!t.RTCPeerConnection)return;const r=t.RTCPeerConnection;t.RTCPeerConnection=function(t,o){if(t&&t.iceServers){const r=[];for(let o=0;o<t.iceServers.length;o++){let n=t.iceServers[o];!n.hasOwnProperty("urls")&&n.hasOwnProperty("url")?(e.deprecated("RTCIceServer.url","RTCIceServer.urls"),(n=JSON.parse(JSON.stringify(n))).urls=n.url,delete n.url,r.push(n)):r.push(t.iceServers[o])}t.iceServers=r}return new r(t,o)},t.RTCPeerConnection.prototype=r.prototype,"generateCertificate"in r&&Object.defineProperty(t.RTCPeerConnection,"generateCertificate",{get:()=>r.generateCertificate})}function d(e){"object"==typeof e&&e.RTCTrackEvent&&"receiver"in e.RTCTrackEvent.prototype&&!("transceiver"in e.RTCTrackEvent.prototype)&&Object.defineProperty(e.RTCTrackEvent.prototype,"transceiver",{get(){return{receiver:this.receiver}}})}function p(e){const t=e.RTCPeerConnection.prototype.createOffer;e.RTCPeerConnection.prototype.createOffer=function(e){if(e){void 0!==e.offerToReceiveAudio&&(e.offerToReceiveAudio=!!e.offerToReceiveAudio);const t=this.getTransceivers().find(e=>"audio"===e.receiver.track.kind);!1===e.offerToReceiveAudio&&t?"sendrecv"===t.direction?t.setDirection?t.setDirection("sendonly"):t.direction="sendonly":"recvonly"===t.direction&&(t.setDirection?t.setDirection("inactive"):t.direction="inactive"):!0!==e.offerToReceiveAudio||t||this.addTransceiver("audio"),void 0!==e.offerToReceiveVideo&&(e.offerToReceiveVideo=!!e.offerToReceiveVideo);const r=this.getTransceivers().find(e=>"video"===e.receiver.track.kind);!1===e.offerToReceiveVideo&&r?"sendrecv"===r.direction?r.setDirection?r.setDirection("sendonly"):r.direction="sendonly":"recvonly"===r.direction&&(r.setDirection?r.setDirection("inactive"):r.direction="inactive"):!0!==e.offerToReceiveVideo||r||this.addTransceiver("video")}return t.apply(this,arguments)}}function f(e){"object"!=typeof e||e.AudioContext||(e.AudioContext=e.webkitAudioContext)}
},{"../utils":"iSxC"}],"GOQK":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.removeExtmapAllowMixed=p,exports.shimAddIceCandidateNullOrEmpty=d,exports.shimConnectionState=s,exports.shimMaxMessageSize=c,exports.shimRTCIceCandidate=r,exports.shimSendThrowTypeError=a;var e=i(require("sdp")),t=o(require("./utils"));function n(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,o=new WeakMap;return(n=function(e){return e?o:t})(e)}function o(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var o=n(t);if(o&&o.has(e))return o.get(e);var i={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var c in e)if("default"!==c&&Object.prototype.hasOwnProperty.call(e,c)){var a=r?Object.getOwnPropertyDescriptor(e,c):null;a&&(a.get||a.set)?Object.defineProperty(i,c,a):i[c]=e[c]}return i.default=e,o&&o.set(e,i),i}function i(e){return e&&e.__esModule?e:{default:e}}function r(n){if(!n.RTCIceCandidate||n.RTCIceCandidate&&"foundation"in n.RTCIceCandidate.prototype)return;const o=n.RTCIceCandidate;n.RTCIceCandidate=function(t){if("object"==typeof t&&t.candidate&&0===t.candidate.indexOf("a=")&&((t=JSON.parse(JSON.stringify(t))).candidate=t.candidate.substr(2)),t.candidate&&t.candidate.length){const n=new o(t),i=e.default.parseCandidate(t.candidate),r=Object.assign(n,i);return r.toJSON=function(){return{candidate:r.candidate,sdpMid:r.sdpMid,sdpMLineIndex:r.sdpMLineIndex,usernameFragment:r.usernameFragment}},r}return new o(t)},n.RTCIceCandidate.prototype=o.prototype,t.wrapPeerConnectionEvent(n,"icecandidate",e=>(e.candidate&&Object.defineProperty(e,"candidate",{value:new n.RTCIceCandidate(e.candidate),writable:"false"}),e))}function c(t,n){if(!t.RTCPeerConnection)return;"sctp"in t.RTCPeerConnection.prototype||Object.defineProperty(t.RTCPeerConnection.prototype,"sctp",{get(){return void 0===this._sctp?null:this._sctp}});const o=t.RTCPeerConnection.prototype.setRemoteDescription;t.RTCPeerConnection.prototype.setRemoteDescription=function(){if(this._sctp=null,"chrome"===n.browser&&n.version>=76){const{sdpSemantics:e}=this.getConfiguration();"plan-b"===e&&Object.defineProperty(this,"sctp",{get(){return void 0===this._sctp?null:this._sctp},enumerable:!0,configurable:!0})}if(function(t){if(!t||!t.sdp)return!1;const n=e.default.splitSections(t.sdp);return n.shift(),n.some(t=>{const n=e.default.parseMLine(t);return n&&"application"===n.kind&&-1!==n.protocol.indexOf("SCTP")})}(arguments[0])){const t=function(e){const t=e.sdp.match(/mozilla...THIS_IS_SDPARTA-(\d+)/);if(null===t||t.length<2)return-1;const n=parseInt(t[1],10);return n!=n?-1:n}(arguments[0]),o=function(e){let t=65536;return"firefox"===n.browser&&(t=n.version<57?-1===e?16384:2147483637:n.version<60?57===n.version?65535:65536:2147483637),t}(t),i=function(t,o){let i=65536;"firefox"===n.browser&&57===n.version&&(i=65535);const r=e.default.matchPrefix(t.sdp,"a=max-message-size:");return r.length>0?i=parseInt(r[0].substr(19),10):"firefox"===n.browser&&-1!==o&&(i=2147483637),i}(arguments[0],t);let r;r=0===o&&0===i?Number.POSITIVE_INFINITY:0===o||0===i?Math.max(o,i):Math.min(o,i);const c={};Object.defineProperty(c,"maxMessageSize",{get:()=>r}),this._sctp=c}return o.apply(this,arguments)}}function a(e){if(!(e.RTCPeerConnection&&"createDataChannel"in e.RTCPeerConnection.prototype))return;function n(e,t){const n=e.send;e.send=function(){const o=arguments[0],i=o.length||o.size||o.byteLength;if("open"===e.readyState&&t.sctp&&i>t.sctp.maxMessageSize)throw new TypeError("Message too large (can send a maximum of "+t.sctp.maxMessageSize+" bytes)");return n.apply(e,arguments)}}const o=e.RTCPeerConnection.prototype.createDataChannel;e.RTCPeerConnection.prototype.createDataChannel=function(){const e=o.apply(this,arguments);return n(e,this),e},t.wrapPeerConnectionEvent(e,"datachannel",e=>(n(e.channel,e.target),e))}function s(e){if(!e.RTCPeerConnection||"connectionState"in e.RTCPeerConnection.prototype)return;const t=e.RTCPeerConnection.prototype;Object.defineProperty(t,"connectionState",{get(){return{completed:"connected",checking:"connecting"}[this.iceConnectionState]||this.iceConnectionState},enumerable:!0,configurable:!0}),Object.defineProperty(t,"onconnectionstatechange",{get(){return this._onconnectionstatechange||null},set(e){this._onconnectionstatechange&&(this.removeEventListener("connectionstatechange",this._onconnectionstatechange),delete this._onconnectionstatechange),e&&this.addEventListener("connectionstatechange",this._onconnectionstatechange=e)},enumerable:!0,configurable:!0}),["setLocalDescription","setRemoteDescription"].forEach(e=>{const n=t[e];t[e]=function(){return this._connectionstatechangepoly||(this._connectionstatechangepoly=(e=>{const t=e.target;if(t._lastConnectionState!==t.connectionState){t._lastConnectionState=t.connectionState;const n=new Event("connectionstatechange",e);t.dispatchEvent(n)}return e}),this.addEventListener("iceconnectionstatechange",this._connectionstatechangepoly)),n.apply(this,arguments)}})}function p(e,t){if(!e.RTCPeerConnection)return;if("chrome"===t.browser&&t.version>=71)return;if("safari"===t.browser&&t.version>=605)return;const n=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(t){if(t&&t.sdp&&-1!==t.sdp.indexOf("\na=extmap-allow-mixed")){const n=t.sdp.split("\n").filter(e=>"a=extmap-allow-mixed"!==e.trim()).join("\n");e.RTCSessionDescription&&t instanceof e.RTCSessionDescription?arguments[0]=new e.RTCSessionDescription({type:t.type,sdp:n}):t.sdp=n}return n.apply(this,arguments)}}function d(e,t){if(!e.RTCPeerConnection||!e.RTCPeerConnection.prototype)return;const n=e.RTCPeerConnection.prototype.addIceCandidate;n&&0!==n.length&&(e.RTCPeerConnection.prototype.addIceCandidate=function(){return arguments[0]?("chrome"===t.browser&&t.version<78||"firefox"===t.browser&&t.version<68||"safari"===t.browser)&&arguments[0]&&""===arguments[0].candidate?Promise.resolve():n.apply(this,arguments):(arguments[1]&&arguments[1].apply(null),Promise.resolve())})}
},{"sdp":"YHvh","./utils":"iSxC"}],"KtlG":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.adapterFactory=o;var e=m(require("./utils")),i=m(require("./chrome/chrome_shim")),r=m(require("./edge/edge_shim")),s=m(require("./firefox/firefox_shim")),t=m(require("./safari/safari_shim")),a=m(require("./common_shim"));function n(e){if("function"!=typeof WeakMap)return null;var i=new WeakMap,r=new WeakMap;return(n=function(e){return e?r:i})(e)}function m(e,i){if(!i&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=n(i);if(r&&r.has(e))return r.get(e);var s={},t=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var m=t?Object.getOwnPropertyDescriptor(e,a):null;m&&(m.get||m.set)?Object.defineProperty(s,a,m):s[a]=e[a]}return s.default=e,r&&r.set(e,s),s}function o({window:n}={},m={shimChrome:!0,shimFirefox:!0,shimEdge:!0,shimSafari:!0}){const o=e.log,h=e.detectBrowser(n),d={browserDetails:h,commonShim:a,extractVersion:e.extractVersion,disableLog:e.disableLog,disableWarnings:e.disableWarnings};switch(h.browser){case"chrome":if(!i||!i.shimPeerConnection||!m.shimChrome)return o("Chrome shim is not included in this adapter release."),d;if(null===h.version)return o("Chrome shim can not determine version, not shimming."),d;o("adapter.js shimming chrome."),d.browserShim=i,a.shimAddIceCandidateNullOrEmpty(n,h),i.shimGetUserMedia(n,h),i.shimMediaStream(n,h),i.shimPeerConnection(n,h),i.shimOnTrack(n,h),i.shimAddTrackRemoveTrack(n,h),i.shimGetSendersWithDtmf(n,h),i.shimGetStats(n,h),i.shimSenderReceiverGetStats(n,h),i.fixNegotiationNeeded(n,h),a.shimRTCIceCandidate(n,h),a.shimConnectionState(n,h),a.shimMaxMessageSize(n,h),a.shimSendThrowTypeError(n,h),a.removeExtmapAllowMixed(n,h);break;case"firefox":if(!s||!s.shimPeerConnection||!m.shimFirefox)return o("Firefox shim is not included in this adapter release."),d;o("adapter.js shimming firefox."),d.browserShim=s,a.shimAddIceCandidateNullOrEmpty(n,h),s.shimGetUserMedia(n,h),s.shimPeerConnection(n,h),s.shimOnTrack(n,h),s.shimRemoveStream(n,h),s.shimSenderGetStats(n,h),s.shimReceiverGetStats(n,h),s.shimRTCDataChannel(n,h),s.shimAddTransceiver(n,h),s.shimGetParameters(n,h),s.shimCreateOffer(n,h),s.shimCreateAnswer(n,h),a.shimRTCIceCandidate(n,h),a.shimConnectionState(n,h),a.shimMaxMessageSize(n,h),a.shimSendThrowTypeError(n,h);break;case"edge":if(!r||!r.shimPeerConnection||!m.shimEdge)return o("MS edge shim is not included in this adapter release."),d;o("adapter.js shimming edge."),d.browserShim=r,r.shimGetUserMedia(n,h),r.shimGetDisplayMedia(n,h),r.shimPeerConnection(n,h),r.shimReplaceTrack(n,h),a.shimMaxMessageSize(n,h),a.shimSendThrowTypeError(n,h);break;case"safari":if(!t||!m.shimSafari)return o("Safari shim is not included in this adapter release."),d;o("adapter.js shimming safari."),d.browserShim=t,a.shimAddIceCandidateNullOrEmpty(n,h),t.shimRTCIceServerUrls(n,h),t.shimCreateOfferLegacy(n,h),t.shimCallbacksAPI(n,h),t.shimLocalStreamsAPI(n,h),t.shimRemoteStreamsAPI(n,h),t.shimTrackEventTransceiver(n,h),t.shimGetUserMedia(n,h),t.shimAudioContext(n,h),a.shimRTCIceCandidate(n,h),a.shimMaxMessageSize(n,h),a.shimSendThrowTypeError(n,h),a.removeExtmapAllowMixed(n,h);break;default:o("Unsupported browser!")}return d}
},{"./utils":"iSxC","./chrome/chrome_shim":"uI5X","./edge/edge_shim":"XRic","./firefox/firefox_shim":"Fzdr","./safari/safari_shim":"t1lL","./common_shim":"GOQK"}],"tI1X":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=require("./adapter_factory.js");const t=(0,e.adapterFactory)({window:"undefined"==typeof window?void 0:window});var o=t;exports.default=o;
},{"./adapter_factory.js":"KtlG"}],"Yqfd":[function(require,module,exports) {
var e,r,o=require("./lib/rng"),s=require("./lib/bytesToUuid"),i=0,n=0;function c(c,l,u){var v=l&&u||0,a=l||[],d=(c=c||{}).node||e,t=void 0!==c.clockseq?c.clockseq:r;if(null==d||null==t){var m=o();null==d&&(d=e=[1|m[0],m[1],m[2],m[3],m[4],m[5]]),null==t&&(t=r=16383&(m[6]<<8|m[7]))}var q=void 0!==c.msecs?c.msecs:(new Date).getTime(),f=void 0!==c.nsecs?c.nsecs:n+1,b=q-i+(f-n)/1e4;if(b<0&&void 0===c.clockseq&&(t=t+1&16383),(b<0||q>i)&&void 0===c.nsecs&&(f=0),f>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");i=q,n=f,r=t;var k=(1e4*(268435455&(q+=122192928e5))+f)%4294967296;a[v++]=k>>>24&255,a[v++]=k>>>16&255,a[v++]=k>>>8&255,a[v++]=255&k;var w=q/4294967296*1e4&268435455;a[v++]=w>>>8&255,a[v++]=255&w,a[v++]=w>>>24&15|16,a[v++]=w>>>16&255,a[v++]=t>>>8|128,a[v++]=255&t;for(var g=0;g<6;++g)a[v+g]=d[g];return l||s(a)}module.exports=c;
},{"./lib/rng":"j3Do","./lib/bytesToUuid":"HSap"}],"WO43":[function(require,module,exports) {
var r=require("./lib/rng"),n=require("./lib/bytesToUuid");function e(e,i,u){var a=i&&u||0;"string"==typeof e&&(i="binary"===e?new Array(16):null,e=null);var l=(e=e||{}).random||(e.rng||r)();if(l[6]=15&l[6]|64,l[8]=63&l[8]|128,i)for(var o=0;o<16;++o)i[a+o]=l[o];return i||n(l)}module.exports=e;
},{"./lib/rng":"j3Do","./lib/bytesToUuid":"HSap"}],"wQtZ":[function(require,module,exports) {
var e=require("./v1"),r=require("./v4"),v=r;v.v1=e,v.v4=r,module.exports=v;
},{"./v1":"Yqfd","./v4":"WO43"}],"AjFS":[function(require,module,exports) {
"use strict";var e=require("@babel/runtime-corejs2/core-js/object/define-property");e(exports,"__esModule",{value:!0}),exports.default=void 0;var r={set:function(e){r.verboseEvents=e.verboseEvents,r.enable=e.enable}},t=r;exports.default=t;
},{"@babel/runtime-corejs2/core-js/object/define-property":"eIqn"}],"NeTJ":[function(require,module,exports) {
"use strict";var r=require("@babel/runtime-corejs2/core-js/object/define-property"),e=require("@babel/runtime-corejs2/helpers/interopRequireDefault");r(exports,"__esModule",{value:!0}),exports.default=void 0;var o=e(require("./logger-config")),n={logger:{info:function(){console.error("LoggerProxy->info#NO LOGGER DEFINED")},log:function(){console.error("LoggerProxy->log#NO LOGGER DEFINED")},error:function(){console.error("LoggerProxy->error#NO LOGGER DEFINED")},warn:function(){console.error("LoggerProxy->warn#NO LOGGER DEFINED")},trace:function(){console.error("LoggerProxy->trace#NO LOGGER DEFINED")},debug:function(){console.error("LoggerProxy->debug#NO LOGGER DEFINED")}},set:function(r){o.default.enable||(n.logger={info:function(){},log:function(){},error:function(){},warn:function(){},trace:function(){},debug:function(){}}),n.logger=r},get:function(){return n.logger}},t=n;exports.default=t;
},{"@babel/runtime-corejs2/core-js/object/define-property":"eIqn","@babel/runtime-corejs2/helpers/interopRequireDefault":"LXwi","./logger-config":"AjFS"}],"swzz":[function(require,module,exports) {
"use strict";var E=require("@babel/runtime-corejs2/core-js/object/define-property"),_=require("@babel/runtime-corejs2/helpers/interopRequireDefault");E(exports,"__esModule",{value:!0}),exports.WWW_DOT=exports.USE_URI_LOOKUP_FALSE=exports.SHARE_PEER_CONNECTION_NAME=exports.MEDIA_PEER_CONNECTION_NAME=exports.MEETINGS=exports.HTTPS_PROTOCOL=exports.ALTERNATE_REDIRECT_TRUE=exports.PARTICIPANT_DELTAS=exports._WAIT_=exports._WEBEX_MEETING_=exports._UNKNOWN_=exports._USER_=exports._S_LINE=exports._SLIDES_=exports._INACTIVE_=exports._SEND_ONLY_=exports._SEND_RECEIVE_=exports._SIP_URI_=exports._SIP_BRIDGE_=exports._ROOM_=exports._REMOVE_=exports._RECEIVE_ONLY_=exports._RESOURCE_ROOM_=exports._REQUESTED_=exports._PEOPLE_=exports._PERSONAL_ROOM_=exports._OBSERVE_=exports._OFFER_=exports._NONE_=exports._NOT_IN_MEETING_=exports._MEETING_ID_=exports._MEETING_CENTER_=exports._MEETING_=exports._MEETING_UUID_=exports._MEETING_LINK_=exports._LEFT_=exports._LOCUS_ID_=exports._JOINED_=exports._JOIN_=exports._ID_=exports._IN_=exports._INCOMING_=exports._IN_MEETING_=exports._IN_LOBBY_=exports._IDLE_=exports._FORCED_=exports._ERROR_=exports._CONVERSATION_URL_=exports._CONFLICT_=exports._CREATED_=exports._CALL_=exports._ACTIVE_=exports._ANSWER_=exports.VIDEO_STATUS=exports.VIDEO_INPUT=exports.VIDEO=exports.TYPE=exports.SHARE=exports.SIP_URI=exports.SENDRECV=exports.SEND_DTMF_ENDPOINT=exports.READY=exports.REMOTE=exports.PROVISIONAL_TYPE_DIAL_OUT=exports.PROVISIONAL_TYPE_DIAL_IN=exports.PARTICIPANT=exports.ONLINE=exports.OFFLINE=exports.MEDIA=exports.MEET_M=exports.MEET=exports.MEETINGINFO=exports.LOCUS_URL=exports.LOCI=exports.LOCAL=exports.LIVE=exports.LEAVE=exports.JOIN=exports.HOST=exports.HECATE=exports.OFFER=exports.ENDED=exports.ERROR=exports.DECLINE=exports.DEVELOPMENT=exports.WHITEBOARD=exports.CONTENT=exports.CONTROLS=exports.CLAIM=exports.CMR_MEETINGS=exports.CALENDAR_EVENTS_API=exports.CALENDAR=exports.CONVERSATION_URL=exports.CORRELATION_ID=exports.CALL=exports.ANSWER=exports.ALERT=exports.AUDIO_STATUS=exports.AUDIO_INPUT=exports.AUDIO=void 0,exports.PSTN_STATUS=exports.METRICS_OPERATIONAL_MEASURES=exports.MEDIA_DEVICES=exports.MQA_INTEVAL=exports.MAX_FRAMESIZES=exports.VIDEO_RESOLUTIONS=exports.QUALITY_LEVELS=exports.MQA_STATS=exports.STATS=exports.NETWORK_TYPE=exports.NETWORK_STATUS=exports.SDP=exports.MediaContent=exports.ROAP=exports.REACHABILITY=exports.RESOURCE=exports.RECONNECTION=exports.RTC_CONFIGURATION=exports.RTC_CONFIGURATION_FIREFOX=exports.PEER_CONNECTION_STATE=exports.MEETING_VIDEO_STATE_MACHINE=exports.MEETING_AUDIO_STATE_MACHINE=exports.MEETING_STATE_MACHINE=exports.MEETING_STATE=exports.MODERATOR_HINTS=exports.MEETING_END_REASON=exports.MEETING_ERRORS=exports.MEDIA_TRACK_CONSTRAINT=exports.LOCUSEVENT=exports.LOCUSINFO=exports.LOCUS=exports.JOIN_HINTS=exports.CONNECTION_STATE=exports.ICE_STATE=exports.ICE_GATHERING_STATE=exports.HTTP_VERBS=exports.FULL_STATE=exports.FLOOR_ACTION=exports.ERROR_DICTIONARY=exports.EVENT_STATS_MAP=exports.MEDIA_STATE=exports.EVENTS=exports.SHARE_STOPPED_REASON=exports.CALL_REMOVED_REASON=exports.MEETING_REMOVED_REASON=exports.EVENT_TYPES=exports.EVENT_TRIGGERS=exports.SHARE_STATUS=exports.RECORDING_STATE=exports.DELTAEVENT=exports.DEFAULT_OMISSION_DATA_KEYS=exports.DEFAULT_TRANSFORM_KEYS=exports.DEFAULT_EVENT_AUDIO_RECEIVE_KEYS=exports.DEFAULT_EVENT_VIDEO_RECEIVE_KEYS=exports.DEFAULT_EVENT_AUDIO_SEND_KEYS=exports.DEFAULT_EVENT_VIDEO_SEND_KEYS=exports.DEFAULT_GET_STATS_FILTER=exports.CALENDAR_EVENTS=exports.ANALYSIS_STATS=exports.ANALYSIS_CHECKS=exports.API=exports.UUID_REG=exports.VALID_PIN=exports.VALID_PMR_LINK=exports.VALID_PMR_ADDRESS=exports.VALID_EMAIL_ADDRESS=exports.DEFAULT_FF_TRANSFORM_REGEX=exports.DEFAULT_TRANSFORM_REGEX=exports.IPV4_REGEX=exports.DIALER_REGEX=exports.PC_BAIL_TIMEOUT=exports.ROAP_SEQ_PRE=exports.RETRY_TIMEOUT=exports.ICE_FAIL_TIMEOUT=exports.ICE_TIMEOUT=exports.INTENT_TO_JOIN=exports.MODERATOR_FALSE=exports.MODERATOR_TRUE=exports.LAYOUT_TYPES=exports.DEFAULT_EXCLUDED_STATS=exports.CONVERSATION_SERVICE=exports.WEBEX_DOT_COM=void 0;var e,T,I=_(require("@babel/runtime-corejs2/helpers/defineProperty")),N=require("@webex/common"),r="audio";exports.AUDIO=r;var R="audioinput";exports.AUDIO_INPUT=R;var O="audioStatus";exports.AUDIO_STATUS=O;var A="alert";exports.ALERT=A;var t="answer";exports.ANSWER=t;var S="call";exports.CALL=S;var o="correlationId";exports.CORRELATION_ID=o;var D="conversationUrl";exports.CONVERSATION_URL=D;var s="calendar";exports.CALENDAR=s;var a="calendarEvents";exports.CALENDAR_EVENTS_API=a;var C="cmrmeetings";exports.CMR_MEETINGS=C;var L="claim";exports.CLAIM=L;var i="controls";exports.CONTROLS=i;var p="content";exports.CONTENT=p;var U="whiteboard";exports.WHITEBOARD=U;var M="development";exports.DEVELOPMENT=M;var n="decline";exports.DECLINE=n;var d="error";exports.ERROR=d;var x="ended";exports.ENDED=x;var P="offer";exports.OFFER=P;var G="hecate";exports.HECATE=G;var c="host";exports.HOST=c;var F="join";exports.JOIN=F;var v="leave";exports.LEAVE=v;var V="live";exports.LIVE=V;var u="local";exports.LOCAL=u;var m="loci";exports.LOCI=m;var l="locusUrl";exports.LOCUS_URL=l;var g="meetingInfo";exports.MEETINGINFO=g;var H="meet";exports.MEET=H;var Y="m";exports.MEET_M=Y;var B="media";exports.MEDIA=B;var h="offline";exports.OFFLINE=h;var K="online";exports.ONLINE=K;var W="participant";exports.PARTICIPANT=W;var f="DIAL_IN";exports.PROVISIONAL_TYPE_DIAL_IN=f;var X="DIAL_OUT";exports.PROVISIONAL_TYPE_DIAL_OUT=X;var k="remote";exports.REMOTE=k;var y="ready";exports.READY=y;var b="sendDtmf";exports.SEND_DTMF_ENDPOINT=b;var w="sendrecv";exports.SENDRECV=w;var Q="sipUri";exports.SIP_URI=Q;var j="share";exports.SHARE=j;var J="type";exports.TYPE=J;var q="video";exports.VIDEO=q;var Z="videoinput";exports.VIDEO_INPUT=Z;var z="videoStatus";exports.VIDEO_STATUS=z;var $="ANSWER";exports._ANSWER_=$;var EE="ACTIVE";exports._ACTIVE_=EE;var _E="CALL";exports._CALL_=_E;var eE="CREATED";exports._CREATED_=eE;var TE="CONFLICT";exports._CONFLICT_=TE;var IE="CONVERSATION_URL";exports._CONVERSATION_URL_=IE;var NE="ERROR";exports._ERROR_=NE;var rE="FORCED";exports._FORCED_=rE;var RE="IDLE";exports._IDLE_=RE;var OE="IN_LOBBY";exports._IN_LOBBY_=OE;var AE="IN_MEETING";exports._IN_MEETING_=AE;var tE="INCOMING";exports._INCOMING_=tE;var SE="IN";exports._IN_=SE;var oE="id";exports._ID_=oE;var DE="JOIN";exports._JOIN_=DE;var sE="JOINED";exports._JOINED_=sE;var aE="LOCUS_ID";exports._LOCUS_ID_=aE;var CE="LEFT";exports._LEFT_=CE;var LE="MEETING_LINK";exports._MEETING_LINK_=LE;var iE="MEETING_UUID";exports._MEETING_UUID_=iE;var pE="MEETING";exports._MEETING_=pE;var UE="MEETING_CENTER";exports._MEETING_CENTER_=UE;var ME="MEETING_ID";exports._MEETING_ID_=ME;var nE="NOT_IN_MEETING";exports._NOT_IN_MEETING_=nE;var dE="NONE";exports._NONE_=dE;var xE="OFFER";exports._OFFER_=xE;var PE="OBSERVE";exports._OBSERVE_=PE;var GE="PERSONAL_ROOM";exports._PERSONAL_ROOM_=GE;var cE=N.hydraTypes.PEOPLE;exports._PEOPLE_=cE;var FE="REQUESTED";exports._REQUESTED_=FE;var vE="RESOURCE_ROOM";exports._RESOURCE_ROOM_=vE;var VE="RECVONLY";exports._RECEIVE_ONLY_=VE;var uE="REMOVE";exports._REMOVE_=uE;var mE=N.hydraTypes.ROOM;exports._ROOM_=mE;var lE="SIP_BRIDGE";exports._SIP_BRIDGE_=lE;var gE="SIP_URI";exports._SIP_URI_=gE;var HE="SENDRECV";exports._SEND_RECEIVE_=HE;var YE="SENDONLY";exports._SEND_ONLY_=YE;var BE="INACTIVE";exports._INACTIVE_=BE;var hE="SLIDES";exports._SLIDES_=hE;var KE="s=-";exports._S_LINE=KE;var WE="USER";exports._USER_=WE;var fE="UNKNOWN";exports._UNKNOWN_=fE;var XE="WEBEX_MEETING";exports._WEBEX_MEETING_=XE;var kE="WAIT";exports._WAIT_=kE;var yE={TARGETS:{AUDIO:"audio",VIDEO:"video"},STATES:{DISABLED:"disabled",MUTED:"muted",UNKNOWN:"unknown",UNMUTED:"unmuted"}};exports.PARTICIPANT_DELTAS=yE;var bE="alternateRedirect=true";exports.ALTERNATE_REDIRECT_TRUE=bE;var wE="https://";exports.HTTPS_PROTOCOL=wE;var QE="Meetings";exports.MEETINGS=QE;var jE="MediaPeerConnection";exports.MEDIA_PEER_CONNECTION_NAME=jE;var JE="SharePeerConnection";exports.SHARE_PEER_CONNECTION_NAME=JE;var qE="useUriLookup=false";exports.USE_URI_LOOKUP_FALSE=qE;var ZE="www.";exports.WWW_DOT=ZE;var zE="webex.com";exports.WEBEX_DOT_COM=zE;var $E="identityLookup";exports.CONVERSATION_SERVICE=$E;var E_=["timestamp","ssrc","priority"];exports.DEFAULT_EXCLUDED_STATS=E_;var __=["Single","Equal","ActivePresence","Prominent","OnePlusN"];exports.LAYOUT_TYPES=__;var e_=!0;exports.MODERATOR_TRUE=e_;var T_=!1;exports.MODERATOR_FALSE=T_;var I_=[2423005,2423006,2423016,2423017,2423018];exports.INTENT_TO_JOIN=I_;var N_=2e3;exports.ICE_TIMEOUT=N_;var r_=3e3;exports.ICE_FAIL_TIMEOUT=r_;var R_=3e3;exports.RETRY_TIMEOUT=R_;var O_=-1;exports.ROAP_SEQ_PRE=O_;var A_=8e3;exports.PC_BAIL_TIMEOUT=A_;var t_={SIP_ADDRESS:/^(sips?)?:?(?:([^\s>:@]+)(?::([^\s@>]+))?@)([\w\-.]+)(?::(\d+))?((?:;[^\s=?>;]+(?:=[^\s?;]+)?)*)(?:\?(([^\s&=>]+=[^\s&=>]+)(&[^\s&=>]+=[^\s&=>]+)*))?$/,PHONE_NUMBER:/^(?:(?:\+?1\s*(?:[.-]\s*)?)?(?:\(\s*([2-9]1[02-9]|[2-9][02-8]1|[2-9][02-8][02-9])\s*\)|([2-9]1[02-9]|[2-9][02-8]1|[2-9][02-8][02-9]))\s*(?:[.-]\s*)?)?([2-9]1[02-9]|[2-9][02-9]1|[2-9][02-9]{2})\s*(?:[.-]\s*)?([0-9]{4})(?:\s*(?:#|x\.?|ext\.?|extension)\s*(\d+))?$/,E164_FORMAT:/^\+[1-9]\d{1,14}$/};exports.DIALER_REGEX=t_;var S_=/^(?:[0-9]{1,3}\.){3}[0-9]{1,3}|.local/g;exports.IPV4_REGEX=S_;var o_={rtpOutVideo:{regex:new RegExp("^(?:RTC)?[Oo]utbound_?[Rr][Tt][Pp]_?[Vv]ideo")},rtpOutAudio:{regex:new RegExp("^(?:RTC)?[Oo]utbound_?[Rr][Tt][Pp]_?[Aa]udio")},rtpInVideo:{regex:new RegExp("^(?:RTC)?[Ii]nbound_?[Rr][Tt][Pp]_?[Vv]ideo")},rtpInAudio:{regex:new RegExp("^(?:RTC)?[Ii]nbound_?[Rr][Tt][Pp]_?[Aa]udio")},rtpRemoteInboundAudio:{regex:new RegExp("^(?:RTC)?[Rr]emote[Ii]nbound_?[Rr][Tt][Pp]_?[Aa]udio[sS]tream_?.*")},rtpRemoteOutboundAudio:{regex:new RegExp("^(?:RTC)?[Rr]emote[Oo]utbound_?[Rr][Tt][Pp]_?[Aa]udio[sS]tream_?.*")},rtpRemoteInboundVideo:{regex:new RegExp("^(?:RTC)?[Rr]emote[Ii]nbound_?[Rr][Tt][Pp]_?[Vv]ideo[sS]tream_?.*")},rtpRemoteOutboundVideo:{regex:new RegExp("^(?:RTC)?[Rr]emote[Oo]utbound_?[Rr][Tt][Pp]_?[Vv]ideo[sS]tream_?.*")},rtcOutAudio:{regex:new RegExp("^RTCMediaStreamTrack_(?:local|sender)_"),profiler:{type:"kind",value:"audio"}},rtcOutVideo:{regex:new RegExp("^RTCMediaStreamTrack_(?:local|sender)_"),profiler:{type:"kind",value:"video"}},rtcInAudio:{regex:new RegExp("^RTCMediaStreamTrack_(?:remote|receiver)_"),profiler:{type:"kind",value:"audio"}},rtcInVideo:{regex:new RegExp("^RTCMediaStreamTrack_(?:remote|receiver)_"),profiler:{type:"kind",value:"video"}},rtcTransAudio:{regex:new RegExp("^RTCTransport_[Aa]udio")},rtcTransVideo:{regex:new RegExp("^RTCTransport_[Vv]ideo")},rtcCandidatePair:{regex:new RegExp("^RTCIceCandidatePair_"),decider:"nominated",selector:!0,profiler:{type:"type",value:"candidate-pair"}}};exports.DEFAULT_TRANSFORM_REGEX=o_;var D_={rtpOutVideo:{regex:new RegExp("^outbound-rtp_video_.*")},rtpOutAudio:{regex:new RegExp("^outbound-rtp_audio_.*")},rtpInVideo:{regex:new RegExp("^inbound-rtp_video_.*")},rtpInAudio:{regex:new RegExp("^inbound-rtp_audio_.*")},rtcCandidatePair:{regex:new RegExp("^candidate-pair.*"),decider:"nominated",selector:!0,profiler:{type:"type",value:"candidate-pair"}}};exports.DEFAULT_FF_TRANSFORM_REGEX=D_;var s_=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;exports.VALID_EMAIL_ADDRESS=s_;var a_=/([a-z0-9][-a-z0-9, '.']{0,62})@([a-z0-9][-a-z0-9, '.']{0,62})\.webex\.com/i;exports.VALID_PMR_ADDRESS=a_;var C_=/(https:\/\/)?([a-z0-9][-a-z0-9, '.']{0,62})\.webex\.com\/(meet|join)\/([a-z0-9][-a-z0-9, '.']{0,62})\/?/i;exports.VALID_PMR_LINK=C_;var L_=/([0-9]{4,6})/;exports.VALID_PIN=L_;var i_=/^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i;exports.UUID_REG=i_;var p_={CALLIOPEDISCOVERY:"calliopeDiscovery",LOCUS:"locus"};exports.API=p_;var U_={INCREASING:"increasing",DECREASING:"decreasing",CONSTANT:"constant"};exports.ANALYSIS_CHECKS=U_;var M_={DEFAULT_KEYS:[{key:"bytesSent",check:"increasing",prop:"rtpOutAudio"},{key:"bytesReceived",check:"increasing",prop:"rtpInAudio"}]};exports.ANALYSIS_STATS=M_;var n_={CREATE:"event:calendar.meeting.create",UPDATE:"event:calendar.meeting.update",CREATE_MINIMAL:"event:calendar.meeting.create.minimal",UPDATE_MINIMAL:"event:calendar.meeting.update.minimal",DELETE:"event:calendar.meeting.delete"};exports.CALENDAR_EVENTS=n_;var d_={types:["track","transport","candidate-pair","outbound-rtp","outboundrtp","inbound-rtp","inboundrtp","remote-inbound-rtp","remote-outbound-rtp","remote-candidate","local-candidate","media-source"]};exports.DEFAULT_GET_STATS_FILTER=d_;var x_=["rtpOutVideo","rtcOutVideo","rtcTransVideo"];exports.DEFAULT_EVENT_VIDEO_SEND_KEYS=x_;var P_=["rtpOutAudio","rtcOutAudio","rtcTransAudio"];exports.DEFAULT_EVENT_AUDIO_SEND_KEYS=P_;var G_=["rtpInVideo","rtcInVideo","rtcTransVideo"];exports.DEFAULT_EVENT_VIDEO_RECEIVE_KEYS=G_;var c_=["rtpInAudio","rtcInAudio","rtcTransAudio"];exports.DEFAULT_EVENT_AUDIO_RECEIVE_KEYS=c_;var F_=["rtpOutVideo","rtpOutAudio","rtpInVideo","rtpInAudio","rtcOutAudio","rtcOutVideo","rtcInAudio","rtcInVideo","rtcTransAudio","rtcTransVideo","rtcCandidatePairAudio","rtcCandidatePairVideo"];exports.DEFAULT_TRANSFORM_KEYS=F_;var v_=["id","timestamp","type","ssrc","isRemote","mediaType","kind","trackId","transportId","codecId","mediaSourceId","trackIdentifier"];exports.DEFAULT_OMISSION_DATA_KEYS=v_;var V_={GT:"GT",CF:"CF",EQ:"EQ",LT:"LT"};exports.DELTAEVENT=V_;var u_={RECORDING:"recording",IDLE:"idle",PAUSED:"paused",RESUMED:"resumed"};exports.RECORDING_STATE=u_;var m_={NO_SHARE:"no_share",REMOTE_SHARE_ACTIVE:"remote_share_active",LOCAL_SHARE_ACTIVE:"local_share_active",WHITEBOARD_SHARE_ACTIVE:"whiteboard_share_active"};exports.SHARE_STATUS=m_;var l_={MEETINGS_READY:"meetings:ready",MEETINGS_REGISTERED:"meetings:registered",MEETINGS_UNREGISTERED:"meetings:unregistered",MEDIA_READY:"media:ready",MEDIA_STOPPED:"media:stopped",MEDIA_UPDATE:"media:update",MEDIA_CODEC_MISSING:"media:codec:missing",MEDIA_CODEC_LOADED:"media:codec:loaded",MEETING_STARTED_SHARING_LOCAL:"meeting:startedSharingLocal",MEETING_STOPPED_SHARING_LOCAL:"meeting:stoppedSharingLocal",MEETING_STARTED_SHARING_REMOTE:"meeting:startedSharingRemote",MEETING_STOPPED_SHARING_REMOTE:"meeting:stoppedSharingRemote",MEETING_STARTED_SHARING_WHITEBOARD:"meeting:startedSharingWhiteboard",MEETING_STOPPED_SHARING_WHITEBOARD:"meeting:stoppedSharingWhiteboard",MEETING_MEDIA_LOCAL_STARTED:"meeting:media:local:start",MEETING_MEDIA_REMOTE_STARTED:"meeting:media:remote:start",MEETING_STARTED_RECORDING:"meeting:recording:started",MEETING_STOPPED_RECORDING:"meeting:recording:stopped",MEETING_STARTED_RECEIVING_TRANSCRIPTION:"meeting:receiveTranscription:started",MEETING_STOPPED_RECEIVING_TRANSCRIPTION:"meeting:receiveTranscription:stopped",MEETING_PAUSED_RECORDING:"meeting:recording:paused",MEETING_RESUMED_RECORDING:"meeting:recording:resumed",MEETING_ADDED:"meeting:added",MEETING_REMOVED:"meeting:removed",MEETING_RINGING:"meeting:ringing",MEETING_RINGING_STOP:"meeting:ringingStop",MEETING_SELF_LOBBY_WAITING:"meeting:self:lobbyWaiting",MEETING_SELF_GUEST_ADMITTED:"meeting:self:guestAdmitted",MEETING_SELF_MUTED_BY_OTHERS:"meeting:self:mutedByOthers",MEETING_SELF_UNMUTED_BY_OTHERS:"meeting:self:unmutedByOthers",MEETING_SELF_REQUESTED_TO_UNMUTE:"meeting:self:requestedToUnmute",MEETING_SELF_PHONE_AUDIO_UPDATE:"meeting:self:phoneAudioUpdate",MEMBERS_UPDATE:"members:update",MEMBERS_CONTENT_UPDATE:"members:content:update",MEMBERS_HOST_UPDATE:"members:host:update",MEMBERS_SELF_UPDATE:"members:self:update",MEETING_RECONNECTION_STARTING:"meeting:reconnectionStarting",MEETING_RECONNECTION_SUCCESS:"meeting:reconnectionSuccess",MEETING_RECONNECTION_FAILURE:"meeting:reconnectionFailure",MEETING_UNLOCKED:"meeting:unlocked",MEETING_LOCKED:"meeting:locked",MEETING_LOG_UPLOAD_SUCCESS:"meeting:logUpload:success",MEETING_LOG_UPLOAD_FAILURE:"meeting:logUpload:failure",MEETING_ACTIONS_UPDATE:"meeting:actionsUpdate",MEETING_STATE_CHANGE:"meeting:stateChange",MEETING_HIGH_PACKETLOSS:"meeting:highPacketLoss",MEDIA_QUALITY:"media:quality",MEETINGS_NETWORK_DISCONNECTED:"network:disconnected",MEETINGS_NETWORK_CONNECTED:"network:connected",MEETING_SELF_LEFT:"meeting:self:left",NETWORK_QUALITY:"network:quality",MEDIA_NEGOTIATED:"media:negotiated"};exports.EVENT_TRIGGERS=l_;var g_={SELF:"self",OTHER:"other",LOCAL:"local",REMOTE:"remote",REMOTE_AUDIO:"remoteAudio",REMOTE_VIDEO:"remoteVideo",REMOTE_SHARE:"remoteShare",LOCAL_SHARE:"localShare",ERROR:"error"};exports.EVENT_TYPES=g_;var H_={SELF_REMOVED:"SELF_REMOVED",FULLSTATE_REMOVED:"FULLSTATE_REMOVED",MEETING_INACTIVE_TERMINATING:"MEETING_INACTIVE_TERMINATING",CLIENT_LEAVE_REQUEST:"CLIENT_LEAVE_REQUEST",USER_ENDED_SHARE_STREAMS:"USER_ENDED_SHARE_STREAMS",NO_MEETINGS_TO_SYNC:"NO_MEETINGS_TO_SYNC",MEETING_CONNECTION_FAILED:"MEETING_CONNECTION_FAILED"};exports.MEETING_REMOVED_REASON=H_;var Y_={CALL_INACTIVE:"CALL_INACTIVE",PARTNER_LEFT:"PARTNER_LEFT",SELF_LEFT:"SELF_LEFT"};exports.CALL_REMOVED_REASON=Y_;var B_={SELF_STOPPED:"SELF_STOPPED",MEETING_REJOIN:"MEETING_REJOIN"};exports.SHARE_STOPPED_REASON=B_;var h_={ROAP_OK:"ROAP_OK",ROAP_ANSWER:"ROAP_ANSWER",SELF_UNADMITTED_GUEST:"SELF_UNADMITTED_GUEST",SELF_ADMITTED_GUEST:"SELF_ADMITTED_GUEST",MEDIA_INACTIVITY:"MEDIA_INACTIVITY",CONVERSATION_URL_UPDATE:"CONVERSATION_URL_UPDATE",DESTROY_MEETING:"DESTROY_MEETING",REQUEST_UPLOAD_LOGS:"REQUEST_UPLOAD_LOGS",REMOTE_RESPONSE:"REMOTE_RESPONSE",LOCUS_INFO_UPDATE_PARTICIPANTS:"LOCUS_INFO_UPDATE_PARTICIPANTS",LOCUS_INFO_UPDATE_HOST:"LOCUS_INFO_UPDATE_HOST",LOCUS_INFO_UPDATE_MEDIA_SHARES:"LOCUS_INFO_UPDATE_MEDIA_SHARES",LOCUS_INFO_UPDATE_SELF:"LOCUS_INFO_UPDATE_SELF",LOCUS_INFO_UPDATE_URL:"LOCUS_INFO_UPDATE_URL",LOCUS_INFO_CAN_ASSIGN_HOST:"LOCUS_INFO_CAN_ASSIGN_HOST",DISCONNECT_DUE_TO_INACTIVITY:"DISCONNECT_DUE_TO_INACTIVITY"};exports.EVENTS=h_;var K_={active:"active",inactive:"inactive"};exports.MEDIA_STATE=K_;var W_={BYTES_SENT:"bytesSent",BYTES_RECEIVED:"bytesReceived"};exports.EVENT_STATS_MAP=W_;var f_={PARAMETER:{NAME:"ParameterError",MESSAGE:"The parameters passed to the function, or object properties needed in the function were null, missing where required, or otherwise incorrect.",CODE:0},INTENT_TO_JOIN:{NAME:"IntentToJoinError",MESSAGE:"The meeting is locked. This is expected behavior. Call #join again with pin and/or moderator option",CODE:1},JOIN_MEETING:{NAME:"JoinMeetingError",MESSAGE:"There was an issue joining the meeting, meeting could be in a bad state.",CODE:2},RECONNECTION:{NAME:"ReconnectionError",MESSAGE:"There was an error in the reconnection flow, the meeting may not reconnect, disconnect and dial again.",CODE:3},MEDIA:{NAME:"MediaError",MESSAGE:"There was an error with media, the meeting may not have live audio, video or share.",CODE:4},PERMISSION:{NAME:"PermissionError",MESSAGE:"Not allowed to execute the function, some properties on server, or local client state do not allow you to complete this action.",CODE:5},STATS:{NAME:"StatsError",MESSAGE:"An error occurred with getStats, stats may not continue for this data stream.",CODE:6}};exports.ERROR_DICTIONARY=f_;var X_={GRANTED:"GRANTED",RELEASED:"RELEASED",ACCEPTED:"ACCEPTED"};exports.FLOOR_ACTION=X_;var k_={INITIALIZING:"INITIALIZING",INACTIVE:"INACTIVE",ACTIVE:"ACTIVE",TERMINATING:"TERMINATING",UNKNOWN:"UNKNOWN"};exports.FULL_STATE=k_;var y_={PUT:"PUT",POST:"POST",GET:"GET",PATCH:"PATCH"};exports.HTTP_VERBS=y_;var b_={NEW:"new",GATHERING:"gathering",COMPLETE:"complete"};exports.ICE_GATHERING_STATE=b_;var w_={CHECKING:"checking",CONNECTED:"connected",CLOSED:"closed",COMPLETED:"completed",FAILED:"failed",DISCONNECTED:"disconnected"};exports.ICE_STATE=w_;var Q_={NEW:"new",CONNECTING:"connecting",CONNECTED:"connected",CLOSED:"closed",FAILED:"failed",DISCONNECTED:"disconnected"};exports.CONNECTION_STATE=Q_;var j_={LOCK_STATUS_LOCKED:"LOCK_STATUS_LOCKED",LOCK_STATUS_UNLOCKED:"LOCK_STATUS_UNLOCKED"};exports.JOIN_HINTS=j_;var J_={STATE:{INACTIVE:"INACTIVE",ENDED:"ENDED",INITIALIZING:"INITIALIZING"},SEQUENCE:{UN_DEF:"undef",EMPTY:"empty",DEF:"def",NA:"na",RANGE_START:"rangeStart",RANGE_END:"rangeEnd"},SYNCDEBUG:"sync_debug"};exports.LOCUS=J_;var q_={EVENTS:{CONTROLS_RECORDING_UPDATED:"CONTROLS_RECORDING_UPDATED",SELF_UNADMITTED_GUEST:"SELF_UNADMITTED_GUEST",SELF_ADMITTED_GUEST:"SELF_ADMITTED_GUEST",SELF_REMOTE_MUTE_STATUS_UPDATED:"SELF_REMOTE_MUTE_STATUS_UPDATED",LOCAL_UNMUTE_REQUESTED:"LOCAL_UNMUTE_REQUESTED",LOCAL_UNMUTE_REQUIRED:"LOCAL_UNMUTE_REQUIRED",SELF_MODERATOR_CHANGED:"SELF_MODERATOR_CHANGED",MEETING_UPDATE:"MEETING_UPDATE",MEDIA_STATUS_CHANGE:"MEDIA_STATUS_CHANGE",FULL_STATE_TYPE_UPDATE:"FULL_STATE_TYPE_UPDATE",FULL_STATE_MEETING_STATE_CHANGE:"FULL_STATE_MEETING_STATE_CHANGE",MEETING_STATE_CHANGE_TO_ACTIVE:"MEETING_STATE_CHANGE_TO_ACTIVE",MEETING_INFO_UPDATED:"MEETING_INFO_UPDATED",MEETING_LOCKED:"MEETING_LOCKED",MEETING_UNLOCKED:"MEETING_UNLOCKED",DISCONNECT_DUE_TO_INACTIVITY:"DISCONNECT_DUE_TO_INACTIVITY"}};exports.LOCUSINFO=q_;var Z_={LOCUS_MERCURY:"event:locus",CONTROLS_UPDATED:"locus.controls_updated",DIFFERENCE:"locus.difference",FLOOR_GRANTED:"locus.floor_granted",FLOOR_RELEASED:"locus.floor_released",MESSAGE_ROAP:"locus.message.roap",PARTICIPANT_JOIN:"locus.participant_joined",PARTICIPANT_LEFT:"locus.participant_left",PARTICIPANT_DECLINED:"locus.participant_declined",PARTICIPANT_UPDATED:"locus.participant_updated",PARTICIPANT_CONTROLS_UPDATED:"locus.participant_controls_updated",PARTICIPANT_ROLES_UPDATED:"locus.participant_roles_updated",PARTICIPANT_AUDIO_MUTED:"locus.participant_audio_muted",PARTICIPANT_AUDIO_UNMUTED:"locus.participant_audio_unmuted",PARTICIPANT_VIDEO_MUTED:"locus.participant_video_muted",PARTICIPANT_VIDEO_UNMUTED:"locus.participant_video_unmuted",RECORDING_STARTED:"locus.recording_started",RECORDING_START_FAILED:"locus.recording_start_failed",RECORDING_STOPPED:"locus.recording_stopped",SELF_CHANGED:"locus.self_changed"};exports.LOCUSEVENT=Z_;var z_={CURSOR:{AWLAYS:"always",MOTION:"motion",NEVER:"never"}};exports.MEDIA_TRACK_CONSTRAINT=z_;var $_={METRICS_NOT_SERVER_OR_CLIENT_EXCEPTION:"METRICS_NOT_SERVER_OR_CLIENT_EXCEPTION",BIDIRECTIONAL_ROSTER_NOT_ALLOWED:"BIDIRECTIONAL_ROSTER_NOT_ALLOWED",INVALID_LOCUS_URL:"INVALID_LOCUS_URL",ARGUMENT_NULL_OR_EMPTY:"ARGUMENT_NULL_OR_EMPTY",INVALID_USER:"INVALID_USER",INVALID_PHONE_NUMBER_OR_COUNTRY_CODE:"INVALID_PHONE_NUMBER_OR_COUNTRY_CODE",EMPTY_PHONE_NUMBER_OR_COUNTRY_CODE:"EMPTY_PHONE_NUMBER_OR_COUNTRY_CODE",PHONE_NUMBER_INVALID_COUNTRY_CODE:"PHONE_NUMBER_INVALID_COUNTRY_CODE",PHONE_NUMBER_NOT_A_NUMBER:"PHONE_NUMBER_NOT_A_NUMBER",PHONE_NUMBER_TOO_SHORT_AFTER_IDD:"PHONE_NUMBER_TOO_SHORT_AFTER_IDD",PHONE_NUMBER_TOO_SHORT_NSN:"PHONE_NUMBER_TOO_SHORT_NSN",PHONE_NUMBER_TOO_LONG:"PHONE_NUMBER_TOO_LONG",INVALID_DIALABLE_KEY:"INVALID_DIALABLE_KEY",INVALID_MEETING_LINK:"INVALID_MEETING_LINK",INVALID_SINCE_OR_SEQUENCE_HASH_IN_REQUEST:"INVALID_SINCE_OR_SEQUENCE_HASH_IN_REQUEST",INVALID_LOCUS_ID:"INVALID_LOCUS_ID",EMPTY_SCHEDULED_MEETING_START_TIME:"EMPTY_SCHEDULED_MEETING_START_TIME",INVALID_SCHEDULED_MEETING_DURATION_MINUTES:"INVALID_SCHEDULED_MEETING_DURATION_MINUTES",INVALID_SCHEDULED_MEETING_REMINDER_DURATION_MINUTES:"INVALID_SCHEDULED_MEETING_REMINDER_DURATION_MINUTES",EMPTY_SCHEDULED_MEETING_ORGANIZER:"EMPTY_SCHEDULED_MEETING_ORGANIZER",INVALID_MEETING_ID_FORMAT:"INVALID_MEETING_ID_FORMAT",INVALID_SIP_URL_FORMAT:"INVALID_SIP_URL_FORMAT",EMPTY_INVITEE_RECORD:"EMPTY_INVITEE_RECORD",EMPTY_INVITEE_ADDRESS:"EMPTY_INVITEE_ADDRESS",DESKPHONE_NOTHING_DIALABLE_FOUND:"DESKPHONE_NOTHING_DIALABLE_FOUND",INVALID_INVITEE_ADDRESS:"INVALID_INVITEE_ADDRESS",INVALID_ATTENDEE_ID:"INVALID_ATTENDEE_ID",INVALID_IN_LOBBY:"INVALID_IN_LOBBY",MISSING_REQUESTING_PARTICIPANT_ID:"MISSING_REQUESTING_PARTICIPANT_ID",INVALID_REQUESTING_PARTICIPANT_ID:"INVALID_REQUESTING_PARTICIPANT_ID",SUPPLEMENTARY_USER_INFO_NOT_FOUND:"SUPPLEMENTARY_USER_INFO_NOT_FOUND",UNAUTHORIZED:"UNAUTHORIZED",REMOVED_PARTICIPANT:"REMOVED_PARTICIPANT",FREE_USER_MAX_PARTICIPANTS_EXCEEDED:"FREE_USER_MAX_PARTICIPANTS_EXCEEDED",PAID_USER_MAX_PARTICIPANTS_EXCEEDED:"PAID_USER_MAX_PARTICIPANTS_EXCEEDED",SERVICE_MAX_PARTICIPANTS_EXCEEDED:"SERVICE_MAX_PARTICIPANTS_EXCEEDED",INACTIVE:"INACTIVE",ONE_ON_ONE_TO_SELF_NOT_ALLOWED:"ONE_ON_ONE_TO_SELF_NOT_ALLOWED",JOIN_RESTRICTED_USER:"JOIN_RESTRICTED_USER",GET_RESTRICTED_USER:"GET_RESTRICTED_USER",JOIN_RESTRICTED_USER_NOT_IN_ROOM:"JOIN_RESTRICTED_USER_NOT_IN_ROOM",CREATE_MEDIA_RESTRICTED_USER:"CREATE_MEDIA_RESTRICTED_USER",DUPLICATE_RESOURCE_CREATION_REQUEST:"DUPLICATE_RESOURCE_CREATION_REQUEST",MEETING_NOT_FOUND:"MEETING_NOT_FOUND",NOT_WEBEX_SITE:"NOT_WEBEX_SITE",INVALID_SCHEDULED_MEETING_ORGANIZER:"INVALID_SCHEDULED_MEETING_ORGANIZER",FREE_USER_MAX_PARTICIPANTS_JOINED_EXCEEDED:"FREE_USER_MAX_PARTICIPANTS_JOINED_EXCEEDED",PAID_USER_MAX_PARTICIPANTS_JOINED_EXCEEDED:"PAID_USER_MAX_PARTICIPANTS_JOINED_EXCEEDED",SERVICE_MAX_PARTICIPANTS_ROSTER_EXCEEDED:"SERVICE_MAX_PARTICIPANTS_ROSTER_EXCEEDED",SERVICE_INITIAL_PARTICIPANTS_ROSTER_EXCEEDED:"SERVICE_INITIAL_PARTICIPANTS_ROSTER_EXCEEDED",RESOURCE_GUEST_FORBIDDEN:"RESOURCE_GUEST_FORBIDDEN",SERVICE_NO_MACHINE_OR_SERVICE_ACCOUNT:"SERVICE_NO_MACHINE_OR_SERVICE_ACCOUNT",MODERATOR_ROLE_REMOVAL_NOT_ALLOWED:"MODERATOR_ROLE_REMOVAL_NOT_ALLOWED",RECORDING_CONTROL_NOT_SUPPORTED:"RECORDING_CONTROL_NOT_SUPPORTED",HOST_PIN_LOCKED:"HOST_PIN_LOCKED",INVALID_HOST_PIN:"INVALID_HOST_PIN",REQUESTING_PARTICIPANT_NOT_MODERATOR:"REQUESTING_PARTICIPANT_NOT_MODERATOR",CONVERSATION_NOT_FOUND:"CONVERSATION_NOT_FOUND",MEETING_LINK_NOT_FOUND:"MEETING_LINK_NOT_FOUND",MEETING_INFO_NOT_FOUND:"MEETING_INFO_NOT_FOUND",SCHEDULED_MEETING_NOT_FOUND:"SCHEDULED_MEETING_NOT_FOUND",RECORDING_NOT_STARTED:"RECORDING_NOT_STARTED",RECORDING_NOT_ENABLED:"RECORDING_NOT_ENABLED",RECORDING_USER_STORAGE_FULL:"RECORDING_USER_STORAGE_FULL",RECORDING_SITE_STORAGE_FULL:"RECORDING_SITE_STORAGE_FULL",NO_SCHEDULED_MEETING:"NO_SCHEDULED_MEETING",MEETING_FULL_UPDATE_NOT_ALLOWED:"MEETING_FULL_UPDATE_NOT_ALLOWED",MODERATOR_ROLE_REMOVAL_NOT_VALID:"MODERATOR_ROLE_REMOVAL_NOT_VALID",MODERATOR_ROLE_ADDITION_NOT_VALID:"MODERATOR_ROLE_ADDITION_NOT_VALID",INVALID_CALL_START_TIME:"INVALID_CALL_START_TIME",MEETING_STARTED_UPDATE_NOT_ALLOWED:"MEETING_STARTED_UPDATE_NOT_ALLOWED",EXCEEDED_MAX_JOINED_PARTICIPANTS:"EXCEEDED_MAX_JOINED_PARTICIPANTS",EXCEEDED_SERVICE_MAX_PARTICIPANTS:"EXCEEDED_SERVICE_MAX_PARTICIPANTS",MEETING_IS_LOCKED:"MEETING_IS_LOCKED",MEETING_IS_TERMINATING:"MEETING_IS_TERMINATING",MEETING_REQUIRE_MODERATOR_PIN_INTENT:"MEETING_REQUIRE_MODERATOR_PIN_INTENT",MEETING_REQUIRE_MODERATOR_PIN:"MEETING_REQUIRE_MODERATOR_PIN",MEETING_REQUIRE_MODERATOR_ROLE:"MEETING_REQUIRE_MODERATOR_ROLE",PMR_ACCOUNT_SUSPENDED:"PMR_ACCOUNT_SUSPENDED",PMR_ACCOUNT_LOCKED:"PMR_ACCOUNT_LOCKED",INVALID_JOIN_TIME:"INVALID_JOIN_TIME",REQUIRES_WEBEX_LOGIN:"REQUIRES_WEBEX_LOGIN",TOO_MANY_REQUESTS:"TOO_MANY_REQUESTS",UNABLE_TO_LOOK_UP_DEVICE_INFORMATION:"UNABLE_TO_LOOK_UP_DEVICE_INFORMATION",UNABLE_TO_LOOK_UP_CONVERSATION:"UNABLE_TO_LOOK_UP_CONVERSATION",UNABLE_TO_LOOK_UP_CI_USER:"UNABLE_TO_LOOK_UP_CI_USER",UNABLE_TO_CREATE_CONFLUENCE:"UNABLE_TO_CREATE_CONFLUENCE",SERVICE_UNAVAILABLE:"SERVICE_UNAVAILABLE",SOCKET_TIMEOUT:"SOCKET_TIMEOUT",NO_HTTP_RESPONSE:"NO_HTTP_RESPONSE"};exports.MEETING_ERRORS=$_;var Ee={INACTIVE:"INACTIVE",MEDIA_RELEASED:"MEDIA_RELEASED"};exports.MEETING_END_REASON=Ee;var _e={RECORDING_CONTROL_START:"RECORDING_CONTROL_START",RECORDING_CONTROL_PAUSE:"RECORDING_CONTROL_PAUSE",RECORDING_CONTROL_STOP:"RECORDING_CONTROL_STOP",RECORDING_CONTROL_RESUME:"RECORDING_CONTROL_RESUME",LOCK_CONTROL_UNLOCK:"LOCK_CONTROL_UNLOCK",LOCK_CONTROL_LOCK:"LOCK_CONTROL_LOCK"};exports.MODERATOR_HINTS=_e;var ee={STATES:{IDLE:"IDLE",INCOMING:"INCOMING",DIALING:"DIALING",NOTIFIED:"NOTIFIED",DECLINED:"DECLINED",ON_GOING:"ON_GOING",JOINED:"JOINED",TERMINATING:"TERMINATING",LEFT:"LEFT",ENDED:"ENDED",ERROR:"ERROR"}};exports.MEETING_STATE=ee;var Te={TRANSITIONS:{FAIL:"fail",RING:"ring",REMOTE:"remote",JOIN:"join",DECLINE:"decline",LEAVE:"leave",RESET:"reset",SAFE:"SAFE"},STATES:{ERROR:"ERROR",IDLE:"IDLE",ENDED:"ENDED",DECLINED:"DECLINED",RINGING:"RINGING",JOINED:"JOINED",ANSWERED:"ANSWERED",SAFE:"SAFE"}};exports.MEETING_STATE_MACHINE=Te;var Ie={TRANSITIONS:{TOGGLE:"toggle",INIT:"init"},STATES:{MUTE_SELF:"SELF_AUDIO_OFF",UNMUTE_SELF:"SELF_AUDIO_ON"}};exports.MEETING_AUDIO_STATE_MACHINE=Ie;var Ne={TRANSITIONS:{TOGGLE:"toggle",INIT:"init"},STATES:{MUTE_SELF:"SELF_VIDEO_OFF",UNMUTE_SELF:"SELF_VIDEO_ON"}};exports.MEETING_VIDEO_STATE_MACHINE=Ne;var re={CLOSED:"closed",FAILED:"failed"};exports.PEER_CONNECTION_STATE=re;var Re={iceServers:[],bundlePolicy:"max-compat"};exports.RTC_CONFIGURATION_FIREFOX=Re;var Oe={iceServers:[]};exports.RTC_CONFIGURATION=Oe;var Ae={STATE:{IN_PROGRESS:"IN_PROGRESS",COMPLETE:"COMPLETE",FAILURE:"FAILURE",DEFAULT_TRY_COUNT:0,DEFAULT_STATUS:""}};exports.RECONNECTION=Ae;var te={CLUSTERS:"clusters",REACHABILITY:"reachability",LOCI:"loci"};exports.RESOURCE=te;var Se={localStorage:"reachability.result"};exports.REACHABILITY=Se;var oe={ROAP_TRANSITIONS:{STEP:"step"},ROAP_TYPES:{OFFER:"OFFER",ANSWER:"ANSWER",OK:"OK",ERROR:"ERROR",SHUTDOWN:"SHUTDOWN",OFFER_REQUEST:"OFFER_REQUEST"},ROAP_STATE:{INIT:"INIT",WAIT_RX_OFFER:"WAIT_RX_OFFER",WAIT_RX_ANSWER:"WAIT_RX_ANSWER",WAIT_RX_OK:"WAIT_RX_OK",WAIT_TX_OFFER:"WAIT_TX_OFFER",WAIT_TX_ANSWER:"WAIT_TX_ANSWER",WAIT_TX_OK:"WAIT_TX_OK",IDLE_LOCAL_OFFER:"IDLE_LOCAL_OFFER",IDLE_REMOTE_OFFER:"IDLE_REMOTE_OFFER",GLARE:"GLARE",ERROR:"ERROR"},ROAP_SIGNAL:{RX_OFFER:"RX_OFFER",TX_OFFER:"TX_OFFER",RX_ANSWER:"RX_ANSWER",TX_ANSWER:"TX_ANSWER",RX_OK:"RX_OK",TX_OK:"TX_OK",GLARE_RESOLVED:"GLARE_RESOLVED"},RECEIVE_ROAP_MSG:"RECEIVE_ROAP_MSG",SEND_ROAP_MSG:"SEND_ROAP_MSG",SEND_ROAP_MSG_SUCCESS:"SEND_ROAP_MSG_SUCCESS",RESET_ROAP_STATE:"RESET_ROAP_STATE",RECEIVE_CALL_LEAVE:"RECEIVE_CALL_LEAVE",ROAP_MERCURY:"event:locus.message.roap",ROAP_VERSION:"2",RX_:"RX_",TX_:"TX_"};exports.ROAP=oe;var De={main:"main",slides:"slides"};exports.MediaContent=De;var se={A_CONTENT_SLIDES:"a=content:slides",ROLLBACK:"rollback",HAVE_LOCAL_OFFER:"have-local-offer",HAVE_REMOTE_OFFER:"have-remote-offer",STABLE:"stable",OFFER:"offer",M_LINE:"m=",MAX_FS:"max-fs=",B_LINE:"b=TIAS",PERIODIC_KEYFRAME:"a=periodic-keyframes:20",CARRIAGE_RETURN:"\r\n",BAD_MEDIA_PORTS:[0]};exports.SDP=se;var ae={DISCONNECTED:"DISCONNECTED",RECONNECTING:"RECONNECTING",CONNECTED:"CONNECTED"};exports.NETWORK_STATUS=ae;var Ce={VPN:"vpn",UNKNOWN:"unknown",WIFI:"wifi",ETHERNET:"ethernet"};exports.NETWORK_TYPE=Ce;var Le={AUDIO_CORRELATE:"audio",VIDEO_CORRELATE:"video",SHARE_CORRELATE:"share",AUDIO_SENDER_ID:"audioSender",AUDIO_RECEIVER_ID:"audioReceiver",VIDEO_SENDER_ID:"videoSender",VIDEO_RECEIVER_ID:"videoReceiver",SHARE_SENDER_ID:"shareSender",SHARE_RECEIVER_ID:"shareReceiver",SEND_DIRECTION:"send",RECEIVE_DIRECTION:"recv",END:"end",REMOTE:"remote",LOCAL:"local",DATA:"data",CLOSED:"closed",SENDER:"sender",RECEIVER:"receiver",SENDERS:"senders",RECEIVERS:"receivers",CONFIG:{senders:{audio:{transceiver:"audioTransceiver",child:"sender",parent:"mediaProperties",peerConnection:"peerConnection",name:"audioSender"},video:{transceiver:"videoTransceiver",child:"sender",parent:"mediaProperties",peerConnection:"peerConnection",name:"videoSender"},share:{transceiver:"shareTransceiver",child:"sender",parent:"mediaProperties",peerConnection:"peerConnection",name:"shareSender"}},receivers:{audio:{transceiver:"audioTransceiver",child:"receiver",parent:"mediaProperties",peerConnection:"peerConnection",name:"audioReceiver"},video:{transceiver:"videoTransceiver",child:"receiver",parent:"mediaProperties",peerConnection:"peerConnection",name:"videoReceiver"},share:{transceiver:"shareTransceiver",child:"receiver",parent:"mediaProperties",peerConnection:"peerConnection",name:"shareReceiver"}}}};exports.STATS=Le;var ie={MQA_SIZE:120,CA_TYPE:"MQA",DEFAULT_IP:"0.0.0.0",DATA_PLACEMENTS:[Le.AUDIO_SENDER_ID,Le.AUDIO_RECEIVER_ID,Le.VIDEO_SENDER_ID,Le.VIDEO_RECEIVER_ID,Le.SHARE_SENDER_ID,Le.SHARE_RECEIVER_ID],DEFAULT_SHARE_SENDER_STATS:{common:{common:{direction:"sendrecv",isMain:!1,mariFecEnabled:!1,mariQosEnabled:!1,multistreamEnabled:!1},availableBitrate:0,dtlsBitrate:0,dtlsPackets:0,fecBitrate:0,fecPackets:0,maxBitrate:0,queueDelay:0,remoteJitter:0,remoteLossRate:0,remoteReceiveRate:0,roundTripTime:0,rtcpBitrate:0,rtcpPackets:0,rtpBitrate:0,rtpPackets:0,stunBitrate:0,stunPackets:0,transportType:"UDP"},streams:[{common:{codec:"H264",duplicateSsci:0,requestedBitrate:0,requestedFrames:0,rtpPackets:0,ssci:0,transmittedBitrate:0,transmittedFrameRate:0},h264CodecProfile:"BP",localConfigurationChanges:0,remoteConfigurationChanges:0,requestedFrameSize:0,requestedKeyFrames:0,transmittedFrameSize:0,transmittedHeight:0,transmittedKeyFrames:0,transmittedWidth:0}]},intervalMetadata:{memoryUsage:{cpuBitWidth:0,mainProcessMaximumMemoryBytes:0,osBitWidth:0,processAverageMemoryUsage:0,processMaximumMemoryBytes:0,processMaximumMemoryUsage:0,systemAverageMemoryUsage:0,systemMaximumMemoryUsage:0},peerReflexiveIP:"NULL",processAverageCPU:0,processMaximumCPU:0,systemAverageCPU:0,systemMaximumCPU:0}};exports.MQA_STATS=ie;var pe={LOW:"LOW",MEDIUM:"MEDIUM",HIGH:"HIGH"};exports.QUALITY_LEVELS=pe;var Ue=(e={},(0,I.default)(e,pe.LOW,{video:{width:{max:320,ideal:320},height:{max:180,ideal:180}}}),(0,I.default)(e,pe.MEDIUM,{video:{width:{max:640,ideal:640},height:{max:360,ideal:360}}}),(0,I.default)(e,pe.HIGH,{video:{width:{max:1280,ideal:1280},height:{max:720,ideal:720}}}),e);exports.VIDEO_RESOLUTIONS=Ue;var Me=(T={},(0,I.default)(T,pe.LOW,1620),(0,I.default)(T,pe.MEDIUM,3600),(0,I.default)(T,pe.HIGH,8192),T);exports.MAX_FRAMESIZES=Me;var ne=6e4;exports.MQA_INTEVAL=ne;var de={MICROPHONE:"microphone",SPEAKER:"speaker",CAMERA:"camera"};exports.MEDIA_DEVICES=de;var xe={JOIN_ATTEMPT:"js_sdk_join_attempt",ADD_MEDIA_FAILURE:"js_sdk_add_media_failures",GET_USER_MEDIA_FAILURE:"js_sdk_get_user_media_failures",GET_DISPLAY_MEDIA_FAILURE:"js_sdk_get_display_media_failures",JOIN_FAILURE:"js_sdk_join_failures",JOIN_WITH_MEDIA_FAILURE:"js_sdk_join_with_media_failures",MEETING_LEAVE_FAILURE:"js_sdk_meeting_leave_failure",DISCONNECT_DUE_TO_INACTIVITY:"js_sdk_disconnect_due_to_inactivity",MEETING_MEDIA_INACTIVE:"js_sdk_meeting_media_inactive",MEETING_RECONNECT_FAILURE:"js_sdk_meeting_reconnect_failures",MEETING_MAX_REJOIN_FAILURE:"js_sdk_meeting_max_rejoin_failure",MEETING_SHARE_FAILURE:"js_sdk_meeting_share_failures",MEETING_START_WHITEBOARD_SHARE_FAILURE:"js_sdk_meeting_start_whiteboard_share_failures",MEETING_STOP_WHITEBOARD_SHARE_FAILURE:"js_sdk_meeting_stop_whiteboard_share_failures",MUTE_AUDIO_FAILURE:"js_sdk_mute_audio_failures",MUTE_VIDEO_FAILURE:"js_sdk_mute_video_failures",SET_MEETING_QUALITY_FAILURE:"js_sdk_set_meeting_quality_failures",STOP_FLOOR_REQUEST_FAILURE:"js_sdk_stop_floor_request_failures",ADD_DIAL_IN_FAILURE:"js_sdk_add_dial_in_failure",ADD_DIAL_OUT_FAILURE:"js_sdk_add_dial_out_failure",UPDATE_MEDIA_FAILURE:"js_sdk_update_media_failures",UNMUTE_AUDIO_FAILURE:"js_sdk_unmute_audio_failures",UNMUTE_VIDEO_FAILURE:"js_sdk_unmute_video_failures",ROAP_ANSWER_FAILURE:"js_sdk_roap_answer_failures",ROAP_GLARE_CONDITION:"js_sdk_roap_glar_condition",PEERCONNECTION_FAILURE:"js_sdk_peerConnection_failures",CONNECTION_FAILURE:"js_sdk_connection_failures",INVALID_ICE_CANDIDATE:"js_sdk_invalid_ice_candidate",MERCURY_CONNECTION_FAILURE:"js_sdk_mercury_connection_failure",UPLOAD_LOGS_FAILURE:"js_sdk_upload_logs_failure",RECEIVE_TRANSCRIPTION_FAILURE:"js_sdk_receive_transcription_failure"};exports.METRICS_OPERATIONAL_MEASURES=xe;var Pe={JOINED:"JOINED",CONNECTED:"CONNECTED",LEFT:"LEFT",TRANSFERRING:"TRANSFERRING",SUCCESS:"SUCCESS",UNKNOWN:""};exports.PSTN_STATUS=Pe;
},{"@babel/runtime-corejs2/core-js/object/define-property":"eIqn","@babel/runtime-corejs2/helpers/interopRequireDefault":"LXwi","@babel/runtime-corejs2/helpers/defineProperty":"n5FU","@webex/common":"UeF0"}],"diJ3":[function(require,module,exports) {
"use strict";var e=require("@babel/runtime-corejs2/core-js/object/define-property"),r=require("@babel/runtime-corejs2/helpers/interopRequireDefault");e(exports,"__esModule",{value:!0}),exports.default=void 0;var t=r(require("@babel/runtime-corejs2/core-js/object/assign")),s={set:function(e){s.meetings=(0,t.default)({},e)}},o=s;exports.default=o;
},{"@babel/runtime-corejs2/core-js/object/define-property":"eIqn","@babel/runtime-corejs2/helpers/interopRequireDefault":"LXwi","@babel/runtime-corejs2/core-js/object/assign":"h2Mz"}],"fIh9":[function(require,module,exports) {
var define;
var e;!function(t,r){"object"==typeof exports&&"object"==typeof module?module.exports=r():"function"==typeof e&&e.amd?e([],r):"object"==typeof exports?exports.bowser=r():t.bowser=r()}(this,function(){return function(e){var t={};function r(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(n,i,function(t){return e[t]}.bind(null,i));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=90)}({17:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n=r(18),i=function(){function e(){}return e.getFirstMatch=function(e,t){var r=t.match(e);return r&&r.length>0&&r[1]||""},e.getSecondMatch=function(e,t){var r=t.match(e);return r&&r.length>1&&r[2]||""},e.matchAndReturnConst=function(e,t,r){if(e.test(t))return r},e.getWindowsVersionName=function(e){switch(e){case"NT":return"NT";case"XP":return"XP";case"NT 5.0":return"2000";case"NT 5.1":return"XP";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}},e.getMacOSVersionName=function(e){var t=e.split(".").splice(0,2).map(function(e){return parseInt(e,10)||0});if(t.push(0),10===t[0])switch(t[1]){case 5:return"Leopard";case 6:return"Snow Leopard";case 7:return"Lion";case 8:return"Mountain Lion";case 9:return"Mavericks";case 10:return"Yosemite";case 11:return"El Capitan";case 12:return"Sierra";case 13:return"High Sierra";case 14:return"Mojave";case 15:return"Catalina";default:return}},e.getAndroidVersionName=function(e){var t=e.split(".").splice(0,2).map(function(e){return parseInt(e,10)||0});if(t.push(0),!(1===t[0]&&t[1]<5))return 1===t[0]&&t[1]<6?"Cupcake":1===t[0]&&t[1]>=6?"Donut":2===t[0]&&t[1]<2?"Eclair":2===t[0]&&2===t[1]?"Froyo":2===t[0]&&t[1]>2?"Gingerbread":3===t[0]?"Honeycomb":4===t[0]&&t[1]<1?"Ice Cream Sandwich":4===t[0]&&t[1]<4?"Jelly Bean":4===t[0]&&t[1]>=4?"KitKat":5===t[0]?"Lollipop":6===t[0]?"Marshmallow":7===t[0]?"Nougat":8===t[0]?"Oreo":9===t[0]?"Pie":void 0},e.getVersionPrecision=function(e){return e.split(".").length},e.compareVersions=function(t,r,n){void 0===n&&(n=!1);var i=e.getVersionPrecision(t),s=e.getVersionPrecision(r),o=Math.max(i,s),a=0,u=e.map([t,r],function(t){var r=o-e.getVersionPrecision(t),n=t+new Array(r+1).join(".0");return e.map(n.split("."),function(e){return new Array(20-e.length).join("0")+e}).reverse()});for(n&&(a=o-Math.min(i,s)),o-=1;o>=a;){if(u[0][o]>u[1][o])return 1;if(u[0][o]===u[1][o]){if(o===a)return 0;o-=1}else if(u[0][o]<u[1][o])return-1}},e.map=function(e,t){var r,n=[];if(Array.prototype.map)return Array.prototype.map.call(e,t);for(r=0;r<e.length;r+=1)n.push(t(e[r]));return n},e.find=function(e,t){var r,n;if(Array.prototype.find)return Array.prototype.find.call(e,t);for(r=0,n=e.length;r<n;r+=1){var i=e[r];if(t(i,r))return i}},e.assign=function(e){for(var t,r,n=e,i=arguments.length,s=new Array(i>1?i-1:0),o=1;o<i;o++)s[o-1]=arguments[o];if(Object.assign)return Object.assign.apply(Object,[e].concat(s));var a=function(){var e=s[t];"object"==typeof e&&null!==e&&Object.keys(e).forEach(function(t){n[t]=e[t]})};for(t=0,r=s.length;t<r;t+=1)a();return e},e.getBrowserAlias=function(e){return n.BROWSER_ALIASES_MAP[e]},e.getBrowserTypeByAlias=function(e){return n.BROWSER_MAP[e]||""},e}();t.default=i,e.exports=t.default},18:function(e,t,r){"use strict";t.__esModule=!0,t.ENGINE_MAP=t.OS_MAP=t.PLATFORMS_MAP=t.BROWSER_MAP=t.BROWSER_ALIASES_MAP=void 0,t.BROWSER_ALIASES_MAP={"Amazon Silk":"amazon_silk","Android Browser":"android",Bada:"bada",BlackBerry:"blackberry",Chrome:"chrome",Chromium:"chromium",Electron:"electron",Epiphany:"epiphany",Firefox:"firefox",Focus:"focus",Generic:"generic","Google Search":"google_search",Googlebot:"googlebot","Internet Explorer":"ie","K-Meleon":"k_meleon",Maxthon:"maxthon","Microsoft Edge":"edge","MZ Browser":"mz","NAVER Whale Browser":"naver",Opera:"opera","Opera Coast":"opera_coast",PhantomJS:"phantomjs",Puffin:"puffin",QupZilla:"qupzilla",QQ:"qq",QQLite:"qqlite",Safari:"safari",Sailfish:"sailfish","Samsung Internet for Android":"samsung_internet",SeaMonkey:"seamonkey",Sleipnir:"sleipnir",Swing:"swing",Tizen:"tizen","UC Browser":"uc",Vivaldi:"vivaldi","WebOS Browser":"webos",WeChat:"wechat","Yandex Browser":"yandex",Roku:"roku"},t.BROWSER_MAP={amazon_silk:"Amazon Silk",android:"Android Browser",bada:"Bada",blackberry:"BlackBerry",chrome:"Chrome",chromium:"Chromium",electron:"Electron",epiphany:"Epiphany",firefox:"Firefox",focus:"Focus",generic:"Generic",googlebot:"Googlebot",google_search:"Google Search",ie:"Internet Explorer",k_meleon:"K-Meleon",maxthon:"Maxthon",edge:"Microsoft Edge",mz:"MZ Browser",naver:"NAVER Whale Browser",opera:"Opera",opera_coast:"Opera Coast",phantomjs:"PhantomJS",puffin:"Puffin",qupzilla:"QupZilla",qq:"QQ Browser",qqlite:"QQ Browser Lite",safari:"Safari",sailfish:"Sailfish",samsung_internet:"Samsung Internet for Android",seamonkey:"SeaMonkey",sleipnir:"Sleipnir",swing:"Swing",tizen:"Tizen",uc:"UC Browser",vivaldi:"Vivaldi",webos:"WebOS Browser",wechat:"WeChat",yandex:"Yandex Browser"},t.PLATFORMS_MAP={tablet:"tablet",mobile:"mobile",desktop:"desktop",tv:"tv"},t.OS_MAP={WindowsPhone:"Windows Phone",Windows:"Windows",MacOS:"macOS",iOS:"iOS",Android:"Android",WebOS:"WebOS",BlackBerry:"BlackBerry",Bada:"Bada",Tizen:"Tizen",Linux:"Linux",ChromeOS:"Chrome OS",PlayStation4:"PlayStation 4",Roku:"Roku"},t.ENGINE_MAP={EdgeHTML:"EdgeHTML",Blink:"Blink",Trident:"Trident",Presto:"Presto",Gecko:"Gecko",WebKit:"WebKit"}},90:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n,i=(n=r(91))&&n.__esModule?n:{default:n},s=r(18);function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var a=function(){function e(){}var t,r;return e.getParser=function(e,t){if(void 0===t&&(t=!1),"string"!=typeof e)throw new Error("UserAgent should be a string");return new i.default(e,t)},e.parse=function(e){return new i.default(e).getResult()},t=e,r=[{key:"BROWSER_MAP",get:function(){return s.BROWSER_MAP}},{key:"ENGINE_MAP",get:function(){return s.ENGINE_MAP}},{key:"OS_MAP",get:function(){return s.OS_MAP}},{key:"PLATFORMS_MAP",get:function(){return s.PLATFORMS_MAP}}],null&&o(t.prototype,null),r&&o(t,r),e}();t.default=a,e.exports=t.default},91:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n=u(r(92)),i=u(r(93)),s=u(r(94)),o=u(r(95)),a=u(r(17));function u(e){return e&&e.__esModule?e:{default:e}}var d=function(){function e(e,t){if(void 0===t&&(t=!1),null==e||""===e)throw new Error("UserAgent parameter can't be empty");this._ua=e,this.parsedResult={},!0!==t&&this.parse()}var t=e.prototype;return t.getUA=function(){return this._ua},t.test=function(e){return e.test(this._ua)},t.parseBrowser=function(){var e=this;this.parsedResult.browser={};var t=a.default.find(n.default,function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some(function(t){return e.test(t)});throw new Error("Browser's test function is not valid")});return t&&(this.parsedResult.browser=t.describe(this.getUA())),this.parsedResult.browser},t.getBrowser=function(){return this.parsedResult.browser?this.parsedResult.browser:this.parseBrowser()},t.getBrowserName=function(e){return e?String(this.getBrowser().name).toLowerCase()||"":this.getBrowser().name||""},t.getBrowserVersion=function(){return this.getBrowser().version},t.getOS=function(){return this.parsedResult.os?this.parsedResult.os:this.parseOS()},t.parseOS=function(){var e=this;this.parsedResult.os={};var t=a.default.find(i.default,function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some(function(t){return e.test(t)});throw new Error("Browser's test function is not valid")});return t&&(this.parsedResult.os=t.describe(this.getUA())),this.parsedResult.os},t.getOSName=function(e){var t=this.getOS().name;return e?String(t).toLowerCase()||"":t||""},t.getOSVersion=function(){return this.getOS().version},t.getPlatform=function(){return this.parsedResult.platform?this.parsedResult.platform:this.parsePlatform()},t.getPlatformType=function(e){void 0===e&&(e=!1);var t=this.getPlatform().type;return e?String(t).toLowerCase()||"":t||""},t.parsePlatform=function(){var e=this;this.parsedResult.platform={};var t=a.default.find(s.default,function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some(function(t){return e.test(t)});throw new Error("Browser's test function is not valid")});return t&&(this.parsedResult.platform=t.describe(this.getUA())),this.parsedResult.platform},t.getEngine=function(){return this.parsedResult.engine?this.parsedResult.engine:this.parseEngine()},t.getEngineName=function(e){return e?String(this.getEngine().name).toLowerCase()||"":this.getEngine().name||""},t.parseEngine=function(){var e=this;this.parsedResult.engine={};var t=a.default.find(o.default,function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some(function(t){return e.test(t)});throw new Error("Browser's test function is not valid")});return t&&(this.parsedResult.engine=t.describe(this.getUA())),this.parsedResult.engine},t.parse=function(){return this.parseBrowser(),this.parseOS(),this.parsePlatform(),this.parseEngine(),this},t.getResult=function(){return a.default.assign({},this.parsedResult)},t.satisfies=function(e){var t=this,r={},n=0,i={},s=0;if(Object.keys(e).forEach(function(t){var o=e[t];"string"==typeof o?(i[t]=o,s+=1):"object"==typeof o&&(r[t]=o,n+=1)}),n>0){var o=Object.keys(r),u=a.default.find(o,function(e){return t.isOS(e)});if(u){var d=this.satisfies(r[u]);if(void 0!==d)return d}var c=a.default.find(o,function(e){return t.isPlatform(e)});if(c){var f=this.satisfies(r[c]);if(void 0!==f)return f}}if(s>0){var l=Object.keys(i),h=a.default.find(l,function(e){return t.isBrowser(e,!0)});if(void 0!==h)return this.compareVersion(i[h])}},t.isBrowser=function(e,t){void 0===t&&(t=!1);var r=this.getBrowserName().toLowerCase(),n=e.toLowerCase(),i=a.default.getBrowserTypeByAlias(n);return t&&i&&(n=i.toLowerCase()),n===r},t.compareVersion=function(e){var t=[0],r=e,n=!1,i=this.getBrowserVersion();if("string"==typeof i)return">"===e[0]||"<"===e[0]?(r=e.substr(1),"="===e[1]?(n=!0,r=e.substr(2)):t=[],">"===e[0]?t.push(1):t.push(-1)):"="===e[0]?r=e.substr(1):"~"===e[0]&&(n=!0,r=e.substr(1)),t.indexOf(a.default.compareVersions(i,r,n))>-1},t.isOS=function(e){return this.getOSName(!0)===String(e).toLowerCase()},t.isPlatform=function(e){return this.getPlatformType(!0)===String(e).toLowerCase()},t.isEngine=function(e){return this.getEngineName(!0)===String(e).toLowerCase()},t.is=function(e,t){return void 0===t&&(t=!1),this.isBrowser(e,t)||this.isOS(e)||this.isPlatform(e)},t.some=function(e){var t=this;return void 0===e&&(e=[]),e.some(function(e){return t.is(e)})},e}();t.default=d,e.exports=t.default},92:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n,i=(n=r(17))&&n.__esModule?n:{default:n},s=/version\/(\d+(\.?_?\d+)+)/i,o=[{test:[/googlebot/i],describe:function(e){var t={name:"Googlebot"},r=i.default.getFirstMatch(/googlebot\/(\d+(\.\d+))/i,e)||i.default.getFirstMatch(s,e);return r&&(t.version=r),t}},{test:[/opera/i],describe:function(e){var t={name:"Opera"},r=i.default.getFirstMatch(s,e)||i.default.getFirstMatch(/(?:opera)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/opr\/|opios/i],describe:function(e){var t={name:"Opera"},r=i.default.getFirstMatch(/(?:opr|opios)[\s/](\S+)/i,e)||i.default.getFirstMatch(s,e);return r&&(t.version=r),t}},{test:[/SamsungBrowser/i],describe:function(e){var t={name:"Samsung Internet for Android"},r=i.default.getFirstMatch(s,e)||i.default.getFirstMatch(/(?:SamsungBrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/Whale/i],describe:function(e){var t={name:"NAVER Whale Browser"},r=i.default.getFirstMatch(s,e)||i.default.getFirstMatch(/(?:whale)[\s/](\d+(?:\.\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/MZBrowser/i],describe:function(e){var t={name:"MZ Browser"},r=i.default.getFirstMatch(/(?:MZBrowser)[\s/](\d+(?:\.\d+)+)/i,e)||i.default.getFirstMatch(s,e);return r&&(t.version=r),t}},{test:[/focus/i],describe:function(e){var t={name:"Focus"},r=i.default.getFirstMatch(/(?:focus)[\s/](\d+(?:\.\d+)+)/i,e)||i.default.getFirstMatch(s,e);return r&&(t.version=r),t}},{test:[/swing/i],describe:function(e){var t={name:"Swing"},r=i.default.getFirstMatch(/(?:swing)[\s/](\d+(?:\.\d+)+)/i,e)||i.default.getFirstMatch(s,e);return r&&(t.version=r),t}},{test:[/coast/i],describe:function(e){var t={name:"Opera Coast"},r=i.default.getFirstMatch(s,e)||i.default.getFirstMatch(/(?:coast)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/opt\/\d+(?:.?_?\d+)+/i],describe:function(e){var t={name:"Opera Touch"},r=i.default.getFirstMatch(/(?:opt)[\s/](\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(s,e);return r&&(t.version=r),t}},{test:[/yabrowser/i],describe:function(e){var t={name:"Yandex Browser"},r=i.default.getFirstMatch(/(?:yabrowser)[\s/](\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(s,e);return r&&(t.version=r),t}},{test:[/ucbrowser/i],describe:function(e){var t={name:"UC Browser"},r=i.default.getFirstMatch(s,e)||i.default.getFirstMatch(/(?:ucbrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/Maxthon|mxios/i],describe:function(e){var t={name:"Maxthon"},r=i.default.getFirstMatch(s,e)||i.default.getFirstMatch(/(?:Maxthon|mxios)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/epiphany/i],describe:function(e){var t={name:"Epiphany"},r=i.default.getFirstMatch(s,e)||i.default.getFirstMatch(/(?:epiphany)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/puffin/i],describe:function(e){var t={name:"Puffin"},r=i.default.getFirstMatch(s,e)||i.default.getFirstMatch(/(?:puffin)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/sleipnir/i],describe:function(e){var t={name:"Sleipnir"},r=i.default.getFirstMatch(s,e)||i.default.getFirstMatch(/(?:sleipnir)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/k-meleon/i],describe:function(e){var t={name:"K-Meleon"},r=i.default.getFirstMatch(s,e)||i.default.getFirstMatch(/(?:k-meleon)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/micromessenger/i],describe:function(e){var t={name:"WeChat"},r=i.default.getFirstMatch(/(?:micromessenger)[\s/](\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(s,e);return r&&(t.version=r),t}},{test:[/qqbrowser/i],describe:function(e){var t={name:/qqbrowserlite/i.test(e)?"QQ Browser Lite":"QQ Browser"},r=i.default.getFirstMatch(/(?:qqbrowserlite|qqbrowser)[/](\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(s,e);return r&&(t.version=r),t}},{test:[/msie|trident/i],describe:function(e){var t={name:"Internet Explorer"},r=i.default.getFirstMatch(/(?:msie |rv:)(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/\sedg\//i],describe:function(e){var t={name:"Microsoft Edge"},r=i.default.getFirstMatch(/\sedg\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/edg([ea]|ios)/i],describe:function(e){var t={name:"Microsoft Edge"},r=i.default.getSecondMatch(/edg([ea]|ios)\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/vivaldi/i],describe:function(e){var t={name:"Vivaldi"},r=i.default.getFirstMatch(/vivaldi\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/seamonkey/i],describe:function(e){var t={name:"SeaMonkey"},r=i.default.getFirstMatch(/seamonkey\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/sailfish/i],describe:function(e){var t={name:"Sailfish"},r=i.default.getFirstMatch(/sailfish\s?browser\/(\d+(\.\d+)?)/i,e);return r&&(t.version=r),t}},{test:[/silk/i],describe:function(e){var t={name:"Amazon Silk"},r=i.default.getFirstMatch(/silk\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/phantom/i],describe:function(e){var t={name:"PhantomJS"},r=i.default.getFirstMatch(/phantomjs\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/slimerjs/i],describe:function(e){var t={name:"SlimerJS"},r=i.default.getFirstMatch(/slimerjs\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe:function(e){var t={name:"BlackBerry"},r=i.default.getFirstMatch(s,e)||i.default.getFirstMatch(/blackberry[\d]+\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/(web|hpw)[o0]s/i],describe:function(e){var t={name:"WebOS Browser"},r=i.default.getFirstMatch(s,e)||i.default.getFirstMatch(/w(?:eb)?[o0]sbrowser\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/bada/i],describe:function(e){var t={name:"Bada"},r=i.default.getFirstMatch(/dolfin\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/tizen/i],describe:function(e){var t={name:"Tizen"},r=i.default.getFirstMatch(/(?:tizen\s?)?browser\/(\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(s,e);return r&&(t.version=r),t}},{test:[/qupzilla/i],describe:function(e){var t={name:"QupZilla"},r=i.default.getFirstMatch(/(?:qupzilla)[\s/](\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(s,e);return r&&(t.version=r),t}},{test:[/firefox|iceweasel|fxios/i],describe:function(e){var t={name:"Firefox"},r=i.default.getFirstMatch(/(?:firefox|iceweasel|fxios)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/electron/i],describe:function(e){var t={name:"Electron"},r=i.default.getFirstMatch(/(?:electron)\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/MiuiBrowser/i],describe:function(e){var t={name:"Miui"},r=i.default.getFirstMatch(/(?:MiuiBrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/chromium/i],describe:function(e){var t={name:"Chromium"},r=i.default.getFirstMatch(/(?:chromium)[\s/](\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(s,e);return r&&(t.version=r),t}},{test:[/chrome|crios|crmo/i],describe:function(e){var t={name:"Chrome"},r=i.default.getFirstMatch(/(?:chrome|crios|crmo)\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/GSA/i],describe:function(e){var t={name:"Google Search"},r=i.default.getFirstMatch(/(?:GSA)\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:function(e){var t=!e.test(/like android/i),r=e.test(/android/i);return t&&r},describe:function(e){var t={name:"Android Browser"},r=i.default.getFirstMatch(s,e);return r&&(t.version=r),t}},{test:[/playstation 4/i],describe:function(e){var t={name:"PlayStation 4"},r=i.default.getFirstMatch(s,e);return r&&(t.version=r),t}},{test:[/safari|applewebkit/i],describe:function(e){var t={name:"Safari"},r=i.default.getFirstMatch(s,e);return r&&(t.version=r),t}},{test:[/.*/i],describe:function(e){var t=-1!==e.search("\\(")?/^(.*)\/(.*)[ \t]\((.*)/:/^(.*)\/(.*) /;return{name:i.default.getFirstMatch(t,e),version:i.default.getSecondMatch(t,e)}}}];t.default=o,e.exports=t.default},93:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n,i=(n=r(17))&&n.__esModule?n:{default:n},s=r(18),o=[{test:[/Roku\/DVP/],describe:function(e){var t=i.default.getFirstMatch(/Roku\/DVP-(\d+\.\d+)/i,e);return{name:s.OS_MAP.Roku,version:t}}},{test:[/windows phone/i],describe:function(e){var t=i.default.getFirstMatch(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i,e);return{name:s.OS_MAP.WindowsPhone,version:t}}},{test:[/windows /i],describe:function(e){var t=i.default.getFirstMatch(/Windows ((NT|XP)( \d\d?.\d)?)/i,e),r=i.default.getWindowsVersionName(t);return{name:s.OS_MAP.Windows,version:t,versionName:r}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe:function(e){var t={name:s.OS_MAP.iOS},r=i.default.getSecondMatch(/(Version\/)(\d[\d.]+)/,e);return r&&(t.version=r),t}},{test:[/macintosh/i],describe:function(e){var t=i.default.getFirstMatch(/mac os x (\d+(\.?_?\d+)+)/i,e).replace(/[_\s]/g,"."),r=i.default.getMacOSVersionName(t),n={name:s.OS_MAP.MacOS,version:t};return r&&(n.versionName=r),n}},{test:[/(ipod|iphone|ipad)/i],describe:function(e){var t=i.default.getFirstMatch(/os (\d+([_\s]\d+)*) like mac os x/i,e).replace(/[_\s]/g,".");return{name:s.OS_MAP.iOS,version:t}}},{test:function(e){var t=!e.test(/like android/i),r=e.test(/android/i);return t&&r},describe:function(e){var t=i.default.getFirstMatch(/android[\s/-](\d+(\.\d+)*)/i,e),r=i.default.getAndroidVersionName(t),n={name:s.OS_MAP.Android,version:t};return r&&(n.versionName=r),n}},{test:[/(web|hpw)[o0]s/i],describe:function(e){var t=i.default.getFirstMatch(/(?:web|hpw)[o0]s\/(\d+(\.\d+)*)/i,e),r={name:s.OS_MAP.WebOS};return t&&t.length&&(r.version=t),r}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe:function(e){var t=i.default.getFirstMatch(/rim\stablet\sos\s(\d+(\.\d+)*)/i,e)||i.default.getFirstMatch(/blackberry\d+\/(\d+([_\s]\d+)*)/i,e)||i.default.getFirstMatch(/\bbb(\d+)/i,e);return{name:s.OS_MAP.BlackBerry,version:t}}},{test:[/bada/i],describe:function(e){var t=i.default.getFirstMatch(/bada\/(\d+(\.\d+)*)/i,e);return{name:s.OS_MAP.Bada,version:t}}},{test:[/tizen/i],describe:function(e){var t=i.default.getFirstMatch(/tizen[/\s](\d+(\.\d+)*)/i,e);return{name:s.OS_MAP.Tizen,version:t}}},{test:[/linux/i],describe:function(){return{name:s.OS_MAP.Linux}}},{test:[/CrOS/],describe:function(){return{name:s.OS_MAP.ChromeOS}}},{test:[/PlayStation 4/],describe:function(e){var t=i.default.getFirstMatch(/PlayStation 4[/\s](\d+(\.\d+)*)/i,e);return{name:s.OS_MAP.PlayStation4,version:t}}}];t.default=o,e.exports=t.default},94:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n,i=(n=r(17))&&n.__esModule?n:{default:n},s=r(18),o=[{test:[/googlebot/i],describe:function(){return{type:"bot",vendor:"Google"}}},{test:[/huawei/i],describe:function(e){var t=i.default.getFirstMatch(/(can-l01)/i,e)&&"Nova",r={type:s.PLATFORMS_MAP.mobile,vendor:"Huawei"};return t&&(r.model=t),r}},{test:[/nexus\s*(?:7|8|9|10).*/i],describe:function(){return{type:s.PLATFORMS_MAP.tablet,vendor:"Nexus"}}},{test:[/ipad/i],describe:function(){return{type:s.PLATFORMS_MAP.tablet,vendor:"Apple",model:"iPad"}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe:function(){return{type:s.PLATFORMS_MAP.tablet,vendor:"Apple",model:"iPad"}}},{test:[/kftt build/i],describe:function(){return{type:s.PLATFORMS_MAP.tablet,vendor:"Amazon",model:"Kindle Fire HD 7"}}},{test:[/silk/i],describe:function(){return{type:s.PLATFORMS_MAP.tablet,vendor:"Amazon"}}},{test:[/tablet(?! pc)/i],describe:function(){return{type:s.PLATFORMS_MAP.tablet}}},{test:function(e){var t=e.test(/ipod|iphone/i),r=e.test(/like (ipod|iphone)/i);return t&&!r},describe:function(e){var t=i.default.getFirstMatch(/(ipod|iphone)/i,e);return{type:s.PLATFORMS_MAP.mobile,vendor:"Apple",model:t}}},{test:[/nexus\s*[0-6].*/i,/galaxy nexus/i],describe:function(){return{type:s.PLATFORMS_MAP.mobile,vendor:"Nexus"}}},{test:[/[^-]mobi/i],describe:function(){return{type:s.PLATFORMS_MAP.mobile}}},{test:function(e){return"blackberry"===e.getBrowserName(!0)},describe:function(){return{type:s.PLATFORMS_MAP.mobile,vendor:"BlackBerry"}}},{test:function(e){return"bada"===e.getBrowserName(!0)},describe:function(){return{type:s.PLATFORMS_MAP.mobile}}},{test:function(e){return"windows phone"===e.getBrowserName()},describe:function(){return{type:s.PLATFORMS_MAP.mobile,vendor:"Microsoft"}}},{test:function(e){var t=Number(String(e.getOSVersion()).split(".")[0]);return"android"===e.getOSName(!0)&&t>=3},describe:function(){return{type:s.PLATFORMS_MAP.tablet}}},{test:function(e){return"android"===e.getOSName(!0)},describe:function(){return{type:s.PLATFORMS_MAP.mobile}}},{test:function(e){return"macos"===e.getOSName(!0)},describe:function(){return{type:s.PLATFORMS_MAP.desktop,vendor:"Apple"}}},{test:function(e){return"windows"===e.getOSName(!0)},describe:function(){return{type:s.PLATFORMS_MAP.desktop}}},{test:function(e){return"linux"===e.getOSName(!0)},describe:function(){return{type:s.PLATFORMS_MAP.desktop}}},{test:function(e){return"playstation 4"===e.getOSName(!0)},describe:function(){return{type:s.PLATFORMS_MAP.tv}}},{test:function(e){return"roku"===e.getOSName(!0)},describe:function(){return{type:s.PLATFORMS_MAP.tv}}}];t.default=o,e.exports=t.default},95:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n,i=(n=r(17))&&n.__esModule?n:{default:n},s=r(18),o=[{test:function(e){return"microsoft edge"===e.getBrowserName(!0)},describe:function(e){if(/\sedg\//i.test(e))return{name:s.ENGINE_MAP.Blink};var t=i.default.getFirstMatch(/edge\/(\d+(\.?_?\d+)+)/i,e);return{name:s.ENGINE_MAP.EdgeHTML,version:t}}},{test:[/trident/i],describe:function(e){var t={name:s.ENGINE_MAP.Trident},r=i.default.getFirstMatch(/trident\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:function(e){return e.test(/presto/i)},describe:function(e){var t={name:s.ENGINE_MAP.Presto},r=i.default.getFirstMatch(/presto\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:function(e){var t=e.test(/gecko/i),r=e.test(/like gecko/i);return t&&!r},describe:function(e){var t={name:s.ENGINE_MAP.Gecko},r=i.default.getFirstMatch(/gecko\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/(apple)?webkit\/537\.36/i],describe:function(){return{name:s.ENGINE_MAP.Blink}}},{test:[/(apple)?webkit/i],describe:function(e){var t={name:s.ENGINE_MAP.WebKit},r=i.default.getFirstMatch(/webkit\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}}];t.default=o,e.exports=t.default}})});
},{}],"zv8z":[function(require,module,exports) {
exports.endianness=function(){return"LE"},exports.hostname=function(){return"undefined"!=typeof location?location.hostname:""},exports.loadavg=function(){return[]},exports.uptime=function(){return 0},exports.freemem=function(){return Number.MAX_VALUE},exports.totalmem=function(){return Number.MAX_VALUE},exports.cpus=function(){return[]},exports.type=function(){return"Browser"},exports.release=function(){return"undefined"!=typeof navigator?navigator.appVersion:""},exports.networkInterfaces=exports.getNetworkInterfaces=function(){return{}},exports.arch=function(){return"javascript"},exports.platform=function(){return"browser"},exports.tmpdir=exports.tmpDir=function(){return"/tmp"},exports.EOL="\n",exports.homedir=function(){return"/"};
},{}],"NB7u":[function(require,module,exports) {
"use strict";var e=require("@babel/runtime-corejs2/core-js/object/define-property"),r=require("@babel/runtime-corejs2/helpers/interopRequireDefault");e(exports,"__esModule",{value:!0}),exports.default=void 0;var n=r(require("lodash/memoize")),t=r(require("bowser")),o=r(require("global/window")),u={getOSName:function(){return require("os").platform()},getOSVersion:function(){return require("os").release()},getBrowserName:function(){return""},getBrowserVersion:function(){return""},isBrowser:function(){return!1}},i=function(e){return{getOSName:function(){var r;return null!==(r=null==e?void 0:e.getOSName())&&void 0!==r?r:""},getOSVersion:function(){var r;return null!==(r=null==e?void 0:e.getOSVersion())&&void 0!==r?r:""},getBrowserName:function(){var r;return null!==(r=null==e?void 0:e.getBrowserName())&&void 0!==r?r:""},getBrowserVersion:function(){var r;return null!==(r=null==e?void 0:e.getBrowserVersion())&&void 0!==r?r:""},isBrowser:function(r){return!(null==e||!e.isBrowser(r,!0))}}},l=(0,n.default)(function(e){var r;return e||null!==(r=o.default.navigator)&&void 0!==r&&r.userAgent?i(t.default.getParser(e||o.default.navigator.userAgent)):u});exports.default=l;
},{"@babel/runtime-corejs2/core-js/object/define-property":"eIqn","@babel/runtime-corejs2/helpers/interopRequireDefault":"LXwi","lodash/memoize":"EiMJ","bowser":"fIh9","global/window":"tALL","os":"zv8z"}],"Ch1R":[function(require,module,exports) {
"use strict";var E=require("@babel/runtime-corejs2/core-js/object/define-property");E(exports,"__esModule",{value:!0}),exports.CLIENT_NAME=exports.OS_NAME=exports.UNKNOWN=exports.errorObjects=exports.statusCodes=exports.errorCodes=exports.reconnection=exports.mediaType=exports.displayLocation=exports.pstnAudioType=exports.trigger=exports.error=exports.eventType=void 0;var _={UNKNOWN_CALL_FAILURE:"UnknownCallFailure",LOCUS_RATE_LIMITED_INCOMING:"LocusRateLimitedIncoming",LOCUS_RATE_LIMITED_OUTGOING:"LocusRateLimitedOutgoing",LOCUS_UNAVAILABLE:"LocusUnavailable",LOCUS_CONFLICT:"LocusConflict",TIMEOUT:"Timeout",LOCUS_INVALID_SEQUENCE_HASH:"LocusInvalidSequenceHash",UPDATE_MEDIA_FAILED:"UpdateMediaFailed",FAILED_TO_CONNECT_MEDIA:"FailedToConnectMedia",MEDIA_ENGINE_LOST:"MediaEngineLost",MEDIA_CONNECTION_LOST:"MediaConnectionLost",ICE_FAILURE:"IceFailure",MEDIA_ENGINE_HANG:"MediaEngineHang",ICE_SERVER_REJECTED:"IceServerRejected",CALL_FULL:"CallFull",ROOM_TOO_LARGE:"RoomTooLarge",GUEST_ALREADY_ADDED:"GuestAlreadyAdded",LOCUS_USER_NOT_AUTHORISED:"LocusUserNotAuthorised",CLOUDBERRY_UNAVAILABLE:"CloudberryUnavailable",ROOM_TOO_LARGE_FREE_ACCOUNT:"RoomTooLarge_FreeAccount",MEETING_INACTIVE:"MeetingInactive",MEETING_LOCKED:"MeetingLocked",MEETING_TERMINATING:"MeetingTerminating",MODERATOR_PIN_OR_GUEST_REQUIRED:"Moderator_Pin_Or_Guest_Required",MODERATOR_PIN_OR_GUEST_PIN_REQUIRED:"Moderator_Pin_Or_Guest_PIN_Required",MODERATOR_REQUIRED:"Moderator_Required",USER_NOT_MEMBER_OF_ROOM:"UserNotMemberOfRoom",NEW_LOCUS_ERROR:"NewLocusError",NET_WORK_UNAVAILABLE:"NetworkUnavailable",MEETING_UNAVAILABLE:"MeetingUnavailable",MEETING_ID_INVALID:"MeetingIDInvalid",MEETING_SITE_INVALID:"MeetingSiteInvalid",LOCUS_INVALID_JOINTIME:"LocusInvalidJoinTime",LOBBY_EXPIRED:"LobbyExpired",MEDIA_CONNECTION_LOST_PAIRED:"MediaConnectionLostPaired",PHONE_NUMBER_NOT_A_NUMBER:"PhoneNumberNotANumber",PHONE_NUMBER_TOO_LONG:"PhoneNumberTooLong",INVALID_DIALABLE_KEY:"InvalidDialableKey",ONE_ON_ONE_TO_SELF_NOT_ALLOWED:"OneOnOneToSelfNotAllowed",REMOVED_PARTICIPANT:"RemovedParticipant",MEETING_LINK_NOT_FOUND:"MeetingLinkNotFound",PHONE_NUMBER_TOO_SHORT_AFTER_IDD:"PhoneNumberTooShortAfterIdd",INVALID_INVITEE_ADDRESS:"InvalidInviteeAddress",PMR_USER_ACCOUNT_LOCKED_OUT:"PMRUserAccountLockedOut",GUEST_FORBIDDEN:"GuestForbidden",PMR_ACCOUNT_SUSPENDED:"PMRAccountSuspended",EMPTY_PHONE_NUMBER_OR_COUNTRY_CODE:"EmptyPhoneNumberOrCountryCode",CONVERSATION_NOT_FOUND:"ConversationNotFound",SIP_CALLEE_BUSY:"SIPCalleeBusy",SIP_CALLEE_NOT_FOUND:"SIPCalleeNotFound",START_RECORDING_FAILED:"StartRecordingFailed",RECORDING_IN_PROGRESS_FAILED:"RecordingInProgressFailed"},I={SIGNALING:"signaling",MEDIA:"media",OTHER:"other",EXPECTED:"expected"},e={CALL_INITIATION_FAILURE:"CallInitiationFailure",MEDIA_CONNECTION_FAILURE:"MediaConnectionFailure",EXPECTED_FAILURE:"ExpectedFailure",ACCESS_RIGHTS:"AccessRights"},N={MEDIA_QUALITY:"client.mediaquality.event",CALL_INITIATED:"client.call.initiated",MERCURY_CONNECTION_LOST:"client.mercury.connection.lost",MERCURY_CONNECTION_RESTORED:"client.mercury.connection.restored",MOVE_MEDIA:"client.call.move-media",LOCAL_SDP_GENERATED:"client.media-engine.local-sdp-generated",REMOTE_SDP_RECEIVED:"client.media-engine.remote-sdp-received",LOCUS_JOIN_REQUEST:"client.locus.join.request",LOCUS_JOIN_RESPONSE:"client.locus.join.response",ALERT_DISPLAYED:"client.alert.displayed",ICE_START:"client.ice.start",ICE_END:"client.ice.end",ICE_DISCONNECT:"client.ice.disconnect",RECEIVING_MEDIA_START:"client.media.rx.start",RECEIVING_MEDIA_STOP:"client.media.rx.stop",SENDING_MEDIA_START:"client.media.tx.start",SENDING_MEDIA_STOP:"client.media.tx.stop",MEDIA_RENDER_START:"client.media.render.start",MEDIA_RENDER_STOP:"client.media.render.stop",MEDIA_CAPABILITIES:"client.media.capabilities",MEDIA_RECONNECTING:"client.media.reconnecting",MEDIA_RECOVERED:"client.media.recovered",CALL_ABORTED:"client.call.aborted",PIN_PROMPT:"client.pin.prompt",PIN_COLLECTED:"client.pin.collected",LOBBY_ENTERED:"client.lobby.entered",LOBBY_EXITED:"client.lobby.exited",SHARE_INITIATED:"client.share.initiated",SHARE_STOPPED:"client.share.stopped",LOCAL_SHARE_FLOOR_GRANTED:"client.share.floor-granted.local",SHARE_LAYOUT_DISPLAYED:"client.share.layout.displayed",WHITEBOARD_SHARE_INITIATED:"client.whiteboard.share.initiated",WHITEBOARD_SHARE_STOPPED:"client.whiteboard.share.stopped",WHITEBOARD_SHARE_FLOOR_GRANTED:"client.whiteboard.share.floor-granted",MUTED:"client.muted",UNMUTED:"client.unmuted",LEAVE:"client.call.leave",REMOTE_ENDED:"client.call.remote-ended",REMOTE_STARTED:"client.call.remote-started",MEDIA_REQUEST:"client.locus.media.request",MEDIA_RESPONSE:"client.locus.media.response",PSTN_AUDIO_ATTEMPT_START:"client.pstnaudio.attempt.start",PSTN_AUDIO_ATTEMPT_FINISH:"client.pstnaudio.attempt.finish",PSTN_AUDIO_ATTEMPT_SKIP:"client.pstnaudio.attempt.skip"};exports.eventType=N;var T={name:{MEDIA_ENGINE:"media-engine",ICE_FAILED:"ice.failed",LOCUS_RESPONSE:"locus.response",LOCUS_LEAVE:"locus.leave"},notFatalErrorList:[3003,3004,4004,4005,4006,4015],errors:{1000:[_.UNKNOWN_CALL_FAILURE,e.CALL_INITIATION_FAILURE,I.SIGNALING],1001:[_.LOCUS_RATE_LIMITED_INCOMING,e.CALL_INITIATION_FAILURE,I.SIGNALING],1002:[_.LOCUS_RATE_LIMITED_OUTGOING,e.CALL_INITIATION_FAILURE,I.SIGNALING],1003:[_.LOCUS_UNAVAILABLE,e.CALL_INITIATION_FAILURE,I.SIGNALING],1004:[_.LOCUS_CONFLICT,e.CALL_INITIATION_FAILURE,I.SIGNALING],1005:[_.TIMEOUT,e.CALL_INITIATION_FAILURE,I.SIGNALING],1006:[_.LOCUS_INVALID_SEQUENCE_HASH,e.CALL_INITIATION_FAILURE,I.SIGNALING],1007:[_.UPDATE_MEDIA_FAILED,e.CALL_INITIATION_FAILURE,I.SIGNALING],2001:[_.FAILED_TO_CONNECT_MEDIA,e.MEDIA_CONNECTION_FAILURE,I.SIGNALING],2002:[_.MEDIA_ENGINE_LOST,e.MEDIA_CONNECTION_FAILURE,I.SIGNALING],2003:[_.MEDIA_CONNECTION_LOST,e.MEDIA_CONNECTION_FAILURE,I.SIGNALING],2004:[_.ICE_FAILURE,e.MEDIA_CONNECTION_FAILURE,I.SIGNALING],2005:[_.MEDIA_ENGINE_HANG,e.MEDIA_CONNECTION_FAILURE,I.SIGNALING],2006:[_.ICE_SERVER_REJECTED,e.MEDIA_CONNECTION_FAILURE,I.SIGNALING],3001:[_.CALL_FULL,e.EXPECTED_FAILURE,I.EXPECTED],3002:[_.ROOM_TOO_LARGE,e.EXPECTED_FAILURE,I.EXPECTED],3004:[_.GUEST_ALREADY_ADDED,e.EXPECTED_FAILURE,I.EXPECTED],3005:[_.LOCUS_USER_NOT_AUTHORISED,e.EXPECTED_FAILURE,I.EXPECTED],3006:[_.CLOUDBERRY_UNAVAILABLE,e.EXPECTED_FAILURE,I.EXPECTED],3007:[_.ROOM_TOO_LARGE_FREE_ACCOUNT,e.EXPECTED_FAILURE,I.EXPECTED],4001:[_.MEETING_INACTIVE,e.CALL_INITIATION_FAILURE,I.EXPECTED],4002:[_.MEETING_LOCKED,e.CALL_INITIATION_FAILURE,I.EXPECTED],4003:[_.MEETING_TERMINATING,e.CALL_INITIATION_FAILURE,I.EXPECTED],4004:[_.MODERATOR_PIN_OR_GUEST_REQUIRED,e.ACCESS_RIGHTS,I.EXPECTED],4005:[_.MODERATOR_PIN_OR_GUEST_PIN_REQUIRED,e.ACCESS_RIGHTS,I.EXPECTED],4006:[_.MODERATOR_REQUIRED,e.ACCESS_RIGHTS,I.EXPECTED],4007:[_.USER_NOT_MEMBER_OF_ROOM,e.ACCESS_RIGHTS,I.EXPECTED],4008:[_.NEW_LOCUS_ERROR,e.CALL_INITIATION_FAILURE,I.EXPECTED],4009:[_.NET_WORK_UNAVAILABLE,e.CALL_INITIATION_FAILURE,I.EXPECTED],4010:[_.MEETING_UNAVAILABLE,e.CALL_INITIATION_FAILURE,I.EXPECTED],4011:[_.MEETING_ID_INVALID,e.EXPECTED_FAILURE,I.EXPECTED],4012:[_.MEETING_SITE_INVALID,e.EXPECTED_FAILURE,I.EXPECTED],4013:[_.LOCUS_INVALID_JOINTIME,e.EXPECTED_FAILURE,I.EXPECTED],4014:[_.LOBBY_EXPIRED,e.EXPECTED_FAILURE,I.EXPECTED],4015:[_.MEDIA_CONNECTION_LOST_PAIRED,e.MEDIA_CONNECTION_FAILURE,I.EXPECTED],4016:[_.PHONE_NUMBER_NOT_A_NUMBER,e.EXPECTED_FAILURE,I.EXPECTED],4017:[_.PHONE_NUMBER_TOO_LONG,e.EXPECTED_FAILURE,I.EXPECTED],4018:[_.INVALID_DIALABLE_KEY,e.EXPECTED_FAILURE,I.EXPECTED],4019:[_.ONE_ON_ONE_TO_SELF_NOT_ALLOWED,e.EXPECTED_FAILURE,I.EXPECTED],4020:[_.REMOVED_PARTICIPANT,e.EXPECTED_FAILURE,I.EXPECTED],4021:[_.MEETING_LINK_NOT_FOUND,e.EXPECTED_FAILURE,I.EXPECTED],4022:[_.PHONE_NUMBER_TOO_SHORT_AFTER_IDD,e.EXPECTED_FAILURE,I.EXPECTED],4023:[_.INVALID_INVITEE_ADDRESS,e.EXPECTED_FAILURE,I.EXPECTED],4024:[_.PMR_USER_ACCOUNT_LOCKED_OUT,e.EXPECTED_FAILURE,I.EXPECTED],4025:[_.GUEST_FORBIDDEN,e.EXPECTED_FAILURE,I.EXPECTED],4026:[_.PMR_ACCOUNT_SUSPENDED,e.EXPECTED_FAILURE,I.EXPECTED],4027:[_.EMPTY_PHONE_NUMBER_OR_COUNTRY_CODE,e.EXPECTED_FAILURE,I.EXPECTED],4028:[_.CONVERSATION_NOT_FOUND,e.EXPECTED_FAILURE,I.EXPECTED],4029:[_.START_RECORDING_FAILED,e.EXPECTED_FAILURE,I.EXPECTED],4030:[_.RECORDING_IN_PROGRESS_FAILED,e.EXPECTED_FAILURE,I.EXPECTED],5000:[_.SIP_CALLEE_BUSY,e.EXPECTED_FAILURE,I.EXPECTED],5001:[_.SIP_CALLEE_NOT_FOUND,e.EXPECTED_FAILURE,I.EXPECTED]}};exports.error=T;var A={USER_INTERACTION:"user-interaction",MERCURY_EVENT:"mercury-event",LOCI_UPDATE:"loci-update",MEDIA_ENGINE_EVENT:"media-engine-event",TIMEOUT:"timeout",SIGNALING:"signaling",OTHER:"other"};exports.trigger=A;var O={DIAL_IN:"dial-in",DIAL_OUT:"dial-out"};exports.pstnAudioType=O;var R={TOAST:"toast",ROOM_LIST:"room-list",CALL_PANE:"call-pane",CALL_VIEW:"call-view",OTHER:"other"};exports.displayLocation=R;var L={AUDIO:"audio",VIDEO:"video",SHARE:"share",WHITEBOARD:"whiteboard"};exports.mediaType=L;var D={RECOVERED_BY_NEW:"new",RECOVERED_BY_RETRY:"retry"};exports.reconnection=D;var C={USER_CREATE_FAILED:1400006,USER_ALREADY_PARTICIPANT:1403001,CONVO_ALREADY_EXISTS:1403010,ALREADY_ANNOUNCEMENT_SPACE:1403014,NOT_ANNOUNCEMENT_SPACE:1403015,USER_NOT_MODERATOR_IN_ANNOUNCEMENT_SPACE:1403016,TEMP_ID_ALREADY_EXISTS:1409001,PARENT_ACTIVITY_ID_NOT_FOUND_OR_INVALID:14000015};exports.errorCodes=C;var t={NETWORK_OR_CORS:0,BAD_REQUEST:400,FORBIDDEN:403,NOT_FOUND:404,CONFLICT:409};exports.statusCodes=t;var i={category:{media:"media",expected:"expected"},name:{mediaEngine:"media-engine"}};exports.errorObjects=i;var o="unknown";exports.UNKNOWN=o;var n={WINDOWS:"windows",MAC:"mac",IOS:"ios",ANDROID:"android",CHROME:"chrome",LINUX:"linux",OTHERS:"other"};exports.OS_NAME=n;var r="webex-js-sdk";exports.CLIENT_NAME=r;
},{"@babel/runtime-corejs2/core-js/object/define-property":"eIqn"}],"LvoJ":[function(require,module,exports) {
"use strict";var e=require("@babel/runtime-corejs2/core-js/object/keys"),r=require("@babel/runtime-corejs2/core-js/object/get-own-property-symbols"),t=require("@babel/runtime-corejs2/core-js/object/get-own-property-descriptor"),n=require("@babel/runtime-corejs2/core-js/object/get-own-property-descriptors"),i=require("@babel/runtime-corejs2/core-js/object/define-properties"),o=require("@babel/runtime-corejs2/core-js/object/define-property"),a=require("@babel/runtime-corejs2/helpers/interopRequireDefault");o(exports,"__esModule",{value:!0}),exports.default=void 0;var E=a(require("@babel/runtime-corejs2/core-js/object/values")),s=a(require("@babel/runtime-corejs2/helpers/defineProperty")),c=a(require("@babel/runtime-corejs2/helpers/classCallCheck")),R=a(require("@babel/runtime-corejs2/helpers/createClass")),l=a(require("lodash/includes")),_=a(require("util")),d=a(require("uuid")),u=a(require("global/window")),T=a(require("../common/logs/logger-proxy")),N=require("../constants"),O=a(require("../common/config")),I=a(require("../common/browser-detection")),S=require("./config");function b(n,i){var o=e(n);if(r){var a=r(n);i&&(a=a.filter(function(e){return t(n,e).enumerable})),o.push.apply(o,a)}return o}function v(e){for(var r=1;r<arguments.length;r++){var a=null!=arguments[r]?arguments[r]:{};r%2?b(Object(a),!0).forEach(function(r){(0,s.default)(e,r,a[r])}):n?i(e,n(a)):b(Object(a)).forEach(function(r){o(e,r,t(a,r))})}return e}var p={"Chrome OS":S.OS_NAME.chrome,macOS:S.OS_NAME.MAC,Windows:S.OS_NAME.WINDOWS,iOS:S.OS_NAME.IOS,Android:S.OS_NAME.ANDROID,Linux:S.OS_NAME.LINUX},M=(0,I.default)(),f=M.getOSName,m=M.getOSVersion,y=M.getBrowserName,g=M.getBrowserVersion,D=function(e){if(e){var r=e.split(".");return r[3]&=240,r.join(".")}},A=function(e){var r=e.event,t=e.meeting,n=e.data;switch(r){case S.eventType.LOCUS_JOIN_RESPONSE:t.setStartSetupDelay(S.mediaType.AUDIO),t.setStartSetupDelay(S.mediaType.VIDEO),t.setStartSendingMediaDelay(S.mediaType.AUDIO),t.setStartSendingMediaDelay(S.mediaType.VIDEO);break;case S.eventType.RECEIVING_MEDIA_START:t.setEndSetupDelay(n.mediaType);break;case S.eventType.SENDING_MEDIA_START:t.setEndSendingMediaDelay(n.mediaType)}},C=function(){function e(){return(0,c.default)(this,e),e.instance||(this._events=[],this.meetingCollection=null,this.keys=(0,E.default)(S.eventType),e.instance=this),e.instance}return(0,R.default)(e,[{key:"initialSetup",value:function(e,r){this.meetingCollection=e,this.webex=r}},{key:"postEvent",value:function(e){var r=e.meetingId,t=e.data,n=void 0===t?{}:t,i=e.event,o=e.meeting;-1===this.keys.indexOf(i)&&T.default.logger.error("Metrics:index#postEvent --\x3e Event ".concat(i," doesn't exist in dictionary")),!o&&r&&(o=this.meetingCollection.get(r)),o?(A(e),o.callEvents||(o.callEvents=[]),i===S.eventType.MEDIA_QUALITY?(n.event=i,o.sendMediaQualityAnalyzerMetrics(n)):(o.callEvents.push(i),n.event=i,o.sendCallAnalyzerMetrics(n))):T.default.logger.info("Metrics:index#postEvent --\x3e Event received for meetingId:".concat(r,", but meeting not found in collection."))}},{key:"initPayload",value:function(e,r,t){var n,i,o={eventId:d.default.v4(),version:1,origin:{name:"endpoint",networkType:"unknown",userAgent:this.userAgentToString(),clientInfo:{clientType:t.clientType,clientVersion:"".concat(S.CLIENT_NAME,"/").concat(this.webex.version),localNetworkPrefix:D(null===(n=this.webex.meetings.geoHintInfo)||void 0===n?void 0:n.clientAddress),osVersion:m()||"unknown",subClientType:t.subClientType,os:this.getOsName(),browser:y(),browserVersion:g()}},originTime:{triggered:(new Date).toISOString()},senderCountryCode:null===(i=this.webex.meetings.geoHintInfo)||void 0===i?void 0:i.countryCode,event:{name:e,canProceed:!0,identifiers:r,eventData:{webClientDomain:u.default.location.hostname}}};return t&&(Object.prototype.hasOwnProperty.call(t,"canProceed")&&(o.event.canProceed=t.canProceed),t.errors&&(o.event.errors=t.errors),t.mediaType&&(o.event.mediaType=t.mediaType),t.trigger&&(o.event.trigger=t.trigger),t.pstnAudioType&&(o.event.pstnAudioType=t.pstnAudioType),t.mediaCapabilities&&(o.event.mediaCapabilities=t.mediaCapabilities),t.recoveredBy&&(o.event.recoveredBy=t.recoveredBy)),o}},{key:"getOsName",value:function(){var e;return null!==(e=p[f()])&&void 0!==e?e:S.OS_NAME.OTHERS}},{key:"initMediaPayload",value:function(e,r){var t,n,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=i.audioSetupDelay,a=i.videoSetupDelay;return{eventId:d.default.v4(),version:1,origin:{audioSetupDelay:o,videoSetupDelay:a,name:"endpoint",networkType:i.networkType||S.UNKNOWN,userAgent:this.userAgentToString(),clientInfo:{clientType:i.clientType,clientVersion:"".concat(S.CLIENT_NAME,"/").concat(this.webex.version),localNetworkPrefix:D(null===(t=this.webex.meetings.geoHintInfo)||void 0===t?void 0:t.clientAddress),os:this.getOsName(),osVersion:m()||S.UNKNOWN,subClientType:i.subClientType,browser:y(),browserVersion:g()}},originTime:{triggered:(new Date).toISOString()},senderCountryCode:null===(n=this.webex.meetings.geoHintInfo)||void 0===n?void 0:n.countryCode,event:{name:e,canProceed:!0,identifiers:r,intervals:[i.intervalData],eventData:{webClientDomain:u.default.location.hostname},sourceMetadata:{applicationSoftwareType:S.CLIENT_NAME,applicationSoftwareVersion:this.webex.version,mediaEngineSoftwareType:y()||"browser",mediaEngineSoftwareVersion:m()||S.UNKNOWN,startTime:(new Date).toISOString()}}}}},{key:"parseLocusError",value:function(e,r){var t;if(e&&e.body&&e.body.errorCode)switch(S.errorCodes[e.body.errorCode]){case N.MEETING_ERRORS.FREE_USER_MAX_PARTICIPANTS_EXCEEDED:t=3007;break;case N.MEETING_ERRORS.PAID_USER_MAX_PARTICIPANTS_EXCEEDED:case N.MEETING_ERRORS.SERVICE_MAX_PARTICIPANTS_EXCEEDED:t=3002;break;case N.MEETING_ERRORS.INACTIVE:t=4001;break;case N.MEETING_ERRORS.EXCEEDED_MAX_JOINED_PARTICIPANTS:case N.MEETING_ERRORS.EXCEEDED_SERVICE_MAX_PARTICIPANTS:t=3001;break;case N.MEETING_ERRORS.MEETING_IS_LOCKED:t=4002;break;case N.MEETING_ERRORS.MEETING_IS_TERMINATING:t=4003;break;case N.MEETING_ERRORS.MEETING_REQUIRE_MODERATOR_PIN_INTENT:t=4004;break;case N.MEETING_ERRORS.MEETING_REQUIRE_MODERATOR_PIN:t=4005;break;case N.MEETING_ERRORS.MEETING_REQUIRE_MODERATOR_ROLE:t=4006;break;case N.MEETING_ERRORS.JOIN_RESTRICTED_USER:case N.MEETING_ERRORS.GET_RESTRICTED_USER:case N.MEETING_ERRORS.CREATE_MEDIA_RESTRICTED_USER:t=3005;break;case N.MEETING_ERRORS.JOIN_RESTRICTED_USER_NOT_IN_ROOM:t=4007;break;case N.MEETING_ERRORS.MEETING_NOT_FOUND:t=4011;break;case N.MEETING_ERRORS.NOT_WEBEX_SITE:t=4012;break;case N.MEETING_ERRORS.INVALID_JOIN_TIME:t=4013;break;case N.MEETING_ERRORS.PHONE_NUMBER_NOT_A_NUMBER:t=4016;break;case N.MEETING_ERRORS.PHONE_NUMBER_TOO_LONG:t=4017;break;case N.MEETING_ERRORS.INVALID_DIALABLE_KEY:t=4018;break;case N.MEETING_ERRORS.ONE_ON_ONE_TO_SELF_NOT_ALLOWED:t=4019;break;case N.MEETING_ERRORS.REMOVED_PARTICIPANT:t=4020;break;case N.MEETING_ERRORS.MEETING_LINK_NOT_FOUND:t=4021;break;case N.MEETING_ERRORS.PHONE_NUMBER_TOO_SHORT_AFTER_IDD:t=4022;break;case N.MEETING_ERRORS.INVALID_INVITEE_ADDRESS:t=4023;break;case N.MEETING_ERRORS.PMR_ACCOUNT_LOCKED:t=4024;break;case N.MEETING_ERRORS.RESOURCE_GUEST_FORBIDDEN:t=4025;break;case N.MEETING_ERRORS.PMR_ACCOUNT_SUSPENDED:t=4026;break;case N.MEETING_ERRORS.EMPTY_PHONE_NUMBER_OR_COUNTRY_CODE:t=4027;break;case N.MEETING_ERRORS.INVALID_SINCE_OR_SEQUENCE_HASH_IN_REQUEST:t=1006;break;case N.MEETING_ERRORS.CONVERSATION_NOT_FOUND:t=4028;break;case N.MEETING_ERRORS.RECORDING_CONTROL_NOT_SUPPORTED:case N.MEETING_ERRORS.RECORDING_NOT_STARTED:case N.MEETING_ERRORS.RECORDING_NOT_ENABLED:t=4029;break;default:t=4008}else t=4008;return this.generateErrorPayload(t,r,S.error.name.LOCUS_RESPONSE,e)}},{key:"generateErrorPayload",value:function(e,r,t,n){if(S.error.errors[e]){var i={shownToUser:r||!1,category:S.error.errors[e][2],errorDescription:S.error.errors[e][0],errorCode:e,fatal:!(0,l.default)(S.error.notFatalErrorList,e),name:t||S.error.name.OTHER};return n&&n.body&&(i.errorData=n.body),i}return null}},{key:"userAgentToString",value:function(){var e,r,t=_.default.format("client=%s","".concat(O.default.meetings.metrics.clientName));-1!==["chrome","firefox","msie","msedge","safari"].indexOf(y().toLowerCase())&&(r=_.default.format("browser=%s","".concat(y().toLowerCase(),"/").concat(g().split(".")[0])));var n=_.default.format("os=%s","".concat(f(),"/").concat(m().split(".")[0]));return r&&(e="(".concat(r)),n&&(e=e?"".concat(e,"; ").concat(t,"; ").concat(n):"".concat(t,"; (").concat(n)),e?(e+=")",_.default.format("webex-js-sdk/%s %s","".concat("production","-").concat(this.webex.version),e)):_.default.format("webex-js-sdk/%s","".concat("production","-").concat(this.webex.version))}},{key:"sendOperationalMetric",value:function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=v(v({},r),{},{browser_version:g(),os_version:m(),sdk_version:this.webex.version}),i=v(v({},t),{},{browser:y(),org_id:this.webex.credentials.getOrgId(),os:f(),domain:u.default.location.hostname,client_id:this.webex.credentials.config.client_id});if(!e)throw Error("Missing operational metric name. Please provide one");this.webex.internal.metrics.submitClientMetrics(e,{type:["operational"],fields:n,tags:i})}}]),e}(),w=new C,k=w;exports.default=k;
},{"@babel/runtime-corejs2/core-js/object/keys":"d81a","@babel/runtime-corejs2/core-js/object/get-own-property-symbols":"DovH","@babel/runtime-corejs2/core-js/object/get-own-property-descriptor":"mQ9c","@babel/runtime-corejs2/core-js/object/get-own-property-descriptors":"Hv1v","@babel/runtime-corejs2/core-js/object/define-properties":"CpmN","@babel/runtime-corejs2/core-js/object/define-property":"eIqn","@babel/runtime-corejs2/helpers/interopRequireDefault":"LXwi","@babel/runtime-corejs2/core-js/object/values":"vh4c","@babel/runtime-corejs2/helpers/defineProperty":"n5FU","@babel/runtime-corejs2/helpers/classCallCheck":"Tzth","@babel/runtime-corejs2/helpers/createClass":"xM5U","lodash/includes":"AOeR","util":"gfUn","uuid":"wQtZ","global/window":"tALL","../common/logs/logger-proxy":"NeTJ","../constants":"swzz","../common/config":"diJ3","../common/browser-detection":"NB7u","./config":"Ch1R"}],"FPBl":[function(require,module,exports) {
"use strict";var e=require("@babel/runtime-corejs2/core-js/object/define-property"),r=require("@babel/runtime-corejs2/helpers/interopRequireDefault");e(exports,"__esModule",{value:!0}),exports.default=void 0;var t=r(require("@babel/runtime-corejs2/regenerator")),u=r(require("@babel/runtime-corejs2/core-js/promise")),a=r(require("@babel/runtime-corejs2/helpers/asyncToGenerator")),o=r(require("@babel/runtime-corejs2/helpers/classCallCheck")),s=r(require("@babel/runtime-corejs2/helpers/createClass")),l=r(require("uuid")),n=r(require("./logger-proxy")),i=function(){function e(r){(0,o.default)(this,e),this.webex=r.webex}return(0,s.default)(e,[{key:"uploadLogs",value:function(){var e=(0,a.default)(t.default.mark(function e(){var r,a,o,s,i,c,d=arguments;return t.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=d.length>0&&void 0!==d[0]?d[0]:{},a=r.feedbackId||l.default.v4(),o=r.locusId,s=r.correlationId,i=r.meetingId,c=r.callStart,n.default.logger.info("Logs:request#uploadLogs --\x3e uploading user logs for feedbackId: ".concat(a)),e.prev=4,e.next=7,this.webex.internal.support.submitLogs({feedbackId:a,locusId:o,correlationId:s,meetingId:i,callStart:c});case 7:e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(4),n.default.logger.error("Logs:request#uploadLogs --\x3e uploading user logs failed",e.t0),e.abrupt("return",u.default.reject(e.t0));case 13:return e.abrupt("return",a);case 14:case"end":return e.stop()}},e,this,[[4,9]])}));return function(){return e.apply(this,arguments)}}()}]),e}();exports.default=i;
},{"@babel/runtime-corejs2/core-js/object/define-property":"eIqn","@babel/runtime-corejs2/helpers/interopRequireDefault":"LXwi","@babel/runtime-corejs2/regenerator":"i9LV","@babel/runtime-corejs2/core-js/promise":"eOfj","@babel/runtime-corejs2/helpers/asyncToGenerator":"OYLD","@babel/runtime-corejs2/helpers/classCallCheck":"Tzth","@babel/runtime-corejs2/helpers/createClass":"xM5U","uuid":"wQtZ","./logger-proxy":"NeTJ"}],"xdH9":[function(require,module,exports) {
"use strict";var e=require("@babel/runtime-corejs2/core-js/reflect/construct"),r=require("@babel/runtime-corejs2/core-js/object/define-property"),t=require("@babel/runtime-corejs2/helpers/interopRequireDefault");r(exports,"__esModule",{value:!0}),exports.default=void 0;var u=t(require("@babel/runtime-corejs2/helpers/classCallCheck")),a=t(require("@babel/runtime-corejs2/helpers/assertThisInitialized")),i=t(require("@babel/runtime-corejs2/helpers/inherits")),o=t(require("@babel/runtime-corejs2/helpers/possibleConstructorReturn")),n=t(require("@babel/runtime-corejs2/helpers/getPrototypeOf")),l=t(require("@babel/runtime-corejs2/helpers/wrapNativeSuper")),s=require("../../constants");function c(r){var t=f();return function(){var u,a=(0,n.default)(r);if(t){var i=(0,n.default)(this).constructor;u=e(a,arguments,i)}else u=a.apply(this,arguments);return(0,o.default)(this,u)}}function f(){if("undefined"==typeof Reflect||!e)return!1;if(e.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(e(Boolean,[],function(){})),!0}catch(r){return!1}}var R=function(e){(0,i.default)(t,e);var r=c(t);function t(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s.ERROR_DICTIONARY.PARAMETER.MESSAGE,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return(0,u.default)(this,t),e=r.call(this,i),Error.captureStackTrace&&Error.captureStackTrace((0,a.default)(e),t),e.name=s.ERROR_DICTIONARY.PARAMETER.NAME,e.sdkMessage=s.ERROR_DICTIONARY.PARAMETER.MESSAGE,e.error=o,e.code=s.ERROR_DICTIONARY.PARAMETER.CODE,e}return t}((0,l.default)(Error));exports.default=R;
},{"@babel/runtime-corejs2/core-js/reflect/construct":"vZQy","@babel/runtime-corejs2/core-js/object/define-property":"eIqn","@babel/runtime-corejs2/helpers/interopRequireDefault":"LXwi","@babel/runtime-corejs2/helpers/classCallCheck":"Tzth","@babel/runtime-corejs2/helpers/assertThisInitialized":"YqR0","@babel/runtime-corejs2/helpers/inherits":"CdTE","@babel/runtime-corejs2/helpers/possibleConstructorReturn":"w9GY","@babel/runtime-corejs2/helpers/getPrototypeOf":"Qxr1","@babel/runtime-corejs2/helpers/wrapNativeSuper":"y1h1","../../constants":"swzz"}],"HOep":[function(require,module,exports) {
"use strict";var e=require("@babel/runtime-corejs2/core-js/object/define-property"),t=require("@babel/runtime-corejs2/helpers/interopRequireDefault");e(exports,"__esModule",{value:!0}),exports.default=void 0;var r=require("util"),o=t(require("../logs/logger-proxy")),n={getEventLog:function(e){var t="";try{t=(0,r.inspect)(e)}catch(n){o.default.logger.warn("Events:util#getEventLog --\x3e ".concat(n))}return t},getScopeLog:function(e){var t="";if(e){if(e.file&&e.function)return t+="".concat(e.file,":").concat(e.function,"->");e.file&&(t+="".concat(e.file,"->")),e.function&&(t+="".concat(e.function,"->"))}return t}},i=n;exports.default=i;
},{"@babel/runtime-corejs2/core-js/object/define-property":"eIqn","@babel/runtime-corejs2/helpers/interopRequireDefault":"LXwi","util":"gfUn","../logs/logger-proxy":"NeTJ"}],"tIl4":[function(require,module,exports) {
"use strict";var e=require("@babel/runtime-corejs2/core-js/object/define-property"),r=require("@babel/runtime-corejs2/helpers/interopRequireDefault");e(exports,"__esModule",{value:!0}),exports.default=void 0;var t=r(require("../logs/logger-proxy")),o=r(require("../logs/logger-config")),u=r(require("../errors/parameter")),g=r(require("./util")),i={trigger:function(e,r,i,a){if(!e||!e.trigger)throw new u.default("Instance to trigger from must be defined and have a trigger function.");return t.default.logger.debug("".concat(g.default.getScopeLog(r),"event#").concat(i).concat(o.default.verboseEvents?" -- ".concat(g.default.getEventLog(a)):"")),e.trigger(i,a)}},a=i;exports.default=a;
},{"@babel/runtime-corejs2/core-js/object/define-property":"eIqn","@babel/runtime-corejs2/helpers/interopRequireDefault":"LXwi","../logs/logger-proxy":"NeTJ","../logs/logger-config":"AjFS","../errors/parameter":"xdH9","./util":"HOep"}],"ItFm":[function(require,module,exports) {
"use strict";var e=require("@babel/runtime-corejs2/core-js/object/define-property");e(exports,"__esModule",{value:!0}),exports.default=void 0;var t=require("@webex/common"),i={meetings:{deviceType:t.deviceType.WEB,mediaSettings:{sendAudio:!0,sendVideo:!0,receiveAudio:!0,receiveVideo:!0,pstn:!1,sendShare:!1,receiveShare:!1},reconnection:{enabled:!1,autoRejoin:!0,detection:!0,iceReconnectionTimeout:1e4,maxRejoinAttempts:3},stats:{enableStatsAnalyzer:!0,autoDowngradeEnabled:!1,interval:1e3,analyzerInterval:5e3,historyMax:120,videoPacketLossRatioThreshold:9,rttThreshold:500,jitterThreshold:500},metrics:{clientName:"WEBEX_JS_SDK",clientType:"WEBEX_SDK",subClientType:"WEB_APP",mqaMetricsInterval:6e4,autoSendMQA:!0},logging:{enable:!0,verboseEvents:!0},resolution:{maxWidth:1280,maxHeight:720,idealWidth:1280,idealHeight:720},screenResolution:{maxWidth:1920,maxHeight:1080,idealWidth:1920,idealHeight:1080},bandwidth:{audio:64e3,video:4e6},screenFrameRate:10,videoShareFrameRate:30,aspectRatio:1.7695852534562213,autoUploadLogs:!0,enableRtx:!0,receiveTranscription:!1,enableExtmap:!1,experimental:{enableMediaNegotiatedEvent:!1,enableUnifiedMeetings:!1}}};exports.default=i;
},{"@babel/runtime-corejs2/core-js/object/define-property":"eIqn","@webex/common":"UeF0"}],"F2TU":[function(require,module,exports) {
var e=module.exports={v:[{name:"version",reg:/^(\d*)$/}],o:[{name:"origin",reg:/^(\S*) (\d*) (\d*) (\S*) IP(\d) (\S*)/,names:["username","sessionId","sessionVersion","netType","ipVer","address"],format:"%s %s %d %s IP%d %s"}],s:[{name:"name"}],i:[{name:"description"}],u:[{name:"uri"}],e:[{name:"email"}],p:[{name:"phone"}],z:[{name:"timezones"}],r:[{name:"repeats"}],t:[{name:"timing",reg:/^(\d*) (\d*)/,names:["start","stop"],format:"%d %d"}],c:[{name:"connection",reg:/^IN IP(\d) (\S*)/,names:["version","ip"],format:"IN IP%d %s"}],b:[{push:"bandwidth",reg:/^(TIAS|AS|CT|RR|RS):(\d*)/,names:["type","limit"],format:"%s:%s"}],m:[{reg:/^(\w*) (\d*) ([\w/]*)(?: (.*))?/,names:["type","port","protocol","payloads"],format:"%s %d %s %s"}],a:[{push:"rtp",reg:/^rtpmap:(\d*) ([\w\-.]*)(?:\s*\/(\d*)(?:\s*\/(\S*))?)?/,names:["payload","codec","rate","encoding"],format:function(e){return e.encoding?"rtpmap:%d %s/%s/%s":e.rate?"rtpmap:%d %s/%s":"rtpmap:%d %s"}},{push:"fmtp",reg:/^fmtp:(\d*) ([\S| ]*)/,names:["payload","config"],format:"fmtp:%d %s"},{name:"control",reg:/^control:(.*)/,format:"control:%s"},{name:"rtcp",reg:/^rtcp:(\d*)(?: (\S*) IP(\d) (\S*))?/,names:["port","netType","ipVer","address"],format:function(e){return null!=e.address?"rtcp:%d %s IP%d %s":"rtcp:%d"}},{push:"rtcpFbTrrInt",reg:/^rtcp-fb:(\*|\d*) trr-int (\d*)/,names:["payload","value"],format:"rtcp-fb:%s trr-int %d"},{push:"rtcpFb",reg:/^rtcp-fb:(\*|\d*) ([\w-_]*)(?: ([\w-_]*))?/,names:["payload","type","subtype"],format:function(e){return null!=e.subtype?"rtcp-fb:%s %s %s":"rtcp-fb:%s %s"}},{push:"ext",reg:/^extmap:(\d+)(?:\/(\w+))?(?: (urn:ietf:params:rtp-hdrext:encrypt))? (\S*)(?: (\S*))?/,names:["value","direction","encrypt-uri","uri","config"],format:function(e){return"extmap:%d"+(e.direction?"/%s":"%v")+(e["encrypt-uri"]?" %s":"%v")+" %s"+(e.config?" %s":"")}},{name:"extmapAllowMixed",reg:/^(extmap-allow-mixed)/},{push:"crypto",reg:/^crypto:(\d*) ([\w_]*) (\S*)(?: (\S*))?/,names:["id","suite","config","sessionConfig"],format:function(e){return null!=e.sessionConfig?"crypto:%d %s %s %s":"crypto:%d %s %s"}},{name:"setup",reg:/^setup:(\w*)/,format:"setup:%s"},{name:"connectionType",reg:/^connection:(new|existing)/,format:"connection:%s"},{name:"mid",reg:/^mid:([^\s]*)/,format:"mid:%s"},{name:"msid",reg:/^msid:(.*)/,format:"msid:%s"},{name:"ptime",reg:/^ptime:(\d*(?:\.\d*)*)/,format:"ptime:%d"},{name:"maxptime",reg:/^maxptime:(\d*(?:\.\d*)*)/,format:"maxptime:%d"},{name:"direction",reg:/^(sendrecv|recvonly|sendonly|inactive)/},{name:"icelite",reg:/^(ice-lite)/},{name:"iceUfrag",reg:/^ice-ufrag:(\S*)/,format:"ice-ufrag:%s"},{name:"icePwd",reg:/^ice-pwd:(\S*)/,format:"ice-pwd:%s"},{name:"fingerprint",reg:/^fingerprint:(\S*) (\S*)/,names:["type","hash"],format:"fingerprint:%s %s"},{push:"candidates",reg:/^candidate:(\S*) (\d*) (\S*) (\d*) (\S*) (\d*) typ (\S*)(?: raddr (\S*) rport (\d*))?(?: tcptype (\S*))?(?: generation (\d*))?(?: network-id (\d*))?(?: network-cost (\d*))?/,names:["foundation","component","transport","priority","ip","port","type","raddr","rport","tcptype","generation","network-id","network-cost"],format:function(e){var r="candidate:%s %d %s %d %s %d typ %s";return r+=null!=e.raddr?" raddr %s rport %d":"%v%v",r+=null!=e.tcptype?" tcptype %s":"%v",null!=e.generation&&(r+=" generation %d"),r+=null!=e["network-id"]?" network-id %d":"%v",r+=null!=e["network-cost"]?" network-cost %d":"%v"}},{name:"endOfCandidates",reg:/^(end-of-candidates)/},{name:"remoteCandidates",reg:/^remote-candidates:(.*)/,format:"remote-candidates:%s"},{name:"iceOptions",reg:/^ice-options:(\S*)/,format:"ice-options:%s"},{push:"ssrcs",reg:/^ssrc:(\d*) ([\w_-]*)(?::(.*))?/,names:["id","attribute","value"],format:function(e){var r="ssrc:%d";return null!=e.attribute&&(r+=" %s",null!=e.value&&(r+=":%s")),r}},{push:"ssrcGroups",reg:/^ssrc-group:([\x21\x23\x24\x25\x26\x27\x2A\x2B\x2D\x2E\w]*) (.*)/,names:["semantics","ssrcs"],format:"ssrc-group:%s %s"},{name:"msidSemantic",reg:/^msid-semantic:\s?(\w*) (\S*)/,names:["semantic","token"],format:"msid-semantic: %s %s"},{push:"groups",reg:/^group:(\w*) (.*)/,names:["type","mids"],format:"group:%s %s"},{name:"rtcpMux",reg:/^(rtcp-mux)/},{name:"rtcpRsize",reg:/^(rtcp-rsize)/},{name:"sctpmap",reg:/^sctpmap:([\w_/]*) (\S*)(?: (\S*))?/,names:["sctpmapNumber","app","maxMessageSize"],format:function(e){return null!=e.maxMessageSize?"sctpmap:%s %s %s":"sctpmap:%s %s"}},{name:"xGoogleFlag",reg:/^x-google-flag:([^\s]*)/,format:"x-google-flag:%s"},{push:"rids",reg:/^rid:([\d\w]+) (\w+)(?: ([\S| ]*))?/,names:["id","direction","params"],format:function(e){return e.params?"rid:%s %s %s":"rid:%s %s"}},{push:"imageattrs",reg:new RegExp("^imageattr:(\\d+|\\*)[\\s\\t]+(send|recv)[\\s\\t]+(\\*|\\[\\S+\\](?:[\\s\\t]+\\[\\S+\\])*)(?:[\\s\\t]+(recv|send)[\\s\\t]+(\\*|\\[\\S+\\](?:[\\s\\t]+\\[\\S+\\])*))?"),names:["pt","dir1","attrs1","dir2","attrs2"],format:function(e){return"imageattr:%s %s %s"+(e.dir2?" %s %s":"")}},{name:"simulcast",reg:new RegExp("^simulcast:(send|recv) ([a-zA-Z0-9\\-_~;,]+)(?:\\s?(send|recv) ([a-zA-Z0-9\\-_~;,]+))?$"),names:["dir1","list1","dir2","list2"],format:function(e){return"simulcast:%s %s"+(e.dir2?" %s %s":"")}},{name:"simulcast_03",reg:/^simulcast:[\s\t]+([\S+\s\t]+)$/,names:["value"],format:"simulcast: %s"},{name:"framerate",reg:/^framerate:(\d+(?:$|\.\d+))/,format:"framerate:%s"},{name:"sourceFilter",reg:/^source-filter: *(excl|incl) (\S*) (IP4|IP6|\*) (\S*) (.*)/,names:["filterMode","netType","addressTypes","destAddress","srcList"],format:"source-filter: %s %s %s %s %s"},{name:"bundleOnly",reg:/^(bundle-only)/},{name:"label",reg:/^label:(.+)/,format:"label:%s"},{name:"sctpPort",reg:/^sctp-port:(\d+)$/,format:"sctp-port:%s"},{name:"maxMessageSize",reg:/^max-message-size:(\d+)$/,format:"max-message-size:%s"},{push:"tsRefClocks",reg:/^ts-refclk:([^\s=]*)(?:=(\S*))?/,names:["clksrc","clksrcExt"],format:function(e){return"ts-refclk:%s"+(null!=e.clksrcExt?"=%s":"")}},{name:"mediaClk",reg:/^mediaclk:(?:id=(\S*))? *([^\s=]*)(?:=(\S*))?(?: *rate=(\d+)\/(\d+))?/,names:["id","mediaClockName","mediaClockValue","rateNumerator","rateDenominator"],format:function(e){var r="mediaclk:";return r+=null!=e.id?"id=%s %s":"%v%s",r+=null!=e.mediaClockValue?"=%s":"",r+=null!=e.rateNumerator?" rate=%s":"",r+=null!=e.rateDenominator?"/%s":""}},{name:"keywords",reg:/^keywds:(.+)$/,format:"keywds:%s"},{name:"content",reg:/^content:(.+)/,format:"content:%s"},{name:"bfcpFloorCtrl",reg:/^floorctrl:(c-only|s-only|c-s)/,format:"floorctrl:%s"},{name:"bfcpConfId",reg:/^confid:(\d+)/,format:"confid:%s"},{name:"bfcpUserId",reg:/^userid:(\d+)/,format:"userid:%s"},{name:"bfcpFloorId",reg:/^floorid:(.+) (?:m-stream|mstrm):(.+)/,names:["id","mStream"],format:"floorid:%s mstrm:%s"},{push:"invalid",names:["value"]}]};Object.keys(e).forEach(function(r){e[r].forEach(function(e){e.reg||(e.reg=/(.*)/),e.format||(e.format="%s")})});
},{}],"yZtM":[function(require,module,exports) {
var r=function(r){return String(Number(r))===r?Number(r):r},t=function(t,e,n,s){if(s&&!n)e[s]=r(t[1]);else for(var a=0;a<n.length;a+=1)null!=t[a+1]&&(e[n[a]]=r(t[a+1]))},e=function(r,e,n){var s=r.name&&r.names;r.push&&!e[r.push]?e[r.push]=[]:s&&!e[r.name]&&(e[r.name]={});var a=r.push?{}:s?e[r.name]:e;t(n.match(r.reg),a,r.names,r.name),r.push&&e[r.push].push(a)},n=require("./grammar"),s=RegExp.prototype.test.bind(/^([a-z])=(.*)/);exports.parse=function(r){var t={},a=[],p=t;return r.split(/(\r\n|\r|\n)/).filter(s).forEach(function(r){var t=r[0],s=r.slice(2);"m"===t&&(a.push({rtp:[],fmtp:[]}),p=a[a.length-1]);for(var u=0;u<(n[t]||[]).length;u+=1){var i=n[t][u];if(i.reg.test(s))return e(i,p,s)}}),t.media=a,t};var a=function(t,e){var n=e.split(/=(.+)/,2);return 2===n.length?t[n[0]]=r(n[1]):1===n.length&&e.length>1&&(t[n[0]]=void 0),t};exports.parseParams=function(r){return r.split(/;\s?/).reduce(a,{})},exports.parseFmtpConfig=exports.parseParams,exports.parsePayloads=function(r){return r.toString().split(" ").map(Number)},exports.parseRemoteCandidates=function(t){for(var e=[],n=t.split(" ").map(r),s=0;s<n.length;s+=3)e.push({component:n[s],ip:n[s+1],port:n[s+2]});return e},exports.parseImageAttributes=function(r){return r.split(" ").map(function(r){return r.substring(1,r.length-1).split(",").reduce(a,{})})},exports.parseSimulcastStreamList=function(t){return t.split(";").map(function(t){return t.split(",").map(function(t){var e,n=!1;return"~"!==t[0]?e=r(t):(e=r(t.substring(1,t.length)),n=!0),{scid:e,paused:n}})})};
},{"./grammar":"F2TU"}],"tBIh":[function(require,module,exports) {
var n=require("./grammar"),r=/%[sdv%]/g,a=function(n){var a=1,u=arguments,e=u.length;return n.replace(r,function(n){if(a>=e)return n;var r=u[a];switch(a+=1,n){case"%%":return"%";case"%s":return String(r);case"%d":return Number(r);case"%v":return""}})},u=function(n,r,u){var e=[n+"="+(r.format instanceof Function?r.format(r.push?u:u[r.name]):r.format)];if(r.names)for(var o=0;o<r.names.length;o+=1){var s=r.names[o];r.name?e.push(u[r.name][s]):e.push(u[r.names[o]])}else e.push(u[r.name]);return a.apply(null,e)},e=["v","o","s","i","u","e","p","c","b","t","r","z","a"],o=["i","c","b","a"];module.exports=function(r,a){a=a||{},null==r.version&&(r.version=0),null==r.name&&(r.name=" "),r.media.forEach(function(n){null==n.payloads&&(n.payloads="")});var s=a.outerOrder||e,t=a.innerOrder||o,i=[];return s.forEach(function(a){n[a].forEach(function(n){n.name in r&&null!=r[n.name]?i.push(u(a,n,r)):n.push in r&&null!=r[n.push]&&r[n.push].forEach(function(r){i.push(u(a,n,r))})})}),r.media.forEach(function(r){i.push(u("m",n.m[0],r)),t.forEach(function(a){n[a].forEach(function(n){n.name in r&&null!=r[n.name]?i.push(u(a,n,r)):n.push in r&&null!=r[n.push]&&r[n.push].forEach(function(r){i.push(u(a,n,r))})})})}),i.join("\r\n")+"\r\n"};
},{"./grammar":"F2TU"}],"ka43":[function(require,module,exports) {
var e=require("./parser"),r=require("./writer");exports.write=r,exports.parse=e.parse,exports.parseParams=e.parseParams,exports.parseFmtpConfig=e.parseFmtpConfig,exports.parsePayloads=e.parsePayloads,exports.parseRemoteCandidates=e.parseRemoteCandidates,exports.parseImageAttributes=e.parseImageAttributes,exports.parseSimulcastStreamList=e.parseSimulcastStreamList;
},{"./parser":"yZtM","./writer":"tBIh"}],"m1Wz":[function(require,module,exports) {
"use strict";var e=require("@babel/runtime-corejs2/core-js/reflect/construct"),r=require("@babel/runtime-corejs2/core-js/object/define-property"),t=require("@babel/runtime-corejs2/helpers/interopRequireDefault");r(exports,"__esModule",{value:!0}),exports.default=void 0;var u=t(require("@babel/runtime-corejs2/helpers/classCallCheck")),n=t(require("@babel/runtime-corejs2/helpers/inherits")),o=t(require("@babel/runtime-corejs2/helpers/possibleConstructorReturn")),i=t(require("@babel/runtime-corejs2/helpers/getPrototypeOf")),s=t(require("@babel/runtime-corejs2/helpers/wrapNativeSuper")),a=require("../../constants");function l(r){var t=c();return function(){var u,n=(0,i.default)(r);if(t){var s=(0,i.default)(this).constructor;u=e(n,arguments,s)}else u=n.apply(this,arguments);return(0,o.default)(this,u)}}function c(){if("undefined"==typeof Reflect||!e)return!1;if(e.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(e(Boolean,[],function(){})),!0}catch(r){return!1}}var f=function(e){(0,n.default)(t,e);var r=l(t);function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a.ERROR_DICTIONARY.MEDIA.MESSAGE,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return(0,u.default)(this,t),(e=r.call(this,n)).name=a.ERROR_DICTIONARY.RECONNECTION.NAME,e.sdkMessage=a.ERROR_DICTIONARY.MEDIA.MESSAGE,e.error=o,e.stack=o?o.stack:(new Error).stack,e.code=a.ERROR_DICTIONARY.RECONNECTION.CODE,e}return t}((0,s.default)(Error));exports.default=f;
},{"@babel/runtime-corejs2/core-js/reflect/construct":"vZQy","@babel/runtime-corejs2/core-js/object/define-property":"eIqn","@babel/runtime-corejs2/helpers/interopRequireDefault":"LXwi","@babel/runtime-corejs2/helpers/classCallCheck":"Tzth","@babel/runtime-corejs2/helpers/inherits":"CdTE","@babel/runtime-corejs2/helpers/possibleConstructorReturn":"w9GY","@babel/runtime-corejs2/helpers/getPrototypeOf":"Qxr1","@babel/runtime-corejs2/helpers/wrapNativeSuper":"y1h1","../../constants":"swzz"}],"Tsd6":[function(require,module,exports) {
"use strict";var e=require("@babel/runtime-corejs2/core-js/reflect/construct"),r=require("@babel/runtime-corejs2/core-js/object/define-property"),t=require("@babel/runtime-corejs2/helpers/interopRequireDefault");r(exports,"__esModule",{value:!0}),exports.default=void 0;var u=t(require("@babel/runtime-corejs2/core-js/object/define-property")),a=t(require("@babel/runtime-corejs2/helpers/classCallCheck")),n=t(require("@babel/runtime-corejs2/helpers/createClass")),i=t(require("@babel/runtime-corejs2/helpers/assertThisInitialized")),o=t(require("@babel/runtime-corejs2/helpers/inherits")),s=t(require("@babel/runtime-corejs2/helpers/possibleConstructorReturn")),l=t(require("@babel/runtime-corejs2/helpers/getPrototypeOf")),c=t(require("@babel/runtime-corejs2/helpers/wrapNativeSuper"));function f(r){var t=p();return function(){var u,a=(0,l.default)(r);if(t){var n=(0,l.default)(this).constructor;u=e(a,arguments,n)}else u=a.apply(this,arguments);return(0,s.default)(this,u)}}function p(){if("undefined"==typeof Reflect||!e)return!1;if(e.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(e(Boolean,[],function(){})),!0}catch(r){return!1}}var b=function(e){(0,o.default)(t,e);var r=f(t);function t(e){var n;(0,a.default)(this,t);for(var o=arguments.length,s=new Array(o>1?o-1:0),l=1;l<o;l++)s[l-1]=arguments[l];return(n=r.call.apply(r,[this].concat(s))).name="WebexMeetingsError",(0,u.default)((0,i.default)(n),"code",{value:e,enumerable:!0}),n}return(0,n.default)(t,[{key:"toString",value:function(){var e=this.message?": ".concat(this.message):"";return"".concat(this.name," ").concat(this.code).concat(e)}}]),t}((0,c.default)(Error));exports.default=b;
},{"@babel/runtime-corejs2/core-js/reflect/construct":"vZQy","@babel/runtime-corejs2/core-js/object/define-property":"eIqn","@babel/runtime-corejs2/helpers/interopRequireDefault":"LXwi","@babel/runtime-corejs2/helpers/classCallCheck":"Tzth","@babel/runtime-corejs2/helpers/createClass":"xM5U","@babel/runtime-corejs2/helpers/assertThisInitialized":"YqR0","@babel/runtime-corejs2/helpers/inherits":"CdTE","@babel/runtime-corejs2/helpers/possibleConstructorReturn":"w9GY","@babel/runtime-corejs2/helpers/getPrototypeOf":"Qxr1","@babel/runtime-corejs2/helpers/wrapNativeSuper":"y1h1"}],"OsWy":[function(require,module,exports) {
"use strict";var e=require("@babel/runtime-corejs2/core-js/reflect/construct"),r=require("@babel/runtime-corejs2/core-js/object/define-property"),t=require("@babel/runtime-corejs2/helpers/interopRequireDefault");r(exports,"__esModule",{value:!0}),exports.createMeetingsError=d,exports.InvalidSdpError=exports.UserInLobbyError=exports.NoMediaEstablishedYetError=exports.UserNotJoinedError=exports.MeetingNotActiveError=void 0;var n=t(require("@babel/runtime-corejs2/helpers/classCallCheck")),o=t(require("@babel/runtime-corejs2/helpers/inherits")),i=t(require("@babel/runtime-corejs2/helpers/possibleConstructorReturn")),u=t(require("@babel/runtime-corejs2/helpers/getPrototypeOf")),a=t(require("@babel/runtime-corejs2/helpers/defineProperty")),s=t(require("./webex-meetings-error"));function l(r){var t=f();return function(){var n,o=(0,u.default)(r);if(t){var a=(0,u.default)(this).constructor;n=e(o,arguments,a)}else n=o.apply(this,arguments);return(0,i.default)(this,n)}}function f(){if("undefined"==typeof Reflect||!e)return!1;if(e.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(e(Boolean,[],function(){})),!0}catch(r){return!1}}var c={};function d(e,r){return r="string"==typeof r&&r?r:"Unknown error",c[e="number"==typeof e?e:0]?new c[e]:new s.default(e,r)}var p=function(e){(0,o.default)(t,e);var r=l(t);function t(){return(0,n.default)(this,t),r.call(this,t.CODE,"Meeting has already Ended or not Active")}return t}(s.default);exports.MeetingNotActiveError=p,(0,a.default)(p,"CODE",30101),c[p.CODE]=p;var b=function(e){(0,o.default)(t,e);var r=l(t);function t(){return(0,n.default)(this,t),r.call(this,t.CODE,"User currently not in meeting. Please join a meeting before adding media.")}return t}(s.default);exports.UserNotJoinedError=b,(0,a.default)(b,"CODE",30102),c[b.CODE]=b;var h=function(e){(0,o.default)(t,e);var r=l(t);function t(){return(0,n.default)(this,t),r.call(this,t.CODE,"User has not established media yet")}return t}(s.default);exports.NoMediaEstablishedYetError=h,(0,a.default)(h,"CODE",30103),c[h.CODE]=h;var E=function(e){(0,o.default)(t,e);var r=l(t);function t(){return(0,n.default)(this,t),r.call(this,t.CODE,"user is still in the lobby or not joined")}return t}(s.default);exports.UserInLobbyError=E,(0,a.default)(E,"CODE",30104),c[E.CODE]=E;var v=function(e){(0,o.default)(t,e);var r=l(t);function t(){return(0,n.default)(this,t),r.call(this,t.CODE,"iceConnection: sdp generated is invalid")}return t}(s.default);exports.InvalidSdpError=v,(0,a.default)(v,"CODE",30201),c[v.CODE]=v;
},{"@babel/runtime-corejs2/core-js/reflect/construct":"vZQy","@babel/runtime-corejs2/core-js/object/define-property":"eIqn","@babel/runtime-corejs2/helpers/interopRequireDefault":"LXwi","@babel/runtime-corejs2/helpers/classCallCheck":"Tzth","@babel/runtime-corejs2/helpers/inherits":"CdTE","@babel/runtime-corejs2/helpers/possibleConstructorReturn":"w9GY","@babel/runtime-corejs2/helpers/getPrototypeOf":"Qxr1","@babel/runtime-corejs2/helpers/defineProperty":"n5FU","./webex-meetings-error":"Tsd6"}],"mZnB":[function(require,module,exports) {
"use strict";var e=require("@babel/runtime-corejs2/core-js/array/from"),n=require("@babel/runtime-corejs2/core-js/symbol"),t=require("@babel/runtime-corejs2/core-js/symbol/iterator"),r=require("@babel/runtime-corejs2/core-js/array/is-array"),o=require("@babel/runtime-corejs2/core-js/object/define-property"),a=require("@babel/runtime-corejs2/helpers/interopRequireDefault");o(exports,"__esModule",{value:!0}),exports.default=void 0;var i=a(require("@babel/runtime-corejs2/core-js/promise")),c=a(require("global/window")),d=a(require("sdp-transform")),s=a(require("../metrics")),l=a(require("../common/logs/logger-proxy")),E=a(require("../common/config")),u=require("../constants"),f=require("../metrics/config"),g=a(require("../common/errors/media")),C=a(require("../common/errors/parameter")),p=require("../common/errors/webex-errors"),T=a(require("../common/browser-detection"));function S(e,o){var a=void 0!==n&&e[t]||e["@@iterator"];if(!a){if(r(e)||(a=I(e))||o&&e&&"number"==typeof e.length){a&&(e=a);var i=0,c=function(){};return{s:c,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:c}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var d,s=!0,l=!1;return{s:function(){a=a.call(e)},n:function(){var e=a.next();return s=e.done,e},e:function(e){l=!0,d=e},f:function(){try{s||null==a.return||a.return()}finally{if(l)throw d}}}}function I(n,t){if(n){if("string"==typeof n)return N(n,t);var r=Object.prototype.toString.call(n).slice(8,-1);return"Object"===r&&n.constructor&&(r=n.constructor.name),"Map"===r||"Set"===r?e(n):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?N(n,t):void 0}}function N(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}var m=(0,T.default)(),v=m.isBrowser,A={},O=function(e,n){var t,r="";return-1!==e[n].search(u.AUDIO)?t=E.default.meetings.bandwidth.audio:(t=E.default.meetings.bandwidth.video,r=u.SDP.PERIODIC_KEYFRAME,e.splice(n+2,0,r)),e.splice(n+1,0,"".concat(u.SDP.B_LINE,":").concat(t)),e},P=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:u.QUALITY_LEVELS.HIGH;if(!u.MAX_FRAMESIZES[n])throw new C.default('setMaxFs: unable to set max framesize, value for level "'.concat(n,'" is not defined'));var t=e,r="".concat(u.SDP.MAX_FS).concat(u.MAX_FRAMESIZES[n]);return t=t.replace(/(\na=fmtp:(\d+).*level-asymmetry-allowed=1.*)/gi,"$1;".concat(r))},D=function(e){var n=e.match(/\nm=video.*/g),t=e.match(/\na=rtpmap:\d+\sH264.*/g);return!n||!!t},_=function(e){var n,t=S(d.default.parse(e).media);try{for(t.s();!(n=t.n()).done;){var r=n.value;if(r.candidates&&0===r.candidates.length)return l.default.logger.error("PeerConnectionManager:index#isSdpInvalid --\x3e iceCandidate: Ice candadate never completed"),"iceCandidate: Ice candadate never completed";if(0===r.candidates.filter(function(e){return!(e.type!==u.HOST||!e.ip.match(u.IPV4_REGEX))}).length)return l.default.logger.error("PeerConnectionManager:index#isSdpInvalid --\x3e iceCandidate: no IPV4 candidate present"),"iceCandidate: no IPV4 candidate present";if(u.SDP.BAD_MEDIA_PORTS.includes(r.port))return l.default.logger.error("PeerConnectionManager:index#isSdpInvalid --\x3e iceCandidate: Found invalid port number for the ice candidate"),"iceCandidate: Found invalid port number for the ice candidate";if(!r.icePwd||!r.iceUfrag)return l.default.logger.error("PeerConnectionManager:index#isSdpInvalid --\x3e iceCandidate: ice ufrag and password not found"),"iceCandidate: ice ufrag and password not found"}}catch(o){t.e(o)}finally{t.f()}return""},x=function(e){for(var n=e,t=n.split(u.SDP.CARRIAGE_RETURN),r=0;r<t.length;r+=1)-1!==t[r].search(u.SDP.M_LINE)&&(t=O(t,r));return n=t.join(u.SDP.CARRIAGE_RETURN)};A.setContentSlides=function(e){return e&&e.sdp&&(e.sdp+="".concat(u.SDP.A_CONTENT_SLIDES).concat(u.SDP.CARRIAGE_RETURN)),e},A.iceCandidate=function(e,n){var t=n.remoteQualityLevel;return new i.default(function(n,r){var o=setTimeout(function(){e.sdp=x(e.localDescription.sdp),e.sdp=P(e.sdp,t),_(e.sdp)?setTimeout(function(){var t=_(e.sdp);t?(l.default.logger.error("PeerConnectionManager:index#iceCandidate --\x3e SDP not valid after waiting."),r(new p.InvalidSdpError(t))):n(e)},u.RETRY_TIMEOUT):n(e)},u.ICE_TIMEOUT);e.onicecandidate=function(r){r.candidate||e.sdp||(e.sdp=x(e.localDescription.sdp),e.sdp=P(e.sdp,t),null!==r.candidate||_(e.sdp)||(clearTimeout(o),n(e)))}})},A.replaceTrack=function(e,n){try{var t=e.getSenders();t.length>0&&t.forEach(function(e){e.track&&e.track.kind===n.kind&&e.replaceTrack(n)})}catch(r){l.default.logger.error("PeerConnectionManager:index#replaceTrack --\x3e Error replacing track, ".concat(r))}},A.addStream=function(e,n){try{if(n&&!v("edge")){if(e.getSenders&&e.getSenders().find(function(e){return null!=e.track}))return void n.getTracks().forEach(function(n){A.replaceTrack(e,n)});n.getTracks().forEach(function(t){e.addTrack(t,n)})}else v("edge")&&e.addStream(n)}catch(t){l.default.logger.error("PeerConnectionManager:index#addStream --\x3e Error adding stream, error: ".concat(f.error))}},A.setRemoteSessionDetails=function(e,n,t,r){l.default.logger.log("PeerConnectionManager:index#setRemoteSessionDetails --\x3e Setting the remote description type: ".concat(n,"State: ").concat(e.signalingState));var o=t;return o||s.default.postEvent({event:f.eventType.REMOTE_SDP_RECEIVED,meetingId:r,data:{canProceed:!1,errors:[s.default.generateErrorPayload(2001,!0,f.error.name.MEDIA_ENGINE,"missing remoteSdp")]}}),e.signalingState===u.SDP.HAVE_LOCAL_OFFER||e.signalingState===u.SDP.STABLE&&n===u.SDP.OFFER?e.setRemoteDescription(new c.default.RTCSessionDescription({type:n,sdp:o})).then(function(){e.remoteDescription||s.default.postEvent({event:f.eventType.REMOTE_SDP_RECEIVED,meetingId:r})}).catch(function(e){l.default.logger.error("Peer-connection-manager:index#setRemoteDescription --\x3e ".concat(e," missing remotesdp"));var n=u.METRICS_OPERATIONAL_MEASURES.PEERCONNECTION_FAILURE,t={correlation_id:r,reason:e.message,stack:e.stack},o={type:e.name};return s.default.sendOperationalMetric(n,t,o),s.default.postEvent({event:f.eventType.REMOTE_SDP_RECEIVED,meetingId:r,data:{canProceed:!1,errors:[s.default.generateErrorPayload(2001,!0,e.name.MEDIA_ENGINE,"missing remoteSdp")]}})}):i.default.reject(new g.default("PeerConnection in wrong state"))},A.createOffer=function(e,n){var t=n.meetingId,r=n.remoteQualityLevel,o=n.enableRtx,a=n.enableExtmap;return l.default.logger.log("PeerConnectionManager:index#createOffer --\x3e creating a new offer"),e.createOffer().then(function(n){return o||(n.sdp=n.sdp.replace(/\r\na=rtpmap:\d+ rtx\/\d+/g,""),n.sdp=n.sdp.replace(/\r\na=fmtp:\d+ apt=\d+/g,"")),e.setLocalDescription(n)}).then(function(){return A.iceCandidate(e,{remoteQualityLevel:r})}).then(function(){if(e.sdp=x(e.localDescription.sdp),e.sdp=P(e.sdp,r),!D(e.sdp))throw new g.default("openH264 is downloading please Wait. Upload logs if not working on second try");return a||(e.sdp=e.sdp.replace(/\na=extmap.*/g,"")),A.setContentSlides(e),s.default.postEvent({event:f.eventType.LOCAL_SDP_GENERATED,meetingId:t}),e}).catch(function(n){if(l.default.logger.error("Peer-connection-manager:index#createOffer --\x3e ".concat(n)),n instanceof p.InvalidSdpError)s.default.sendOperationalMetric(u.METRICS_OPERATIONAL_MEASURES.INVALID_ICE_CANDIDATE,{correlation_id:t,code:n.code,reason:n.message});else{var r=u.METRICS_OPERATIONAL_MEASURES.PEERCONNECTION_FAILURE,o={correlation_id:t,reason:n.message,stack:n.stack},a={type:n.name};s.default.sendOperationalMetric(r,o,a)}throw s.default.postEvent({event:f.eventType.LOCAL_SDP_GENERATED,meetingId:t,data:{canProceed:!1,errors:[s.default.generateErrorPayload(2001,!0,n.name.MEDIA_ENGINE)]}}),A.close(e),n})},A.rollBackLocalDescription=function(e){return e.setLocalDescription(new RTCSessionDescription({type:u.SDP.ROLLBACK})).then(function(){return e}).catch(function(e){return l.default.logger.error("Peer-connection-manager:index#setLocalDescription --\x3e ".concat(e," ")),i.default.error(e)})},A.updatePeerConnection=function(e,n){var t=n.meetingId,r=n.remoteQualityLevel;l.default.logger.log("PeerConnectionManager:index#updatePeerConnection --\x3e updating the peerConnection with params: ".concat(e));var o=e.peerConnection,a=e.offerSdp;return A.createAnswer({peerConnection:o,offerSdp:a[0]},{meetingId:t,remoteQualityLevel:r}).then(function(e){return A.setContentSlides(e),i.default.resolve([e.sdp])})},A.createAnswer=function(e,n){var t=n.meetingId,r=n.remoteQualityLevel,o=e.peerConnection;return o.signalingState===u.SDP.HAVE_REMOTE_OFFER?i.default.resolve(o):A.setRemoteSessionDetails(o,u.OFFER,e.offerSdp,t).then(function(){return o.createAnswer(e.sdpConstraints)}).then(function(e){return o.setLocalDescription(e)}).then(function(){return A.iceCandidate(o,{remoteQualityLevel:r})}).then(function(){if(o.sdp=x(o.localDescription.sdp),o.sdp=P(o.sdp,r),!D(o.sdp))throw new g.default("openH264 is downloading please Wait. Upload logs if not working on second try");return o}).catch(function(e){if(e instanceof p.InvalidSdpError)s.default.sendOperationalMetric(u.METRICS_OPERATIONAL_MEASURES.INVALID_ICE_CANDIDATE,{correlation_id:t});else{var n=u.METRICS_OPERATIONAL_MEASURES.PEERCONNECTION_FAILURE,r={correlation_id:t,reason:e.message,stack:e.stack},o={type:e.name};s.default.sendOperationalMetric(n,r,o)}l.default.logger.error("PeerConnectionManager:index#setRemoteSessionDetails --\x3e Error creating remote session, error: ".concat(e))})},A.close=function(e){return l.default.logger.log("PeerConnectionManager:index#close --\x3e pc: close() -> attempting to close the peer connection"),e&&e.connectionState===u.PEER_CONNECTION_STATE.CLOSED?(l.default.logger.log("PeerConnectionManager:index#close --\x3e pc: close() -> connection already closed"),i.default.resolve()):(l.default.logger.log("PeerConnectionManager:index#close --\x3e pc: close() -> closing the mediaPeerConnection"),i.default.resolve().then(function(){e&&e.close&&e.close()}))},A.setPeerConnectionEvents=function(e){var n=e.mediaProperties.peerConnection,t=function(){e.reconnectionManager.iceState.resolve&&e.reconnectionManager.iceState.resolve(),e.reconnect({networkDisconnect:!0}),s.default.postEvent({event:f.eventType.ICE_END,meeting:e,data:{canProceed:!1,errors:[s.default.generateErrorPayload(2004,!1,f.error.name.MEDIA_ENGINE)]}}),e.uploadLogs({file:"peer-connection-manager/index",function:"connectionFailed"}),s.default.sendOperationalMetric(u.METRICS_OPERATIONAL_MEASURES.CONNECTION_FAILURE,{correlation_id:e.correlationId,locus_id:e.locusId})};n.oniceconnectionstatechange=function(){switch(l.default.logger.info("PeerConnectionManager:index#setPeerConnectionEvents --\x3e ICE STATE CHANGE."),n.iceConnectionState){case u.ICE_STATE.CHECKING:l.default.logger.info("PeerConnectionManager:index#setPeerConnectionEvents --\x3e ICE STATE CHECKING."),s.default.postEvent({event:f.eventType.ICE_START,meeting:e});break;case u.ICE_STATE.COMPLETED:l.default.logger.info("PeerConnectionManager:index#setPeerConnectionEvents --\x3e ICE STATE COMPLETED.");break;case u.ICE_STATE.CONNECTED:s.default.postEvent({event:f.eventType.ICE_END,meeting:e}),e.setNetworkStatus(u.NETWORK_STATUS.CONNECTED),e.reconnectionManager.iceReconnected(),l.default.logger.info("PeerConnectionManager:index#setPeerConnectionEvents --\x3e ICE STATE CONNECTED.");break;case u.ICE_STATE.CLOSED:l.default.logger.info("PeerConnectionManager:index#setPeerConnectionEvents --\x3e ICE STATE CLOSED.");break;case u.ICE_STATE.DISCONNECTED:e.setNetworkStatus(u.NETWORK_STATUS.DISCONNECTED),e.reconnectionManager.waitForIceReconnect().catch(function(){l.default.logger.info("PeerConnectionManager:index#setPeerConnectionEvents --\x3e ICE STATE DISCONNECTED. Automatic Reconnection Timed Out."),t()}),l.default.logger.info("PeerConnectionManager:index#setPeerConnectionEvents --\x3e ICE STATE DISCONNECTED.");break;case u.ICE_STATE.FAILED:l.default.logger.info("PeerConnectionManager:index#setPeerConnectionEvents --\x3e ICE STATE FAILED."),t()}},n.onconnectionstatechange=function(){switch(l.default.logger.info("PeerConnectionManager:index#setPeerConnectionEvents --\x3e CONNECTION STATE CHANGE."),n.connectionState){case u.CONNECTION_STATE.NEW:l.default.logger.info("PeerConnectionManager:index#setPeerConnectionEvents --\x3e CONNECTION STATE NEW.");break;case u.CONNECTION_STATE.CONNECTING:l.default.logger.info("PeerConnectionManager:index#setPeerConnectionEvents --\x3e CONNECTION STATE CONNECTING.");break;case u.CONNECTION_STATE.CONNECTED:l.default.logger.info("PeerConnectionManager:index#setPeerConnectionEvents --\x3e CONNECTION STATE CONNECTED.");break;case u.CONNECTION_STATE.CLOSED:l.default.logger.info("PeerConnectionManager:index#setPeerConnectionEvents --\x3e CONNECTION STATE CLOSED.");break;case u.CONNECTION_STATE.DISCONNECTED:l.default.logger.info("PeerConnectionManager:index#setPeerConnectionEvents --\x3e CONNECTION STATE DISCONNECTED.");break;case u.CONNECTION_STATE.FAILED:l.default.logger.info("PeerConnectionManager:index#setPeerConnectionEvents --\x3e CONNECTION STATE FAILED."),t()}}};var R=A;exports.default=R;
},{"@babel/runtime-corejs2/core-js/array/from":"ybNn","@babel/runtime-corejs2/core-js/symbol":"mr6k","@babel/runtime-corejs2/core-js/symbol/iterator":"uGl8","@babel/runtime-corejs2/core-js/array/is-array":"BpbX","@babel/runtime-corejs2/core-js/object/define-property":"eIqn","@babel/runtime-corejs2/helpers/interopRequireDefault":"LXwi","@babel/runtime-corejs2/core-js/promise":"eOfj","global/window":"tALL","sdp-transform":"ka43","../metrics":"LvoJ","../common/logs/logger-proxy":"NeTJ","../common/config":"diJ3","../constants":"swzz","../metrics/config":"Ch1R","../common/errors/media":"m1Wz","../common/errors/parameter":"xdH9","../common/errors/webex-errors":"OsWy","../common/browser-detection":"NB7u"}],"vaQG":[function(require,module,exports) {
"use strict";var e=require("@babel/runtime-corejs2/core-js/reflect/construct"),r=require("@babel/runtime-corejs2/core-js/object/define-property"),t=require("@babel/runtime-corejs2/helpers/interopRequireDefault");r(exports,"__esModule",{value:!0}),exports.default=void 0;var u=t(require("@babel/runtime-corejs2/helpers/classCallCheck")),n=t(require("@babel/runtime-corejs2/helpers/inherits")),o=t(require("@babel/runtime-corejs2/helpers/possibleConstructorReturn")),i=t(require("@babel/runtime-corejs2/helpers/getPrototypeOf")),s=t(require("@babel/runtime-corejs2/helpers/wrapNativeSuper")),a=require("../../constants");function l(r){var t=c();return function(){var u,n=(0,i.default)(r);if(t){var s=(0,i.default)(this).constructor;u=e(n,arguments,s)}else u=n.apply(this,arguments);return(0,o.default)(this,u)}}function c(){if("undefined"==typeof Reflect||!e)return!1;if(e.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(e(Boolean,[],function(){})),!0}catch(r){return!1}}var f=function(e){(0,n.default)(t,e);var r=l(t);function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a.ERROR_DICTIONARY.RECONNECTION.MESSAGE,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return(0,u.default)(this,t),(e=r.call(this,n)).name=a.ERROR_DICTIONARY.RECONNECTION.NAME,e.sdkMessage=a.ERROR_DICTIONARY.RECONNECTION.MESSAGE,e.error=o,e.stack=o?o.stack:(new Error).stack,e.code=a.ERROR_DICTIONARY.RECONNECTION.CODE,e}return t}((0,s.default)(Error));exports.default=f;
},{"@babel/runtime-corejs2/core-js/reflect/construct":"vZQy","@babel/runtime-corejs2/core-js/object/define-property":"eIqn","@babel/runtime-corejs2/helpers/interopRequireDefault":"LXwi","@babel/runtime-corejs2/helpers/classCallCheck":"Tzth","@babel/runtime-corejs2/helpers/inherits":"CdTE","@babel/runtime-corejs2/helpers/possibleConstructorReturn":"w9GY","@babel/runtime-corejs2/helpers/getPrototypeOf":"Qxr1","@babel/runtime-corejs2/helpers/wrapNativeSuper":"y1h1","../../constants":"swzz"}],"frLi":[function(require,module,exports) {
"use strict";var e=require("@babel/runtime-corejs2/core-js/object/keys"),r=require("@babel/runtime-corejs2/core-js/object/get-own-property-symbols"),t=require("@babel/runtime-corejs2/core-js/object/get-own-property-descriptor"),i=require("@babel/runtime-corejs2/core-js/object/get-own-property-descriptors"),a=require("@babel/runtime-corejs2/core-js/object/define-properties"),n=require("@babel/runtime-corejs2/core-js/object/define-property"),o=require("@babel/runtime-corejs2/helpers/interopRequireDefault");n(exports,"__esModule",{value:!0}),exports.default=void 0;var d=o(require("@babel/runtime-corejs2/helpers/defineProperty")),c=o(require("@babel/runtime-corejs2/core-js/promise")),s=o(require("@babel/runtime-corejs2/core-js/json/stringify")),u=o(require("../common/logs/logger-proxy")),l=require("../constants"),v=o(require("../config")),f=o(require("../peer-connection-manager")),h=o(require("../common/errors/reconnection")),g=o(require("../common/errors/media")),m=o(require("../common/browser-detection"));function p(i,a){var n=e(i);if(r){var o=r(i);a&&(o=o.filter(function(e){return t(i,e).enumerable})),n.push.apply(n,o)}return n}function T(e){for(var r=1;r<arguments.length;r++){var o=null!=arguments[r]?arguments[r]:{};r%2?p(Object(o),!0).forEach(function(r){(0,d.default)(e,r,o[r])}):i?a(e,i(o)):p(Object(o)).forEach(function(r){n(e,r,t(o,r))})}return e}var k=(0,m.default)(),b=k.isBrowser,x={setLocalTrack:function(e,r){return!!r&&(r.enabled=e,!0)},reconnectMedia:function(e,r){var t=r.meetingId,i=r.remoteQualityLevel,a=r.enableRtx,n=r.enableExtmap;return e.connectionState===l.PEER_CONNECTION_STATE.CLOSED||e.connectionState===l.PEER_CONNECTION_STATE.FAILED?c.default.reject(new h.default("Reinitiate peerconnection")):f.default.createOffer(e,{meetingId:t,remoteQualityLevel:i,enableRtx:a,enableExtmap:n})},generateLocalMedias:function(e,r,t){return e?[{localSdp:(0,s.default)({audioMuted:r,videoMuted:t}),mediaId:e}]:[]},getLocalMedia:function(e,r){var t=e.sendAudio,i=e.sendVideo,a=e.sendShare,n=e.sharePreferences,o=e.isSharing;return t||i?x.getMedia(t,i,r):a&&!o?x.getDisplayMedia({sendAudio:!1,sendShare:!0,sharePreferences:n},r):c.default.resolve(void 0)},checkTracks:function(e,r,t){var i=function(e,r){return e&&r?"sendrecv":e&&!r?"sendonly":!e&&r?"recvonly":"inactive"};return r?{track:r,direction:i(!!r,t)}:{track:e,direction:i(!!r,t)}},attachMedia:function(e,r){var t=r.meetingId,i=r.remoteQualityLevel,a=r.enableRtx,n=r.enableExtmap,o=e.mediaDirection,d=e.audioTrack,c=e.videoTrack,s=e.shareTrack,l=e.peerConnection,v=null;return v=x.checkTracks("audio",o.sendAudio&&d,o.receiveAudio),l.audioTransceiver=l.addTransceiver(v.track,{direction:v.direction}),v=x.checkTracks("video",o.sendVideo&&c,o.receiveVideo),l.videoTransceiver=l.addTransceiver(v.track,{direction:v.direction}),v=x.checkTracks("video",o.sendShare&&s,o.receiveShare),l.shareTransceiver=l.addTransceiver(v.track,{direction:v.direction}),l.onnegotiationneeded=function(e){u.default.logger.info("Media:index#attachMedia --\x3e onnegotiationneeded#PeerConnection: ".concat(e))},f.default.createOffer(l,{meetingId:t,remoteQualityLevel:i,enableRtx:a,enableExtmap:n})},updateMedia:function(e,r){var t=r.meetingId,i=r.remoteQualityLevel,a=r.enableRtx,n=r.enableExtmap,o=e.mediaDirection,d=e.audioTrack,c=e.videoTrack,s=e.shareTrack,l=e.peerConnection;return x.setTrackOnTransceiver(l.audioTransceiver,{type:"audio",track:d,sendTrack:o.sendAudio&&d,receiveTrack:o.receiveAudio}),x.setTrackOnTransceiver(l.videoTransceiver,{type:"video",track:c,sendTrack:o.sendVideo&&c,receiveTrack:o.receiveVideo}),x.setTrackOnTransceiver(l.shareTransceiver,{type:"video",track:s,sendTrack:o.sendShare&&s,receiveTrack:o.receiveShare}),l.onnegotiationneeded=function(e){u.default.logger.info("Media:index#updateMedia --\x3e onnegotiationneeded#PeerConnection: ".concat(e))},f.default.createOffer(l,{meetingId:t,remoteQualityLevel:i,enableRtx:a,enableExtmap:n})},setTrackOnTransceiver:function(e,r){var t=r.type,i=r.track,a=r.sendTrack,n=r.receiveTrack;try{var o=x.checkTracks(t,a&&i,n);e.direction=o.direction,r.track&&e.sender.replaceTrack(i)}catch(d){throw u.default.logger.error("Media:index#setTrackOnTransceiver --\x3e ".concat(d)),d}},updateTransceiver:function(e,r,t,i){var a=e.meetingId,n=e.remoteQualityLevel,o=e.enableRtx,d=e.enableExtmap;return x.setTrackOnTransceiver(t,i),f.default.createOffer(r,{meetingId:a,remoteQualityLevel:n,enableRtx:o,enableExtmap:d})},getDisplayMedia:function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=r.screenResolution||{},i=r.screenFrameRate||null,a=e.sharePreferences,n=a&&a.shareConstraints,o=a&&a.highFrameRate,d=v.default.meetings,c=d.screenResolution,s=d.resolution,u=d.videoShareFrameRate,f=d.screenFrameRate,h=d.aspectRatio,g={cursor:l.MEDIA_TRACK_CONSTRAINT.CURSOR.AWLAYS,aspectRatio:h};if(g=n?a.shareConstraints:o?T(T({},g),{},{frameRate:u,height:s.idealHeight,width:s.idealWidth},r.resolution):T(T({},g),{},{frameRate:i||f,height:t.idealHeight||c.idealHeight,width:t.idealWidth||c.idealWidth},r.screenResolution),b("firefox")){var m={audio:e.sendAudio,video:e.sendShare};return navigator.mediaDevices.getDisplayMedia({audio:e.sendAudio,video:m}).then(function(r){return e.sendShare&&r.getVideoTracks().length>0&&r.getVideoTracks()[0].applyConstraints(g),r})}var p={video:!!e.sendShare&&g};return e.sendAudio&&b("safari")&&(p.audio=e.sendAudio),navigator.mediaDevices.getDisplayMedia(p)},getMedia:function(e,r,t){var i={ideal:t.resolution.idealWidth,max:t.resolution.maxWidth},a={ideal:t.resolution.idealHeight,max:t.resolution.maxHeight},n={audio:e,video:!!r&&(b("firefox")&&r.width&&320===r.width.max?{deviceId:r.deviceId?r.deviceId:void 0,width:320,height:180}:{deviceId:r.deviceId?r.deviceId:void 0,width:r.width?r.width:i,height:r.height?r.height:a}),fake:!1};return navigator.mediaDevices.getUserMedia(n).catch(function(e){throw u.default.logger.error("".concat("Media:index#getMedia --\x3e navigator.mediaDevices.getUserMedia"," failed - ").concat(e," (").concat(e.constraint,")")),e})},getSupportedDevice:function(e){var r=e.sendAudio,t=e.sendVideo;return c.default.resolve().then(function(){return navigator.mediaDevices&&void 0!==navigator.mediaDevices.enumerateDevices?navigator.mediaDevices.enumerateDevices().then(function(e){var i={audio:e.filter(function(e){return e.kind===l.AUDIO_INPUT}).length>0,video:e.filter(function(e){return e.kind===l.VIDEO_INPUT}).length>0};return{sendAudio:i.audio&&r,sendVideo:i.video&&t}}):{sendAudio:!1,sendVideo:!1}})},getDevices:function(){return navigator&&navigator.mediaDevices&&navigator.mediaDevices.enumerateDevices?navigator.mediaDevices.enumerateDevices():c.default.reject(new g.default("enumerateDevices not supported."))},toggleStream:function(){},stopTracks:function(e){return e?c.default.resolve().then(function(){if(e&&e.stop)try{e.stop()}catch(r){u.default.logger.error("Media:index#stopTracks --\x3e Unable to stop the track with state ".concat(e.readyState,", error: ").concat(r))}}):c.default.resolve()},stopStream:function(e){return u.default.logger.warn("Media:index#stopStream --\x3e [DEPRECATION WARNING]: stopStream has been deprecated after v1.89.3"),e?c.default.resolve().then(function(){e.getTracks?e.getTracks().forEach(function(e){e.stop()}):e.stop&&e.stop()}):c.default.resolve()},getUserMedia:function(e,r,t,i){return x.getLocalMedia({sendAudio:!!e.sendAudio&&(r.audio||e.sendAudio),sendVideo:!!e.sendVideo&&(r.video||e.sendVideo)},i).then(function(r){return x.getLocalMedia({sendShare:e.sendShare,isSharing:e.isSharing,sharePreferences:t},i).then(function(e){return[r,e]})})}},y=x;exports.default=y;
},{"@babel/runtime-corejs2/core-js/object/keys":"d81a","@babel/runtime-corejs2/core-js/object/get-own-property-symbols":"DovH","@babel/runtime-corejs2/core-js/object/get-own-property-descriptor":"mQ9c","@babel/runtime-corejs2/core-js/object/get-own-property-descriptors":"Hv1v","@babel/runtime-corejs2/core-js/object/define-properties":"CpmN","@babel/runtime-corejs2/core-js/object/define-property":"eIqn","@babel/runtime-corejs2/helpers/interopRequireDefault":"LXwi","@babel/runtime-corejs2/helpers/defineProperty":"n5FU","@babel/runtime-corejs2/core-js/promise":"eOfj","@babel/runtime-corejs2/core-js/json/stringify":"E09K","../common/logs/logger-proxy":"NeTJ","../constants":"swzz","../config":"ItFm","../peer-connection-manager":"mZnB","../common/errors/reconnection":"vaQG","../common/errors/media":"m1Wz","../common/browser-detection":"NB7u"}],"HKKO":[function(require,module,exports) {
"use strict";var e=require("@babel/runtime-corejs2/core-js/object/define-property"),t=require("@babel/runtime-corejs2/helpers/interopRequireDefault");e(exports,"__esModule",{value:!0}),exports.default=void 0;var r=t(require("@babel/runtime-corejs2/core-js/object/assign")),i=t(require("lodash/forEach")),a=require("../constants"),o=t(require("../common/errors/parameter")),n={generateSingularOptions:function(e,t,r,i){var a={};a[i]={},a[i][e.correlate]=e,n.generateOptions(a,t,r)},generateOptions:function(e,t,r){if(!e||!t||!r)throw new o.default("stats/util->validateInitialization#options, config, and meeting must be provided to execute getStats");n.configOptions(r,t,e,a.STATS.SENDERS),n.configOptions(r,t,e,a.STATS.RECEIVERS)},configOptions:function(e,t,a,n){a[n]&&(0,i.default)(a[n],function(i){if(!i.correlate)throw new o.default("stats/util->validateInitialization#each ".concat(i," must be provided with a correlate as audio OR video OR share."));if(t[n][i.correlate]){var a=t[n][i.correlate],s=e[a.parent][a.peerConnection],c=s[a.transceiver][a.child];(0,r.default)(i,{media:s,filter:c,name:a.name})}})}},s=n;exports.default=s;
},{"@babel/runtime-corejs2/core-js/object/define-property":"eIqn","@babel/runtime-corejs2/helpers/interopRequireDefault":"LXwi","@babel/runtime-corejs2/core-js/object/assign":"h2Mz","lodash/forEach":"cTKO","../constants":"swzz","../common/errors/parameter":"xdH9"}],"Cibp":[function(require,module,exports) {
"use strict";var e=require("@babel/runtime-corejs2/core-js/object/define-property"),t=require("@babel/runtime-corejs2/helpers/interopRequireDefault");e(exports,"__esModule",{value:!0}),exports.default=void 0;var r=t(require("@babel/runtime-corejs2/helpers/classCallCheck")),i=t(require("@babel/runtime-corejs2/helpers/createClass")),s=function(){function e(t){(0,r.default)(this,e),this.history=[],this.max=t}return(0,i.default)(e,[{key:"get",value:function(){return this.history}},{key:"clear",value:function(){this.history=[]}},{key:"getAt",value:function(e){return this.history[e]}},{key:"getMostRecent",value:function(){return this.history.length>1?this.getAt(0):null}},{key:"getComparable",value:function(){return{previous:this.getMostRecent(),current:this.history.length>2?this.getAt(1):null}}},{key:"getSlice",value:function(e){return this.history.slice(0,e)}},{key:"add",value:function(e){var t=null;return this.history.length>=this.max&&(t=this.history.pop()),this.history.unshift(e),t}}]),e}();exports.default=s;
},{"@babel/runtime-corejs2/core-js/object/define-property":"eIqn","@babel/runtime-corejs2/helpers/interopRequireDefault":"LXwi","@babel/runtime-corejs2/helpers/classCallCheck":"Tzth","@babel/runtime-corejs2/helpers/createClass":"xM5U"}],"k2t3":[function(require,module,exports) {
"use strict";var e=require("@babel/runtime-corejs2/core-js/reflect/construct"),t=require("@babel/runtime-corejs2/core-js/object/define-property"),r=require("@babel/runtime-corejs2/helpers/interopRequireDefault");t(exports,"__esModule",{value:!0}),exports.default=void 0;var n=r(require("@babel/runtime-corejs2/helpers/classCallCheck")),i=r(require("@babel/runtime-corejs2/helpers/createClass")),a=r(require("@babel/runtime-corejs2/helpers/assertThisInitialized")),u=r(require("@babel/runtime-corejs2/helpers/inherits")),o=r(require("@babel/runtime-corejs2/helpers/possibleConstructorReturn")),s=r(require("@babel/runtime-corejs2/helpers/getPrototypeOf")),l=r(require("@babel/runtime-corejs2/core-js/weak-map")),c=require("events"),f=require("readable-stream"),p=require("@webex/common-timers"),h=require("../constants");function d(t){var r=b();return function(){var n,i=(0,s.default)(t);if(r){var a=(0,s.default)(this).constructor;n=e(i,arguments,a)}else n=i.apply(this,arguments);return(0,o.default)(this,n)}}function b(){if("undefined"==typeof Reflect||!e)return!1;if(e.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(e(Boolean,[],function(){})),!0}catch(t){return!1}}var v=new l.default,m=new l.default,R=new l.default,T=new l.default,j=new l.default,q=function e(t,r){var n=(0,p.safeSetTimeout)(function(){var n=R.get(t),i=v.get(n);n&&n.getStats().then(function(n){t.emit(h.STATS.DATA,n),i.signalingState!==h.STATS.CLOSED&&i.connectionState!==h.STATS.CLOSED&&e(t,r)}).catch(function(e){t.emit(h.ERROR,e)})},r);j.set(t,n)},S=function(e){(0,u.default)(r,e);var t=d(r);function r(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,n.default)(this,r),(e=t.call(this,{objectMode:!0})).interval=i.interval,m.has(i.rTCRtpDirection)||m.set(i.rTCRtpDirection,new c.EventEmitter);var u=m.get(i.rTCRtpDirection);return T.has((0,a.default)(e))||T.set((0,a.default)(e),u),R.has(u)||R.set(u,i.rTCRtpDirection),v.has(i.rTCRtpDirection)||v.set(i.rTCRtpDirection,i.peerConnection),u.once(h.ERROR,function(t){e.emit(h.ERROR,t)}),e}return(0,i.default)(r,[{key:"_read",value:function(){var e=this,t=T.get(this);t.once(h.STATS.DATA,function(t){e.isPaused()||e.push(t)}),j.has(t)||q(t,this.interval)}}]),r}(f.Readable);exports.default=S;
},{"@babel/runtime-corejs2/core-js/reflect/construct":"vZQy","@babel/runtime-corejs2/core-js/object/define-property":"eIqn","@babel/runtime-corejs2/helpers/interopRequireDefault":"LXwi","@babel/runtime-corejs2/helpers/classCallCheck":"Tzth","@babel/runtime-corejs2/helpers/createClass":"xM5U","@babel/runtime-corejs2/helpers/assertThisInitialized":"YqR0","@babel/runtime-corejs2/helpers/inherits":"CdTE","@babel/runtime-corejs2/helpers/possibleConstructorReturn":"w9GY","@babel/runtime-corejs2/helpers/getPrototypeOf":"Qxr1","@babel/runtime-corejs2/core-js/weak-map":"HKHU","events":"FRpO","readable-stream":"tzeh","@webex/common-timers":"oZaC","../constants":"swzz"}],"iUau":[function(require,module,exports) {
"use strict";var e=require("@babel/runtime-corejs2/core-js/object/define-property"),r=require("@babel/runtime-corejs2/helpers/interopRequireDefault");e(exports,"__esModule",{value:!0}),exports.default=void 0;var i=r(require("lodash/forEach")),t=r(require("lodash/find")),n=r(require("lodash/keys")),o=require("../constants"),E=r(require("../common/browser-detection")),u=(0,E.default)(),s=u.isBrowser,F={isFF:s("firefox"),simplify:function(e){return(0,t.default)((0,n.default)(F.isFF?o.DEFAULT_FF_TRANSFORM_REGEX:o.DEFAULT_TRANSFORM_REGEX),function(r){var i;if(i=F.isFF?!!o.DEFAULT_FF_TRANSFORM_REGEX[r].regex.test("".concat(e.type).concat(e.kind?"_".concat(e.kind):"","_").concat(e.id))&&r:!!o.DEFAULT_TRANSFORM_REGEX[r].regex.test(e.id)&&r){if(o.DEFAULT_TRANSFORM_REGEX[i].decider)return e[o.DEFAULT_TRANSFORM_REGEX[i].decider]!==o.DEFAULT_TRANSFORM_REGEX[i].selector&&(i=!1),i;if(o.DEFAULT_TRANSFORM_REGEX[i].profiler){var t=e[o.DEFAULT_TRANSFORM_REGEX[i].profiler.type];if(!(t&&t.includes(o.DEFAULT_TRANSFORM_REGEX[i].profiler.value)&&i.toLowerCase().includes(o.DEFAULT_TRANSFORM_REGEX[i].profiler.value)))return i=!1}}return i})},parse:function(e){var r={};return e&&e.forEach&&e.size>0&&e.forEach(function(e){e&&e.type&&o.DEFAULT_GET_STATS_FILTER.types.includes(e.type)&&(r[e.id]=e)}),r},convert:function(e,r){if(r.simplifyFn)return r.simplifyFn(e);var t={};return(0,i.default)(e,function(e){var r=F.simplify(e);r&&(t[r]=e)}),t},transform:function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{simplifyFn:void 0},i=F.parse(e);return o.DEFAULT_TRANSFORM_REGEX?F.convert(i,r):i}},R=F;exports.default=R;
},{"@babel/runtime-corejs2/core-js/object/define-property":"eIqn","@babel/runtime-corejs2/helpers/interopRequireDefault":"LXwi","lodash/forEach":"cTKO","lodash/find":"y1nO","lodash/keys":"HI10","../constants":"swzz","../common/browser-detection":"NB7u"}],"roGO":[function(require,module,exports) {
"use strict";var e=require("@babel/runtime-corejs2/core-js/object/define-property"),t=require("@babel/runtime-corejs2/helpers/interopRequireDefault");e(exports,"__esModule",{value:!0}),exports.default=void 0;var r=t(require("@babel/runtime-corejs2/core-js/object/keys")),u=t(require("@babel/runtime-corejs2/helpers/classCallCheck")),a=t(require("@babel/runtime-corejs2/helpers/createClass")),i=t(require("lodash/omit")),s=t(require("lodash/isEmpty")),l=t(require("uuid")),o=require("../constants"),n=function(){function e(t){(0,u.default)(this,e),this.data=t,this.id=l.default.v4()}return(0,a.default)(e,[{key:"omit",value:function(){var e=this,t={};return(0,r.default)(this.data).forEach(function(r){t[r]=(0,i.default)(e.data[r],o.DEFAULT_OMISSION_DATA_KEYS)}),t}},{key:"isEmpty",value:function(){return(0,s.default)(this.data)}},{key:"getId",value:function(){return this.id}},{key:"getData",value:function(){return this.data}}]),e}();exports.default=n;
},{"@babel/runtime-corejs2/core-js/object/define-property":"eIqn","@babel/runtime-corejs2/helpers/interopRequireDefault":"LXwi","@babel/runtime-corejs2/core-js/object/keys":"d81a","@babel/runtime-corejs2/helpers/classCallCheck":"Tzth","@babel/runtime-corejs2/helpers/createClass":"xM5U","lodash/omit":"J2GV","lodash/isEmpty":"BBRi","uuid":"wQtZ","../constants":"swzz"}],"DcnT":[function(require,module,exports) {
"use strict";var e=require("@babel/runtime-corejs2/core-js/reflect/construct"),r=require("@babel/runtime-corejs2/core-js/object/define-property"),t=require("@babel/runtime-corejs2/helpers/interopRequireDefault");r(exports,"__esModule",{value:!0}),exports.default=void 0;var u=t(require("@babel/runtime-corejs2/helpers/classCallCheck")),a=t(require("@babel/runtime-corejs2/helpers/createClass")),s=t(require("@babel/runtime-corejs2/helpers/inherits")),n=t(require("@babel/runtime-corejs2/helpers/possibleConstructorReturn")),o=t(require("@babel/runtime-corejs2/helpers/getPrototypeOf")),i=require("readable-stream"),l=t(require("../stats/transformer")),f=t(require("../stats/data"));function c(r){var t=p();return function(){var u,a=(0,o.default)(r);if(t){var s=(0,o.default)(this).constructor;u=e(a,arguments,s)}else u=a.apply(this,arguments);return(0,n.default)(this,u)}}function p(){if("undefined"==typeof Reflect||!e)return!1;if(e.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(e(Boolean,[],function(){})),!0}catch(r){return!1}}var b=function(e){(0,s.default)(t,e);var r=c(t);function t(){return(0,u.default)(this,t),r.call(this,{objectMode:!0})}return(0,a.default)(t,[{key:"_transform",value:function(e,r,t){if(e){var u=l.default.transform(e),a=new f.default(u);this.push({data:a}),t()}else t()}}]),t}(i.Transform);exports.default=b;
},{"@babel/runtime-corejs2/core-js/reflect/construct":"vZQy","@babel/runtime-corejs2/core-js/object/define-property":"eIqn","@babel/runtime-corejs2/helpers/interopRequireDefault":"LXwi","@babel/runtime-corejs2/helpers/classCallCheck":"Tzth","@babel/runtime-corejs2/helpers/createClass":"xM5U","@babel/runtime-corejs2/helpers/inherits":"CdTE","@babel/runtime-corejs2/helpers/possibleConstructorReturn":"w9GY","@babel/runtime-corejs2/helpers/getPrototypeOf":"Qxr1","readable-stream":"tzeh","../stats/transformer":"iUau","../stats/data":"roGO"}],"YgL0":[function(require,module,exports) {
var e=require("./_root"),r=e.isFinite;function o(e){return"number"==typeof e&&r(e)}module.exports=o;
},{"./_root":"MIhM"}],"tHss":[function(require,module,exports) {
"use strict";var e=require("@babel/runtime-corejs2/core-js/object/define-property"),a=require("@babel/runtime-corejs2/helpers/interopRequireDefault");e(exports,"__esModule",{value:!0}),exports.default=void 0;var r=a(require("@babel/runtime-corejs2/core-js/set")),i=a(require("lodash/isArray")),t=a(require("lodash/isFinite")),s=a(require("lodash/forEach")),l=require("../constants"),n=a(require("../common/errors/parameter")),d={analyze:function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{analysisKeys:l.ANALYSIS_STATS.DEFAULT_KEYS};if(!((0,i.default)(e)&&e.length&&a&&(0,i.default)(a.analysisKeys)&&a.analysisKeys.length))throw new n.default("analyzer->analyze#series must be defined as a nonempty array of WebRTCData objects, and options.analysisKeys must be a nonempty array of strings, representing the properties to analyze.");var d=new r.default(a.analysisKeys),o={valid:!0,failed:{},data:{}};return d.forEach(function(a){var r=a.key;o.data[r]={valid:!0,reports:[]},o.failed[r]=[];for(var i={value:0},n=0,d=function(d){var u={};(0,s.default)(e[d].data.getData()[a.prop],function(e){var s=e[r];s&&(0,t.default)(s)&&(u.value=s,u.difference=0,u.valid=!1,u.index=n,u.difference=u.value-i.value,a.check===l.ANALYSIS_CHECKS.INCREASING&&u.difference>0?u.valid=!0:a.check===l.ANALYSIS_CHECKS.DECREASING&&u.difference<0?u.valid=!0:a.check===l.ANALYSIS_CHECKS.CONSTANT?u.valid=!0:u.valid=!1,u.valid||(o.data[r].valid=!1,o.valid=!1,o.failed[r].push(d)),i=u,o.data[r].reports.push(u))}),n+=1},u=e.length-1;u>0;u-=1)d(u);o.data[r].valid||(o.valid=!1)}),o}},o=d;exports.default=o;
},{"@babel/runtime-corejs2/core-js/object/define-property":"eIqn","@babel/runtime-corejs2/helpers/interopRequireDefault":"LXwi","@babel/runtime-corejs2/core-js/set":"OoUO","lodash/isArray":"p0cq","lodash/isFinite":"YgL0","lodash/forEach":"cTKO","../constants":"swzz","../common/errors/parameter":"xdH9"}],"V3Xs":[function(require,module,exports) {
"use strict";var e=require("@babel/runtime-corejs2/core-js/object/define-property"),t=require("@babel/runtime-corejs2/helpers/interopRequireDefault");e(exports,"__esModule",{value:!0}),exports.default=void 0;var r=t(require("@babel/runtime-corejs2/helpers/classCallCheck")),i=t(require("@babel/runtime-corejs2/helpers/createClass")),s=t(require("@babel/runtime-corejs2/helpers/defineProperty")),a=t(require("../analyzer/analyzer")),E=require("../constants"),n=function(e,t,r,i,s){var a={};return a.found=r.some(function(r){return!!(e[r]&&e[r][i]&&e[r][i]>0)&&(a.match={type:t,key:r,data:e[r],stat:i,kind:s},!0)}),a},l=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};(0,r.default)(this,e),(0,s.default)(this,"namespace",E.MEETINGS),this.series=t,this.callback=i,this.first=null,this.sendRemainStopped=!1,this.recvRemainStopped=!1}return(0,i.default)(e,[{key:"start",value:function(e){if(e&&e.data&&e.data.getData()){var t=e.data.getData();if(t&&!this.first){var r=[n(t,E.EVENT_TYPES.LOCAL,E.DEFAULT_EVENT_AUDIO_SEND_KEYS,E.EVENT_STATS_MAP.BYTES_SENT,E.AUDIO),n(t,E.EVENT_TYPES.LOCAL,E.DEFAULT_EVENT_VIDEO_SEND_KEYS,E.EVENT_STATS_MAP.BYTES_SENT,E.VIDEO),n(t,E.EVENT_TYPES.REMOTE,E.DEFAULT_EVENT_VIDEO_RECEIVE_KEYS,E.EVENT_STATS_MAP.BYTES_RECEIVED,E.VIDEO),n(t,E.EVENT_TYPES.REMOTE,E.DEFAULT_EVENT_AUDIO_RECEIVE_KEYS,E.EVENT_STATS_MAP.BYTES_RECEIVED,E.AUDIO)].find(function(e){return e&&e.found&&e.match});if(r)return this.first=r.match,this.callback(this.first),r}}return null}},{key:"stop",value:function(){if(!this.series||this.series.get().length<5)return null;var e=this.series.getSlice(5),t=e[0]&&e[0].rtpOutAudio||e[0].rtpInAudio||e[0].rtpInVideo||e[0].rtpOutVideo,r=a.default.analyze(e,{analysisKeys:[{key:E.EVENT_STATS_MAP.BYTES_SENT,check:E.ANALYSIS_CHECKS.INCREASING,prop:t}]}),i=a.default.analyze(e,{analysisKeys:[{key:E.EVENT_STATS_MAP.BYTES_RECEIVED,check:E.ANALYSIS_CHECKS.INCREASING,prop:t}]});if(!r.valid&&r.data.bytesSent.reports.length>0){if(!this.sendRemainStopped){var s={stop:!0,stat:E.EVENT_STATS_MAP.BYTES_SENT};return this.callback(s),this.sendRemainStopped=!0,this.first=null,s}}else r.valid&&r.data.bytesSent.reports.length>0&&(this.sendRemainStopped=!1);if(!i.valid&&i.data.bytesReceived.reports.length>0){if(!this.recvRemainStopped){var n={stop:!0,stat:E.EVENT_STATS_MAP.BYTES_RECEIVED};return this.callback(n),this.recvRemainStopped=!0,this.first=null,n}}else i.valid&&i.data.bytesReceived.reports.length>0&&(this.recvRemainStopped=!1);return null}},{key:"event",value:function(e){return{start:this.start(e),stop:this.stop()}}}]),e}();exports.default=l;
},{"@babel/runtime-corejs2/core-js/object/define-property":"eIqn","@babel/runtime-corejs2/helpers/interopRequireDefault":"LXwi","@babel/runtime-corejs2/helpers/classCallCheck":"Tzth","@babel/runtime-corejs2/helpers/createClass":"xM5U","@babel/runtime-corejs2/helpers/defineProperty":"n5FU","../analyzer/analyzer":"tHss","../constants":"swzz"}],"O8V5":[function(require,module,exports) {
"use strict";var e=require("@babel/runtime-corejs2/core-js/reflect/construct"),r=require("@babel/runtime-corejs2/core-js/object/define-property"),t=require("@babel/runtime-corejs2/helpers/interopRequireDefault");r(exports,"__esModule",{value:!0}),exports.default=void 0;var u=t(require("@babel/runtime-corejs2/helpers/classCallCheck")),n=t(require("@babel/runtime-corejs2/helpers/inherits")),o=t(require("@babel/runtime-corejs2/helpers/possibleConstructorReturn")),i=t(require("@babel/runtime-corejs2/helpers/getPrototypeOf")),s=t(require("@babel/runtime-corejs2/helpers/wrapNativeSuper")),a=require("../../constants");function l(r){var t=c();return function(){var u,n=(0,i.default)(r);if(t){var s=(0,i.default)(this).constructor;u=e(n,arguments,s)}else u=n.apply(this,arguments);return(0,o.default)(this,u)}}function c(){if("undefined"==typeof Reflect||!e)return!1;if(e.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(e(Boolean,[],function(){})),!0}catch(r){return!1}}var f=function(e){(0,n.default)(t,e);var r=l(t);function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a.ERROR_DICTIONARY.STATS.MESSAGE,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return(0,u.default)(this,t),(e=r.call(this,n)).name=a.ERROR_DICTIONARY.STATS.NAME,e.sdkMessage=a.ERROR_DICTIONARY.STATS.MESSAGE,e.error=o,e.stack=o?o.stack:(new Error).stack,e.code=a.ERROR_DICTIONARY.STATS.CODE,e}return t}((0,s.default)(Error));exports.default=f;
},{"@babel/runtime-corejs2/core-js/reflect/construct":"vZQy","@babel/runtime-corejs2/core-js/object/define-property":"eIqn","@babel/runtime-corejs2/helpers/interopRequireDefault":"LXwi","@babel/runtime-corejs2/helpers/classCallCheck":"Tzth","@babel/runtime-corejs2/helpers/inherits":"CdTE","@babel/runtime-corejs2/helpers/possibleConstructorReturn":"w9GY","@babel/runtime-corejs2/helpers/getPrototypeOf":"Qxr1","@babel/runtime-corejs2/helpers/wrapNativeSuper":"y1h1","../../constants":"swzz"}],"b8Kx":[function(require,module,exports) {
"use strict";var e=require("@babel/runtime-corejs2/core-js/reflect/construct"),t=require("@babel/runtime-corejs2/core-js/object/define-property"),r=require("@babel/runtime-corejs2/helpers/interopRequireDefault");t(exports,"__esModule",{value:!0}),exports.default=void 0;var i=r(require("@babel/runtime-corejs2/helpers/classCallCheck")),s=r(require("@babel/runtime-corejs2/helpers/createClass")),n=r(require("@babel/runtime-corejs2/helpers/assertThisInitialized")),a=r(require("@babel/runtime-corejs2/helpers/inherits")),u=r(require("@babel/runtime-corejs2/helpers/possibleConstructorReturn")),o=r(require("@babel/runtime-corejs2/helpers/getPrototypeOf")),l=r(require("@babel/runtime-corejs2/helpers/defineProperty")),h=r(require("lodash/isFunction")),f=require("@webex/webex-core"),c=require("uuid"),d=require("../constants"),v=r(require("../stats/history")),y=r(require("../stats/stream")),p=r(require("../stats/filter")),m=r(require("../stats/events")),b=r(require("../common/errors/stats"));function w(t){var r=k();return function(){var i,s=(0,o.default)(t);if(r){var n=(0,o.default)(this).constructor;i=e(s,arguments,n)}else i=s.apply(this,arguments);return(0,u.default)(this,i)}}function k(){if("undefined"==typeof Reflect||!e)return!1;if(e.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(e(Boolean,[],function(){})),!0}catch(t){return!1}}var q=function(e){(0,a.default)(r,e);var t=w(r);function r(e,s,a){var u;return(0,i.default)(this,r),u=t.call(this,{},s),(0,l.default)((0,n.default)(u),"namespace",d.MEETINGS),u.attrs=e,u.options=s,u.peerConnection=null,u.RTCRtpDirection=null,u.history=null,u.mqa=null,u.stream=null,u.filter=null,u.events=null,u.id=null,u.populate(a),u}return(0,s.default)(r,[{key:"populate",value:function(e){if(e){if(e.history&&this.withHistory(),e.mqa&&this.withMQA(),e.filter&&!e.stream&&e.media&&this.withFilter(e.filter,e.media),e.stream&&!e.filter&&e.media&&this.withStream(e.stream,e.media),e.id&&this.withId(e.id),e.onClose){if(!(0,h.default)(e.onClose))throw new TypeError("stats->populate#onClose must be a callback function for filtered data.");this.onClose(e.onClose)}if(e.onEvent){if(!(0,h.default)(e.onEvent))throw new TypeError("stats->populate#onEvent must be a callback function for filtered data.");this.history?this.withEventsHistory(this.history,e.onEvent):this.withEvents(e.onEvent)}if(e.onData){if(!(0,h.default)(e.onData))throw new TypeError("stats->populate#onData must be a callback function for filtered data.");this.onData(e.onData)}}return this}},{key:"doHistory",value:function(e){this.history&&this.history.add(e)}},{key:"doMQA",value:function(e){this.mqa&&e.data&&(e.data.isEmpty()||this.mqa.add(e.data.omit()))}},{key:"doEvents",value:function(e){this.events&&this.events.event(e)}},{key:"onData",value:function(e){var t=this;if(!this.filter)throw new TypeError("The stats sender/receiver filter must be set up before data can be processed.");return this.filter.on(d.STATS.DATA,function(r){t.doHistory(r),t.doMQA(r),t.doEvents(r),e(r)}),this}},{key:"onClose",value:function(e){var t=this;if(!this.filter)throw new TypeError("the stats sender/receiver filter must be set up before data can be closed.");return this.stream.on(d.STATS.END,function(r){r||(r=new b.default("The stats stream for id: ".concat(t.id," ended."))),e(r)}),this}},{key:"withEventsHistory",value:function(e,t){var r=new m.default(e,t);return this.setEvents(r),this}},{key:"withEvents",value:function(e){var t=new m.default(null,e);return this.setEvents(t),this}},{key:"withHistory",value:function(){var e=new v.default(this.config.stats.historyMax);return this.setHistory(e),this}},{key:"withMQA",value:function(){var e=new v.default(d.MQA_STATS.MQA_SIZE);return this.setMQA(e),this}},{key:"withStream",value:function(e,t){var r=new y.default({rTCRtpDirection:e,peerConnection:t,interval:this.config.stats.interval});return this.setStream(r),this}},{key:"withFilter",value:function(e,t){return this.withStream(e,t),this.setFilter(new p.default),this.getStream().pipe(this.getFilter()),this}},{key:"withId",value:function(e){return e?this.setId(e):this.setId(c.uuid.v4()),this}},{key:"build",value:function(){return this}},{key:"setId",value:function(e){this.id=e}},{key:"setHistory",value:function(e){this.history=e}},{key:"setMQA",value:function(e){this.mqa=e}},{key:"setEvents",value:function(e){this.events=e}},{key:"setStream",value:function(e){this.stream=e}},{key:"setFilter",value:function(e){this.filter=e}},{key:"getId",value:function(){return this.id}},{key:"getHistory",value:function(){return this.history}},{key:"getMQA",value:function(){return this.mqa}},{key:"getEvents",value:function(){return this.events}},{key:"getStream",value:function(){return this.stream}},{key:"getFilter",value:function(){return this.filter}}]),r}(f.StatelessWebexPlugin);exports.default=q;
},{"@babel/runtime-corejs2/core-js/reflect/construct":"vZQy","@babel/runtime-corejs2/core-js/object/define-property":"eIqn","@babel/runtime-corejs2/helpers/interopRequireDefault":"LXwi","@babel/runtime-corejs2/helpers/classCallCheck":"Tzth","@babel/runtime-corejs2/helpers/createClass":"xM5U","@babel/runtime-corejs2/helpers/assertThisInitialized":"YqR0","@babel/runtime-corejs2/helpers/inherits":"CdTE","@babel/runtime-corejs2/helpers/possibleConstructorReturn":"w9GY","@babel/runtime-corejs2/helpers/getPrototypeOf":"Qxr1","@babel/runtime-corejs2/helpers/defineProperty":"n5FU","lodash/isFunction":"dRuq","@webex/webex-core":"bqGz","uuid":"wQtZ","../constants":"swzz","../stats/history":"Cibp","../stats/stream":"k2t3","../stats/filter":"DcnT","../stats/events":"V3Xs","../common/errors/stats":"O8V5"}],"O9so":[function(require,module,exports) {
"use strict";var e=require("@babel/runtime-corejs2/core-js/reflect/construct"),t=require("@babel/runtime-corejs2/core-js/object/define-property"),r=require("@babel/runtime-corejs2/helpers/interopRequireDefault");t(exports,"__esModule",{value:!0}),exports.default=void 0;var s=r(require("@babel/runtime-corejs2/helpers/classCallCheck")),i=r(require("@babel/runtime-corejs2/helpers/createClass")),n=r(require("@babel/runtime-corejs2/helpers/assertThisInitialized")),a=r(require("@babel/runtime-corejs2/helpers/inherits")),u=r(require("@babel/runtime-corejs2/helpers/possibleConstructorReturn")),o=r(require("@babel/runtime-corejs2/helpers/getPrototypeOf")),l=r(require("@babel/runtime-corejs2/helpers/defineProperty")),c=r(require("lodash/forEach")),d=require("@webex/webex-core"),f=require("../constants"),h=r(require("../stats/stats")),v=r(require("../stats/util"));function y(t){var r=p();return function(){var s,i=(0,o.default)(t);if(r){var n=(0,o.default)(this).constructor;s=e(i,arguments,n)}else s=i.apply(this,arguments);return(0,u.default)(this,s)}}function p(){if("undefined"==typeof Reflect||!e)return!1;if(e.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(e(Boolean,[],function(){})),!0}catch(t){return!1}}var g=function(e){(0,a.default)(r,e);var t=y(r);function r(e,i,a){var u;return(0,s.default)(this,r),u=t.call(this,{},i),(0,l.default)((0,n.default)(u),"namespace",f.MEETINGS),u.attrs=e,u.options=i,u.senders={},u.receivers={},u.meetingRef=null,u.statsConfig=null,u.populate(a),u}return(0,i.default)(r,[{key:"populate",value:function(e){return e&&(e.config&&this.setConfig(e.config),e.meeting&&this.associateMeeting(e.meeting),e.senders&&this.addSenders(e.senders),e.receivers&&this.addReceivers(e.receivers)),this}},{key:"setConfig",value:function(e){this.statsConfig=e}},{key:"associateMeeting",value:function(e){return this.meetingRef=e,this}},{key:"addSenders",value:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e.forEach)throw new TypeError("Stats senders must be created with an iterable array of senders to act on.");return e.forEach(function(e){t.addSender(e,r)}),this}},{key:"addSender",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e&&(t&&v.default.generateSingularOptions(e,this.statsConfig,this.meetingRef,f.STATS.SENDERS),e.type=f.STATS.SENDER,this.senders[e.id]=new h.default(this.attrs,this.options,e)),this}},{key:"addSenderStats",value:function(e){var t=new h.default(this.attrs,this.options);return this.senders[e]=t,t}},{key:"addReceiverStats",value:function(e){var t=new h.default(this.attrs,this.options);return this.receivers[e]=t,t}},{key:"addReceivers",value:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e.forEach)throw new TypeError("Stats receivers must be created with an iterable array of receivers to act on.");return e.forEach(function(e){t.addReceiver(e,r)}),this}},{key:"addReceiver",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e&&(t&&v.default.generateSingularOptions(e,this.statsConfig,this.meetingRef,f.STATS.RECEIVERS),e.type=f.STATS.RECEIVER,this.receivers[e.id]=new h.default(this.attrs,this.options,e)),this}},{key:"getReceivers",value:function(){return this.receivers}},{key:"getSenders",value:function(){return this.senders}},{key:"getSender",value:function(e){return this.senders[e]}},{key:"getReceiver",value:function(e){return this.receivers[e]}},{key:"destroySenders",value:function(){var e=this;(0,c.default)(this.senders,function(t,r){e.destroySender(r)})}},{key:"destroyReceivers",value:function(){var e=this;(0,c.default)(this.receivers,function(t,r){e.destroyReceiver(r)})}},{key:"destroySender",value:function(e){var t=this.getSender(e);t&&t.stream&&t.stream.destroy(),t=null,delete this.receivers[e]}},{key:"destroyReceiver",value:function(e){var t=this.getReceiver(e);t&&t.stream&&t.stream.destroy(),t=null,delete this.receivers[e]}}]),r}(d.StatelessWebexPlugin);exports.default=g;
},{"@babel/runtime-corejs2/core-js/reflect/construct":"vZQy","@babel/runtime-corejs2/core-js/object/define-property":"eIqn","@babel/runtime-corejs2/helpers/interopRequireDefault":"LXwi","@babel/runtime-corejs2/helpers/classCallCheck":"Tzth","@babel/runtime-corejs2/helpers/createClass":"xM5U","@babel/runtime-corejs2/helpers/assertThisInitialized":"YqR0","@babel/runtime-corejs2/helpers/inherits":"CdTE","@babel/runtime-corejs2/helpers/possibleConstructorReturn":"w9GY","@babel/runtime-corejs2/helpers/getPrototypeOf":"Qxr1","@babel/runtime-corejs2/helpers/defineProperty":"n5FU","lodash/forEach":"cTKO","@webex/webex-core":"bqGz","../constants":"swzz","../stats/stats":"b8Kx","../stats/util":"HKKO"}],"g5b6":[function(require,module,exports) {
"use strict";var e=require("@babel/runtime-corejs2/core-js/reflect/construct"),r=require("@babel/runtime-corejs2/core-js/object/define-property"),t=require("@babel/runtime-corejs2/helpers/interopRequireDefault");r(exports,"__esModule",{value:!0}),exports.default=void 0;var u=t(require("@babel/runtime-corejs2/helpers/classCallCheck")),n=t(require("@babel/runtime-corejs2/helpers/inherits")),o=t(require("@babel/runtime-corejs2/helpers/possibleConstructorReturn")),i=t(require("@babel/runtime-corejs2/helpers/getPrototypeOf")),s=t(require("@babel/runtime-corejs2/helpers/wrapNativeSuper")),a=require("../../constants");function l(r){var t=c();return function(){var u,n=(0,i.default)(r);if(t){var s=(0,i.default)(this).constructor;u=e(n,arguments,s)}else u=n.apply(this,arguments);return(0,o.default)(this,u)}}function c(){if("undefined"==typeof Reflect||!e)return!1;if(e.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(e(Boolean,[],function(){})),!0}catch(r){return!1}}var f=function(e){(0,n.default)(t,e);var r=l(t);function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a.ERROR_DICTIONARY.INTENT_TO_JOIN.MESSAGE,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return(0,u.default)(this,t),(e=r.call(this,n)).name=a.ERROR_DICTIONARY.INTENT_TO_JOIN.NAME,e.sdkMessage=a.ERROR_DICTIONARY.INTENT_TO_JOIN.MESSAGE,e.error=o,e.stack=o?o.stack:(new Error).stack,e.joinIntentRequired=!0,e.code=a.ERROR_DICTIONARY.INTENT_TO_JOIN.CODE,e}return t}((0,s.default)(Error));exports.default=f;
},{"@babel/runtime-corejs2/core-js/reflect/construct":"vZQy","@babel/runtime-corejs2/core-js/object/define-property":"eIqn","@babel/runtime-corejs2/helpers/interopRequireDefault":"LXwi","@babel/runtime-corejs2/helpers/classCallCheck":"Tzth","@babel/runtime-corejs2/helpers/inherits":"CdTE","@babel/runtime-corejs2/helpers/possibleConstructorReturn":"w9GY","@babel/runtime-corejs2/helpers/getPrototypeOf":"Qxr1","@babel/runtime-corejs2/helpers/wrapNativeSuper":"y1h1","../../constants":"swzz"}],"SSi5":[function(require,module,exports) {
"use strict";var e=require("@babel/runtime-corejs2/core-js/reflect/construct"),r=require("@babel/runtime-corejs2/core-js/object/define-property"),t=require("@babel/runtime-corejs2/helpers/interopRequireDefault");r(exports,"__esModule",{value:!0}),exports.default=void 0;var u=t(require("@babel/runtime-corejs2/helpers/classCallCheck")),n=t(require("@babel/runtime-corejs2/helpers/inherits")),o=t(require("@babel/runtime-corejs2/helpers/possibleConstructorReturn")),i=t(require("@babel/runtime-corejs2/helpers/getPrototypeOf")),s=t(require("@babel/runtime-corejs2/helpers/wrapNativeSuper")),l=require("../../constants");function a(r){var t=c();return function(){var u,n=(0,i.default)(r);if(t){var s=(0,i.default)(this).constructor;u=e(n,arguments,s)}else u=n.apply(this,arguments);return(0,o.default)(this,u)}}function c(){if("undefined"==typeof Reflect||!e)return!1;if(e.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(e(Boolean,[],function(){})),!0}catch(r){return!1}}var f=function(e){(0,n.default)(t,e);var r=a(t);function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l.ERROR_DICTIONARY.JOIN_MEETING.MESSAGE,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return(0,u.default)(this,t),(e=r.call(this,o)).name=l.ERROR_DICTIONARY.JOIN_MEETING.NAME,e.sdkMessage=l.ERROR_DICTIONARY.JOIN_MEETING.MESSAGE,e.error=i,e.stack=i?i.stack:(new Error).stack,e.joinOptions=n,e.code=l.ERROR_DICTIONARY.JOIN_MEETING.CODE,e}return t}((0,s.default)(Error));exports.default=f;
},{"@babel/runtime-corejs2/core-js/reflect/construct":"vZQy","@babel/runtime-corejs2/core-js/object/define-property":"eIqn","@babel/runtime-corejs2/helpers/interopRequireDefault":"LXwi","@babel/runtime-corejs2/helpers/classCallCheck":"Tzth","@babel/runtime-corejs2/helpers/inherits":"CdTE","@babel/runtime-corejs2/helpers/possibleConstructorReturn":"w9GY","@babel/runtime-corejs2/helpers/getPrototypeOf":"Qxr1","@babel/runtime-corejs2/helpers/wrapNativeSuper":"y1h1","../../constants":"swzz"}],"jw2B":[function(require,module,exports) {
"use strict";var e=require("@babel/runtime-corejs2/core-js/reflect/construct"),r=require("@babel/runtime-corejs2/core-js/object/define-property"),t=require("@babel/runtime-corejs2/helpers/interopRequireDefault");r(exports,"__esModule",{value:!0}),exports.default=void 0;var u=t(require("@babel/runtime-corejs2/helpers/classCallCheck")),n=t(require("@babel/runtime-corejs2/helpers/inherits")),o=t(require("@babel/runtime-corejs2/helpers/possibleConstructorReturn")),i=t(require("@babel/runtime-corejs2/helpers/getPrototypeOf")),s=t(require("@babel/runtime-corejs2/helpers/wrapNativeSuper")),a=require("../../constants");function l(r){var t=c();return function(){var u,n=(0,i.default)(r);if(t){var s=(0,i.default)(this).constructor;u=e(n,arguments,s)}else u=n.apply(this,arguments);return(0,o.default)(this,u)}}function c(){if("undefined"==typeof Reflect||!e)return!1;if(e.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(e(Boolean,[],function(){})),!0}catch(r){return!1}}var f=function(e){(0,n.default)(t,e);var r=l(t);function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a.ERROR_DICTIONARY.PERMISSION.MESSAGE,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return(0,u.default)(this,t),(e=r.call(this,n)).name=a.ERROR_DICTIONARY.PERMISSION.NAME,e.sdkMessage=a.ERROR_DICTIONARY.PERMISSION.MESSAGE,e.error=o,e.stack=o?o.stack:(new Error).stack,e.code=a.ERROR_DICTIONARY.PERMISSION.CODE,e}return t}((0,s.default)(Error));exports.default=f;
},{"@babel/runtime-corejs2/core-js/reflect/construct":"vZQy","@babel/runtime-corejs2/core-js/object/define-property":"eIqn","@babel/runtime-corejs2/helpers/interopRequireDefault":"LXwi","@babel/runtime-corejs2/helpers/classCallCheck":"Tzth","@babel/runtime-corejs2/helpers/inherits":"CdTE","@babel/runtime-corejs2/helpers/possibleConstructorReturn":"w9GY","@babel/runtime-corejs2/helpers/getPrototypeOf":"Qxr1","@babel/runtime-corejs2/helpers/wrapNativeSuper":"y1h1","../../constants":"swzz"}],"U2WF":[function(require,module,exports) {
"use strict";var e=require("@babel/runtime-corejs2/core-js/object/keys"),t=require("@babel/runtime-corejs2/core-js/object/get-own-property-symbols"),n=require("@babel/runtime-corejs2/core-js/object/get-own-property-descriptor"),r=require("@babel/runtime-corejs2/core-js/object/get-own-property-descriptors"),o=require("@babel/runtime-corejs2/core-js/object/define-properties"),i=require("@babel/runtime-corejs2/core-js/object/define-property"),a=require("@babel/runtime-corejs2/helpers/interopRequireDefault");i(exports,"__esModule",{value:!0}),exports.default=void 0;var u=a(require("@babel/runtime-corejs2/core-js/promise")),d=a(require("@babel/runtime-corejs2/core-js/json/stringify")),c=a(require("@babel/runtime-corejs2/helpers/slicedToArray")),l=a(require("@babel/runtime-corejs2/helpers/defineProperty")),s=a(require("lodash/isEmpty")),f=require("../common/errors/webex-errors"),g=a(require("../stats/util")),p=a(require("../metrics")),v=require("../metrics/config"),m=a(require("../media")),T=a(require("../common/logs/logger-proxy")),E=a(require("../stats/index")),I=require("../constants"),y=a(require("../common/events/trigger-proxy")),S=a(require("../common/errors/intent-to-join")),R=a(require("../common/errors/join-meeting")),_=a(require("../common/errors/parameter")),A=a(require("../common/errors/permission"));function O(r,o){var i=e(r);if(t){var a=t(r);o&&(a=a.filter(function(e){return n(r,e).enumerable})),i.push.apply(i,a)}return i}function M(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?O(Object(a),!0).forEach(function(t){(0,l.default)(e,t,a[t])}):r?o(e,r(a)):O(Object(a)).forEach(function(t){i(e,t,n(a,t))})}return e}var U={parseLocusJoin:function(e){var t={};return t.locus=e.body.locus,t.mediaConnections=e.body.mediaConnections,t.locusUrl=t.locus.url,t.locusId=t.locus.url.split("/").pop(),t.selfId=t.locus.self.id,t.mediaConnections.forEach(function(e){e.mediaId&&(t.mediaId=e.mediaId)}),t},remoteUpdateAudioVideo:function(e,t,n){if(!n)return u.default.reject(new _.default("You need a meeting object."));var r=m.default.generateLocalMedias(n.mediaId,e,t);return(0,s.default)(r)?u.default.reject(new _.default("You need a media id on the meeting to change remote audio.")):(p.default.postEvent({event:v.eventType.MEDIA_REQUEST,meeting:n}),n.meetingRequest.remoteAudioVideoToggle({locusUrl:n.locusUrl,selfId:n.selfId,localMedias:r,deviceUrl:n.deviceUrl,correlationId:n.correlationId}).then(function(e){return p.default.postEvent({event:v.eventType.MEDIA_RESPONSE,meeting:n}),e.body.locus}))},hasOwner:function(e){return e&&e.owner},isOwnerSelf:function(e,t){return e===t},isPinOrGuest:function(e){var t;return(null==e?void 0:null===(t=e.body)||void 0===t?void 0:t.errorCode)&&I.INTENT_TO_JOIN.includes(e.body.errorCode)},joinMeeting:function(e,t){return e?(p.default.postEvent({event:v.eventType.LOCUS_JOIN_REQUEST,meeting:e}),e.meetingRequest.joinMeeting({sipUri:e.sipUri,meetingNumber:e.meetingNumber,deviceUrl:e.deviceUrl,locusUrl:e.locusUrl,correlationId:e.correlationId,roapMessage:t.roapMessage,resourceId:t.resourceId||null,moderator:t.moderator,pin:t.pin,moveToResource:t.moveToResource,preferTranscoding:t.preferTranscoding,asResourceOccupant:t.asResourceOccupant}).then(function(t){return p.default.postEvent({event:v.eventType.LOCUS_JOIN_RESPONSE,meeting:e,data:{trigger:v.trigger.LOCI_UPDATE,locus:t.body.locus,mediaConnections:t.body.mediaConnections,trackingId:t.headers.trackingid}}),U.parseLocusJoin(t)})):u.default.reject(new _.default("You need a meeting object."))},cleanUp:function(e){return e.statsAnalyzer&&e.statsAnalyzer.stopAnalyzer(),e.closeLocalStream().then(function(){return e.closeLocalShare()}).then(function(){return e.closeRemoteTracks()}).then(function(){return e.closePeerConnections()}).then(function(){e.unsetLocalVideoTrack(),e.unsetLocalShareTrack(),e.unsetRemoteTracks(),e.unsetPeerConnections(),e.cleanMQAInterval(),e.reconnectionManager.cleanUp()}).then(function(){return e.roap.stop(e.correlationId,e.roapSeq)})},disconnectPhoneAudio:function(e,t){if(e.meetingState===I.FULL_STATE.INACTIVE)return u.default.reject(new f.MeetingNotActiveError);var n={locusUrl:e.locusUrl,selfId:e.selfId,correlationId:e.correlationId,phoneUrl:t};return e.meetingRequest.disconnectPhoneAudio(n).then(function(t){var n;null!=t&&null!==(n=t.body)&&void 0!==n&&n.locus&&e.locusInfo.onFullLocus(t.body.locus)}).catch(function(t){return T.default.logger.error("Meeting:util#disconnectPhoneAudio --\x3e An error occured while disconnecting phone audio in meeting ".concat(e.id,", error: ").concat(t)),u.default.reject(t)})},leaveMeeting:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(e.meetingState===I.FULL_STATE.INACTIVE)return u.default.reject(new f.MeetingNotActiveError);if(U.isUserInLeftState(e.locusInfo))return u.default.reject(new f.UserNotJoinedError);var n=M(M({},{locusUrl:e.locusUrl,selfId:e.selfId,correlationId:e.correlationId,resourceId:e.resourceId,deviceUrl:e.deviceUrl}),t);return e.meetingRequest.leaveMeeting(n).then(function(t){return t&&t.body&&t.body.locus&&e.locusInfo.onFullLocus(t.body.locus),u.default.resolve()}).then(function(){return t.moveMeeting?u.default.resolve():U.cleanUp(e)}).catch(function(t){return T.default.logger.error("Meeting:util#leaveMeeting --\x3e An error occured while trying to leave meeting with an id of ".concat(e.id,", error: ").concat(t)),u.default.reject(t)})},declineMeeting:function(e,t){return e.meetingRequest.declineMeeting({locusUrl:e.locusUrl,deviceUrl:e.deviceUrl,reason:t})},isUserInLeftState:function(e){var t,n;return(null===(t=e.parsedLocus)||void 0===t?void 0:null===(n=t.self)||void 0===n?void 0:n.state)===I._LEFT_},isUserInIdleState:function(e){var t,n;return(null===(t=e.parsedLocus)||void 0===t?void 0:null===(n=t.self)||void 0===n?void 0:n.state)===I._IDLE_},isUserInJoinedState:function(e){var t,n;return(null===(t=e.parsedLocus)||void 0===t?void 0:null===(n=t.self)||void 0===n?void 0:n.state)===I._JOINED_},isMediaEstablished:function(e){return e&&(e.audio||e.video||e.share)},joinMeetingOptions:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e.resourceId=e.resourceId||t.resourceId,t.pin&&p.default.postEvent({event:v.eventType.PIN_COLLECTED,meeting:e}),U.joinMeeting(e,t).then(function(t){return e.setLocus(t),u.default.resolve(t)}).catch(function(n){return U.isPinOrGuest(n)?(p.default.postEvent({event:v.eventType.PIN_PROMPT,meeting:e}),u.default.reject(new S.default("Error Joining Meeting",n))):(T.default.logger.error("Meeting:util#joinMeetingOptions --\x3e Error joining the call, ",n),u.default.reject(new R.default(t,"Error Joining Meeting",n)))})},updateTransceiver:function(e,t){var n=e.type,r=e.sendTrack,o=e.receiveTrack,i=e.track,a=e.transceiver,d=e.peerConnection,c=e.previousMediaDirection;return void 0!==r&&r!==c.sendTrack||void 0!==o&&o!==c.receiveTrack?m.default.updateTransceiver({meetingId:t.meeting.id,remoteQualityLevel:t.mediaProperties.remoteQualityLevel,enableRtx:t.meeting.config.enableRtx,enableExtmap:t.meeting.config.enableExtmap},d,a,{track:i,type:n,receiveTrack:o,sendTrack:r}).then(function(){return t.meeting.roap.sendRoapMediaRequest({sdp:t.mediaProperties.peerConnection.sdp,roapSeq:t.meeting.roapSeq,meeting:t.meeting})}).catch(function(e){T.default.logger.error("Meeting:util#updateTransceiver --\x3e Error updating the ".concat(n," streams with error: ").concat(e))}):i?(a.sender.replaceTrack(i),u.default.resolve()):u.default.reject(new _.default("update Failed: please pass valid parameter"))},validateOptions:function(e){var t=e.sendVideo,n=e.sendAudio,r=e.sendShare,o=e.localStream,i=e.localShare;return t&&!U.getTrack(o).videoTrack?u.default.reject(new _.default("please pass valid video streams")):n&&!U.getTrack(o).audioTrack?u.default.reject(new _.default("please pass valid audio streams")):r&&!U.getTrack(i).videoTrack?u.default.reject(new _.default("please pass valid share streams")):u.default.resolve()},getTrack:function(e){var t=null,n=null,r=null,o=null;if(!e)return{audioTrack:null,videoTrack:null};if(e.getAudioTracks&&(r=e.getAudioTracks()),e.getVideoTracks&&(o=e.getVideoTracks()),r&&r.length>0){var i=r;t=(0,c.default)(i,1)[0]}if(o&&o.length>0){var a=o;n=(0,c.default)(a,1)[0]}return{audioTrack:t,videoTrack:n}},getModeratorFromLocusInfo:function(e){return e&&e.parsedLocus&&e.parsedLocus.info&&e.parsedLocus.info&&e.parsedLocus.info.moderator},getPolicyFromLocusInfo:function(e){return e&&e.parsedLocus&&e.parsedLocus.info&&e.parsedLocus.info&&e.parsedLocus.info.policy},canUserLock:function(e,t){return!(!e.LOCK_CONTROL_LOCK||!t.LOCK_STATUS_UNLOCKED)},canUserUnlock:function(e,t){return!(!e.LOCK_CONTROL_UNLOCK||!t.LOCK_STATUS_LOCKED)},canUserRecord:function(e){return e.RECORDING_CONTROL_START},canUserPause:function(e){return e.RECORDING_CONTROL_PAUSE},canUserResume:function(e){return e.RECORDING_CONTROL_RESUME},canUserStop:function(e){return e.RECORDING_CONTROL_STOP},startRecording:function(e,t,n){var r=U.getModeratorFromLocusInfo(n);return r&&U.canUserRecord(r)?e.recordMeeting({locusUrl:t,recording:!0,paused:!1}):u.default.reject(new A.default("Start recording not allowed, due to moderator property."))},pauseRecording:function(e,t,n){var r=U.getModeratorFromLocusInfo(n);return r&&U.canUserPause(r)?e.recordMeeting({locusUrl:t,recording:!0,paused:!0}):u.default.reject(new A.default("Pause recording not allowed, due to moderator property."))},resumeRecording:function(e,t,n){var r=U.getModeratorFromLocusInfo(n);return r&&U.canUserResume(r)?e.recordMeeting({locusUrl:t,recording:!0,paused:!1}):u.default.reject(new A.default("Resume recording not allowed, due to moderator property."))},stopRecording:function(e,t,n){var r=U.getModeratorFromLocusInfo(n);return r&&U.canUserStop(r)?e.recordMeeting({locusUrl:t,recording:!1,paused:!1}):u.default.reject(new A.default("Stop recording not allowed, due to moderator property."))},lockMeeting:function(e,t,n){return e&&e.canLock?t.lockMeeting({locusUrl:n,lock:!0}):u.default.reject(new A.default("Lock not allowed, due to joined property."))},unlockMeeting:function(e,t,n){return e&&e.canUnlock?t.lockMeeting({locusUrl:n,lock:!1}):u.default.reject(new A.default("Unlock not allowed, due to joined property."))},startInternalStats:function(e){if(!e.internalStats){var t={useConfig:!0,senders:[{id:"mainAudio",correlate:"audio",history:!0,onEvent:function(t){"audio"===t.kind&&"bytesSent"===t.stat?(y.default.trigger(e,{file:"meeting/util",function:"startInternalStats"},I.EVENT_TRIGGERS.MEETING_MEDIA_LOCAL_STARTED,{type:v.mediaType.AUDIO}),p.default.postEvent({event:v.eventType.SENDING_MEDIA_START,meeting:e,data:{mediaType:v.mediaType.AUDIO}})):t.stop&&"bytesSent"===t.stat&&p.default.postEvent({event:v.eventType.SENDING_MEDIA_STOP,meeting:e,data:{mediaType:v.mediaType.AUDIO}})},onData:function(){}},{id:"mainVideo",correlate:"video",history:!0,onEvent:function(t){"video"===t.kind&&"bytesSent"===t.stat?(y.default.trigger(e,{file:"meeting/util",function:"startInternalStats"},I.EVENT_TRIGGERS.MEETING_MEDIA_LOCAL_STARTED,{type:v.mediaType.VIDEO}),p.default.postEvent({event:v.eventType.SENDING_MEDIA_START,meeting:e,data:{mediaType:v.mediaType.VIDEO}})):t.stop&&"bytesSent"===t.stat&&p.default.postEvent({event:v.eventType.SENDING_MEDIA_STOP,meeting:e,data:{mediaType:v.mediaType.VIDEO}})},onData:function(){}},{id:"mainShare",correlate:"video",onEvent:function(t){"share"===t.kind&&"bytesSent"===t.stat?(y.default.trigger(e,{file:"meeting/util",function:"startInternalStats"},I.EVENT_TRIGGERS.MEETING_MEDIA_LOCAL_STARTED,{type:v.mediaType.SHARE}),p.default.postEvent({event:v.eventType.SENDING_SHARE_START,meeting:e,data:{mediaType:v.mediaType.SHARE}})):t.stop&&"bytesSent"===t.stat&&p.default.postEvent({event:v.eventType.SENDING_SHARE_STOP,meeting:e,data:{mediaType:v.mediaType.SHARE}})},onData:function(){}}],receivers:[{id:"mainAudio",correlate:"audio",history:!0,onEvent:function(t){"audio"===t.kind&&"bytesReceived"===t.stat?(y.default.trigger(e,{file:"meeting/util",function:"startInternalStats"},I.EVENT_TRIGGERS.MEETING_MEDIA_REMOTE_STARTED,{type:v.mediaType.AUDIO}),p.default.postEvent({event:v.eventType.RECEIVING_MEDIA_START,meeting:e,data:{mediaType:v.mediaType.AUDIO}})):t.stop&&"bytesReceived"===t.stat&&p.default.postEvent({event:v.eventType.RECEIVING_MEDIA_STOP,meeting:e,data:{mediaType:v.mediaType.AUDIO}})},onData:function(){}},{id:"mainVideo",correlate:"video",history:!0,onEvent:function(t){"video"===t.kind&&"bytesReceived"===t.stat?(y.default.trigger(e,{file:"meeting/util",function:"startInternalStats"},I.EVENT_TRIGGERS.MEETING_MEDIA_REMOTE_STARTED,{type:v.mediaType.VIDEO}),p.default.postEvent({event:v.eventType.RECEIVING_MEDIA_START,meeting:e,data:{mediaType:v.mediaType.VIDEO}})):t.stop&&"bytesReceived"===t.stat&&p.default.postEvent({event:v.eventType.RECEIVING_MEDIA_STOP,meeting:e,data:{mediaType:v.mediaType.VIDEO}})},onData:function(){}},{id:"mainShare",correlate:"video",onEvent:function(t){"share"===t.kind&&"bytesReceived"===t.stat?(y.default.trigger(e,{file:"meeting/util",function:"startInternalStats"},I.EVENT_TRIGGERS.MEETING_MEDIA_REMOTE_STARTED,{type:v.mediaType.SHARE}),p.default.postEvent({event:v.eventType.RECEIVING_MEDIA_START,meeting:e,data:{mediaType:v.mediaType.SHARE}})):t.stop&&"bytesReceived"===t.stat&&p.default.postEvent({event:v.eventType.RECEIVING_MEDIA_STOP,meeting:e,data:{mediaType:v.mediaType.SHARE}})},onData:function(){}}]};g.default.generateOptions(t,I.STATS.CONFIG,e),t.config=I.STATS.CONFIG,e.internalStats=new E.default(e.attrs,e.options,t)}return e.internalStats},handleAudioLogging:function(e){var t="MeetingUtil#handleAudioLogging --\x3e";if(e){var n=e.getSettings(),r=n.deviceId;T.default.logger.log(t,"deviceId = ".concat(r)),T.default.logger.log(t,"settings =",(0,d.default)(n))}},handleVideoLogging:function(e){var t="MeetingUtil#handleVideoLogging --\x3e";if(e){var n=e.getSettings(),r=n.deviceId;T.default.logger.log(t,"deviceId = ".concat(r)),T.default.logger.log(t,"settings =",(0,d.default)(n))}},handleDeviceLogging:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t="MeetingUtil#handleDeviceLogging --\x3e";e.forEach(function(e){T.default.logger.log(t,"deviceId = ".concat(e.deviceId)),T.default.logger.log(t,"settings",(0,d.default)(e))})}},L=U;exports.default=L;
},{"@babel/runtime-corejs2/core-js/object/keys":"d81a","@babel/runtime-corejs2/core-js/object/get-own-property-symbols":"DovH","@babel/runtime-corejs2/core-js/object/get-own-property-descriptor":"mQ9c","@babel/runtime-corejs2/core-js/object/get-own-property-descriptors":"Hv1v","@babel/runtime-corejs2/core-js/object/define-properties":"CpmN","@babel/runtime-corejs2/core-js/object/define-property":"eIqn","@babel/runtime-corejs2/helpers/interopRequireDefault":"LXwi","@babel/runtime-corejs2/core-js/promise":"eOfj","@babel/runtime-corejs2/core-js/json/stringify":"E09K","@babel/runtime-corejs2/helpers/slicedToArray":"vwJD","@babel/runtime-corejs2/helpers/defineProperty":"n5FU","lodash/isEmpty":"BBRi","../common/errors/webex-errors":"OsWy","../stats/util":"HKKO","../metrics":"LvoJ","../metrics/config":"Ch1R","../media":"frLi","../common/logs/logger-proxy":"NeTJ","../stats/index":"O9so","../constants":"swzz","../common/events/trigger-proxy":"tIl4","../common/errors/intent-to-join":"g5b6","../common/errors/join-meeting":"SSi5","../common/errors/parameter":"xdH9","../common/errors/permission":"jw2B"}],"utu2":[function(require,module,exports) {
"use strict";var e=require("@babel/runtime-corejs2/core-js/object/define-property"),t=require("@babel/runtime-corejs2/helpers/interopRequireDefault");e(exports,"__esModule",{value:!0}),exports.default=void 0;var r=t(require("@babel/runtime-corejs2/helpers/classCallCheck")),s=t(require("@babel/runtime-corejs2/helpers/createClass")),i=t(require("@babel/runtime-corejs2/helpers/defineProperty")),a=t(require("lodash/isString")),u=require("../constants"),l=t(require("../common/errors/parameter")),o=function(){function e(t){if((0,r.default)(this,e),(0,i.default)(this,"namespace",u.MEETINGS),!t||!(0,a.default)(t))throw new l.default("Collection expects a string to use as a property name.");this.propertyName=t,this[this.propertyName]={}}return(0,s.default)(e,[{key:"get",value:function(e){return this[this.propertyName]&&this[this.propertyName][e]?this[this.propertyName][e]:null}},{key:"set",value:function(e,t){return this[this.propertyName][e]=t,this.get(e)}},{key:"delete",value:function(e){delete this[this.propertyName][e]}},{key:"getAll",value:function(){return this[this.propertyName]}},{key:"setAll",value:function(e){return this[this.propertyName]=e,this.getAll()}}]),e}();exports.default=o;
},{"@babel/runtime-corejs2/core-js/object/define-property":"eIqn","@babel/runtime-corejs2/helpers/interopRequireDefault":"LXwi","@babel/runtime-corejs2/helpers/classCallCheck":"Tzth","@babel/runtime-corejs2/helpers/createClass":"xM5U","@babel/runtime-corejs2/helpers/defineProperty":"n5FU","lodash/isString":"CkJF","../constants":"swzz","../common/errors/parameter":"xdH9"}],"EZHh":[function(require,module,exports) {
"use strict";var e=require("@babel/runtime-corejs2/core-js/reflect/construct"),r=require("@babel/runtime-corejs2/core-js/object/define-property"),t=require("@babel/runtime-corejs2/helpers/interopRequireDefault");r(exports,"__esModule",{value:!0}),exports.default=void 0;var u=t(require("@babel/runtime-corejs2/helpers/classCallCheck")),n=t(require("@babel/runtime-corejs2/helpers/createClass")),i=t(require("@babel/runtime-corejs2/helpers/assertThisInitialized")),s=t(require("@babel/runtime-corejs2/helpers/inherits")),o=t(require("@babel/runtime-corejs2/helpers/possibleConstructorReturn")),l=t(require("@babel/runtime-corejs2/helpers/getPrototypeOf")),a=t(require("@babel/runtime-corejs2/helpers/defineProperty")),c=t(require("lodash/find")),f=t(require("../common/collection")),p=require("../constants");function d(r){var t=b();return function(){var u,n=(0,l.default)(r);if(t){var i=(0,l.default)(this).constructor;u=e(n,arguments,i)}else u=n.apply(this,arguments);return(0,o.default)(this,u)}}function b(){if("undefined"==typeof Reflect||!e)return!1;if(e.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(e(Boolean,[],function(){})),!0}catch(r){return!1}}var h=function(e){(0,s.default)(t,e);var r=d(t);function t(){var e;return(0,u.default)(this,t),e=r.call(this,"meetingInfos"),(0,a.default)((0,i.default)(e),"namespace",p.MEETINGS),e}return(0,n.default)(t,[{key:"get",value:function(e){return this.meetingInfos[e]?this.meetingInfos[e]:(0,c.default)(this.meetingInfos,function(r){return r.sipUrl===e||r.locusId===e||r.userId===e||r.meetingLink===e})}}]),t}(f.default);exports.default=h;
},{"@babel/runtime-corejs2/core-js/reflect/construct":"vZQy","@babel/runtime-corejs2/core-js/object/define-property":"eIqn","@babel/runtime-corejs2/helpers/interopRequireDefault":"LXwi","@babel/runtime-corejs2/helpers/classCallCheck":"Tzth","@babel/runtime-corejs2/helpers/createClass":"xM5U","@babel/runtime-corejs2/helpers/assertThisInitialized":"YqR0","@babel/runtime-corejs2/helpers/inherits":"CdTE","@babel/runtime-corejs2/helpers/possibleConstructorReturn":"w9GY","@babel/runtime-corejs2/helpers/getPrototypeOf":"Qxr1","@babel/runtime-corejs2/helpers/defineProperty":"n5FU","lodash/find":"y1nO","../common/collection":"utu2","../constants":"swzz"}],"SGfG":[function(require,module,exports) {
"use strict";var e=require("@babel/runtime-corejs2/core-js/object/define-property"),t=require("@babel/runtime-corejs2/helpers/interopRequireDefault");e(exports,"__esModule",{value:!0}),exports.default=void 0;var r=t(require("@babel/runtime-corejs2/regenerator")),n=t(require("@babel/runtime-corejs2/core-js/promise")),a=t(require("@babel/runtime-corejs2/helpers/asyncToGenerator")),o=t(require("url")),i=t(require("btoa")),c=require("@webex/common"),s=t(require("../common/errors/parameter")),u=t(require("../common/logs/logger-proxy")),l=require("../constants"),d={extractDestination:function(e,t){var r=e;if(t===l._LOCUS_ID_){if(!e||!e.url)throw new s.default("You cannot create a meeting by locus without a locus.url defined");r=e.url}return r},getParsedUrl:function(e){try{var t=o.default.parse(e);return!!t&&(t.protocol||(t=o.default.parse("".concat(l.HTTPS_PROTOCOL).concat(e))),t)}catch(r){return u.default.logger.warn("Meeting-info:util#getParsedUrl --\x3e unable to parse the URL, error: ".concat(r)),null}},isMeetingLink:function(e){var t=d.getParsedUrl(e),r=t.hostname&&t.hostname.includes(l.WEBEX_DOT_COM),n=t.pathname&&(t.pathname.includes("/".concat(l.MEET))||t.pathname.includes("/".concat(l.MEET_M))||t.pathname.includes("/".concat(l.JOIN)));return r&&n},isConversationUrl:function(e,t){var r=t.internal.services.getClusterId(e);return!!r&&r.endsWith(l.CONVERSATION_SERVICE)},convertLinkToSip:function(e){var t,r,n=d.getParsedUrl(e);if(!n)return null;if(n.pathname){var a=n.pathname.lastIndexOf("/");t=n.pathname.substring(a+1)}if(!t)return null;if(n.hostname){var o=n.hostname.lastIndexOf(".".concat(l.WEBEX_DOT_COM));r=n.hostname.substring(0,o).replace(l.WWW_DOT,"")}return r?"".concat(t,"@").concat(r,".").concat(l.WEBEX_DOT_COM):null},isSipUri:function(e){return l.DIALER_REGEX.SIP_ADDRESS.exec(e)},isPhoneNumber:function(e){return l.DIALER_REGEX.PHONE_NUMBER.test(e)},getHydraId:function(e){var t=(0,c.deconstructHydraId)(e),r=t.type,n=t.id,a=t.cluster;return n&&l.UUID_REG.test(n)?r===l._ROOM_?{room:!0,destination:n,cluster:a}:r===l._PEOPLE_?{people:!0,destination:n,cluster:a}:{}:{}},getSipUriFromHydraPersonId:function(e,t){return t.people.get(e).then(function(e){if(e.emails&&e.emails.length)return e.emails[0];throw new s.default("Hydra Id Lookup was an invalid hydra person id.")}).catch(function(e){throw u.default.logger.error("Meeting-info:util#MeetingInfoUtil.getSipUriFromHydraPersonId --\x3e getSipUriFromHydraPersonId ".concat(e," ")),e})}};d.generateOptions=function(){var e=(0,a.default)(r.default.mark(function e(t){var a,o,i,c,_,p;return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.destination,o=t.type,i=t.webex,!o){e.next=3;break}return e.abrupt("return",{destination:a,type:o});case 3:if(c={},_=d.getHydraId(a),!d.isMeetingLink(a)){e.next=11;break}u.default.logger.warn("Meeting-info:util#generateOptions --\x3e WARN, use of Meeting Link is deprecated, please use a SIP URI instead"),c.type=l._MEETING_LINK_,c.destination=a,e.next=47;break;case 11:if(!d.isSipUri(a)){e.next=16;break}c.type=l._SIP_URI_,c.destination=a,e.next=47;break;case 16:if(!d.isPhoneNumber(a)){e.next=21;break}c.type=l._SIP_URI_,c.destination=a,e.next=47;break;case 21:if(!d.isConversationUrl(a,i)){e.next=26;break}c.type=l._CONVERSATION_URL_,c.destination=a,e.next=47;break;case 26:if(!_.people){e.next=31;break}return c.type=l._SIP_URI_,e.abrupt("return",d.getSipUriFromHydraPersonId(_.destination,i).then(function(e){return c.destination=e,c.wasHydraPerson=!0,n.default.resolve(c)}));case 31:if(!_.room){e.next=46;break}return c.type=l._CONVERSATION_URL_,e.prev=33,e.next=36,i.internal.services.waitForCatalog("postauth");case 36:p=i.internal.conversation.getUrlFromClusterId({cluster:_.cluster,id:_.destination}),c.destination=p,e.next=44;break;case 40:throw e.prev=40,e.t0=e.catch(33),u.default.logger.error("Meeting-info:util#generateOptions --\x3e ".concat(e.t0)),e.t0;case 44:e.next=47;break;case 46:throw new s.default("MeetingInfo is fetched with meeting link, sip uri, phone number, hydra room id, hydra people id, or a conversation url.");case 47:return e.abrupt("return",n.default.resolve(c));case 48:case"end":return e.stop()}},e,null,[[33,40]])}));return function(t){return e.apply(this,arguments)}}(),d.getResourceUrl=function(e,t){var r="/".concat(l.LOCI,"/").concat(l.MEETINGINFO),n=l.HTTP_VERBS.GET,a=null;switch(e){case l._SIP_URI_:case l._PERSONAL_ROOM_:case l._MEETING_ID_:r="/".concat(l.LOCI,"/").concat(l.MEETINGINFO,"/").concat(encodeURIComponent(t),"?").concat(l.TYPE,"=").concat(e,"&").concat(l.USE_URI_LOOKUP_FALSE);break;case l._CONVERSATION_URL_:n=l.HTTP_VERBS.PUT;break;case l._LOCUS_ID_:a="".concat(t,"/").concat(l.MEETINGINFO),n=l.HTTP_VERBS.PUT;break;case l._MEETING_LINK_:r="$/".concat(l.LOCI,"/").concat(l.MEETINGINFO,"/").concat((0,i.default)(t),"?").concat(l.TYPE,"=").concat(l._MEETING_LINK_,"&").concat(l.USE_URI_LOOKUP_FALSE)}return{uri:a,resource:r,method:n}},d.getRequestParams=function(e,t,r,n){var a={method:e.method,api:n,resource:e.resource};return e.method===l.HTTP_VERBS.GET?a.resource=a.resource.concat("&".concat(l.ALTERNATE_REDIRECT_TRUE)):t!==l._LOCUS_ID_?(a.resource=a.resource.concat("?".concat(l.ALTERNATE_REDIRECT_TRUE)),a.body={value:r,lookupType:t}):t===l._LOCUS_ID_&&(a={method:e.method,uri:e.uri}),a};var _=d;exports.default=_;
},{"@babel/runtime-corejs2/core-js/object/define-property":"eIqn","@babel/runtime-corejs2/helpers/interopRequireDefault":"LXwi","@babel/runtime-corejs2/regenerator":"i9LV","@babel/runtime-corejs2/core-js/promise":"eOfj","@babel/runtime-corejs2/helpers/asyncToGenerator":"OYLD","url":"Mej7","btoa":"Q0qE","@webex/common":"UeF0","../common/errors/parameter":"xdH9","../common/logs/logger-proxy":"NeTJ","../constants":"swzz"}],"TItc":[function(require,module,exports) {
"use strict";var e=require("@babel/runtime-corejs2/core-js/object/define-property"),t=require("@babel/runtime-corejs2/helpers/interopRequireDefault");e(exports,"__esModule",{value:!0}),exports.default=void 0;var r=t(require("@babel/runtime-corejs2/helpers/classCallCheck")),i=t(require("@babel/runtime-corejs2/helpers/createClass")),s=require("../constants"),n=t(require("../common/errors/parameter")),a=t(require("./util")),u=function(){function e(t){(0,r.default)(this,e),this.webex=t}return(0,i.default)(e,[{key:"fetchMeetingInfo",value:function(e){if(!e||!e.type||!e.destination)throw new n.default("MeetingInfo should be fetched with a type and destination specified, see list of valid types and their corresponding values in constants");var t=a.default.getResourceUrl(e.type,e.destination),r=a.default.getRequestParams(t,e.type,e.destination,s.API.LOCUS);return this.webex.request(r)}}]),e}();exports.default=u;
},{"@babel/runtime-corejs2/core-js/object/define-property":"eIqn","@babel/runtime-corejs2/helpers/interopRequireDefault":"LXwi","@babel/runtime-corejs2/helpers/classCallCheck":"Tzth","@babel/runtime-corejs2/helpers/createClass":"xM5U","../constants":"swzz","../common/errors/parameter":"xdH9","./util":"SGfG"}],"iHNg":[function(require,module,exports) {
"use strict";var e=require("@babel/runtime-corejs2/core-js/object/define-property"),t=require("@babel/runtime-corejs2/helpers/interopRequireDefault");e(exports,"__esModule",{value:!0}),exports.default=void 0;var n=t(require("@babel/runtime-corejs2/core-js/promise")),r=t(require("@babel/runtime-corejs2/helpers/classCallCheck")),i=t(require("@babel/runtime-corejs2/helpers/createClass")),o=require("../constants"),u=t(require("../common/logs/logger-proxy")),s=t(require("./collection")),c=t(require("./request")),f=t(require("./util")),l=function(){function e(t){(0,r.default)(this,e),this.webex=t,this.meetingInfoRequest=new c.default(this.webex),this.meetingInfoCollection=new s.default}return(0,i.default)(e,[{key:"getMeetingInfo",value:function(e){return this.meetingInfoCollection.get(e)}},{key:"setMeetingInfo",value:function(e,t){this.meetingInfoCollection.set(e,t)}},{key:"requestFetchInfo",value:function(e){var t=this;return this.meetingInfoRequest.fetchMeetingInfo(e).then(function(e){return e&&e.body&&t.setMeetingInfo(e.body.sipMeetingUri||e.body.meetingLink,e.body),e}).catch(function(e){return u.default.logger.error("Meeting-info:index#requestFetchInfo --\x3e  ".concat(e," fetch meetingInfo")),n.default.reject(e)})}},{key:"fetchInfoOptions",value:function(e,t){return f.default.generateOptions({destination:e,type:t,webex:this.webex})}},{key:"fetchMeetingInfo",value:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return this.fetchInfoOptions(f.default.extractDestination(e,r),r).then(function(r){return t.requestFetchInfo(r).catch(function(i){return r.type===o._MEETING_LINK_?t.requestFetchInfo(t.fetchInfoOptions(f.default.convertLinkToSip(e),o._SIP_URI_)):n.default.reject(i)})})}}]),e}();exports.default=l;
},{"@babel/runtime-corejs2/core-js/object/define-property":"eIqn","@babel/runtime-corejs2/helpers/interopRequireDefault":"LXwi","@babel/runtime-corejs2/core-js/promise":"eOfj","@babel/runtime-corejs2/helpers/classCallCheck":"Tzth","@babel/runtime-corejs2/helpers/createClass":"xM5U","../constants":"swzz","../common/logs/logger-proxy":"NeTJ","./collection":"EZHh","./request":"TItc","./util":"SGfG"}],"efW0":[function(require,module,exports) {
"use strict";var e=require("@babel/runtime-corejs2/core-js/object/define-property"),r=require("@babel/runtime-corejs2/helpers/interopRequireDefault");e(exports,"__esModule",{value:!0}),exports.default=void 0;var t=r(require("@babel/runtime-corejs2/regenerator")),n=r(require("@babel/runtime-corejs2/core-js/promise")),i=r(require("@babel/runtime-corejs2/helpers/asyncToGenerator")),a=r(require("url")),o=require("@webex/common"),s=require("../constants"),u=r(require("../common/errors/parameter")),c=r(require("../common/logs/logger-proxy")),l={getParsedUrl:function(e){try{var r=a.default.parse(e);return!!r&&(r.protocol||(r=a.default.parse("".concat(s.HTTPS_PROTOCOL).concat(e))),r)}catch(t){return c.default.logger.warn("Meeting-info:util#getParsedUrl --\x3e unable to parse the URL, error: ".concat(t)),null}},isMeetingLink:function(e){var r=l.getParsedUrl(e),t=r.hostname&&r.hostname.includes(s.WEBEX_DOT_COM),n=r.pathname&&(r.pathname.includes("/".concat(s.MEET))||r.pathname.includes("/".concat(s.MEET_M))||r.pathname.includes("/".concat(s.JOIN)));return t&&n},isConversationUrl:function(e,r){var t=r.internal.services.getClusterId(e);return!!t&&t.endsWith(s.CONVERSATION_SERVICE)},isSipUri:function(e){return s.DIALER_REGEX.SIP_ADDRESS.exec(e)},isPhoneNumber:function(e){return s.DIALER_REGEX.PHONE_NUMBER.test(e)},getHydraId:function(e){var r=(0,o.deconstructHydraId)(e),t=r.type,n=r.id,i=r.cluster;return n&&s.UUID_REG.test(n)?t===s._ROOM_?{room:!0,destination:n,cluster:i}:t===s._PEOPLE_?{people:!0,destination:n,cluster:i}:{}:{}},getSipUriFromHydraPersonId:function(e,r){return r.people.get(e).then(function(e){if(e.emails&&e.emails.length)return e.emails[0];throw new u.default("Hydra Id Lookup was an invalid hydra person id.")}).catch(function(e){throw c.default.logger.error("Meeting-info:util#MeetingInfoUtil.getSipUriFromHydraPersonId --\x3e getSipUriFromHydraPersonId ".concat(e," ")),e})}};l.getDestinationType=function(){var e=(0,i.default)(t.default.mark(function e(r){var i,a,o,d,p,f;return t.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(i=r.destination,a=r.type,o=r.webex,!a){e.next=3;break}return e.abrupt("return",{destination:i,type:a});case 3:if(d={},p=l.getHydraId(i),!l.isMeetingLink(i)){e.next=11;break}c.default.logger.warn("Meeting-info:util#generateOptions --\x3e WARN, use of Meeting Link is deprecated, please use a SIP URI instead"),d.type=s._MEETING_LINK_,d.destination=i,e.next=48;break;case 11:if(!l.isSipUri(i)){e.next=16;break}d.type=s._SIP_URI_,d.destination=i,e.next=48;break;case 16:if(!l.isPhoneNumber(i)){e.next=21;break}d.type=s._SIP_URI_,d.destination=i,e.next=48;break;case 21:if(!l.isConversationUrl(i,o)){e.next=26;break}d.type=s._CONVERSATION_URL_,d.destination=i,e.next=48;break;case 26:if(!p.people){e.next=31;break}return d.type=s._SIP_URI_,e.abrupt("return",l.getSipUriFromHydraPersonId(p.destination,o).then(function(e){return d.destination=e,d.wasHydraPerson=!0,n.default.resolve(d)}));case 31:if(!p.room){e.next=46;break}return d.type=s._CONVERSATION_URL_,e.prev=33,e.next=36,o.internal.services.waitForCatalog("postauth");case 36:f=o.internal.conversation.getUrlFromClusterId({cluster:p.cluster,id:p.destination}),d.destination=f,e.next=44;break;case 40:throw e.prev=40,e.t0=e.catch(33),c.default.logger.error("Meeting-info:util#getDestinationType --\x3e ".concat(e.t0)),e.t0;case 44:e.next=48;break;case 46:throw c.default.logger.warn("Meeting-info:util#getDestinationType --\x3e ('MeetingInfo is fetched with meeting link, sip uri, phone number, hydra room id, hydra people id, or a conversation url."),new u.default("MeetingInfo is fetched with meeting link, sip uri, phone number, hydra room id, hydra people id, or a conversation url.");case 48:return e.abrupt("return",n.default.resolve(d));case 49:case"end":return e.stop()}},e,null,[[33,40]])}));return function(r){return e.apply(this,arguments)}}(),l.getRequestBody=function(e){var r,t=e.type,n=e.destination,i={};switch(t){case s._SIP_URI_:i.sipUrl=n;break;case s._PERSONAL_ROOM_:i.userId=n,i.orgId="";break;case s._MEETING_ID_:i.meetingKey=n;break;case s._CONVERSATION_URL_:i.conversationUrl=n;break;case s._LOCUS_ID_:null!==(r=n.info)&&void 0!==r&&r.webExMeetingId&&(i.meetingKey=n.info.webExMeetingId);break;case s._MEETING_LINK_:i.meetingUrl=n;break;case s._MEETING_UUID_:i.meetingUUID=n}return i};var d=l;exports.default=d;
},{"@babel/runtime-corejs2/core-js/object/define-property":"eIqn","@babel/runtime-corejs2/helpers/interopRequireDefault":"LXwi","@babel/runtime-corejs2/regenerator":"i9LV","@babel/runtime-corejs2/core-js/promise":"eOfj","@babel/runtime-corejs2/helpers/asyncToGenerator":"OYLD","url":"Mej7","@webex/common":"UeF0","../constants":"swzz","../common/errors/parameter":"xdH9","../common/logs/logger-proxy":"NeTJ"}],"xQiG":[function(require,module,exports) {
"use strict";var e=require("@babel/runtime-corejs2/core-js/object/define-property"),t=require("@babel/runtime-corejs2/helpers/interopRequireDefault");e(exports,"__esModule",{value:!0}),exports.default=void 0;var r=t(require("@babel/runtime-corejs2/regenerator")),n=t(require("@babel/runtime-corejs2/helpers/asyncToGenerator")),u=t(require("@babel/runtime-corejs2/helpers/classCallCheck")),i=t(require("@babel/runtime-corejs2/helpers/createClass")),s=require("../constants"),a=t(require("./utilv2")),o=function(){function e(t){(0,u.default)(this,e),this.webex=t}return(0,i.default)(e,[{key:"fetchInfoOptions",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return a.default.getDestinationType({destination:e,type:t,webex:this.webex})}},{key:"fetchMeetingInfo",value:function(){var e=(0,n.default)(r.default.mark(function e(t){var n,u,i,o=arguments;return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=o.length>1&&void 0!==o[1]?o[1]:null,e.next=3,a.default.getDestinationType({destination:t,type:n,webex:this.webex});case 3:return u=e.sent,e.next=6,a.default.getRequestBody(u);case 6:return i=e.sent,e.abrupt("return",this.webex.request({method:s.HTTP_VERBS.POST,service:"webex-appapi-service",resource:"meetingInfo",body:i}));case 8:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()}]),e}();exports.default=o;
},{"@babel/runtime-corejs2/core-js/object/define-property":"eIqn","@babel/runtime-corejs2/helpers/interopRequireDefault":"LXwi","@babel/runtime-corejs2/regenerator":"i9LV","@babel/runtime-corejs2/helpers/asyncToGenerator":"OYLD","@babel/runtime-corejs2/helpers/classCallCheck":"Tzth","@babel/runtime-corejs2/helpers/createClass":"xM5U","../constants":"swzz","./utilv2":"efW0"}],"kr7h":[function(require,module,exports) {
var e=require("./_object-gopd"),r=require("./_object-gpo"),t=require("./_has"),i=require("./_export"),o=require("./_is-object"),u=require("./_an-object");function a(i,c){var v,g,l=arguments.length<3?i:arguments[2];return u(i)===l?i[c]:(v=e.f(i,c))?t(v,"value")?v.value:void 0!==v.get?v.get.call(l):void 0:o(g=r(i))?a(g,c,l):void 0}i(i.S,"Reflect",{get:a});
},{"./_object-gopd":"Wxid","./_object-gpo":"PsbN","./_has":"UB6D","./_export":"mBzY","./_is-object":"mW2H","./_an-object":"a1lZ"}],"u0bX":[function(require,module,exports) {
require("../../modules/es6.reflect.get"),module.exports=require("../../modules/_core").Reflect.get;
},{"../../modules/es6.reflect.get":"kr7h","../../modules/_core":"RosZ"}],"TemT":[function(require,module,exports) {
module.exports=require("core-js/library/fn/reflect/get");
},{"core-js/library/fn/reflect/get":"u0bX"}],"JC3K":[function(require,module,exports) {
var e=require("./getPrototypeOf.js");function o(o,r){for(;!Object.prototype.hasOwnProperty.call(o,r)&&null!==(o=e(o)););return o}module.exports=o,module.exports.default=module.exports,module.exports.__esModule=!0;
},{"./getPrototypeOf.js":"Qxr1"}],"wpd2":[function(require,module,exports) {
var e=require("@babel/runtime-corejs2/core-js/reflect/get"),o=require("@babel/runtime-corejs2/core-js/object/get-own-property-descriptor"),r=require("./superPropBase.js");function t(){return"undefined"!=typeof Reflect&&e?(module.exports=t=e,module.exports.default=module.exports,module.exports.__esModule=!0):(module.exports=t=function(e,t,u){var l=r(e,t);if(l){var s=o(l,t);return s.get?s.get.call(arguments.length<3?e:u):s.value}},module.exports.default=module.exports,module.exports.__esModule=!0),t.apply(this,arguments)}module.exports=t,module.exports.default=module.exports,module.exports.__esModule=!0;
},{"@babel/runtime-corejs2/core-js/reflect/get":"TemT","@babel/runtime-corejs2/core-js/object/get-own-property-descriptor":"mQ9c","./superPropBase.js":"JC3K"}],"LWpD":[function(require,module,exports) {
"use strict";var e=require("@babel/runtime-corejs2/core-js/reflect/construct"),r=require("@babel/runtime-corejs2/core-js/object/define-property"),t=require("@babel/runtime-corejs2/helpers/interopRequireDefault");r(exports,"__esModule",{value:!0}),exports.default=void 0;var u=t(require("@babel/runtime-corejs2/helpers/classCallCheck")),o=t(require("@babel/runtime-corejs2/helpers/createClass")),l=t(require("@babel/runtime-corejs2/helpers/get")),n=t(require("@babel/runtime-corejs2/helpers/inherits")),i=t(require("@babel/runtime-corejs2/helpers/possibleConstructorReturn")),a=t(require("@babel/runtime-corejs2/helpers/getPrototypeOf")),s=t(require("events")),c=t(require("../logs/logger-proxy")),f=t(require("../logs/logger-config")),p=t(require("./util"));function b(r){var t=d();return function(){var u,o=(0,a.default)(r);if(t){var l=(0,a.default)(this).constructor;u=e(o,arguments,l)}else u=o.apply(this,arguments);return(0,i.default)(this,u)}}function d(){if("undefined"==typeof Reflect||!e)return!1;if(e.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(e(Boolean,[],function(){})),!0}catch(r){return!1}}var h=function(e){(0,n.default)(t,e);var r=b(t);function t(){return(0,u.default)(this,t),r.apply(this,arguments)}return(0,o.default)(t,[{key:"emit",value:function(e,r,u){return c.default.logger.debug("".concat(p.default.getScopeLog(e),"event#").concat(r).concat(f.default.verboseEvents?" -- ".concat(p.default.getEventLog(u)):"")),(0,l.default)((0,a.default)(t.prototype),"emit",this).call(this,r,u)}}]),t}(s.default);exports.default=h;
},{"@babel/runtime-corejs2/core-js/reflect/construct":"vZQy","@babel/runtime-corejs2/core-js/object/define-property":"eIqn","@babel/runtime-corejs2/helpers/interopRequireDefault":"LXwi","@babel/runtime-corejs2/helpers/classCallCheck":"Tzth","@babel/runtime-corejs2/helpers/createClass":"xM5U","@babel/runtime-corejs2/helpers/get":"wpd2","@babel/runtime-corejs2/helpers/inherits":"CdTE","@babel/runtime-corejs2/helpers/possibleConstructorReturn":"w9GY","@babel/runtime-corejs2/helpers/getPrototypeOf":"Qxr1","events":"FRpO","../logs/logger-proxy":"NeTJ","../logs/logger-config":"AjFS","./util":"HOep"}],"Cx2Y":[function(require,module,exports) {
"use strict";var e=require("@babel/runtime-corejs2/core-js/object/define-property");e(exports,"__esModule",{value:!0}),exports.default=void 0;var t={intervals:[{audioReceive:[{common:{common:{direction:"inactive",isMain:!0,mariFecEnabled:!1,mariQosEnabled:!1,multistreamEnabled:!1},dtlsBitrate:0,dtlsPackets:0,fecBitrate:0,fecPackets:0,maxBitrate:0,mediaHopByHopLost:0,rtcpBitrate:0,rtcpPackets:0,rtpBitrate:0,rtpHopByHopLost:0,rtpPackets:0,rtpRecovered:0,rtxBitrate:0,rtxPackets:0,srtcpUnprotectErrors:0,srtpUnprotectErrors:0,stunBitrate:0,stunPackets:0,transportType:"UDP"},streams:[{common:{codec:"opus",concealedFrames:0,csi:[],maxConcealRunLength:0,optimalBitrate:0,optimalFrameRate:0,receivedBitrate:0,receivedFrameRate:0,renderedFrameRate:0,requestedBitrate:0,requestedFrameRate:0,rtpEndToEndLost:0,maxRtpJitter:0,meanRtpJitter:0,rtpPackets:0,ssci:0}}]}],audioTransmit:[{common:{availableBitrate:0,common:{direction:"inactive",isMain:!0,mariFecEnabled:!1,mariQosEnabled:!1,multistreamEnabled:!1},dtlsBitrate:0,dtlsPackets:0,fecBitrate:0,fecPackets:0,maxBitrate:0,queueDelay:0,remoteJitter:0,remoteLossRate:0,remoteReceiveRate:0,roundTripTime:0,rtcpBitrate:0,rtcpPackets:0,rtpBitrate:0,rtpPackets:0,rtxBitrate:0,rtxPackets:0,stunBitrate:0,stunPackets:0,transportType:"UDP"},streams:[{common:{codec:"opus",requestedBitrate:0,requestedFrames:0,rtpPackets:0,ssci:0,transmittedBitrate:0,transmittedFrameRate:0}}]}],intervalMetadata:{peerReflexiveIP:"0.0.0.0",peripherals:[],processAverageCPU:0,processMaximumCPU:0,systemAverageCPU:0,systemMaximumCPU:0},intervalNumber:0,videoReceive:[{common:{common:{direction:"inactive",isMain:!0,mariFecEnabled:!0,mariQosEnabled:!0,multistreamEnabled:!0},dtlsBitrate:0,dtlsPackets:0,fecBitrate:0,fecPackets:0,maxBitrate:0,mediaHopByHopLost:0,rtcpBitrate:0,rtcpPackets:0,rtpBitrate:0,rtpHopByHopLost:0,rtpPackets:0,rtpRecovered:0,rtxBitrate:0,rtxPackets:0,srtcpUnprotectErrors:0,srtpUnprotectErrors:0,stunBitrate:0,stunPackets:0,transportType:"UDP"},streams:[{common:{codec:"H264",concealedFrames:0,csi:[],maxConcealRunLength:0,optimalBitrate:0,optimalFrameRate:0,receivedBitrate:0,receivedFrameRate:0,renderedFrameRate:0,requestedBitrate:0,requestedFrameRate:0,rtpEndToEndLost:0,rtpJitter:0,rtpPackets:0,ssci:0},h264CodecProfile:"BP",isActiveSpeaker:!0,optimalFrameSize:0,receivedFrameSize:0,receivedHeight:0,receivedKeyFrames:0,receivedKeyFramesForRequest:0,receivedKeyFramesSourceChange:0,receivedKeyFramesUnknown:0,receivedWidth:0,requestedFrameSize:0,requestedKeyFrames:0}]},{common:{common:{direction:"inactive",isMain:!1,mariFecEnabled:!0,mariQosEnabled:!0,multistreamEnabled:!0},dtlsBitrate:0,dtlsPackets:0,fecBitrate:0,fecPackets:0,maxBitrate:0,mediaHopByHopLost:0,rtcpBitrate:0,rtcpPackets:0,rtpBitrate:0,rtpHopByHopLost:0,rtpPackets:0,rtpRecovered:0,rtxBitrate:0,rtxPackets:0,srtcpUnprotectErrors:0,srtpUnprotectErrors:0,stunBitrate:0,stunPackets:0,transportType:"UDP"},streams:[{common:{codec:"H264",concealedFrames:0,csi:[],maxConcealRunLength:0,optimalBitrate:0,optimalFrameRate:0,receivedBitrate:0,receivedFrameRate:0,renderedFrameRate:0,requestedBitrate:0,requestedFrameRate:0,rtpEndToEndLost:0,rtpJitter:0,rtpPackets:0,ssci:0},h264CodecProfile:"BP",isActiveSpeaker:!0,optimalFrameSize:0,receivedFrameSize:0,receivedHeight:0,receivedKeyFrames:0,receivedKeyFramesForRequest:0,receivedKeyFramesSourceChange:0,receivedKeyFramesUnknown:0,receivedWidth:0,requestedFrameSize:0,requestedKeyFrames:0}]}],videoTransmit:[{common:{availableBitrate:0,common:{direction:"inactive",isMain:!0,mariFecEnabled:!1,mariQosEnabled:!1,multistreamEnabled:!1},dtlsBitrate:0,dtlsPackets:0,fecBitrate:0,fecPackets:0,maxBitrate:0,queueDelay:0,remoteJitter:0,remoteLossRate:0,remoteReceiveRate:0,roundTripTime:0,rtcpBitrate:0,rtcpPackets:0,rtpBitrate:0,rtpPackets:0,rtxBitrate:0,rtxPackets:0,stunBitrate:0,stunPackets:0,transportType:"UDP"},streams:[{common:{codec:"H264",duplicateSsci:0,requestedBitrate:0,requestedFrames:0,rtpPackets:0,ssci:0,transmittedBitrate:0,transmittedFrameRate:0},h264CodecProfile:"BP",isAvatar:!1,isHardwareEncoded:!1,localConfigurationChanges:2,maxFrameQp:0,maxNoiseLevel:0,minRegionQp:0,remoteConfigurationChanges:0,requestedFrameSize:0,requestedKeyFrames:0,transmittedFrameSize:0,transmittedHeight:0,transmittedKeyFrames:0,transmittedKeyFramesClient:0,transmittedKeyFramesConfigurationChange:0,transmittedKeyFramesFeedback:0,transmittedKeyFramesLocalDrop:0,transmittedKeyFramesOtherLayer:0,transmittedKeyFramesPeriodic:0,transmittedKeyFramesSceneChange:0,transmittedKeyFramesStartup:0,transmittedKeyFramesUnknown:0,transmittedWidth:0}]},{common:{availableBitrate:0,common:{direction:"inactive",isMain:!1,mariFecEnabled:!1,mariQosEnabled:!1,multistreamEnabled:!1},dtlsBitrate:0,dtlsPackets:0,fecBitrate:0,fecPackets:0,maxBitrate:0,queueDelay:0,remoteJitter:0,remoteLossRate:0,remoteReceiveRate:0,roundTripTime:0,rtcpBitrate:0,rtcpPackets:0,rtpBitrate:0,rtpPackets:0,rtxBitrate:0,rtxPackets:0,stunBitrate:0,stunPackets:0,transportType:"UDP"},streams:[{common:{codec:"H264",duplicateSsci:0,requestedBitrate:0,requestedFrames:0,rtpPackets:0,ssci:0,transmittedBitrate:0,transmittedFrameRate:0},h264CodecProfile:"BP",isAvatar:!1,isHardwareEncoded:!1,localConfigurationChanges:2,maxFrameQp:0,maxNoiseLevel:0,minRegionQp:0,remoteConfigurationChanges:0,requestedFrameSize:0,requestedKeyFrames:0,transmittedFrameSize:0,transmittedHeight:0,transmittedKeyFrames:0,transmittedKeyFramesClient:0,transmittedKeyFramesConfigurationChange:0,transmittedKeyFramesFeedback:0,transmittedKeyFramesLocalDrop:0,transmittedKeyFramesOtherLayer:0,transmittedKeyFramesPeriodic:0,transmittedKeyFramesSceneChange:0,transmittedKeyFramesStartup:0,transmittedKeyFramesUnknown:0,transmittedWidth:0}]}]}]};exports.default=t;
},{"@babel/runtime-corejs2/core-js/object/define-property":"eIqn"}],"sGqy":[function(require,module,exports) {
"use strict";var e=require("@babel/runtime-corejs2/core-js/object/define-property");e(exports,"__esModule",{value:!0}),exports.default=void 0;var t={encryption:"sha-256",audio:{send:{maxPacketLossRatio:0,availableBandwidth:0,bytesSent:0,meanRemoteJitter:[],meanRoundTripTime:[]},recv:{availableBandwidth:0,bytesReceived:0,meanRtpJitter:[],meanRoundTripTime:[]}},video:{send:{maxPacketLossRatio:0,availableBandwidth:0,meanRemoteJitter:[],meanRoundTripTime:[]},recv:{availableBandwidth:0,totalPacketsLost:0,meanRtpJitter:[],meanRoundTripTime:[]},latency:0,packetsLost:0},share:{send:{maxPacketLossRatio:0,availableBandwidth:0,totalPacketsLost:0,meanRemoteJitter:[],meanRoundTripTime:[]},recv:{availableBandwidth:0,meanRtpJitter:[],meanRoundTripTime:[]},latency:0,packetsLost:0},bandwidth:{systemBandwidth:0,sentPerSecond:0,encodedPerSecond:0,helper:{audioBytesSent:0,videoBytestSent:0},speed:0},results:{},connectionType:{systemNetworkType:"unknown",systemIpAddress:"0.0.0.0",local:{candidateType:[],transport:[],ipAddress:[],networkType:[]},remote:{candidateType:[],transport:[],ipAddress:[],networkType:[]}},resolutions:{audio:{send:{width:0,height:0},recv:{width:0,height:0}},video:{send:{width:0,height:0},recv:{width:0,height:0}},share:{send:{width:0,height:0},recv:{width:0,height:0}}},internal:{audio:{send:{},recv:{}},video:{send:{},recv:{}},share:{send:{},recv:{}},remote:{},candidates:{}}},a=t;exports.default=a;
},{"@babel/runtime-corejs2/core-js/object/define-property":"eIqn"}],"tEIQ":[function(require,module,exports) {
var r=require("./isSymbol");function e(e,o,i){for(var l=-1,n=e.length;++l<n;){var u=e[l],v=o(u);if(null!=v&&(void 0===a?v==v&&!r(v):i(v,a)))var a=v,t=u}return t}module.exports=e;
},{"./isSymbol":"bgO7"}],"UVCT":[function(require,module,exports) {
function e(e,n){return e>n}module.exports=e;
},{}],"eg3j":[function(require,module,exports) {
var e=require("./_baseExtremum"),r=require("./_baseGt"),t=require("./identity");function i(i){return i&&i.length?e(i,t,r):void 0}module.exports=i;
},{"./_baseExtremum":"tEIQ","./_baseGt":"UVCT","./identity":"Jpv1"}],"tMos":[function(require,module,exports) {
function o(o,r){for(var e,n=-1,t=o.length;++n<t;){var v=r(o[n]);void 0!==v&&(e=void 0===e?v:e+v)}return e}module.exports=o;
},{}],"rTpy":[function(require,module,exports) {
var e=require("./_baseSum"),r=NaN;function u(u,n){var a=null==u?0:u.length;return a?e(u,n)/a:r}module.exports=u;
},{"./_baseSum":"tMos"}],"GK5x":[function(require,module,exports) {
var e=require("./_baseMean"),r=require("./identity");function i(i){return e(i,r)}module.exports=i;
},{"./_baseMean":"rTpy","./identity":"Jpv1"}],"fXYq":[function(require,module,exports) {
"use strict";var e=require("@babel/runtime-corejs2/core-js/object/define-property"),t=require("@babel/runtime-corejs2/helpers/interopRequireDefault");e(exports,"__esModule",{value:!0}),exports.getVideoSenderMqa=exports.getVideoReceiverMqa=exports.getAudioSenderMqa=exports.getAudioReceiverMqa=void 0;var o=t(require("lodash/max")),a=t(require("lodash/mean")),m=require("../constants"),r=function(e){var t=e.audioReceiver,r=e.statsResults,s=e.lastMqaDataSent,n=m.STATS.AUDIO_CORRELATE,i=m.STATS.RECEIVE_DIRECTION;t.common.common.direction=r[n].direction,t.common.transportType=r.connectionType.remote.transport[0],t.common.rtpPackets=r[n][i].totalPacketsReceived-s[n][i].totalPacketsReceived||0,t.streams[0].common.rtpPackets=t.common.rtpPackets,t.common.mediaHopByHopLost=r[n][i].totalPacketsLost-s[n][i].totalPacketsLost||0,t.common.rtpHopByHopLost=r[n][i].totalPacketsLost-s[n][i].totalPacketsLost||0,t.streams[0].common.maxRtpJitter=1e3*(0,o.default)(r[n][i].meanRtpJitter)||0,t.streams[0].common.meanRtpJitter=1e3*(0,a.default)(r[n][i].meanRtpJitter)||0,t.streams[0].common.rtpJitter=t.streams[0].common.maxRtpJitter;var c=r[n][i].fecPacketsReceived-s[n][i].fecPacketsReceived-(r[n][i].fecPacketsDiscarded-s[n][i].fecPacketsDiscarded);t.streams[0].common.rtpEndToEndLost=r[n][i].totalPacketsLost-s[n][i].totalPacketsLost-c||0,t.streams[0].common.framesDropped=r[n][i].totalSamplesDecoded-s[n][i].totalSamplesDecoded||0,t.streams[0].common.renderedFrameRate=100*t.streams[0].common.framesDropped/60||0,t.streams[0].common.framesReceived=r[n][i].totalSamplesReceived-s[n][i].totalSamplesReceived||0,t.streams[0].common.concealedFrames=r[n][i].concealedSamples-s[n][i].concealedSamples||0,t.streams[0].common.receivedBitrate=8*(r[n][i].totalBytesReceived-s[n][i].totalBytesReceived)/60||0,t.common.rtpBitrate=t.streams[0].common.receivedBitrate};exports.getAudioReceiverMqa=r;var s=function(e){var t=e.audioSender,r=e.statsResults,s=e.lastMqaDataSent,n=m.STATS.AUDIO_CORRELATE,i=m.STATS.SEND_DIRECTION;t.common.common.direction=r[n].direction,t.common.transportType=r.connectionType.local.transport[0],t.common.maxRemoteJitter=1e3*(0,o.default)(r[n][i].meanRemoteJitter)||0,t.common.meanRemoteJitter=1e3*(0,a.default)(r[n][i].meanRemoteJitter)||0,t.common.rtpPackets=r[n][i].totalPacketsSent-s[n][i].totalPacketsSent||0,t.streams[0].common.rtpPackets=t.common.rtpPackets,t.common.availableBitrate=r[n][i].availableOutgoingBitrate||0;var c=r[n][i].totalPacketsLostOnReceiver-s[n][i].totalPacketsLostOnReceiver;t.common.remoteLossRate=c>0?100*c/t.common.rtpPackets:0,t.common.maxRoundTripTime=1e3*(0,o.default)(r[n][i].meanRoundTripTime)||0,t.common.meanRoundTripTime=1e3*(0,a.default)(r[n][i].meanRoundTripTime)||0,t.common.roundTripTime=t.common.maxRoundTripTime;var d=r[n][i].totalBytesSent-s[n][i].totalBytesSent;t.streams[0].common.transmittedBitrate=d?8*d/60:0,t.common.rtpBitrate=t.streams[0].common.transmittedBitrate,t.streams[0].transmittedKeyFrames=r[n][i].totalKeyFramesEncoded-s[n][i].totalKeyFramesEncoded||0,t.streams[0].requestedKeyFrames=r[n][i].totalFirCount-s[n][i].totalFirCount||0};exports.getAudioSenderMqa=s;var n=function(e){var t=e.videoReceiver,r=e.statsResults,s=e.lastMqaDataSent,n=e.isShareStream,i=void 0!==n&&n?m.STATS.SHARE_CORRELATE:m.STATS.VIDEO_CORRELATE,c=m.STATS.RECEIVE_DIRECTION;t.common.common.direction=r[i].direction,t.common.transportType=r.connectionType.remote.transport[0],t.common.rtpPackets=r[i][c].totalPacketsReceived-s[i][c].totalPacketsReceived||0,t.streams[0].common.rtpPackets=t.common.rtpPackets;var d=r[i][c].totalPacketsLost-s[i][c].totalPacketsLost||0;t.common.mediaHopByHopLost=d,t.common.rtpHopByHopLost=d,t.streams[0].common.rtpEndToEndLost=d,t.common.maxRemoteJitter=1e3*(0,o.default)(r[i][c].meanRemoteJitter)||0,t.common.meanRemoteJitter=1e3*(0,a.default)(r[i][c].meanRemoteJitter)||0,t.streams[0].common.rtpJitter=t.common.maxRemoteJitter;var l=r[i][c].totalBytesReceived-s[i][c].totalBytesReceived;t.streams[0].common.receivedBitrate=l?8*l/60:0,t.common.rtpBitrate=t.streams[0].common.receivedBitrate;var p=r.resolutions[i][c].framesReceived-s.resolutions[i][c].framesReceived,R=r.resolutions[i][c].framesDecoded-s.resolutions[i][c].framesDecoded;t.streams[0].common.receivedFrameRate=p?100*p/60:0,t.streams[0].common.renderedFrameRate=R?100*R/60:0,t.streams[0].common.framesDropped=r.resolutions[i][c].framesDropped-s.resolutions[i][c].framesDropped,t.streams[0].receivedHeight=r.resolutions[i][c].height,t.streams[0].receivedWidth=r.resolutions[i][c].width,t.streams[0].receivedFrameSize=r.resolutions[i][c].height*r.resolutions[i][c].height/256,t.streams[0].receivedKeyFrames=r[i][c].keyFramesDecoded-s[i][c].keyFramesDecoded||0,t.streams[0].requestedKeyFrames=r[i][c].totalPliCount-s[i][c].totalPliCount||0};exports.getVideoReceiverMqa=n;var i=function(e){var t=e.videoSender,r=e.statsResults,s=e.lastMqaDataSent,n=e.isShareStream,i=void 0!==n&&n?m.STATS.SHARE_CORRELATE:m.STATS.VIDEO_CORRELATE,c=m.STATS.SEND_DIRECTION;t.common.common.direction=r[i].direction,t.common.transportType=r.connectionType.local.transport[0],t.common.maxRemoteJitter=1e3*(0,o.default)(r[i][c].meanRemoteJitter)||0,t.common.meanRemoteJitter=1e3*(0,a.default)(r[i][c].meanRemoteJitter)||0,t.common.rtpPackets=r[i][c].totalPacketsSent-s[i][c].totalPacketsSent||0,t.common.availableBitrate=r[i][c].availableOutgoingBitrate||0;var d=r[i][c].totalPacketsLostOnReceiver-s[i][c].totalPacketsLostOnReceiver;t.common.remoteLossRate=d>0?100*d/(t.common.rtpPackets+d):0,t.common.maxRoundTripTime=1e3*(0,o.default)(r[i][c].meanRoundTripTime)||0,t.common.meanRoundTripTime=1e3*(0,a.default)(r[i][c].meanRoundTripTime)||0,t.common.roundTripTime=t.common.maxRoundTripTime,t.streams[0].common.rtpPackets=r[i][c].totalPacketsSent-s[i][c].totalPacketsSent||0;var l=r[i][c].totalBytesSent-s[i][c].totalBytesSent;t.streams[0].common.transmittedBitrate=l?8*l/60:0,t.common.rtpBitrate=t.streams[0].common.transmittedBitrate,t.streams[0].transmittedKeyFrames=r[i][c].totalKeyFramesEncoded-s[i][c].totalKeyFramesEncoded||0,t.streams[0].requestedKeyFrames=r[i][c].totalFirCount-s[i][c].totalFirCount||0;var p=r.resolutions[i][c].framesSent-(s.resolutions[i][c].framesSent||0);t.streams[0].common.transmittedFrameRate=p?100*p/60:0,t.streams[0].transmittedHeight=r.resolutions[i][c].height,t.streams[0].transmittedWidth=r.resolutions[i][c].width,t.streams[0].transmittedFrameSize=r.resolutions[i][c].height*r.resolutions[i][c].width/254};exports.getVideoSenderMqa=i;
},{"@babel/runtime-corejs2/core-js/object/define-property":"eIqn","@babel/runtime-corejs2/helpers/interopRequireDefault":"LXwi","lodash/max":"eg3j","lodash/mean":"GK5x","../constants":"swzz"}],"eXh0":[function(require,module,exports) {
"use strict";var t=require("@babel/runtime-corejs2/core-js/reflect/construct"),e=require("@babel/runtime-corejs2/core-js/object/define-property"),s=require("@babel/runtime-corejs2/helpers/interopRequireDefault");e(exports,"__esModule",{value:!0}),exports.default=void 0;var a=s(require("@babel/runtime-corejs2/core-js/json/stringify")),i=s(require("@babel/runtime-corejs2/helpers/classCallCheck")),n=s(require("@babel/runtime-corejs2/helpers/createClass")),r=s(require("@babel/runtime-corejs2/helpers/assertThisInitialized")),o=s(require("@babel/runtime-corejs2/helpers/inherits")),l=s(require("@babel/runtime-corejs2/helpers/possibleConstructorReturn")),d=s(require("@babel/runtime-corejs2/helpers/getPrototypeOf")),u=s(require("@babel/runtime-corejs2/helpers/defineProperty")),c=s(require("lodash/cloneDeep")),R=s(require("../common/events/events-scope")),h=require("../constants"),p=s(require("../mediaQualityMetrics/config")),m=s(require("../common/logs/logger-proxy")),v=s(require("./global")),S=require("./mqaUtil");function f(e){var s=T();return function(){var a,i=(0,d.default)(e);if(s){var n=(0,d.default)(this).constructor;a=t(i,arguments,n)}else a=i.apply(this,arguments);return(0,l.default)(this,a)}}function T(){if("undefined"==typeof Reflect||!t)return!1;if(t.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(t(Boolean,[],function(){})),!0}catch(e){return!1}}var E=function(t){(0,o.default)(s,t);var e=f(s);function s(t){var a,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:v.default;return(0,i.default)(this,s),a=e.call(this),(0,u.default)((0,r.default)(a),"parseCandidate",function(t,e,s,i){if(t&&t.id){var n={},r={},o={},l={};if(t.id){var d=s?h.STATS.SEND_DIRECTION:h.STATS.RECEIVE_DIRECTION,u=i?h.STATS.REMOTE:h.STATS.LOCAL;n[t.id]||(n[t.id]=[]),r[t.id]||(r[t.id]=[]),o[t.id]||(o[t.id]=[]),l[t.id]||(l[t.id]=[]),t.candidateType&&-1===n[t.id].indexOf(t.candidateType)&&n[t.id].push(t.candidateType),t.protocol&&-1===r[t.id].indexOf(t.protocol)&&r[t.id].push(t.protocol.toUpperCase()),t.ip&&-1===o[t.id].indexOf("".concat(t.ip,":").concat(t.portNumber))&&o[t.id].push("".concat(t.ip)),t.networkType&&-1===l[t.id].indexOf(t.networkType)&&l[t.id].push(t.networkType),a.statsResults.internal.candidates[t.id]={candidateType:n[t.id],ipAddress:o[t.id],portNumber:t.port,networkType:l[t.id],priority:t.priority,transport:r[t.id],timestamp:t.time,id:t.id,type:t.type},a.statsResults.connectionType[u].candidateType=n[t.id],a.statsResults.connectionType[u].ipAddress=o[t.id],a.statsResults.connectionType[u].networkType=l[t.id][0]===h.NETWORK_TYPE.VPN?h.NETWORK_TYPE.UNKNOWN:l[t.id][0],a.statsResults.connectionType[u].transport=r[t.id],a.statsResults[e][d].totalRoundTripTime=t.totalRoundTripTime}}}),a.statsStarted=!1,a.statsResults=o,a.lastStatsResults=null,a.config=t,a.networkQualityMonitor=n,a.correlationId=t.correlationId,a.mqaSentCount=-1,a.lastMqaDataSent={resolutions:{video:{send:{},recv:{}},audio:{send:{},recv:{}},share:{send:{},recv:{}}},video:{send:{},recv:{}},audio:{send:{},recv:{}},share:{send:{},recv:{}}},a.localMQEStats={audio:{RX:{packetsLost:[],jitter:[],latency:[],bitRate:[]},TX:{packetsLost:[],jitter:[],latency:[],bitRate:[]}},video:{RX:{packetsLost:[],jitter:[],latency:[],bitRate:[],frameRate:[],resolutionWidth:[],resolutionHeight:[],requestedKeyFrame:[],receivedKeyFrame:[]},TX:{packetsLost:[],jitter:[],latency:[],bitRate:[],frameRate:[],resolutionWidth:[],resolutionHeight:[],requestedKeyFrame:[],receivedKeyFrame:[]}}},a}return(0,n.default)(s,[{key:"populateResults",value:function(t){this.localMQEStats.audio.RX.packetsLost.push(t.audioReceive[0].common.mediaHopByHopLost),this.localMQEStats.audio.RX.jitter.push(t.audioReceive[0].streams[0].common.rtpJitter),this.localMQEStats.audio.RX.latency.push(t.audioReceive[0].common.roundTripTime),this.localMQEStats.audio.RX.bitRate.push(t.audioReceive[0].streams[0].common.receivedBitrate),this.localMQEStats.audio.TX.packetsLost.push(t.audioTransmit[0].common.remoteLossRate),this.localMQEStats.audio.TX.jitter.push(t.audioTransmit[0].common.remoteJitter),this.localMQEStats.audio.TX.latency.push(t.audioTransmit[0].common.roundTripTime),this.localMQEStats.audio.TX.bitRate.push(t.audioTransmit[0].streams[0].common.transmittedBitrate),this.localMQEStats.video.RX.packetsLost.push(t.videoReceive[0].common.mediaHopByHopLost),this.localMQEStats.video.RX.jitter.push(t.videoReceive[0].streams[0].common.rtpJitter),this.localMQEStats.video.RX.latency.push(t.videoReceive[0].streams[0].common.roundTripTime),this.localMQEStats.video.RX.bitRate.push(t.videoReceive[0].streams[0].common.receivedBitrate),this.localMQEStats.video.RX.frameRate.push(t.videoReceive[0].streams[0].common.receivedFrameRate),this.localMQEStats.video.RX.resolutionWidth.push(t.videoReceive[0].streams[0].receivedWidth),this.localMQEStats.video.RX.resolutionHeight.push(t.videoReceive[0].streams[0].receivedHeight),this.localMQEStats.video.RX.requestedKeyFrame.push(),this.localMQEStats.video.RX.receivedKeyFrame.push(),this.localMQEStats.video.TX.packetsLost.push(t.videoTransmit[0].common.remoteLossRate),this.localMQEStats.video.TX.jitter.push(t.videoTransmit[0].common.remoteJitter),this.localMQEStats.video.TX.latency.push(t.videoTransmit[0].common.roundTripTime),this.localMQEStats.video.TX.bitRate.push(t.videoTransmit[0].streams[0].common.transmittedBitrate),this.localMQEStats.video.TX.frameRate.push(t.videoTransmit[0].streams[0].common.transmittedFrameRate),this.localMQEStats.video.TX.resolutionWidth.push(t.videoTransmit[0].streams[0].transmittedWidth),this.localMQEStats.video.TX.resolutionHeight.push(t.videoTransmit[0].streams[0].transmittedHeight),this.localMQEStats.video.TX.requestedKeyFrame.push(t.videoTransmit[0].streams[0].requestedKeyFrames),this.localMQEStats.video.TX.receivedKeyFrame.push()}},{key:"resetStatsResults",value:function(){this.statsResults.audio.send.meanRemoteJitter=[],this.statsResults.video.send.meanRemoteJitter=[],this.statsResults.share.send.meanRemoteJitter=[],this.statsResults.audio.recv.meanRtpJitter=[],this.statsResults.video.recv.meanRtpJitter=[],this.statsResults.share.recv.meanRtpJitter=[],this.statsResults.audio.send.meanRoundTripTime=[],this.statsResults.video.send.meanRoundTripTime=[],this.statsResults.share.send.meanRoundTripTime=[]}},{key:"updateMediaStatus",value:function(t){this.meetingMediaStatus=t}},{key:"sendMqaData",value:function(){var t,e,s,a,i,n,r,o,l=p.default.intervals[0].audioReceive[0],d=p.default.intervals[0].audioTransmit[0],u=p.default.intervals[0].videoReceive[0],R=p.default.intervals[0].videoTransmit[0],m=p.default.intervals[0].videoTransmit[1],v=p.default.intervals[0].videoReceive[1];(0,S.getAudioSenderMqa)({audioSender:d,statsResults:this.statsResults,lastMqaDataSent:this.lastMqaDataSent}),(0,S.getAudioReceiverMqa)({audioReceiver:l,statsResults:this.statsResults,lastMqaDataSent:this.lastMqaDataSent}),(0,S.getVideoReceiverMqa)({videoReceiver:u,statsResults:this.statsResults,lastMqaDataSent:this.lastMqaDataSent}),(0,S.getVideoSenderMqa)({videoSender:R,statsResults:this.statsResults,lastMqaDataSent:this.lastMqaDataSent}),(0,S.getVideoSenderMqa)({videoSender:m,statsResults:this.statsResults,lastMqaDataSent:this.lastMqaDataSent,isShareStream:!0}),(0,S.getVideoReceiverMqa)({videoReceiver:v,statsResults:this.statsResults,lastMqaDataSent:this.lastMqaDataSent,isShareStream:!0}),p.default.intervals[0].intervalMetadata.peerReflexiveIP=this.statsResults.connectionType.local.ipAddress[0],p.default.intervals[0].intervalMetadata.peripherals=[],p.default.intervals[0].intervalMetadata.peripherals.push({information:h._UNKNOWN_,name:h.MEDIA_DEVICES.SPEAKER}),p.default.intervals[0].intervalMetadata.peripherals.push({information:(null===(t=this.peerConnection)||void 0===t?void 0:null===(e=t.audioTransceiver)||void 0===e?void 0:null===(s=e.sender)||void 0===s?void 0:null===(a=s.track)||void 0===a?void 0:a.label)||h._UNKNOWN_,name:h.MEDIA_DEVICES.MICROPHONE}),p.default.intervals[0].intervalMetadata.peripherals.push({information:(null===(i=this.peerConnection)||void 0===i?void 0:null===(n=i.videoTransceiver)||void 0===n?void 0:null===(r=n.sender)||void 0===r?void 0:null===(o=r.track)||void 0===o?void 0:o.label)||h._UNKNOWN_,name:h.MEDIA_DEVICES.CAMERA}),p.default.networkType=this.statsResults.connectionType.local.networkType,this.mqaSentCount=this.mqaSentCount+1,p.default.intervals[0].intervalNumber=this.mqaSentCount,this.lastMqaDataSent=(0,c.default)(this.statsResults),this.populateResults(p.default.intervals[0]),this.resetStatsResults(),this.emit({file:"statsAnalyzer",function:"sendMqaData"},h.EVENT_TRIGGERS.MEDIA_QUALITY,{data:p.default.intervals[0],networkType:p.default.networkType})}},{key:"updatePeerconnection",value:function(t){this.peerConnection=t}},{key:"startAnalyzer",value:function(t){var e=this;this.statsStarted||(this.statsStarted=!0,this.peerConnection=t,this.getStatsAndParse(),this.statsInterval=setInterval(function(){e.getStatsAndParse()},this.config.analyzerInterval),this.sendMqaData(),this.mqaInterval=setInterval(function(){e.sendMqaData()},h.MQA_INTEVAL))}},{key:"stopAnalyzer",value:function(){this.statsInterval&&(this.getStatsAndParse(),clearInterval(this.statsInterval),this.statsInterva=void 0),this.mqaInterval&&(this.sendMqaData(),clearInterval(this.mqaInterval),this.statsInterva=void 0),this.peerConnection=null}},{key:"parseGetStatsResult",value:function(t,e,s){if(t)switch(t.type){case"outbound-rtp":this.processOutboundRTPResult(t,e);break;case"inbound-rtp":this.processInboundRTPResult(t,e);break;case"track":this.processTrackResult(t,e);break;case"remote-inbound-rtp":case"remote-outbound-rtp":this.compareSentAndReceived(t,e,s);break;case"remotecandidate":case"remote-candidate":this.parseCandidate(t,e,s,!0);break;case"local-candidate":this.parseCandidate(t,e,s,!1);break;case"media-source":this.parseAudioSource(t,e)}}},{key:"filterAndParseGetStatsResults",value:function(t,e,s){var a=this,i=h.DEFAULT_GET_STATS_FILTER.types;t.forEach(function(t){i.includes(t.type)&&a.parseGetStatsResult(t,e,s)})}},{key:"parseAudioSource",value:function(t,e){t&&e===h.STATS.AUDIO_CORRELATE&&(this.statsResults[e].send.audioLevel=t.audioLevel,this.statsResults[e].send.totalAudioEnergy=t.totalAudioEnergy)}},{key:"compareLastStatsResult",value:function(){if(null!==this.lastStatsResults&&this.meetingMediaStatus){var t=h.STATS.AUDIO_CORRELATE,e=null,s=null;this.meetingMediaStatus.expected.sendAudio&&(e=this.statsResults[t].send,s=this.lastStatsResults[t].send,e.totalPacketsSent===s.totalPacketsSent||0===e.totalPacketsSent?m.default.logger.info("StatsAnalyzer:index#compareLastStatsResult --\x3e No ".concat(t," RTP packets sent")):(e.totalAudioEnergy!==s.totalAudioEnergy&&0!==e.totalAudioEnergy||m.default.logger.info("StatsAnalyzer:index#compareLastStatsResult --\x3e No ".concat(t," Energy present")),0===e.audioLevel&&m.default.logger.info("StatsAnalyzer:index#compareLastStatsResult --\x3e ".concat(t," level is 0 for the user"))),0===s.totalPacketsSent&&e.totalPacketsSent>0&&this.emit({file:"statsAnalyzer/index",function:"compareLastStatsResult"},h.EVENT_TRIGGERS.MEETING_MEDIA_LOCAL_STARTED,{type:t.AUDIO})),this.meetingMediaStatus.expected.receiveAudio&&(e=this.statsResults[t].recv,s=this.lastStatsResults[t].recv,e.totalPacketsReceived===s.totalPacketsReceived||0===e.totalPacketsReceived?m.default.logger.info("StatsAnalyzer:index#compareLastStatsResult --\x3e No ".concat(t," RTP packets received")):e.totalSamplesReceived!==s.totalSamplesReceived&&0!==e.totalSamplesReceived||m.default.logger.info("StatsAnalyzer:index#compareLastStatsResult --\x3e No ".concat(t," samples received"))),t=h.STATS.VIDEO_CORRELATE,this.meetingMediaStatus.expected.sendVideo&&(e=this.statsResults[t].send,s=this.lastStatsResults[t].send,e.totalPacketsSent===s.totalPacketsSent||0===e.totalPacketsSent?m.default.logger.info("StatsAnalyzer:index#compareLastStatsResult --\x3e No ".concat(t," RTP packets sent")):(e.framesEncoded!==s.framesEncoded&&0!==e.framesEncoded||m.default.logger.info("StatsAnalyzer:index#compareLastStatsResult --\x3e No ".concat(t," Frames Encoded")),this.statsResults.resolutions[t].send.framesSent!==this.lastStatsResults.resolutions[t].send.framesSent&&0!==this.statsResults.resolutions[t].send.framesSent||m.default.logger.info("StatsAnalyzer:index#compareLastStatsResult --\x3e No ".concat(t," Frames sent"))),0===s.framesSent&&e.framesSent>0&&this.emit({file:"statsAnalyzer/index",function:"compareLastStatsResult"},h.EVENT_TRIGGERS.MEETING_MEDIA_LOCAL_STARTED,{type:t.VIDEO})),this.meetingMediaStatus.expected.receiveVideo&&(e=this.statsResults[t].recv,s=this.lastStatsResults[t].recv,e.totalPacketsReceived===s.totalPacketsReceived||0===e.totalPacketsReceived?m.default.logger.info("StatsAnalyzer:index#compareLastStatsResult --\x3e No ".concat(t," RTP packets received")):(this.statsResults.resolutions[t].recv.framesReceived!==this.lastStatsResults.resolutions[t].recv.framesReceived&&0!==this.statsResults.resolutions[t].recv.framesReceived||m.default.logger.info("StatsAnalyzer:index#compareLastStatsResult --\x3e No ".concat(t," frames received")),this.statsResults.resolutions[t].recv.framesDecoded!==this.lastStatsResults.resolutions[t].recv.framesDecoded&&0!==this.statsResults.resolutions[t].send.framesDecoded||m.default.logger.info("StatsAnalyzer:index#compareLastStatsResult --\x3e No ".concat(t," frames decoded")),this.statsResults.resolutions[t].recv.framesDropped-this.lastStatsResults.resolutions[t].recv.framesDropped>10&&m.default.logger.info("StatsAnalyzer:index#compareLastStatsResult --\x3e ".concat(t," frames are getting dropped")))),t=h.STATS.SHARE_CORRELATE,this.meetingMediaStatus.expected.sendShare&&(e=this.statsResults[t].send,s=this.lastStatsResults[t].send,e.totalPacketsSent===s.totalPacketsSent||0===e.totalPacketsSent?m.default.logger.info("StatsAnalyzer:index#compareLastStatsResult --\x3e No ".concat(t," RTP packets sent")):(e.framesEncoded!==s.framesEncoded&&0!==e.framesEncoded||m.default.logger.info("StatsAnalyzer:index#compareLastStatsResult --\x3e No ".concat(t," frames getting encoded")),this.statsResults.resolutions[t].send.framesSent!==this.lastStatsResults.resolutions[t].send.framesSent&&0!==this.statsResults.resolutions[t].send.framesSent||m.default.logger.info("StatsAnalyzer:index#compareLastStatsResult --\x3e No ".concat(t," frames sent"))),0===s.framesSent&&e.framesSent>0&&this.emit({file:"statsAnalyzer/index",function:"compareLastStatsResult"},h.EVENT_TRIGGERS.MEETING_MEDIA_LOCAL_STARTED,{type:t.VIDEO}),e=this.statsResults[t].recv,s=this.lastStatsResults[t].recv,e.totalPacketsReceived===s.totalPacketsReceived||0===e.totalPacketsSent?m.default.logger.info("StatsAnalyzer:index#compareLastStatsResult --\x3e No ".concat(t," RTP packets received")):(this.statsResults.resolutions[t].recv.framesReceived!==this.lastStatsResults.resolutions[t].recv.framesReceived&&0!==this.statsResults.resolutions[t].recv.framesReceived||m.default.logger.info("StatsAnalyzer:index#compareLastStatsResult --\x3e No ".concat(t," frames received")),this.statsResults.resolutions[t].recv.framesDecoded!==this.lastStatsResults.resolutions[t].recv.framesDecoded&&0!==this.statsResults.resolutions[t].send.framesDecoded||m.default.logger.info("StatsAnalyzer:index#compareLastStatsResult --\x3e No ".concat(t," frames decoded")),this.statsResults.resolutions[t].recv.framesDropped-this.lastStatsResults.resolutions[t].recv.framesDropped>10&&m.default.logger.info("StatsAnalyzer:index#compareLastStatsResult --\x3e ".concat(t," frames are getting dropped"))))}}},{key:"getStatsAndParse",value:function(){var t=this;this.peerConnection&&(this.peerConnection&&this.peerConnection.connectionState===h.CONNECTION_STATE.FAILED?m.default.logger.trace("StatsAnalyzer:index#getStatsAndParse --\x3e PeerConnection is in failed state"):(m.default.logger.trace("StatsAnalyzer:index#getStatsAndParse --\x3e Collecting Stats"),this.peerConnection.videoTransceiver.sender.getStats().then(function(e){t.filterAndParseGetStatsResults(e,h.STATS.VIDEO_CORRELATE,!0)}),this.peerConnection.videoTransceiver.receiver.getStats().then(function(e){t.filterAndParseGetStatsResults(e,h.STATS.VIDEO_CORRELATE,!1)}),this.peerConnection.audioTransceiver.sender.getStats().then(function(e){t.filterAndParseGetStatsResults(e,h.STATS.AUDIO_CORRELATE,!0)}),this.peerConnection.audioTransceiver.receiver.getStats().then(function(e){t.filterAndParseGetStatsResults(e,h.STATS.AUDIO_CORRELATE,!1)}),this.peerConnection.shareTransceiver.sender.getStats().then(function(e){t.filterAndParseGetStatsResults(e,h.STATS.SHARE_CORRELATE,!0)}),this.peerConnection.shareTransceiver.receiver.getStats().then(function(e){t.filterAndParseGetStatsResults(e,h.STATS.SHARE_CORRELATE,!1)}),this.statsResults[h.STATS.AUDIO_CORRELATE].direction=this.peerConnection.audioTransceiver.currentDirection,this.statsResults[h.STATS.VIDEO_CORRELATE].direction=this.peerConnection.videoTransceiver.currentDirection,this.statsResults[h.STATS.SHARE_CORRELATE].direction=this.peerConnection.shareTransceiver.currentDirection,this.compareLastStatsResult(),this.lastStatsResults=JSON.parse((0,a.default)(this.statsResults)),m.default.logger.trace("StatsAnalyzer:index#getStatsAndParse --\x3e Finished Collecting Stats")))}},{key:"processOutboundRTPResult",value:function(t,e){var s=e||h.STATS.AUDIO_CORRELATE,a=h.STATS.SEND_DIRECTION;if(t.bytesSent){var i=0;this.statsResults.internal[s][a].prevBytesSent||(this.statsResults.internal[s][a].prevBytesSent=t.bytesSent),this.statsResults.internal[s][a].framesEncoded||(this.statsResults.internal[s][a].framesEncoded=t.framesEncoded),this.statsResults.internal[s][a].keyFramesEncoded||(this.statsResults.internal[s][a].keyFramesEncoded=t.keyFramesEncoded);var n=t.bytesSent-this.statsResults.internal[s][a].prevBytesSent;this.statsResults.internal[s][a].prevBytesSent=t.bytesSent,i=n/1024,this.statsResults[s][a].availableBandwidth=i.toFixed(1),this.statsResults[s].bytesSent=i,this.statsResults[s][a].framesEncoded=t.framesEncoded-this.statsResults.internal[s][a].framesEncoded,this.statsResults[s][a].keyFramesEncoded=t.keyFramesEncoded-this.statsResults.internal[s][a].keyFramesEncoded,this.statsResults.internal[s].outboundRtpId=t.id,this.statsResults.internal[s][a].packetsSent||(this.statsResults.internal[s][a].packetsSent=t.packetsSent),this.statsResults[s][a].packetsSent=t.packetsSent-this.statsResults.internal[s][a].packetsSent,this.statsResults.internal[s][a].packetsSent=t.packetsSent,this.statsResults[s][a].totalKeyFramesEncoded=t.keyFramesEncoded,this.statsResults[s][a].totalNackCount=t.nackCount,this.statsResults[s][a].totalPliCount=t.pliCount,this.statsResults[s][a].totalPacketsSent=t.packetsSent,this.statsResults[s][a].totalFirCount=t.firCount,this.statsResults[s][a].framesEncoded=t.framesEncoded,this.statsResults[s][a].encoderImplementation=t.encoderImplementation,this.statsResults[s][a].qualityLimitationReason=t.qualityLimitationReason,this.statsResults[s][a].qualityLimitationResolutionChanges=t.qualityLimitationResolutionChanges,this.statsResults[s][a].retransmittedPacketsSent=t.retransmittedPacketsSent,this.statsResults[s][a].totalBytesSent=t.bytesSent,this.statsResults[s][a].headerBytesSent=t.headerBytesSent,this.statsResults[s][a].retransmittedBytesSent=t.retransmittedBytesSent}}},{key:"processInboundRTPResult",value:function(t,e){var s=e||h.STATS.AUDIO_CORRELATE,a=h.STATS.RECEIVE_DIRECTION;if(t.bytesReceived){var i=0;this.statsResults.internal[s][a].prevBytesReceived||(this.statsResults.internal[s][a].prevBytesReceived=t.bytesReceived),this.statsResults.internal[s][a].pliCount||(this.statsResults.internal[s][a].pliCount=t.pliCount),this.statsResults.internal[s][a].packetsLost||(this.statsResults.internal[s][a].packetsLost=t.packetsLost),this.statsResults.internal[s][a].totalPacketsReceived||(this.statsResults.internal[s][a].totalPacketsReceived=t.packetsReceived),this.statsResults.internal[s][a].lastPacketReceivedTimestamp||(this.statsResults.internal[s][a].lastPacketReceivedTimestamp=t.lastPacketReceivedTimestamp);var n=t.bytesReceived-this.statsResults.internal[s][a].prevBytesReceived;this.statsResults.internal[s][a].prevBytesReceived=t.bytesReceived,i=n/1024,this.statsResults[s][a].availableBandwidth=i.toFixed(1),this.statsResults[s].bytesReceived=i.toFixed(1),this.statsResults[s][a].pliCount=t.pliCount-this.statsResults.internal[s][a].pliCount,this.statsResults[s][a].currentPacketsLost=t.packetsLost-this.statsResults.internal[s][a].packetsLost,this.statsResults[s][a].currentPacketsLost<0&&(this.statsResults[s][a].currentPacketsLost=0),this.statsResults[s][a].packetsReceived=t.packetsReceived-this.statsResults.internal[s][a].totalPacketsReceived,this.statsResults.internal[s][a].totalPacketsReceived=t.packetsReceived,0===this.statsResults[s][a].packetsReceived&&m.default.logger.info("StatsAnalyzer:index#processInboundRTPResult --\x3e No packets received for ".concat(s," "),this.statsResults[s][a].packetsReceived),this.statsResults[s][a].currentPacketLossRatio=this.statsResults[s][a].currentPacketsLost>0?this.statsResults[s][a].currentPacketsLost/(this.statsResults[s][a].packetsReceived+this.statsResults[s][a].currentPacketsLost):0,this.statsResults[s][a].currentPacketLossRatio>3&&m.default.logger.info("StatsAnalyzer:index#processInboundRTPResult --\x3e Packets getting lost from the receiver ",this.statsResults[s][a].currentPacketLossRatio),t.packetsLost?this.statsResults[s][a].totalPacketsLost=t.packetsLost>0?t.packetsLost:-t.packetsLost:this.statsResults[s][a].totalPacketsLost=0,this.statsResults[s][a].lastPacketReceivedTimestamp=t.lastPacketReceivedTimestamp,this.statsResults[s][a].totalNackCount=t.nackCount,this.statsResults[s][a].totalPliCount=t.pliCount,this.statsResults[s][a].framesDecoded=t.framesDecoded,this.statsResults[s][a].keyFramesDecoded=t.keyFramesDecoded,this.statsResults[s][a].decoderImplementation=t.decoderImplementation,this.statsResults[s][a].totalPacketsReceived=t.packetsReceived,this.statsResults[s][a].fecPacketsDiscarded=t.fecPacketsDiscarded,this.statsResults[s][a].fecPacketsReceived=t.fecPacketsReceived,this.statsResults[s][a].totalBytesReceived=t.bytesReceived,this.statsResults[s][a].headerBytesReceived=t.headerBytesReceived,this.statsResults[s][a].meanRtpJitter.push(t.jitter),this.statsResults[s][a].audioLevel=t.audioLevel,this.statsResults[s][a].totalAudioEnergy=t.totalAudioEnergy,this.statsResults[s][a].totalSamplesReceived=t.totalSamplesReceived||0,this.statsResults[s][a].totalSamplesDecoded=t.totalSamplesDecoded||0,this.statsResults[s][a].concealedSamples=t.concealedSamples||0}}},{key:"processTrackResult",value:function(t,e){if(t&&"track"===t.type&&"track"===t.type){var s=!0===t.remoteSource?h.STATS.RECEIVE_DIRECTION:h.STATS.SEND_DIRECTION;if(t.frameWidth&&t.frameHeight&&(this.statsResults.resolutions[e][s].width=t.frameWidth,this.statsResults.resolutions[e][s].height=t.frameHeight,this.statsResults.resolutions[e][s].framesSent=t.framesSent,this.statsResults.resolutions[e][s].hugeFramesSent=t.hugeFramesSent),s===h.STATS.RECEIVE_DIRECTION&&(this.statsResults.resolutions[e][s].framesReceived=t.framesReceived,this.statsResults.resolutions[e][s].framesDecoded=t.framesDecoded,this.statsResults.resolutions[e][s].framesDropped=t.framesDropped),t.trackIdentifier&&e!==h.STATS.AUDIO_CORRELATE){this.statsResults.resolutions[e][s].trackIdentifier=t.trackIdentifier;var a=t&&t.jitterBufferDelay,i=t&&t.jitterBufferEmittedCount;this.statsResults.resolutions[e][s].avgJitterDelay=i&&+a/+i,this.statsResults.resolutions[e][s].jitterBufferDelay=t.jitterBufferDelay,this.statsResults.resolutions[e][s].jitterBufferEmittedCount=t.jitterBufferEmittedCount}}}},{key:"compareSentAndReceived",value:function(t,e){if(e){var s=e;this.statsResults.internal[s].send.totalPacketsLostOnReceiver||(this.statsResults.internal[s].send.totalPacketsLostOnReceiver=t.packetsLost);var a=t.packetsLost-this.statsResults.internal[s].send.totalPacketsLostOnReceiver;this.statsResults.internal[s].send.totalPacketsLostOnReceiver=t.packetsLost,this.statsResults[s].send.packetsLostOnReceiver=a,this.statsResults[s].send.totalPacketsLostOnReceiver=t.packetsLost,this.statsResults[s].send.meanRemoteJitter.push(t.jitter),this.statsResults[s].send.meanRoundTripTime.push(t.roundTripTime),this.statsResults[s].send.timestamp=t.timestamp,this.statsResults[s].send.ssrc=t.ssrc,this.statsResults[s].send.reportsReceived=t.reportsReceived,this.statsResults[s].send.overAllPacketLossRatio=this.statsResults[s].send.totalPacketsLostOnReceiver>0?this.statsResults[s].send.totalPacketsLostOnReceiver/this.statsResults[s].send.totalPacketsSent:0,this.statsResults[s].send.currentPacketLossRatio=this.statsResults[s].send.packetsLostOnReceiver>0?100*this.statsResults[s].send.packetsLostOnReceiver/(this.statsResults[s].send.packetsSent+this.statsResults[s].send.packetsLostOnReceiver):0,this.statsResults[s].send.maxPacketLossRatio<this.statsResults[s].send.currentPacketLossRatio&&(this.statsResults[s].send.maxPacketLossRatio=this.statsResults[s].send.currentPacketLossRatio),"remote-inbound-rtp"===t.type&&this.networkQualityMonitor.determineUplinkNetworkQuality({mediaType:s,remoteRtpResults:t,statsAnalyzerCurrentStats:this.statsResults})}}}]),s}(R.default);exports.default=E;
},{"@babel/runtime-corejs2/core-js/reflect/construct":"vZQy","@babel/runtime-corejs2/core-js/object/define-property":"eIqn","@babel/runtime-corejs2/helpers/interopRequireDefault":"LXwi","@babel/runtime-corejs2/core-js/json/stringify":"E09K","@babel/runtime-corejs2/helpers/classCallCheck":"Tzth","@babel/runtime-corejs2/helpers/createClass":"xM5U","@babel/runtime-corejs2/helpers/assertThisInitialized":"YqR0","@babel/runtime-corejs2/helpers/inherits":"CdTE","@babel/runtime-corejs2/helpers/possibleConstructorReturn":"w9GY","@babel/runtime-corejs2/helpers/getPrototypeOf":"Qxr1","@babel/runtime-corejs2/helpers/defineProperty":"n5FU","lodash/cloneDeep":"Y0zI","../common/events/events-scope":"LWpD","../constants":"swzz","../mediaQualityMetrics/config":"Cx2Y","../common/logs/logger-proxy":"NeTJ","./global":"sGqy","./mqaUtil":"fXYq"}],"yg5b":[function(require,module,exports) {
var e=require("./_is-object"),r=require("./_meta").onFreeze;require("./_object-sap")("freeze",function(n){return function(t){return n&&e(t)?n(r(t)):t}});
},{"./_is-object":"mW2H","./_meta":"c1Ga","./_object-sap":"vH7c"}],"FMBl":[function(require,module,exports) {
require("../../modules/es6.object.freeze"),module.exports=require("../../modules/_core").Object.freeze;
},{"../../modules/es6.object.freeze":"yg5b","../../modules/_core":"RosZ"}],"LJ37":[function(require,module,exports) {
module.exports=require("core-js/library/fn/object/freeze");
},{"core-js/library/fn/object/freeze":"FMBl"}],"aBrD":[function(require,module,exports) {
"use strict";var e=require("@babel/runtime-corejs2/core-js/reflect/construct"),t=require("@babel/runtime-corejs2/core-js/object/define-property"),r=require("@babel/runtime-corejs2/helpers/interopRequireDefault");t(exports,"__esModule",{value:!0}),exports.default=void 0;var i=r(require("@babel/runtime-corejs2/core-js/object/freeze")),u=r(require("@babel/runtime-corejs2/helpers/defineProperty")),a=r(require("@babel/runtime-corejs2/helpers/classCallCheck")),o=r(require("@babel/runtime-corejs2/helpers/createClass")),n=r(require("@babel/runtime-corejs2/helpers/inherits")),l=r(require("@babel/runtime-corejs2/helpers/possibleConstructorReturn")),s=r(require("@babel/runtime-corejs2/helpers/getPrototypeOf")),c=r(require("../common/events/events-scope")),f=require("../constants");function y(t){var r=p();return function(){var i,u=(0,s.default)(t);if(r){var a=(0,s.default)(this).constructor;i=e(u,arguments,a)}else i=u.apply(this,arguments);return(0,l.default)(this,i)}}function p(){if("undefined"==typeof Reflect||!e)return!1;if(e.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(e(Boolean,[],function(){})),!0}catch(t){return!1}}var d=function(e){(0,n.default)(r,e);var t=y(r);function r(e){var o,n;return(0,a.default)(this,r),(n=t.call(this)).config=e,n.indicatorTypes=(0,i.default)({PACKETLOSS:"packetLoss",LATENCY:"latency",JITTER:"jitter"}),n.frequencyTypes=(0,i.default)({UPLINK:"uplink",DOWNLINK:"downlink"}),n.networkQualityScore=1,n.networkQualityStatus=(0,u.default)({},n.frequencyTypes.UPLINK,(o={},(0,u.default)(o,f.STATS.VIDEO_CORRELATE,{}),(0,u.default)(o,f.STATS.AUDIO_CORRELATE,{}),(0,u.default)(o,f.STATS.SHARE_CORRELATE,{}),o)),n.mediaType=null,n}return(0,o.default)(r,[{key:"emitNetworkQuality",value:function(){this.emit({file:"networkQualityMonitor",function:"emitNetworkQuality"},f.EVENT_TRIGGERS.NETWORK_QUALITY,{mediaType:this.mediaType,networkQualityScore:this.networkQualityScore})}},{key:"updateNetworkQualityStatus",value:function(){this.emitNetworkQuality(),this.networkQualityScore=1,this.mediaType=null}},{key:"determineUplinkNetworkQuality",value:function(e){var t=this,r=e.mediaType,i=e.remoteRtpResults,u=e.statsAnalyzerCurrentStats,a=1e3*i.roundTripTime,o=1e3*i.jitter,n=u[r].send.currentPacketLossRatio;this.mediaType=r;var l=this.indicatorTypes,s=l.JITTER,c=l.PACKETLOSS,f=l.LATENCY,y=this.frequencyTypes.UPLINK,p=function(e){return void 0===e?null:e};this.networkQualityStatus[y][r][c]={acceptable:!(n>t.config.videoPacketLossRatioThreshold&&(t.networkQualityScore=0,1)),value:p(n)},this.networkQualityStatus[y][r][f]={acceptable:!(a>t.config.rttThreshold&&(t.networkQualityScore=0,1)),value:p(i.roundTripTime)},this.networkQualityStatus[y][r][s]={acceptable:!(o>t.config.jitterThreshold&&(t.networkQualityScore=0,1)),value:p(i.jitter)},this.updateNetworkQualityStatus()}},{key:"networkQualityStats",get:function(){var e=this.frequencyTypes.UPLINK;return this.networkQualityStatus[e]}}]),r}(c.default);exports.default=d;
},{"@babel/runtime-corejs2/core-js/reflect/construct":"vZQy","@babel/runtime-corejs2/core-js/object/define-property":"eIqn","@babel/runtime-corejs2/helpers/interopRequireDefault":"LXwi","@babel/runtime-corejs2/core-js/object/freeze":"LJ37","@babel/runtime-corejs2/helpers/defineProperty":"n5FU","@babel/runtime-corejs2/helpers/classCallCheck":"Tzth","@babel/runtime-corejs2/helpers/createClass":"xM5U","@babel/runtime-corejs2/helpers/inherits":"CdTE","@babel/runtime-corejs2/helpers/possibleConstructorReturn":"w9GY","@babel/runtime-corejs2/helpers/getPrototypeOf":"Qxr1","../common/events/events-scope":"LWpD","../constants":"swzz"}],"aPZ3":[function(require,module,exports) {
var r=require("./_global").parseFloat,e=require("./_string-trim").trim;module.exports=1/r(require("./_string-ws")+"-0")!=-1/0?function(t){var i=e(String(t),3),a=r(i);return 0===a&&"-"==i.charAt(0)?-0:a}:r;
},{"./_global":"j4Jx","./_string-trim":"XxCV","./_string-ws":"mTIH"}],"dusM":[function(require,module,exports) {
var r=require("./_export"),e=require("./_parse-float");r(r.G+r.F*(parseFloat!=e),{parseFloat:e});
},{"./_export":"mBzY","./_parse-float":"aPZ3"}],"x2R0":[function(require,module,exports) {
require("../modules/es6.parse-float"),module.exports=require("../modules/_core").parseFloat;
},{"../modules/es6.parse-float":"dusM","../modules/_core":"RosZ"}],"QyHQ":[function(require,module,exports) {
module.exports=require("core-js/library/fn/parse-float");
},{"core-js/library/fn/parse-float":"x2R0"}],"vmqN":[function(require,module,exports) {
"use strict";var e=require("@babel/runtime-corejs2/core-js/object/define-property"),r=require("@babel/runtime-corejs2/helpers/interopRequireDefault");e(exports,"__esModule",{value:!0}),exports.default=void 0;var o=r(require("@babel/runtime-corejs2/core-js/promise")),t=r(require("../peer-connection-manager")),n=require("../constants"),i=r(require("../common/logs/logger-proxy")),a=r(require("../common/errors/parameter")),c={},u=n._ANSWER_.toLowerCase();c.shouldHandleMedia=function(e){return!(e.mediaProperties.peerConnection&&e.mediaProperties.peerConnection.signalingState===n.SDP.HAVE_LOCAL_OFFER)},c.handleError=function(e){return t.default.rollBackLocalDescription({peerConnection:e}).then(function(){return o.default.resolve(!0)}).catch(function(e){return i.default.logger.error("Roap:util#handleError --\x3e ".concat(e)),o.default.reject(e)})},c.findError=function(e,r,o){return(o===n.ROAP.RECEIVE_ROAP_MSG||o===n.ROAP.SEND_ROAP_MSG)&&e===n._ERROR_&&r===n._CONFLICT_},c.ensureMeeting=function(e,r){return!!(r!==n.ROAP.RECEIVE_ROAP_MSG&&r!==n.ROAP.SEND_ROAP_MSG&&r!==n.ROAP.SEND_ROAP_MSG_SUCCESS||e)},c.updatePeerConnection=function(e,r){return t.default.updatePeerConnection({offerSdp:r.OFFER.sdps,peerConnection:e.mediaProperties.peerConnection},{meetingId:e.id,remoteQualityLevel:e.mediaProperties.remoteQualityLevel}).then(function(o){return e.roap.lastRoapOffer=r.OFFER.sdps,o})},c.setRemoteDescription=function(e,r){return i.default.logger.info("Roap:util#setRemoteDescription --\x3e Transmit WAIT_TX_OK, correlationId: ".concat(e.correlationId)),e&&e.mediaProperties.peerConnection?t.default.setRemoteSessionDetails(e.mediaProperties.peerConnection,u,r.ANSWER.sdps[0],e.id).then(function(){return i.default.logger.info("Roap:util#setRemoteDescription --\x3e Success for correlationId: ".concat(e.correlationId)),{seq:r.ANSWER.seq,locusId:e.locusId,locusSelfId:e.locusInfo.self.id,mediaId:e.mediaId,correlationId:e.correlationId}}).catch(function(e){throw i.default.logger.error("Roap:util#setRemoteDescription --\x3e ".concat(e)),e}):(i.default.logger.error("Roap:util#setRemoteDescription --\x3e DANGER no media or screen peer connection, correlationId: ".concat(e.correlationId)),o.default.reject(new a.default("Must provide a media or screen peer connection")))};var s=c;exports.default=s;
},{"@babel/runtime-corejs2/core-js/object/define-property":"eIqn","@babel/runtime-corejs2/helpers/interopRequireDefault":"LXwi","@babel/runtime-corejs2/core-js/promise":"eOfj","../peer-connection-manager":"mZnB","../constants":"swzz","../common/logs/logger-proxy":"NeTJ","../common/errors/parameter":"xdH9"}],"OLqi":[function(require,module,exports) {
var define;
var t;!function(n,i){"object"==typeof exports&&"object"==typeof module?module.exports=i():"function"==typeof t&&t.amd?t("StateMachine",[],i):"object"==typeof exports?exports.StateMachine=i():n.StateMachine=i()}(this,function(){return function(t){var n={};function i(e){if(n[e])return n[e].exports;var s=n[e]={i:e,l:!1,exports:{}};return t[e].call(s.exports,s,s.exports,i),s.l=!0,s.exports}return i.m=t,i.c=n,i.i=function(t){return t},i.d=function(t,n,e){i.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:e})},i.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(n,"a",n),n},i.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},i.p="",i(i.s=5)}([function(t,n,i){"use strict";t.exports=function(t,n){var i,e,s;for(i=1;i<arguments.length;i++)for(s in e=arguments[i])e.hasOwnProperty(s)&&(t[s]=e[s]);return t}},function(t,n,i){"use strict";var e=i(0);t.exports={build:function(t,n){var i,s,r,o=n.plugins;for(i=0,s=o.length;i<s;i++)(r=o[i]).methods&&e(t,r.methods),r.properties&&Object.defineProperties(t,r.properties)},hook:function(t,n,i){var e,s,r,o,a=t.config.plugins,f=[t.context];for(i&&(f=f.concat(i)),e=0,s=a.length;e<s;e++)o=a[e],(r=a[e][n])&&r.apply(o,f)}}},function(t,n,i){"use strict";function e(t){if(0===t.length)return t;var n,i,e=t.split(/[_-]/);if(1===e.length&&e[0][0].toLowerCase()===e[0][0])return t;for(i=e[0].toLowerCase(),n=1;n<e.length;n++)i=i+e[n].charAt(0).toUpperCase()+e[n].substring(1).toLowerCase();return i}e.prepended=function(t,n){return t+(n=e(n))[0].toUpperCase()+n.substring(1)},t.exports=e},function(t,n,i){"use strict";var e=i(0),s=i(2);function r(t,n){t=t||{},this.options=t,this.defaults=n.defaults,this.states=[],this.transitions=[],this.map={},this.lifecycle=this.configureLifecycle(),this.init=this.configureInitTransition(t.init),this.data=this.configureData(t.data),this.methods=this.configureMethods(t.methods),this.map[this.defaults.wildcard]={},this.configureTransitions(t.transitions||[]),this.plugins=this.configurePlugins(t.plugins,n.plugin)}e(r.prototype,{addState:function(t){this.map[t]||(this.states.push(t),this.addStateLifecycleNames(t),this.map[t]={})},addStateLifecycleNames:function(t){this.lifecycle.onEnter[t]=s.prepended("onEnter",t),this.lifecycle.onLeave[t]=s.prepended("onLeave",t),this.lifecycle.on[t]=s.prepended("on",t)},addTransition:function(t){this.transitions.indexOf(t)<0&&(this.transitions.push(t),this.addTransitionLifecycleNames(t))},addTransitionLifecycleNames:function(t){this.lifecycle.onBefore[t]=s.prepended("onBefore",t),this.lifecycle.onAfter[t]=s.prepended("onAfter",t),this.lifecycle.on[t]=s.prepended("on",t)},mapTransition:function(t){var n=t.name,i=t.from,e=t.to;return this.addState(i),"function"!=typeof e&&this.addState(e),this.addTransition(n),this.map[i][n]=t,t},configureLifecycle:function(){return{onBefore:{transition:"onBeforeTransition"},onAfter:{transition:"onAfterTransition"},onEnter:{state:"onEnterState"},onLeave:{state:"onLeaveState"},on:{transition:"onTransition"}}},configureInitTransition:function(t){return"string"==typeof t?this.mapTransition(e({},this.defaults.init,{to:t,active:!0})):"object"==typeof t?this.mapTransition(e({},this.defaults.init,t,{active:!0})):(this.addState(this.defaults.init.from),this.defaults.init)},configureData:function(t){return"function"==typeof t?t:"object"==typeof t?function(){return t}:function(){return{}}},configureMethods:function(t){return t||{}},configurePlugins:function(t,n){var i,e,s;for(i=0,e=(t=t||[]).length;i<e;i++)"function"==typeof(s=t[i])&&(t[i]=s=s()),s.configure&&s.configure(this);return t},configureTransitions:function(t){var n,i,e,s,r,o=this.defaults.wildcard;for(i=0;i<t.length;i++)for(e=t[i],s=Array.isArray(e.from)?e.from:[e.from||o],r=e.to||o,n=0;n<s.length;n++)this.mapTransition({name:e.name,from:s[n],to:r})},transitionFor:function(t,n){var i=this.defaults.wildcard;return this.map[t][n]||this.map[i][n]},transitionsFor:function(t){var n=this.defaults.wildcard;return Object.keys(this.map[t]).concat(Object.keys(this.map[n]))},allStates:function(){return this.states},allTransitions:function(){return this.transitions}}),t.exports=r},function(t,n,i){var e=i(0),s=i(6),r=i(1),o=[null,[]];function a(t,n){this.context=t,this.config=n,this.state=n.init.from,this.observers=[t]}e(a.prototype,{init:function(t){if(e(this.context,this.config.data.apply(this.context,t)),r.hook(this,"init"),this.config.init.active)return this.fire(this.config.init.name,[])},is:function(t){return Array.isArray(t)?t.indexOf(this.state)>=0:this.state===t},isPending:function(){return this.pending},can:function(t){return!this.isPending()&&!!this.seek(t)},cannot:function(t){return!this.can(t)},allStates:function(){return this.config.allStates()},allTransitions:function(){return this.config.allTransitions()},transitions:function(){return this.config.transitionsFor(this.state)},seek:function(t,n){var i=this.config.defaults.wildcard,e=this.config.transitionFor(this.state,t),s=e&&e.to;return"function"==typeof s?s.apply(this.context,n):s===i?this.state:s},fire:function(t,n){return this.transit(t,this.state,this.seek(t,n),n)},transit:function(t,n,i,e){var s=this.config.lifecycle,r=this.config.options.observeUnchangedState||n!==i;return i?this.isPending()?this.context.onPendingTransition(t,n,i):(this.config.addState(i),this.beginTransit(),e.unshift({transition:t,from:n,to:i,fsm:this.context}),this.observeEvents([this.observersForEvent(s.onBefore.transition),this.observersForEvent(s.onBefore[t]),r?this.observersForEvent(s.onLeave.state):o,r?this.observersForEvent(s.onLeave[n]):o,this.observersForEvent(s.on.transition),r?["doTransit",[this]]:o,r?this.observersForEvent(s.onEnter.state):o,r?this.observersForEvent(s.onEnter[i]):o,r?this.observersForEvent(s.on[i]):o,this.observersForEvent(s.onAfter.transition),this.observersForEvent(s.onAfter[t]),this.observersForEvent(s.on[t])],e)):this.context.onInvalidTransition(t,n,i)},beginTransit:function(){this.pending=!0},endTransit:function(t){return this.pending=!1,t},failTransit:function(t){throw this.pending=!1,t},doTransit:function(t){this.state=t.to},observe:function(t){if(2===t.length){var n={};n[t[0]]=t[1],this.observers.push(n)}else this.observers.push(t[0])},observersForEvent:function(t){for(var n,i=0,e=this.observers.length,s=[];i<e;i++)(n=this.observers[i])[t]&&s.push(n);return[t,s,!0]},observeEvents:function(t,n,i,e){if(0===t.length)return this.endTransit(void 0===e||e);var s=t[0][0],o=t[0][1],a=t[0][2];if(n[0].event=s,s&&a&&s!==i&&r.hook(this,"lifecycle",n),0===o.length)return t.shift(),this.observeEvents(t,n,s,e);var f=o.shift(),c=f[s].apply(f,n);return c&&"function"==typeof c.then?c.then(this.observeEvents.bind(this,t,n,s)).catch(this.failTransit.bind(this)):!1===c?this.endTransit(!1):this.observeEvents(t,n,s,c)},onInvalidTransition:function(t,n,i){throw new s("transition is invalid in current state",t,n,i,this.state)},onPendingTransition:function(t,n,i){throw new s("transition is invalid while previous transition is still in progress",t,n,i,this.state)}}),t.exports=a},function(t,n,i){"use strict";var e=i(0),s=i(2),r=i(1),o=i(3),a=i(4),f={is:function(t){return this._fsm.is(t)},can:function(t){return this._fsm.can(t)},cannot:function(t){return this._fsm.cannot(t)},observe:function(){return this._fsm.observe(arguments)},transitions:function(){return this._fsm.transitions()},allTransitions:function(){return this._fsm.allTransitions()},allStates:function(){return this._fsm.allStates()},onInvalidTransition:function(t,n,i){return this._fsm.onInvalidTransition(t,n,i)},onPendingTransition:function(t,n,i){return this._fsm.onPendingTransition(t,n,i)}},c={state:{configurable:!1,enumerable:!0,get:function(){return this._fsm.state},set:function(t){throw Error("use transitions to change state")}}};function u(t){return h(this||{},t)}function h(t,n){return l(t,new o(n,u)),t._fsm(),t}function l(t,n){if("object"!=typeof t||Array.isArray(t))throw Error("StateMachine can only be applied to objects");r.build(t,n),Object.defineProperties(t,c),e(t,f),e(t,n.methods),n.allTransitions().forEach(function(n){t[s(n)]=function(){return this._fsm.fire(n,[].slice.call(arguments))}}),t._fsm=function(){this._fsm=new a(this,n),this._fsm.init(arguments)}}u.version="3.0.1",u.factory=function(){var t,n;"function"==typeof arguments[0]?(t=arguments[0],n=arguments[1]||{}):(t=function(){this._fsm.apply(this,arguments)},n=arguments[0]||{});var i=new o(n,u);return l(t.prototype,i),t.prototype._fsm.config=i,t},u.apply=h,u.defaults={wildcard:"*",init:{name:"init",from:"none"}},t.exports=u},function(t,n,i){"use strict";t.exports=function(t,n,i,e,s){this.message=t,this.transition=n,this.from=i,this.to=e,this.current=s}}])});
},{}],"KUXe":[function(require,module,exports) {
"use strict";var e=require("@babel/runtime-corejs2/core-js/object/define-property"),t=require("@babel/runtime-corejs2/helpers/interopRequireDefault");e(exports,"__esModule",{value:!0}),exports.default=void 0;var A=t(require("javascript-state-machine")),r=t(require("../common/logs/logger-proxy")),R=require("../constants"),a=function(e,t){var A=e.msg.messageType;if(t){if(A===R._OFFER_&&e.remote&&t.shareStatus===R._REQUESTED_)return!1;if(!t.mediaProperties.peerConnection&&A===R._ANSWER_)return!1}return r.default.logger.log("Roap:state#shouldStep --\x3e RoapStateMachine: PeerConnectionState, ",t.mediaProperties.peerConnection.signalingState),r.default.logger.log("Roap:state#shouldStep --\x3e RoapStateMachine: success save proceeding with transition, ",e.msg),!0},n=function(e,t,A){switch(r.default.logger.log("Roap:state#handleTransition --\x3e current ".concat(e," to ").concat(t)),e){case R.ROAP.ROAP_STATE.INIT:return t===R.ROAP.ROAP_SIGNAL.RX_OFFER?R.ROAP.ROAP_STATE.WAIT_TX_ANSWER:t===R.ROAP.ROAP_SIGNAL.TX_OFFER?R.ROAP.ROAP_STATE.WAIT_RX_ANSWER:e;case R.ROAP.ROAP_STATE.WAIT_RX_OFFER:return e;case R.ROAP.ROAP_STATE.WAIT_RX_ANSWER:return t===R.ROAP.ROAP_SIGNAL.RX_ANSWER?A.mediaId?R.ROAP.ROAP_STATE.WAIT_TX_OK:(r.default.logger.error("Roap:state#handleTransition --\x3e Race Condition no mediaId, continuing."),e):t===R.ROAP.ROAP_SIGNAL.RX_OFFER?R.ROAP.ROAP_STATE.GLARE:e;case R.ROAP.ROAP_STATE.WAIT_TX_OFFER:return e;case R.ROAP.ROAP_STATE.WAIT_TX_ANSWER:return t===R.ROAP.ROAP_SIGNAL.TX_ANSWER?R.ROAP.ROAP_STATE.WAIT_RX_OK:e;case R.ROAP.ROAP_STATE.WAIT_TX_OK:return t===R.ROAP.ROAP_SIGNAL.TX_OK?R.ROAP.ROAP_STATE.INIT:e;case R.ROAP.ROAP_STATE.WAIT_RX_OK:return t===R.ROAP.ROAP_SIGNAL.RX_OK?R.ROAP.ROAP_STATE.INIT:e;case R.ROAP.ROAP_STATE.ERROR:return R.ROAP.ROAP_STATE.INIT;case R.ROAP.ROAP_STATE.GLARE:return R.ROAP.ROAP_STATE.WAIT_RX_ANSWER;default:return e}},o={createState:function(){return new(A.default.factory({init:R.ROAP.ROAP_STATE.INIT,transitions:[{name:R.ROAP.ROAP_TRANSITIONS.STEP,from:"*",to:function(e,t,A){var r=this.state;return a(A,t)?n(r,e,t):r}}],methods:{onAfterStep:function(e){r.default.logger.log("Roap:state#onAfterStep --\x3e RoapStateMachine->onAfterStep#fired! State changed from '".concat(e.from,"' to '").concat(e.to,"' with transition '").concat(e.transition,"''."))}}}))}},T=o;exports.default=T;
},{"@babel/runtime-corejs2/core-js/object/define-property":"eIqn","@babel/runtime-corejs2/helpers/interopRequireDefault":"LXwi","javascript-state-machine":"OLqi","../common/logs/logger-proxy":"NeTJ","../constants":"swzz"}],"pg5L":[function(require,module,exports) {
"use strict";var e=require("@babel/runtime-corejs2/core-js/object/define-property"),s=require("@babel/runtime-corejs2/helpers/interopRequireDefault");e(exports,"__esModule",{value:!0}),exports.default=void 0;var i=s(require("../roap/state")),t={sessions:{},getSession:function(e){return this.sessions[e]||(this.sessions[e]={activeSequences:0}),this.sessions[e]},deleteSession:function(e){this.getSession(e)&&delete this.sessions[e]},getSessionSequence:function(e,s){var t=this.getSession(e);return t[s]||(t[s]={state:i.default.createState(),finished:!1},t.activeSequences+=1),t[s]},deleteSessionSequence:function(e,s){var i=this.getSessionSequence(e,s);i&&(i.finished||(session.activeSequences-=1),delete this.sessions[e][s])},isBusy:function(e){var s=this.getSession(e);return!!s&&s.activeSequences>0},onSessionSequenceFinish:function(e,s){var i=this.getSession(e),t=i[s];t&&!t.finished&&(t.finished=!0,i.activeSequences-=1)}},n=t;exports.default=n;
},{"@babel/runtime-corejs2/core-js/object/define-property":"eIqn","@babel/runtime-corejs2/helpers/interopRequireDefault":"LXwi","../roap/state":"KUXe"}],"NLU8":[function(require,module,exports) {
"use strict";var e=require("@babel/runtime-corejs2/core-js/reflect/construct"),r=require("@babel/runtime-corejs2/core-js/object/define-property"),t=require("@babel/runtime-corejs2/helpers/interopRequireDefault");r(exports,"__esModule",{value:!0}),exports.default=void 0;var a=t(require("@babel/runtime-corejs2/helpers/classCallCheck")),o=t(require("@babel/runtime-corejs2/helpers/createClass")),n=t(require("@babel/runtime-corejs2/helpers/inherits")),s=t(require("@babel/runtime-corejs2/helpers/possibleConstructorReturn")),l=t(require("@babel/runtime-corejs2/helpers/getPrototypeOf")),i=t(require("@babel/runtime-corejs2/core-js/json/stringify")),c=require("@webex/webex-core"),u=t(require("../common/logs/logger-proxy")),d=require("../constants"),R=t(require("../metrics")),p=t(require("./util")),f=t(require("./collection"));function g(r){var t=A();return function(){var a,o=(0,l.default)(r);if(t){var n=(0,l.default)(this).constructor;a=e(o,arguments,n)}else a=o.apply(this,arguments);return(0,s.default)(this,a)}}function A(){if("undefined"==typeof Reflect||!e)return!1;if(e.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(e(Boolean,[],function(){})),!0}catch(r){return!1}}var E=function(e,r,t){if(e&&e.type){if(e.msg&&e.msg.messageType&&e.msg.errorType&&p.default.findError(e.msg.messageType,e.msg.errorType,e.type))return p.default.handleError(r.mediaProperties.peerConnection).then(function(r){r&&f.default.deleteSessionSequence(t,e.msg.seq)}).catch(function(e){u.default.logger.warn("Roap:handler#checkForAndHandleErrors --\x3e Cannot reset the peer connection with error: ".concat(e))}),!0;if(!p.default.ensureMeeting(r,e.type))return!0}return!1},m=function(e,r){var t,a;return(null==e?void 0:null===(t=e.msg)||void 0===t?void 0:t.seq)===r.msg.seq&&(null==e?void 0:null===(a=e.msg)||void 0===a?void 0:a.messageType)===r.msg.messageType},h=function(e){var r=e.roap,t=e.session,a=e.locusUrl,o=e.correlationId,n=r.msg,s=n.seq,l=n.messageType;if(t.OFFER&&l===d._OFFER_){t.GLARE_OFFER=r.msg,t.GLARE_OFFER.remote=!!r.remote;var c=d.METRICS_OPERATIONAL_MEASURES.ROAP_GLARE_CONDITION,p={correlation_id:o,locus_id:a.split("/").pop(),sequence:s};R.default.sendOperationalMetric(c,p),u.default.logger.warn("Roap:handler#handleSessionStep --\x3e Glare condition occurred with new mercury event, sequenceId: ".concat(s))}else u.default.logger.info("Roap:handler#handleSessionStep --\x3e Save OFFER/ANSWER seq:".concat(s," new mercury event ").concat(l,"local state: ").concat((0,i.default)(t.state.state,null,2))),t[l]=r.msg,t[l].remote=!!r.remote},O=function(e){(0,n.default)(t,e);var r=g(t);function t(e,o,n,s,l){var i;return(0,a.default)(this,t),(i=r.call(this,{},o)).attrs=e,i.options=o,i.roapOk=n,i.roapFinished=l,i.roapAnswer=s,i.lastRoapMessage=null,i}return(0,o.default)(t,[{key:"perform",value:function(e,r,t){var a=this;switch(e.state.state){case d.ROAP.ROAP_STATE.INIT:this.roapFinished(r.correlationId,t.msg.seq);break;case d.ROAP.ROAP_STATE.WAIT_TX_ANSWER:p.default.shouldHandleMedia(r)&&p.default.updatePeerConnection(r,e).then(function(t){a.roapAnswer({locusId:r.locusId,locusSelfId:r.locusInfo.self.id,mediaId:r.mediaId,sdps:t,seq:e.OFFER.seq,correlationId:r.correlationId,audioMuted:r.isAudioMuted(),videoMuted:r.isVideoMuted()})}).catch(function(e){var t=d.METRICS_OPERATIONAL_MEASURES.ROAP_ANSWER_FAILURE,a={correlation_id:r.correlationId,locus_id:r.locusUrl.split("/").pop(),reason:e.message,stack:e.stack},o={type:e.name};R.default.sendOperationalMetric(t,a,o),u.default.logger.error("Roap:handler#perform --\x3e Error occured during wait receive answer, continuing, ".concat(e))});break;case d.ROAP.ROAP_STATE.WAIT_TX_OK:p.default.shouldHandleMedia(r)||p.default.setRemoteDescription(r,e).then(function(e){a.roapOk(e)});break;case d.ROAP.ROAP_STATE.ERROR:u.default.logger.error("Roap:handler#perform --\x3e Roap State ERROR for session: ".concat(e));break;case d.ROAP.ROAP_STATE.GLARE:e.GLARE_OFFER.tieBreaker=e.GLARE_OFFER.tieBreaker||0,e.OFFER.tieBreaker=e.OFFER.tieBreaker||0,u.default.logger.warn("Roap:handler#perform --\x3e Roap State resolved the GLARE condition."),e.GLARE_OFFER.tieBreaker<e.OFFER.tieBreaker?u.default.logger.log("Roap:handler#perform --\x3e Roap State local offer won after GLARE."):u.default.logger.log("Roap:handler#perform --\x3e Roap State remote offer won after GLARE."),e.state.step(d.ROAP.ROAP_SIGNAL.GLARE_RESOLVED,r,t),this.perform(e,r)}}},{key:"execute",value:function(e,r,t,a,o){r&&r.state&&(h({roap:t,locusUrl:a.locusUrl,correlationId:a.correlationId,session:r}),e=d.ROAP.ROAP_SIGNAL["".concat(o).concat(t.msg.messageType)],r.state.step(e,a,t),this.perform(r,a,t))}},{key:"handleAction",value:function(e,r,t,a){switch(r.type){case d.ROAP.RECEIVE_ROAP_MSG:u.default.logger.log("Roap:handler#handleAction --\x3e RECEIVE_ROAP_MSG event captured, reciving a roap message : ".concat((0,i.default)(r))),m(this.lastRoapMessage,r)?u.default.logger.warn("Roap:handler#handleAction --\x3e duplicate roap offer from server: ".concat(r.msg.seq)):(this.lastRoapMessage=r,r.remote=!0,this.execute(void 0,e,r,t,d.ROAP.RX_));break;case d.ROAP.SEND_ROAP_MSG:u.default.logger.log("Roap:handler#handleAction --\x3e SEND_ROAP_MSG event captured, sending roap message ".concat((0,i.default)(r))),r.local=!0,this.execute(void 0,e,r,t,d.ROAP.TX_);break;case d.ROAP.SEND_ROAP_MSG_SUCCESS:break;case d.ROAP.RECEIVE_CALL_LEAVE:f.default.deleteSession(a),u.default.logger.log("Roap:handler#handleAction --\x3e RECEIVE_CALL_LEAVE event captured, cleaning up the RoapHandler for correlationId: ".concat(a));break;case d.ROAP.RESET_ROAP_STATE:f.default.deleteSessionSequence(a,r.msg.seq),u.default.logger.log("Roap:handler#handleAction --\x3e RESET_ROAP_STATE event captured, resetting the RoapHandler state based on sequenceId: ".concat(r.msg.seq));break;default:return!0}return!0}},{key:"submit",value:function(e){var r=e.correlationId,t=e.seq;!t&&e.msg&&(t=e.msg.seq);var a=f.default.getSessionSequence(r,t),o=this.webex.meetings.meetingCollection.getByKey("correlationId",r);return!!E(e,o,r)||this.handleAction(a,e,o,r)}}]),t}(c.StatelessWebexPlugin);exports.default=O;
},{"@babel/runtime-corejs2/core-js/reflect/construct":"vZQy","@babel/runtime-corejs2/core-js/object/define-property":"eIqn","@babel/runtime-corejs2/helpers/interopRequireDefault":"LXwi","@babel/runtime-corejs2/helpers/classCallCheck":"Tzth","@babel/runtime-corejs2/helpers/createClass":"xM5U","@babel/runtime-corejs2/helpers/inherits":"CdTE","@babel/runtime-corejs2/helpers/possibleConstructorReturn":"w9GY","@babel/runtime-corejs2/helpers/getPrototypeOf":"Qxr1","@babel/runtime-corejs2/core-js/json/stringify":"E09K","@webex/webex-core":"bqGz","../common/logs/logger-proxy":"NeTJ","../constants":"swzz","../metrics":"LvoJ","./util":"vmqN","./collection":"pg5L"}],"Smz3":[function(require,module,exports) {
"use strict";var e=require("@babel/runtime-corejs2/core-js/reflect/construct"),r=require("@babel/runtime-corejs2/core-js/object/keys"),t=require("@babel/runtime-corejs2/core-js/object/get-own-property-symbols"),o=require("@babel/runtime-corejs2/core-js/object/get-own-property-descriptor"),a=require("@babel/runtime-corejs2/core-js/object/get-own-property-descriptors"),n=require("@babel/runtime-corejs2/core-js/object/define-properties"),i=require("@babel/runtime-corejs2/core-js/object/define-property"),c=require("@babel/runtime-corejs2/helpers/interopRequireDefault");i(exports,"__esModule",{value:!0}),exports.default=void 0;var u=c(require("@babel/runtime-corejs2/regenerator")),s=c(require("@babel/runtime-corejs2/core-js/object/keys")),l=c(require("@babel/runtime-corejs2/core-js/promise")),d=c(require("@babel/runtime-corejs2/core-js/json/stringify")),p=c(require("@babel/runtime-corejs2/helpers/defineProperty")),f=c(require("@babel/runtime-corejs2/helpers/asyncToGenerator")),b=c(require("@babel/runtime-corejs2/helpers/classCallCheck")),g=c(require("@babel/runtime-corejs2/helpers/createClass")),h=c(require("@babel/runtime-corejs2/helpers/inherits")),v=c(require("@babel/runtime-corejs2/helpers/possibleConstructorReturn")),m=c(require("@babel/runtime-corejs2/helpers/getPrototypeOf")),q=require("@webex/webex-core"),j=c(require("../common/logs/logger-proxy")),y=require("../constants"),R=c(require("../metrics")),x=require("../metrics/config"),M=c(require("../common/errors/parameter"));function I(e,a){var n=r(e);if(t){var i=t(e);a&&(i=i.filter(function(r){return o(e,r).enumerable})),n.push.apply(n,i)}return n}function w(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?I(Object(t),!0).forEach(function(r){(0,p.default)(e,r,t[r])}):a?n(e,a(t)):I(Object(t)).forEach(function(r){i(e,r,o(t,r))})}return e}function T(r){var t=E();return function(){var o,a=(0,m.default)(r);if(t){var n=(0,m.default)(this).constructor;o=e(a,arguments,n)}else o=a.apply(this,arguments);return(0,v.default)(this,o)}}function E(){if("undefined"==typeof Reflect||!e)return!1;if(e.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(e(Boolean,[],function(){})),!0}catch(r){return!1}}var S=function(e){(0,h.default)(t,e);var r=T(t);function t(){return(0,b.default)(this,t),r.apply(this,arguments)}return(0,g.default)(t,[{key:"attachRechabilityData",value:function(e){var r=window.localStorage.getItem(y.REACHABILITY.localStorage);if(r)try{var t=JSON.parse(r);t&&(0,s.default)(t).length&&(e.reachability=t)}catch(o){j.default.logger.error("Roap:request#attachReachabilityData --\x3e Error in parsing reachability data: ".concat(o))}return e}},{key:"joinMeetingWithRoap",value:function(e){var r=this;return j.default.logger.info("Roap:request#joinMeetingWithRoap --\x3e Join locus with roap"),j.default.logger.info("Roap:request#joinMeetingWithRoap --\x3e Local SDP: ".concat(e.roapMessage)),l.default.resolve().then((0,f.default)(u.default.mark(function t(){var o,a,n,i;return u.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(a=r.webex.internal.device.url,n="",i={deviceUrl:a,usingResource:e.resourceId||null,correlationId:e.correlationId,localMedias:[{localSdp:(0,d.default)(r.attachRechabilityData({roapMessage:e.roapMessage,audioMuted:!1,videoMuted:!1}))}],clientMediaPreferences:{preferTranscoding:null===(o=e.preferTranscoding)||void 0===o||o}},!e.locusUrl){t.next=7;break}n="".concat(e.locusUrl,"/").concat(y.PARTICIPANT),t.next=22;break;case 7:if(!e.sipUrl){t.next=21;break}return t.prev=8,t.next=11,r.webex.internal.services.waitForCatalog("postauth");case 11:n="".concat(r.webex.internal.services.get("locus"),"/").concat(y.LOCI,"/").concat(y.CALL),i.invitee={address:e.sipTarget},t.next=19;break;case 15:throw t.prev=15,t.t0=t.catch(8),j.default.logger.error("Roap:request#joinMeetingWithRoap --\x3e ".concat(t.t0)),t.t0;case 19:t.next=22;break;case 21:throw new M.default("Must provide a locusUrl or sipTarget");case 22:return t.abrupt("return",r.webex.request({method:y.HTTP_VERBS.POST,uri:n,body:i}).then(function(r){var t=r.body.locus;return t.roapSeq=e.roapMessage.seq,t.id=t.url.split("/").pop(),j.default.logger.info("Roap:request#joinMeetingWithRoap --\x3e Joined locus [".concat(t.id,"][").concat(t.fullState.lastActive,"]")),t}).catch(function(e){throw j.default.logger.error("Roap:request#joinMeetingWithRoap --\x3e failed with error: ".concat(e)),e}));case 23:case"end":return t.stop()}},t,null,[[8,15]])})))}},{key:"sendRoap",value:function(e){var r,t=e.roapMessage,o=e.locusSelfUrl,a=e.mediaId,n=e.correlationId,i=e.meetingId;a||j.default.logger.info("Roap:request#sendRoap --\x3e Race Condition /call mediaID not present");var c="".concat(o,"/").concat(y.MEDIA),u=this.webex.internal.device.url;return j.default.logger.info("Roap:request#sendRoap --\x3e ".concat(c," \n ").concat(t.messageType," \n seq:").concat(t.seq)),R.default.postEvent({event:x.eventType.MEDIA_REQUEST,meetingId:i}),this.webex.request({uri:c,method:y.HTTP_VERBS.PUT,body:{device:{url:u,deviceType:this.config.meetings.deviceType},correlationId:n,localMedias:[{localSdp:(0,d.default)(this.attachRechabilityData({roapMessage:t,audioMuted:!!e.audioMuted,videoMuted:!!e.videoMuted})),mediaId:e.mediaId}],clientMediaPreferences:{preferTranscoding:null===(r=e.preferTranscoding)||void 0===r||r}}}).then(function(r){R.default.postEvent({event:x.eventType.MEDIA_RESPONSE,meetingId:i});var t=r.body.mediaConnections&&r.body.mediaConnections.length>0&&r.body.mediaConnections[0];j.default.logger.info("Roap:request#sendRoap --\x3e response:".concat((0,d.default)(t,null,2),"'\n StatusCode:'").concat(r.statusCode));var o=r.body.locus;return o.roapSeq=e.roapMessage.seq,w({locus:o},t&&{mediaConnections:r.body.mediaConnections})}).catch(function(r){throw R.default.postEvent({event:x.eventType.MEDIA_RESPONSE,meetingId:i,data:{error:R.default.parseLocusError(r,!0)}}),j.default.logger.error("Roap:request#sendRoap --\x3e Error:".concat((0,d.default)(r,null,2))),j.default.logger.error("Roap:request#sendRoapRequest --\x3e errorBody:".concat((0,d.default)(t,null,2)," + '\\n mediaId:'").concat(e.mediaId)),r})}}]),t}(q.StatelessWebexPlugin);exports.default=S;
},{"@babel/runtime-corejs2/core-js/reflect/construct":"vZQy","@babel/runtime-corejs2/core-js/object/keys":"d81a","@babel/runtime-corejs2/core-js/object/get-own-property-symbols":"DovH","@babel/runtime-corejs2/core-js/object/get-own-property-descriptor":"mQ9c","@babel/runtime-corejs2/core-js/object/get-own-property-descriptors":"Hv1v","@babel/runtime-corejs2/core-js/object/define-properties":"CpmN","@babel/runtime-corejs2/core-js/object/define-property":"eIqn","@babel/runtime-corejs2/helpers/interopRequireDefault":"LXwi","@babel/runtime-corejs2/regenerator":"i9LV","@babel/runtime-corejs2/core-js/promise":"eOfj","@babel/runtime-corejs2/core-js/json/stringify":"E09K","@babel/runtime-corejs2/helpers/defineProperty":"n5FU","@babel/runtime-corejs2/helpers/asyncToGenerator":"OYLD","@babel/runtime-corejs2/helpers/classCallCheck":"Tzth","@babel/runtime-corejs2/helpers/createClass":"xM5U","@babel/runtime-corejs2/helpers/inherits":"CdTE","@babel/runtime-corejs2/helpers/possibleConstructorReturn":"w9GY","@babel/runtime-corejs2/helpers/getPrototypeOf":"Qxr1","@webex/webex-core":"bqGz","../common/logs/logger-proxy":"NeTJ","../constants":"swzz","../metrics":"LvoJ","../metrics/config":"Ch1R","../common/errors/parameter":"xdH9"}],"ZtI4":[function(require,module,exports) {
"use strict";var e=require("@babel/runtime-corejs2/core-js/reflect/construct"),r=require("@babel/runtime-corejs2/core-js/object/define-property"),t=require("@babel/runtime-corejs2/helpers/interopRequireDefault");r(exports,"__esModule",{value:!0}),exports.default=void 0;var o=t(require("@babel/runtime-corejs2/core-js/number/is-nan")),a=t(require("@babel/runtime-corejs2/core-js/parse-float")),i=t(require("@babel/runtime-corejs2/core-js/json/stringify")),s=t(require("@babel/runtime-corejs2/core-js/promise")),n=t(require("@babel/runtime-corejs2/helpers/classCallCheck")),u=t(require("@babel/runtime-corejs2/helpers/createClass")),d=t(require("@babel/runtime-corejs2/helpers/assertThisInitialized")),l=t(require("@babel/runtime-corejs2/helpers/inherits")),c=t(require("@babel/runtime-corejs2/helpers/possibleConstructorReturn")),p=t(require("@babel/runtime-corejs2/helpers/getPrototypeOf")),R=t(require("@babel/runtime-corejs2/helpers/defineProperty")),f=require("@webex/webex-core"),q=require("../constants"),m=t(require("../common/logs/logger-proxy")),O=t(require("../meeting/util")),b=t(require("./handler")),S=t(require("./request")),g=t(require("./collection"));function P(r){var t=A();return function(){var o,a=(0,p.default)(r);if(t){var i=(0,p.default)(this).constructor;o=e(a,arguments,i)}else o=a.apply(this,arguments);return(0,c.default)(this,o)}}function A(){if("undefined"==typeof Reflect||!e)return!1;if(e.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(e(Boolean,[],function(){})),!0}catch(r){return!1}}var I=function(e){(0,l.default)(t,e);var r=P(t);function t(e,s){var u;return(0,n.default)(this,t),u=r.call(this,{},s),(0,R.default)((0,d.default)(u),"sendRoapCallRequest",function(e){var r=e.meeting,t={messageType:q.ROAP.ROAP_TYPES.OFFER,sdps:[e.sdp],version:q.ROAP.ROAP_VERSION,seq:"number"!=typeof e.roapSeq&&(0,o.default)((0,a.default)(e.roapSeq))?0:e.roapSeq+1,tieBreaker:4294967294};u.roapHandler.submit({type:q.ROAP.SEND_ROAP_MSG,msg:t,correlationId:r.correlationId});var s={localMedias:[{localSdp:(0,i.default)(u.roapRequest.attachRechabilityData({roapMessage:t,audioMuted:!!r.isAudioMuted(),videoMuted:!!r.isVideoMuted()}))}]};return O.default.joinMeetingOptions(r,{roapMessage:s}).then(function(e){return u.roapHandler.submit({type:q.ROAP.SEND_ROAP_MSG_SUCCESS,seq:t.seq,correlationId:r.correlationId}),r.setRoapSeq(t.seq),e})}),u.attrs=e,u.options=s,u.roapHandler=new b.default(u.attrs,u.options,u.sendRoapOK.bind((0,d.default)(u)),u.sendRoapAnswer.bind((0,d.default)(u)),u.roapFinished.bind((0,d.default)(u))),u.roapRequest=new S.default({},s),u.lastRoapOffer={},u}return(0,u.default)(t,[{key:"roapEvent",value:function(e){var r=e.message,t=e.correlationId;m.default.logger.log("Roap:index#roapEvent --\x3e Received Roap Message [".concat((0,i.default)(r,null,2),"]")),this.roapHandler.submit({type:q.ROAP.RECEIVE_ROAP_MSG,msg:r,correlationId:t})}},{key:"stop",value:function(e,r){return this.roapHandler.submit({type:q.ROAP.RECEIVE_CALL_LEAVE,seq:r,correlationId:e}),s.default.resolve()}},{key:"sendRoapOK",value:function(e){var r=this;return s.default.resolve().then(function(){var t=r.webex.meetings.meetingCollection.getByKey("correlationId",e.correlationId),o={messageType:q.ROAP.ROAP_TYPES.OK,version:q.ROAP.ROAP_VERSION,seq:e.seq};return m.default.logger.log("Roap:index#sendRoapOK --\x3e ROAP OK sending with seq ".concat(e.seq)),r.roapRequest.sendRoap({roapMessage:o,locusSelfUrl:t.selfUrl,mediaId:e.mediaId,correlationId:e.correlationId,audioMuted:t.isAudioMuted(),videoMuted:t.isVideoMuted(),meetingId:t.id}).then(function(){r.roapHandler.submit({type:q.ROAP.SEND_ROAP_MSG,msg:o,correlationId:e.correlationId}),m.default.logger.log("Roap:index#sendRoapOK --\x3e ROAP OK sent with seq ".concat(e.seq)),t.setRoapSeq(e.seq)})})}},{key:"sendRoapAnswer",value:function(e){var r=this,t=this.webex.meetings.meetingCollection.getByKey("correlationId",e.correlationId),o={messageType:q.ROAP.ROAP_TYPES.ANSWER,sdps:e.sdps,version:q.ROAP.ROAP_VERSION,seq:e.seq};return this.roapHandler.submit({type:q.ROAP.SEND_ROAP_MSG,msg:o,correlationId:e.correlationId}),this.roapRequest.sendRoap({roapMessage:o,locusSelfUrl:t.selfUrl,mediaId:e.mediaId,correlationId:e.correlationId,audioMuted:e.audioMuted,videoMuted:e.videoMuted,meetingId:t.id}).then(function(){t.setRoapSeq(e.seq),r.roapHandler.submit({type:q.ROAP.SEND_ROAP_MSG_SUCCESS,seq:o.seq,correlationId:t.correlationId})})}},{key:"sendRoapError",value:function(e,r,t){var o={messageType:q.ROAP.ROAP_TYPES.ERROR,version:q.ROAP.ROAP_VERSION,errorType:t,seq:e.OFFER.seq};return this.roapRequest.sendRoap(o,r)}},{key:"sendRoapMediaRequest",value:function(e){var r=this,t=e.meeting,i=e.reconnect,s={messageType:q.ROAP.ROAP_TYPES.OFFER,sdps:[e.sdp],version:q.ROAP.ROAP_VERSION,seq:"number"!=typeof e.roapSeq&&(0,o.default)((0,a.default)(e.roapSeq))?0:e.roapSeq+1,tieBreaker:4294967294};return this.roapHandler.submit({type:q.ROAP.SEND_ROAP_MSG,msg:s,correlationId:t.correlationId}),this.roapRequest.sendRoap({roapMessage:s,correlationId:t.correlationId,locusSelfUrl:t.selfUrl,mediaId:i?"":t.mediaId,audioMuted:t.isAudioMuted(),videoMuted:t.isVideoMuted(),meetingId:t.id}).then(function(e){var o=e.locus,a=e.mediaConnections;return r.roapHandler.submit({type:q.ROAP.SEND_ROAP_MSG_SUCCESS,seq:s.seq,correlationId:t.correlationId}),t.setRoapSeq(s.seq),a&&t.updateMediaConnections(a),o})}},{key:"roapFinished",value:function(e,r){g.default.onSessionSequenceFinish(e,r);var t=this.webex.meetings.meetingCollection.getByKey("correlationId",e);t.mediaNegotiatedEvent(),g.default.isBusy(e)||t.processNextQueuedMediaUpdate()}}]),t}(f.StatelessWebexPlugin);exports.default=I;
},{"@babel/runtime-corejs2/core-js/reflect/construct":"vZQy","@babel/runtime-corejs2/core-js/object/define-property":"eIqn","@babel/runtime-corejs2/helpers/interopRequireDefault":"LXwi","@babel/runtime-corejs2/core-js/number/is-nan":"CysC","@babel/runtime-corejs2/core-js/parse-float":"QyHQ","@babel/runtime-corejs2/core-js/json/stringify":"E09K","@babel/runtime-corejs2/core-js/promise":"eOfj","@babel/runtime-corejs2/helpers/classCallCheck":"Tzth","@babel/runtime-corejs2/helpers/createClass":"xM5U","@babel/runtime-corejs2/helpers/assertThisInitialized":"YqR0","@babel/runtime-corejs2/helpers/inherits":"CdTE","@babel/runtime-corejs2/helpers/possibleConstructorReturn":"w9GY","@babel/runtime-corejs2/helpers/getPrototypeOf":"Qxr1","@babel/runtime-corejs2/helpers/defineProperty":"n5FU","@webex/webex-core":"bqGz","../constants":"swzz","../common/logs/logger-proxy":"NeTJ","../meeting/util":"U2WF","./handler":"NLU8","./request":"Smz3","./collection":"pg5L"}],"PWaD":[function(require,module,exports) {
"use strict";var e=require("@babel/runtime-corejs2/core-js/object/define-property"),r=require("@babel/runtime-corejs2/helpers/interopRequireDefault");e(exports,"__esModule",{value:!0}),exports.default=void 0;var t=r(require("global/window")),o=r(require("../common/browser-detection")),i=require("../constants"),n=r(require("../common/logs/logger-proxy")),a=(0,o.default)(),u=a.isBrowser,c={createPeerConnection:function(){return new t.default.RTCPeerConnection(u("firefox")?i.RTC_CONFIGURATION_FIREFOX:i.RTC_CONFIGURATION)},createMediaStream:function(e){e||n.default.logger.error("Media:util#createMediaStream --\x3e Tracks don't exist");var r=e.filter(function(e){return!!e});return new MediaStream(r)}},l=c;exports.default=l;
},{"@babel/runtime-corejs2/core-js/object/define-property":"eIqn","@babel/runtime-corejs2/helpers/interopRequireDefault":"LXwi","global/window":"tALL","../common/browser-detection":"NB7u","../constants":"swzz","../common/logs/logger-proxy":"NeTJ"}],"jf6D":[function(require,module,exports) {
"use strict";var e=require("@babel/runtime-corejs2/core-js/object/define-property"),t=require("@babel/runtime-corejs2/helpers/interopRequireDefault");e(exports,"__esModule",{value:!0}),exports.default=void 0;var a=t(require("@babel/runtime-corejs2/core-js/object/define-property")),r=t(require("@babel/runtime-corejs2/helpers/classCallCheck")),i=t(require("@babel/runtime-corejs2/helpers/createClass")),o=t(require("@babel/runtime-corejs2/helpers/defineProperty")),n=require("../constants"),s=t(require("../common/logs/logger-proxy")),u=t(require("./util")),c=function(){function e(){var t=this,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,r.default)(this,e),(0,o.default)(this,"namespace",n.MEETINGS),this.peerConnection=u.default.createPeerConnection(),this.mediaDirection=i.mediaDirection,this.videoTrack=i.videoTrack,this.audioTrack=i.audioTrack,this.shareTrack=i.shareTrack,this.remoteShare=i.remoteShare,this.remoteAudioTrack=i.remoteAudioTrack,this.remoteVideoTrack=i.remoteVideoTrack,this.localQualityLevel=i.localQualityLevel||n.QUALITY_LEVELS.HIGH,this.remoteQualityLevel=i.remoteQualityLevel||n.QUALITY_LEVELS.HIGH,this.mediaSettings={},this.videoDeviceId=null,(0,a.default)(this,"remoteStream",{set:function(e){var a=e.getAudioTracks(),r=e.getVideoTracks();t.remoteAudioTrack=a.length&&a[0],t.remoteVideoTrack=r.length&&r[0]},get:function(){return s.default.logger.warn("Media:properties#remoteStream --\x3e [DEPRECATION WARNING]: remoteStream (getter) has been deprecated after v1.89.3 (use remoteAudioTrack, remoteVideoTrack instead)"),u.default.createMediaStream([t.remoteAudioTrack,t.remoteVideoTrack])}})}return(0,i.default)(e,[{key:"getVideoDeviceId",value:function(){return this.videoDeviceId||null}},{key:"setMediaDirection",value:function(e){this.mediaDirection=e}},{key:"setMediaSettings",value:function(e,t){this.mediaSettings[e]=t}},{key:"setMediaPeerConnection",value:function(e){this.peerConnection=e}},{key:"setLocalVideoTrack",value:function(e){this.videoTrack=e}},{key:"setLocalAudioTrack",value:function(e){this.audioTrack=e}},{key:"setLocalQualityLevel",value:function(e){this.localQualityLevel=e}},{key:"setLocalShareTrack",value:function(e){this.shareTrack=e}},{key:"setRemoteQualityLevel",value:function(e){this.remoteQualityLevel=e}},{key:"setRemoteStream",value:function(e){s.default.logger.warn("Media:properties#setRemoteStream --\x3e [DEPRECATION WARNING]: setRemoteStream has been deprecated after v1.89.3 (use setRemoteAudioTrack, setRemoteVideoTrack instead)"),this.remoteStream=e}},{key:"setRemoteShare",value:function(e){this.remoteShare=e}},{key:"setRemoteAudioTrack",value:function(e){this.remoteAudioTrack=e}},{key:"setRemoteVideoTrack",value:function(e){this.remoteVideoTrack=e}},{key:"setVideoDeviceId",value:function(e){this.videoDeviceId=e}},{key:"unsetPeerConnection",value:function(){this.peerConnection=null}},{key:"reInitiatePeerconnection",value:function(){this.peerConnection=u.default.createPeerConnection()}},{key:"unsetLocalVideoTrack",value:function(){this.videoTrack=null}},{key:"unsetLocalShareTrack",value:function(){this.shareTrack=null}},{key:"unsetLocalAudioTrack",value:function(){this.audioTrack=null}},{key:"unsetRemoteStream",value:function(){s.default.logger.warn("Media:properties#unsetRemoteStream --\x3e [DEPRECATION WARNING]: unsetRemoteStream has been deprecated after v1.89.3 (use unsetRemoteTracks instead)"),this.unsetRemoteMedia()}},{key:"unsetRemoteMedia",value:function(){this.remoteAudioTrack=null,this.remoteVideoTrack=null}},{key:"unsetRemoteShare",value:function(){this.remoteShare=null}},{key:"unsetLocalVideoTracks",value:function(){this.unsetLocalVideoTrack(),this.unsetLocalShareTrack()}},{key:"unsetRemoteStreams",value:function(){s.default.logger.warn("Media:properties#unsetRemoteStreams --\x3e [DEPRECATION WARNING]: unsetRemoteStreams has been deprecated after v1.89.3 (use unsetRemoteTracks instead)"),this.unsetRemoteStream(),this.unsetRemoteShare()}},{key:"unsetRemoteTracks",value:function(){this.unsetRemoteMedia(),this.unsetRemoteShare()}},{key:"unsetShareStreams",value:function(){this.unsetLocalShareTrack(),this.unsetRemoteShare()}},{key:"unsetMediaStreams",value:function(){s.default.logger.warn("Media:properties#unsetMediaStreams --\x3e [DEPRECATION WARNING]: unsetMediaStreams has been deprecated after v1.89.3 (use unsetMediaTracks instead)"),this.unsetLocalVideoTrack(),this.unsetRemoteStream()}},{key:"unsetMediaTracks",value:function(){this.unsetLocalVideoTrack(),this.unsetRemoteMedia()}}]),e}();exports.default=c;
},{"@babel/runtime-corejs2/core-js/object/define-property":"eIqn","@babel/runtime-corejs2/helpers/interopRequireDefault":"LXwi","@babel/runtime-corejs2/helpers/classCallCheck":"Tzth","@babel/runtime-corejs2/helpers/createClass":"xM5U","@babel/runtime-corejs2/helpers/defineProperty":"n5FU","../constants":"swzz","../common/logs/logger-proxy":"NeTJ","./util":"PWaD"}],"d4Dh":[function(require,module,exports) {
var define;
var t;!function(e,n){"object"==typeof exports&&"object"==typeof module?module.exports=n():"function"==typeof t&&t.amd?t("StateMachineHistory",[],n):"object"==typeof exports?exports.StateMachineHistory=n():e.StateMachineHistory=n()}(this,function(){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.i=function(t){return t},n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:r})},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=1)}([function(t,e,n){"use strict";function r(t){if(0===t.length)return t;var e,n,r=t.split(/[_-]/);if(1===r.length&&r[0][0].toLowerCase()===r[0][0])return t;for(n=r[0].toLowerCase(),e=1;e<r.length;e++)n=n+r[e].charAt(0).toUpperCase()+r[e].substring(1).toLowerCase();return n}r.prepended=function(t,e){return t+(e=r(e))[0].toUpperCase()+e.substring(1)},t.exports=r},function(t,e,n){"use strict";var r=n(0);t.exports=function(t){var e=r((t=t||{}).name||t.past||"history"),n=r(t.future||"future"),o=r.prepended("clear",e),i=r.prepended(e,"back"),s=r.prepended(e,"forward"),u=r.prepended("can",i),p=r.prepended("can",s),c=t.max,a={configure:function(t){t.addTransitionLifecycleNames(i),t.addTransitionLifecycleNames(s)},init:function(t){t[e]=[],t[n]=[]},lifecycle:function(t,r){"onEnterState"===r.event&&(t[e].push(r.to),c&&t[e].length>c&&t[e].shift(),r.transition!==i&&r.transition!==s&&(t[n].length=0))},methods:{},properties:{}};return a.methods[o]=function(){this[e].length=0,this[n].length=0},a.properties[u]={get:function(){return this[e].length>1}},a.properties[p]={get:function(){return this[n].length>0}},a.methods[i]=function(){if(!this[u])throw Error("no history");var t=this[e].pop(),r=this[e].pop();this[n].push(t),this._fsm.transit(i,t,r,[])},a.methods[s]=function(){if(!this[p])throw Error("no history");var t=this.state,e=this[n].pop();this._fsm.transit(s,t,e,[])},a}}])});
},{}],"n5Sa":[function(require,module,exports) {
"use strict";var E=require("@babel/runtime-corejs2/core-js/object/define-property"),T=require("@babel/runtime-corejs2/helpers/interopRequireDefault");E(exports,"__esModule",{value:!0}),exports.default=void 0;var e=T(require("javascript-state-machine")),t=T(require("javascript-state-machine/lib/history")),A=T(require("../common/logs/logger-proxy")),S=T(require("../common/events/trigger-proxy")),I=require("../constants"),N=T(require("../common/errors/parameter")),n={create:function(E){if(!E)throw new N.default("You must initialize the meeting state machine with a meeting reference.");return new e.default({init:I.MEETING_STATE_MACHINE.STATES.IDLE,transitions:[{name:I.MEETING_STATE_MACHINE.TRANSITIONS.RING,from:[I.MEETING_STATE_MACHINE.STATES.IDLE,I.MEETING_STATE_MACHINE.STATES.SAFE,I.MEETING_STATE_MACHINE.STATES.JOINED],to:I.MEETING_STATE_MACHINE.STATES.RINGING},{name:I.MEETING_STATE_MACHINE.TRANSITIONS.JOIN,from:[I.MEETING_STATE_MACHINE.STATES.JOINED,I.MEETING_STATE_MACHINE.STATES.IDLE,I.MEETING_STATE_MACHINE.STATES.RINGING,I.MEETING_STATE_MACHINE.STATES.SAFE],to:I.MEETING_STATE_MACHINE.STATES.JOINED},{name:I.MEETING_STATE_MACHINE.TRANSITIONS.REMOTE,from:[I.MEETING_STATE_MACHINE.STATES.JOINED,I.MEETING_STATE_MACHINE.STATES.SAFE],to:function(E){return E.remoteAnswered?I.MEETING_STATE_MACHINE.STATES.ANSWERED:E.remoteDeclined?I.MEETING_STATE_MACHINE.STATES.DECLINED:I.MEETING_STATE_MACHINE.STATES.ERROR}},{name:I.MEETING_STATE_MACHINE.TRANSITIONS.LEAVE,from:[I.MEETING_STATE_MACHINE.STATES.IDLE,I.MEETING_STATE_MACHINE.STATES.RINGING,I.MEETING_STATE_MACHINE.STATES.JOINED,I.MEETING_STATE_MACHINE.STATES.ANSWERED,I.MEETING_STATE_MACHINE.STATES.DECLINED,I.MEETING_STATE_MACHINE.STATES.ERROR,I.MEETING_STATE_MACHINE.STATES.SAFE],to:I.MEETING_STATE_MACHINE.STATES.ENDED},{name:I.MEETING_STATE_MACHINE.TRANSITIONS.DECLINE,from:[I.MEETING_STATE_MACHINE.STATES.RINGING,I.MEETING_STATE_MACHINE.STATES.SAFE],to:I.MEETING_STATE_MACHINE.STATES.ENDED},{name:I.MEETING_STATE_MACHINE.TRANSITIONS.FAIL,from:"*",to:I.MEETING_STATE_MACHINE.STATES.ERROR},{name:I.MEETING_STATE_MACHINE.TRANSITIONS.SAFE,from:I.MEETING_STATE_MACHINE.STATES.ERROR,to:I.MEETING_STATE_MACHINE.STATES.SAFE},{name:I.MEETING_STATE_MACHINE.TRANSITIONS.RESET,from:"*",to:I.MEETING_STATE_MACHINE.STATES.IDLE}],data:{meeting:E},methods:{onRemote:function(E,T){this.meeting&&S.default.trigger(this.meeting,{file:"meeting/state",function:"onRemote"},I.EVENT_TRIGGERS.MEETING_RINGING_STOP,{id:this.meeting.id,type:T})},onRing:function(E,T){this.meeting&&S.default.trigger(this.meeting,{file:"meeting/state",function:"onRing"},I.EVENT_TRIGGERS.MEETING_RINGING,{type:T,id:this.meeting.id})},onBeforeError:function(E,T){A.default.logger.error("Meeting:state#onBeforeError --\x3e state->onError#meeting.id: ".concat(this.meeting.id," | Transition '").concat(E.transition,"' : ").concat(E.from," -> ").concat(E.to," failed after last state transition, with error ").concat(T,". Moving to a non-informative state. Last states: ").concat(this.history))},onAfterError:function(){this.safe()},onAfterTransition:function(E){A.default.logger.log("Meeting:state#onAfterTransition --\x3e state->onAfterTransition#meeting.id: ".concat(this.meeting.id," | Transition '").concat(E.transition,"' : ").concat(E.from," -> ").concat(E.to," executed. Last states: ").concat(this.history))}},plugins:[new t.default({max:25})]})}},i=n;exports.default=i;
},{"@babel/runtime-corejs2/core-js/object/define-property":"eIqn","@babel/runtime-corejs2/helpers/interopRequireDefault":"LXwi","javascript-state-machine":"OLqi","javascript-state-machine/lib/history":"d4Dh","../common/logs/logger-proxy":"NeTJ","../common/events/trigger-proxy":"tIl4","../constants":"swzz","../common/errors/parameter":"xdH9"}],"ZAgr":[function(require,module,exports) {
"use strict";var e=require("@babel/runtime-corejs2/core-js/object/define-property"),t=require("@babel/runtime-corejs2/helpers/interopRequireDefault");e(exports,"__esModule",{value:!0}),exports.default=void 0;var r=t(require("@babel/runtime-corejs2/core-js/promise")),o=t(require("@babel/runtime-corejs2/helpers/classCallCheck")),n=t(require("@babel/runtime-corejs2/helpers/createClass")),i=t(require("../common/logs/logger-proxy")),l=t(require("../common/errors/parameter")),s=t(require("../common/errors/permission")),a=t(require("../media")),u=t(require("../meeting/util")),c=require("../constants"),d=function(e,t,r){return(e!==c.AUDIO||r.sendAudio)&&(e!==c.VIDEO||r.sendVideo)?(i.default.logger.info("Meeting:muteState#createMuteState --\x3e ".concat(e,": creating MuteState for meeting id ").concat(null==t?void 0:t.id)),new m(e,t)):null},m=function(){function e(t,r){if((0,o.default)(this,e),t!==c.AUDIO&&t!==c.VIDEO)throw new l.default("Mute state is designed for handling audio or video only");this.type=t,this.state={client:{localMute:!1},server:{localMute:!1,remoteMute:t===c.AUDIO&&r.remoteMuted,unmuteAllowed:t!==c.AUDIO||r.unmuteAllowed},syncToServerInProgress:!1},this.pendingPromiseResolve=null,this.pendingPromiseReject=null}return(0,n.default)(e,[{key:"handleClientRequest",value:function(e,t){var o=this;return i.default.logger.info("Meeting:muteState#handleClientRequest --\x3e ".concat(this.type,": user requesting new mute state: ").concat(t)),t||this.state.server.unmuteAllowed?(this.state.client.localMute=t,this.applyClientStateLocally(e),new r.default(function(t,r){o.pendingPromiseResolve&&o.pendingPromiseResolve(),o.pendingPromiseResolve=t,o.pendingPromiseReject=r,o.applyClientStateToServer(e)})):r.default.reject(new s.default("User is not allowed to unmute self (hard mute feature is being used)"))}},{key:"applyClientStateLocally",value:function(e){a.default.setLocalTrack(!this.state.client.localMute,this.type===c.AUDIO?e.mediaProperties.audioTrack:e.mediaProperties.videoTrack)}},{key:"applyClientStateToServer",value:function(e){var t=this;if(this.state.syncToServerInProgress)i.default.logger.info("Meeting:muteState#applyClientStateToServer --\x3e ".concat(this.type,": request to server in progress, we need to wait for it to complete"));else{var o=this.state.client.localMute!==this.state.server.localMute,n=!this.state.client.localMute&&this.state.server.remoteMute;if(i.default.logger.info("Meeting:muteState#applyClientStateToServer --\x3e ".concat(this.type,": localMuteRequiresSync: ").concat(o," (").concat(this.state.client.localMute," ?= ").concat(this.state.server.localMute,")")),i.default.logger.info("Meeting:muteState#applyClientStateToServer --\x3e ".concat(this.type,": remoteMuteRequiresSync: ").concat(n)),!o&&!n)return i.default.logger.info("Meeting:muteState#applyClientStateToServer --\x3e ".concat(this.type,": client state already matching server state, nothing to do")),this.pendingPromiseResolve&&this.pendingPromiseResolve(),this.pendingPromiseResolve=null,void(this.pendingPromiseReject=null);this.state.syncToServerInProgress=!0,(o?this.sendLocalMuteRequestToServer(e):r.default.resolve()).then(function(){return n?t.sendRemoteMuteRequestToServer(e):r.default.resolve()}).then(function(){t.state.syncToServerInProgress=!1,i.default.logger.info("Meeting:muteState#applyClientStateToServer --\x3e ".concat(t.type,": sync with server completed")),t.applyClientStateToServer(e)}).catch(function(e){t.state.syncToServerInProgress=!1,t.pendingPromiseReject&&t.pendingPromiseReject(e),t.pendingPromiseResolve=null,t.pendingPromiseReject=null})}}},{key:"sendLocalMuteRequestToServer",value:function(e){var t,o,n=this,l=this.type===c.AUDIO?this.state.client.localMute:null===(t=e.audio)||void 0===t?void 0:t.state.client.localMute,s=this.type===c.VIDEO?this.state.client.localMute:null===(o=e.video)||void 0===o?void 0:o.state.client.localMute;return i.default.logger.info("Meeting:muteState#sendLocalMuteRequestToServer --\x3e ".concat(this.type,": sending local mute (audio=").concat(l,", video=").concat(s,") to server")),u.default.remoteUpdateAudioVideo(l,s,e).then(function(t){return i.default.logger.info("Meeting:muteState#sendLocalMuteRequestToServer --\x3e ".concat(n.type,": local mute (audio=").concat(l,", video=").concat(s,") applied to server")),n.state.server.localMute=n.type===c.AUDIO?l:s,e.locusInfo.onFullLocus(t),t}).catch(function(e){return i.default.logger.warn("Meeting:muteState#sendLocalMuteRequestToServer --\x3e ".concat(n.type,": failed to apply local mute (audio=").concat(l,", video=").concat(s,") to server: ").concat(e)),r.default.reject(e)})}},{key:"sendRemoteMuteRequestToServer",value:function(e){var t=this;if(this.type===c.AUDIO){var o=this.state.client.localMute;return i.default.logger.info("Meeting:muteState#sendRemoteMuteRequestToServer --\x3e ".concat(this.type,": sending remote mute:").concat(o," to server")),e.members.muteMember(e.members.selfId,o).then(function(){i.default.logger.info("Meeting:muteState#sendRemoteMuteRequestToServer --\x3e ".concat(t.type,": remote mute:").concat(o," applied to server")),t.state.server.remoteMute=o}).catch(function(e){return i.default.logger.warn("Meeting:muteState#sendRemoteMuteRequestToServer --\x3e ".concat(t.type,": failed to apply remote mute ").concat(o," to server: ").concat(e)),r.default.reject(e)})}return this.state.server.remoteMute=this.state.client.localMute,r.default.resolve()}},{key:"handleServerRemoteMuteUpdate",value:function(e,t){i.default.logger.info("Meeting:muteState#handleServerRemoteMuteUpdate --\x3e ".concat(this.type,": updating server remoteMute to (").concat(e,")")),this.state.server.remoteMute=e,this.state.server.unmuteAllowed=t}},{key:"handleServerLocalUnmuteRequired",value:function(e){i.default.logger.info("Meeting:muteState#handleServerLocalUnmuteRequired --\x3e ".concat(this.type,": localAudioUnmuteRequired received -> doing local unmute")),this.state.server.remoteMute=!1,this.state.client.localMute=!1,this.pendingPromiseReject&&(this.pendingPromiseReject(new Error("Server requested local unmute - this overrides any client request in progress")),this.pendingPromiseResolve=null,this.pendingPromiseReject=null),this.applyClientStateLocally(e),this.applyClientStateToServer(e)}},{key:"isMuted",value:function(){return this.state.client.localMute||this.state.server.localMute||this.state.server.remoteMute}},{key:"isSelf",value:function(){return this.state.client.localMute&&!this.state.server.remoteMute}},{key:"muted",get:function(){return this.isMuted()}},{key:"self",get:function(){return this.isSelf()}}]),e}(),v=d;exports.default=v;
},{"@babel/runtime-corejs2/core-js/object/define-property":"eIqn","@babel/runtime-corejs2/helpers/interopRequireDefault":"LXwi","@babel/runtime-corejs2/core-js/promise":"eOfj","@babel/runtime-corejs2/helpers/classCallCheck":"Tzth","@babel/runtime-corejs2/helpers/createClass":"xM5U","../common/logs/logger-proxy":"NeTJ","../common/errors/parameter":"xdH9","../common/errors/permission":"jw2B","../media":"frLi","../meeting/util":"U2WF","../constants":"swzz"}],"GKuL":[function(require,module,exports) {
"use strict";var e=require("@babel/runtime-corejs2/core-js/object/define-property");e(exports,"__esModule",{value:!0}),exports.default=void 0;var i={parse:function(e){var o={policy:i.parsePolicy(e),moderator:i.parseModerator(e)};return e.sipUri&&(o.sipUri=e.sipUri),e.meetingId&&(o.meetingNumber=e.meetingId),o},parsePolicy:function(e){var i={};return e&&e.displayHints&&e.displayHints.joined&&e.displayHints.joined.length>0&&e.displayHints.joined.forEach(function(e){i[e]=!0}),i},parseModerator:function(e){var i={};return e&&e.displayHints&&e.displayHints.moderator&&e.displayHints.moderator.length>0&&e.displayHints.moderator.forEach(function(e){i[e]=!0}),i},isLocked:function(e){return e.LOCK_STATUS_LOCKED||!1},isUnlocked:function(e){return e.LOCK_STATUS_UNLOCKED||!1},getInfos:function(e,o){var r=null;e&&(r=e);var s=o&&i.parse(o),n={};return s&&(s.isLocked=i.isLocked(s.policy),s.isUnlocked=i.isUnlocked(s.policy),(r&&r.isUnlocked&&s.isLocked||!r&&s.isLocked)&&(n.isLocked=s.isLocked),(r&&r.isLocked&&s.isUnlocked||!r&&s.isUnlocked)&&(n.isUnlocked=s.isUnlocked)),{previous:r,current:s,updates:n}}},o=i;exports.default=o;
},{"@babel/runtime-corejs2/core-js/object/define-property":"eIqn"}],"r4q0":[function(require,module,exports) {
"use strict";var e=require("@babel/runtime-corejs2/core-js/object/define-property");e(exports,"__esModule",{value:!0}),exports.default=void 0;var t=require("../constants"),n={parse:function(e){return{type:e.type||t.FULL_STATE.UNKNOWN,meetingState:e.state,locked:e.locked}},getFullState:function(e,t){var i=e&&n.parse(e),a=t&&n.parse(t);return{previous:i,current:a,updates:{isMeetingEnded:n.isMeetingEnded(i,a),isMeetingTerminating:n.isMeetingTerminating(i,a),meetingTypeChangedTo:n.isTypeChanged(i,a),meetingStateChangedTo:n.meetingStateChange(i,a)}}},isMeetingEnded:function(e,n){return!(n.state!==t.FULL_STATE.INACTIVE||!e||e.state!==t.FULL_STATE.ACTIVE&&e.state!==t.FULL_STATE.INITIALIZING&&e.state!==t.FULL_STATE.TERMINATING)},isMeetingTerminating:function(e,n){return!(n.state!==t.FULL_STATE.TERMINATING||!e||e.state!==t.FULL_STATE.ACTIVE&&e.state!==t.FULL_STATE.INITIALIZING)},isTypeChanged:function(e,t){return e&&t.type===e.type?null:t&&t.type},meetingStateChange:function(e,t){return e&&t.meetingState===e.meetingState?null:t&&t.meetingState}},i=n;exports.default=i;
},{"@babel/runtime-corejs2/core-js/object/define-property":"eIqn","../constants":"swzz"}],"CgHJ":[function(require,module,exports) {
"use strict";var e=require("@babel/runtime-corejs2/core-js/object/define-property"),t=require("@babel/runtime-corejs2/helpers/interopRequireDefault");e(exports,"__esModule",{value:!0}),exports.default=void 0;var i=require("../constants"),d=t(require("../common/errors/parameter")),n={},o="PROVISIONAL";n.parse=function(e,t){if(e){var i=e.devices.find(function(e){return t===e.url}),d=e.devices.filter(function(e){return o===e.deviceType});return{remoteMuted:n.getRemoteMuted(e),unmuteAllowed:n.getUnmuteAllowed(e),localAudioUnmuteRequested:n.getLocalAudioUnmuteRequested(e),localAudioUnmuteRequired:n.getLocalAudioUnmuteRequired(e),lastModified:n.getLastModified(e),modifiedBy:n.getModifiedBy(e),guest:e.guest,moderator:e.moderator,mediaStatus:n.getStatus(e.status),state:e.state,joinedWith:i,pstnDevices:d,currentMediaStatus:n.getMediaStatus(null==i?void 0:i.mediaSessions),creator:e.isCreator,selfId:e.id,selfIdentity:n.getSelfIdentity(e),selfUrl:e.url,removed:e.removed}}return null},n.getSelves=function(e,t,i){var d=e&&n.parse(e,i),o=t&&n.parse(t,i),u={};return u.isUnadmittedGuest=n.isUnadmittedGuest(o),u.isAdmittedGuest=n.isAdmittedGuest(d,o),u.isMutedByOthersChanged=n.mutedByOthersChanged(d,o),u.localAudioUnmuteRequestedByServer=n.localAudioUnmuteRequestedByServer(d,o),u.localAudioUnmuteRequiredByServer=n.localAudioUnmuteRequiredByServer(d,o),u.moderatorChanged=n.moderatorChanged(d,o),u.isMediaInactiveOrReleased=n.wasMediaInactiveOrReleased(d,o),u.isMediaInactive=n.isMediaInactive(d,o),u.audioStateChange=(null==d?void 0:d.currentMediaStatus.audio)!==o.currentMediaStatus.audio,u.videoStateChange=(null==d?void 0:d.currentMediaStatus.video)!==o.currentMediaStatus.video,u.shareStateChange=(null==d?void 0:d.currentMediaStatus.share)!==o.currentMediaStatus.share,{previous:d,current:o,updates:u}},n.isMediaInactive=function(e,t){if(e&&e.joinedWith&&e.joinedWith.mediaSessions&&t&&t.joinedWith&&t.joinedWith.mediaSessions){var d=n.getMediaStatus(e.joinedWith.mediaSessions),o=n.getMediaStatus(t.joinedWith.mediaSessions);return!(!d.audio||!o.audio||d.audio.state===i.MEDIA_STATE.inactive||o.audio.state!==i.MEDIA_STATE.inactive||o.audio.direction===i.MEDIA_STATE.inactive)||(!(!d.video||!o.video||d.video.state===i.MEDIA_STATE.inactive||o.video.state!==i.MEDIA_STATE.inactive||o.video.direction===i.MEDIA_STATE.inactive)||!(!d.share||!o.share||d.share.state===i.MEDIA_STATE.inactive||o.share.state!==i.MEDIA_STATE.inactive||o.share.direction===i.MEDIA_STATE.inactive))}return!1},n.getLastModified=function(e){return e&&e.controls&&e.controls.audio&&e.controls.audio.meta&&e.controls.audio.meta.lastModified?e.controls.audio.meta.lastModified:null},n.getModifiedBy=function(e){return e&&e.controls&&e.controls.audio&&e.controls.audio.meta&&e.controls.audio.meta.modifiedBy?e.controls.audio.meta.modifiedBy:null},n.getSelfIdentity=function(e){return e||e.person?e.person.id:null},n.getRemoteMuted=function(e){return e&&e.controls&&e.controls.audio?e.controls.audio.muted:null},n.getLocalAudioUnmuteRequested=function(e){var t,i;return!(null==e||null===(t=e.controls)||void 0===t||null===(i=t.audio)||void 0===i||!i.requestedToUnmute)},n.getUnmuteAllowed=function(e){return e&&e.controls&&e.controls.audio?!e.controls.audio.disallowUnmute:null},n.getLocalAudioUnmuteRequired=function(e){var t,i;return!(null==e||null===(t=e.controls)||void 0===t||null===(i=t.audio)||void 0===i||!i.localAudioUnmuteRequired)},n.getStatus=function(e){return{audio:e.audioStatus,video:e.videoStatus,slides:e.videoSlidesStatus}},n.wasMediaInactiveOrReleased=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return e.joinedWith&&e.joinedWith.state===i._JOINED_&&t.joinedWith.state===i._LEFT_&&(t.joinedWith.reason===i.MEETING_END_REASON.INACTIVE||t.joinedWith.reason===i.MEETING_END_REASON.MEDIA_RELEASED)},n.isLocusGuestUnadmitted=function(e){var t,d;return e&&(null===(t=e.joinedWith)||void 0===t?void 0:null===(d=t.intent)||void 0===d?void 0:d.type)===i._WAIT_&&e.state===i._IDLE_},n.isLocusGuestAdmitted=function(e){var t,d;return e&&(null===(t=e.joinedWith)||void 0===t?void 0:null===(d=t.intent)||void 0===d?void 0:d.type)!==i._WAIT_&&e.state===i._JOINED_},n.isUnadmittedGuest=function(e){if(!e)throw new d.default("self must be defined to determine if self is unadmitted as guest.");return n.isLocusGuestUnadmitted(e)},n.moderatorChanged=function(e,t){if(!e)return!0;if(!t)throw new d.default("New self must be defined to determine if self transitioned moderator status.");return e.moderator!==t.moderator},n.isAdmittedGuest=function(e,t){if(!e)return!1;if(!t)throw new d.default("New self must be defined to determine if self transitioned to admitted as guest.");return n.isLocusGuestUnadmitted(e)&&n.isLocusGuestAdmitted(t)},n.mutedByOthersChanged=function(e,t){if(!t)throw new d.default("New self must be defined to determine if self was muted by others.");return e&&null!==e.remoteMuted?null!==t.remoteMuted&&(e.remoteMuted!==t.remoteMuted||t.remoteMuted&&e.unmuteAllowed!==t.unmuteAllowed):!!t.remoteMuted},n.localAudioUnmuteRequestedByServer=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;if(!t)throw new d.default("New self must be defined to determine if self received request to unmute.");return t.localAudioUnmuteRequested&&!e.localAudioUnmuteRequested},n.localAudioUnmuteRequiredByServer=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;if(!t)throw new d.default("New self must be defined to determine if localAudioUnmuteRequired changed.");return!t.remoteMuted&&t.localAudioUnmuteRequired&&e.localAudioUnmuteRequired!==t.localAudioUnmuteRequired},n.getSipUrl=function(e,t,d){return e&&t===i._CALL_?{sipUri:e.person.sipUrl||e.person.id}:{sipUri:d}},n.getMediaStatus=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t={audio:{},video:{},share:{}};return t.audio=e.find(function(e){return e.mediaType===i.AUDIO&&e.mediaContent===i.MediaContent.main}),t.video=e.find(function(e){return e.mediaType===i.VIDEO&&e.mediaContent===i.MediaContent.main}),t.share=e.find(function(e){return e.mediaType===i.VIDEO&&e.mediaContent===i.MediaContent.slides}),t};var u=n;exports.default=u;
},{"@babel/runtime-corejs2/core-js/object/define-property":"eIqn","@babel/runtime-corejs2/helpers/interopRequireDefault":"LXwi","../constants":"swzz","../common/errors/parameter":"xdH9"}],"cJAU":[function(require,module,exports) {
"use strict";var e=require("@babel/runtime-corejs2/core-js/object/define-property");e(exports,"__esModule",{value:!0}),exports.default=void 0;var t={parse:function(e){return e?{hostId:t.getId(e)}:null},getHosts:function(e,r){var s=e&&t.parse(e),o=r&&t.parse(r);return{previous:s,current:o,updates:{isNewHost:!s||!o||t.isDifferentHosts(s.hostId,o.hostId)}}},isDifferentHosts:function(e,t){return e!==t},getId:function(e){return e?e.id:null}},r=t;exports.default=r;
},{"@babel/runtime-corejs2/core-js/object/define-property":"eIqn"}],"usub":[function(require,module,exports) {
"use strict";var e=require("@babel/runtime-corejs2/core-js/object/keys"),r=require("@babel/runtime-corejs2/core-js/object/get-own-property-symbols"),o=require("@babel/runtime-corejs2/core-js/object/get-own-property-descriptor"),d=require("@babel/runtime-corejs2/core-js/object/get-own-property-descriptors"),i=require("@babel/runtime-corejs2/core-js/object/define-properties"),n=require("@babel/runtime-corejs2/core-js/object/define-property"),u=require("@babel/runtime-corejs2/helpers/interopRequireDefault");n(exports,"__esModule",{value:!0}),exports.default=void 0;var t=u(require("@babel/runtime-corejs2/helpers/defineProperty")),c=u(require("lodash/isEqual"));function l(d,i){var n=e(d);if(r){var u=r(d);i&&(u=u.filter(function(e){return o(d,e).enumerable})),n.push.apply(n,u)}return n}function a(e){for(var r=1;r<arguments.length;r++){var u=null!=arguments[r]?arguments[r]:{};r%2?l(Object(u),!0).forEach(function(r){(0,t.default)(e,r,u[r])}):d?i(e,d(u)):l(Object(u)).forEach(function(r){n(e,r,o(u,r))})}return e}var s={parse:function(e){var r=a({},e);return e&&e.record&&(r.record={modifiedBy:s.getId(e),paused:!!e.record.paused&&e.record.paused,recording:e.record.recording,lastModified:e.record.meta.lastModified}),r},getControls:function(e,r){var o,d,i,n,u,t,l,a=s.parse(e),v=s.parse(r);return{previous:a,current:v,updates:{hasRecordingPausedChanged:(null==v?void 0:v.record)&&!(0,c.default)(null==a?void 0:null===(o=a.record)||void 0===o?void 0:o.paused,v.record.paused)&&((null==a?void 0:null===(d=a.record)||void 0===d?void 0:d.recording)||(null==v?void 0:null===(i=v.record)||void 0===i?void 0:i.recording)),hasRecordingChanged:(null==v?void 0:v.record)&&!(0,c.default)(null==a?void 0:null===(n=a.record)||void 0===n?void 0:n.recording,null==v?void 0:null===(u=v.record)||void 0===u?void 0:u.recording)&&((null==a?void 0:null===(t=a.record)||void 0===t?void 0:t.recording)||(null==v?void 0:null===(l=v.record)||void 0===l?void 0:l.recording))}}},getId:function(e){return e.record.meta?e.record.meta.modifiedBy:null}},v=s;exports.default=v;
},{"@babel/runtime-corejs2/core-js/object/keys":"d81a","@babel/runtime-corejs2/core-js/object/get-own-property-symbols":"DovH","@babel/runtime-corejs2/core-js/object/get-own-property-descriptor":"mQ9c","@babel/runtime-corejs2/core-js/object/get-own-property-descriptors":"Hv1v","@babel/runtime-corejs2/core-js/object/define-properties":"CpmN","@babel/runtime-corejs2/core-js/object/define-property":"eIqn","@babel/runtime-corejs2/helpers/interopRequireDefault":"LXwi","@babel/runtime-corejs2/helpers/defineProperty":"n5FU","lodash/isEqual":"R6wa"}],"FMZA":[function(require,module,exports) {
"use strict";var e=require("@babel/runtime-corejs2/core-js/object/define-property");e(exports,"__esModule",{value:!0}),exports.default=void 0;var t=require("../constants"),r={parse:function(e){return e?{content:{beneficiaryId:r.getContentBeneficiaryId(e),disposition:r.getContentDisposition(e)},whiteboard:{beneficiaryId:r.getWhiteboardBeneficiaryId(e),disposition:r.getWhiteboardDisposition(e),resourceUrl:r.getWhiteboardResourceUrl(e)}}:null},getMediaShares:function(e,t){return{previous:e&&r.parse(e),current:t&&r.parse(t)}},getContentDisposition:function(e){var t=r.extractContentFloor(e);return t?t.disposition:null},getWhiteboardDisposition:function(e){var t=r.extractWhiteboardFloor(e);return t?t.disposition:null},extractContent:function(e){return e&&e.length&&e.find(function(e){return e.name===t.CONTENT})||null},extractWhiteboard:function(e){return e&&e.length&&e.find(function(e){return e.name===t.WHITEBOARD})||null},extractFloor:function(e){return e?e.floor:null},extractContentFloor:function(e){var t=r.extractContent(e);return r.extractFloor(t)},extractWhiteboardFloor:function(e){var t=r.extractWhiteboard(e);return r.extractFloor(t)},getContentBeneficiaryId:function(e){var t=r.extractContentFloor(e);return t&&t.beneficiary?t.beneficiary.id:null},getWhiteboardBeneficiaryId:function(e){var t=r.extractWhiteboardFloor(e);return t&&t.beneficiary?t.beneficiary.id:null},getWhiteboardResourceUrl:function(e){var t=r.extractWhiteboard(e);return t&&t.resourceUrl?t.resourceUrl:null}},n=r;exports.default=n;
},{"@babel/runtime-corejs2/core-js/object/define-property":"eIqn","../constants":"swzz"}],"fQ8b":[function(require,module,exports) {
var e=require("@babel/runtime-corejs2/core-js/object/freeze"),r=require("@babel/runtime-corejs2/core-js/object/define-properties");function o(o,u){return u||(u=o.slice(0)),e(r(o,{raw:{value:e(u)}}))}module.exports=o,module.exports.default=module.exports,module.exports.__esModule=!0;
},{"@babel/runtime-corejs2/core-js/object/freeze":"LJ37","@babel/runtime-corejs2/core-js/object/define-properties":"CpmN"}],"wAJV":[function(require,module,exports) {
var r=require("./_SetCache"),e=require("./_arrayIncludes"),a=require("./_arrayIncludesWith"),u=require("./_arrayMap"),n=require("./_baseUnary"),i=require("./_cacheHas"),t=200;function l(l,h,s,c){var f=-1,o=e,q=!0,_=l.length,p=[],v=h.length;if(!_)return p;s&&(h=u(h,n(s))),c?(o=a,q=!1):h.length>=t&&(o=i,q=!1,h=new r(h));r:for(;++f<_;){var y=l[f],d=null==s?y:s(y);if(y=c||0!==y?y:0,q&&d==d){for(var g=v;g--;)if(h[g]===d)continue r;p.push(y)}else o(h,d,c)||p.push(y)}return p}module.exports=l;
},{"./_SetCache":"thFQ","./_arrayIncludes":"mBEK","./_arrayIncludesWith":"hjtK","./_arrayMap":"BblM","./_baseUnary":"PnXa","./_cacheHas":"qxaq"}],"xNJk":[function(require,module,exports) {
var e=require("./_baseDifference"),r=require("./_baseFlatten"),i=require("./_baseRest"),t=require("./isArrayLikeObject"),u=i(function(i,u){return t(i)?e(i,r(u,1,t,!0)):[]});module.exports=u;
},{"./_baseDifference":"wAJV","./_baseFlatten":"cZtZ","./_baseRest":"f4Fl","./isArrayLikeObject":"FwQQ"}],"UI5o":[function(require,module,exports) {
"use strict";var e=require("@babel/runtime-corejs2/core-js/object/define-property"),u=require("@babel/runtime-corejs2/helpers/interopRequireDefault");e(exports,"__esModule",{value:!0}),exports.default=void 0;var r=u(require("@babel/runtime-corejs2/helpers/classCallCheck")),t=u(require("@babel/runtime-corejs2/helpers/createClass")),i=function(){function e(){(0,r.default)(this,e),this.queue=[]}return(0,t.default)(e,[{key:"clear",value:function(){this.queue=[]}},{key:"enqueue",value:function(e){this.queue.push(e)}},{key:"dequeue",value:function(){return 0===this.queue.length?null:this.queue.shift()}},{key:"size",value:function(){return this.queue.length}}]),e}();exports.default=i;
},{"@babel/runtime-corejs2/core-js/object/define-property":"eIqn","@babel/runtime-corejs2/helpers/interopRequireDefault":"LXwi","@babel/runtime-corejs2/helpers/classCallCheck":"Tzth","@babel/runtime-corejs2/helpers/createClass":"xM5U"}],"wr2t":[function(require,module,exports) {
"use strict";var e=require("@babel/runtime-corejs2/core-js/object/define-property"),n=require("@babel/runtime-corejs2/helpers/interopRequireDefault");e(exports,"__esModule",{value:!0}),exports.default=void 0;var t,r,i,c,u,o,a,s,l,h,f=n(require("@babel/runtime-corejs2/helpers/taggedTemplateLiteral")),g=n(require("@babel/runtime-corejs2/helpers/classCallCheck")),q=n(require("@babel/runtime-corejs2/helpers/createClass")),p=n(require("@babel/runtime-corejs2/helpers/defineProperty")),m=n(require("lodash/difference")),d=n(require("../common/queue")),v=n(require("../common/logs/logger-proxy")),O=function(){function e(){(0,g.default)(this,e),this.queue=new d.default,this.status=e.status.IDLE,this.onDeltaAction=null,this.workingCopy=null}return(0,q.default)(e,[{key:"isValidLocus",value:function(n){var t,r=this,i=!1,c=e.status.IDLE,u=e.isLoci;return u(this.workingCopy)&&u(n)?i=!0:(t=c,r.status=t,v.default.logger.info("Locus-info:parser#processDeltaEvent --\x3e Ignoring non-locus object. workingCopy:",this.workingCopy,"newLoci:",n)),i}},{key:"nextEvent",value:function(){this.status!==e.status.PAUSED?this.queue.size()>0?this.processDeltaEvent():this.status=e.status.IDLE:v.default.logger.info("Locus-info:parser#nextEvent --\x3e Locus parser paused.")}},{key:"onDeltaAction",value:function(e,n){}},{key:"onDeltaEvent",value:function(n){this.queue.enqueue(n),this.status===e.status.IDLE&&this.onDeltaAction&&(this.status=e.status.WORKING,this.processDeltaEvent())}},{key:"pause",value:function(){this.status=e.status.PAUSED,v.default.logger.info("Locus-info:parser#pause --\x3e Locus parser paused.")}},{key:"processDeltaEvent",value:function(){var n=e.loci,t=n.DESYNC,r=n.USE_INCOMING,i=e.extractComparisonState,c=this.queue.dequeue();if(this.isValidLocus(c)){var u=e.compare(this.workingCopy,c),o=i(u);v.default.logger.debug("Locus-info:parser#processDeltaEvent --\x3e Locus Debug: ".concat(u)),o===t?this.pause():o===r&&(this.workingCopy=c),this.onDeltaAction&&(v.default.logger.info("Locus-info:parser#processDeltaEvent --\x3e Locus Delta Action: ".concat(o)),this.onDeltaAction.call(this,o,c)),this.nextEvent()}}},{key:"resume",value:function(){v.default.logger.info("Locus-info:parser#resume --\x3e Locus parser resumed."),this.status=e.status.WORKING,this.nextEvent()}}],[{key:"checkSequenceOverlap",value:function(n,t){var r=null;return n.min>t.max?r="".concat(e.loci.GT,":SO001"):n.max<t.min&&(r="".concat(e.loci.LT,":SO002")),r}},{key:"checkUnequalRanges",value:function(n,t){var r=null,i=0===n.unique.length,c=0===t.unique.length,u=n.end-n.min,o=t.end-t.min;return i&&c&&(r=u>o?"".concat(e.loci.GT,":UR001"):u<o?"".concat(e.loci.LT,":UR002"):"".concat(e.loci.EQ,":UR003")),r}},{key:"checkForUniqueEntries",value:function(n,t){var r=null,i=n.unique.length>0,c=t.unique.length>0;return i&&!c?r="".concat(e.loci.GT,":UE001"):!i&&c&&(r="".concat(e.loci.LT,":UE002")),r}},{key:"checkIfOutOfSync",value:function(n,t){var r=null,i=n.unique[0],c=t.unique[0],u=!n.start&&!n.end,o=!t.start&&!t.end,a=u&&o,s=function(e,n,t){return e.some(function(e){return n<e&&e<t})},l=s(n.unique,t.min,t.max),h=s(t.unique,n.min,n.max);if(a||l||h){var f="".concat(+a,",").concat(+l,",").concat(+h);r="".concat(e.loci.DESYNC,":OOS001:").concat(f)}else r=i>c?"".concat(e.loci.GT,":OOS002"):"".concat(e.loci.LT,":OOS003");return r}},{key:"compare",value:function(n,t){var r=e.isSequenceEmpty,i=e.extractComparisonState,c=e.packComparisonResult;if(r(n)||r(t))return c(e.loci.USE_INCOMING,"C001");if(t.baseSequence)return c(e.compareDelta(n,t),"C002");var u=e.compareSequence(n.sequence,t.sequence);return c(e.compareToAction(i(u)),u)}},{key:"compareDelta",value:function(n,t){var r=e.loci,i=r.LT,c=r.GT,u=r.EQ,o=r.DESYNC,a=r.USE_INCOMING,s=e.extractComparisonState,l=e.packComparisonResult,h=e.compareSequence(n.sequence,t.sequence),f=s(h);if(f!==i)return l(e.compareToAction(f),h);switch(s(f=e.compareSequence(n.sequence,t.baseSequence))){case c:case u:f=a;break;default:f=o}return l(f,h)}},{key:"compareSequence",value:function(n,t){var r=e.getMetaData(n),i=e.getMetaData(t);r.unique=e.getUniqueSequences(r,i),i.unique=e.getUniqueSequences(i,r);for(var c=0,u=[e.checkSequenceOverlap,e.checkUnequalRanges,e.checkForUniqueEntries,e.checkIfOutOfSync];c<u.length;c++){var o=(0,u[c])(r,i);if(o)return o}return e.loci.ERROR}},{key:"compareToAction",value:function(n){var t=e.loci,r=t.DESYNC,i=t.EQ,c=t.ERROR,u=t.GT,o=t.LT,a=t.USE_CURRENT,s=t.USE_INCOMING,l=c;switch(n){case i:case u:l=a;break;case o:l=s;break;case r:l=r;break;default:v.default.logger.info("Locus-info:parser#compareToAction --\x3e Error: ".concat(n," is not a recognized sequence comparison result."))}return l}},{key:"extractComparisonState",value:function(e){return e.split(":")[0]}},{key:"getMetaData",value:function(e){var n=e.entries,t=n[0],r=n.slice(-1)[0],i=e.rangeStart,c=e.rangeEnd;return{start:i,end:c,first:t,last:r,min:i||t,max:r||c,entries:n}}},{key:"getUniqueSequences",value:function(n,t){var r=(0,m.default)(n.entries,t.entries),i=t.start,c=t.end;return e.getNumbersOutOfRange(r,i,c)}},{key:"getNumbersOutOfRange",value:function(e,n,t){return e.filter(function(e){return e<n||e>t}).sort(function(e,n){return e-n})}},{key:"isSequenceEmpty",value:function(e){var n,t=e.sequence,r=!(null!==(n=t.entries)&&void 0!==n&&n.length),i=0===t.rangeStart&&0===t.rangeEnd;return r&&i}},{key:"isLoci",value:function(e){if(!e||!e.sequence)return!1;var n=function(n){return Object.prototype.hasOwnProperty.call(e.sequence,n)};return!(!n("rangeStart")||!n("rangeEnd"))}},{key:"packComparisonResult",value:function(e,n){return"".concat(e,":").concat(n)}},{key:"getDebugMessage",value:function(n,g){var q=function(e){return e.join("").replace(/\s{2,}/g," ")},p={EQ:"".concat(e.loci.LT,": is equal (current == incoming)."),LT:"".concat(e.loci.LT,": choose right side (incoming)."),GT:"".concat(e.loci.GT,": choose left side (current).")},m={SO001:{title:"checkSequenceOverlap-001",description:q(t||(t=(0,f.default)(["Occurs if earliest working copy sequence is more             recent than last incoming sequence."],["Occurs if earliest working copy sequence is more \\\n            recent than last incoming sequence."]))),logic:"current.min > incoming.max"},SO002:{title:"checkSequenceOverlap-002",description:q(r||(r=(0,f.default)(["Occurs if last working copy sequence is before the           earliest incoming sequence."],["Occurs if last working copy sequence is before the \\\n          earliest incoming sequence."]))),logic:"current.max < incoming.min"},UR001:{title:"checkUnequalRanges-001",description:q(i||(i=(0,f.default)(["Occurs if there are no unique values for both loci,           and the current working copy loci has a larger range."],["Occurs if there are no unique values for both loci, \\\n          and the current working copy loci has a larger range."]))),logic:"currentTotalRange > incomingTotalRange"},UR002:{title:"checkUnequalRanges-002",description:q(c||(c=(0,f.default)(["Occurs if there are no unique values for both loci,           and the incoming delta loci has a larger range."],["Occurs if there are no unique values for both loci, \\\n          and the incoming delta loci has a larger range."]))),logic:"currentTotalRange < incomingTotalRange"},UR003:{title:"checkUnequalRanges-003",description:q(u||(u=(0,f.default)(["Occurs if there are no unique values for both loci,           and with ranges either absent or of the same size, the sequences           are considered equal."],["Occurs if there are no unique values for both loci, \\\n          and with ranges either absent or of the same size, the sequences \\\n          are considered equal."]))),logic:"currentTotalRange == incomingTotalRange"},UE001:{title:"checkForUniqueEntries-001",description:q(o||(o=(0,f.default)(["Occurs if current loci has unique entries and           incoming does not. Entries are considered unique if they           do not overlap with other Loci sequences or range values."],["Occurs if current loci has unique entries and \\\n          incoming does not. Entries are considered unique if they \\\n          do not overlap with other Loci sequences or range values."]))),logic:"currentIsUnique && !incomingIsUnique"},UE002:{title:"checkForUniqueEntries-002",description:q(a||(a=(0,f.default)(["Occurs if current has no unique entries but           incoming does. Entries are considered unique if they           do not overlap with other Loci sequences or range values."],["Occurs if current has no unique entries but \\\n          incoming does. Entries are considered unique if they \\\n          do not overlap with other Loci sequences or range values."]))),logic:"!currentIsUnique && incomingIsUnique"},OOS001:{title:"checkIfOutOfSync-001",description:q(s||(s=(0,f.default)(["Occurs if neither sequence has a range, or           if the current loci unique entries overlap the total range of the           incoming sequence, or if the incoming unique entries overlap           the total range of current sequence."],["Occurs if neither sequence has a range, or \\\n          if the current loci unique entries overlap the total range of the \\\n          incoming sequence, or if the incoming unique entries overlap \\\n          the total range of current sequence."]))),logic:"neitherSeqHasRange || currentUniqOverlap || incomingUniqOverlap"},OOS002:{title:"checkIfOutOfSync-002",description:q(l||(l=(0,f.default)(["Occurs if the minimum value from sequences that are           unique to the current loci is greater than the minimum value from           sequences that are unique to the incoming loci."],["Occurs if the minimum value from sequences that are \\\n          unique to the current loci is greater than the minimum value from \\\n          sequences that are unique to the incoming loci."]))),logic:"currentUniqueMin > incomingUniqueMin"},OOS003:{title:"checkIfOutOfSync-003",description:q(h||(h=(0,f.default)(["Occurs if none of the comparison rules applied.           It is a catch all."],["Occurs if none of the comparison rules applied. \\\n          It is a catch all."]))),logic:"else (catch all)"}}[n];return m.title="Debug: ".concat(m.title),m.resolution=p[g],m}}]),e}();exports.default=O,(0,p.default)(O,"status",{IDLE:"IDLE",PAUSED:"PAUSED",WORKING:"WORKING"}),(0,p.default)(O,"loci",{EQ:"EQUAL",GT:"GREATER_THAN",LT:"LESS_THAN",DESYNC:"DESYNC",USE_INCOMING:"USE_INCOMING",USE_CURRENT:"USE_CURRENT",ERROR:"ERROR"});
},{"@babel/runtime-corejs2/core-js/object/define-property":"eIqn","@babel/runtime-corejs2/helpers/interopRequireDefault":"LXwi","@babel/runtime-corejs2/helpers/taggedTemplateLiteral":"fQ8b","@babel/runtime-corejs2/helpers/classCallCheck":"Tzth","@babel/runtime-corejs2/helpers/createClass":"xM5U","@babel/runtime-corejs2/helpers/defineProperty":"n5FU","lodash/difference":"xNJk","../common/queue":"UI5o","../common/logs/logger-proxy":"NeTJ"}],"ql2m":[function(require,module,exports) {
"use strict";var e=require("@babel/runtime-corejs2/core-js/reflect/construct"),t=require("@babel/runtime-corejs2/core-js/object/define-property"),s=require("@babel/runtime-corejs2/helpers/interopRequireDefault");t(exports,"__esModule",{value:!0}),exports.default=void 0;var i=s(require("@babel/runtime-corejs2/core-js/object/keys")),a=s(require("@babel/runtime-corejs2/helpers/classCallCheck")),n=s(require("@babel/runtime-corejs2/helpers/createClass")),u=s(require("@babel/runtime-corejs2/helpers/inherits")),o=s(require("@babel/runtime-corejs2/helpers/possibleConstructorReturn")),r=s(require("@babel/runtime-corejs2/helpers/getPrototypeOf")),l=s(require("lodash/isEqual")),c=s(require("../common/logs/logger-proxy")),d=s(require("../common/events/events-scope")),E=require("../constants"),f=s(require("../metrics")),p=require("../metrics/config"),h=s(require("../locus-info/infoUtils")),S=s(require("../locus-info/fullState")),T=s(require("../locus-info/selfUtils")),L=s(require("../locus-info/hostUtils")),N=s(require("../locus-info/controlsUtils")),I=s(require("../locus-info/mediaSharesUtils")),A=s(require("../locus-info/parser"));function v(t){var s=O();return function(){var i,a=(0,r.default)(t);if(s){var n=(0,r.default)(this).constructor;i=e(a,arguments,n)}else i=a.apply(this,arguments);return(0,o.default)(this,i)}}function O(){if("undefined"==typeof Reflect||!e)return!1;if(e.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(e(Boolean,[],function(){})),!0}catch(t){return!1}}var U=function(e){(0,u.default)(s,e);var t=v(s);function s(e,i,n){var u;return(0,a.default)(this,s),(u=t.call(this)).parsedLocus={states:[]},u.webex=i,u.emitChange=!1,u.compareAndUpdateFlags={},u.meetingId=n,u.updateMeeting=e,u.locusParser=new A.default,u}return(0,n.default)(s,[{key:"applyLocusDeltaData",value:function(e,t,s){var i=this,a=A.default.loci,n=a.DESYNC,u=a.USE_CURRENT;switch(e){case a.USE_INCOMING:s.locusInfo.onDeltaLocus(t);break;case u:s.locusDesync=!1,s.needToGetFullLocus=!1;break;case n:s.meetingRequest.getFullLocus({desync:!0,locusUrl:s.locusUrl}).then(function(e){s.locusInfo.onFullLocus(e.body),i.locusParser.resume()});break;default:c.default.logger.info("Locus-info:index#applyLocusDeltaData --\x3e Unknown locus delta action: ".concat(e))}}},{key:"handleLocusDelta",value:function(e,t){var s=this;this.locusParser.onDeltaAction||(this.locusParser.onDeltaAction=function(e,i){s.applyLocusDeltaData(e,i,t)}),this.locusParser.onDeltaEvent(e)}},{key:"init",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.created=e.created||null,this.scheduledMeeting=e.meeting||null,this.participantsUrl=e.participantsUrl||null,this.replaces=e.replaces||null,this.aclUrl=e.aclUrl||null,this.baseSequence=e.baseSequence||null,this.sequence=e.sequence||null,this.membership=e.membership||null,this.identities=e.identities||null,this.participants=e.participants||null,this.deltaParticipants=[],this.updateParticipants(e.participants),this.updateConversationUrl(e.conversationUrl,e.info),this.updateControls(e.controls),this.updateLocusUrl(e.url),this.updateFullState(e.fullState),this.updateMeetingInfo(e.info),this.updateSelf(e.self,e.participants),this.updateHostInfo(e.host),this.updateMediaShares(e.mediaShares)}},{key:"initialSetup",value:function(e,t){t?this.locusParser.onDeltaEvent(e):this.onFullLocus(e),this.emitChange=!0}},{key:"parse",value:function(e,t){var s=t.eventType;switch(c.default.logger.info("Locus-info:index#parse --\x3e received locus data: ".concat(s)),s){case E.LOCUSEVENT.PARTICIPANT_JOIN:case E.LOCUSEVENT.PARTICIPANT_LEFT:case E.LOCUSEVENT.CONTROLS_UPDATED:case E.LOCUSEVENT.PARTICIPANT_AUDIO_MUTED:case E.LOCUSEVENT.PARTICIPANT_AUDIO_UNMUTED:case E.LOCUSEVENT.PARTICIPANT_VIDEO_MUTED:case E.LOCUSEVENT.PARTICIPANT_VIDEO_UNMUTED:case E.LOCUSEVENT.SELF_CHANGED:case E.LOCUSEVENT.PARTICIPANT_UPDATED:case E.LOCUSEVENT.PARTICIPANT_CONTROLS_UPDATED:case E.LOCUSEVENT.PARTICIPANT_ROLES_UPDATED:case E.LOCUSEVENT.PARTICIPANT_DECLINED:case E.LOCUSEVENT.FLOOR_GRANTED:case E.LOCUSEVENT.FLOOR_RELEASED:this.onFullLocus(t.locus,s);break;case E.LOCUSEVENT.DIFFERENCE:this.handleLocusDelta(t.locus,e);break;default:this.handleLocusDelta(t.locus,e)}}},{key:"emitScoped",value:function(e,t,s){return this.emit(e,t,s)}},{key:"onFullLocus",value:function(e,t){e||c.default.logger.error("Locus-info:index#onFullLocus --\x3e object passed as argument was invalid, continuing."),this.updateParticipantDeltas(e.participants),this.scheduledMeeting=e.meeting||null,this.participants=e.participants,this.updateLocusInfo(e),this.updateParticipants(e.participants),this.isMeetingActive(),this.handleOneOnOneEvent(t),this.locusParser.workingCopy=e}},{key:"handleOneOnOneEvent",value:function(e){this.parsedLocus.fullState.type!==E._CALL_&&this.parsedLocus.fullState.type!==E._SIP_BRIDGE_||(e===E.LOCUSEVENT.PARTICIPANT_DECLINED&&this.emitScoped({file:"locus-info",function:"handleOneonOneEvent"},E.EVENTS.REMOTE_RESPONSE,{remoteDeclined:!0,remoteAnswered:!1}),e===E.LOCUSEVENT.PARTICIPANT_JOIN&&this.emitScoped({file:"locus-info",function:"handleOneonOneEvent"},E.EVENTS.REMOTE_RESPONSE,{remoteDeclined:!1,remoteAnswered:!0}))}},{key:"onDeltaLocus",value:function(e){this.updateLocusInfo(e),this.updateParticipants(e.participants),this.isMeetingActive()}},{key:"updateLocusInfo",value:function(e){this.updateControls(e.controls),this.updateConversationUrl(e.conversationUrl,e.info),this.updateCreated(e.created),this.updateFullState(e.fullState),this.updateHostInfo(e.host),this.updateMeetingInfo(e.info,e.self),this.updateMediaShares(e.mediaShares),this.updateParticipantsUrl(e.participantsUrl),this.updateReplace(e.replace),this.updateSelf(e.self,e.participants),this.updateLocusUrl(e.url),this.updateAclUrl(e.aclUrl),this.updateBasequence(e.baseSequence),this.updateSequence(e.sequence),this.updateMemberShip(e.membership),this.updateIdentifiers(e.identities),this.compareAndUpdate()}},{key:"getLocusPartner",value:function(e,t){return e&&0!==e.length?e.find(function(s){return t&&s.identity!==t.identity&&(e.length<=2||s.type===E._USER_&&!s.removed)})||this.partner:null}},{key:"isMeetingActive",value:function(){if(this.parsedLocus.fullState.type===E._CALL_||this.parsedLocus.fullState.type===E._SIP_BRIDGE_){var e=this.getLocusPartner(this.participants,this.self);this.updateMeeting({partner:e}),this.fullState&&this.fullState.state===E.LOCUS.STATE.INACTIVE?(c.default.logger.warn("Locus-info:index#isMeetingActive --\x3e Call Ended, locus state is inactive."),f.default.postEvent({event:p.eventType.REMOTE_ENDED,meetingId:this.meetingId}),this.emitScoped({file:"locus-info",function:"isMeetingActive"},E.EVENTS.DESTROY_MEETING,{reason:E.CALL_REMOVED_REASON.CALL_INACTIVE,shouldLeave:!1})):e.state!==E.MEETING_STATE.STATES.LEFT||!this.parsedLocus.self||this.parsedLocus.self.state!==E.MEETING_STATE.STATES.DECLINED&&this.parsedLocus.self.state!==E.MEETING_STATE.STATES.NOTIFIED&&this.parsedLocus.self.state!==E.MEETING_STATE.STATES.JOINED?!this.parsedLocus.self||this.parsedLocus.self.state!==E.MEETING_STATE.STATES.LEFT||e.state!==E.MEETING_STATE.STATES.LEFT&&e.state!==E.MEETING_STATE.STATES.DECLINED&&e.state!==E.MEETING_STATE.STATES.NOTIFIED&&e.state!==E.MEETING_STATE.STATES.IDLE||(f.default.postEvent({event:p.eventType.REMOTE_ENDED,meetingId:this.meetingId}),this.emitScoped({file:"locus-info",function:"isMeetingActive"},E.EVENTS.DESTROY_MEETING,{reason:E.CALL_REMOVED_REASON.SELF_LEFT,shouldLeave:!1})):(f.default.postEvent({event:p.eventType.REMOTE_ENDED,meetingId:this.meetingId}),this.emitScoped({file:"locus-info",function:"isMeetingActive"},E.EVENTS.DESTROY_MEETING,{reason:E.CALL_REMOVED_REASON.PARTNER_LEFT,shouldLeave:this.parsedLocus.self.joinedWith&&this.parsedLocus.self.joinedWith.state!==E._LEFT_}))}else this.parsedLocus.fullState.type===E._MEETING_?!this.fullState||this.fullState.state!==E.LOCUS.STATE.INACTIVE&&this.fullState.state!==E.LOCUS.STATE.TERMINATING?this.fullState&&this.fullState.removed?(f.default.postEvent({event:p.eventType.REMOTE_ENDED,meetingId:this.meetingId}),this.emitScoped({file:"locus-info",function:"isMeetingActive"},E.EVENTS.DESTROY_MEETING,{reason:E.MEETING_REMOVED_REASON.FULLSTATE_REMOVED,shouldLeave:!1})):this.parsedLocus.self&&this.parsedLocus.self.removed&&this.emitScoped({file:"locus-info",function:"isMeetingActive"},E.EVENTS.DESTROY_MEETING,{reason:E.MEETING_REMOVED_REASON.SELF_REMOVED,shouldLeave:!1}):(c.default.logger.warn("Locus-info:index#isMeetingActive --\x3e Meeting is ending due to inactive or terminating"),f.default.postEvent({event:p.eventType.REMOTE_ENDED,meetingId:this.meetingId}),this.emitScoped({file:"locus-info",function:"isMeetingActive"},E.EVENTS.DESTROY_MEETING,{reason:E.MEETING_REMOVED_REASON.MEETING_INACTIVE_TERMINATING,shouldLeave:!1})):c.default.logger.warn("Locus-info:index#isMeetingActive --\x3e Meeting Type is unknown.")}},{key:"compareAndUpdate",value:function(){(this.compareAndUpdateFlags.compareSelfAndHost||this.compareAndUpdateFlags.compareHostAndSelf)&&this.compareSelfAndHost()}},{key:"compareSelfAndHost",value:function(){var e;this.parsedLocus.self.selfIdentity===(null===(e=this.parsedLocus.host)||void 0===e?void 0:e.hostId)&&this.parsedLocus.self.moderator?this.emitScoped({file:"locus-info",function:"compareSelfAndHost"},E.EVENTS.LOCUS_INFO_CAN_ASSIGN_HOST,{canAssignHost:!0}):this.emitScoped({file:"locus-info",function:"compareSelfAndHost"},E.EVENTS.LOCUS_INFO_CAN_ASSIGN_HOST,{canAssignHost:!1})}},{key:"updateParticipantDeltas",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this.deltaParticipants=t.reduce(function(t,s){var a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s={audioStatus:e.audioStatus!==t.audioStatus,videoSlidesStatus:e.videoSlidesStatus!==t.videoSlidesStatus,videoStatus:e.videoStatus!==t.videoStatus};return(0,i.default)(s).forEach(function(e){!0!==s[e]&&delete s[e]}),s}((function(e,t){return t.find(function(t){return t.person.id===e.person.id})}(s,e.participants||[])||{}).status,s.status);return(0,i.default)(a).length>0&&t.push({person:s.person,delta:a}),t},[])}},{key:"updateParticipants",value:function(e){var t;this.emitScoped({file:"locus-info",function:"updateParticipants"},E.EVENTS.LOCUS_INFO_UPDATE_PARTICIPANTS,{participants:e,recordingId:this.parsedLocus.controls&&(null===(t=this.parsedLocus.controls.record)||void 0===t?void 0:t.modifiedBy),selfIdentity:this.parsedLocus.self&&this.parsedLocus.self.selfIdentity,selfId:this.parsedLocus.self&&this.parsedLocus.self.selfId,hostId:this.parsedLocus.host&&this.parsedLocus.host.hostId})}},{key:"updateControls",value:function(e){if(e&&!(0,l.default)(this.controls,e)){this.parsedLocus.controls=N.default.parse(e);var t=N.default.getControls(this.controls,e),s=t.updates,i=s.hasRecordingChanged,a=s.hasRecordingPausedChanged,n=t.current;if(i||a){var u=null;a?u=n.record.paused?E.RECORDING_STATE.PAUSED:n.record.recording?E.RECORDING_STATE.RESUMED:E.RECORDING_STATE.IDLE:i&&(u=n.record.recording?E.RECORDING_STATE.RECORDING:E.RECORDING_STATE.IDLE),this.emitScoped({file:"locus-info",function:"updateControls"},E.LOCUSINFO.EVENTS.CONTROLS_RECORDING_UPDATED,{state:u,modifiedBy:n.record.modifiedBy,lastModified:n.record.lastModified})}this.controls=e}}},{key:"updateConversationUrl",value:function(e,t){e&&!(0,l.default)(this.conversationUrl,e)?(this.conversationUrl=e,this.updateMeeting({conversationUrl:e})):t&&t.conversationUrl&&!(0,l.default)(this.conversationUrl,t.conversationUrl)&&(this.conversationUrl=t.conversationUrl,this.updateMeeting({conversationUrl:t.conversationUrl}))}},{key:"updateCreated",value:function(e){e&&!(0,l.default)(this.created,e)&&(this.created=e)}},{key:"updateFullState",value:function(e){if(e&&!(0,l.default)(this.fullState,e)){var t=S.default.getFullState(this.fullState,e);this.updateMeeting(t.current),t.updates.meetingStateChangedTo&&this.emitScoped({file:"locus-info",function:"updateFullState"},E.LOCUSINFO.EVENTS.FULL_STATE_MEETING_STATE_CHANGE,{previousState:t.previous&&t.previous.meetingState,currentState:t.current.meetingState}),t.updates.meetingTypeChangedTo&&this.emitScoped({file:"locus-info",function:"updateFullState"},E.LOCUSINFO.EVENTS.FULL_STATE_TYPE_UPDATE,{type:t.current.type}),this.parsedLocus.fullState=t.current,this.fullState=e}}},{key:"updateHostInfo",value:function(e){if(e&&!(0,l.default)(this.host,e)){var t=L.default.getHosts(this.host,e);this.updateMeeting(t.current),this.parsedLocus.host=t.current,t.updates.isNewHost&&(this.compareAndUpdateFlags.compareSelfAndHost=!0,this.emitScoped({file:"locus-info",function:"updateHostInfo"},E.EVENTS.LOCUS_INFO_UPDATE_HOST,{newHost:t.current,oldHost:t.previous})),this.host=e}else this.compareAndUpdateFlags.compareSelfAndHost=!1}},{key:"updateMeetingInfo",value:function(e,t){if(e&&(!(0,l.default)(this.info,e)||!(0,l.default)(h.default.parsePolicy(e),h.default.parsePolicy(this.info))||!(0,l.default)(h.default.parseModerator(e)||h.default.parseModerator(e)))){var s=h.default.getInfos(this.parsedLocus.info,e);this.emitScoped({file:"locus-info",function:"updateMeetingInfo"},E.LOCUSINFO.EVENTS.MEETING_INFO_UPDATED,{info:s.current,self:t}),s.updates.isLocked&&this.emitScoped({file:"locus-info",function:"updateMeetingInfo"},E.LOCUSINFO.EVENTS.MEETING_LOCKED,e),s.updates.isUnlocked&&this.emitScoped({file:"locus-info",function:"updateMeetingInfo"},E.LOCUSINFO.EVENTS.MEETING_UNLOCKED,e),this.info=e,this.parsedLocus.info=s.current,this.updateMeeting(s.current)}}},{key:"updateMediaShares",value:function(e){if(e&&!(0,l.default)(this.mediaShares,e)){var t=I.default.getMediaShares(this.mediaShares,e);this.updateMeeting(t.current),this.emitScoped({file:"locus-info",function:"updateMediaShares"},E.EVENTS.LOCUS_INFO_UPDATE_MEDIA_SHARES,{current:t.current,previous:t.previous}),this.parsedLocus.mediaShares=t.current,this.mediaShares=e}}},{key:"updateParticipantsUrl",value:function(e){e&&!(0,l.default)(this.participantsUrl,e)&&(this.participantsUrl=e)}},{key:"updateReplace",value:function(e){e&&!(0,l.default)(this.replace,e)&&(this.replace=e)}},{key:"updateSelf",value:function(e,t){if(e&&!(0,l.default)(this.self,e)){var s=T.default.getSelves(this.self,e,this.webex.internal.device.url);this.updateMeeting(s.current),this.parsedLocus.self=s.current,this.parsedLocus.states[this.parsedLocus.states.length-1]!==s.current.state&&this.parsedLocus.states.push(s.current.state);var i,a,n,u=T.default.getSipUrl(this.getLocusPartner(t,e),this.parsedLocus.fullState.type,this.parsedLocus.info.sipUri);if(u.sipUri&&this.updateMeeting(u),s.updates.moderatorChanged?this.compareAndUpdateFlags.compareHostAndSelf=!0:this.compareAndUpdateFlags.compareHostAndSelf=!1,s.updates.isMediaInactiveOrReleased&&this.emitScoped({file:"locus-info",function:"updateSelf"},E.LOCUSINFO.EVENTS.DISCONNECT_DUE_TO_INACTIVITY,{reason:e.reason}),s.updates.moderatorChanged&&this.emitScoped({file:"locus-info",function:"updateSelf"},E.LOCUSINFO.EVENTS.SELF_MODERATOR_CHANGED,e),s.updates.localAudioUnmuteRequiredByServer&&this.emitScoped({file:"locus-info",function:"updateSelf"},E.LOCUSINFO.EVENTS.LOCAL_UNMUTE_REQUIRED,{muted:s.current.remoteMuted,unmuteAllowed:s.current.unmuteAllowed}),s.updates.isMutedByOthersChanged&&this.emitScoped({file:"locus-info",function:"updateSelf"},E.LOCUSINFO.EVENTS.SELF_REMOTE_MUTE_STATUS_UPDATED,{muted:s.current.remoteMuted,unmuteAllowed:s.current.unmuteAllowed}),s.updates.localAudioUnmuteRequestedByServer&&this.emitScoped({file:"locus-info",function:"updateSelf"},E.LOCUSINFO.EVENTS.LOCAL_UNMUTE_REQUESTED,{}),s.updates.isUnadmittedGuest&&this.emitScoped({file:"locus-info",function:"updateSelf"},E.LOCUSINFO.EVENTS.SELF_UNADMITTED_GUEST,e),s.updates.isAdmittedGuest&&this.emitScoped({file:"locus-info",function:"updateSelf"},E.LOCUSINFO.EVENTS.SELF_ADMITTED_GUEST,e),s.updates.isMediaInactive&&this.emitScoped({file:"locus-info",function:"updateSelf"},E.LOCUSINFO.EVENTS.MEDIA_INACTIVITY,T.default.getMediaStatus(e.mediaSessions)),s.updates.audioStateChange||s.updates.videoStateChange||s.updates.shareStateChange)this.emitScoped({file:"locus-info",function:"updateSelf"},E.LOCUSINFO.EVENTS.MEDIA_STATUS_CHANGE,{audioStatus:null===(i=s.current.currentMediaStatus)||void 0===i?void 0:i.audio,videoStatus:null===(a=s.current.currentMediaStatus)||void 0===a?void 0:a.video,shareStatus:null===(n=s.current.currentMediaStatus)||void 0===n?void 0:n.share});this.emitScoped({file:"locus-info",function:"updateSelf"},E.EVENTS.LOCUS_INFO_UPDATE_SELF,{oldSelf:s.previous,newSelf:s.current}),this.parsedLocus.self=s.current,this.self=e}else this.compareAndUpdateFlags.compareHostAndSelf=!1}},{key:"updateLocusUrl",value:function(e){e&&this.url!==e&&(this.url=e,this.updateMeeting({locusUrl:e}),this.emitScoped({file:"locus-info",function:"updateLocusUrl"},E.EVENTS.LOCUS_INFO_UPDATE_URL,e))}},{key:"updateAclUrl",value:function(e){e&&!(0,l.default)(this.aclUrl,e)&&(this.aclUrl=e)}},{key:"updateBasequence",value:function(e){e&&!(0,l.default)(this.baseSequence,e)&&(this.baseSequence=e)}},{key:"updateSequence",value:function(e){e&&!(0,l.default)(this.sequence,e)&&(this.sequence=e)}},{key:"updateMemberShip",value:function(e){e&&!(0,l.default)(this.membership,e)&&(this.membership=e)}},{key:"updateIdentifiers",value:function(e){e&&!(0,l.default)(this.identities,e)&&(this.identities=e)}}]),s}(d.default);exports.default=U;
},{"@babel/runtime-corejs2/core-js/reflect/construct":"vZQy","@babel/runtime-corejs2/core-js/object/define-property":"eIqn","@babel/runtime-corejs2/helpers/interopRequireDefault":"LXwi","@babel/runtime-corejs2/core-js/object/keys":"d81a","@babel/runtime-corejs2/helpers/classCallCheck":"Tzth","@babel/runtime-corejs2/helpers/createClass":"xM5U","@babel/runtime-corejs2/helpers/inherits":"CdTE","@babel/runtime-corejs2/helpers/possibleConstructorReturn":"w9GY","@babel/runtime-corejs2/helpers/getPrototypeOf":"Qxr1","lodash/isEqual":"R6wa","../common/logs/logger-proxy":"NeTJ","../common/events/events-scope":"LWpD","../constants":"swzz","../metrics":"LvoJ","../metrics/config":"Ch1R","../locus-info/infoUtils":"GKuL","../locus-info/fullState":"r4q0","../locus-info/selfUtils":"CgHJ","../locus-info/hostUtils":"cJAU","../locus-info/controlsUtils":"usub","../locus-info/mediaSharesUtils":"FMZA","../locus-info/parser":"wr2t"}],"rvkz":[function(require,module,exports) {
"use strict";var e=require("@babel/runtime-corejs2/core-js/reflect/construct"),r=require("@babel/runtime-corejs2/core-js/object/define-property"),t=require("@babel/runtime-corejs2/helpers/interopRequireDefault");r(exports,"__esModule",{value:!0}),exports.default=void 0;var u=t(require("@babel/runtime-corejs2/helpers/classCallCheck")),o=t(require("@babel/runtime-corejs2/helpers/inherits")),i=t(require("@babel/runtime-corejs2/helpers/possibleConstructorReturn")),n=t(require("@babel/runtime-corejs2/helpers/getPrototypeOf")),l=t(require("@babel/runtime-corejs2/helpers/wrapNativeSuper"));function a(r){var t=s();return function(){var u,o=(0,n.default)(r);if(t){var l=(0,n.default)(this).constructor;u=e(o,arguments,l)}else u=o.apply(this,arguments);return(0,i.default)(this,u)}}function s(){if("undefined"==typeof Reflect||!e)return!1;if(e.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(e(Boolean,[],function(){})),!0}catch(r){return!1}}var c=function(e){(0,o.default)(t,e);var r=a(t);function t(){return(0,u.default)(this,t),r.apply(this,arguments)}return t}((0,l.default)(Error));exports.default=c;
},{"@babel/runtime-corejs2/core-js/reflect/construct":"vZQy","@babel/runtime-corejs2/core-js/object/define-property":"eIqn","@babel/runtime-corejs2/helpers/interopRequireDefault":"LXwi","@babel/runtime-corejs2/helpers/classCallCheck":"Tzth","@babel/runtime-corejs2/helpers/inherits":"CdTE","@babel/runtime-corejs2/helpers/possibleConstructorReturn":"w9GY","@babel/runtime-corejs2/helpers/getPrototypeOf":"Qxr1","@babel/runtime-corejs2/helpers/wrapNativeSuper":"y1h1"}],"vCGG":[function(require,module,exports) {
"use strict";var e=require("@babel/runtime-corejs2/core-js/reflect/construct"),t=require("@babel/runtime-corejs2/core-js/object/define-property"),n=require("@babel/runtime-corejs2/helpers/interopRequireDefault");t(exports,"__esModule",{value:!0}),exports.default=void 0;var r=n(require("@babel/runtime-corejs2/regenerator")),i=n(require("@babel/runtime-corejs2/core-js/promise")),o=n(require("@babel/runtime-corejs2/helpers/asyncToGenerator")),c=n(require("@babel/runtime-corejs2/helpers/createClass")),a=n(require("@babel/runtime-corejs2/helpers/classCallCheck")),s=n(require("@babel/runtime-corejs2/helpers/inherits")),u=n(require("@babel/runtime-corejs2/helpers/possibleConstructorReturn")),l=n(require("@babel/runtime-corejs2/helpers/getPrototypeOf")),g=n(require("@babel/runtime-corejs2/helpers/wrapNativeSuper")),d=n(require("../common/logs/logger-proxy")),f=n(require("../common/events/trigger-proxy")),h=require("../constants"),m=n(require("../common/errors/reconnection")),x=n(require("../common/errors/reconnection-in-progress")),p=n(require("../peer-connection-manager")),R=require("../metrics/config"),E=n(require("../media")),T=n(require("../metrics")),b=n(require("../roap/collection"));function v(t){var n=S();return function(){var r,i=(0,l.default)(t);if(n){var o=(0,l.default)(this).constructor;r=e(i,arguments,o)}else r=i.apply(this,arguments);return(0,u.default)(this,r)}}function S(){if("undefined"==typeof Reflect||!e)return!1;if(e.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(e(Boolean,[],function(){})),!0}catch(t){return!1}}var M=function(e){(0,s.default)(n,e);var t=v(n);function n(){return(0,a.default)(this,n),t.apply(this,arguments)}return n}((0,g.default)(Error)),A=function(e){(0,s.default)(n,e);var t=v(n);function n(e){var r,i=e.wasSharing,o=e.error,c=void 0===o?new Error("Meeting needs to be rejoined"):o;return(0,a.default)(this,n),(r=t.call(this,c)).wasSharing=i,r}return n}((0,g.default)(Error)),y=function(){function e(t){(0,a.default)(this,e),this.iceState={disconnected:!1,resolve:function(){},timer:void 0,timeoutDuration:t.config.reconnection.iceReconnectionTimeout},this.status=h.RECONNECTION.STATE.DEFAULT_STATUS,this.tryCount=h.RECONNECTION.STATE.DEFAULT_TRY_COUNT,this.webex=t.webex,this.meeting=t,this.maxRejoinAttempts=t.config.reconnection.maxRejoinAttempts,this.rejoinAttempts=h.RECONNECTION.STATE.DEFAULT_TRY_COUNT,this.autoRejoinEnabled=t.config.reconnection.autoRejoin,this.reset()}return(0,c.default)(e,[{key:"iceReconnected",value:function(){this.iceState.disconnected&&(d.default.logger.log("ReconnectionManager:index#iceReconnected --\x3e ice has reconnected"),this.iceState.resolve(),this.iceState.resolve=function(){},this.iceState.timer&&(clearTimeout(this.iceState.timer),delete this.iceState.timer),this.iceState.disconnected=!1)}},{key:"waitForIceReconnect",value:function(){var e=this;return this.iceState.disconnected?i.default.resolve():(d.default.logger.log("ReconnectionManager:index#waitForIceReconnect --\x3e waiting for ice reconnect"),this.iceState.disconnected=!0,new i.default(function(t,n){e.iceState.timer=setTimeout(function(){!1===e.iceState.disconnected?t():(e.iceState.disconnected=!1,n(new Error("ice reconnection did not occur in ".concat(e.iceState.timeoutDuration,"ms"))))},e.iceState.timeoutDuration),e.iceState.resolve=t}))}},{key:"reset",value:function(){this.status=h.RECONNECTION.STATE.DEFAULT_STATUS,this.tryCount=h.RECONNECTION.STATE.DEFAULT_TRY_COUNT,this.rejoinAttempts=h.RECONNECTION.STATE.DEFAULT_TRY_COUNT}},{key:"cleanUp",value:function(){this.reset(),this.meeting=null}},{key:"validate",value:function(){if(this.meeting.config.reconnection.enabled){if(this.status===h.RECONNECTION.STATE.DEFAULT_STATUS||this.status===h.RECONNECTION.STATE.COMPLETE)return!0;throw d.default.logger.info("ReconnectionManager:index#validate --\x3e Reconnection already in progress."),new x.default("Reconnection already in progress.")}throw d.default.logger.info("ReconnectionManager:index#validate --\x3e Reconnection is not enabled."),new m.default("Reconnection is not enabled.")}},{key:"reconnect",value:function(){var e=(0,o.default)(r.default.mark(function e(){var t,n,i,o,c,a=this,s=arguments;return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=s.length>0&&void 0!==s[0]?s[0]:{},n=t.networkDisconnect,i=void 0!==n&&n,o=t.networkRetry,c=void 0!==o&&o,d.default.logger.info("ReconnectionManager:index#reconnect --\x3e Reconnection start for meeting ".concat(this.meeting.id,".")),e.prev=2,this.validate(),e.next=10;break;case 6:throw e.prev=6,e.t0=e.catch(2),d.default.logger.info("ReconnectionManager:index#reconnect --\x3e Reconnection unable to begin.",e.t0),e.t0;case 10:return c||(d.default.logger.info("ReconnectionManager:index#reconnect --\x3e Sending reconnect start metric."),T.default.postEvent({event:R.eventType.MEDIA_RECONNECTING,meeting:this.meeting})),e.abrupt("return",this.executeReconnection({networkDisconnect:i}).then(function(){d.default.logger.info("ReconnectionManager:index#reconnect --\x3e Reconnection successful."),d.default.logger.info("ReconnectionManager:index#reconnect --\x3e Sending reconnect success metric."),T.default.postEvent({event:R.eventType.MEDIA_RECOVERED,meeting:a.meeting,data:{recoveredBy:R.reconnection.RECOVERED_BY_NEW}})}).catch(function(e){if(e instanceof M)return d.default.logger.info("ReconnectionManager:index#reconnect --\x3e Reconnection not successful, retrying."),a.status=h.RECONNECTION.STATE.DEFAULT_STATUS,a.reconnect({networkDisconnect:!0,networkRetry:!0});d.default.logger.error("ReconnectionManager:index#reconnect --\x3e Reconnection failed.",e.message),d.default.logger.info("ReconnectionManager:index#reconnect --\x3e Sending reconnect abort metric.");var t={event:R.eventType.CALL_ABORTED,meeting:a.meeting,data:{errors:[{category:R.errorObjects.category.expected,errorCode:2008,fatal:!0,name:R.errorObjects.name.mediaEngine,shownToUser:!1}]}};if(T.default.postEvent(t),e instanceof A&&a.autoRejoinEnabled)return a.rejoinMeeting(e.wasSharing);throw e}));case 12:case"end":return e.stop()}},e,this,[[2,6]])}));return function(){return e.apply(this,arguments)}}()},{key:"executeReconnection",value:function(){var e=(0,o.default)(r.default.mark(function e(t){var n,i,o,c;return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.networkDisconnect,i=void 0!==n&&n,this.status=h.RECONNECTION.STATE.IN_PROGRESS,d.default.logger.info("ReconnectionManager:index#executeReconnection --\x3e Attempting to reconnect to meeting."),!i){e.next=15;break}return e.prev=4,e.next=7,this.reconnectMercuryWebSocket();case 7:d.default.logger.error("ReconnectionManager:index#executeReconnection --\x3e Websocket reconnected.",this.webex.internal.device.url),e.next=15;break;case 10:throw e.prev=10,e.t0=e.catch(4),d.default.logger.error("ReconnectionManager:index#executeReconnection --\x3e Unable to reconnect to websocket, giving up."),this.status=h.RECONNECTION.STATE.FAILURE,e.t0;case 15:return o=this.meeting.shareStatus===h.SHARE_STATUS.LOCAL_SHARE_ACTIVE,e.prev=16,d.default.logger.info("ReconnectionManager:index#executeReconnection --\x3e Updating meeting data from server."),e.next=20,this.webex.meetings.syncMeetings();case 20:e.next=26;break;case 22:throw e.prev=22,e.t1=e.catch(16),d.default.logger.info("ReconnectionManager:index#executeReconnection --\x3e Unable to sync meetings, reconnecting.",e.t1),new M(e.t1);case 26:if(this.meeting&&this.webex.meetings.getMeetingByType(h._ID_,this.meeting.id)){e.next=29;break}throw d.default.logger.info("ReconnectionManager:index#executeReconnection --\x3e Meeting got deleted due to inactivity or ended remotely "),new Error("Unable to rejoin a meeting already ended or inactive .");case 29:if(d.default.logger.info("ReconnectionManager:index#executeReconnection --\x3e Current state of meeting is ".concat(this.meeting.state)),this.meeting.state!==h._LEFT_){e.next=34;break}if(this.meeting.type!==h._CALL_){e.next=33;break}throw new Error("Unable to rejoin a call in LEFT state.");case 33:throw new A({wasSharing:o});case 34:return e.prev=34,e.next=37,this.reconnectMedia();case 37:return c=e.sent,d.default.logger.log("ReconnectionManager:index#executeReconnection --\x3e Media reestablished"),this.status=h.RECONNECTION.STATE.COMPLETE,e.abrupt("return",c);case 43:throw e.prev=43,e.t2=e.catch(34),d.default.logger.error("ReconnectionManager:index#executeReconnection --\x3e Media reestablishment failed"),this.status=h.RECONNECTION.STATE.FAILURE,e.t2;case 48:case"end":return e.stop()}},e,this,[[4,10],[16,22],[34,43]])}));return function(t){return e.apply(this,arguments)}}()},{key:"rejoinMeeting",value:function(){var e=(0,o.default)(r.default.mark(function e(){var t,n,i=arguments;return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=i.length>0&&void 0!==i[0]&&i[0],e.prev=1,d.default.logger.info("ReconnectionManager:index#rejoinMeeting --\x3e attemping meeting rejoin"),n=this.meeting.correlationId,e.next=6,this.meeting.join({rejoin:!0});case 6:d.default.logger.info("ReconnectionManager:index#rejoinMeeting --\x3e meeting rejoined"),b.default.deleteSession(n),t&&(E.default.stopTracks(this.meeting.mediaProperties.shareTrack),this.meeting.isSharing=!1,this.shareStatus===h.SHARE_STATUS.LOCAL_SHARE_ACTIVE&&(this.meeting.shareStatus=h.SHARE_STATUS.NO_SHARE),this.meeting.mediaProperties.mediaDirection.sendShare=!1,f.default.trigger(this.meeting,{file:"reconnection-manager/index",function:"rejoinMeeting"},h.EVENT_TRIGGERS.MEETING_STOPPED_SHARING_LOCAL,{reason:h.SHARE_STOPPED_REASON.MEETING_REJOIN})),e.next=23;break;case 11:if(e.prev=11,e.t0=e.catch(1),this.rejoinAttempts+=1,!(this.rejoinAttempts<=this.maxRejoinAttempts)){e.next=19;break}d.default.logger.info("ReconnectionManager:index#rejoinMeeting --\x3e Unable to rejoin meeting, attempt #".concat(this.rejoinAttempts,", retrying."),e.t0),this.rejoinMeeting(),e.next=23;break;case 19:throw d.default.logger.error("ReconnectionManager:index#rejoinMeeting --\x3e Unable to rejoin meeting after max attempts.",e.t0),T.default.sendOperationalMetric(h.METRICS_OPERATIONAL_MEASURES.MEETING_MAX_REJOIN_FAILURE,{locus_id:this.meeting.locusUrl.split("/").pop(),reason:e.t0.message,stack:e.t0.stack}),this.status=h.RECONNECTION.STATE.FAILURE,e.t0;case 23:return e.prev=23,e.next=26,this.reconnectMedia();case 26:e.next=32;break;case 28:throw e.prev=28,e.t1=e.catch(23),d.default.logger.error("ReconnectionManager:index#rejoinMeeting --\x3e Unable to reestablish media after rejoining.",e.t1),e.t1;case 32:case"end":return e.stop()}},e,this,[[1,11],[23,28]])}));return function(){return e.apply(this,arguments)}}()},{key:"reconnectMedia",value:function(){var t=this;return d.default.logger.log("ReconnectionManager:index#reconnectMedia --\x3e Begin reestablishment of media"),e.setupPeerConnection(this.meeting),E.default.attachMedia(this.meeting.mediaProperties,{meetingId:this.meeting.id,remoteQualityLevel:this.meeting.mediaProperties.remoteQualityLevel,enableRtx:this.meeting.config.enableRtx,enableExtmap:this.meeting.config.enableExtmap}).then(function(e){return t.meeting.setRemoteStream(e)}).then(function(){return d.default.logger.log("ReconnectionManager:index#reconnectMedia --\x3e Sending ROAP media request"),t.meeting.roap.sendRoapMediaRequest({sdp:t.meeting.mediaProperties.peerConnection.sdp,roapSeq:t.meeting.roapSeq,meeting:t.meeting,reconnect:!0})})}},{key:"reconnectMercuryWebSocket",value:function(){var e=(0,o.default)(r.default.mark(function e(){return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(d.default.logger.info("ReconnectionManager:index#reconnectMercuryWebSocket --\x3e Reconnecting websocket."),!this.webex.internal.mercury.connected){e.next=13;break}return d.default.logger.info("ReconnectionManager:index#reconnectMercuryWebSocket --\x3e Disconnecting existing websocket."),e.prev=3,e.next=6,this.webex.internal.mercury.disconnect();case 6:d.default.logger.info("ReconnectionManager:index#reconnectMercuryWebSocket --\x3e Websocket disconnected successfully."),e.next=13;break;case 9:throw e.prev=9,e.t0=e.catch(3),d.default.logger.error("ReconnectionManager:index#reconnectMercuryWebSocket --\x3e Unable to disconnect from websocket, giving up.",e.t0),e.t0;case 13:return e.prev=13,d.default.logger.info("ReconnectionManager:index#reconnectMercuryWebSocket --\x3e Connecting websocket."),e.next=17,this.webex.internal.mercury.connect();case 17:d.default.logger.info("ReconnectionManager:index#reconnectMercuryWebSocket --\x3e Websocket connected successfully."),e.next=24;break;case 20:throw e.prev=20,e.t1=e.catch(13),d.default.logger.error("ReconnectionManager:index#reconnectMercuryWebSocket --\x3e Unable to connect to websocket, giving up.",e.t1),e.t1;case 24:case"end":return e.stop()}},e,this,[[3,9],[13,20]])}));return function(){return e.apply(this,arguments)}}()}],[{key:"setupPeerConnection",value:function(e){d.default.logger.log("ReconnectionManager:index#setupPeerConnection --\x3e Begin resetting peer connection"),p.default.close(e.mediaProperties.peerConnection),e.mediaProperties.unsetPeerConnection(),e.mediaProperties.reInitiatePeerconnection(),p.default.setPeerConnectionEvents(e),e.statsAnalyzer.updatePeerconnection(e.mediaProperties.peerConnection)}}]),e}();exports.default=y;
},{"@babel/runtime-corejs2/core-js/reflect/construct":"vZQy","@babel/runtime-corejs2/core-js/object/define-property":"eIqn","@babel/runtime-corejs2/helpers/interopRequireDefault":"LXwi","@babel/runtime-corejs2/regenerator":"i9LV","@babel/runtime-corejs2/core-js/promise":"eOfj","@babel/runtime-corejs2/helpers/asyncToGenerator":"OYLD","@babel/runtime-corejs2/helpers/createClass":"xM5U","@babel/runtime-corejs2/helpers/classCallCheck":"Tzth","@babel/runtime-corejs2/helpers/inherits":"CdTE","@babel/runtime-corejs2/helpers/possibleConstructorReturn":"w9GY","@babel/runtime-corejs2/helpers/getPrototypeOf":"Qxr1","@babel/runtime-corejs2/helpers/wrapNativeSuper":"y1h1","../common/logs/logger-proxy":"NeTJ","../common/events/trigger-proxy":"tIl4","../constants":"swzz","../common/errors/reconnection":"vaQG","../common/errors/reconnection-in-progress":"rvkz","../peer-connection-manager":"mZnB","../metrics/config":"Ch1R","../media":"frLi","../metrics":"LvoJ","../roap/collection":"pg5L"}],"O3rw":[function(require,module,exports) {
"use strict";var e=require("@babel/runtime-corejs2/core-js/reflect/construct"),r=require("@babel/runtime-corejs2/core-js/object/keys"),t=require("@babel/runtime-corejs2/core-js/object/get-own-property-symbols"),o=require("@babel/runtime-corejs2/core-js/object/get-own-property-descriptor"),n=require("@babel/runtime-corejs2/core-js/object/get-own-property-descriptors"),i=require("@babel/runtime-corejs2/core-js/object/define-properties"),c=require("@babel/runtime-corejs2/core-js/object/define-property"),u=require("@babel/runtime-corejs2/helpers/interopRequireDefault");c(exports,"__esModule",{value:!0}),exports.default=void 0;var a=u(require("@babel/runtime-corejs2/core-js/promise")),l=u(require("@babel/runtime-corejs2/core-js/json/stringify")),s=u(require("@babel/runtime-corejs2/regenerator")),d=u(require("@babel/runtime-corejs2/helpers/defineProperty")),v=u(require("@babel/runtime-corejs2/helpers/asyncToGenerator")),g=u(require("@babel/runtime-corejs2/helpers/classCallCheck")),f=u(require("@babel/runtime-corejs2/helpers/createClass")),h=u(require("@babel/runtime-corejs2/helpers/inherits")),T=u(require("@babel/runtime-corejs2/helpers/possibleConstructorReturn")),p=u(require("@babel/runtime-corejs2/helpers/getPrototypeOf")),y=u(require("lodash/debounce")),b=u(require("uuid")),m=require("@webex/webex-core"),P=require("@webex/common"),I=u(require("../common/logs/logger-proxy")),q=require("../constants");function R(e,n){var i=r(e);if(t){var c=t(e);n&&(c=c.filter(function(r){return o(e,r).enumerable})),i.push.apply(i,c)}return i}function U(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?R(Object(t),!0).forEach(function(r){(0,d.default)(e,r,t[r])}):n?i(e,n(t)):R(Object(t)).forEach(function(r){c(e,r,o(t,r))})}return e}function E(r){var t=j();return function(){var o,n=(0,p.default)(r);if(t){var i=(0,p.default)(this).constructor;o=e(n,arguments,i)}else o=n.apply(this,arguments);return(0,T.default)(this,o)}}function j(){if("undefined"==typeof Reflect||!e)return!1;if(e.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(e(Boolean,[],function(){})),!0}catch(r){return!1}}var O=function(e){(0,h.default)(t,e);var r=E(t);function t(e,o){var n;return(0,g.default)(this,t),(n=r.call(this,e,o)).changeVideoLayoutDebounced=(0,y.default)(n.changeVideoLayout,2e3,{leading:!0,trailing:!0}),n}return(0,f.default)(t,[{key:"joinMeeting",value:function(){var e=(0,v.default)(s.default.mark(function e(r){var t,o,n,i,c,u,a,l,d,v,g,f,h,T,p;return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=r.asResourceOccupant,o=r.sipUri,n=r.meetingNumber,i=r.deviceUrl,c=r.locusUrl,u=r.resourceId,a=r.correlationId,l=r.ensureConversation,d=r.moderator,v=r.pin,g=r.moveToResource,f=r.roapMessage,h=r.preferTranscoding,I.default.logger.info("Meeting:request#joinMeeting --\x3e Joining a meeting",a),T="",p={asResourceOccupant:t,device:{url:i,deviceType:this.config.meetings.deviceType},usingResource:u||null,moveMediaToResource:u&&g||!1,correlationId:a,respOnlySdp:!0,allowMultiDevice:!0,ensureConversation:l||!1,supportsNativeLobby:1,clientMediaPreferences:{preferTranscoding:null==h||h}},this.webex.meetings.clientRegion&&(p.device.countryCode=this.webex.meetings.clientRegion.countryCode,p.device.regionCode=this.webex.meetings.clientRegion.regionCode),void 0!==d&&(p.moderator=d),void 0!==v&&(p.pin=v),!c){e.next=11;break}T="".concat(c,"/").concat(q.PARTICIPANT),e.next=23;break;case 11:if(!o&&!n){e.next=23;break}return e.prev=12,e.next=15,this.webex.internal.services.waitForCatalog("postauth");case 15:T="".concat(this.webex.internal.services.get("locus"),"/").concat(q.LOCI,"/").concat(q.CALL),p.invitee={address:o||"wbxmn:".concat(n)},e.next=23;break;case 19:throw e.prev=19,e.t0=e.catch(12),I.default.logger.error("Meeting:request#joinMeeting ".concat(o?"sipUri":"meetingNumber"," --\x3e ").concat(e.t0)),e.t0;case 23:return T=T.concat("?".concat(q.ALTERNATE_REDIRECT_TRUE)),u===o&&(p.callPreferences={requestedMedia:[q._SLIDES_]}),f&&(p.localMedias=f.localMedias),e.abrupt("return",this.request({method:q.HTTP_VERBS.POST,uri:T,body:p}));case 27:case"end":return e.stop()}},e,this,[[12,19]])}));return function(r){return e.apply(this,arguments)}}()},{key:"dialIn",value:function(e){var r=e.locusUrl,t=e.dialInUrl,o=e.clientUrl,n=e.correlationId;I.default.logger.info("Meeting:request#dialIn --\x3e Provisioning a dial in device",n);var i="".concat(r,"/").concat(q.PARTICIPANT),c={device:{deviceType:P.deviceType.PROVISIONAL,provisionalType:q.PROVISIONAL_TYPE_DIAL_IN,url:t,clientUrl:o},correlationId:n};return this.request({method:q.HTTP_VERBS.POST,uri:i,body:c}).catch(function(e){throw I.default.logger.error("Meeting:request#dialIn --\x3e Error provisioning a dial in device, error ".concat(e)),e})}},{key:"dialOut",value:function(e){var r=e.locusUrl,t=e.dialOutUrl,o=e.phoneNumber,n=e.clientUrl,i=e.correlationId;I.default.logger.info("Meeting:request#dialOut --\x3e Provisioning a dial out device",i);var c="".concat(r,"/").concat(q.PARTICIPANT),u={device:{deviceType:P.deviceType.PROVISIONAL,provisionalType:q.PROVISIONAL_TYPE_DIAL_OUT,url:t,dialoutAddress:o,clientUrl:n},correlationId:i};return this.request({method:q.HTTP_VERBS.POST,uri:c,body:u}).catch(function(e){throw I.default.logger.error("Meeting:request#dialOut --\x3e Error provisioning a dial out device, error ".concat(e)),e})}},{key:"syncMeeting",value:function(e){var r=e.desync,t=e.syncUrl;return r&&(t=t.concat(t.split("?")[1]?"&":"?").concat("".concat(q.LOCUS.SYNCDEBUG,"=").concat(r))),this.request({method:q.HTTP_VERBS.GET,uri:t}).catch(function(e){return I.default.logger.error("Meeting:request#syncMeeting --\x3e Error syncing meeting, error ".concat(e)),e})}},{key:"getFullLocus",value:function(e){var r=e.locusUrl,t=e.desync;return r?(t&&(r+="?".concat(q.LOCUS.SYNCDEBUG,"=").concat(t)),this.request({method:q.HTTP_VERBS.GET,uri:r}).catch(function(e){return I.default.logger.error("Meeting:request#getFullLocus --\x3e Error getting full locus, error ".concat(e)),e})):a.default.reject()}},{key:"disconnectPhoneAudio",value:function(e){var r=e.locusUrl,t=e.phoneUrl,o=e.correlationId,n=e.selfId;I.default.logger.info("Meeting:request#disconnectPhoneAudio --\x3e request phone ".concat(t," to leave"),o);var i="".concat(r,"/").concat(q.PARTICIPANT,"/").concat(n,"/").concat(q.LEAVE),c={device:{deviceType:P.deviceType.PROVISIONAL,url:t},correlationId:o};return this.request({method:q.HTTP_VERBS.PUT,uri:i,body:c}).catch(function(e){throw I.default.logger.error("Meeting:request#disconnectPhoneAudio --\x3e Error when requesting phone ".concat(t," to leave, error ").concat(e)),e})}},{key:"leaveMeeting",value:function(e){var r=e.locusUrl,t=e.selfId,o=e.deviceUrl,n=e.resourceId,i=e.correlationId;I.default.logger.info("Meeting:request#leaveMeeting --\x3e Leaving a meeting",i);var c="".concat(r,"/").concat(q.PARTICIPANT,"/").concat(t,"/").concat(q.LEAVE),u={device:{deviceType:this.config.meetings.deviceType,url:o},usingResource:n||null,correlationId:i};return this.request({method:q.HTTP_VERBS.PUT,uri:c,body:u})}},{key:"acknowledgeMeeting",value:function(e){var r="".concat(e.locusUrl,"/").concat(q.PARTICIPANT,"/").concat(q.ALERT),t={device:{deviceType:this.config.meetings.deviceType,url:e.deviceUrl},correlationId:e.correlationId};return this.request({method:q.HTTP_VERBS.PUT,uri:r,body:t})}},{key:"recordMeeting",value:function(e){var r="".concat(e.locusUrl,"/").concat(q.CONTROLS),t={record:{recording:e.recording,paused:e.paused}};return this.request({method:q.HTTP_VERBS.PATCH,uri:r,body:t})}},{key:"lockMeeting",value:function(e){var r="".concat(e.locusUrl,"/").concat(q.CONTROLS),t={lock:{locked:e.lock}};return this.request({method:q.HTTP_VERBS.PATCH,uri:r,body:t})}},{key:"declineMeeting",value:function(e){var r="".concat(e.locusUrl,"/").concat(q.PARTICIPANT,"/").concat(q.DECLINE),t=U({device:{deviceType:this.config.meetings.deviceType,url:e.deviceUrl}},e.reason&&{reason:e.reason});return this.request({method:q.HTTP_VERBS.PUT,uri:r,body:t})}},{key:"remoteAudioVideoToggle",value:function(e){var r,t="".concat(e.locusUrl,"/").concat(q.PARTICIPANT,"/").concat(e.selfId,"/").concat(q.MEDIA),o={device:{deviceType:this.config.meetings.deviceType,url:e.deviceUrl},usingResource:e.resourceId||null,correlationId:e.correlationId,respOnlySdp:!0,localMedias:e.localMedias,clientMediaPreferences:{preferTranscoding:null===(r=e.preferTranscoding)||void 0===r||r}};return this.request({method:q.HTTP_VERBS.PUT,uri:t,body:o})}},{key:"changeMeetingFloor",value:function(e){var r={disposition:e.disposition};e.disposition===q.FLOOR_ACTION.GRANTED&&(r={beneficiary:{url:e.personUrl,devices:[{deviceType:this.config.meetings.deviceType,url:e.deviceUrl}]},disposition:e.disposition,requester:{url:e.personUrl}});var t={floor:r,resourceUrl:e.resourceUrl};return null!=e&&e.resourceToken&&(t.resourceToken=null==e?void 0:e.resourceToken),this.request({uri:e.uri,method:q.HTTP_VERBS.PUT,body:t})}},{key:"sendDTMF",value:function(e){var r=e.locusUrl,t=e.deviceUrl,o=e.tones;return this.request({method:q.HTTP_VERBS.POST,uri:"".concat(r,"/").concat(q.SEND_DTMF_ENDPOINT),body:{deviceUrl:t,dtmf:{correlationId:b.default.v4(),tones:o}}})}},{key:"changeVideoLayout",value:function(e){var r=e.locusUrl,t=e.deviceUrl,o=e.layoutType,n=e.main,i=e.content;if(n&&(!n.width||!n.height))return a.default.reject(new Error("Both width and height must be specified. One of them is missing for main: ".concat((0,l.default)(n))));if(i&&(!i.width||!i.height))return a.default.reject(new Error("Both width and height must be specified. One of them is missing for content: ".concat((0,l.default)(i))));var c=n?{width:n.width,height:n.height}:void 0,u=i?{width:i.width,height:i.height}:void 0,s=c||u?{renderInfo:{main:c,content:u}}:void 0;return this.request({method:q.HTTP_VERBS.PUT,uri:"".concat(r,"/").concat(q.CONTROLS),body:{layout:{deviceUrl:t,type:o,layoutParams:s}}})}}]),t}(m.StatelessWebexPlugin);exports.default=O;
},{"@babel/runtime-corejs2/core-js/reflect/construct":"vZQy","@babel/runtime-corejs2/core-js/object/keys":"d81a","@babel/runtime-corejs2/core-js/object/get-own-property-symbols":"DovH","@babel/runtime-corejs2/core-js/object/get-own-property-descriptor":"mQ9c","@babel/runtime-corejs2/core-js/object/get-own-property-descriptors":"Hv1v","@babel/runtime-corejs2/core-js/object/define-properties":"CpmN","@babel/runtime-corejs2/core-js/object/define-property":"eIqn","@babel/runtime-corejs2/helpers/interopRequireDefault":"LXwi","@babel/runtime-corejs2/core-js/promise":"eOfj","@babel/runtime-corejs2/core-js/json/stringify":"E09K","@babel/runtime-corejs2/regenerator":"i9LV","@babel/runtime-corejs2/helpers/defineProperty":"n5FU","@babel/runtime-corejs2/helpers/asyncToGenerator":"OYLD","@babel/runtime-corejs2/helpers/classCallCheck":"Tzth","@babel/runtime-corejs2/helpers/createClass":"xM5U","@babel/runtime-corejs2/helpers/inherits":"CdTE","@babel/runtime-corejs2/helpers/possibleConstructorReturn":"w9GY","@babel/runtime-corejs2/helpers/getPrototypeOf":"Qxr1","lodash/debounce":"CXfR","uuid":"wQtZ","@webex/webex-core":"bqGz","@webex/common":"UeF0","../common/logs/logger-proxy":"NeTJ","../constants":"swzz"}],"cFiT":[function(require,module,exports) {
"use strict";var e=require("@babel/runtime-corejs2/core-js/object/define-property"),t=require("@babel/runtime-corejs2/helpers/interopRequireDefault");e(exports,"__esModule",{value:!0}),exports.default=void 0;var r=require("../constants"),n=t(require("../common/errors/parameter")),i={isUser:function(e){return e&&e.type===r._USER_},isModerator:function(e){return e&&e.moderator},isGuest:function(e){return e&&e.guest},isDevice:function(e){return e&&e.type===r._RESOURCE_ROOM_},isModeratorAssignmentProhibited:function(e){return e&&e.moderatorAssignmentNotAllowed},isSame:function(e,t){return e&&(e.id===t||e.person&&e.person.id===t)},isAssociatedSame:function(e,t){return e&&e.associatedUsers&&e.associatedUsers.some(function(e){return e.id===t||e.person&&e.person.id===t})},isNotAdmitted:function(e,t,n){return e&&e.guest&&(e.devices&&e.devices[0]&&e.devices[0].intent&&e.devices[0].intent.type===r._WAIT_&&t&&n===r._IN_LOBBY_||!n===r._IN_MEETING_)},isAudioMuted:function(e){if(!e)throw new n.default("Audio could not be processed, participant is undefined.");var t=i.isMuted(e.status,r.AUDIO_STATUS);if(e.controls&&e.controls.audio){if(e.controls.audio.muted)return!0;if(t)return!0}return!1},isVideoMuted:function(e){if(!e)throw new n.default("Video could not be processed, participant is undefined.");return i.isMuted(e.status,r.VIDEO_STATUS)},isMuted:function(e,t){if(e){if(e[t]===r._RECEIVE_ONLY_)return!0;if(e[t]===r._SEND_RECEIVE_)return!1}return null},getRecordingMember:function(e){return e&&e.record&&e.record.recording&&e.record.meta?e.record.meta.modifiedBy:null},isRecording:function(e){if(!e)throw new n.default("Recording could not be processed, participant is undefined.");return!(!e.controls||!e.controls.localRecord)&&e.controls.localRecord.recording},isRemovable:function(e,t,n,i){return!t&&!e&&(i!==r._CALL_&&!!n)},isMutable:function(e,t,n,i,o){return!!n&&(!i&&(o!==r._CALL_&&!(!e&&!t)))},extractStatus:function(e){return e&&e.devices&&e.devices.length?e.state===r._JOINED_?r._IN_MEETING_:e.state===r._IDLE_?e.devices&&e.devices.length>0&&e.devices.find(function(e){return e.intent&&(e.intent.type===r._WAIT_||e.intent.type===r._OBSERVE_)})?r._IN_LOBBY_:r._NOT_IN_MEETING_:(e.state,r._LEFT_,r._NOT_IN_MEETING_):r._NOT_IN_MEETING_},extractId:function(e){return e?e.id:null},extractName:function(e){return e&&e.person?e.person.name:null}},o=i;exports.default=o;
},{"@babel/runtime-corejs2/core-js/object/define-property":"eIqn","@babel/runtime-corejs2/helpers/interopRequireDefault":"LXwi","../constants":"swzz","../common/errors/parameter":"xdH9"}],"Ni4H":[function(require,module,exports) {
"use strict";var s=require("@babel/runtime-corejs2/core-js/object/define-property"),e=require("@babel/runtime-corejs2/helpers/interopRequireDefault");s(exports,"__esModule",{value:!0}),exports.default=void 0;var t=e(require("@babel/runtime-corejs2/helpers/classCallCheck")),i=e(require("@babel/runtime-corejs2/helpers/createClass")),n=e(require("@babel/runtime-corejs2/helpers/defineProperty")),a=require("../constants"),u=e(require("./util.js")),l=function(){function s(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,t.default)(this,s),(0,n.default)(this,"namespace",a.MEETINGS),this.participant=null,this.id=null,this.name=null,this.isAudioMuted=null,this.isVideoMuted=null,this.isSelf=null,this.isHost=null,this.isGuest=null,this.isInLobby=null,this.isInMeeting=null,this.isNotAdmitted=null,this.isContentSharing=null,this.status=null,this.isDevice=null,this.isUser=null,this.associatedUser=null,this.isRecording=null,this.isMutable=null,this.isRemovable=null,this.type=null,this.isModerator=null,this.isModeratorAssignmentProhibited=null,this.processParticipant(e),this.processParticipantOptions(e,i),this.processMember()}return(0,i.default)(s,[{key:"processParticipant",value:function(s){this.participant=s,s&&(this.id=u.default.extractId(s),this.name=u.default.extractName(s),this.isAudioMuted=u.default.isAudioMuted(s),this.isVideoMuted=u.default.isVideoMuted(s),this.isGuest=u.default.isGuest(s),this.isUser=u.default.isUser(s),this.isDevice=u.default.isDevice(s),this.isModerator=u.default.isModerator(s),this.isModeratorAssignmentProhibited=u.default.isModeratorAssignmentProhibited(s),this.processStatus(s),this.isNotAdmitted=u.default.isNotAdmitted(s,this.isGuest,this.status))}},{key:"processParticipantOptions",value:function(s,e){s&&e&&(this.processIsSelf(s,e.selfId),this.processIsHost(s,e.hostId),this.processIsContentSharing(s,e.contentSharingId),this.processType(e.type),this.processIsRecording(s,e.recordingId))}},{key:"processMember",value:function(){this.isRemovable=u.default.isRemovable(this.isSelf,this.isGuest,this.isInMeeting,this.type),this.isMutable=u.default.isMutable(this.isSelf,this.isDevice,this.isInMeeting,this.isAudioMuted,this.type)}},{key:"processStatus",value:function(s){switch(this.status=u.default.extractStatus(s),this.status){case a._IN_LOBBY_:this.isInLobby=!0,this.isInMeeting=!1;break;case a._IN_MEETING_:this.isInLobby=!1,this.isInMeeting=!0;break;case a._NOT_IN_MEETING_:this.isInLobby=!1,this.isInMeeting=!1;break;default:this.isInLobby=!1,this.isInMeeting=!1}}},{key:"setIsContentSharing",value:function(s){this.isContentSharing=s}},{key:"setIsHost",value:function(s){this.isHost=s}},{key:"setIsSelf",value:function(s){this.isSelf=s}},{key:"processIsContentSharing",value:function(s,e){u.default.isUser(s)?this.isContentSharing=u.default.isSame(s,e):u.default.isDevice(s)&&(this.isContentSharing=u.default.isAssociatedSame(s,e))}},{key:"processIsRecording",value:function(s,e){this.isRecording=u.default.isSame(s,e)}},{key:"processIsSelf",value:function(s,e){u.default.isUser(s)?this.isSelf=u.default.isSame(s,e):u.default.isDevice(s)&&(this.isSelf=u.default.isAssociatedSame(s,e),this.associatedUser=e)}},{key:"processIsHost",value:function(s,e){u.default.isUser(s)?this.isHost=u.default.isSame(s,e):u.default.isDevice(s)&&(this.isHost=u.default.isAssociatedSame(s,e))}},{key:"processType",value:function(s){this.type=s}}]),s}();exports.default=l;
},{"@babel/runtime-corejs2/core-js/object/define-property":"eIqn","@babel/runtime-corejs2/helpers/interopRequireDefault":"LXwi","@babel/runtime-corejs2/helpers/classCallCheck":"Tzth","@babel/runtime-corejs2/helpers/createClass":"xM5U","@babel/runtime-corejs2/helpers/defineProperty":"n5FU","../constants":"swzz","./util.js":"cFiT"}],"uNnH":[function(require,module,exports) {
"use strict";var e=require("@babel/runtime-corejs2/core-js/object/define-property"),r=require("@babel/runtime-corejs2/helpers/interopRequireDefault");e(exports,"__esModule",{value:!0}),exports.default=void 0;var t=r(require("@babel/runtime-corejs2/helpers/classCallCheck")),s=r(require("@babel/runtime-corejs2/helpers/createClass")),u=r(require("@babel/runtime-corejs2/helpers/defineProperty")),i=require("../constants"),l=function(){function e(){(0,t.default)(this,e),(0,u.default)(this,"namespace",i.MEETINGS),this.members={}}return(0,s.default)(e,[{key:"set",value:function(e,r){this.members[e]=r}},{key:"setAll",value:function(e){this.members=e}},{key:"get",value:function(e){return this.members[e]}},{key:"getAll",value:function(){return this.members}}]),e}();exports.default=l;
},{"@babel/runtime-corejs2/core-js/object/define-property":"eIqn","@babel/runtime-corejs2/helpers/interopRequireDefault":"LXwi","@babel/runtime-corejs2/helpers/classCallCheck":"Tzth","@babel/runtime-corejs2/helpers/createClass":"xM5U","@babel/runtime-corejs2/helpers/defineProperty":"n5FU","../constants":"swzz"}],"V2jx":[function(require,module,exports) {
"use strict";var e=require("@babel/runtime-corejs2/core-js/object/define-property"),r=require("@babel/runtime-corejs2/helpers/interopRequireDefault");e(exports,"__esModule",{value:!0}),exports.default=void 0;var t=r(require("uuid")),n=require("../constants"),o={generateAddMemberOptions:function(e,r,t){return{invitee:e,locusUrl:r,alertIfActive:t}},generateAdmitMemberOptions:function(e,r){return{locusUrl:r,memberIds:e}},getAddMemberBody:function(e){return{invitees:[{address:e.invitee.emailAddress||e.invitee.email||e.invitee.phoneNumber}],alertIfActive:e.alertIfActive}},getAdmitMemberRequestBody:function(e){return{admit:{participantIds:e.memberIds}}},getAdmitMemberRequestParams:function(e){var r=o.getAdmitMemberRequestBody(e),t="".concat(e.locusUrl,"/").concat(n.CONTROLS);return{method:n.HTTP_VERBS.PUT,uri:t,body:r}},getAddMemberRequestParams:function(e){var r=o.getAddMemberBody(e);return{method:n.HTTP_VERBS.PUT,uri:e.locusUrl,body:r}},isInvalidInvitee:function(e){return!e||!(e.email||e.emailAddress||e.phoneNumber)||(e.phoneNumber?!n.DIALER_REGEX.E164_FORMAT.test(e.phoneNumber):!n.VALID_EMAIL_ADDRESS.test(e.email||e.emailAddress))},getRemoveMemberRequestParams:function(e){var r={reason:e.reason},t="".concat(e.locusUrl,"/").concat(n.PARTICIPANT,"/").concat(e.memberId,"/").concat(n.LEAVE);return{method:n.HTTP_VERBS.PUT,uri:t,body:r}},generateTransferHostMemberOptions:function(e,r,t){return{moderator:r,locusUrl:t,memberId:e}},generateRemoveMemberOptions:function(e,r){return{reason:n._FORCED_,memberId:e,locusUrl:r}},generateMuteMemberOptions:function(e,r,t){return{memberId:e,muted:r,locusUrl:t}},getMuteMemberRequestParams:function(e){var r={audio:{muted:e.muted}},t="".concat(e.locusUrl,"/").concat(n.PARTICIPANT,"/").concat(e.memberId,"/").concat(n.CONTROLS);return{method:n.HTTP_VERBS.PATCH,uri:t,body:r}},getTransferHostToMemberRequestParams:function(e){var r={role:{moderator:e.moderator}},t="".concat(e.locusUrl,"/").concat(n.PARTICIPANT,"/").concat(e.memberId,"/").concat(n.CONTROLS);return{method:n.HTTP_VERBS.PATCH,uri:t,body:r}},genderateSendDTMFOptions:function(e,r,t,n){return{url:e,tones:r,memberId:t,locusUrl:n}},generateSendDTMFRequestParams:function(e){var r=e.url,o=e.tones,u=e.memberId,i=e.locusUrl,a={device:{url:r},memberId:u,dtmf:{correlationId:t.default.v4(),tones:o,direction:"transmit"}},c="".concat(i,"/").concat(n.PARTICIPANT,"/").concat(u,"/").concat(n.SEND_DTMF_ENDPOINT);return{method:n.HTTP_VERBS.POST,uri:c,body:a}},cancelPhoneInviteOptions:function(e,r){return{invitee:e,locusUrl:r}},generateCancelInviteRequestParams:function(e){var r={actionType:n._REMOVE_,invitees:[{address:e.invitee.phoneNumber}]};return{method:n.HTTP_VERBS.PUT,uri:e.locusUrl,body:r}}},u=o;exports.default=u;
},{"@babel/runtime-corejs2/core-js/object/define-property":"eIqn","@babel/runtime-corejs2/helpers/interopRequireDefault":"LXwi","uuid":"wQtZ","../constants":"swzz"}],"MxSk":[function(require,module,exports) {
"use strict";var e=require("@babel/runtime-corejs2/core-js/reflect/construct"),r=require("@babel/runtime-corejs2/core-js/object/define-property"),t=require("@babel/runtime-corejs2/helpers/interopRequireDefault");r(exports,"__esModule",{value:!0}),exports.default=void 0;var u=t(require("@babel/runtime-corejs2/helpers/classCallCheck")),s=t(require("@babel/runtime-corejs2/helpers/createClass")),a=t(require("@babel/runtime-corejs2/helpers/assertThisInitialized")),n=t(require("@babel/runtime-corejs2/helpers/inherits")),i=t(require("@babel/runtime-corejs2/helpers/possibleConstructorReturn")),o=t(require("@babel/runtime-corejs2/helpers/getPrototypeOf")),l=t(require("@babel/runtime-corejs2/helpers/defineProperty")),d=require("@webex/webex-core"),m=require("../constants"),c=t(require("../common/errors/parameter")),f=t(require("./util"));function b(r){var t=h();return function(){var u,s=(0,o.default)(r);if(t){var a=(0,o.default)(this).constructor;u=e(s,arguments,a)}else u=s.apply(this,arguments);return(0,i.default)(this,u)}}function h(){if("undefined"==typeof Reflect||!e)return!1;if(e.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(e(Boolean,[],function(){})),!0}catch(r){return!1}}var v=function(e){(0,n.default)(t,e);var r=b(t);function t(){var e;(0,u.default)(this,t);for(var s=arguments.length,n=new Array(s),i=0;i<s;i++)n[i]=arguments[i];return e=r.call.apply(r,[this].concat(n)),(0,l.default)((0,a.default)(e),"namespace",m.MEETINGS),e}return(0,s.default)(t,[{key:"addMembers",value:function(e){if(e&&e.invitee&&e.invitee.emailAddress&&e.invitee.email&&e.invitee.phoneNumber&&e.locusUrl)throw new c.default("invitee must be passed and the associated locus url for this meeting object must be defined.");var r=f.default.getAddMemberRequestParams(e);return this.request(r)}},{key:"admitMember",value:function(e){if(!e||!e.locusUrl||!e.memberIds)throw new c.default("memberIds must be an array passed and the associated locus url for this meeting object must be defined.");var r=f.default.getAdmitMemberRequestParams(e);return this.request(r)}},{key:"removeMember",value:function(e){if(!e||!e.locusUrl||!e.memberId)throw new c.default("memberId must be defined, and the associated locus url for this meeting object must be defined.");var r=f.default.getRemoveMemberRequestParams(e);return this.request(r)}},{key:"muteMember",value:function(e){if(!e||!e.locusUrl||!e.memberId)throw new c.default("memberId must be defined, and the associated locus url for this meeting object must be defined.");var r=f.default.getMuteMemberRequestParams(e);return this.request(r)}},{key:"transferHostToMember",value:function(e){if(!(e&&e.locusUrl&&e.memberId&&e.moderator))throw new c.default("memberId must be defined, the associated locus url, and the moderator for this meeting object must be defined.");var r=f.default.getTransferHostToMemberRequestParams(e);return this.request(r)}},{key:"sendDialPadKey",value:function(e){if(!e||!e.locusUrl||!e.memberId||!e.url||!e.tones&&0!==e.tones)throw new c.default("memberId must be defined, the associated locus url, the device url and DTMF tones for this meeting object must be defined.");var r=f.default.generateSendDTMFRequestParams(e);return this.request(r)}},{key:"cancelPhoneInvite",value:function(e){var r;if(!(null!=e&&null!==(r=e.invitee)&&void 0!==r&&r.phoneNumber||null!=e&&e.locusUrl))throw new c.default("invitee must be passed and the associated locus url for this meeting object must be defined.");var t=f.default.generateCancelInviteRequestParams(e);return this.request(t)}}]),t}(d.StatelessWebexPlugin);exports.default=v;
},{"@babel/runtime-corejs2/core-js/reflect/construct":"vZQy","@babel/runtime-corejs2/core-js/object/define-property":"eIqn","@babel/runtime-corejs2/helpers/interopRequireDefault":"LXwi","@babel/runtime-corejs2/helpers/classCallCheck":"Tzth","@babel/runtime-corejs2/helpers/createClass":"xM5U","@babel/runtime-corejs2/helpers/assertThisInitialized":"YqR0","@babel/runtime-corejs2/helpers/inherits":"CdTE","@babel/runtime-corejs2/helpers/possibleConstructorReturn":"w9GY","@babel/runtime-corejs2/helpers/getPrototypeOf":"Qxr1","@babel/runtime-corejs2/helpers/defineProperty":"n5FU","@webex/webex-core":"bqGz","../constants":"swzz","../common/errors/parameter":"xdH9","./util":"V2jx"}],"HeLQ":[function(require,module,exports) {
"use strict";var e=require("@babel/runtime-corejs2/core-js/reflect/construct"),t=require("@babel/runtime-corejs2/core-js/object/define-property"),r=require("@babel/runtime-corejs2/helpers/interopRequireDefault");t(exports,"__esModule",{value:!0}),exports.default=void 0;var i=r(require("@babel/runtime-corejs2/core-js/promise")),n=r(require("@babel/runtime-corejs2/helpers/classCallCheck")),s=r(require("@babel/runtime-corejs2/helpers/createClass")),o=r(require("@babel/runtime-corejs2/helpers/assertThisInitialized")),l=r(require("@babel/runtime-corejs2/helpers/inherits")),d=r(require("@babel/runtime-corejs2/helpers/possibleConstructorReturn")),a=r(require("@babel/runtime-corejs2/helpers/getPrototypeOf")),u=r(require("@babel/runtime-corejs2/helpers/defineProperty")),f=r(require("lodash/isEmpty")),c=require("@webex/webex-core"),h=require("../constants"),m=r(require("../common/events/trigger-proxy")),b=r(require("../member")),v=r(require("../common/logs/logger-proxy")),I=r(require("../common/errors/parameter")),p=r(require("./collection")),g=r(require("./request")),y=r(require("./util"));function S(t){var r=T();return function(){var i,n=(0,a.default)(t);if(r){var s=(0,a.default)(this).constructor;i=e(n,arguments,s)}else i=n.apply(this,arguments);return(0,d.default)(this,i)}}function T(){if("undefined"==typeof Reflect||!e)return!1;if(e.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(e(Boolean,[],function(){})),!0}catch(t){return!1}}var w=function(e){(0,l.default)(r,e);var t=S(r);function r(e,i){var s;return(0,n.default)(this,r),s=t.call(this,{},i),(0,u.default)((0,o.default)(s),"namespace",h.MEETINGS),s.membersRequest=new g.default({},i),s.membersCollection=new p.default,s.locusUrl=e.locusUrl||null,s.hostId=null,s.type=null,s.selfId=null,s.mediaShareContentId=null,s.mediaShareWhiteboardId=null,s.recordingId=null,s}return(0,s.default)(r,[{key:"locusSelfUpdate",value:function(e){var t=null,r=null;if(e&&(e.newSelf&&(t=e.newSelf.id),e.oldSelf&&(r=e.oldSelf.id)),t){var i=this.membersCollection.get(t);i&&i.setIsSelf(!0)}if(r){var n=this.membersCollection.get(r);n&&n.setIsSelf(!1)}this.selfId=t,m.default.trigger(this,{file:"members",function:"locusSelfUpdate"},h.EVENT_TRIGGERS.MEMBERS_SELF_UPDATE,{activeSelfId:t,endedSelfId:r})}},{key:"locusHostUpdate",value:function(e){var t=null,r=null;if(e&&(e.newHost&&(t=e.newHost.id),e.oldHost&&(r=e.oldHost.id)),t){var i=this.membersCollection.get(t);i&&i.setIsHost(!0)}if(r){var n=this.membersCollection.get(r);n&&n.setIsHost(!1)}this.hostId=t,m.default.trigger(this,{file:"members",function:"locusHostUpdate"},h.EVENT_TRIGGERS.MEMBERS_HOST_UPDATE,{activeHostId:t,endedHostId:r})}},{key:"locusParticipantsUpdate",value:function(e){if(e){var t=this.handleLocusInfoUpdatedParticipants(e),r=this.handleMembersUpdate(t);m.default.trigger(this,{file:"members",function:"locusParticipantsUpdate"},h.EVENT_TRIGGERS.MEMBERS_UPDATE,{delta:t,full:r})}}},{key:"locusMediaSharesUpdate",value:function(e){var t,r,i,n,s=null===(t=e.current)||void 0===t?void 0:t.content,o=null===(r=e.previous)||void 0===r?void 0:r.content,l=null===(i=e.current)||void 0===i?void 0:i.whiteboard,d=null===(n=e.previous)||void 0===n?void 0:n.whiteboard,a=null,u=null;if(null!=s&&s.beneficiaryId&&(s.disposition===h.FLOOR_ACTION.GRANTED&&(a=s.beneficiaryId,this.mediaShareWhiteboardId=null,this.mediaShareContentId=a),(null==o?void 0:o.disposition)===h.FLOOR_ACTION.GRANTED&&(s.disposition===h.FLOOR_ACTION.RELEASED?(u=s.beneficiaryId,this.mediaShareContentId=null):s.disposition===h.FLOOR_ACTION.GRANTED&&s.beneficiaryId!==o.beneficiaryId&&(u=o.beneficiaryId))),null!=l&&l.beneficiaryId&&(l.disposition===h.FLOOR_ACTION.GRANTED&&(a=l.beneficiaryId,this.mediaShareContentId=null,this.mediaShareWhiteboardId=a),(null==d?void 0:d.disposition)===h.FLOOR_ACTION.GRANTED&&(l.disposition===h.FLOOR_ACTION.RELEASED?(u=l.beneficiaryId,this.mediaShareWhiteboardId=null):l.disposition===h.FLOOR_ACTION.GRANTED&&l.beneficiaryId!==d.beneficiaryId&&(u=d.beneficiaryId))),a){var f=this.membersCollection.get(a);f&&f.setIsContentSharing(!0)}if(u){var c=this.membersCollection.get(u);c&&c.setIsContentSharing(!1)}m.default.trigger(this,{file:"members",function:"locusMediaSharesUpdate"},h.EVENT_TRIGGERS.MEMBERS_CONTENT_UPDATE,{activeSharingId:a,endedSharingId:u})}},{key:"locusUrlUpdate",value:function(e){e&&this.setLocusUrl(null,e)}},{key:"locusFullStateTypeUpdate",value:function(e){e&&this.setType(e)}},{key:"handleMembersUpdate",value:function(e){return e&&(e.updated&&this.constructMembers(e.updated),e.added&&this.constructMembers(e.added)),this.membersCollection.getAll()}},{key:"constructMembers",value:function(e){var t=this;e.forEach(function(e){t.membersCollection.set(e.id,e)})}},{key:"handleLocusInfoUpdatedParticipants",value:function(e){return this.hostId=e.hostId||this.hostId,this.selfId=e.selfId||this.selfId,this.recordingId=e.recordingId,e.participants||v.default.logger.warn("Members:index#handleLocusInfoUpdatedParticipants --\x3e participants payload is missing."),this.update(e.participants)}},{key:"setLocusUrl",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(t)this.locusUrl=t;else{if(!e||!e.locusUrl&&!e.url)throw new I.default("Setting locusUrl for the Members module should be done with a locus object or locusUrl");this.locusUrl=e.locusUrl||e.url}}},{key:"setHostId",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(t)this.hostId=t;else{if(!e)throw new I.default("Setting hostid for the Members module should be done with a locus object or hostId");this.hostId=e&&e.owner&&e.owner.info?e.owner.info:null}}},{key:"setType",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(t)this.type=t;else{if(!e)throw new I.default("Setting type for the Members module should be done with a fullstate object or type string");this.type=e&&e.type||null}}},{key:"setSelfId",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(t)this.selfId=t;else{if(!e)throw new I.default("Setting selfid for the Members module should be done with a locus object or selfId");this.selfId=e&&e.self&&e.self.person&&e.self.person.id?e.self.person.id:null}}},{key:"setMediaShareContentId",value:function(e,t){if(t)this.mediaShareContentId=t;else{if(!e)throw new I.default("Setting hostid for the Members module should be done with a locus object or hostId");var r=e.mediaShares&&e.mediaShares.length&&e.mediaShares.find(function(e){return e.name===h.CONTENT});this.mediaShareContentId=r&&r.floor&&r.floor.beneficiary&&r.floor.beneficiary.id||null}}},{key:"setMediaShareWhiteboardId",value:function(e,t){if(t)this.mediaShareWhiteboardId=t;else{if(!e)throw new I.default("Setting hostid for the Members module should be done with a locus object or hostId");var r=e.mediaShares&&e.mediaShares.length&&e.mediaShares.find(function(e){return e.name===h.WHITEBOARD});this.mediaShareWhiteboardId=r&&r.floor&&r.floor.beneficiary&&r.floor.beneficiary.id||null}}},{key:"update",value:function(e){var t=this,r={added:[],updated:[]};return e&&e.forEach(function(e){e.hideInRoster||(t.membersCollection.get(e.id)?r.updated.push(new b.default(e,{recordingId:t.recordingId,selfId:t.selfId,hostId:t.hostId,contentSharingId:t.mediaShareContentId,whiteboardSharingId:t.mediaShareWhiteboardId,type:t.type})):r.added.push(new b.default(e,{recordingId:t.recordingId,selfId:t.selfId,hostId:t.hostId,contentSharingId:t.mediaShareContentId,whiteboardSharingId:t.mediaShareWhiteboardId,type:t.type})))}),r}},{key:"addMember",value:function(e,t){if(!this.locusUrl)return i.default.reject(new I.default("The associated locus url for this meeting object must be defined."));if(y.default.isInvalidInvitee(e))return i.default.reject(new I.default("The invitee must be defined with either a valid email, emailAddress or phoneNumber property."));var r=y.default.generateAddMemberOptions(e,this.locusUrl,t);return this.membersRequest.addMembers(r)}},{key:"cancelPhoneInvite",value:function(e){if(!this.locusUrl)return i.default.reject(new I.default("The associated locus url for this meeting object must be defined."));if(y.default.isInvalidInvitee(e))return i.default.reject(new I.default("The invitee must be defined with a valid phoneNumber property."));var t=y.default.cancelPhoneInviteOptions(e,this.locusUrl);return this.membersRequest.cancelPhoneInvite(t)}},{key:"admitMembers",value:function(e){if((0,f.default)(e))return i.default.reject(new I.default("No member ids provided to admit."));var t=y.default.generateAdmitMemberOptions(e,this.locusUrl);return this.membersRequest.admitMember(t)}},{key:"removeMember",value:function(e){if(!this.locusUrl)return i.default.reject(new I.default("The associated locus url for this meeting object must be defined."));if(!e)return i.default.reject(new I.default("The member id must be defined to remove the member."));var t=y.default.generateRemoveMemberOptions(e,this.locusUrl);return this.membersRequest.removeMember(t)}},{key:"muteMember",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!this.locusUrl)return i.default.reject(new I.default("The associated locus url for this meetings members object must be defined."));if(!e)return i.default.reject(new I.default("The member id must be defined to mute the member."));var r=y.default.generateMuteMemberOptions(e,t,this.locusUrl);return this.membersRequest.muteMember(r)}},{key:"transferHostToMember",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!this.locusUrl)return i.default.reject(new I.default("The associated locus url for this meetings members object must be defined."));if(!e)return i.default.reject(new I.default("The member id must be defined to transfer host to the member."));var r=y.default.generateTransferHostMemberOptions(e,t,this.locusUrl);return this.membersRequest.transferHostToMember(r)}},{key:"sendDialPadKey",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(!e&&0!==e)return i.default.reject(new I.default("DMTF tones must be passed in"));var r=this.membersCollection.get(t);if(!r)return i.default.reject(new I.default("there is no member associated with that Id"));var n=this.locusUrl,s=r.participant.devices.find(function(e){return"SIP"===e.deviceType}),o=null==s?void 0:s.url;if(n&&o){var l=y.default.genderateSendDTMFOptions(o,e,t,n);return this.membersRequest.sendDialPadKey(l)}return i.default.reject(new Error('Members:index#sendDialPadKey --\x3e cannot send DTMF, meeting does not have a connection to the "locus" call control service.'))}}]),r}(c.StatelessWebexPlugin);exports.default=w;
},{"@babel/runtime-corejs2/core-js/reflect/construct":"vZQy","@babel/runtime-corejs2/core-js/object/define-property":"eIqn","@babel/runtime-corejs2/helpers/interopRequireDefault":"LXwi","@babel/runtime-corejs2/core-js/promise":"eOfj","@babel/runtime-corejs2/helpers/classCallCheck":"Tzth","@babel/runtime-corejs2/helpers/createClass":"xM5U","@babel/runtime-corejs2/helpers/assertThisInitialized":"YqR0","@babel/runtime-corejs2/helpers/inherits":"CdTE","@babel/runtime-corejs2/helpers/possibleConstructorReturn":"w9GY","@babel/runtime-corejs2/helpers/getPrototypeOf":"Qxr1","@babel/runtime-corejs2/helpers/defineProperty":"n5FU","lodash/isEmpty":"BBRi","@webex/webex-core":"bqGz","../constants":"swzz","../common/events/trigger-proxy":"tIl4","../member":"Ni4H","../common/logs/logger-proxy":"NeTJ","../common/errors/parameter":"xdH9","./collection":"uNnH","./request":"MxSk","./util":"V2jx"}],"kJQo":[function(require,module,exports) {
"use strict";var e=require("@babel/runtime-corejs2/core-js/object/define-property"),t=require("@babel/runtime-corejs2/helpers/interopRequireDefault");e(exports,"__esModule",{value:!0}),exports.default=void 0;var r=t(require("@babel/runtime-corejs2/helpers/classCallCheck")),a=t(require("@babel/runtime-corejs2/helpers/createClass")),i=t(require("@babel/runtime-corejs2/helpers/defineProperty")),n=require("../constants"),o=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,r.default)(this,e),(0,i.default)(this,"namespace",n.MEETINGS),this.config=t.config,this.stats=null}return(0,a.default)(e,[{key:"setStats",value:function(e){this.stats=e}},{key:"initialize",value:function(){var e=this.config.metrics.autoSendMQA;return{useConfig:!0,senders:[{id:n.STATS.AUDIO_SENDER_ID,correlate:n.STATS.AUDIO_CORRELATE,mqa:e,onData:function(){}},{id:n.STATS.VIDEO_SENDER_ID,correlate:n.STATS.VIDEO_CORRELATE,mqa:e,onData:function(){}},{id:n.STATS.SHARE_SENDER_ID,correlate:n.STATS.SHARE_CORRELATE,mqa:e,onData:function(){}}],receivers:[{id:n.STATS.AUDIO_RECEIVER_ID,correlate:n.STATS.AUDIO_CORRELATE,mqa:e,onData:function(){}},{id:n.STATS.VIDEO_RECEIVER_ID,correlate:n.STATS.VIDEO_CORRELATE,mqa:e,onData:function(){}},{id:n.STATS.SHARE_RECEIVER_ID,correlate:n.STATS.SHARE_CORRELATE,mqa:e,onData:function(){}}]}}}]),e}();exports.default=o;
},{"@babel/runtime-corejs2/core-js/object/define-property":"eIqn","@babel/runtime-corejs2/helpers/interopRequireDefault":"LXwi","@babel/runtime-corejs2/helpers/classCallCheck":"Tzth","@babel/runtime-corejs2/helpers/createClass":"xM5U","@babel/runtime-corejs2/helpers/defineProperty":"n5FU","../constants":"swzz"}],"AA4b":[function(require,module,exports) {
"use strict";var e=require("@babel/runtime-corejs2/core-js/array/from"),t=require("@babel/runtime-corejs2/core-js/symbol"),r=require("@babel/runtime-corejs2/core-js/symbol/iterator"),o=require("@babel/runtime-corejs2/core-js/array/is-array"),n=require("@babel/runtime-corejs2/core-js/object/define-property"),i=require("@babel/runtime-corejs2/helpers/interopRequireDefault");n(exports,"__esModule",{value:!0}),exports.default=void 0;var a=i(require("@babel/runtime-corejs2/core-js/json/stringify")),s=i(require("@babel/runtime-corejs2/core-js/date/now")),u=i(require("@babel/runtime-corejs2/core-js/object/values")),c=i(require("@babel/runtime-corejs2/helpers/classCallCheck")),l=i(require("@babel/runtime-corejs2/helpers/createClass")),d=require("uuid");function b(e,n){var i=void 0!==t&&e[r]||e["@@iterator"];if(!i){if(o(e)||(i=f(e))||n&&e&&"number"==typeof e.length){i&&(e=i);var a=0,s=function(){};return{s:s,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:s}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var u,c=!0,l=!1;return{s:function(){i=i.call(e)},n:function(){var e=i.next();return c=e.done,e},e:function(e){l=!0,u=e},f:function(){try{c||null==i.return||i.return()}finally{if(l)throw u}}}}function f(t,r){if(t){if("string"==typeof t)return v(t,r);var o=Object.prototype.toString.call(t).slice(8,-1);return"Object"===o&&t.constructor&&(o=t.constructor.name),"Map"===o||"Set"===o?e(t):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?v(t,r):void 0}}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,o=new Array(t);r<t;r++)o[r]=e[r];return o}var m=function(){function e(t,r,o){(0,c.default)(this,e),this.webSocketUrl=t,this.sessionID=r,this.members=o,this.memberCSIs={};this.webSocket=new WebSocket("".concat(this.webSocketUrl).concat("?outboundWireFormat=text&bufferStates=true&aliasHttpStatus=true"))}return(0,l.default)(e,[{key:"connect",value:function(e){var t=this;this.webSocket.onopen=function(){t.webSocket.send((0,a.default)({id:(0,d.v4)(),type:"authorization",data:{token:"Bearer ".concat(e)},trackingId:"webex-js-sdk_".concat(t.sessionID).concat(s.default.toString())}))}}},{key:"onCloseSocket",value:function(e){e&&(this.webSocket.onclose=function(t){e(t)})}},{key:"onErrorSocket",value:function(e){e&&(this.webSocket.onerror=function(t){e(t)})}},{key:"getSpeaker",value:function(e){var t,r=this,o=b(e);try{for(o.s();!(t=o.n()).done;){var n=t.value,i=this.memberCSIs[n];if(i)return i}}catch(a){o.e(a)}finally{o.f()}return(0,u.default)(this.members.membersCollection.members).find(function(t){var o,n=t.participant.status.csis,i=!1,s=b(e);try{for(s.s();!(o=s.n()).done;){var u=o.value;if(n.includes(u)){r.memberCSIs[u]=t,i=!0;break}}}catch(a){s.e(a)}finally{s.f()}return i})}},{key:"subscribe",value:function(e){var t,r,o,n,i=this;this.webSocket.onmessage=function(s){var u,c,l,d,b,f,v,m,y,h;(t=JSON.parse(s.data),r=(null===(u=t.data)||void 0===u?void 0:null===(c=u.voiceaPayload)||void 0===c?void 0:c.csis)||[],o=i.getSpeaker(r),n=(null===(l=t.data)||void 0===l?void 0:null===(d=l.voiceaPayload)||void 0===d?void 0:d.data)||"",i.webSocket.send((0,a.default)({messageID:t.id,type:"ack"})),n)&&e({id:null===(b=t.data)||void 0===b?void 0:null===(f=b.voiceaPayload)||void 0===f?void 0:f.transcript_id,personID:null===(v=o)||void 0===v?void 0:v.id,transcription:n,timestamp:t.timestamp,type:null===(m=t)||void 0===m?void 0:null===(y=m.data)||void 0===y?void 0:null===(h=y.voiceaPayload)||void 0===h?void 0:h.type})}}},{key:"closeSocket",value:function(){this.webSocket.close()}}]),e}();exports.default=m;
},{"@babel/runtime-corejs2/core-js/array/from":"ybNn","@babel/runtime-corejs2/core-js/symbol":"mr6k","@babel/runtime-corejs2/core-js/symbol/iterator":"uGl8","@babel/runtime-corejs2/core-js/array/is-array":"BpbX","@babel/runtime-corejs2/core-js/object/define-property":"eIqn","@babel/runtime-corejs2/helpers/interopRequireDefault":"LXwi","@babel/runtime-corejs2/core-js/json/stringify":"E09K","@babel/runtime-corejs2/core-js/date/now":"Pb2S","@babel/runtime-corejs2/core-js/object/values":"vh4c","@babel/runtime-corejs2/helpers/classCallCheck":"Tzth","@babel/runtime-corejs2/helpers/createClass":"xM5U","uuid":"wQtZ"}],"gsvj":[function(require,module,exports) {
"use strict";var e=require("@babel/runtime-corejs2/core-js/object/keys"),t=require("@babel/runtime-corejs2/core-js/object/get-own-property-symbols"),r=require("@babel/runtime-corejs2/core-js/object/get-own-property-descriptor"),a=require("@babel/runtime-corejs2/core-js/object/get-own-property-descriptors"),i=require("@babel/runtime-corejs2/core-js/object/define-properties"),s=require("@babel/runtime-corejs2/core-js/object/define-property"),n=require("@babel/runtime-corejs2/helpers/interopRequireDefault");s(exports,"__esModule",{value:!0}),exports.default=void 0;var o=n(require("@babel/runtime-corejs2/helpers/defineProperty")),u=n(require("@babel/runtime-corejs2/helpers/classCallCheck")),m=n(require("@babel/runtime-corejs2/helpers/createClass")),c=require("../constants"),l=n(require("../common/browser-detection"));function b(a,i){var s=e(a);if(t){var n=t(a);i&&(n=n.filter(function(e){return r(a,e).enumerable})),s.push.apply(s,n)}return s}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach(function(t){(0,o.default)(e,t,n[t])}):a?i(e,a(n)):b(Object(n)).forEach(function(t){s(e,t,r(n,t))})}return e}var h=(0,l.default)(),v=h.isBrowser,p=function(){function e(){(0,u.default)(this,e),this.data={videoReceive:[],audioTransmit:[],audioReceive:[],videoTransmit:[]},this.intervalNumber=1}return(0,m.default)(e,[{key:"process",value:function(e,t){var r,a,i,s,n=this.data,o=n.videoReceive,u=n.audioTransmit,m=n.audioReceive,l=n.videoTransmit,b=t[0];switch(b&&(r=b.rtcCandidatePair),e){case c.STATS.AUDIO_SENDER_ID:u.push();break;case c.STATS.AUDIO_RECEIVER_ID:m.push();break;case c.STATS.VIDEO_SENDER_ID:l.push();break;case c.STATS.VIDEO_RECEIVER_ID:o.push();break;case c.STATS.SHARE_SENDER_ID:b&&(a=b.rtcOutVideo,i=b.rtpOutVideo),s=d({},c.MQA_STATS.DEFAULT_SHARE_SENDER_STATS),v("firefox")?(s.common.remoteLossRate=i?i.pliCount/(t.length*this.intervalNumber):0,s.common.rtpPackets=i?i.packetsSent/(t.length*this.intervalNumber):0,s.streams[0].common.transmittedFrameRate=a?a.framesEncoded/(t.length*this.intervalNumber):0,s.streams[0].common.rtpPackets=i?i.packetsSent/(t.length*this.intervalNumber):0):(s.common.availableBitRate=r?r.availableOutgoingBitrate:0,s.common.remoteLossRate=i?i.pliCount/(t.length*this.intervalNumber):0,s.common.roundTripTime=r?r.totalRoundTripTime/(t.length*this.intervalNumber):0,s.common.rtpPackets=i?i.packetsSent/(t.length*this.intervalNumber):0,s.streams[0].common.rtpPackets=i?i.packetsSent/(t.length*this.intervalNumber):0,s.streams[0].common.transmittedBitrate=r?r.availableOutgoingBitrate:0,s.streams[0].common.transmittedFrameRate=a?a.framesSent/(t.length*this.intervalNumber):0,s.streams[0].transmittedHeight=a?a.frameHeight:0,s.streams[0].transmittedKeyFrames=a?a.hugeFramesSent:0,s.streams[0].transmittedWidth=a?a.frameWidth:0),l.push(s)}this.data.intervalMetadata=this.data.intervalMetadata||d({},c.MQA_STATS.intervalMetadata)}},{key:"getData",value:function(){this.intervalNumber+=1;var e=d(d({},this.data),{},{intervalNumber:this.intervalNumber});return this.data={videoReceive:[],audioTransmit:[],audioReceive:[],videoTransmit:[]},e}}]),e}(),f=p;exports.default=f;
},{"@babel/runtime-corejs2/core-js/object/keys":"d81a","@babel/runtime-corejs2/core-js/object/get-own-property-symbols":"DovH","@babel/runtime-corejs2/core-js/object/get-own-property-descriptor":"mQ9c","@babel/runtime-corejs2/core-js/object/get-own-property-descriptors":"Hv1v","@babel/runtime-corejs2/core-js/object/define-properties":"CpmN","@babel/runtime-corejs2/core-js/object/define-property":"eIqn","@babel/runtime-corejs2/helpers/interopRequireDefault":"LXwi","@babel/runtime-corejs2/helpers/defineProperty":"n5FU","@babel/runtime-corejs2/helpers/classCallCheck":"Tzth","@babel/runtime-corejs2/helpers/createClass":"xM5U","../constants":"swzz","../common/browser-detection":"NB7u"}],"S5DN":[function(require,module,exports) {
"use strict";var e=require("@babel/runtime-corejs2/core-js/object/define-property"),n=require("@babel/runtime-corejs2/helpers/interopRequireDefault");e(exports,"__esModule",{value:!0}),exports.default=void 0;var t=n(require("@babel/runtime-corejs2/helpers/classCallCheck")),s=n(require("@babel/runtime-corejs2/helpers/createClass")),r=n(require("@babel/runtime-corejs2/helpers/defineProperty")),a=require("../constants"),u=function(){function e(){(0,t.default)(this,e),(0,r.default)(this,"namespace",a.MEETINGS),this.canLock=null,this.canUnlock=null,this.canAssignHost=null}return(0,s.default)(e,[{key:"setCanLock",value:function(e){this.canLock=e}},{key:"setCanUnlock",value:function(e){this.canUnlock=e}},{key:"setCanAssignHost",value:function(e){this.canAssignHost=e}},{key:"getCanLock",value:function(){return this.canLock}},{key:"getCanUnlock",value:function(){return this.canUnlock}},{key:"getCanAssignHost",value:function(){return this.canAssignHost}}]),e}();exports.default=u;
},{"@babel/runtime-corejs2/core-js/object/define-property":"eIqn","@babel/runtime-corejs2/helpers/interopRequireDefault":"LXwi","@babel/runtime-corejs2/helpers/classCallCheck":"Tzth","@babel/runtime-corejs2/helpers/createClass":"xM5U","@babel/runtime-corejs2/helpers/defineProperty":"n5FU","../constants":"swzz"}],"KXD7":[function(require,module,exports) {
"use strict";var e=require("@babel/runtime-corejs2/core-js/reflect/construct"),t=require("@babel/runtime-corejs2/core-js/object/keys"),i=require("@babel/runtime-corejs2/core-js/object/get-own-property-symbols"),n=require("@babel/runtime-corejs2/core-js/object/get-own-property-descriptor"),r=require("@babel/runtime-corejs2/core-js/object/get-own-property-descriptors"),o=require("@babel/runtime-corejs2/core-js/object/define-properties"),a=require("@babel/runtime-corejs2/core-js/object/define-property"),s=require("@babel/runtime-corejs2/helpers/interopRequireDefault");a(exports,"__esModule",{value:!0}),exports.default=exports.MEDIA_UPDATE_TYPE=void 0;var d=s(require("@babel/runtime-corejs2/regenerator")),u=s(require("@babel/runtime-corejs2/core-js/promise")),l=s(require("@babel/runtime-corejs2/core-js/object/define-property")),c=s(require("@babel/runtime-corejs2/core-js/object/keys")),f=s(require("@babel/runtime-corejs2/core-js/json/stringify")),E=s(require("@babel/runtime-corejs2/core-js/object/assign")),h=s(require("@babel/runtime-corejs2/helpers/typeof")),g=s(require("@babel/runtime-corejs2/helpers/asyncToGenerator")),S=s(require("@babel/runtime-corejs2/helpers/slicedToArray")),T=s(require("@babel/runtime-corejs2/helpers/classCallCheck")),v=s(require("@babel/runtime-corejs2/helpers/createClass")),p=s(require("@babel/runtime-corejs2/helpers/assertThisInitialized")),m=s(require("@babel/runtime-corejs2/helpers/inherits")),I=s(require("@babel/runtime-corejs2/helpers/possibleConstructorReturn")),A=s(require("@babel/runtime-corejs2/helpers/getPrototypeOf")),_=s(require("@babel/runtime-corejs2/helpers/defineProperty")),R=s(require("lodash/pick")),M=s(require("lodash/isEqual")),y=s(require("lodash/cloneDeep")),L=s(require("uuid")),U=require("@webex/webex-core"),N=require("../common/errors/webex-errors"),O=s(require("../statsAnalyzer")),k=s(require("../networkQualityMonitor")),D=s(require("../common/logs/logger-proxy")),P=s(require("../common/events/trigger-proxy")),C=s(require("../roap/index")),x=s(require("../media")),b=s(require("../media/properties")),V=s(require("../meeting/state")),G=s(require("../meeting/muteState")),w=s(require("../locus-info")),j=s(require("../peer-connection-manager")),q=s(require("../metrics")),F=require("../metrics/config"),H=s(require("../reconnection-manager")),Q=s(require("../meeting/request")),W=s(require("../members/index")),Y=s(require("../meeting/util")),B=s(require("../media/util")),J=s(require("../stats/index")),z=s(require("../stats/metrics")),K=s(require("../stats/util")),X=s(require("../transcription")),Z=s(require("../common/errors/reconnection")),$=s(require("../common/errors/reconnection-in-progress")),ee=require("../constants"),te=s(require("../common/errors/parameter")),ie=s(require("../common/errors/media")),ne=s(require("../metrics/mqa-processor")),re=s(require("../common/browser-detection")),oe=s(require("../roap/collection")),ae=s(require("./in-meeting-actions"));function se(e,r){var o=t(e);if(i){var a=i(e);r&&(a=a.filter(function(t){return n(e,t).enumerable})),o.push.apply(o,a)}return o}function de(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?se(Object(i),!0).forEach(function(t){(0,_.default)(e,t,i[t])}):r?o(e,r(i)):se(Object(i)).forEach(function(t){a(e,t,n(i,t))})}return e}function ue(t){var i=le();return function(){var n,r=(0,A.default)(t);if(i){var o=(0,A.default)(this).constructor;n=e(r,arguments,o)}else n=r.apply(this,arguments);return(0,I.default)(this,n)}}function le(){if("undefined"==typeof Reflect||!e)return!1;if(e.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(e(Boolean,[],function(){})),!0}catch(t){return!1}}var ce=(0,re.default)(),fe=ce.isBrowser,Ee=function(e,t){var i=t.header,n=void 0===i?"":i,r=t.success,o=void 0===r?"":r,a=t.failure,s=void 0===a?"":a;return D.default.logger.info(n),e.then(function(e){return D.default.logger.info(o),e}).catch(function(e){throw D.default.logger.error(s,e),e})},he={ALL:"ALL",AUDIO:"AUDIO",VIDEO:"VIDEO",SHARE:"SHARE"};exports.MEDIA_UPDATE_TYPE=he;var ge=function(e){(0,m.default)(i,e);var t=ue(i);function i(e,n){var r;return(0,T.default)(this,i),r=t.call(this,{},n),(0,_.default)((0,p.default)(r),"namespace",ee.MEETINGS),(0,_.default)((0,p.default)(r),"getMediaStreams",function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ee.VIDEO_RESOLUTIONS[r.mediaProperties.localQualityLevel],i=arguments.length>2?arguments[2]:void 0;if(e&&(e.sendAudio||e.sendVideo||e.sendShare)){e&&e.sendAudio&&e.sendVideo&&e.sendShare&&fe("safari")&&(D.default.logger.warn("Meeting:index#getMediaStreams --\x3e Setting `sendShare` to FALSE, due to complications with Safari"),e.sendShare=!1,D.default.logger.warn("Meeting:index#getMediaStreams --\x3e Enabling `sendShare` along with `sendAudio` & `sendVideo`, on Safari, causes a failure while setting up a screen share at the same time as the camera+mic stream"),D.default.logger.warn("Meeting:index#getMediaStreams --\x3e Please use `meeting.shareScreen()` to manually start the screen share after successfully joining the meeting"));var n=(t&&t.video||{deviceId:null}).deviceId,o=r.mediaProperties.getVideoDeviceId();return n?r.mediaProperties.setVideoDeviceId(n):o&&(t=de(de({},t),{},{video:de(de({},t.video),{},{deviceId:o})})),x.default.getSupportedDevice({sendAudio:e.sendAudio,sendVideo:e.sendVideo}).catch(function(e){return u.default.reject(new ie.default("Given constraints do not match permission set for either camera or microphone",e))}).then(function(n){return x.default.getUserMedia(de(de({},e),{},{sendAudio:n.sendAudio,sendVideo:n.sendVideo,isSharing:r.shareStatus===ee.SHARE_STATUS.LOCAL_SHARE_ACTIVE}),t,i,r.config).catch(function(e){var t=ee.METRICS_OPERATIONAL_MEASURES.GET_USER_MEDIA_FAILURE,i={correlation_id:r.correlationId,locus_id:r.locusUrl.split("/").pop(),reason:e.message,stack:e.stack},n={type:e.name};throw q.default.sendOperationalMetric(t,i,n),new ie.default("Unable to retrieve media streams",e)})})}return u.default.reject(new ie.default("At least one of the mediaDirection value should be true"))}),(0,_.default)((0,p.default)(r),"getSupportedDevices",function(e){var t=e.sendAudio,i=void 0===t||t,n=e.sendVideo,r=void 0===n||n;return x.default.getSupportedDevice({sendAudio:i,sendVideo:r})}),(0,_.default)((0,p.default)(r),"getDevices",function(){return x.default.getDevices()}),(0,_.default)((0,p.default)(r),"mediaNegotiatedEvent",function(){r.config.experimental.enableMediaNegotiatedEvent&&(D.default.logger.info("Meeting:mediaNegotiatedEvent --\x3e Media server negotiated"),P.default.trigger((0,p.default)(r),{file:"meeting/index",function:"mediaNegotiatedEvent"},ee.EVENT_TRIGGERS.MEDIA_NEGOTIATED))}),(0,_.default)((0,p.default)(r),"processNextQueuedMediaUpdate",function(){if(r.canUpdateMedia()&&r.queuedMediaUpdates.length>0){var e=r.queuedMediaUpdates.shift(),t=e.pendingPromiseResolve,i=e.pendingPromiseReject,n=e.mediaUpdateType,o=e.options;switch(D.default.logger.log("Meeting:index#processNextQueuedMediaUpdate --\x3e performing delayed media update type=".concat(n)),n){case he.ALL:r.updateMedia(o).then(t,i);break;case he.AUDIO:r.updateAudio(o).then(t,i);break;case he.VIDEO:r.updateVideo(o).then(t,i);break;case he.SHARE:r.updateShare(o).then(t,i);break;default:D.default.logger.error("Peer-connection-manager:index#processNextQueuedMediaUpdate --\x3e unsupported media update type ".concat(n," found in the queue"))}}}),r.attrs=e,r.options=n,r.id=L.default.v4(),r.correlationId=r.id,r.userId=e.userId,r.orgId=e.orgId,r.resource=e.resource,r.deviceUrl=e.deviceUrl,r.roapSeq=ee.ROAP_SEQ_PRE,r.meetingInfo={},r.members=new W.default({locusUrl:e.locus&&e.locus.url},{parent:r.webex}),r.roap=new C.default({},{parent:r.webex}),r.reconnectionManager=new H.default((0,p.default)(r)),r.audio=null,r.video=null,r.meetingFiniteStateMachine=V.default.create((0,p.default)(r)),r.stats=null,r.internalStats=null,r.conversationUrl=null,r.locusUrl=e.locus&&e.locus.url||null,r.sipUri=null,r.partner=null,r.type=null,r.owner=null,r.hostId=null,r.policy=null,r.meetingRequest=new Q.default({},n),r.mediaConnections=null,r.updateMediaConnections=function(e){(0,M.default)(r.mediaConnections,e)||(r.mediaConnections=e.slice(-1))},r.mediaProperties=new b.default,r.inMeetingActions=new ae.default,r.isSharing=!1,r.shareStatus=ee.SHARE_STATUS.NO_SHARE,(0,l.default)((0,p.default)(r),"isLocalShareLive",{get:function(){var e,t,i=r.mediaProperties.peerConnection.shareTransceiver,n=null==i?void 0:i.direction,o=(null==i?void 0:null===(e=i.sender)||void 0===e?void 0:null===(t=e.track)||void 0===t?void 0:t.readyState)===ee.LIVE,a=n===ee.SENDRECV;return!(!o||!a)},configurable:!0}),r.callEvents=[],r.floorGrantPending=!1,r.dialInDeviceStatus=ee.PSTN_STATUS.UNKNOWN,r.dialInUrl="",r.dialOutDeviceStatus=ee.PSTN_STATUS.UNKNOWN,r.dialOutUrl="",r.mediaQualityMetrics=null,r.statsAnalyzer=null,r.networkQualityMonitor=null,r.mqaProcessor=null,r.networkStatus=null,r.locusInfo=new w.default(r.updateMeetingObject.bind((0,p.default)(r)),r.webex,r.id),r.recording=null,r.deferJoin=void 0,r.hasWebsocketConnected=r.webex.internal.mercury.connected,r.lastVideoLayoutInfo={layoutType:void 0,main:void 0,content:void 0},r.queuedMediaUpdates=[],r.transcription=void 0,r.setUpLocusInfoListeners(),r.locusInfo.init(e.locus?e.locus:{}),r}return(0,v.default)(i,[{key:"setUpLocusInfoListeners",value:function(){this.setUpLocusInfoSelfListener(),this.setUpLocusInfoMeetingListener(),this.setUpLocusFullStateListener(),this.setUpLocusUrlListener(),this.setUpLocusHostListener(),this.setUpLocusSelfListener(),this.setUpLocusParticipantsListener(),this.setupLocusControlsListener(),this.setUpLocusMediaSharesListener(),this.setUpLocusInfoMeetingInfoListener(),this.setUpLocusInfoAssignHostListener(),this.setUpLocusInfoMediaInactiveListener()}},{key:"setUpLocusInfoMediaInactiveListener",value:function(){var e=this;this.locusInfo.on(ee.EVENTS.DISCONNECT_DUE_TO_INACTIVITY,function(t){q.default.sendOperationalMetric(ee.METRICS_OPERATIONAL_MEASURES.DISCONNECT_DUE_TO_INACTIVITY,{correlation_id:e.correlationId,locus_id:e.locusId}),P.default.trigger(e,{file:"meeting/index",function:"setUpLocusInfoMediaInactiveListener"},ee.EVENTS.REQUEST_UPLOAD_LOGS,e),D.default.logger.error("Meeting:index#setUpLocusInfoMediaInactiveListener --\x3e Meeting disconnected due to inactivity: ".concat(t.reason)),e.config.reconnection.autoRejoin?e.reconnect():P.default.trigger(e,{file:"meeting/index",function:"setUpLocusInfoMediaInactiveListener"},ee.EVENT_TRIGGERS.MEETING_SELF_LEFT,t.reason)})}},{key:"setUpLocusInfoAssignHostListener",value:function(){var e=this;this.locusInfo.on(ee.EVENTS.LOCUS_INFO_CAN_ASSIGN_HOST,function(t){P.default.trigger(e,{file:"meeting/index",function:"setUpLocusInfoAssignHostListener"},ee.EVENT_TRIGGERS.MEETING_ACTIONS_UPDATE,{canAssignHost:t.canAssignHost,canLock:e.inMeetingActions.getCanLock(),canUnlock:e.inMeetingActions.getCanUnlock()}),e.inMeetingActions.setCanAssignHost(t.canAssignHost)})}},{key:"setUpLocusFullStateListener",value:function(){var e=this;this.locusInfo.on(ee.LOCUSINFO.EVENTS.FULL_STATE_MEETING_STATE_CHANGE,function(t){P.default.trigger(e,{file:"meeting/index",function:"setUpLocusFullStateListener"},ee.EVENT_TRIGGERS.MEETING_STATE_CHANGE,{payload:t})}),this.locusInfo.on(ee.LOCUSINFO.EVENTS.FULL_STATE_TYPE_UPDATE,function(t){e.members.locusFullStateTypeUpdate(t)})}},{key:"getAnalyzerMetricsPrePayload",value:function(e){if(e){var t=e.event,i=e.trackingId,n=e.mediaConnections;if(!t)return D.default.logger.error("Meeting:index#getAnalyzerMetricsPrePayload --\x3e Error [Call Analyzer Event",t||"","]: invalid identifers or event type! ".concat(this.correlationId)),null;var r={correlationId:this.correlationId,userId:this.userId,deviceId:this.deviceUrl,orgId:this.orgId,locusUrl:this.webex.internal.services.get("locus")};if(this.locusUrl&&this.locusInfo.fullState&&(r.locusUrl=this.locusUrl,r.locusId=this.locusUrl&&this.locusUrl.split("/").pop(),r.locusStartTime=this.locusInfo.fullState&&this.locusInfo.fullState.lastActive),n)r.mediaAgentAlias=null==n?void 0:n[0].mediaAgentAlias,r.mediaAgentGroupId=null==n?void 0:n[0].mediaAgentGroupId,r.mediaAgentCluster=null==n?void 0:n[0].mediaAgentCluster;else if(this.mediaConnections){var o,a,s;r.mediaAgentAlias=null===(o=this.mediaConnections)||void 0===o?void 0:o[0].mediaAgentAlias,r.mediaAgentGroupId=null===(a=this.mediaConnections)||void 0===a?void 0:a[0].mediaAgentGroupId,r.mediaAgentCluster=null===(s=this.mediaConnections)||void 0===s?void 0:s[0].mediaAgentCluster}e.trackingId&&(r.trackingId=i);var d=this.getSetupDelayDuration("audio");d&&(e.audioSetupDelay={joinRespRxStart:d});var u=this.getSetupDelayDuration("video");d&&(e.videoSetupDelay={joinRespRxStart:u});var l=this.getSendingMediaDelayDuration("audio");l&&(e.audioSetupDelay=de(de({},e.audioSetupDelay),{},{joinRespTxStart:l}));var c=this.getSendingMediaDelayDuration("video");return c&&(e.videoSetupDelay=de(de({},e.videoSetupDelay),{},{joinRespTxStart:c})),e.type===ee.MQA_STATS.CA_TYPE?q.default.initMediaPayload(e.event,r,e):q.default.initPayload(e.event,r,e)}return null}},{key:"sendCallAnalyzerMetrics",value:function(e){var t=this.getAnalyzerMetricsPrePayload(de(de({},(0,R.default)(this.config.metrics,["clientType","subClientType"])),e));return this.webex.internal.metrics.submitCallDiagnosticEvents(t)}},{key:"sendMediaQualityAnalyzerMetrics",value:function(e){var t=this.getAnalyzerMetricsPrePayload(de(de({type:ee.MQA_STATS.CA_TYPE},(0,R.default)(this.config.metrics,["clientType","subClientType"])),e));return this.webex.internal.metrics.submitCallDiagnosticEvents(t)}},{key:"setNetworkStatus",value:function(e){e===ee.NETWORK_STATUS.DISCONNECTED?P.default.trigger(this,{file:"meeting/index",function:"setNetworkStatus"},ee.EVENT_TRIGGERS.MEETINGS_NETWORK_DISCONNECTED):e===ee.NETWORK_STATUS.CONNECTED&&this.networkStatus===ee.NETWORK_STATUS.DISCONNECTED&&P.default.trigger(this,{file:"meeting/index",function:"setNetworkStatus"},ee.EVENT_TRIGGERS.MEETINGS_NETWORK_CONNECTED),this.networkStatus=e}},{key:"setUpLocusSelfListener",value:function(){var e=this;this.locusInfo.on(ee.EVENTS.LOCUS_INFO_UPDATE_SELF,function(t){e.members.locusSelfUpdate(t),e.pstnUpdate(t),e.floorGrantPending&&t.newSelf.state===ee.MEETING_STATE.STATES.JOINED&&e.share().then(function(){e.floorGrantPending=!1})})}},{key:"pstnUpdate",value:function(e){var t=this;if(this.locusInfo.self){var i,n,r=null===(i=e.newSelf)||void 0===i?void 0:i.pstnDevices.find(function(e){return e.url===t.dialInUrl}),o=null===(n=e.newSelf)||void 0===n?void 0:n.pstnDevices.find(function(e){return e.url===t.dialOutUrl}),a=!1;if(r){var s,d=null!==(s=r.dialingStatus)&&void 0!==s?s:r.state;d!==this.dialInDeviceStatus&&(this.dialInDeviceStatus=d,a=!0)}if(o){var u,l=null!==(u=o.dialingStatus)&&void 0!==u?u:o.state;l!==this.dialOutDeviceStatus&&(this.dialOutDeviceStatus=l,a=!0)}a&&P.default.trigger(this,{file:"meeting/index",function:"setUpLocusSelfListener"},ee.EVENT_TRIGGERS.MEETING_SELF_PHONE_AUDIO_UPDATE,{dialIn:{status:this.dialInDeviceStatus,attendeeId:null==r?void 0:r.attendeeId},dialOut:{status:this.dialOutDeviceStatus,attendeeId:null==o?void 0:o.attendeeId}})}}},{key:"setUpLocusHostListener",value:function(){var e=this;this.locusInfo.on(ee.EVENTS.LOCUS_INFO_UPDATE_HOST,function(t){e.members.locusHostUpdate(t)})}},{key:"setUpLocusParticipantsListener",value:function(){var e=this;this.locusInfo.on(ee.EVENTS.LOCUS_INFO_UPDATE_PARTICIPANTS,function(t){e.members.locusParticipantsUpdate(t)})}},{key:"setupLocusControlsListener",value:function(){var e=this;this.locusInfo.on(ee.LOCUSINFO.EVENTS.CONTROLS_RECORDING_UPDATED,function(t){var i,n=t.state,r=t.modifiedBy,o=t.lastModified;switch(n){case ee.RECORDING_STATE.RECORDING:i=ee.EVENT_TRIGGERS.MEETING_STARTED_RECORDING;break;case ee.RECORDING_STATE.IDLE:i=ee.EVENT_TRIGGERS.MEETING_STOPPED_RECORDING;break;case ee.RECORDING_STATE.PAUSED:i=ee.EVENT_TRIGGERS.MEETING_PAUSED_RECORDING;break;case ee.RECORDING_STATE.RESUMED:i=ee.EVENT_TRIGGERS.MEETING_RESUMED_RECORDING;break;default:i=null}e.recording={state:n===ee.RECORDING_STATE.RESUMED?ee.RECORDING_STATE.RECORDING:n,modifiedBy:r,lastModified:o},P.default.trigger(e,{file:"meeting/index",function:"setupLocusControlsListener"},i,e.recording)})}},{key:"setUpLocusMediaSharesListener",value:function(){var e=this;this.locusInfo.on(ee.EVENTS.LOCUS_INFO_UPDATE_MEDIA_SHARES,function(t){var i,n,r=t.current,o=r.content,a=r.whiteboard,s=null===(i=t.previous)||void 0===i?void 0:i.content,d=null===(n=t.previous)||void 0===n?void 0:n.whiteboard;if(o.beneficiaryId!==(null==s?void 0:s.beneficiaryId)||o.disposition!==(null==s?void 0:s.disposition)||a.beneficiaryId!==(null==d?void 0:d.beneficiaryId)||a.disposition!==(null==d?void 0:d.disposition)||a.resourceUrl!==(null==d?void 0:d.resourceUrl)){var u=e.shareStatus;if(e.selfId!==o.beneficiaryId&&o.disposition===ee.FLOOR_ACTION.GRANTED)u=ee.SHARE_STATUS.REMOTE_SHARE_ACTIVE;else if(e.selfId===o.beneficiaryId&&o.disposition===ee.FLOOR_ACTION.GRANTED){var l;"ended"===(null===(l=e.mediaProperties.shareTrack)||void 0===l?void 0:l.readyState)?e.stopShare({skipSignalingCheck:!0}).catch(function(e){D.default.logger.log("Meeting:index#setUpLocusMediaSharesListener --\x3e Error stopping share: ",e)}):u=ee.SHARE_STATUS.LOCAL_SHARE_ACTIVE}else a.disposition===ee.FLOOR_ACTION.GRANTED?u=ee.SHARE_STATUS.WHITEBOARD_SHARE_ACTIVE:(s&&o.disposition===ee.FLOOR_ACTION.RELEASED||null===o.disposition)&&(d&&a.disposition===ee.FLOOR_ACTION.RELEASED||null===a.disposition)&&(u=ee.SHARE_STATUS.NO_SHARE);if(u!==e.shareStatus){var c=e.shareStatus;switch(e.shareStatus=u,c){case ee.SHARE_STATUS.REMOTE_SHARE_ACTIVE:P.default.trigger(e,{file:"meetings/index",function:"remoteShare"},ee.EVENT_TRIGGERS.MEETING_STOPPED_SHARING_REMOTE);break;case ee.SHARE_STATUS.LOCAL_SHARE_ACTIVE:P.default.trigger(e,{file:"meeting/index",function:"stopFloorRequest"},ee.EVENT_TRIGGERS.MEETING_STOPPED_SHARING_LOCAL,{reason:ee.SHARE_STOPPED_REASON.SELF_STOPPED});break;case ee.SHARE_STATUS.WHITEBOARD_SHARE_ACTIVE:P.default.trigger(e,{file:"meeting/index",function:"stopWhiteboardShare"},ee.EVENT_TRIGGERS.MEETING_STOPPED_SHARING_WHITEBOARD);break;case ee.SHARE_STATUS.NO_SHARE:}switch(u){case ee.SHARE_STATUS.REMOTE_SHARE_ACTIVE:var f,E=function(){P.default.trigger(e,{file:"meetings/index",function:"remoteShare"},ee.EVENT_TRIGGERS.MEETING_STARTED_SHARING_REMOTE,{memberId:o.beneficiaryId})};null!==(f=e.mediaProperties.mediaDirection)&&void 0!==f&&f.sendShare&&c!==ee.SHARE_STATUS.WHITEBOARD_SHARE_ACTIVE?e.updateShare({sendShare:!1,receiveShare:e.mediaProperties.mediaDirection.receiveShare}).finally(function(){E()}):E();break;case ee.SHARE_STATUS.LOCAL_SHARE_ACTIVE:P.default.trigger(e,{file:"meeting/index",function:"share"},ee.EVENT_TRIGGERS.MEETING_STARTED_SHARING_LOCAL),q.default.postEvent({event:F.eventType.LOCAL_SHARE_FLOOR_GRANTED,meeting:e});break;case ee.SHARE_STATUS.WHITEBOARD_SHARE_ACTIVE:P.default.trigger(e,{file:"meeting/index",function:"startWhiteboardShare"},ee.EVENT_TRIGGERS.MEETING_STARTED_SHARING_WHITEBOARD,{resourceUrl:a.resourceUrl,memberId:a.beneficiaryId}),q.default.postEvent({event:F.eventType.WHITEBOARD_SHARE_FLOOR_GRANTED,meeting:e});break;case ee.SHARE_STATUS.NO_SHARE:}e.members.locusMediaSharesUpdate(t)}else u===ee.SHARE_STATUS.REMOTE_SHARE_ACTIVE?(P.default.trigger(e,{file:"meetings/index",function:"remoteShare"},ee.EVENT_TRIGGERS.MEETING_STARTED_SHARING_REMOTE,{memberId:o.beneficiaryId}),e.members.locusMediaSharesUpdate(t)):u===ee.SHARE_STATUS.WHITEBOARD_SHARE_ACTIVE&&(P.default.trigger(e,{file:"meeting/index",function:"startWhiteboardShare"},ee.EVENT_TRIGGERS.MEETING_STARTED_SHARING_WHITEBOARD,{resourceUrl:a.resourceUrl,memberId:a.beneficiaryId}),q.default.postEvent({event:F.eventType.WHITEBOARD_SHARE_FLOOR_GRANTED,meeting:e}),e.members.locusMediaSharesUpdate(t))}})}},{key:"setUpLocusUrlListener",value:function(){var e=this;this.locusInfo.on(ee.EVENTS.LOCUS_INFO_UPDATE_URL,function(t){var i;e.members.locusUrlUpdate(t),e.locusUrl=t,e.locusId=null===(i=e.locusUrl)||void 0===i?void 0:i.split("/").pop()})}},{key:"setUpLocusInfoMeetingInfoListener",value:function(){var e=this;this.locusInfo.on(ee.LOCUSINFO.EVENTS.MEETING_LOCKED,function(t){t&&P.default.trigger(e,{file:"meeting/index",function:"setUpLocusInfoMeetingInfoListener"},ee.EVENT_TRIGGERS.MEETING_LOCKED,{payload:t})}),this.locusInfo.on(ee.LOCUSINFO.EVENTS.MEETING_UNLOCKED,function(t){t&&P.default.trigger(e,{file:"meeting/index",function:"setUpLocusInfoMeetingInfoListener"},ee.EVENT_TRIGGERS.MEETING_UNLOCKED,{payload:t})}),this.locusInfo.on(ee.LOCUSINFO.EVENTS.MEETING_INFO_UPDATED,function(t){var i,n;t&&t.info&&(t.self&&!t.self.moderator?(i=!1,n=!1):(i=Y.default.canUserLock(t.info.moderator,t.info.policy),n=Y.default.canUserUnlock(t.info.moderator,t.info.policy)),i&&!e.inMeetingActions.canLock&&P.default.trigger(e,{file:"meeting/index",function:"setUpLocusInfoMeetingInfoListener"},ee.EVENT_TRIGGERS.MEETING_ACTIONS_UPDATE,{canLock:!0,canUnlock:!1,canAssignHost:e.inMeetingActions.getCanAssignHost()}),(n&&!e.inMeetingActions.canUnlock||!i)&&P.default.trigger(e,{file:"meeting/index",function:"setUpLocusInfoMeetingInfoListener"},ee.EVENT_TRIGGERS.MEETING_ACTIONS_UPDATE,{canLock:!1,canUnlock:!0,canAssignHost:e.inMeetingActions.getCanAssignHost()}),e.inMeetingActions.setCanLock(i||!1),e.inMeetingActions.setCanUnlock(n||!1))})}},{key:"setUpLocusInfoSelfListener",value:function(){var e=this;this.locusInfo.on(ee.LOCUSINFO.EVENTS.LOCAL_UNMUTE_REQUIRED,function(t){e.audio&&(e.audio.handleServerLocalUnmuteRequired(e),P.default.trigger(e,{file:"meeting/index",function:"setUpLocusInfoSelfListener"},ee.EVENT_TRIGGERS.MEETING_SELF_UNMUTED_BY_OTHERS,{payload:t}))}),this.locusInfo.on(ee.LOCUSINFO.EVENTS.SELF_REMOTE_MUTE_STATUS_UPDATED,function(t){var i;t&&(e.audio&&e.audio.handleServerRemoteMuteUpdate(t.muted,t.unmuteAllowed),!t.muted&&null!==(i=e.audio)&&void 0!==i&&i.isMuted()||P.default.trigger(e,{file:"meeting/index",function:"setUpLocusInfoSelfListener"},t.muted?ee.EVENT_TRIGGERS.MEETING_SELF_MUTED_BY_OTHERS:ee.EVENT_TRIGGERS.MEETING_SELF_UNMUTED_BY_OTHERS,{payload:t}))}),this.locusInfo.on(ee.LOCUSINFO.EVENTS.LOCAL_UNMUTE_REQUESTED,function(t){P.default.trigger(e,{file:"meeting/index",function:"setUpLocusInfoSelfListener"},ee.EVENT_TRIGGERS.MEETING_SELF_REQUESTED_TO_UNMUTE,{payload:t})}),this.locusInfo.on(ee.LOCUSINFO.EVENTS.SELF_UNADMITTED_GUEST,function(t){t&&(P.default.trigger(e,{file:"meeting/index",function:"setUpLocusInfoSelfListener"},ee.EVENT_TRIGGERS.MEETING_SELF_LOBBY_WAITING,{payload:t}),q.default.postEvent({event:F.eventType.LOBBY_ENTERED,meeting:e}))}),this.locusInfo.on(ee.LOCUSINFO.EVENTS.SELF_ADMITTED_GUEST,function(t){t&&(P.default.trigger(e,{file:"meeting/index",function:"setUpLocusInfoSelfListener"},ee.EVENT_TRIGGERS.MEETING_SELF_GUEST_ADMITTED,{payload:t}),q.default.postEvent({event:F.eventType.LOBBY_EXITED,meeting:e}))}),this.locusInfo.on(ee.LOCUSINFO.EVENTS.MEDIA_INACTIVITY,function(){q.default.sendOperationalMetric(ee.METRICS_OPERATIONAL_MEASURES.MEETING_MEDIA_INACTIVE,{correlation_id:e.correlationId,locus_id:e.locusId}),e.reconnect()}),this.locusInfo.on(ee.LOCUSINFO.EVENTS.MEDIA_STATUS_CHANGE,function(t){var i,n,r,o,a,s,d,u;e.statsAnalyzer&&e.statsAnalyzer.updateMediaStatus({actual:t,expected:{sendAudio:(null===(i=e.mediaProperties.mediaDirection)||void 0===i?void 0:i.sendAudio)&&!(null!==(n=e.audio)&&void 0!==n&&n.isMuted()),sendVideo:(null===(r=e.mediaProperties.mediaDirection)||void 0===r?void 0:r.sendVideo)&&!(null!==(o=e.video)&&void 0!==o&&o.isMuted()),sendShare:null===(a=e.mediaProperties.mediaDirection)||void 0===a?void 0:a.sendShare,receiveAudio:null===(s=e.mediaProperties.mediaDirection)||void 0===s?void 0:s.receiveAudio,receiveVideo:null===(d=e.mediaProperties.mediaDirection)||void 0===d?void 0:d.receiveVideo,receiveShare:null===(u=e.mediaProperties.mediaDirection)||void 0===u?void 0:u.receiveShare}})})}},{key:"setUpLocusInfoMeetingListener",value:function(){var e=this;this.locusInfo.on(ee.EVENTS.REMOTE_RESPONSE,function(t){e.meetingFiniteStateMachine.remote(t),t.remoteDeclined&&e.leave({reason:t.reason}).then(function(){D.default.logger.info("Meeting:index#setUpLocusInfoMeetingListener --\x3e REMOTE_RESPONSE. Attempting to leave meeting.")}).catch(function(t){D.default.logger.error("Meeting:index#setUpLocusInfoMeetingListener --\x3e REMOTE_RESPONSE. Issue with leave for meeting, meeting still in collection: ".concat(e.meeting,", error: ").concat(t))})}),this.locusInfo.on(ee.EVENTS.DESTROY_MEETING,function(t){e.wirelessShare&&e.mediaProperties.shareTrack&&(e.mediaProperties.shareTrack.onended=null,e.mediaProperties.shareTrack.stop()),t.shouldLeave?e.leave({reason:t.reason}).then(function(){D.default.logger.warn("Meeting:index#setUpLocusInfoMeetingListener --\x3e DESTROY_MEETING. The meeting has been left, but has not been destroyed, you should see a later event for leave.")}).catch(function(t){D.default.logger.error("Meeting:index#setUpLocusInfoMeetingListener --\x3e DESTROY_MEETING. Issue with leave for meeting, meeting still in collection: ".concat(e.meeting,", error: ").concat(t))}):(D.default.logger.info("Meeting:index#setUpLocusInfoMeetingListener --\x3e MEETING_REMOVED_REASON",t.reason),Y.default.cleanUp(e),P.default.trigger(e,{file:"meeting/index",function:"setUpLocusInfoMeetingListener"},ee.EVENTS.DESTROY_MEETING,{reason:t.reason,meetingId:e.id}))})}},{key:"updateMeetingObject",value:function(e){var t=this;e&&(0,c.default)(e).length&&(0,c.default)(e).forEach(function(i){t[i]=e[i]})}},{key:"invite",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return this.members.addMember(e,t)}},{key:"cancelPhoneInvite",value:function(e){return this.members.cancelPhoneInvite(e)}},{key:"admit",value:function(e){return this.members.admitMembers(e)}},{key:"remove",value:function(e){return this.members.removeMember(e)}},{key:"mute",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return this.members.muteMember(e,t)}},{key:"transfer",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return this.members.transferHostToMember(e,t)}},{key:"getMembers",value:function(){return this.members}},{key:"cleanMQAInterval",value:function(){this.mqaInterval&&clearInterval(this.mqaInterval)}},{key:"startMediaQualityMetrics",value:function(){var e=this,t=new z.default({config:this.config}),i=this.getStats(t.initialize(),!0);return this.mediaQualityMetrics=t,this.mediaQualityMetrics.setStats(i),this.mqaInterval=setInterval(function(){return e.processMQAData()},this.config.metrics.mqaMetricsInterval),t}},{key:"processMQAData",value:function(){var e=this;this.mqaProcessor||(this.mqaProcessor=new ne.default),ee.MQA_STATS.DATA_PLACEMENTS.forEach(function(t){var i,n;if(e.mediaQualityMetrics&&e.mediaQualityMetrics.stats&&(t.toLowerCase().endsWith(ee.STATS.SENDER)?i=e.mediaQualityMetrics.stats.getSender(t):t.toLowerCase().endsWith(ee.STATS.RECEIVER)&&(i=e.mediaQualityMetrics.stats.getReceiver(t)),i&&(n=i.getMQA()),n)){var r=n.getSlice(e.config.metrics.mqaMetricsInterval/1e3);e.mqaProcessor.process(t,r)}})}},{key:"getStats",value:function(e,t){return this.stats?t?(this.stats&&D.default.logger.log("Meeting:index#getStats --\x3e Overriding the previous stats object without destroying first can result in memory leaks."),this.createStats(e)):this.stats:this.createStats(e)}},{key:"createStats",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return K.default.generateOptions(e,ee.STATS.CONFIG,this),e.config=ee.STATS.CONFIG,this.stats=new J.default(this.attrs,this.options,e),this.stats}},{key:"stopStats",value:function(){this.stats&&(this.stats.destroySenders(),this.stats.destroyReceivers(),this.stats=null)}},{key:"isAudioConnected",value:function(){return!!this.audio}},{key:"isAudioMuted",value:function(){return this.audio&&this.audio.isMuted()}},{key:"isAudioSelf",value:function(){return this.audio&&this.audio.isSelf()}},{key:"isVideoConnected",value:function(){return!!this.video}},{key:"isVideoMuted",value:function(){return this.video&&this.video.isMuted()}},{key:"isVideoSelf",value:function(){return this.video&&this.video.isSelf()}},{key:"parseMeetingInfo",value:function(e){!e||!e.body||e.errors&&e.errors.length>0||(this.conversationUrl=e.body.conversationUrl||this.conversationUrl,this.locusUrl=e.body.locusUrl||this.locusUrl,this.setSipUri(this.config.experimental.enableUnifiedMeetings?e.body.sipUrl:e.body.sipMeetingUri||this.sipUri),this.config.experimental.enableUnifiedMeetings&&(this.meetingNumber=e.body.meetingNumber),this.owner=e.body.owner||e.body.hostId||this.owner)}},{key:"parseLocus",value:function(e){e&&(this.locusUrl=e.url,this.setLocus(e),e.participants&&e.self&&(this.partner=Y.default.getLocusPartner(e.participants,e.self)),!this.sipUri&&this.partner&&this.type===ee._CALL_&&this.setSipUri(this.partner.person.sipUrl||this.partner.person.id))}},{key:"setSipUri",value:function(e){this.sipUri=e}},{key:"setRoapSeq",value:function(e){e>=0&&(this.roapSeq=e)}},{key:"setLocus",value:function(e){var t=e.locus||e;this.mediaConnections=e.mediaConnections,this.locusUrl=e.locusUrl||e.url,this.locusId=e.locusId,this.selfId=e.selfId,this.mediaId=e.mediaId,this.hostId=t.host?t.host.id:this.hostId,this.locusInfo.initialSetup(t)}},{key:"setRemoteStream",value:function(e){var t=this;e&&(e.ontrack=function(e){D.default.logger.log("Meeting:index#setRemoteStream --\x3e ontrack event received for peerConnection: ".concat(e));var i="0",n="1",r="2",o=null,a=e.track,s=null;if(e.transceiver&&e.transceiver.mid)s=e.transceiver.mid;else{var d=e.target,u=d.audioTransceiver,l=d.videoTransceiver,c=d.shareTransceiver;a.id===u.receiver.track.id?s="0":a.id===l.receiver.track.id?s="1":a.id===c.receiver.track.id?s="2":(s=null,q.default.sendOperationalMetric(ee.METRICS_OPERATIONAL_MEASURES.MUTE_AUDIO_FAILURE,{correlation_id:t.correlationId,locus_id:t.locusUrl.split("/").pop()}))}switch(s){case i:o=ee.EVENT_TYPES.REMOTE_AUDIO,t.mediaProperties.setRemoteAudioTrack(a);break;case n:o=ee.EVENT_TYPES.REMOTE_VIDEO,t.mediaProperties.setRemoteVideoTrack(a);break;case r:e.track&&(o=ee.EVENT_TYPES.REMOTE_SHARE,t.mediaProperties.setRemoteShare(a));break;default:D.default.logger.log("Meeting:index#setRemoteStream --\x3e no matching media track id")}t.statsAnalyzer.startAnalyzer(t.mediaProperties.peerConnection),o&&a&&P.default.trigger(t,{file:"meeting/index",function:"setRemoteStream:pc.ontrack"},ee.EVENT_TRIGGERS.MEDIA_READY,{type:o,stream:B.default.createMediaStream([a])})})}},{key:"uploadLogs",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{file:"meeting/index",function:"uploadLogs"};P.default.trigger(this,e,ee.EVENTS.REQUEST_UPLOAD_LOGS,this)}},{key:"unsetRemoteStream",value:function(){D.default.logger.warn("Meeting:index#unsetRemoteStream --\x3e [DEPRECATION WARNING]: unsetRemoteStream has been deprecated after v1.89.3"),this.mediaProperties.unsetRemoteMedia()}},{key:"unsetRemoteTracks",value:function(){this.mediaProperties.unsetRemoteTracks()}},{key:"closeRemoteStream",value:function(){D.default.logger.warn("Meeting:index#closeRemoteStream --\x3e [DEPRECATION WARNING]: closeRemoteStream has been deprecated after v1.89.3"),this.closeRemoteTracks()}},{key:"closeRemoteTracks",value:function(){var e=this,t=this.mediaProperties,i=t.remoteAudioTrack,n=t.remoteVideoTrack,r=t.remoteShare,o=function(t,i){return x.default.stopTracks(t).then(function(){var n,r=t&&t.readyState===ee.ENDED,o=t&&!r;r?(n=i,P.default.trigger(e,{file:"meeting/index",function:"closeRemoteTracks"},ee.EVENT_TRIGGERS.MEDIA_STOPPED,{type:n})):o&&D.default.logger.warn("Meeting:index#closeRemoteTracks --\x3e Error: MediaStreamTrack.readyState is ".concat(t.readyState," for ").concat(i))})};return u.default.all([o(i,ee.EVENT_TYPES.REMOTE_AUDIO),o(n,ee.EVENT_TYPES.REMOTE_VIDEO),o(r,ee.EVENT_TYPES.REMOTE_SHARE)])}},{key:"sendLocalMediaReadyEvent",value:function(){P.default.trigger(this,{file:"meeting/index",function:"setLocalTracks"},ee.EVENT_TRIGGERS.MEDIA_READY,{type:ee.EVENT_TYPES.LOCAL,stream:B.default.createMediaStream([this.mediaProperties.audioTrack,this.mediaProperties.videoTrack])})}},{key:"setLocalAudioTrack",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(e){var i=e.getSettings();this.mediaProperties.setMediaSettings("audio",{echoCancellation:i.echoCancellation,noiseSuppression:i.noiseSuppression}),D.default.logger.log("Meeting:index#setLocalAudioTrack --\x3e Audio settings.",(0,f.default)(this.mediaProperties.mediaSettings.audio)),this.mediaProperties.setLocalAudioTrack(e),this.audio&&this.audio.applyClientStateLocally(this)}t&&this.sendLocalMediaReadyEvent()}},{key:"setLocalVideoTrack",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(e){var i=e.getSettings(),n=i.aspectRatio,r=i.frameRate,o=i.height,a=i.width,s=i.deviceId;this.mediaProperties.setLocalVideoTrack(e),this.video&&this.video.applyClientStateLocally(this),this.mediaProperties.setMediaSettings("video",{aspectRatio:n,frameRate:r,height:o,width:a}),s&&this.mediaProperties.setVideoDeviceId(s),D.default.logger.log("Meeting:index#setLocalVideoTrack --\x3e Video settings.",(0,f.default)(this.mediaProperties.mediaSettings.video))}t&&this.sendLocalMediaReadyEvent()}},{key:"setLocalTracks",value:function(e){if(e){var t=Y.default.getTrack(e),i=t.audioTrack,n=t.videoTrack;this.setLocalAudioTrack(i,!1),this.setLocalVideoTrack(n,!1),this.sendLocalMediaReadyEvent()}}},{key:"setLocalShareTrack",value:function(e){var t=this,i=null;if(e){this.mediaProperties.setLocalShareTrack(Y.default.getTrack(e).videoTrack);var n=this.mediaProperties.shareTrack;n&&(i=n.getSettings(),this.mediaProperties.setMediaSettings("screen",{aspectRatio:i.aspectRatio,frameRate:i.frameRate,height:i.height,width:i.width,displaySurface:i.displaySurface,cursor:i.cursor}),D.default.logger.log("Meeting:index#setLocalShareTrack --\x3e Screen settings.",(0,f.default)(this.mediaProperties.mediaSettings.screen))),n.onended=function(){return t.handleShareTrackEnded(e)},P.default.trigger(this,{file:"meeting/index",function:"setLocalShareTrack"},ee.EVENT_TRIGGERS.MEDIA_READY,{type:ee.EVENT_TYPES.LOCAL_SHARE,stream:e})}}},{key:"closeLocalStream",value:function(){var e=this,t=this.mediaProperties,i=t.audioTrack,n=t.videoTrack;return x.default.stopTracks(i).then(function(){return x.default.stopTracks(n)}).then(function(){var t=i&&i.readyState===ee.ENDED,r=n&&n.readyState===ee.ENDED;t&&r?P.default.trigger(e,{file:"meeting/index",function:"closeLocalStream"},ee.EVENT_TRIGGERS.MEDIA_STOPPED,{type:ee.EVENT_TYPES.LOCAL}):(i||n)&&D.default.logger.warn("Meeting:index#closeLocalStream --\x3e Error: MediaStreamTrack.readyState is incorrect.")})}},{key:"closeLocalShare",value:function(){var e=this,t=this.mediaProperties.shareTrack;return x.default.stopTracks(t).then(function(){t&&t.readyState===ee.ENDED?P.default.trigger(e,{file:"meeting/index",function:"closeLocalShare"},ee.EVENT_TRIGGERS.MEDIA_STOPPED,{type:ee.EVENT_TYPES.LOCAL_SHARE}):t&&D.default.logger.warn("Meeting:index#closeLocalShare --\x3e Error: MediaStreamTrack.readyState is ".concat(t.readyState," for localShare"))})}},{key:"unsetLocalVideoTrack",value:function(){this.mediaProperties.unsetLocalVideoTrack()}},{key:"unsetLocalShareTrack",value:function(){this.mediaProperties.unsetLocalShareTrack()}},{key:"setMercuryListener",value:function(){var e=this;this.webex.internal.mercury.on(ee.ONLINE,function(){D.default.logger.info("Meeting:index#setMercuryListener --\x3e Web socket online"),e.hasWebsocketConnected||q.default.postEvent({event:F.eventType.MERCURY_CONNECTION_RESTORED,meeting:e}),e.hasWebsocketConnected=!0}),this.webex.internal.mercury.on(ee.OFFLINE,function(){D.default.logger.error("Meeting:index#setMercuryListener --\x3e Web socket offline"),q.default.postEvent({event:F.eventType.MERCURY_CONNECTION_LOST,meeting:e}),q.default.sendOperationalMetric(ee.METRICS_OPERATIONAL_MEASURES.MERCURY_CONNECTION_FAILURE,{correlation_id:e.correlationId})})}},{key:"closePeerConnections",value:function(){return j.default.close(this.mediaProperties.peerConnection)}},{key:"unsetPeerConnections",value:function(){this.mediaProperties.unsetPeerConnection(),this.config.reconnection.detection&&this.webex.internal.mercury.off(ee.ONLINE)}},{key:"setCorrelationId",value:function(e){this.correlationId=e}},{key:"muteAudio",value:function(){var e=this;if(!Y.default.isUserInJoinedState(this.locusInfo))return u.default.reject(new N.UserNotJoinedError);if(!this.mediaId)return u.default.reject(new N.NoMediaEstablishedYetError);if(!this.audio)return u.default.reject(new te.default("no audio control associated to the meeting"));var t="Meeting:index#muteAudio --\x3e";return Ee(this.audio.handleClientRequest(this,!0).then(function(){Y.default.handleAudioLogging(e.mediaProperties.audioTrack),q.default.postEvent({event:F.eventType.MUTED,meeting:e,data:{trigger:F.trigger.USER_INTERACTION,mediaType:F.mediaType.AUDIO}})}).catch(function(t){throw q.default.sendOperationalMetric(ee.METRICS_OPERATIONAL_MEASURES.MUTE_AUDIO_FAILURE,{correlation_id:e.correlationId,locus_id:e.locusUrl.split("/").pop(),reason:t.message,stack:t.stack}),t}),{header:"".concat(t," muting audio"),success:"".concat(t," muted audio successfully"),failure:"".concat(t," muting audio failed, ")})}},{key:"unmuteAudio",value:function(){var e=this;if(!Y.default.isUserInJoinedState(this.locusInfo))return u.default.reject(new N.UserNotJoinedError);if(!this.mediaId)return u.default.reject(new N.NoMediaEstablishedYetError);if(!this.audio)return u.default.reject(new te.default("no audio control associated to the meeting"));var t="Meeting:index#unmuteAudio --\x3e";return Ee(this.audio.handleClientRequest(this,!1).then(function(){Y.default.handleAudioLogging(e.mediaProperties.audioTrack),q.default.postEvent({event:F.eventType.UNMUTED,meeting:e,data:{trigger:F.trigger.USER_INTERACTION,mediaType:F.mediaType.AUDIO}})}).catch(function(t){throw q.default.sendOperationalMetric(ee.METRICS_OPERATIONAL_MEASURES.UNMUTE_AUDIO_FAILURE,{correlation_id:e.correlationId,locus_id:e.locusUrl.split("/").pop(),reason:t.message,stack:t.stack}),t}),{header:"".concat(t," unmuting audio"),success:"".concat(t," unmuted audio successfully"),failure:"".concat(t," unmuting audio failed, ")})}},{key:"muteVideo",value:function(){var e=this;if(!Y.default.isUserInJoinedState(this.locusInfo))return u.default.reject(new N.UserNotJoinedError);if(!this.mediaId)return u.default.reject(new N.NoMediaEstablishedYetError);if(!this.video)return u.default.reject(new te.default("no video control associated to the meeting"));var t="Meeting:index#muteVideo --\x3e";return Ee(this.video.handleClientRequest(this,!0).then(function(){Y.default.handleVideoLogging(e.mediaProperties.videoTrack),q.default.postEvent({event:F.eventType.MUTED,meeting:e,data:{trigger:F.trigger.USER_INTERACTION,mediaType:F.mediaType.VIDEO}})}).catch(function(t){throw q.default.sendOperationalMetric(ee.METRICS_OPERATIONAL_MEASURES.MUTE_VIDEO_FAILURE,{correlation_id:e.correlationId,locus_id:e.locusUrl.split("/").pop(),reason:t.message,stack:t.stack}),t}),{header:"".concat(t," muting video"),success:"".concat(t," muted video successfully"),failure:"".concat(t," muting video failed, ")})}},{key:"unmuteVideo",value:function(){var e=this;if(!Y.default.isUserInJoinedState(this.locusInfo))return u.default.reject(new N.UserNotJoinedError);if(!this.mediaId)return u.default.reject(new N.NoMediaEstablishedYetError);if(!this.video)return u.default.reject(new te.default("no audio control associated to the meeting"));var t="Meeting:index#unmuteVideo --\x3e";return Ee(this.video.handleClientRequest(this,!1).then(function(){Y.default.handleVideoLogging(e.mediaProperties.videoTrack),q.default.postEvent({event:F.eventType.UNMUTED,meeting:e,data:{trigger:F.trigger.USER_INTERACTION,mediaType:F.mediaType.VIDEO}})}).catch(function(t){throw q.default.sendOperationalMetric(ee.METRICS_OPERATIONAL_MEASURES.UNMUTE_VIDEO_FAILURE,{correlation_id:e.correlationId,locus_id:e.locusUrl.split("/").pop(),reason:t.message,stack:t.stack}),t}),{header:"".concat(t," unmuting video"),success:"".concat(t," unmuted video successfully"),failure:"".concat(t," unmuting video failed, ")})}},{key:"joinWithMedia",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=t.mediaSettings,n=t.joinOptions,r=t.audioVideoOptions;return this.join(n).then(function(t){return e.getMediaStreams(i,r).then(function(n){var r=(0,S.default)(n,2),o=r[0],a=r[1];return e.addMedia({mediaSettings:i,localShare:a,localStream:o}).then(function(e){return{join:t,media:e,local:[o,a]}})})}).catch(function(t){return D.default.logger.error("Meeting:index#joinWithMedia --\x3e ",t),q.default.sendOperationalMetric(ee.METRICS_OPERATIONAL_MEASURES.JOIN_WITH_MEDIA_FAILURE,{correlation_id:e.correlationId,locus_id:e.locusUrl.split("/").pop(),reason:t.message,stack:t.stack},{type:t.name}),u.default.reject(t)})}},{key:"reconnect",value:function(e){var t=this;if(D.default.logger.log("Meeting:index#reconnect --\x3e attempting to reconnect meeting ".concat(this.id)),!this.reconnectionManager||!this.reconnectionManager.reconnect)return u.default.reject(new te.default("Cannot reconnect, ReconnectionManager must first be defined."));if(!Y.default.isMediaEstablished(this.currentMediaStatus))return u.default.reject(new te.default("Cannot reconnect, Media has not established to reconnect"));try{D.default.logger.info("Meeting:index#reconnect --\x3e Validating reconnect ability."),this.reconnectionManager.validate()}catch(i){return i instanceof $.default?D.default.logger.info("Meeting:index#reconnect --\x3e Unable to reconnect, reconnection in progress."):D.default.logger.log("Meeting:index#reconnect --\x3e Unable to reconnect.",i),u.default.resolve()}return P.default.trigger(this,{file:"meeting/index",function:"reconnect"},ee.EVENT_TRIGGERS.MEETING_RECONNECTION_STARTING),this.reconnectionManager.reconnect(e).then(function(){P.default.trigger(t,{file:"meeting/index",function:"reconnect"},ee.EVENT_TRIGGERS.MEETING_RECONNECTION_SUCCESS),D.default.logger.log("Meeting:index#reconnect --\x3e Meeting reconnect success")}).catch(function(e){return P.default.trigger(t,{file:"meeting/index",function:"reconnect"},ee.EVENT_TRIGGERS.MEETING_RECONNECTION_FAILURE,{error:new Z.default("Reconnection failure event",e)}),D.default.logger.error("Meeting:index#reconnect --\x3e Meeting reconnect failed",e),q.default.sendOperationalMetric(ee.METRICS_OPERATIONAL_MEASURES.MEETING_RECONNECT_FAILURE,{correlation_id:t.correlationId,locus_id:t.locusUrl.split("/").pop(),reason:e.message,stack:e.stack}),t.uploadLogs({file:"meeting/index",function:"reconnect"}),u.default.reject(new Z.default("Reconnection failure event",e))}).finally(function(){t.reconnectionManager.reset()})}},{key:"isTranscriptionSupported",value:function(){var e;return!(null===(e=this.policy)||void 0===e||!e.WEBEX_ASSISTANT_STATUS_ACTIVE)||(D.default.logger.error("Meeting:index#isTranscriptionSupported --\x3e Webex Assistant is not supported"),!1)}},{key:"monitorTranscriptionSocketConnection",value:function(){var e=this;this.transcription.onCloseSocket(function(t){D.default.logger.info("Meeting:index#onCloseSocket --\x3e\n        unable to continue receiving transcription;\n        low-latency mercury web socket connection is closed now.\n        ".concat(t)),e.triggerStopReceivingTranscriptionEvent()}),this.transcription.onErrorSocket(function(t){D.default.logger.error("Meeting:index#onErrorSocket --\x3e\n         unable to continue receiving transcription;\n         low-latency mercury web socket connection error had occured.\n        ".concat(t)),e.triggerStopReceivingTranscriptionEvent(),q.default.sendOperationalMetric(ee.METRICS_OPERATIONAL_MEASURES.RECEIVE_TRANSCRIPTION_FAILURE,{correlation_id:e.correlationId,reason:"unexpected error: transcription LLM web socket connection error had occured.",event:t})})}},{key:"receiveTranscription",value:function(){var e=(0,g.default)(d.default.mark(function e(){var t,i,n,r=this;return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return D.default.logger.info("Meeting:index#receiveTranscription --\x3e\n      Attempting to generate a web socket url."),e.prev=1,t=this.locusInfo.info.datachannelUrl,e.next=5,this.request({method:ee.HTTP_VERBS.POST,uri:t,body:{deviceUrl:this.deviceUrl}});case 5:i=e.sent,n=i.body.webSocketUrl,D.default.logger.info("Meeting:index#receiveTranscription --\x3e\n        Generated web socket url succesfully."),this.transcription=new X.default(n,this.webex.sessionId,this.members),D.default.logger.info("Meeting:index#receiveTranscription --\x3e\n        opened LLM web socket connection successfully."),this.transcription.subscribe(function(e){P.default.trigger(r,{file:"meeting/index",function:"join"},ee.EVENT_TRIGGERS.MEETING_STARTED_RECEIVING_TRANSCRIPTION,e)}),this.monitorTranscriptionSocketConnection(),this.transcription.connect(this.webex.credentials.supertoken.access_token),e.next=19;break;case 15:e.prev=15,e.t0=e.catch(1),D.default.logger.error("Meeting:index#receiveTranscription --\x3e ".concat(e.t0)),q.default.sendOperationalMetric(ee.METRICS_OPERATIONAL_MEASURES.RECEIVE_TRANSCRIPTION_FAILURE,{correlation_id:this.correlationId,reason:e.t0.message,stack:e.t0.stack});case 19:case"end":return e.stop()}},e,this,[[1,15]])}));return function(){return e.apply(this,arguments)}}()},{key:"stopReceivingTranscription",value:function(){this.transcription&&this.transcription.closeSocket()}},{key:"triggerStopReceivingTranscriptionEvent",value:function(){D.default.logger.info("\n      Meeting:index#stopReceivingTranscription --\x3e\n      closed transcription LLM web socket connection successfully."),P.default.trigger(this,{file:"meeting",function:"triggerStopReceivingTranscriptionEvent"},ee.EVENT_TRIGGERS.MEETING_STOPPED_RECEIVING_TRANSCRIPTION)}},{key:"join",value:function(){var e,t,i=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this.deferJoin)return this.deferJoin;if(this.deferJoin=new u.default(function(i,n){e=n,t=i}),D.default.logger.log("Meeting:index#join --\x3e Generating a new correlation id for meeting ".concat(this.id)),D.default.logger.log("Meeting:index#join --\x3e Previous correlation id ".concat(this.correlationId)),this.setCorrelationId(L.default.v4()),D.default.logger.log("Meeting:index#join --\x3e New correlation id ".concat(this.correlationId)),n.rejoin&&this.meetingFiniteStateMachine.reset(),q.default.postEvent({event:F.eventType.CALL_INITIATED,meeting:this,data:{trigger:F.trigger.USER_INTERACTION}}),q.default.sendOperationalMetric(ee.METRICS_OPERATIONAL_MEASURES.JOIN_ATTEMPT,{correlation_id:this.correlationId}),D.default.logger.log("Meeting:index#join --\x3e Joining a meeting"),this.meetingFiniteStateMachine.state===ee.MEETING_STATE_MACHINE.STATES.ENDED&&this.meetingFiniteStateMachine.reset(),this.meetingFiniteStateMachine.state!==ee.MEETING_STATE_MACHINE.STATES.RINGING&&this.meetingFiniteStateMachine.ring(ee._JOIN_),n.resourceId&&this.destination&&n.resourceId===this.destination&&(this.wirelessShare=!0),n.meetingQuality){if("string"==typeof n.meetingQuality){if(!ee.QUALITY_LEVELS[n.meetingQuality]){var r="Meeting:index#join --\x3e ".concat(n.meetingQuality," not defined"),o=new Error(r);return D.default.logger.error(r),e(o),this.deferJoin=void 0,u.default.reject(o)}this.mediaProperties.setLocalQualityLevel(n.meetingQuality),this.mediaProperties.setRemoteQualityLevel(n.meetingQuality)}if("object"===(0,h.default)(n.meetingQuality)){if(!ee.QUALITY_LEVELS[n.meetingQuality.local]&&!ee.QUALITY_LEVELS[n.meetingQuality.remote]){var a="Meeting:index#join --\x3e ".concat(n.meetingQuality.local||n.meetingQuality.remote," not defined");D.default.logger.error(a);var s=new Error(a);return e(s),this.deferJoin=void 0,u.default.reject(new Error(a))}n.meetingQuality.local&&this.mediaProperties.setLocalQualityLevel(n.meetingQuality.local),n.meetingQuality.remote&&this.mediaProperties.setRemoteQualityLevel(n.meetingQuality.remote)}}return Y.default.joinMeetingOptions(this,n).then(function(e){return i.meetingFiniteStateMachine.join(),D.default.logger.log("Meeting:index#join --\x3e Success"),e}).then(function(e){return t(e),i.deferJoin=void 0,e}).then(function(){var e=(0,g.default)(d.default.mark(function e(t){return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!fe){e.next=8;break}if(!i.config.receiveTranscription&&!n.receiveTranscription){e.next=6;break}if(!i.isTranscriptionSupported()){e.next=6;break}return e.next=5,i.receiveTranscription();case 5:D.default.logger.info("Meeting:index#join --\x3e enabled to recieve transcription!");case 6:e.next=9;break;case 8:D.default.logger.error("Meeting:index#join --\x3e Receving transcription is not supported on this platform");case 9:return e.abrupt("return",t);case 10:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()).catch(function(t){var n;return i.meetingFiniteStateMachine.fail(t),D.default.logger.error("Meeting:index#join --\x3e Failed",t),q.default.sendOperationalMetric(ee.METRICS_OPERATIONAL_MEASURES.JOIN_FAILURE,{correlation_id:i.correlationId,reason:null===(n=t.error)||void 0===n?void 0:n.message,stack:t.stack}),P.default.trigger(i,{file:"meeting/index",function:"join"},ee.EVENTS.REQUEST_UPLOAD_LOGS,i),e(t),i.deferJoin=void 0,u.default.reject(t)})}},{key:"usePhoneAudio",value:function(e){return e?this.dialOutPstn(e):this.dialInPstn()}},{key:"isPhoneProvisioned",value:function(e){return[ee.PSTN_STATUS.JOINED,ee.PSTN_STATUS.CONNECTED,ee.PSTN_STATUS.SUCCESS].includes(e)}},{key:"dialInPstn",value:function(){var e=this;if(this.isPhoneProvisioned(this.dialInDeviceStatus))return u.default.resolve();var t=this.correlationId,i=this.locusUrl;return this.dialInUrl||(this.dialInUrl="dialin:///".concat(L.default.v4())),this.meetingRequest.dialIn({correlationId:t,dialInUrl:this.dialInUrl,locusUrl:i,clientUrl:this.deviceUrl}).then(function(t){e.locusInfo.onFullLocus(t.body.locus)}).catch(function(t){var n;return q.default.sendOperationalMetric(ee.METRICS_OPERATIONAL_MEASURES.ADD_DIAL_IN_FAILURE,{correlation_id:e.correlationId,dial_in_url:e.dialInUrl,locus_id:i.split("/").pop(),client_url:e.deviceUrl,reason:null===(n=t.error)||void 0===n?void 0:n.message,stack:t.stack}),u.default.reject(t)})}},{key:"dialOutPstn",value:function(e){var t=this;if(this.isPhoneProvisioned(this.dialOutDeviceStatus))return u.default.resolve();var i=this.correlationId,n=this.locusUrl;return this.dialOutUrl||(this.dialOutUrl="dialout:///".concat(L.default.v4())),this.meetingRequest.dialOut({correlationId:i,dialOutUrl:this.dialOutUrl,phoneNumber:e,locusUrl:n,clientUrl:this.deviceUrl}).then(function(e){t.locusInfo.onFullLocus(e.body.locus)}).catch(function(e){var i;return q.default.sendOperationalMetric(ee.METRICS_OPERATIONAL_MEASURES.ADD_DIAL_OUT_FAILURE,{correlation_id:t.correlationId,dial_out_url:t.dialOutUrl,locus_id:n.split("/").pop(),client_url:t.deviceUrl,reason:null===(i=e.error)||void 0===i?void 0:i.message,stack:e.stack}),u.default.reject(e)})}},{key:"disconnectPhoneAudio",value:function(){return u.default.all([this.isPhoneProvisioned(this.dialInDeviceStatus)?Y.default.disconnectPhoneAudio(this,this.dialInUrl):u.default.resolve(),this.isPhoneProvisioned(this.dialOutDeviceStatus)?Y.default.disconnectPhoneAudio(this,this.dialOutUrl):u.default.resolve()])}},{key:"moveTo",value:function(e){var t=this;if(!e)throw new te.default("Cannot move call without a resourceId.");return q.default.postEvent({event:F.eventType.MEDIA_CAPABILITIES,meeting:this,data:{mediaCapabilities:{rx:{audio:!1,share:!1,share_audio:!1,video:!1,whiteboard:!1},tx:{audio:!1,share:!1,share_audio:!1,video:!1,whiteboard:!1}}}}),q.default.postEvent({event:F.eventType.MOVE_MEDIA,meeting:this}),Y.default.joinMeetingOptions(this,{resourceId:e,moveToResource:!0}).then(function(){return t.meetingFiniteStateMachine.join(),t.updateMedia({mediaSettings:{sendVideo:!1,receiveVideo:!1,sendAudio:!1,receiveAudio:!1,sendShare:!1,receiveShare:!1}}).then(function(){return u.default.resolve(t)})}).catch(function(e){return t.meetingFiniteStateMachine.fail(e),u.default.reject(e)})}},{key:"moveFrom",value:function(e){var t=this;if(!e)throw new te.default("Cannot move call without a resourceId.");var i=this.correlationId;return this.id=L.default.v4(),this.webex.meetings.meetingCollection.set(this),q.default.postEvent({event:F.eventType.MEDIA_CAPABILITIES,meeting:this,data:{mediaCapabilities:{rx:{audio:!0,share:!0,share_audio:!0,video:!0,whiteboard:!0},tx:{audio:!0,share:!0,share_audio:!0,video:!0,whiteboard:!0}}}}),q.default.postEvent({event:F.eventType.MOVE_MEDIA,meeting:this}),Y.default.joinMeetingOptions(this).then(function(n){return t.getMediaStreams({sendAudio:!0,sendVideo:!0,sendShare:!1}).then(function(e){var i=(0,S.default)(e,2),r=i[0],o=i[1];return t.updateMedia({mediaSettings:{sendAudio:!0,receiveAudio:!0,sendVideo:!0,receiveVideo:!0,sendShare:!1,receiveShare:!1},localStream:r,localShare:o}).then(function(){return u.default.resolve(n)})}).then(function(){return Y.default.leaveMeeting(t,{resourceId:e,correlationId:i,moveMeeting:!0})})}).then(function(){return t.webex.meetings.meetingCollection.delete(t.id),u.default.resolve()})}},{key:"addMedia",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i="Meeting:index#addMedia --\x3e";if(this.meetingState!==ee.FULL_STATE.ACTIVE)return u.default.reject(new N.MeetingNotActiveError);if(Y.default.isUserInLeftState(this.locusInfo))return u.default.reject(new N.UserNotJoinedError);if(this.guest&&Y.default.isUserInIdleState(this.locusInfo)&&!this.wirelessShare)return u.default.reject(new N.UserInLobbyError);var n=t.localStream,r=t.localShare,o=t.mediaSettings;return D.default.logger.info("".concat(i," Adding Media.")),q.default.postEvent({event:F.eventType.MEDIA_CAPABILITIES,meeting:this,data:{mediaCapabilities:{rx:{audio:!1,share:!1,share_audio:!1,video:!1,whiteboard:!1},tx:{audio:!1,share:!1,share_audio:!1,video:!1,whiteboard:!1}}}}),Y.default.validateOptions(t).then(function(){return e.mediaProperties.setMediaPeerConnection(B.default.createPeerConnection()),e.setMercuryListener(),j.default.setPeerConnectionEvents(e),e.preMedia(n,r,o)}).then(function(){return x.default.attachMedia(e.mediaProperties,{meetingId:e.id,remoteQualityLevel:e.mediaProperties.remoteQualityLevel,enableRtx:e.config.enableRtx,enableExtmap:e.config.enableExtmap}).then(function(t){return e.getDevices().then(function(e){return Y.default.handleDeviceLogging(e),t})}).then(function(t){e.handleMediaLogging(e.mediaProperties),D.default.logger.info("".concat(i," PeerConnection Received from attachMedia ")),e.setRemoteStream(t),Y.default.startInternalStats(e),e.config.metrics.autoSendMQA&&e.startMediaQualityMetrics(),e.config.stats.enableStatsAnalyzer&&(e.networkQualityMonitor=new k.default(e.config.stats),e.statsAnalyzer=new O.default(e.config.stats,e.networkQualityMonitor),e.statsAnalyzer.on(ee.EVENT_TRIGGERS.MEDIA_QUALITY,function(t){var i;t.data.intervalMetadata.peerReflexiveIP=(null===(i=e.webex.meetings.geoHintInfo)||void 0===i?void 0:i.clientAddress)||t.data.intervalMetadata.peerReflexiveIP||ee.MQA_STATS.DEFAULT_IP,q.default.postEvent({event:F.eventType.MEDIA_QUALITY,meeting:e,data:{intervalData:t.data,networkType:t.networkType}})}),e.networkQualityMonitor.on(ee.EVENT_TRIGGERS.NETWORK_QUALITY,e.sendNetworkQualityEvent.bind(e)))}).catch(function(t){throw D.default.logger.error("".concat(i," Error adding media , setting up peerconnection, "),t),q.default.sendOperationalMetric(ee.METRICS_OPERATIONAL_MEASURES.ADD_MEDIA_FAILURE,{correlation_id:e.correlationId,locus_id:e.locusUrl.split("/").pop(),reason:t.message,stack:t.stack}),t}).then(function(){return new u.default(function(t,i){var n=0;e.type===ee._CALL_&&t();var r=setInterval(function(){n+=1,e.meetingState===ee.FULL_STATE.ACTIVE&&(clearInterval(r),t()),4===n&&(clearInterval(r),i(new Error("Meeting is still not active ")))},1e3)})}).then(function(){return Ee(e.roap.sendRoapMediaRequest({sdp:e.mediaProperties.peerConnection.sdp,roapSeq:e.roapSeq,meeting:e}),{header:"".concat(i," Send Roap Media Request."),success:"".concat(i," Successfully send roap media request"),failure:"".concat(i," Error joining the call on send roap media request, ")})}).then(function(){var t=e.mediaProperties.peerConnection;return new u.default(function(n,r){if(t.connectionState===ee.CONNECTION_STATE.CONNECTED)return D.default.logger.info("".concat(i," PeerConnection CONNECTED")),void n(t);var o=setTimeout(function(){t.connectionState!==ee.CONNECTION_STATE.CONNECTED?r((0,N.createMeetingsError)(30202,"Meeting connection failed")):(D.default.logger.info("".concat(i," PeerConnection CONNECTED")),n(t))},ee.PC_BAIL_TIMEOUT);e.once(ee.EVENT_TRIGGERS.MEDIA_READY,function(){D.default.logger.info("".concat(i," PeerConnection CONNECTED, clearing stability timer.")),clearTimeout(o),n(t)})})}).then(function(){if(o&&o.sendShare&&r){if(e.state===ee.MEETING_STATE.STATES.JOINED)return e.share();e.floorGrantPending=!0}return u.default.resolve()})}).catch(function(t){throw e.statsAnalyzer&&(e.statsAnalyzer.stopAnalyzer(),e.statsAnalyzer=null),e.mediaProperties.peerConnection&&(e.closePeerConnections(),e.unsetPeerConnections()),D.default.logger.error("".concat(i," Error adding media failed to initiate PC and send request, "),t),q.default.sendOperationalMetric(ee.METRICS_OPERATIONAL_MEASURES.ADD_MEDIA_FAILURE,{correlation_id:e.correlationId,locus_id:e.locusUrl.split("/").pop(),reason:t.message,stack:t.stack,code:t.code}),P.default.trigger(e,{file:"meeting/index",function:"addMedia"},ee.EVENTS.REQUEST_UPLOAD_LOGS,e),t.code===N.InvalidSdpError.CODE&&e.leave({reason:ee.MEETING_REMOVED_REASON.MEETING_CONNECTION_FAILED}),t})}},{key:"canUpdateMedia",value:function(){return this.mediaProperties.peerConnection.signalingState===ee.SDP.STABLE&&!oe.default.isBusy(this.correlationId)}},{key:"enqueueMediaUpdate",value:function(e,t){var i=this;return new u.default(function(n,r){var o={pendingPromiseResolve:n,pendingPromiseReject:r,mediaUpdateType:e,options:t};D.default.logger.log("Meeting:index#enqueueMediaUpdate --\x3e enqueuing media update type=".concat(e)),i.queuedMediaUpdates.push(o)})}},{key:"updateMedia",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i="Meeting:index#updateMedia --\x3e";if(!this.canUpdateMedia())return this.enqueueMediaUpdate(he.ALL,t);var n=t.localStream,r=t.localShare,o=t.mediaSettings,a=this.mediaProperties.mediaDirection.sendShare;return Y.default.validateOptions(t).then(function(){return e.preMedia(n,r,o)}).then(function(){return x.default.updateMedia(e.mediaProperties,{meetingId:e.id,remoteQualityLevel:e.mediaProperties.remoteQualityLevel,enableRtx:e.config.enableRtx,enableExtmap:e.config.enableExtmap}).then(function(t){D.default.logger.info("".concat(i," PeerConnection received from updateMedia, ").concat(t)),e.setRemoteStream(t),(o.receiveShare||r)&&j.default.setContentSlides(t)}).catch(function(t){throw D.default.logger.error("".concat(i," Error updatedMedia, "),t),q.default.sendOperationalMetric(ee.METRICS_OPERATIONAL_MEASURES.UPDATE_MEDIA_FAILURE,{correlation_id:e.correlationId,locus_id:e.locusUrl.split("/").pop(),reason:t.message,stack:t.stack}),t}).then(function(){return Ee(e.roap.sendRoapMediaRequest({sdp:e.mediaProperties.peerConnection.sdp,roapSeq:e.roapSeq,meeting:e}),{header:"".concat(i," sendRoapMediaRequest being sent"),success:"".concat(i," sendRoadMediaRequest successful"),failure:"".concat(i," Error updateMedia on send roap media request, ")})}).then(function(){return e.checkForStopShare(o.sendShare,a)}).then(function(t){return t?e.share():u.default.resolve()})})}},{key:"updateAudio",value:function(e){var t=this;if(!this.canUpdateMedia())return this.enqueueMediaUpdate(he.AUDIO,e);var i=e.sendAudio,n=e.receiveAudio,r=e.stream,o=this.mediaProperties.peerConnection.audioTransceiver,a=Y.default.getTrack(r).audioTrack;return"boolean"!=typeof i||"boolean"!=typeof n?u.default.reject(new te.default("Pass sendAudio and receiveAudio parameter")):Y.default.validateOptions({sendAudio:i,localStream:r}).then(function(){var i={};return t.mediaProperties.mediaDirection?i={sendTrack:t.mediaProperties.mediaDirection.sendAudio,receiveTrack:t.mediaProperties.mediaDirection.receiveAudio}:t.mediaProperties.mediaDirection={},Y.default.updateTransceiver({type:"audio",sendTrack:e.sendAudio,receiveTrack:e.receiveAudio,track:a,transceiver:o,peerConnection:t.mediaProperties.peerConnection,previousMediaDirection:i},{mediaProperties:t.mediaProperties,meeting:t,id:t.id})}).then(function(){t.setLocalAudioTrack(a),t.mediaProperties.mediaDirection.sendAudio=i,t.mediaProperties.mediaDirection.receiveAudio=n,t.audio=t.audio||(0,G.default)(ee.AUDIO,t,t.mediaProperties.mediaDirection)})}},{key:"updateVideo",value:function(e){var t=this;if(!this.canUpdateMedia())return this.enqueueMediaUpdate(he.VIDEO,e);var i=e.sendVideo,n=e.receiveVideo,r=e.stream,o=this.mediaProperties.peerConnection.videoTransceiver,a=Y.default.getTrack(r).videoTrack;return"boolean"!=typeof i||"boolean"!=typeof n?u.default.reject(new te.default("Pass sendVideo and receiveVideo parameter")):Y.default.validateOptions({sendVideo:i,localStream:r}).then(function(){return Y.default.updateTransceiver({type:"video",sendTrack:e.sendVideo,receiveTrack:e.receiveVideo,track:a,transceiver:o,peerConnection:t.mediaProperties.peerConnection,previousMediaDirection:{sendTrack:t.mediaProperties.mediaDirection.sendVideo,receiveTrack:t.mediaProperties.mediaDirection.receiveVideo}},{mediaProperties:t.mediaProperties,meeting:t,id:t.id})}).then(function(){t.setLocalVideoTrack(a),t.mediaProperties.mediaDirection.sendVideo=i,t.mediaProperties.mediaDirection.receiveVideo=n,t.video=t.video||(0,G.default)(ee.VIDEO,t,t.mediaProperties.mediaDirection)})}},{key:"checkForStopShare",value:function(e,t){return e&&!t?u.default.resolve(!0):!e&&t?this.stopFloorRequest().then(function(){return u.default.resolve(!1)}):u.default.resolve()}},{key:"updateShare",value:function(e){var t=this;if(!e.skipSignalingCheck&&!this.canUpdateMedia())return this.enqueueMediaUpdate(he.SHARE,e);var i=e.sendShare,n=e.receiveShare,r=e.stream,o=this.mediaProperties.peerConnection.shareTransceiver,a=Y.default.getTrack(r).videoTrack;if("boolean"!=typeof i||"boolean"!=typeof n)return u.default.reject(new te.default("Pass sendShare and receiveShare parameter"));var s=this.mediaProperties.mediaDirection.sendShare;return this.setLocalShareTrack(r),Y.default.validateOptions({sendShare:i,localShare:r}).then(function(){return t.checkForStopShare(i,s)}).then(function(e){return Y.default.updateTransceiver({type:"video",sendTrack:i,receiveTrack:n,track:a,transceiver:o,peerConnection:t.mediaProperties.peerConnection,previousMediaDirection:{sendTrack:t.mediaProperties.mediaDirection.sendShare,receiveTrack:t.mediaProperties.mediaDirection.receiveShare}},{mediaProperties:t.mediaProperties,meeting:t,id:t.id}).then(function(){return e?t.share():u.default.resolve()})}).then(function(){t.mediaProperties.mediaDirection.sendShare=i,t.mediaProperties.mediaDirection.receiveShare=n}).catch(function(e){throw t.unsetLocalShareTrack(r),e}).finally(function(){t.mediaProperties.peerConnection.shareTransceiver.direction===ee.SENDRECV&&!t.isLocalShareLive&&setTimeout(function(){return t.handleShareTrackEnded(r)},1e3)})}},{key:"preMedia",value:function(e,t,i){this.mediaProperties.setMediaDirection((0,E.default)(this.config.mediaSettings,i)),this.audio=this.audio||(0,G.default)(ee.AUDIO,this,this.mediaProperties.mediaDirection),this.video=this.video||(0,G.default)(ee.VIDEO,this,this.mediaProperties.mediaDirection),this.setLocalTracks(e),this.setLocalShareTrack(t)}},{key:"acknowledge",value:function(e){var t=this;return e?e===ee._INCOMING_?this.meetingRequest.acknowledgeMeeting({locusUrl:this.locusUrl,deviceUrl:this.deviceUrl,correlationId:this.correlationId}).then(function(e){return u.default.resolve(e)}).then(function(i){return t.meetingFiniteStateMachine.ring(e),q.default.postEvent({event:F.eventType.ALERT_DISPLAYED,meeting:t}),u.default.resolve({response:i})}):u.default.resolve({message:"noop"}):u.default.reject(new te.default("Type must be set to acknowledge the meeting."))}},{key:"decline",value:function(e){var t=this;return Y.default.declineMeeting(this,e).then(function(e){return t.meetingFiniteStateMachine.decline(),u.default.resolve(e)}).catch(function(e){return t.meetingFiniteStateMachine.fail(e),u.default.reject(e)})}},{key:"leave",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};q.default.postEvent({event:F.eventType.LEAVE,meeting:this,data:{trigger:F.trigger.USER_INTERACTION,canProceed:!1}});var i=t.reason||ee.MEETING_REMOVED_REASON.CLIENT_LEAVE_REQUEST;return D.default.logger.log("Meeting:index#leave --\x3e Leaving a meeting"),Y.default.leaveMeeting(this,t).then(function(n){return e.meetingFiniteStateMachine.leave(),e.audio=null,e.video=null,e.isSharing=!1,e.shareStatus===ee.SHARE_STATUS.LOCAL_SHARE_ACTIVE&&(e.shareStatus=ee.SHARE_STATUS.NO_SHARE),e.queuedMediaUpdates=[],e.transcription&&(e.transcription.closeSocket(),e.triggerStopReceivingTranscriptionEvent(),e.transcription=void 0),P.default.trigger(e,{file:"meeting/index",function:"leave"},ee.EVENTS.REQUEST_UPLOAD_LOGS,e),(e.wirelessShare||e.guest)&&P.default.trigger(e,{file:"meeting/index",function:"leave"},ee.EVENTS.DESTROY_MEETING,{reason:t.reason,meetingId:e.id}),D.default.logger.log("Meeting:index#leave --\x3e LEAVE REASON ",i),n}).catch(function(t){return e.meetingFiniteStateMachine.fail(t),D.default.logger.error("Meeting:index#leave --\x3e Failed to leave ",t),P.default.trigger(e,{file:"meeting/index",function:"leave"},ee.EVENTS.REQUEST_UPLOAD_LOGS,e),q.default.sendOperationalMetric(ee.METRICS_OPERATIONAL_MEASURES.MEETING_LEAVE_FAILURE,{correlation_id:e.correlationId,locus_id:e.locusUrl.split("/").pop(),reason:t.message,stack:t.stack,code:t.code}),u.default.reject(t)})}},{key:"startWhiteboardShare",value:function(e,t){var i=this,n=this.locusInfo.mediaShares.find(function(e){return"whiteboard"===e.name});if(!e)return u.default.reject(new te.default("Cannot share without channelUrl."));if(n){q.default.postEvent({event:F.eventType.WHITEBOARD_SHARE_INITIATED,meeting:this});var r={disposition:ee.FLOOR_ACTION.GRANTED,personUrl:this.locusInfo.self.url,deviceUrl:this.deviceUrl,uri:n.url,resourceUrl:e};return t&&(r.resourceToken=t),this.meetingRequest.changeMeetingFloor(r).then(function(){return i.isSharing=!1,u.default.resolve()}).catch(function(t){return D.default.logger.error("Meeting:index#startWhiteboardShare --\x3e Error ",t),q.default.sendOperationalMetric(ee.METRICS_OPERATIONAL_MEASURES.MEETING_START_WHITEBOARD_SHARE_FAILURE,{correlation_id:i.correlationId,locus_id:i.locusUrl.split("/").pop(),reason:t.message,stack:t.stack,board:{channelUrl:e}}),u.default.reject(t)})}return u.default.reject(new te.default("Cannot share without whiteboard."))}},{key:"stopWhiteboardShare",value:function(e){var t=this,i=this.locusInfo.mediaShares.find(function(e){return"whiteboard"===e.name});return i?(q.default.postEvent({event:F.eventType.WHITEBOARD_SHARE_STOPPED,meeting:this}),this.meetingRequest.changeMeetingFloor({disposition:ee.FLOOR_ACTION.RELEASED,personUrl:this.locusInfo.self.url,deviceUrl:this.deviceUrl,uri:i.url}).catch(function(i){return D.default.logger.error("Meeting:index#stopWhiteboardShare --\x3e Error ",i),q.default.sendOperationalMetric(ee.METRICS_OPERATIONAL_MEASURES.STOP_WHITEBOARD_SHARE_FAILURE,{correlation_id:t.correlationId,locus_id:t.locusUrl.split("/").pop(),reason:i.message,stack:i.stack,board:{channelUrl:e}}),u.default.reject(i)}).finally(function(){})):u.default.reject(new te.default("Cannot stop share without whiteboard."))}},{key:"share",value:function(){var e=this,t=this.locusInfo.mediaShares.find(function(e){return e.name===ee.CONTENT});return t&&this.shareStatus!==ee.SHARE_STATUS.LOCAL_SHARE_ACTIVE?(q.default.postEvent({event:F.eventType.SHARE_INITIATED,meeting:this}),this.meetingRequest.changeMeetingFloor({disposition:ee.FLOOR_ACTION.GRANTED,personUrl:this.locusInfo.self.url,deviceUrl:this.deviceUrl,uri:t.url,resourceUrl:this.resourceUrl}).then(function(){return e.isSharing=!0,u.default.resolve()}).catch(function(t){return D.default.logger.error("Meeting:index#share --\x3e Error ",t),q.default.sendOperationalMetric(ee.METRICS_OPERATIONAL_MEASURES.MEETING_SHARE_FAILURE,{correlation_id:e.correlationId,locus_id:e.locusUrl.split("/").pop(),reason:t.message,stack:t.stack}),u.default.reject(t)})):u.default.reject(new te.default("Cannot share without content."))}},{key:"stopShare",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.updateShare(de({sendShare:!1,receiveShare:this.mediaProperties.mediaDirection.receiveShare},e))}},{key:"stopFloorRequest",value:function(){var e=this,t=this.locusInfo.mediaShares.find(function(e){return e.name===ee.CONTENT});return t&&this.mediaProperties.mediaDirection.sendShare?(q.default.postEvent({event:F.eventType.SHARE_STOPPED,meeting:this}),x.default.stopTracks(this.mediaProperties.shareTrack),t.floor.beneficiary.id!==this.selfId?(this.isSharing=!1,u.default.resolve()):this.meetingRequest.changeMeetingFloor({disposition:ee.FLOOR_ACTION.RELEASED,personUrl:this.locusInfo.self.url,deviceUrl:this.deviceUrl,uri:t.url,resourceUrl:this.resourceUrl}).catch(function(t){return D.default.logger.error("Meeting:index#stopFloorRequest --\x3e Error ",t),q.default.sendOperationalMetric(ee.METRICS_OPERATIONAL_MEASURES.STOP_FLOOR_REQUEST_FAILURE,{correlation_id:e.correlationId,locus_id:e.locusUrl.split("/").pop(),reason:t.message,stack:t.stack}),u.default.reject(t)}).finally(function(){e.isSharing=!1})):u.default.reject(new te.default("Cannot stop share without content"))}},{key:"startRecording",value:function(){return Y.default.startRecording(this.meetingRequest,this.locusUrl,this.locusInfo)}},{key:"stopRecording",value:function(){return Y.default.stopRecording(this.meetingRequest,this.locusUrl,this.locusInfo)}},{key:"pauseRecording",value:function(){return Y.default.pauseRecording(this.meetingRequest,this.locusUrl,this.locusInfo)}},{key:"resumeRecording",value:function(){return Y.default.resumeRecording(this.meetingRequest,this.locusUrl,this.locusInfo)}},{key:"lockMeeting",value:function(){return Y.default.lockMeeting(this.inMeetingActions,this.meetingRequest,this.locusUrl)}},{key:"unlockMeeting",value:function(){return Y.default.unlockMeeting(this.inMeetingActions,this.meetingRequest,this.locusUrl)}},{key:"rejectWithErrorLog",value:function(e){return D.default.logger.error(e),u.default.reject(new Error(e))}},{key:"sendDTMF",value:function(e){return this.locusInfo&&this.locusInfo.self?this.locusInfo.self.enableDTMF?this.meetingRequest.sendDTMF({locusUrl:this.locusInfo.self.url,deviceUrl:this.deviceUrl,tones:e}):this.rejectWithErrorLog("Meeting:index#sendDTMF --\x3e cannot send DTMF, meeting does not have DTMF enabled"):this.rejectWithErrorLog('Meeting:index#sendDTMF --\x3e cannot send DTMF, meeting does not have a connection to the "locus" call control service. Have you joined?')}},{key:"changeVideoLayout",value:function(e){var t=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=i.main,r=i.content,o=this.mediaProperties,a=o.mediaDirection,s=o.remoteShare,d=o.remoteVideoTrack,l=(0,y.default)(this.lastVideoLayoutInfo);if(!0!==a.receiveVideo||!d)return this.rejectWithErrorLog("Meeting:index#changeVideoLayout --\x3e cannot change video layout, you are not recieving any video/share stream");if(!ee.LAYOUT_TYPES.includes(e))return this.rejectWithErrorLog("Meeting:index#changeVideoLayout --\x3e cannot change video layout, invalid layoutType recieved.");if(l.layoutType=e,n){var c=Math.round(n.width),f=Math.round(n.height);(!this.lastVideoLayoutInfo.main||Math.abs(this.lastVideoLayoutInfo.main.height-f)>2||Math.abs(this.lastVideoLayoutInfo.main.width-c)>2)&&(l.main={width:c,height:f})}if(r){if(!this.mediaProperties.mediaDirection.receiveShare||!s)return this.rejectWithErrorLog("Meeting:index#changeVideoLayout --\x3e unable to send renderInfo for content, you are not receiving remote share");var E=Math.round(r.width),h=Math.round(r.height);(!this.lastVideoLayoutInfo.content||Math.abs(this.lastVideoLayoutInfo.content.height-h)>2||Math.abs(this.lastVideoLayoutInfo.content.width-E)>2)&&(l.content={width:E,height:h})}return(0,M.default)(l,this.lastVideoLayoutInfo)?u.default.resolve():(this.lastVideoLayoutInfo=(0,y.default)(l),this.meetingRequest.changeVideoLayoutDebounced({locusUrl:this.locusInfo.self.url,deviceUrl:this.deviceUrl,layoutType:e,main:l.main,content:l.content}).then(function(e){e&&e.body&&e.body.locus&&t.locusInfo.onFullLocus(e.body.locus)}).catch(function(e){return D.default.logger.error("Meeting:index#changeVideoLayout --\x3e Error ",e),u.default.reject(e)}))}},{key:"setLocalVideoQuality",value:function(e){var t=this;if(D.default.logger.log("Meeting:index#setLocalVideoQuality --\x3e Setting quality to ".concat(e)),!ee.VIDEO_RESOLUTIONS[e])return this.rejectWithErrorLog("Meeting:index#setLocalVideoQuality --\x3e ".concat(e," not defined"));if(!this.mediaProperties.mediaDirection.sendVideo)return this.rejectWithErrorLog("Meeting:index#setLocalVideoQuality --\x3e unable to change video quality, sendVideo is disabled");if(e===this.mediaProperties.localQualityLevel)return D.default.logger.warn("Meeting:index#setLocalQualityLevel --\x3e Quality already set to ".concat(e)),u.default.resolve();this.mediaProperties.setLocalQualityLevel(e);var i={sendAudio:this.mediaProperties.mediaDirection.sendAudio,sendVideo:this.mediaProperties.mediaDirection.sendVideo,sendShare:this.mediaProperties.mediaDirection.sendShare};return this.getMediaStreams(i,ee.VIDEO_RESOLUTIONS[e]).then(function(e){var i=(0,S.default)(e,1)[0];return t.updateVideo({sendVideo:!0,receiveVideo:!0,stream:i})})}},{key:"setRemoteQualityLevel",value:function(e){return D.default.logger.log("Meeting:index#setRemoteQualityLevel --\x3e Setting quality to ".concat(e)),ee.QUALITY_LEVELS[e]?this.mediaProperties.mediaDirection.receiveAudio||this.mediaProperties.mediaDirection.receiveVideo?e===this.mediaProperties.remoteQualityLevel?(D.default.logger.warn("Meeting:index#setRemoteQualityLevel --\x3e Quality already set to ".concat(e)),u.default.resolve()):(this.mediaProperties.setRemoteQualityLevel(e),this.updateMedia({mediaSettings:this.mediaProperties.mediaDirection})):this.rejectWithErrorLog("Meeting:index#setRemoteQualityLevel --\x3e unable to change remote quality, receiveVideo and receiveAudio is disabled"):this.rejectWithErrorLog("Meeting:index#setRemoteQualityLevel --\x3e ".concat(e," not defined"))}},{key:"setMeetingQuality",value:function(e){var t=this;if(D.default.logger.log("Meeting:index#setMeetingQuality --\x3e Setting quality to ".concat(e)),!ee.QUALITY_LEVELS[e])return this.rejectWithErrorLog("Meeting:index#setMeetingQuality --\x3e ".concat(e," not defined"));var i={local:this.mediaProperties.localQualityLevel,remote:this.mediaProperties.remoteQualityLevel};if(e===this.mediaProperties.localQualityLevel&&e===this.mediaProperties.remoteQualityLevel)return D.default.logger.warn("Meeting:index#setMeetingQuality --\x3e Quality already set to ".concat(e)),u.default.resolve();var n=this.mediaProperties.mediaDirection,r=n.receiveAudio,o=n.receiveVideo;return(n.sendVideo?this.setLocalVideoQuality(e):u.default.resolve()).then(function(){return r||o?t.setRemoteQualityLevel(e):u.default.resolve()}).catch(function(e){return t.mediaProperties.setLocalQualityLevel(i.local),t.mediaProperties.setRemoteQualityLevel(i.remote),D.default.logger.error("Meeting:index#setMeetingQuality --\x3e ".concat(e.message)),q.default.sendOperationalMetric(ee.METRICS_OPERATIONAL_MEASURES.SET_MEETING_QUALITY_FAILURE,{correlation_id:t.correlationId,locus_id:t.locusUrl.split("/").pop(),reason:e.message,stack:e.stack},{type:e.name}),u.default.reject(e)})}},{key:"shareScreen",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};D.default.logger.log("Meeting:index#shareScreen --\x3e Getting local share");var i=de({sendShare:!0,sendAudio:!1},t);return x.default.getDisplayMedia(i,this.config).then(function(t){return e.updateShare({sendShare:!0,receiveShare:e.mediaProperties.mediaDirection.receiveShare,stream:t})}).catch(function(t){var i=ee.METRICS_OPERATIONAL_MEASURES.GET_DISPLAY_MEDIA_FAILURE,n={correlation_id:e.correlationId,locus_id:e.locusUrl.split("/").pop(),reason:t.message,stack:t.stack},r={type:t.name};throw q.default.sendOperationalMetric(i,n,r),new ie.default("Unable to retrieve display media stream",t)})}},{key:"handleShareTrackEnded",value:function(e){this.wirelessShare?this.leave({reason:ee.MEETING_REMOVED_REASON.USER_ENDED_SHARE_STREAMS}):this.stopShare({skipSignalingCheck:!0}).catch(function(e){D.default.logger.log("Meeting:index#handleShareTrackEnded --\x3e Error stopping share: ",e)}),P.default.trigger(this,{file:"meeting/index",function:"handleShareTrackEnded"},ee.EVENT_TRIGGERS.MEETING_STOPPED_SHARING_LOCAL,{type:ee.EVENT_TYPES.LOCAL_SHARE,stream:e})}},{key:"sendNetworkQualityEvent",value:function(e){P.default.trigger(this,{file:"meeting/index",function:"addMedia"},ee.EVENT_TRIGGERS.NETWORK_QUALITY,{networkQualityScore:e.networkQualityScore,mediaType:e.mediaType})}},{key:"handleMediaLogging",value:function(e){var t=e.audioTrack,i=e.videoTrack;Y.default.handleVideoLogging(i),Y.default.handleAudioLogging(t)}},{key:"setStartSetupDelay",value:function(e){this["startSetupDelay".concat(e)]=performance.now(),this["endSetupDelay".concat(e)]=void 0}},{key:"setEndSetupDelay",value:function(e){this["endSetupDelay".concat(e)]=performance.now()}},{key:"getSetupDelayDuration",value:function(e){var t=this["startSetupDelay".concat(e)],i=this["endSetupDelay".concat(e)];return t&&i?i-t:void 0}},{key:"setStartSendingMediaDelay",value:function(e){this["startSendingMediaDelay".concat(e)]=performance.now(),this["endSendingMediaDelay".concat(e)]=void 0}},{key:"setEndSendingMediaDelay",value:function(e){this["endSendingMediaDelay".concat(e)]=performance.now()}},{key:"getSendingMediaDelayDuration",value:function(e){var t=this["startSendingMediaDelay".concat(e)],i=this["endSendingMediaDelay".concat(e)];return t&&i?i-t:void 0}}]),i}(U.StatelessWebexPlugin);exports.default=ge;
},{"@babel/runtime-corejs2/core-js/reflect/construct":"vZQy","@babel/runtime-corejs2/core-js/object/keys":"d81a","@babel/runtime-corejs2/core-js/object/get-own-property-symbols":"DovH","@babel/runtime-corejs2/core-js/object/get-own-property-descriptor":"mQ9c","@babel/runtime-corejs2/core-js/object/get-own-property-descriptors":"Hv1v","@babel/runtime-corejs2/core-js/object/define-properties":"CpmN","@babel/runtime-corejs2/core-js/object/define-property":"eIqn","@babel/runtime-corejs2/helpers/interopRequireDefault":"LXwi","@babel/runtime-corejs2/regenerator":"i9LV","@babel/runtime-corejs2/core-js/promise":"eOfj","@babel/runtime-corejs2/core-js/json/stringify":"E09K","@babel/runtime-corejs2/core-js/object/assign":"h2Mz","@babel/runtime-corejs2/helpers/typeof":"hVHy","@babel/runtime-corejs2/helpers/asyncToGenerator":"OYLD","@babel/runtime-corejs2/helpers/slicedToArray":"vwJD","@babel/runtime-corejs2/helpers/classCallCheck":"Tzth","@babel/runtime-corejs2/helpers/createClass":"xM5U","@babel/runtime-corejs2/helpers/assertThisInitialized":"YqR0","@babel/runtime-corejs2/helpers/inherits":"CdTE","@babel/runtime-corejs2/helpers/possibleConstructorReturn":"w9GY","@babel/runtime-corejs2/helpers/getPrototypeOf":"Qxr1","@babel/runtime-corejs2/helpers/defineProperty":"n5FU","lodash/pick":"N5Tq","lodash/isEqual":"R6wa","lodash/cloneDeep":"Y0zI","uuid":"wQtZ","@webex/webex-core":"bqGz","../common/errors/webex-errors":"OsWy","../statsAnalyzer":"eXh0","../networkQualityMonitor":"aBrD","../common/logs/logger-proxy":"NeTJ","../common/events/trigger-proxy":"tIl4","../roap/index":"ZtI4","../media":"frLi","../media/properties":"jf6D","../meeting/state":"n5Sa","../meeting/muteState":"ZAgr","../locus-info":"ql2m","../peer-connection-manager":"mZnB","../metrics":"LvoJ","../metrics/config":"Ch1R","../reconnection-manager":"vCGG","../meeting/request":"O3rw","../members/index":"HeLQ","../meeting/util":"U2WF","../media/util":"PWaD","../stats/index":"O9so","../stats/metrics":"kJQo","../stats/util":"HKKO","../transcription":"AA4b","../common/errors/reconnection":"vaQG","../common/errors/reconnection-in-progress":"rvkz","../constants":"swzz","../common/errors/parameter":"xdH9","../common/errors/media":"m1Wz","../metrics/mqa-processor":"gsvj","../common/browser-detection":"NB7u","../roap/collection":"pg5L","./in-meeting-actions":"S5DN"}],"Mb6h":[function(require,module,exports) {
"use strict";var e=require("@babel/runtime-corejs2/core-js/object/define-property");e(exports,"__esModule",{value:!0}),exports.default=void 0;var r=require("../constants"),t={getClaimPmrLink:function(e){var t=r.VALID_PMR_ADDRESS.test(e);return t?e:(t=e.match(r.VALID_PMR_LINK))?"".concat(t[4],"@").concat(t[2],".").concat(r.WEBEX_DOT_COM):null},getClaimPmrPin:function(e){return r.VALID_PIN.test(e)?e:null},getClaimedRequestParams:function(e,t,n){return{method:r.HTTP_VERBS.POST,api:r.HECATE,resource:"/".concat(r.CMR_MEETINGS,"/").concat(r.CLAIM),body:{userId:n.userId,passcode:t,preferred:n.preferred,meetingAddress:e}}}},n=t;exports.default=n;
},{"@babel/runtime-corejs2/core-js/object/define-property":"eIqn","../constants":"swzz"}],"tVOD":[function(require,module,exports) {
"use strict";var e=require("@babel/runtime-corejs2/core-js/reflect/construct"),r=require("@babel/runtime-corejs2/core-js/object/define-property"),t=require("@babel/runtime-corejs2/helpers/interopRequireDefault");r(exports,"__esModule",{value:!0}),exports.default=void 0;var a=t(require("@babel/runtime-corejs2/core-js/promise")),i=t(require("@babel/runtime-corejs2/helpers/classCallCheck")),u=t(require("@babel/runtime-corejs2/helpers/createClass")),n=t(require("@babel/runtime-corejs2/helpers/assertThisInitialized")),s=t(require("@babel/runtime-corejs2/helpers/inherits")),l=t(require("@babel/runtime-corejs2/helpers/possibleConstructorReturn")),o=t(require("@babel/runtime-corejs2/helpers/getPrototypeOf")),c=t(require("@babel/runtime-corejs2/helpers/defineProperty")),f=require("@webex/webex-core"),d=require("../constants"),p=t(require("../common/errors/parameter")),m=t(require("./util"));function b(r){var t=h();return function(){var a,i=(0,o.default)(r);if(t){var u=(0,o.default)(this).constructor;a=e(i,arguments,u)}else a=i.apply(this,arguments);return(0,l.default)(this,a)}}function h(){if("undefined"==typeof Reflect||!e)return!1;if(e.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(e(Boolean,[],function(){})),!0}catch(r){return!1}}var v=function(e){(0,s.default)(t,e);var r=b(t);function t(){var e;(0,i.default)(this,t);for(var a=arguments.length,u=new Array(a),s=0;s<a;s++)u[s]=arguments[s];return e=r.call.apply(r,[this].concat(u)),(0,c.default)((0,n.default)(e),"namespace",d.MEETINGS),e}return(0,u.default)(t,[{key:"claimPmr",value:function(e){if(!(e&&e.userId&&e.passcode&&e.meetingAddress&&e.preferred))throw new p.default("Claiming a PMR should be done with userId, passcode, preferred, and meetingAddress in options.");var r=m.default.getClaimPmrPin(e.passcode);if(!r)return a.default.reject(new p.default("The host pin provided was of an invalid format"));var t=m.default.getClaimPmrLink(e.meetingAddress);if(!t)return a.default.reject(new p.default("The PMR link provided was of an invalid format"));var i=m.default.getClaimedRequestParams(t,r,e);return this.request(i)}}]),t}(f.StatelessWebexPlugin);exports.default=v;
},{"@babel/runtime-corejs2/core-js/reflect/construct":"vZQy","@babel/runtime-corejs2/core-js/object/define-property":"eIqn","@babel/runtime-corejs2/helpers/interopRequireDefault":"LXwi","@babel/runtime-corejs2/core-js/promise":"eOfj","@babel/runtime-corejs2/helpers/classCallCheck":"Tzth","@babel/runtime-corejs2/helpers/createClass":"xM5U","@babel/runtime-corejs2/helpers/assertThisInitialized":"YqR0","@babel/runtime-corejs2/helpers/inherits":"CdTE","@babel/runtime-corejs2/helpers/possibleConstructorReturn":"w9GY","@babel/runtime-corejs2/helpers/getPrototypeOf":"Qxr1","@babel/runtime-corejs2/helpers/defineProperty":"n5FU","@webex/webex-core":"bqGz","../constants":"swzz","../common/errors/parameter":"xdH9","./util":"Mb6h"}],"PqoC":[function(require,module,exports) {
"use strict";var e=require("@babel/runtime-corejs2/core-js/reflect/construct"),r=require("@babel/runtime-corejs2/core-js/object/define-property"),t=require("@babel/runtime-corejs2/helpers/interopRequireDefault");r(exports,"__esModule",{value:!0}),exports.default=void 0;var n=t(require("@babel/runtime-corejs2/core-js/promise")),i=t(require("@babel/runtime-corejs2/helpers/classCallCheck")),u=t(require("@babel/runtime-corejs2/helpers/createClass")),s=t(require("@babel/runtime-corejs2/helpers/assertThisInitialized")),o=t(require("@babel/runtime-corejs2/helpers/inherits")),l=t(require("@babel/runtime-corejs2/helpers/possibleConstructorReturn")),a=t(require("@babel/runtime-corejs2/helpers/getPrototypeOf")),c=t(require("@babel/runtime-corejs2/helpers/defineProperty")),d=require("@webex/webex-core"),f=require("../constants"),b=t(require("../meeting-info/request")),p=t(require("../common/errors/parameter")),m=t(require("./request"));function h(r){var t=q();return function(){var n,i=(0,a.default)(r);if(t){var u=(0,a.default)(this).constructor;n=e(i,arguments,u)}else n=i.apply(this,arguments);return(0,l.default)(this,n)}}function q(){if("undefined"==typeof Reflect||!e)return!1;if(e.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(e(Boolean,[],function(){})),!0}catch(r){return!1}}var v=function(e){(0,o.default)(t,e);var r=h(t);function t(e,n){var u;return(0,i.default)(this,t),u=r.call(this,{},n),(0,c.default)((0,s.default)(u),"namespace",f.MEETINGS),u.pmr=null,u.sipUri=null,u.link=null,u.userId=null,u.name=null,u.meetingInfoRequest=new b.default(n.parent),u.personalMeetingRoomRequest=new m.default({},n),u}return(0,u.default)(t,[{key:"claim",value:function(e,r){var t=this,i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],u={userId:this.webex.internal.device.userId,passcode:r,meetingAddress:e,preferred:i};return this.personalMeetingRoomRequest.claimPmr(u).then(function(e){return e&&e.body?(t.set(e.body),e.body):n.default.reject(new p.default("No PMR body provided. PMR values not updated."))})}},{key:"set",value:function(e){this.pmr=e,this.sipUri=e.sipMeetingUri,this.meetingLink=e.webExMeetingLink||e.meetingLink,this.userId=e.owner,this.name=e.meetingName,this.number=e.meetingNumber}},{key:"get",value:function(){var e=this,r={type:f._PERSONAL_ROOM_,destination:this.webex.internal.device.userId};return this.meetingInfoRequest.fetchMeetingInfo(r).then(function(r){return r&&r.body&&r.body.isPmr?(e.set(r.body),r.body):n.default.reject(new TypeError("The PMR requested is NOT a PMR. PMR values not set."))})}}]),t}(d.StatelessWebexPlugin);exports.default=v;
},{"@babel/runtime-corejs2/core-js/reflect/construct":"vZQy","@babel/runtime-corejs2/core-js/object/define-property":"eIqn","@babel/runtime-corejs2/helpers/interopRequireDefault":"LXwi","@babel/runtime-corejs2/core-js/promise":"eOfj","@babel/runtime-corejs2/helpers/classCallCheck":"Tzth","@babel/runtime-corejs2/helpers/createClass":"xM5U","@babel/runtime-corejs2/helpers/assertThisInitialized":"YqR0","@babel/runtime-corejs2/helpers/inherits":"CdTE","@babel/runtime-corejs2/helpers/possibleConstructorReturn":"w9GY","@babel/runtime-corejs2/helpers/getPrototypeOf":"Qxr1","@babel/runtime-corejs2/helpers/defineProperty":"n5FU","@webex/webex-core":"bqGz","../constants":"swzz","../meeting-info/request":"TItc","../common/errors/parameter":"xdH9","./request":"tVOD"}],"wz7r":[function(require,module,exports) {
"use strict";var e=require("@babel/runtime-corejs2/core-js/object/define-property"),r=require("@babel/runtime-corejs2/helpers/interopRequireDefault");e(exports,"__esModule",{value:!0}),exports.default=void 0;var t=r(require("@babel/runtime-corejs2/core-js/json/stringify")),s=r(require("@babel/runtime-corejs2/helpers/classCallCheck")),u=r(require("@babel/runtime-corejs2/helpers/defineProperty")),o=r(require("../common/logs/logger-proxy")),l=require("../constants"),i=function e(r){var i=this;(0,s.default)(this,e),(0,u.default)(this,"getClusters",function(){return i.webex.request({method:l.HTTP_VERBS.GET,shouldRefreshAccessToken:!1,api:l.API.CALLIOPEDISCOVERY,resource:l.RESOURCE.CLUSTERS}).then(function(e){var r=e.body.clusters;return o.default.logger.log("Reachability:request#getClusters --\x3e get clusters successful:".concat((0,t.default)(r))),r})}),(0,u.default)(this,"remoteSDPForClusters",function(e){return i.webex.request({method:l.HTTP_VERBS.POST,shouldRefreshAccessToken:!1,api:l.API.CALLIOPEDISCOVERY,resource:l.RESOURCE.REACHABILITY,body:{offers:e}}).then(function(e){return o.default.logger.log("Reachability:request#remoteSDPForClusters --\x3e Remote SDPs got succcessfully"),e.body})}),this.webex=r},c=i;exports.default=c;
},{"@babel/runtime-corejs2/core-js/object/define-property":"eIqn","@babel/runtime-corejs2/helpers/interopRequireDefault":"LXwi","@babel/runtime-corejs2/core-js/json/stringify":"E09K","@babel/runtime-corejs2/helpers/classCallCheck":"Tzth","@babel/runtime-corejs2/helpers/defineProperty":"n5FU","../common/logs/logger-proxy":"NeTJ","../constants":"swzz"}],"diHx":[function(require,module,exports) {
"use strict";var e=require("@babel/runtime-corejs2/core-js/object/define-property"),t=require("@babel/runtime-corejs2/helpers/interopRequireDefault");e(exports,"__esModule",{value:!0}),exports.default=void 0;var r=t(require("@babel/runtime-corejs2/regenerator")),a=t(require("@babel/runtime-corejs2/core-js/json/stringify")),n=t(require("@babel/runtime-corejs2/core-js/date/now")),l=t(require("@babel/runtime-corejs2/core-js/object/keys")),c=t(require("@babel/runtime-corejs2/core-js/promise")),i=t(require("@babel/runtime-corejs2/helpers/defineProperty")),o=t(require("@babel/runtime-corejs2/helpers/toConsumableArray")),u=t(require("@babel/runtime-corejs2/helpers/asyncToGenerator")),s=t(require("@babel/runtime-corejs2/helpers/classCallCheck")),d=t(require("@babel/runtime-corejs2/helpers/createClass")),f=t(require("lodash/uniq")),h=t(require("../common/logs/logger-proxy")),g=require("../constants"),b=t(require("./request")),y=function(){function e(t){(0,s.default)(this,e),this.webex=t,this.reachabilityRequest=new b.default(this.webex),this.clusterLatencyResults={}}return(0,d.default)(e,[{key:"gatherReachability",value:function(){var e=(0,u.default)(r.default.mark(function e(){var t,n,l,c;return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.setup(),null===(t=window)||void 0===t||null===(n=t.localStorage)||void 0===n||!n.removeItem){e.next=5;break}window.localStorage.removeItem(g.REACHABILITY.localStorage),e.next=7;break;case 5:return h.default.logger.error("Reachability:index#gatherReachability --\x3e Error in accessing LocalStorage."),e.abrupt("return",{});case 7:return e.prev=7,e.next=10,this.reachabilityRequest.getClusters();case 10:return l=e.sent,e.next=13,this.performReachabilityCheck(l);case 13:return c=e.sent,window.localStorage.setItem(g.REACHABILITY.localStorage,(0,a.default)(c)),e.abrupt("return",c);case 18:return e.prev=18,e.t0=e.catch(7),h.default.logger.error("Reachability:index#gatherReachability --\x3e Error in calling getClusters(): ".concat(e.t0)),e.abrupt("return",{});case 22:case"end":return e.stop()}},e,this,[[7,18]])}));return function(){return e.apply(this,arguments)}}()},{key:"buildPeerConnectionConfig",value:function(e){var t=(0,f.default)([].concat((0,o.default)(e.udp),(0,o.default)(e.tcp))).map(function(e){return{username:"",credential:"",urls:[e]}});return{iceServers:(0,o.default)(t),iceCandidatePoolSize:"0",iceTransportPolicy:"all"}}},{key:"createPeerConnection",value:function(e){var t=e.key,r=e.config;try{var a=new window.RTCPeerConnection(r);return a.key=t,a}catch(n){return h.default.logger.log("Reachability:index#getLocalSDPForClusters --\x3e Error creating peerConnection: ".concat(n)),null}}},{key:"getElapsedTime",value:function(e){var t=e.begin;return delete e.begin,(0,n.default)()-t}},{key:"getLocalSDPForClusters",value:function(e){var t=this,a=(0,o.default)((0,l.default)(e));return a=a.map(function(){var a=(0,u.default)(r.default.mark(function a(l){var c,i,o,u;return r.default.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return c=e[l],i=t.buildPeerConnectionConfig(c),o=t.createPeerConnection({key:l,config:i}),r.next=5,o.createOffer({offerToReceiveAudio:!0});case 5:return u=r.sent,o.begin=(0,n.default)(),o.setLocalDescription(u),r.abrupt("return",t.iceGatheringState(o).catch(function(e){h.default.logger.log("Reachability:index#getLocalSDPForClusters --\x3e Error in getLocalSDP : ".concat(e))}));case 9:case"end":return r.stop()}},a)}));return function(e){return a.apply(this,arguments)}}()),c.default.all(a).then(this.parseIceResultsToReachabilityResults).then(function(e){return t.logUnreachableClusters(),e})}},{key:"getUnreachablClusters",value:function(){var e=[],t=this.clusterLatencyResults;return(0,l.default)(t).forEach(function(r){var a=t[r];a.unreachable&&!a.reachable&&e.push(r)}),e}},{key:"handleIceGatheringStateChange",value:function(e){var t=this;e.onicegatheringstatechange=function(){var r=g.ICE_GATHERING_STATE.COMPLETE;if(e.iceConnectionState===r){var a=t.getElapsedTime(e);h.default.logger.log("Reachability:index#onIceGatheringStateChange --\x3e Successfully pinged ".concat(e.key,":"),a),t.setLatencyAndClose(e,a)}}}},{key:"handleOnIceCandidate",value:function(e){var t=this;e.onicecandidate=function(r){if(r.candidate&&"srflx"===String(r.candidate.type).toLowerCase()){var a=t.getElapsedTime(e);h.default.logger.log("Reachability:index#onIceCandidate --\x3e Successfully pinged ".concat(e.key,":"),a),t.setLatencyAndClose(e,a)}}}},{key:"iceGatheringState",value:function(e){var t=this;return new c.default(function(r){var a=new window.Proxy(e,{get:function(e,t){var r=e[t];return"function"==typeof r?r.bind(e):r},set:function(t,a,n){return"elapsed"===a?(r({clusterId:e.key,elapsed:n}),!0):window.Reflect.set(t,a,n)}});t.handleIceGatheringStateChange(a),t.handleOnIceCandidate(a),window.setTimeout(function(){var e={CONNECTION_STATE:g.CONNECTION_STATE};a.connectionState!==e&&t.setLatencyAndClose(a,null)},5e3)})}},{key:"logUnreachableClusters",value:function(){this.getUnreachablClusters().forEach(function(e){h.default.logger.log("Reachability:index#getLocalSDPForClusters --\x3e No ice candidate for ".concat(e,"."))})}},{key:"parseIceResultsToReachabilityResults",value:function(e){var t={};return e.forEach(function(e){var r,a=e.clusterId,n=e.elapsed;r=null===n?{reachable:"false"}:{reachable:"true",latencyInMilliseconds:n.toString()},t[a]={udp:r,tcp:r}}),t}},{key:"performReachabilityCheck",value:function(e){var t=this;return e&&(0,l.default)(e).length?new c.default(function(r){t.getLocalSDPForClusters(e).then(function(e){e&&(0,l.default)(e).length?r(e):(h.default.logger.log("Reachability:index#performReachabilityCheck --\x3e Local SDP is empty or has missing elements..returning"),r({}))}).catch(function(e){h.default.logger.error("Reachability:index#performReachabilityCheck --\x3e Error in getLocalSDPForClusters: ".concat(e)),r({})})}):c.default.resolve({})}},{key:"setLatencyAndClose",value:function(e,t){var r,a=g.CONNECTION_STATE.CLOSED,n=e.key,l=null===t?"unreachable":"reachable",c=(r={},(0,i.default)(r,"reachable",0),(0,i.default)(r,"unreachable",0),r);e.connectionState!==a?(this.clusterLatencyResults[n]=this.clusterLatencyResults[n]||c,this.clusterLatencyResults[n][l]+=1,e.onicecandidate=null,e.close(),e.elapsed=t):h.default.logger.log("Reachability:index#setLatencyAndClose --\x3e Attempting to set latency of ".concat(t," on closed peerConnection."))}},{key:"setup",value:function(){this.clusterLatencyResults={}}}]),e}();exports.default=y;
},{"@babel/runtime-corejs2/core-js/object/define-property":"eIqn","@babel/runtime-corejs2/helpers/interopRequireDefault":"LXwi","@babel/runtime-corejs2/regenerator":"i9LV","@babel/runtime-corejs2/core-js/json/stringify":"E09K","@babel/runtime-corejs2/core-js/date/now":"Pb2S","@babel/runtime-corejs2/core-js/object/keys":"d81a","@babel/runtime-corejs2/core-js/promise":"eOfj","@babel/runtime-corejs2/helpers/defineProperty":"n5FU","@babel/runtime-corejs2/helpers/toConsumableArray":"TW4i","@babel/runtime-corejs2/helpers/asyncToGenerator":"OYLD","@babel/runtime-corejs2/helpers/classCallCheck":"Tzth","@babel/runtime-corejs2/helpers/createClass":"xM5U","lodash/uniq":"oUkM","../common/logs/logger-proxy":"NeTJ","../constants":"swzz","./request":"wz7r"}],"vOh9":[function(require,module,exports) {
"use strict";var e=require("@babel/runtime-corejs2/core-js/reflect/construct"),r=require("@babel/runtime-corejs2/core-js/object/define-property"),t=require("@babel/runtime-corejs2/helpers/interopRequireDefault");r(exports,"__esModule",{value:!0}),exports.default=void 0;var o=t(require("@babel/runtime-corejs2/core-js/promise")),u=t(require("@babel/runtime-corejs2/helpers/classCallCheck")),n=t(require("@babel/runtime-corejs2/helpers/createClass")),i=t(require("@babel/runtime-corejs2/helpers/inherits")),s=t(require("@babel/runtime-corejs2/helpers/possibleConstructorReturn")),l=t(require("@babel/runtime-corejs2/helpers/getPrototypeOf")),c=require("@webex/webex-core"),a=t(require("../common/logs/logger-proxy")),f=require("../constants");function d(r){var t=h();return function(){var o,u=(0,l.default)(r);if(t){var n=(0,l.default)(this).constructor;o=e(u,arguments,n)}else o=u.apply(this,arguments);return(0,s.default)(this,o)}}function h(){if("undefined"==typeof Reflect||!e)return!1;if(e.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(e(Boolean,[],function(){})),!0}catch(r){return!1}}var b=function(e){(0,i.default)(t,e);var r=d(t);function t(){return(0,u.default)(this,t),r.apply(this,arguments)}return(0,n.default)(t,[{key:"getActiveMeetings",value:function(){var e=this;return this.request({api:f.API.LOCUS,resource:f.RESOURCE.LOCI}).then(function(r){return e.determineRedirections(r.body)}).catch(function(e){a.default.logger.error("Meetings:request#getActiveMeetings --\x3e failed to get locus details, ".concat(e))})}},{key:"fetchGeoHint",value:function(){return this.webex.internal.services.fetchClientRegionInfo()}},{key:"determineRedirections",value:function(e){var r=this;return e.remoteLocusClusterUrls&&e.remoteLocusClusterUrls.length?o.default.all(e.remoteLocusClusterUrls.map(function(t){return r.request({method:f.HTTP_VERBS.GET,url:t,runWhitelistedDomains:!0}).then(function(r){return e.loci=e.loci.concat(r.body.loci),e.locusUrls=e.locusUrls.concat(r.body.locusUrls),o.default.resolve(e)}).catch(function(e){a.default.logger.error("Meetings:request#determineRedirections --\x3e failed to get locus details from url: ".concat(t,", reason: ").concat(e))})})).then(function(){return o.default.resolve(e)}):o.default.resolve(e)}}]),t}(c.StatelessWebexPlugin);exports.default=b;
},{"@babel/runtime-corejs2/core-js/reflect/construct":"vZQy","@babel/runtime-corejs2/core-js/object/define-property":"eIqn","@babel/runtime-corejs2/helpers/interopRequireDefault":"LXwi","@babel/runtime-corejs2/core-js/promise":"eOfj","@babel/runtime-corejs2/helpers/classCallCheck":"Tzth","@babel/runtime-corejs2/helpers/createClass":"xM5U","@babel/runtime-corejs2/helpers/inherits":"CdTE","@babel/runtime-corejs2/helpers/possibleConstructorReturn":"w9GY","@babel/runtime-corejs2/helpers/getPrototypeOf":"Qxr1","@webex/webex-core":"bqGz","../common/logs/logger-proxy":"NeTJ","../constants":"swzz"}],"yMkX":[function(require,module,exports) {
"use strict";var a=require("@babel/runtime-corejs2/core-js/object/define-property"),t=require("@babel/runtime-corejs2/helpers/interopRequireDefault");a(exports,"__esModule",{value:!0}),exports.default=void 0;var e=t(require("lodash/isFinite")),r=t(require("lodash/keys")),u=require("../constants"),d={difference:function(a,t){if(!a||!a.data||!a.data.getData||0===(0,r.default)(a.data.getData()).length)return t;var d={};return(0,r.default)(t.data.getData()).forEach(function(n){d[n]=d[n]?d[n]:{},(0,r.default)(t.data.getData()[n]).forEach(function(r){var i=t.data.getData()[n][r];!(0,e.default)(i)||u.DEFAULT_EXCLUDED_STATS.includes(r)&&0!==i||(a.data.getData()[n]&&a.data.getData()[n][r]?(i-=a.data.getData()[n][r],d[n][r]=i):d[n][r]=i)})}),d},sum:function(a,t){var d=t;return(0,r.default)(a.data.getData()).forEach(function(t){(0,r.default)(a.data.getData()[t]).forEach(function(r){var n=a.data.getData()[t][r];!(0,e.default)(n)||u.DEFAULT_EXCLUDED_STATS.includes(r)&&0!==n||(d[t][r]?d[t][r]+=n:d[t][r]=n)})}),d}},n=d;exports.default=n;
},{"@babel/runtime-corejs2/core-js/object/define-property":"eIqn","@babel/runtime-corejs2/helpers/interopRequireDefault":"LXwi","lodash/isFinite":"YgL0","lodash/keys":"HI10","../constants":"swzz"}],"neBk":[function(require,module,exports) {
"use strict";var e=require("@babel/runtime-corejs2/core-js/reflect/construct"),r=require("@babel/runtime-corejs2/core-js/object/define-property"),t=require("@babel/runtime-corejs2/helpers/interopRequireDefault");r(exports,"__esModule",{value:!0}),exports.default=void 0;var u=t(require("@babel/runtime-corejs2/helpers/classCallCheck")),n=t(require("@babel/runtime-corejs2/helpers/createClass")),i=t(require("@babel/runtime-corejs2/helpers/inherits")),l=t(require("@babel/runtime-corejs2/helpers/possibleConstructorReturn")),o=t(require("@babel/runtime-corejs2/helpers/getPrototypeOf")),s=t(require("lodash/find")),a=t(require("../common/collection"));function c(r){var t=f();return function(){var u,n=(0,o.default)(r);if(t){var i=(0,o.default)(this).constructor;u=e(n,arguments,i)}else u=n.apply(this,arguments);return(0,l.default)(this,u)}}function f(){if("undefined"==typeof Reflect||!e)return!1;if(e.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(e(Boolean,[],function(){})),!0}catch(r){return!1}}var p=function(e){(0,i.default)(t,e);var r=c(t);function t(){return(0,u.default)(this,t),r.call(this,"meetings")}return(0,n.default)(t,[{key:"set",value:function(e){return this.meetings[e.id]=e,this.meetings[e.id]}},{key:"getByKey",value:function(e,r){return e&&r?(0,s.default)(this.meetings,function(t){return t[e]===r}):null}}]),t}(a.default);exports.default=p;
},{"@babel/runtime-corejs2/core-js/reflect/construct":"vZQy","@babel/runtime-corejs2/core-js/object/define-property":"eIqn","@babel/runtime-corejs2/helpers/interopRequireDefault":"LXwi","@babel/runtime-corejs2/helpers/classCallCheck":"Tzth","@babel/runtime-corejs2/helpers/createClass":"xM5U","@babel/runtime-corejs2/helpers/inherits":"CdTE","@babel/runtime-corejs2/helpers/possibleConstructorReturn":"w9GY","@babel/runtime-corejs2/helpers/getPrototypeOf":"Qxr1","lodash/find":"y1nO","../common/collection":"utu2"}],"npLS":[function(require,module,exports) {
"use strict";var e=require("@babel/runtime-corejs2/core-js/object/define-property"),r=require("@babel/runtime-corejs2/helpers/interopRequireDefault");e(exports,"__esModule",{value:!0}),exports.default=void 0;var t=r(require("@babel/runtime-corejs2/core-js/date/now")),n=r(require("@babel/runtime-corejs2/regenerator")),o=r(require("@babel/runtime-corejs2/helpers/asyncToGenerator")),u=require("../constants"),a=r(require("../common/logs/logger-proxy")),i=r(require("../common/events/trigger-proxy")),c={getMeetingAddedType:function(e){return e===u._LOCUS_ID_?u._INCOMING_:u._CREATED_},handleRoapMercury:function(e,r){var t=e.data;if(t.eventType===u.LOCUSEVENT.MESSAGE_ROAP){var n=r.getByKey(u.CORRELATION_ID,t.correlationId);n&&n.roap.roapEvent(t)}},checkForCorrelationId:function(e,r){var t=[];if(r){r&&r.self&&r.self.devices&&(t=r.self.devices);var n=t.find(function(r){return r.url===e});if(n&&n.correlationId)return n.correlationId}return!1}};c.hasH264Codec=(0,o.default)(n.default.mark(function e(){var r,t;return n.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=!1,e.prev=1,t=new window.RTCPeerConnection,e.next=5,t.createOffer({offerToReceiveVideo:!0});case 5:e.sent.sdp.match(/^a=rtpmap:\d+\s+H264\/\d+/m)&&(r=!0),t.close(),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),a.default.logger.error("Meetings:util#hasH264Codec --\x3e Error creating peerConnection for H.264 test.");case 13:return e.abrupt("return",r);case 14:case"end":return e.stop()}},e,null,[[1,10]])})),c.checkH264Support=function(){var e=(0,o.default)(n.default.mark(function e(r){var o,s,l,f,d,p,g,h=this;return n.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(o=c.hasH264Codec,l=(s=r||{}).firstChecked,f=s.disableNotifications,d=5e3,3e5,p=void 0===l,g=l&&(0,t.default)()-l>=3e5,!f){e.next=9;break}return o(),e.abrupt("return");case 9:return e.next=11,o();case 11:if(!e.sent){e.next=15;break}return i.default.trigger(this,{file:"meetings/util",function:"checkH264Support"},u.EVENT_TRIGGERS.MEDIA_CODEC_LOADED),a.default.logger.log("Meetings:util#checkH264Support --\x3e H264 codec loaded successfully."),e.abrupt("return");case 15:if(!g){e.next=18;break}return a.default.logger.error("Meetings:util#checkH264Support --\x3e Timed out waiting for H264 codec to load."),e.abrupt("return");case 18:p&&(i.default.trigger(this,{file:"meetings/util",function:"checkH264Support"},u.EVENT_TRIGGERS.MEDIA_CODEC_MISSING),a.default.logger.log("Meetings:util#checkH264Support --\x3e H264 codec is missing.")),window.setTimeout(function(){var e=l||(0,t.default)();c.checkH264Support.call(h,{firstChecked:e})},d);case 20:case"end":return e.stop()}},e,this)}));return function(r){return e.apply(this,arguments)}}();var s=c;exports.default=s;
},{"@babel/runtime-corejs2/core-js/object/define-property":"eIqn","@babel/runtime-corejs2/helpers/interopRequireDefault":"LXwi","@babel/runtime-corejs2/core-js/date/now":"Pb2S","@babel/runtime-corejs2/regenerator":"i9LV","@babel/runtime-corejs2/helpers/asyncToGenerator":"OYLD","../constants":"swzz","../common/logs/logger-proxy":"NeTJ","../common/events/trigger-proxy":"tIl4"}],"n8IS":[function(require,module,exports) {
"use strict";var e=require("@babel/runtime-corejs2/core-js/reflect/construct"),t=require("@babel/runtime-corejs2/core-js/object/define-property"),n=require("@babel/runtime-corejs2/helpers/interopRequireDefault");t(exports,"__esModule",{value:!0}),exports.default=void 0;var i=n(require("@babel/runtime-corejs2/regenerator")),r=n(require("@babel/runtime-corejs2/core-js/promise")),o=n(require("@babel/runtime-corejs2/core-js/object/keys")),l=n(require("@babel/runtime-corejs2/core-js/object/values")),u=n(require("@babel/runtime-corejs2/helpers/asyncToGenerator")),a=n(require("@babel/runtime-corejs2/helpers/classCallCheck")),s=n(require("@babel/runtime-corejs2/helpers/createClass")),c=n(require("@babel/runtime-corejs2/helpers/assertThisInitialized")),g=n(require("@babel/runtime-corejs2/helpers/inherits")),d=n(require("@babel/runtime-corejs2/helpers/possibleConstructorReturn")),f=n(require("@babel/runtime-corejs2/helpers/getPrototypeOf")),h=n(require("@babel/runtime-corejs2/helpers/defineProperty"));require("@webex/internal-plugin-mercury");var E=require("@webex/webex-core");require("webrtc-adapter");var v=n(require("../metrics")),m=require("../metrics/config"),y=n(require("../common/logs/logger-config")),I=n(require("../common/config")),p=n(require("../common/logs/logger-proxy")),b=n(require("../common/logs/request")),R=n(require("../common/events/trigger-proxy")),x=n(require("../media")),M=n(require("../meeting/util")),_=require("../constants"),S=n(require("../meeting-info")),T=n(require("../meeting-info/meeting-info-v2")),O=n(require("../meeting")),N=n(require("../personal-meeting-room")),L=n(require("../reachability")),C=n(require("../meetings/request")),U=n(require("../analyzer/analyzer")),w=n(require("../analyzer/calculator")),q=n(require("./collection")),G=n(require("./util"));function A(t){var n=k();return function(){var i,r=(0,f.default)(t);if(n){var o=(0,f.default)(this).constructor;i=e(r,arguments,o)}else i=r.apply(this,arguments);return(0,d.default)(this,i)}}function k(){if("undefined"==typeof Reflect||!e)return!1;if(e.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(e(Boolean,[],function(){})),!0}catch(t){return!1}}var D=function(e){(0,g.default)(n,e);var t=A(n);function n(){var e;(0,a.default)(this,n);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return e=t.call.apply(t,[this].concat(r)),(0,h.default)((0,c.default)(e),"namespace",_.MEETINGS),e.request=new C.default({},{parent:e.webex}),e.loggerRequest=new b.default({webex:e.webex}),e.meetingCollection=new q.default,e.personalMeetingRoom=new N.default({},{parent:e.webex}),e.reachability=null,e.registered=!1,e.media={getUserMedia:x.default.getUserMedia,getSupportedDevice:x.default.getSupportedDevice},e.onReady(),G.default.checkH264Support({disableNotifications:!0}),v.default.initialSetup(e.meetingCollection,e.webex),e}return(0,s.default)(n,[{key:"handleLocusEvent",value:function(e){var t,n,i=this,r=null;if(!(r=this.meetingCollection.getByKey(_.LOCUS_URL,e.locusUrl)||this.meetingCollection.getByKey(_.CORRELATION_ID,G.default.checkForCorrelationId(this.webex.internal.device.url,e.locus))||this.meetingCollection.getByKey(_.SIP_URI,e.locus.self&&e.locus.self.callbackInfo&&e.locus.self.callbackInfo.callbackAddress)||this.meetingCollection.getByKey(_.CONVERSATION_URL,e.locus.conversationUrl))&&(null===(t=e.locus)||void 0===t?void 0:null===(n=t.replaces)||void 0===n?void 0:n.length)>0&&(r=this.meetingCollection.getByKey(_.LOCUS_URL,e.locus.replaces[e.locus.replaces.length-1].locusUrl)),r)r.locusInfo.parse(r,e);else{if(e.locus&&e.locus.fullState&&e.locus.fullState.state===_.LOCUS.STATE.INACTIVE)return void p.default.logger.warn("Meetings:index#handleLocusEvent --\x3e Locus event received for meeting, after it was ended.");if(e.locus&&e.locus.self&&e.locus.self.state===_._LEFT_&&!0===e.locus.self.removed)return void p.default.logger.warn("Meetings:index#handleLocusEvent --\x3e Locus event received for meeting, after it was ended.");this.create(e.locus,_._LOCUS_ID_).then(function(t){r=t,e.eventType===_.LOCUSEVENT.DIFFERENCE?r.locusInfo.initialSetup(e.locus,r):r.locusInfo.initialSetup(e.locus)}).catch(function(e){console.log(e)}).finally(function(){i.getMeetingByType(_._ID_,r.id)?(v.default.postEvent({event:m.eventType.REMOTE_STARTED,meeting:r,data:{trigger:m.trigger.MERCURY_EVENT}}),R.default.trigger(i,{file:"meetings",function:"handleLocusEvent"},_.EVENT_TRIGGERS.MEETING_ADDED,{meeting:r,type:r.type===_._MEETING_?_._JOIN_:_._INCOMING_})):p.default.logger.warn("Meetings:index#handleLocusEvent --\x3e Created and destroyed meeting object before sending an event")})}}},{key:"handleLocusMercury",value:function(e){var t=e.data,n=t.eventType;n&&n!==_.LOCUSEVENT.MESSAGE_ROAP&&this.handleLocusEvent(t)}},{key:"handleMercuryOffline",value:function(){R.default.trigger(this,{file:"meetings/index",function:"handleMercuryOffline"},_.EVENT_TRIGGERS.MEETINGS_NETWORK_DISCONNECTED)}},{key:"listenForEvents",value:function(){var e=this;this.webex.internal.mercury.on(_.LOCUSEVENT.LOCUS_MERCURY,function(t){e.handleLocusMercury(t)}),this.webex.internal.mercury.on(_.ROAP.ROAP_MERCURY,function(t){G.default.handleRoapMercury(t,e.meetingCollection)}),this.webex.internal.mercury.on(_.ONLINE,function(){e.syncMeetings()}),this.webex.internal.mercury.on(_.OFFLINE,function(){e.handleMercuryOffline()})}},{key:"stopListeningForEvents",value:function(){this.webex.internal.mercury.off(_.LOCUSEVENT.LOCUS_MERCURY),this.webex.internal.mercury.off(_.ROAP.ROAP_MERCURY),this.webex.internal.mercury.off(_.ONLINE)}},{key:"onReady",value:function(){var e=this;this.webex.once(_.READY,function(){I.default.set(e.config),y.default.set(e.config.logging),p.default.set(e.webex.logger),e.meetingInfo=e.config.experimental.enableUnifiedMeetings?new T.default(e.webex):new S.default(e.webex),R.default.trigger(e,{file:"meetings",function:"onReady"},_.EVENT_TRIGGERS.MEETINGS_READY)})}},{key:"register",value:function(){var e=this;return this.webex.canAuthorize?this.registered?(p.default.logger.info("Meetings:index#register --\x3e INFO, Meetings plugin already registered"),r.default.resolve()):r.default.all([this.getGeoHint(),this.startReachability().catch(function(e){p.default.logger.error("Meetings:index#register --\x3e GDM error, ".concat(e.message))}),this.webex.internal.device.register().then(function(){return p.default.logger.info("Meetings:index#register --\x3e INFO, Device registered ".concat(e.webex.internal.device.url))}).then(function(){return e.webex.internal.mercury.connect()}),G.default.checkH264Support.call(this)]).then(function(){e.listenForEvents(),R.default.trigger(e,{file:"meetings",function:"register"},_.EVENT_TRIGGERS.MEETINGS_REGISTERED),e.registered=!0}).catch(function(e){return p.default.logger.error("Meetings:index#register --\x3e ERROR, Unable to register, ".concat(e.message)),r.default.reject(e)}):(p.default.logger.error("Meetings:index#register --\x3e ERROR, Unable to register, SDK cannot authorize"),r.default.reject(new Error("SDK cannot authorize")))}},{key:"unregister",value:function(){var e=this;return this.registered?(this.stopListeningForEvents(),this.webex.internal.mercury.disconnect().then(function(){return e.webex.internal.device.unregister()}).then(function(){R.default.trigger(e,{file:"meetings",function:"unregister"},_.EVENT_TRIGGERS.MEETINGS_UNREGISTERED),e.registered=!1})):(p.default.logger.info("Meetings:index#unregister --\x3e INFO, Meetings plugin already unregistered"),r.default.resolve())}},{key:"uploadLogs",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return p.default.logger.info("Meetings:index#uploadLogs --\x3e uploading logs"),this.loggerRequest.uploadLogs(t).then(function(n){p.default.logger.info("Meetings:index#uploadLogs --\x3e Upload logs for meeting completed.",n),R.default.trigger(e,{file:"meetings",function:"uploadLogs"},_.EVENT_TRIGGERS.MEETING_LOG_UPLOAD_SUCCESS,{meetingId:t.meetingId,details:n})}).catch(function(n){p.default.logger.error("Meetings:index#uploadLogs --\x3e Unable to upload logs for meeting",n),R.default.trigger(e,{file:"meetings",function:"uploadLogs"},_.EVENT_TRIGGERS.MEETING_LOG_UPLOAD_FAILURE,{meetingId:t.meetingId,reason:n}),v.default.sendOperationalMetric(_.METRICS_OPERATIONAL_MEASURES.UPLOAD_LOGS_FAILURE,{meetingId:t.meetingsId,reason:n.message,stack:n.stack,code:n.code})})}},{key:"setReachability",value:function(){this.reachability=new L.default(this.webex)}},{key:"getReachability",value:function(){return this.reachability}},{key:"startReachability",value:function(){return this.reachability||this.setReachability(),this.getReachability().gatherReachability()}},{key:"getGeoHint",value:function(){var e=this;return this.request.fetchGeoHint().then(function(t){e.geoHintInfo=t})}},{key:"getPersonalMeetingRoom",value:function(){return this.personalMeetingRoom}},{key:"destroy",value:function(e,t){M.default.cleanUp(e),this.meetingCollection.delete(e.id),R.default.trigger(this,{file:"meetings",function:"destroy"},_.EVENT_TRIGGERS.MEETING_REMOVED,{meetingId:e.id,reason:t})}},{key:"create",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return this.meetingInfo.fetchInfoOptions(e,n).catch(function(e){p.default.logger.info("Meetings:index#create --\x3e INFO, unable to determine info options: ".concat(e.message))}).then(function(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=i.destination||e,l=null;return n!==_._CONVERSATION_URL_&&i.type!==_._CONVERSATION_URL_||(l=t.meetingCollection.getByKey(_.CONVERSATION_URL,o)),l||(l=t.meetingCollection.getByKey(_.SIP_URI,o)),l?r.default.resolve(l):t.createMeeting(o,n).then(function(e){return e&&e.on?(e.on(_.EVENTS.DESTROY_MEETING,function(n){var i,r,o,l;t.config.autoUploadLogs?t.uploadLogs({callStart:null===(i=e.locusInfo)||void 0===i?void 0:null===(r=i.fullState)||void 0===r?void 0:r.lastActive,correlationId:e.correlationId,feedbackId:e.correlationId,locusId:e.locusId,meetingId:null===(o=e.locusInfo)||void 0===o?void 0:null===(l=o.info)||void 0===l?void 0:l.webExMeetingId}).then(function(){return t.destroy(e,n.reason)}):t.destroy(e,n.reason)}),e.on(_.EVENTS.REQUEST_UPLOAD_LOGS,function(e){var n,i,r,o;t.config.autoUploadLogs&&t.uploadLogs({callStart:null==e?void 0:null===(n=e.locusInfo)||void 0===n?void 0:null===(i=n.fullState)||void 0===i?void 0:i.lastActive,correlationId:e.correlationId,feedbackId:e.correlationId,locusId:e.locusId,meetingId:null===(r=e.locusInfo)||void 0===r?void 0:null===(o=r.info)||void 0===o?void 0:o.webExMeetingId})})):p.default.logger.error("Meetings:index#create --\x3e ERROR, meeting does not have on method, will not be destroyed, meeting cleanup impossible for meeting: ".concat(l)),r.default.resolve(e)})})}},{key:"createMeeting",value:function(){var e=(0,u.default)(i.default.mark(function e(t){var n,r,o,l,u=arguments;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=u.length>1&&void 0!==u[1]?u[1]:null,r=new O.default({userId:this.webex.internal.device.userId,deviceUrl:this.webex.internal.device.url,orgId:this.webex.internal.device.orgId,roapSeq:0,locus:n===_._LOCUS_ID_?t:null},{parent:this.webex}),this.meetingCollection.set(r),e.prev=3,e.next=6,this.meetingInfo.fetchMeetingInfo(t,n);case 6:o=e.sent,r.parseMeetingInfo(o),r.meetingInfo=o?o.body:null,e.next=17;break;case 11:e.prev=11,e.t0=e.catch(3),p.default.logger.info("Meetings:index#createMeeting --\x3e Info Unable to fetch meeting info for ".concat(t,".")),p.default.logger.info("Meetings:index#createMeeting --\x3e Info assuming this destination is a 1:1 or wireless share"),p.default.logger.debug("Meetings:index#createMeeting --\x3e Debug ".concat(e.t0," fetching /meetingInfo for creation.")),r.destination=t;case 17:return e.prev=17,n!==_._LOCUS_ID_&&(r.sipUri||r.setSipUri(t),l=G.default.getMeetingAddedType(n),R.default.trigger(this,{file:"meetings",function:"createMeeting"},_.EVENT_TRIGGERS.MEETING_ADDED,{meeting:r,type:l})),e.finish(17);case 20:return e.abrupt("return",r);case 21:case"end":return e.stop()}},e,this,[[3,11,17,20]])}));return function(t){return e.apply(this,arguments)}}()},{key:"getMeetingByType",value:function(e,t){return this.meetingCollection.getByKey(e,t)}},{key:"getAllMeetings",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.meetingCollection.getAll(e)}},{key:"syncMeetings",value:function(){var e=this;return this.request.getActiveMeetings().then(function(t){var n=[];null!=t&&t.loci&&t.loci.length>0&&t.loci.forEach(function(t){n.push(t.url),e.handleLocusEvent({locus:t,locusUrl:t.url})});var i=e.meetingCollection.getAll();if((0,o.default)(i).length>0)for(var r=0,u=(0,l.default)(i);r<u.length;r++){var a=u[r];n.includes(a.locusUrl)||e.destroy(a,_.MEETING_REMOVED_REASON.NO_MEETINGS_TO_SYNC)}})}},{key:"getScheduledMeetings",value:function(){return this.meetingCollection.getAll({scheduled:!0})}},{key:"getLogger",value:function(){return p.default.get()}},{key:"getAnalyzer",value:function(){return U.default}},{key:"getCalculator",value:function(){return w.default}}]),n}(E.WebexPlugin);exports.default=D;
},{"@babel/runtime-corejs2/core-js/reflect/construct":"vZQy","@babel/runtime-corejs2/core-js/object/define-property":"eIqn","@babel/runtime-corejs2/helpers/interopRequireDefault":"LXwi","@babel/runtime-corejs2/regenerator":"i9LV","@babel/runtime-corejs2/core-js/promise":"eOfj","@babel/runtime-corejs2/core-js/object/keys":"d81a","@babel/runtime-corejs2/core-js/object/values":"vh4c","@babel/runtime-corejs2/helpers/asyncToGenerator":"OYLD","@babel/runtime-corejs2/helpers/classCallCheck":"Tzth","@babel/runtime-corejs2/helpers/createClass":"xM5U","@babel/runtime-corejs2/helpers/assertThisInitialized":"YqR0","@babel/runtime-corejs2/helpers/inherits":"CdTE","@babel/runtime-corejs2/helpers/possibleConstructorReturn":"w9GY","@babel/runtime-corejs2/helpers/getPrototypeOf":"Qxr1","@babel/runtime-corejs2/helpers/defineProperty":"n5FU","@webex/internal-plugin-mercury":"njNR","@webex/webex-core":"bqGz","webrtc-adapter":"tI1X","../metrics":"LvoJ","../metrics/config":"Ch1R","../common/logs/logger-config":"AjFS","../common/config":"diJ3","../common/logs/logger-proxy":"NeTJ","../common/logs/request":"FPBl","../common/events/trigger-proxy":"tIl4","../media":"frLi","../meeting/util":"U2WF","../constants":"swzz","../meeting-info":"iHNg","../meeting-info/meeting-info-v2":"xQiG","../meeting":"KXD7","../personal-meeting-room":"PqoC","../reachability":"diHx","../meetings/request":"vOh9","../analyzer/analyzer":"tHss","../analyzer/calculator":"yMkX","./collection":"neBk","./util":"npLS"}],"osBf":[function(require,module,exports) {
"use strict";var e=require("@babel/runtime-corejs2/helpers/typeof"),r=require("@babel/runtime-corejs2/core-js/weak-map"),t=require("@babel/runtime-corejs2/core-js/object/define-property"),u=require("@babel/runtime-corejs2/core-js/object/get-own-property-descriptor"),o=require("@babel/runtime-corejs2/helpers/interopRequireDefault");t(exports,"__esModule",{value:!0}),exports.CONSTANTS=exports.default=void 0;var n=require("@webex/webex-core"),i=o(require("./meetings")),a=o(require("./config")),s=f(require("./constants"));function l(e){if("function"!=typeof r)return null;var t=new r,u=new r;return(l=function(e){return e?u:t})(e)}function f(r,o){if(!o&&r&&r.__esModule)return r;if(null===r||"object"!==e(r)&&"function"!=typeof r)return{default:r};var n=l(o);if(n&&n.has(r))return n.get(r);var i={},a=t&&u;for(var s in r)if("default"!==s&&Object.prototype.hasOwnProperty.call(r,s)){var f=a?u(r,s):null;f&&(f.get||f.set)?t(i,s,f):i[s]=r[s]}return i.default=r,n&&n.set(r,i),i}exports.CONSTANTS=s,(0,n.registerPlugin)("meetings",i.default,{config:a.default});var c=i.default;exports.default=c;
},{"@babel/runtime-corejs2/helpers/typeof":"hVHy","@babel/runtime-corejs2/core-js/weak-map":"HKHU","@babel/runtime-corejs2/core-js/object/define-property":"eIqn","@babel/runtime-corejs2/core-js/object/get-own-property-descriptor":"mQ9c","@babel/runtime-corejs2/helpers/interopRequireDefault":"LXwi","@webex/webex-core":"bqGz","./meetings":"n8IS","./config":"ItFm","./constants":"swzz"}],"gfl7":[function(require,module,exports) {
"use strict";var e=require("@babel/runtime-corejs2/core-js/object/keys"),r=require("@babel/runtime-corejs2/core-js/object/get-own-property-symbols"),t=require("@babel/runtime-corejs2/core-js/object/get-own-property-descriptor"),n=require("@babel/runtime-corejs2/core-js/object/get-own-property-descriptors"),i=require("@babel/runtime-corejs2/core-js/object/define-properties"),o=require("@babel/runtime-corejs2/core-js/object/define-property"),u=require("@babel/runtime-corejs2/helpers/interopRequireDefault");o(exports,"__esModule",{value:!0}),exports.default=void 0;var s,a=u(require("@babel/runtime-corejs2/core-js/reflect/apply")),E=u(require("@babel/runtime-corejs2/core-js/reflect/delete-property")),c=u(require("@babel/runtime-corejs2/core-js/promise")),l=u(require("@babel/runtime-corejs2/helpers/defineProperty")),d=u(require("lodash/isArray")),f=u(require("lodash/cloneDeep")),T=require("@webex/common"),b=require("@webex/webex-core");function p(n,i){var o=e(n);if(r){var u=r(n);i&&(u=u.filter(function(e){return t(n,e).enumerable})),o.push.apply(o,u)}return o}function v(e){for(var r=1;r<arguments.length;r++){var u=null!=arguments[r]?arguments[r]:{};r%2?p(Object(u),!0).forEach(function(r){(0,l.default)(e,r,u[r])}):n?i(e,n(u)):p(Object(u)).forEach(function(r){o(e,r,t(u,r))})}return e}var h=(s={},(0,l.default)(s,T.SDK_EVENT.INTERNAL.ACTIVITY_VERB.SHARE,T.SDK_EVENT.EXTERNAL.EVENT_TYPE.CREATED),(0,l.default)(s,T.SDK_EVENT.INTERNAL.ACTIVITY_VERB.POST,T.SDK_EVENT.EXTERNAL.EVENT_TYPE.CREATED),(0,l.default)(s,T.SDK_EVENT.INTERNAL.ACTIVITY_VERB.DELETE,T.SDK_EVENT.EXTERNAL.EVENT_TYPE.DELETED),s),y=function(e){return e.includes(T.SDK_EVENT.INTERNAL.ACTIVITY_TAG.ONE_ON_ONE)?T.SDK_EVENT.EXTERNAL.SPACE_TYPE.DIRECT:T.SDK_EVENT.EXTERNAL.SPACE_TYPE.GROUP},N=b.WebexPlugin.extend({initialize:function(){for(var e=arguments.length,r=new Array(e),t=0;t<e;t++)r[t]=arguments[t];(0,a.default)(b.WebexPlugin.prototype.initialize,this,r)},listen:function(){var e=this;return(0,T.createEventEnvelope)(this.webex,T.SDK_EVENT.EXTERNAL.RESOURCE.MESSAGES).then(function(r){return e.eventEnvelope=r,e.webex.internal.mercury.connect().then(function(){e.listenTo(e.webex.internal.mercury,T.SDK_EVENT.INTERNAL.WEBEX_ACTIVITY,function(r){return e.onWebexApiEvent(r)})})})},create:function(e){var r="body";e.file&&(this.logger.warn("Supplying a single `file` property is deprecated; please supply a `files` array"),e.files=[e.file],(0,E.default)(e,"file")),(0,d.default)(e.files)&&e.files.reduce(function(e,r){return e||"string"!=typeof r},!1)&&(r="formData");var t=(0,l.default)({method:"POST",service:"hydra",resource:"messages"},r,e);return this.request(t).then(function(e){return e.body})},get:function(e){var r=e.id||e;return this.request({service:"hydra",resource:"messages/".concat(r)}).then(function(e){return e.body.items||e.body})},list:function(e){var r=this;return this.request({service:"hydra",resource:"messages",qs:e}).then(function(e){return new b.Page(e,r.webex)})},remove:function(e){var r=e.id||e;return this.request({method:"DELETE",service:"hydra",resource:"messages/".concat(r)}).then(function(e){if(204!==e.statusCode)return e.body})},fire:function(e){var r=this;return function(t){return r.trigger(e,t)}},onWebexApiEvent:function(e){var r=e.data.activity,t=h[r.verb];t&&this.getMessageEvent(r,t).then(this.fire(t))},getMessageEvent:function(e,r){var t=e.id,n=e.actor,i=n.entryUUID,o=n.emailAddress,u=e.object.id,s=e.target,a=s.id,E=s.url,l=s.tags,d=(0,T.getHydraClusterString)(this.webex,E),b=(0,f.default)(this.eventEnvelope);if(b.event=r,r===T.SDK_EVENT.EXTERNAL.EVENT_TYPE.DELETED){var p=(0,T.buildHydraPersonId)(i,d);return c.default.resolve(v(v({},b),{},{actorId:p,data:{id:(0,T.buildHydraMessageId)(u,d),personEmail:o||i,personId:p,roomId:(0,T.buildHydraRoomId)(a,d),roomType:y(l)}}))}return this.get((0,T.buildHydraMessageId)(t,d)).then(function(e){return v(v({},b),{},{actorId:e.personId,data:e})})},version:"1.150.0"}),m=N;exports.default=m;
},{"@babel/runtime-corejs2/core-js/object/keys":"d81a","@babel/runtime-corejs2/core-js/object/get-own-property-symbols":"DovH","@babel/runtime-corejs2/core-js/object/get-own-property-descriptor":"mQ9c","@babel/runtime-corejs2/core-js/object/get-own-property-descriptors":"Hv1v","@babel/runtime-corejs2/core-js/object/define-properties":"CpmN","@babel/runtime-corejs2/core-js/object/define-property":"eIqn","@babel/runtime-corejs2/helpers/interopRequireDefault":"LXwi","@babel/runtime-corejs2/core-js/reflect/apply":"Lf7Q","@babel/runtime-corejs2/core-js/reflect/delete-property":"CFlp","@babel/runtime-corejs2/core-js/promise":"eOfj","@babel/runtime-corejs2/helpers/defineProperty":"n5FU","lodash/isArray":"p0cq","lodash/cloneDeep":"Y0zI","@webex/common":"UeF0","@webex/webex-core":"bqGz"}],"TAth":[function(require,module,exports) {
"use strict";var e=require("@babel/runtime-corejs2/core-js/object/define-property"),r=require("@babel/runtime-corejs2/helpers/interopRequireDefault");e(exports,"__esModule",{value:!0}),exports.default=void 0,require("@webex/internal-plugin-conversation"),require("@webex/internal-plugin-mercury");var u=require("@webex/webex-core"),i=r(require("./messages"));(0,u.registerPlugin)("messages",i.default);var t=i.default;exports.default=t;
},{"@babel/runtime-corejs2/core-js/object/define-property":"eIqn","@babel/runtime-corejs2/helpers/interopRequireDefault":"LXwi","@webex/internal-plugin-conversation":"QrqD","@webex/internal-plugin-mercury":"njNR","@webex/webex-core":"bqGz","./messages":"gfl7"}],"HUku":[function(require,module,exports) {
var process = require("process");
var e=require("process");function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function t(){return!("undefined"==typeof window||!window.process||"renderer"!==window.process.type&&!window.process.__nwjs)||("undefined"==typeof navigator||!navigator.userAgent||!navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&("undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))}function C(e){if(e[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+e[0]+(this.useColors?"%c ":" ")+"+"+module.exports.humanize(this.diff),this.useColors){var o="color: "+this.color;e.splice(1,0,o,"color: inherit");var t=0,C=0;e[0].replace(/%[a-zA-Z%]/g,function(e){"%%"!==e&&(t++,"%c"===e&&(C=t))}),e.splice(C,0,o)}}function n(){var e;return"object"===("undefined"==typeof console?"undefined":o(console))&&console.log&&(e=console).log.apply(e,arguments)}function r(e){try{e?exports.storage.setItem("debug",e):exports.storage.removeItem("debug")}catch(o){}}function s(){var o;try{o=exports.storage.getItem("debug")}catch(t){}return!o&&void 0!==e&&"env"in e&&(o=void 0),o}function F(){try{return localStorage}catch(e){}}exports.log=n,exports.formatArgs=C,exports.save=r,exports.load=s,exports.useColors=t,exports.storage=F(),exports.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],module.exports=require("./common")(exports);var i=module.exports.formatters;i.j=function(e){try{return JSON.stringify(e)}catch(o){return"[UnexpectedJSONParseError]: "+o.message}};
},{"./common":"S6kH","process":"pBGv"}],"NZRl":[function(require,module,exports) {
"use strict";var e=require("@babel/runtime-corejs2/core-js/object/define-property"),r=require("@babel/runtime-corejs2/helpers/interopRequireDefault");e(exports,"__esModule",{value:!0}),exports.default=void 0;var t=r(require("@babel/runtime-corejs2/core-js/promise")),a=r(require("@babel/runtime-corejs2/core-js/json/stringify")),i=r(require("lodash/cloneDeep")),E=require("@webex/common"),o=require("@webex/webex-core"),s=require("debug")("memberships"),n=o.WebexPlugin.extend({listen:function(){var e=this;return(0,E.createEventEnvelope)(this.webex,E.SDK_EVENT.EXTERNAL.RESOURCE.MEMBERSHIPS).then(function(r){return e.eventEnvelope=r,e.webex.internal.mercury.connect().then(function(){e.listenTo(e.webex.internal.mercury,E.SDK_EVENT.INTERNAL.WEBEX_ACTIVITY,function(r){return e.onWebexApiEvent(r)})})})},create:function(e){return this.request({method:"POST",service:"hydra",resource:"memberships",body:e}).then(function(e){return e.body})},get:function(e){var r=e.id||e;return this.request({service:"hydra",resource:"memberships/".concat(r)}).then(function(e){return e.body.items||e.body})},list:function(e){var r=this;return this.request({service:"hydra",resource:"memberships",qs:e}).then(function(e){return new o.Page(e,r.webex)})},listWithReadStatus:function(e){var r=this,a=(0,E.deconstructHydraId)(e.roomId),i={id:a.id,cluster:a.cluster};return(0,E.ensureMyIdIsAvailable)(this.webex).then(function(){return r.webex.internal.services.waitForCatalog("postauth").then(function(){return r.webex.internal.conversation.get(i,{participantAckFilter:"all",activitiesLimit:0}).then(function(e){try{for(var a=e.id,o=(0,E.buildHydraRoomId)(a,i.cluster),s=e.participants.items,n={items:[]},d=(0,E.getHydraRoomType)(e.tags),T=r.webex.internal.me.id,u=e.tags.includes(E.SDK_EVENT.INTERNAL.ACTIVITY_TAG.HIDDEN),c=0;c<s.length;c+=1){var I=s[c],l={id:(0,E.buildHydraMembershipId)(I.entryUUID,a,i.cluster),roomId:o,personId:(0,E.buildHydraPersonId)(I.entryUUID),personEmail:I.entryEmailAddress||I.entryEmail,personDisplayName:I.displayName,personOrgId:(0,E.buildHydraOrgId)(I.orgId,i.cluster),isMonitor:!1,roomType:d};u&&l.personId===T&&(l.isRoomHidden=u),"roomProperties"in I&&("lastSeenActivityDate"in I.roomProperties&&(l.lastSeenId=(0,E.buildHydraMessageId)(I.roomProperties.lastSeenActivityUUID,i.cluster),l.lastSeenDate=I.roomProperties.lastSeenActivityDate),"isModerator"in I.roomProperties&&(l.isModerator=I.roomProperties.isModerator)),n.items.push(l)}return t.default.resolve(n)}catch(N){return t.default.reject(N)}})})})},remove:function(e){var r=e.id||e;return this.request({method:"DELETE",service:"hydra",resource:"memberships/".concat(r)}).then(function(e){if(204!==e.statusCode)return e.body})},update:function(e){var r=e.id||e;return this.request({method:"PUT",service:"hydra",resource:"memberships/".concat(r),body:e}).then(function(e){return e.body})},updateLastSeen:function(e){var r=this,t={id:(0,E.deconstructHydraId)(e.id).id},a=(0,E.deconstructHydraId)(e.roomId),i={id:a.id,cluster:a.cluster};return this.webex.internal.services.waitForCatalog("postauth").then(function(){return r.webex.internal.conversation.acknowledge(i,t).then(function(e){return{lastSeenId:(0,E.buildHydraMessageId)(e.object.id,i.cluster),id:(0,E.buildHydraMembershipId)(e.actor.entryUUID,e.target.id,i.cluster),personId:(0,E.buildHydraPersonId)(e.actor.entryUUID,i.cluster),personEmail:e.actor.emailAddress||e.actor.entryEmail,personDisplayName:e.actor.displayName,personOrgId:(0,E.buildHydraOrgId)(e.actor.orgId,i.cluster),roomId:(0,E.buildHydraRoomId)(e.target.id,i.cluster),roomType:(0,E.getHydraRoomType)(e.target.tags),isRoomHidden:!1,isMonitor:!1,created:e.published}})})},onWebexApiEvent:function(e){var r=this,t=e.data.activity;switch(t.verb){case E.SDK_EVENT.INTERNAL.ACTIVITY_VERB.CREATE:t.object.participants.items.map(function(e){var a=(0,i.default)(t);return a.target=(0,i.default)(t.object),a.object=(0,i.default)(e),r.getMembershipEvent(a,E.SDK_EVENT.EXTERNAL.EVENT_TYPE.CREATED)}).forEach(function(e){e&&(s('membership "created" payload: '.concat((0,a.default)(e))),r.trigger(E.SDK_EVENT.EXTERNAL.EVENT_TYPE.CREATED,e))});break;case E.SDK_EVENT.INTERNAL.ACTIVITY_VERB.ADD:var o=this.getMembershipEvent(t,E.SDK_EVENT.EXTERNAL.EVENT_TYPE.CREATED);o&&(s('membership "created" payload:             '.concat((0,a.default)(o))),this.trigger(E.SDK_EVENT.EXTERNAL.EVENT_TYPE.CREATED,o));break;case E.SDK_EVENT.INTERNAL.ACTIVITY_VERB.LEAVE:var n=this.getMembershipEvent(t,E.SDK_EVENT.EXTERNAL.EVENT_TYPE.DELETED);n&&(s('membership "deleted" payload:             '.concat((0,a.default)(n))),this.trigger(E.SDK_EVENT.EXTERNAL.EVENT_TYPE.DELETED,n));break;case E.SDK_EVENT.INTERNAL.ACTIVITY_VERB.ADD_MODERATOR:case E.SDK_EVENT.INTERNAL.ACTIVITY_VERB.REMOVE_MODERATOR:case E.SDK_EVENT.INTERNAL.ACTIVITY_VERB.HIDE:var d=this.getMembershipEvent(t,E.SDK_EVENT.EXTERNAL.EVENT_TYPE.UPDATED);d&&(s('membership "updated" payload:             '.concat((0,a.default)(d))),this.trigger(E.SDK_EVENT.EXTERNAL.EVENT_TYPE.UPDATED,d));break;case E.SDK_EVENT.INTERNAL.ACTIVITY_VERB.ACKNOWLEDGE:var T=this.getMembershipEvent(t,E.SDK_EVENT.EXTERNAL.EVENT_TYPE.SEEN);T&&(s('membership "updated" payload:             '.concat((0,a.default)(T))),this.trigger(E.SDK_EVENT.EXTERNAL.EVENT_TYPE.SEEN,T))}},getMembershipEvent:function(e,r){try{var t,a,o=(0,i.default)(this.eventEnvelope),s=e.verb!==E.SDK_EVENT.INTERNAL.ACTIVITY_VERB.HIDE?(0,E.getHydraClusterString)(this.webex,e.target.url):(0,E.getHydraClusterString)(this.webex,e.url);return o.event=r,o.data.created=e.published,o.actorId=(0,E.buildHydraPersonId)(e.actor.entryUUID,s),e.verb!==E.SDK_EVENT.INTERNAL.ACTIVITY_VERB.HIDE?(o.data.roomId=(0,E.buildHydraRoomId)(e.target.id,s),o.data.roomType=(0,E.getHydraRoomType)(e.target.tags),o.data.isRoomHidden=!1):(o.data.roomId=(0,E.buildHydraRoomId)(e.object.id,s),o.data.roomType=E.SDK_EVENT.EXTERNAL.SPACE_TYPE.DIRECT,o.data.isRoomHidden=!0),e.verb!==E.SDK_EVENT.INTERNAL.ACTIVITY_VERB.ACKNOWLEDGE&&(e.object.roomProperties&&e.object.roomProperties.isModerator?o.data.isModerator=!0:o.data.isModerator=!1),e.verb===E.SDK_EVENT.INTERNAL.ACTIVITY_VERB.ACKNOWLEDGE?(t=E.SDK_EVENT.INTERNAL.ACTIVITY_FIELD.ACTOR,a=E.SDK_EVENT.INTERNAL.ACTIVITY_FIELD.TARGET,o.data.lastSeenId=(0,E.buildHydraMessageId)(e.object.id,s)):e.verb===E.SDK_EVENT.INTERNAL.ACTIVITY_VERB.HIDE?(t=E.SDK_EVENT.INTERNAL.ACTIVITY_FIELD.ACTOR,a=E.SDK_EVENT.INTERNAL.ACTIVITY_FIELD.OBJECT):(t=E.SDK_EVENT.INTERNAL.ACTIVITY_FIELD.OBJECT,a=E.SDK_EVENT.INTERNAL.ACTIVITY_FIELD.TARGET),o.data.id=(0,E.buildHydraMembershipId)(e[t].entryUUID,e[a].id,s),o.data.personId=(0,E.buildHydraPersonId)(e[t].entryUUID,s),o.data.personEmail=e[t].emailAddress||e[t].entryEmail,o.data.personDisplayName=e[t].displayName,o.data.personOrgId=(0,E.buildHydraOrgId)(e[t].orgId,s),o}catch(n){return this.webex.logger.error("Unable to generate SDK event from mercury 'socket activity for memberships:".concat(r," event: ").concat(n.message)),null}},version:"1.150.0"}),d=n;exports.default=d;
},{"@babel/runtime-corejs2/core-js/object/define-property":"eIqn","@babel/runtime-corejs2/helpers/interopRequireDefault":"LXwi","@babel/runtime-corejs2/core-js/promise":"eOfj","@babel/runtime-corejs2/core-js/json/stringify":"E09K","lodash/cloneDeep":"Y0zI","@webex/common":"UeF0","@webex/webex-core":"bqGz","debug":"HUku"}],"X8Tt":[function(require,module,exports) {
"use strict";var e=require("@babel/runtime-corejs2/core-js/object/define-property"),r=require("@babel/runtime-corejs2/helpers/interopRequireDefault");e(exports,"__esModule",{value:!0}),exports.default=void 0,require("@webex/internal-plugin-conversation"),require("@webex/internal-plugin-mercury");var i=require("@webex/webex-core"),u=r(require("./memberships"));(0,i.registerPlugin)("memberships",u.default);var t=u.default;exports.default=t;
},{"@babel/runtime-corejs2/core-js/object/define-property":"eIqn","@babel/runtime-corejs2/helpers/interopRequireDefault":"LXwi","@webex/internal-plugin-conversation":"QrqD","@webex/internal-plugin-mercury":"njNR","@webex/webex-core":"bqGz","./memberships":"NZRl"}],"c46T":[function(require,module,exports) {
"use strict";var e=require("@babel/runtime-corejs2/core-js/object/define-property"),r=require("@babel/runtime-corejs2/helpers/interopRequireDefault");e(exports,"__esModule",{value:!0}),exports.default=void 0;var t=r(require("@babel/runtime-corejs2/core-js/promise")),n=require("@webex/webex-core"),o=n.Batcher.extend({namespace:"People",handleHttpSuccess:function(e){var r=this,n=e.body.items.map(function(e){return r.handleItemSuccess(e.id,e)});return e.body.notFoundIds&&n.concat(e.body.notFoundIds.map(function(e){return r.handleItemFailure(e)})),t.default.all(n)},handleItemFailure:function(e){return this.getDeferredForResponse(e).then(function(r){r.reject(e)})},handleItemSuccess:function(e,r){return this.getDeferredForResponse(e).then(function(e){e.resolve(r)})},fingerprintRequest:function(e){var r=this.webex.people.inferPersonIdFromUuid(e);return t.default.resolve(r)},fingerprintResponse:function(e){return t.default.resolve(e)},prepareRequest:function(e){return t.default.resolve(e.join())},submitHttpRequest:function(e){return this.webex.request({service:"hydra",resource:"people/?id=".concat(e,"&showAllTypes=").concat(this.config.showAllTypes)})}}),u=o;exports.default=u;
},{"@babel/runtime-corejs2/core-js/object/define-property":"eIqn","@babel/runtime-corejs2/helpers/interopRequireDefault":"LXwi","@babel/runtime-corejs2/core-js/promise":"eOfj","@webex/webex-core":"bqGz"}],"yNPR":[function(require,module,exports) {
"use strict";var e=require("@babel/runtime-corejs2/core-js/object/define-property"),r=require("@babel/runtime-corejs2/helpers/interopRequireDefault");e(exports,"__esModule",{value:!0}),exports.default=void 0;var t,i=r(require("@babel/runtime-corejs2/core-js/promise")),u=r(require("@babel/runtime-corejs2/core-js/array/is-array")),o=r(require("@babel/runtime-corejs2/core-js/object/get-own-property-descriptor")),n=r(require("@babel/runtime-corejs2/helpers/applyDecoratedDescriptor")),s=require("@webex/webex-core"),c=require("@webex/common"),a=r(require("./people-batcher")),l=s.WebexPlugin.extend((t={namespace:"People",children:{batcher:a.default},get:function(e){if(!e)return i.default.reject(new Error("A person with an id is required"));if("me"===e)return this._getMe();var r=e.personId||e.id||e;return this.batcher.request(r)},list:function(e){var r=this;if((0,u.default)(e)){var t=e;return i.default.all(t.map(function(e){return r.batcher.request(e)}))}return this.request({service:"hydra",resource:"people",qs:e}).then(function(e){return new s.Page(e,r.webex)})},inferPersonIdFromUuid:function(e){try{if(c.base64.decode(e).includes("ciscospark://"))return e}catch(r){}return c.base64.encode("ciscospark://us/PEOPLE/".concat(e))},_getMe:function(){return this.webex.request({service:"hydra",resource:"people/me"}).then(function(e){return e.body})},version:"1.150.0"},(0,n.default)(t,"_getMe",[c.oneFlight],(0,o.default)(t,"_getMe"),t),t)),d=l;exports.default=d;
},{"@babel/runtime-corejs2/core-js/object/define-property":"eIqn","@babel/runtime-corejs2/helpers/interopRequireDefault":"LXwi","@babel/runtime-corejs2/core-js/promise":"eOfj","@babel/runtime-corejs2/core-js/array/is-array":"BpbX","@babel/runtime-corejs2/core-js/object/get-own-property-descriptor":"mQ9c","@babel/runtime-corejs2/helpers/applyDecoratedDescriptor":"WYJH","@webex/webex-core":"bqGz","@webex/common":"UeF0","./people-batcher":"c46T"}],"DFnu":[function(require,module,exports) {
"use strict";var e=require("@babel/runtime-corejs2/core-js/object/define-property");e(exports,"__esModule",{value:!0}),exports.default=void 0;var r={people:{batcherWait:100,batcherMaxCalls:10,batcherMaxWait:1500,showAllTypes:!1}};exports.default=r;
},{"@babel/runtime-corejs2/core-js/object/define-property":"eIqn"}],"slN8":[function(require,module,exports) {
"use strict";var e=require("@babel/runtime-corejs2/core-js/object/define-property"),r=require("@babel/runtime-corejs2/helpers/interopRequireDefault");e(exports,"__esModule",{value:!0}),e(exports,"default",{enumerable:!0,get:function(){return t.default}});var u=require("@webex/webex-core"),t=r(require("./people")),i=r(require("./config"));(0,u.registerPlugin)("people",t.default,{config:i.default});
},{"@babel/runtime-corejs2/core-js/object/define-property":"eIqn","@babel/runtime-corejs2/helpers/interopRequireDefault":"LXwi","@webex/webex-core":"bqGz","./people":"yNPR","./config":"DFnu"}],"Cqwp":[function(require,module,exports) {
var process = require("process");
var e=require("process");function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function t(){return!("undefined"==typeof window||!window.process||"renderer"!==window.process.type&&!window.process.__nwjs)||("undefined"==typeof navigator||!navigator.userAgent||!navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&("undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))}function C(e){if(e[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+e[0]+(this.useColors?"%c ":" ")+"+"+module.exports.humanize(this.diff),this.useColors){var o="color: "+this.color;e.splice(1,0,o,"color: inherit");var t=0,C=0;e[0].replace(/%[a-zA-Z%]/g,function(e){"%%"!==e&&(t++,"%c"===e&&(C=t))}),e.splice(C,0,o)}}function n(){var e;return"object"===("undefined"==typeof console?"undefined":o(console))&&console.log&&(e=console).log.apply(e,arguments)}function r(e){try{e?exports.storage.setItem("debug",e):exports.storage.removeItem("debug")}catch(o){}}function s(){var o;try{o=exports.storage.getItem("debug")}catch(t){}return!o&&void 0!==e&&"env"in e&&(o=void 0),o}function F(){try{return localStorage}catch(e){}}exports.log=n,exports.formatArgs=C,exports.save=r,exports.load=s,exports.useColors=t,exports.storage=F(),exports.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],module.exports=require("./common")(exports);var i=module.exports.formatters;i.j=function(e){try{return JSON.stringify(e)}catch(o){return"[UnexpectedJSONParseError]: "+o.message}};
},{"./common":"S6kH","process":"pBGv"}],"eJs0":[function(require,module,exports) {
"use strict";var e=require("@babel/runtime-corejs2/core-js/object/keys"),t=require("@babel/runtime-corejs2/core-js/object/get-own-property-symbols"),r=require("@babel/runtime-corejs2/core-js/object/get-own-property-descriptor"),n=require("@babel/runtime-corejs2/core-js/object/get-own-property-descriptors"),a=require("@babel/runtime-corejs2/core-js/object/define-properties"),o=require("@babel/runtime-corejs2/core-js/object/define-property"),i=require("@babel/runtime-corejs2/core-js/array/from"),u=require("@babel/runtime-corejs2/core-js/symbol"),c=require("@babel/runtime-corejs2/core-js/symbol/iterator"),s=require("@babel/runtime-corejs2/core-js/array/is-array"),l=require("@babel/runtime-corejs2/helpers/interopRequireDefault");o(exports,"__esModule",{value:!0}),exports.default=void 0;var d=l(require("@babel/runtime-corejs2/regenerator")),b=l(require("@babel/runtime-corejs2/core-js/promise")),f=l(require("@babel/runtime-corejs2/core-js/json/stringify")),E=l(require("@babel/runtime-corejs2/helpers/defineProperty")),v=l(require("@babel/runtime-corejs2/helpers/asyncToGenerator")),p=l(require("lodash/cloneDeep")),y=require("@webex/webex-core"),m=require("@webex/common");function h(e,t){var r=void 0!==u&&e[c]||e["@@iterator"];if(!r){if(s(e)||(r=T(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,l=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){l=!0,o=e},f:function(){try{i||null==r.return||r.return()}finally{if(l)throw o}}}}function T(e,t){if(e){if("string"==typeof e)return g(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?i(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?g(e,t):void 0}}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function j(n,a){var o=e(n);if(t){var i=t(n);a&&(i=i.filter(function(e){return r(n,e).enumerable})),o.push.apply(o,i)}return o}function D(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?j(Object(i),!0).forEach(function(t){(0,E.default)(e,t,i[t])}):n?a(e,n(i)):j(Object(i)).forEach(function(t){o(e,t,r(i,t))})}return e}var A=require("debug")("rooms"),N=y.WebexPlugin.extend({listen:function(){var e=this;return(0,m.createEventEnvelope)(this.webex,m.SDK_EVENT.EXTERNAL.RESOURCE.ROOMS).then(function(t){return e.eventEnvelope=t,e.webex.internal.mercury.connect().then(function(){e.listenTo(e.webex.internal.mercury,m.SDK_EVENT.INTERNAL.WEBEX_ACTIVITY,function(t){return e.onWebexApiEvent(t)})})})},create:function(e){return this.request({method:"POST",service:"hydra",resource:"rooms",body:e}).then(function(e){return e.body})},get:function(e,t){var r=e.id||e;return this.request({service:"hydra",resource:"rooms/".concat(r),qs:t}).then(function(e){return e.body.items||e.body})},list:function(e){var t=this;return this.request({service:"hydra",resource:"rooms/",qs:e}).then(function(e){return new y.Page(e,t.webex)})},listWithReadStatus:function(){var e=arguments,t=this;return(0,v.default)(d.default.mark(function r(){var n,a,o;return d.default.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(n=e.length>0&&void 0!==e[0]?e[0]:0,a=new Date,o={activitiesLimit:0,computeTitleIfEmpty:!0,conversationsLimit:1e3,isActive:!0},!(n>0)){r.next=8;break}o.conversationsLimit=n,o.sinceDate=a.setDate(a.getDate()-14),r.next=10;break;case 8:if(!(n<0||n>100)){r.next=10;break}return r.abrupt("return",b.default.reject(new Error("rooms.listWithReadStatus: optional maxRecent parameter must be an integer between 1 and 100")));case 10:return r.abrupt("return",t.webex.internal.services.waitForCatalog("postauth").then(function(){return t.webex.internal.conversation.list(o)}).then(function(e){return x(t.webex,e)}));case 11:case"end":return r.stop()}},r)}))()},getWithReadStatus:function(e){var t=this,r=(0,m.deconstructHydraId)(e),n={id:r.id,cluster:r.cluster};return this.webex.internal.services.waitForCatalog("postauth").then(function(){return t.webex.internal.conversation.get(n,{computeTitleIfEmpty:!0,activitiesLimit:0}).then(function(e){return I(t.webex,e)})})},remove:function(e){var t=e.id||e;return this.request({method:"DELETE",service:"hydra",resource:"rooms/".concat(t)}).then(function(e){if(204!==e.statusCode)return e.body})},update:function(e){var t=e.id;return this.request({method:"PUT",service:"hydra",resource:"rooms/".concat(t),body:e}).then(function(e){return e.body})},onWebexApiEvent:function(e){var t=e.data.activity;switch(t.verb){case m.SDK_EVENT.INTERNAL.ACTIVITY_VERB.CREATE:var r=this.getRoomEvent(this.webex,t,m.SDK_EVENT.EXTERNAL.EVENT_TYPE.CREATED);r&&(A('room "created" payload:             '.concat((0,f.default)(r))),this.trigger(m.SDK_EVENT.EXTERNAL.EVENT_TYPE.CREATED,r));break;case m.SDK_EVENT.INTERNAL.ACTIVITY_VERB.UPDATE:case m.SDK_EVENT.INTERNAL.ACTIVITY_VERB.LOCK:case m.SDK_EVENT.INTERNAL.ACTIVITY_VERB.UNLOCK:A("generating a rooms:updated based on ".concat(t.verb," activity"));var n=this.getRoomEvent(this.webex,t,m.SDK_EVENT.EXTERNAL.EVENT_TYPE.UPDATED);n&&(A('room "updated" payload:             '.concat((0,f.default)(n))),this.trigger(m.SDK_EVENT.EXTERNAL.EVENT_TYPE.UPDATED,n))}},getRoomEvent:function(e,t,r){try{var n=(0,p.default)(this.eventEnvelope),a=(0,m.getHydraClusterString)(e,t.url),o=t.object.tags;if(n.event=r,n.data.created=t.published,n.actorId=(0,m.buildHydraPersonId)(t.actor.entryUUID,a),t.object.id?n.data.id=(0,m.buildHydraRoomId)(t.object.id,a):n.data.id=(0,m.buildHydraRoomId)(t.target.id,a),r===m.SDK_EVENT.EXTERNAL.EVENT_TYPE.CREATED)n.data.creatorId=(0,m.buildHydraPersonId)(t.actor.entryUUID,a),n.data.lastActivity=t.published;else{if(r!==m.SDK_EVENT.EXTERNAL.EVENT_TYPE.UPDATED)throw new Error("unexpected event type");"update"===t.verb&&(o=t.target.tags),t.object.creatorUUID&&(A("Found a creatorId: ".concat(t.object.creatorUUID," in a ").concat(t.verb," event")),n.data.creatorId=(0,m.buildHydraPersonId)(t.object.creatorUUID,a))}return n.data.type=(0,m.getHydraRoomType)(o),n.data.isLocked=o.includes(m.SDK_EVENT.INTERNAL.ACTIVITY_TAG.LOCKED),n}catch(i){return this.webex.logger.error("Unable to generate SDK event from mercury socket activity for rooms:".concat(r," event: ").concat(i.message)),null}},version:"1.150.0"}),w=N;function I(e,t){return R.apply(this,arguments)}function R(){return(R=(0,v.default)(d.default.mark(function e(t,r){var n,a,o,i,u;return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=(0,m.getHydraRoomType)(r.tags),a=(0,m.getHydraClusterString)(t,r.url),o=r.displayName?r.displayName:r.computedTitle,i=r.lastReadableActivityDate?r.lastReadableActivityDate:r.lastRelevantActivityDate,u=D(D(D({id:(0,m.buildHydraRoomId)(r.id,a),type:n},o&&{title:r.displayName}),i&&{lastActivityDate:i}),{},{lastSeenActivityDate:r.lastSeenActivityDate?r.lastSeenActivityDate:new Date(0).toISOString()}),e.abrupt("return",b.default.resolve(u));case 9:return e.prev=9,e.t0=e.catch(0),e.abrupt("return",b.default.reject(e.t0));case 12:case"end":return e.stop()}},e,null,[[0,9]])}))).apply(this,arguments)}function x(e,t){return S.apply(this,arguments)}function S(){return(S=(0,v.default)(d.default.mark(function e(t,r){var n,a,o,i,u;return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n={items:[]},a=[],o=h(r);try{for(o.s();!(i=o.n()).done;)u=i.value,a.push(I(t,u))}catch(c){o.e(c)}finally{o.f()}return e.abrupt("return",b.default.all(a).then(function(e){return n.items=e,n.items.sort(function(e,t){return e.lastActivityDate<t.lastActivityDate?1:-1}),n}));case 5:case"end":return e.stop()}},e)}))).apply(this,arguments)}exports.default=w;
},{"@babel/runtime-corejs2/core-js/object/keys":"d81a","@babel/runtime-corejs2/core-js/object/get-own-property-symbols":"DovH","@babel/runtime-corejs2/core-js/object/get-own-property-descriptor":"mQ9c","@babel/runtime-corejs2/core-js/object/get-own-property-descriptors":"Hv1v","@babel/runtime-corejs2/core-js/object/define-properties":"CpmN","@babel/runtime-corejs2/core-js/object/define-property":"eIqn","@babel/runtime-corejs2/core-js/array/from":"ybNn","@babel/runtime-corejs2/core-js/symbol":"mr6k","@babel/runtime-corejs2/core-js/symbol/iterator":"uGl8","@babel/runtime-corejs2/core-js/array/is-array":"BpbX","@babel/runtime-corejs2/helpers/interopRequireDefault":"LXwi","@babel/runtime-corejs2/regenerator":"i9LV","@babel/runtime-corejs2/core-js/promise":"eOfj","@babel/runtime-corejs2/core-js/json/stringify":"E09K","@babel/runtime-corejs2/helpers/defineProperty":"n5FU","@babel/runtime-corejs2/helpers/asyncToGenerator":"OYLD","lodash/cloneDeep":"Y0zI","@webex/webex-core":"bqGz","@webex/common":"UeF0","debug":"Cqwp"}],"JBKg":[function(require,module,exports) {
"use strict";var e=require("@babel/runtime-corejs2/core-js/object/define-property"),r=require("@babel/runtime-corejs2/helpers/interopRequireDefault");e(exports,"__esModule",{value:!0}),exports.default=void 0,require("@webex/internal-plugin-conversation"),require("@webex/internal-plugin-mercury");var u=require("@webex/webex-core"),i=r(require("./rooms"));(0,u.registerPlugin)("rooms",i.default);var t=i.default;exports.default=t;
},{"@babel/runtime-corejs2/core-js/object/define-property":"eIqn","@babel/runtime-corejs2/helpers/interopRequireDefault":"LXwi","@webex/internal-plugin-conversation":"QrqD","@webex/internal-plugin-mercury":"njNR","@webex/webex-core":"bqGz","./rooms":"eJs0"}],"GWiQ":[function(require,module,exports) {
"use strict";var e=require("@babel/runtime-corejs2/core-js/object/define-property");e(exports,"__esModule",{value:!0}),exports.default=void 0;var r=require("@webex/webex-core"),t=r.WebexPlugin.extend({create:function(e){return this.request({method:"POST",service:"hydra",resource:"teams",body:e}).then(function(e){return e.body})},get:function(e,r){var t=e.id||e;return this.request({service:"hydra",resource:"teams/".concat(t),qs:r}).then(function(e){return e.body.items||e.body})},list:function(e){var t=this;return this.request({service:"hydra",resource:"teams/",qs:e}).then(function(e){return new r.Page(e,t.webex)})},update:function(e){var r=e.id;return this.request({method:"PUT",service:"hydra",resource:"teams/".concat(r),body:e}).then(function(e){return e.body})},version:"1.150.0"}),n=t;exports.default=n;
},{"@babel/runtime-corejs2/core-js/object/define-property":"eIqn","@webex/webex-core":"bqGz"}],"aUdb":[function(require,module,exports) {
"use strict";var e=require("@babel/runtime-corejs2/core-js/object/define-property"),r=require("@babel/runtime-corejs2/helpers/interopRequireDefault");e(exports,"__esModule",{value:!0}),exports.default=void 0;var t=require("@webex/webex-core"),u=r(require("./teams"));(0,t.registerPlugin)("teams",u.default);var a=u.default;exports.default=a;
},{"@babel/runtime-corejs2/core-js/object/define-property":"eIqn","@babel/runtime-corejs2/helpers/interopRequireDefault":"LXwi","@webex/webex-core":"bqGz","./teams":"GWiQ"}],"Gc5J":[function(require,module,exports) {
"use strict";var e=require("@babel/runtime-corejs2/core-js/object/define-property");e(exports,"__esModule",{value:!0}),exports.default=void 0;var r=require("@webex/webex-core"),t=r.WebexPlugin.extend({create:function(e){return this.request({method:"POST",service:"hydra",resource:"team/memberships",body:e}).then(function(e){return e.body})},get:function(e){var r=e.id||e;return this.request({service:"hydra",resource:"team/memberships/".concat(r)}).then(function(e){return e.body.items||e.body})},list:function(e){var t=this;return this.request({service:"hydra",resource:"team/memberships",qs:e}).then(function(e){return new r.Page(e,t.webex)})},remove:function(e){var r=e.id||e;return this.request({method:"DELETE",service:"hydra",resource:"team/memberships/".concat(r)}).then(function(e){if(204!==e.statusCode)return e.body})},update:function(e){var r=e.id||e;return this.request({method:"PUT",service:"hydra",resource:"team/memberships/".concat(r),body:e}).then(function(e){return e.body})},version:"1.150.0"}),s=t;exports.default=s;
},{"@babel/runtime-corejs2/core-js/object/define-property":"eIqn","@webex/webex-core":"bqGz"}],"cHCT":[function(require,module,exports) {
"use strict";var e=require("@babel/runtime-corejs2/core-js/object/define-property"),r=require("@babel/runtime-corejs2/helpers/interopRequireDefault");e(exports,"__esModule",{value:!0}),exports.default=void 0;var t=require("@webex/webex-core"),u=r(require("./team-memberships"));(0,t.registerPlugin)("teamMemberships",u.default);var i=u.default;exports.default=i;
},{"@babel/runtime-corejs2/core-js/object/define-property":"eIqn","@babel/runtime-corejs2/helpers/interopRequireDefault":"LXwi","@webex/webex-core":"bqGz","./team-memberships":"Gc5J"}],"OQZv":[function(require,module,exports) {
"use strict";var e=require("@babel/runtime-corejs2/core-js/object/define-property");e(exports,"__esModule",{value:!0}),exports.default=void 0;var r=require("@webex/webex-core"),t=r.WebexPlugin.extend({create:function(e){return this.request({method:"POST",service:"hydra",resource:"webhooks",body:e}).then(function(e){return e.body})},get:function(e){var r=e.id||e;return this.request({service:"hydra",resource:"webhooks/".concat(r)}).then(function(e){return e.body.items||e.body})},list:function(e){var t=this;return this.request({service:"hydra",resource:"webhooks/",qs:e}).then(function(e){return new r.Page(e,t.webex)})},remove:function(e){var r=e.id||e;return this.request({method:"DELETE",service:"hydra",resource:"webhooks/".concat(r)}).then(function(e){if(204!==e.statusCode)return e.body})},update:function(e){var r=e.id;return this.request({method:"PUT",service:"hydra",resource:"webhooks/".concat(r),body:e}).then(function(e){return e.body})},version:"1.150.0"}),o=t;exports.default=o;
},{"@babel/runtime-corejs2/core-js/object/define-property":"eIqn","@webex/webex-core":"bqGz"}],"dI2D":[function(require,module,exports) {
"use strict";var e=require("@babel/runtime-corejs2/core-js/object/define-property"),r=require("@babel/runtime-corejs2/helpers/interopRequireDefault");e(exports,"__esModule",{value:!0}),exports.default=void 0;var o=require("@webex/webex-core"),t=r(require("./webhooks"));(0,o.registerPlugin)("webhooks",t.default);var u=t.default;exports.default=u;
},{"@babel/runtime-corejs2/core-js/object/define-property":"eIqn","@babel/runtime-corejs2/helpers/interopRequireDefault":"LXwi","@webex/webex-core":"bqGz","./webhooks":"OQZv"}],"PlDz":[function(require,module,exports) {
"use strict";var e=require("@babel/runtime-corejs2/core-js/object/define-property"),r=require("@babel/runtime-corejs2/helpers/interopRequireDefault");e(exports,"__esModule",{value:!0}),exports.default=void 0;var t=r(require("@babel/runtime-corejs2/helpers/classCallCheck")),a=r(require("@babel/runtime-corejs2/helpers/createClass")),o=r(require("@babel/runtime-corejs2/core-js/weak-map")),u=r(require("@babel/runtime-corejs2/core-js/json/stringify")),n=r(require("@babel/runtime-corejs2/core-js/promise")),l=r(require("@babel/runtime-corejs2/core-js/reflect/delete-property")),i=require("@webex/webex-core"),s=new o.default,c=new o.default,d=function(){function e(r){(0,t.default)(this,e),this.Bound=function(){function e(r,a){(0,t.default)(this,e),s.set(this,r),c.set(this,a.logger)}return(0,a.default)(e,[{key:"_getRawData",value:function(){var e=localStorage.getItem(r);return e?JSON.parse(e):{}}},{key:"_load",value:function(){return this._getRawData()[s.get(this)]||{}}},{key:"_save",value:function(e){var t=this._getRawData();t[s.get(this)]=e,localStorage.setItem(r,(0,u.default)(t))}},{key:"clear",value:function(){return c.get(this).info("local-storage-store-adapter: clearing localStorage"),n.default.resolve(localStorage.removeItem(r))}},{key:"del",value:function(e){var r=this;return new n.default(function(t){c.get(r).info("local-storage-store-adapter: deleting `".concat(e,"`"));var a=r._load();(0,l.default)(a,e),r._save(a),t()})}},{key:"get",value:function(e){var r=this;return new n.default(function(t,a){c.get(r).debug("local-storage-store-adapter: reading `".concat(e,"`"));var o=r._load()[e];return void 0!==o?t(o):a(new i.NotFoundError("No value found for ".concat(e)))})}},{key:"put",value:function(e,r){var t=this;return new n.default(function(a){c.get(t).debug("local-storage-store-adapter: writing `".concat(e,"`"));var o=t._load();o[e]=r,t._save(o),a()})}}]),e}()}return(0,a.default)(e,[{key:"bind",value:function(e,r){return r=r||{},e?r.logger?(r.logger.debug("local-storage-store-adapter: returning binding"),n.default.resolve(new this.Bound(e,r))):n.default.reject(new Error("`options.logger` is required")):n.default.reject(new Error("`namespace` is required"))}}]),e}();exports.default=d;
},{"@babel/runtime-corejs2/core-js/object/define-property":"eIqn","@babel/runtime-corejs2/helpers/interopRequireDefault":"LXwi","@babel/runtime-corejs2/helpers/classCallCheck":"Tzth","@babel/runtime-corejs2/helpers/createClass":"xM5U","@babel/runtime-corejs2/core-js/weak-map":"HKHU","@babel/runtime-corejs2/core-js/json/stringify":"E09K","@babel/runtime-corejs2/core-js/promise":"eOfj","@babel/runtime-corejs2/core-js/reflect/delete-property":"CFlp","@webex/webex-core":"bqGz"}],"aKZq":[function(require,module,exports) {
"use strict";var e=require("@babel/runtime-corejs2/core-js/object/define-property"),r=require("@babel/runtime-corejs2/helpers/interopRequireDefault");e(exports,"__esModule",{value:!0}),exports.default=void 0;var t=require("@webex/webex-core"),o=r(require("@webex/storage-adapter-local-storage")),a={boundedAdapter:new o.default("webex"),unboundedAdapter:t.MemoryStoreAdapter};exports.default=a;
},{"@babel/runtime-corejs2/core-js/object/define-property":"eIqn","@babel/runtime-corejs2/helpers/interopRequireDefault":"LXwi","@webex/webex-core":"bqGz","@webex/storage-adapter-local-storage":"PlDz"}],"WT70":[function(require,module,exports) {
"use strict";var e=require("@babel/runtime-corejs2/core-js/object/define-property"),r=require("@babel/runtime-corejs2/helpers/interopRequireDefault");e(exports,"__esModule",{value:!0}),exports.default=void 0;var t=r(require("./config-storage")),a={hydra:"https://api.ciscospark.com/v1",hydraServiceUrl:"https://api.ciscospark.com/v1",credentials:{clientType:"confidential"},device:{validateDomains:!0,ephemeral:!0},storage:{boundedAdapter:t.default,unboundedAdapter:t.default}};exports.default=a;
},{"@babel/runtime-corejs2/core-js/object/define-property":"eIqn","@babel/runtime-corejs2/helpers/interopRequireDefault":"LXwi","./config-storage":"aKZq"}],"dP05":[function(require,module,exports) {
"use strict";require("@webex/plugin-authorization"),require("@webex/internal-plugin-calendar"),require("@webex/internal-plugin-device"),require("@webex/internal-plugin-presence"),require("@webex/internal-plugin-support"),require("@webex/plugin-attachment-actions"),require("@webex/plugin-device-manager"),require("@webex/plugin-logger"),require("@webex/plugin-meetings"),require("@webex/plugin-messages"),require("@webex/plugin-memberships"),require("@webex/plugin-people"),require("@webex/plugin-rooms"),require("@webex/plugin-teams"),require("@webex/plugin-team-memberships"),require("@webex/plugin-webhooks");var e=require("lodash/merge"),r=require("@webex/webex-core").default,i=require("./config"),n=r.extend({webex:!0,version:"1.150.0"});n.init=function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r.config=e({},i,r.config),new n(r)},module.exports=n;
},{"@webex/plugin-authorization":"Ile2","@webex/internal-plugin-calendar":"BM8P","@webex/internal-plugin-device":"Ori7","@webex/internal-plugin-presence":"Yhuf","@webex/internal-plugin-support":"m8Je","@webex/plugin-attachment-actions":"KWl7","@webex/plugin-device-manager":"KF6p","@webex/plugin-logger":"qshP","@webex/plugin-meetings":"osBf","@webex/plugin-messages":"TAth","@webex/plugin-memberships":"X8Tt","@webex/plugin-people":"slN8","@webex/plugin-rooms":"JBKg","@webex/plugin-teams":"aUdb","@webex/plugin-team-memberships":"cHCT","@webex/plugin-webhooks":"dI2D","lodash/merge":"yubd","@webex/webex-core":"bqGz","./config":"WT70"}],"yAV5":[function(require,module,exports) {
var global = arguments[3];
var e=arguments[3];e._babelPolyfill||require("@babel/polyfill"),module.exports=require("./webex");
},{"@babel/polyfill":"JxEC","./webex":"dP05"}],"wVSU":[function(require,module,exports) {
"use strict";function t(n){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(n)}function n(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function r(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),n&&p(t,n)}function o(t){var n=f();return function(){var r,o=l(t);if(n){var u=l(this).constructor;r=Reflect.construct(o,arguments,u)}else r=o.apply(this,arguments);return e(this,r)}}function e(n,r){return!r||"object"!==t(r)&&"function"!=typeof r?u(n):r}function u(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function c(t){var n="function"==typeof Map?new Map:void 0;return(c=function(t){if(null===t||!a(t))return t;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==n){if(n.has(t))return n.get(t);n.set(t,r)}function r(){return i(t,arguments,l(this).constructor)}return r.prototype=Object.create(t.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),p(r,t)})(t)}function i(t,n,r){return(i=f()?Reflect.construct:function(t,n,r){var o=[null];o.push.apply(o,n);var e=new(Function.bind.apply(t,o));return r&&p(e,r.prototype),e}).apply(null,arguments)}function f(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}function a(t){return-1!==Function.toString.call(t).indexOf("[native code]")}function p(t,n){return(p=Object.setPrototypeOf||function(t,n){return t.__proto__=n,t})(t,n)}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var s=function(t){r(i,c(Error));var e=o(i);function i(t){var r;return n(this,i),r=e.call(this,"Format functions must be synchronous taking a two arguments: (info, opts)\nFound: ".concat(t.toString().split("\n")[0],"\n")),Error.captureStackTrace(u(r),i),r}return i}();module.exports=function(t){if(t.length>2)throw new s(t);function n(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.options=t}function r(t){return new n(t)}return n.prototype.transform=t,r.Format=n,r};
},{}],"YRNP":[function(require,module,exports) {
var e={};module.exports=e;var g={reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],inverse:[7,27],hidden:[8,28],strikethrough:[9,29],black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],gray:[90,39],grey:[90,39],brightRed:[91,39],brightGreen:[92,39],brightYellow:[93,39],brightBlue:[94,39],brightMagenta:[95,39],brightCyan:[96,39],brightWhite:[97,39],bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],bgGray:[100,49],bgGrey:[100,49],bgBrightRed:[101,49],bgBrightGreen:[102,49],bgBrightYellow:[103,49],bgBrightBlue:[104,49],bgBrightMagenta:[105,49],bgBrightCyan:[106,49],bgBrightWhite:[107,49],blackBG:[40,49],redBG:[41,49],greenBG:[42,49],yellowBG:[43,49],blueBG:[44,49],magentaBG:[45,49],cyanBG:[46,49],whiteBG:[47,49]};Object.keys(g).forEach(function(r){var t=g[r],b=e[r]=[];b.open="["+t[0]+"m",b.close="["+t[1]+"m"});
},{}],"yX98":[function(require,module,exports) {
var process = require("process");
var e=require("process");module.exports=function(r,n){var t=(n=n||e.argv).indexOf("--"),i=/^-{1,2}/.test(r)?"":"--",o=n.indexOf(i+r);return-1!==o&&(-1===t||o<t)};
},{"process":"pBGv"}],"O372":[function(require,module,exports) {
var process = require("process");
var r=require("process"),e=require("os"),o=require("./has-flag.js"),t=r.env,n=void 0;function s(r){return 0!==r&&{level:r,hasBasic:!0,has256:r>=2,has16m:r>=3}}function i(s){if(!1===n)return 0;if(o("color=16m")||o("color=full")||o("color=truecolor"))return 3;if(o("color=256"))return 2;if(s&&!s.isTTY&&!0!==n)return 0;var i=n?1:0;if("win32"===r.platform){var u=e.release().split(".");return Number(r.versions.node.split(".")[0])>=8&&Number(u[0])>=10&&Number(u[2])>=10586?Number(u[2])>=14931?3:2:1}if("CI"in t)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI"].some(function(r){return r in t})||"codeship"===t.CI_NAME?1:i;if("TEAMCITY_VERSION"in t)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(t.TEAMCITY_VERSION)?1:0;if("TERM_PROGRAM"in t){var l=parseInt((t.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(t.TERM_PROGRAM){case"iTerm.app":return l>=3?3:2;case"Hyper":return 3;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(t.TERM)?2:/^screen|^xterm|^vt100|^rxvt|color|ansi|cygwin|linux/i.test(t.TERM)?1:"COLORTERM"in t?1:(t.TERM,i)}function u(r){return s(i(r))}o("no-color")||o("no-colors")||o("color=false")?n=!1:(o("color")||o("colors")||o("color=true")||o("color=always"))&&(n=!0),"FORCE_COLOR"in t&&(n=0===t.FORCE_COLOR.length||0!==parseInt(t.FORCE_COLOR,10)),module.exports={supportsColor:u,stdout:u(r.stdout),stderr:u(r.stderr)};
},{"os":"zv8z","./has-flag.js":"yX98","process":"pBGv"}],"dKCW":[function(require,module,exports) {
module.exports=function(o,r){var t="";o=(o=o||"Run the trap, drop the bass").split("");var a={a:["@","","","","","",""],b:["","","","","",""],c:["","",""],d:["","","","","",""],e:["","","","","","","",""],f:[""],g:[""],h:["","","","","",""],i:[""],j:[""],k:["","","",""],l:[""],m:["","","","","",""],n:["","","","","",""],o:["","","","","","","","",""],p:["",""],q:[""],r:["","","","","",""],s:["","","",""],t:["","",""],u:["",""],v:[""],w:["","","",""],x:["","","",""],y:["","",""],z:["",""]};return o.forEach(function(o){o=o.toLowerCase();var r=a[o]||[" "],e=Math.floor(Math.random()*r.length);t+=void 0!==a[o]?a[o][e]:o}),t};
},{}],"hBBH":[function(require,module,exports) {
module.exports=function(i,n){i=i||"   he is here   ";var o={up:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],down:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],mid:["","","","","","","","","","","","","","","","","","","","",""," "]},d=[].concat(o.up,o.down,o.mid);function r(i){return Math.floor(Math.random()*i)}function u(i){var n=!1;return d.filter(function(o){n=o===i}),n}return function(i,n){var d,e,t="";for(e in(n=n||{}).up=void 0===n.up||n.up,n.mid=void 0===n.mid||n.mid,n.down=void 0===n.down||n.down,n.size=void 0!==n.size?n.size:"maxi",i=i.split(""))if(!u(e)){switch(t+=i[e],d={up:0,down:0,mid:0},n.size){case"mini":d.up=r(8),d.mid=r(2),d.down=r(8);break;case"maxi":d.up=r(16)+3,d.mid=r(4)+1,d.down=r(64)+3;break;default:d.up=r(8)+1,d.mid=r(6)/2,d.down=r(8)+1}var a=["up","mid","down"];for(var m in a)for(var f=a[m],p=0;p<=d[f];p++)n[f]&&(t+=o[f][r(o[f].length)])}return t}(i,n)};
},{}],"SL7v":[function(require,module,exports) {
module.exports=function(e){return function(r,t,n){if(" "===r)return r;switch(t%3){case 0:return e.red(r);case 1:return e.white(r);case 2:return e.blue(r)}}};
},{}],"waGA":[function(require,module,exports) {
module.exports=function(n){return function(e,r,t){return r%2==0?e:n.inverse(e)}};
},{}],"F3lJ":[function(require,module,exports) {
module.exports=function(e){var n=["red","yellow","green","blue","magenta"];return function(r,t,u){return" "===r?r:e[n[t++%n.length]](r)}};
},{}],"v9uM":[function(require,module,exports) {
module.exports=function(e){var r=["underline","inverse","grey","yellow","red","green","blue","white","cyan","magenta","brightYellow","brightRed","brightGreen","brightBlue","brightWhite","brightCyan","brightMagenta"];return function(t,n,i){return" "===t?t:e[r[Math.round(Math.random()*(r.length-2))]](t)}};
},{}],"rlad":[function(require,module,exports) {
var e={};module.exports=e,e.themes={};var r=require("util"),n=e.styles=require("./styles"),t=Object.defineProperties,o=new RegExp(/[\r\n]+/g);e.supportsColor=require("./system/supports-colors").supportsColor,void 0===e.enabled&&(e.enabled=!1!==e.supportsColor()),e.enable=function(){e.enabled=!0},e.disable=function(){e.enabled=!1},e.stripColors=e.strip=function(e){return(""+e).replace(/\x1B\[\d+m/g,"")};var i=e.stylize=function(r,t){if(!e.enabled)return r+"";var o=n[t];return!o&&t in e?e[t](r):o.open+r+o.close},s=/[|\\{}()[\]^$+*?.]/g,a=function(e){if("string"!=typeof e)throw new TypeError("Expected a string");return e.replace(s,"\\$&")};function u(e){var r=function e(){return p.apply(e,arguments)};return r._styles=e,r.__proto__=l,r}var c=function(){var e={};return n.grey=n.gray,Object.keys(n).forEach(function(r){n[r].closeRe=new RegExp(a(n[r].close),"g"),e[r]={get:function(){return u(this._styles.concat(r))}}}),e}(),l=t(function(){},c);function p(){var t=Array.prototype.slice.call(arguments).map(function(e){return null!=e&&e.constructor===String?e:r.inspect(e)}).join(" ");if(!e.enabled||!t)return t;for(var i=-1!=t.indexOf("\n"),s=this._styles,a=s.length;a--;){var u=n[s[a]];t=u.open+t.replace(u.closeRe,u.open)+u.close,i&&(t=t.replace(o,function(e){return u.close+e+u.open}))}return t}function f(){var e={};return Object.keys(c).forEach(function(r){e[r]={get:function(){return u([r])}}}),e}e.setTheme=function(r){if("string"!=typeof r)for(var n in r)!function(n){e[n]=function(t){if("object"==typeof r[n]){var o=t;for(var i in r[n])o=e[r[n][i]](o);return o}return e[r[n]](t)}}(n);else console.log("colors.setTheme now only accepts an object, not a string.  If you are trying to set a theme from a file, it is now your (the caller's) responsibility to require the file.  The old syntax looked like colors.setTheme(__dirname + '/../themes/generic-logging.js'); The new syntax looks like colors.setTheme(require(__dirname + '/../themes/generic-logging.js'));")};var m=function(e,r){var n=r.split("");return(n=n.map(e)).join("")};for(var g in e.trap=require("./custom/trap"),e.zalgo=require("./custom/zalgo"),e.maps={},e.maps.america=require("./maps/america")(e),e.maps.zebra=require("./maps/zebra")(e),e.maps.rainbow=require("./maps/rainbow")(e),e.maps.random=require("./maps/random")(e),e.maps)!function(r){e[r]=function(n){return m(e.maps[r],n)}}(g);t(e,f());
},{"util":"gfUn","./styles":"YRNP","./system/supports-colors":"O372","./custom/trap":"dKCW","./custom/zalgo":"hBBH","./maps/america":"SL7v","./maps/zebra":"waGA","./maps/rainbow":"F3lJ","./maps/random":"v9uM"}],"iTRr":[function(require,module,exports) {
var r=require("./lib/colors");module.exports=r;
},{"./lib/colors":"rlad"}],"S0WU":[function(require,module,exports) {
"use strict";exports.levels={error:0,warn:1,help:2,data:3,info:4,debug:5,prompt:6,verbose:7,input:8,silly:9},exports.colors={error:"red",warn:"yellow",help:"cyan",data:"grey",info:"green",debug:"blue",prompt:"grey",verbose:"cyan",input:"grey",silly:"magenta"};
},{}],"qcyo":[function(require,module,exports) {
"use strict";exports.levels={error:0,warn:1,info:2,http:3,verbose:4,debug:5,silly:6},exports.colors={error:"red",warn:"yellow",info:"green",http:"green",verbose:"cyan",debug:"blue",silly:"magenta"};
},{}],"p4ev":[function(require,module,exports) {
"use strict";exports.levels={emerg:0,alert:1,crit:2,error:3,warning:4,notice:5,info:6,debug:7},exports.colors={emerg:"red",alert:"yellow",crit:"red",error:"red",warning:"red",notice:"yellow",info:"green",debug:"blue"};
},{}],"uRmT":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"cli",{value:require("./cli")}),Object.defineProperty(exports,"npm",{value:require("./npm")}),Object.defineProperty(exports,"syslog",{value:require("./syslog")});
},{"./cli":"S0WU","./npm":"qcyo","./syslog":"p4ev"}],"qId8":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"LEVEL",{value:Symbol.for("level")}),Object.defineProperty(exports,"MESSAGE",{value:Symbol.for("message")}),Object.defineProperty(exports,"SPLAT",{value:Symbol.for("splat")}),Object.defineProperty(exports,"configs",{value:require("./config")});
},{"./config":"uRmT"}],"QSKQ":[function(require,module,exports) {
"use strict";function e(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function r(e,r){for(var o=0;o<r.length;o++){var l=r[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(e,l.key,l)}}function o(e,o,l){return o&&r(e.prototype,o),l&&r(e,l),e}var l=require("colors/safe"),t=require("triple-beam"),n=t.LEVEL,a=t.MESSAGE;l.enabled=!0;var s=/\s+/,i=function(){function r(){var o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e(this,r),o.colors&&this.addColors(o.colors),this.options=o}return o(r,[{key:"addColors",value:function(e){return r.addColors(e)}},{key:"colorize",value:function(e,o,t){if(void 0===t&&(t=o),!Array.isArray(r.allColors[e]))return l[r.allColors[e]](t);for(var n=0,a=r.allColors[e].length;n<a;n++)t=l[r.allColors[e][n]](t);return t}},{key:"transform",value:function(e,r){return r.all&&"string"==typeof e[a]&&(e[a]=this.colorize(e[n],e.level,e[a])),(r.level||r.all||!r.message)&&(e.level=this.colorize(e[n],e.level)),(r.all||r.message)&&(e.message=this.colorize(e[n],e.level,e.message)),e}}],[{key:"addColors",value:function(e){var o=Object.keys(e).reduce(function(r,o){return r[o]=s.test(e[o])?e[o].split(s):e[o],r},{});return r.allColors=Object.assign({},r.allColors||{},o),r.allColors}}]),r}();module.exports=function(e){return new i(e)},module.exports.Colorizer=module.exports.Format=i;
},{"colors/safe":"iTRr","triple-beam":"qId8"}],"HKIt":[function(require,module,exports) {
"use strict";var r=require("./colorize"),o=r.Colorizer;module.exports=function(r){return o.addColors(r.colors||r),r};
},{"./colorize":"QSKQ"}],"rtGk":[function(require,module,exports) {
"use strict";var e=require("./format");module.exports=e(function(e){return e.message="\t".concat(e.message),e});
},{"./format":"wVSU"}],"oTaf":[function(require,module,exports) {
"use strict";function e(e){return o(e)||r(e)||n(e)||t()}function t(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function n(e,t){if(e){if("string"==typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(e,t):void 0}}function r(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function o(e){if(Array.isArray(e))return a(e)}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e,t,n){return t&&u(e.prototype,t),n&&u(e,n),e}var l=require("triple-beam"),s=l.configs,f=l.LEVEL,d=l.MESSAGE,p=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{levels:s.npm.levels};i(this,t),this.paddings=t.paddingForLevels(e.levels,e.filler),this.options=e}return c(t,[{key:"transform",value:function(e,t){return e.message="".concat(this.paddings[e[f]]).concat(e.message),e[d]&&(e[d]="".concat(this.paddings[e[f]]).concat(e[d])),e}}],[{key:"getLongestLevel",value:function(t){var n=Object.keys(t).map(function(e){return e.length});return Math.max.apply(Math,e(n))}},{key:"paddingForLevel",value:function(e,t,n){var r=n+1-e.length,o=Math.floor(r/t.length);return"".concat(t).concat(t.repeat(o)).slice(0,r)}},{key:"paddingForLevels",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:" ",r=t.getLongestLevel(e);return Object.keys(e).reduce(function(e,o){return e[o]=t.paddingForLevel(o,n,r),e},{})}}]),t}();module.exports=function(e){return new p(e)},module.exports.Padder=module.exports.Format=p;
},{"triple-beam":"qId8"}],"A3yn":[function(require,module,exports) {
"use strict";function e(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function r(e,r){for(var n=0;n<r.length;n++){var t=r[n];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}function n(e,n,t){return n&&r(e.prototype,n),t&&r(e,t),e}var t=require("./colorize"),o=t.Colorizer,i=require("./pad-levels"),a=i.Padder,l=require("triple-beam"),s=l.configs,u=l.MESSAGE,c=function(){function r(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e(this,r),n.levels||(n.levels=s.npm.levels),this.colorizer=new o(n),this.padder=new a(n),this.options=n}return n(r,[{key:"transform",value:function(e,r){return this.colorizer.transform(this.padder.transform(e,r),r),e[u]="".concat(e.level,":").concat(e.message),e}}]),r}();module.exports=function(e){return new c(e)},module.exports.Format=c;
},{"./colorize":"QSKQ","./pad-levels":"oTaf","triple-beam":"qId8"}],"nXFX":[function(require,module,exports) {
"use strict";var r=require("./format");function t(r){if(r.every(n))return function(t){for(var n=t,o=0;o<r.length;o++)if(!(n=r[o].transform(n,r[o].options)))return!1;return n}}function n(r){if("function"!=typeof r.transform)throw new Error(["No transform function found on format. Did you create a format instance?","const myFormat = format(formatFn);","const instance = myFormat();"].join("\n"));return!0}module.exports=function(){for(var n=arguments.length,o=new Array(n),e=0;e<n;e++)o[e]=arguments[e];var a=r(t(o)),f=a();return f.Format=a.Format,f},module.exports.cascade=t;
},{"./format":"wVSU"}],"pjQ5":[function(require,module,exports) {
"use strict";function e(e,r,s){return r in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s,e}var r=require("./format"),s=require("triple-beam"),a=s.LEVEL,t=s.MESSAGE;module.exports=r(function(r,s){var n=s.stack;if(r instanceof Error){var i,c=Object.assign({},r,(e(i={level:r.level},a,r[a]||r.level),e(i,"message",r.message),e(i,t,r[t]||r.message),i));return n&&(c.stack=r.stack),c}if(!(r.message instanceof Error))return r;var u=r.message;return Object.assign(r,u),r.message=u.message,r[t]=u.message,n&&(r.stack=u.stack),r});
},{"./format":"wVSU","triple-beam":"qId8"}],"fm2Z":[function(require,module,exports) {
"use strict";module.exports=h;var r="";const n=/[\x00-\x1f\x22\x5c]/,t=/[\x00-\x1f\x22\x5c]/g,e=["\\u0000","\\u0001","\\u0002","\\u0003","\\u0004","\\u0005","\\u0006","\\u0007","\\b","\\t","\\n","\\u000b","\\f","\\r","\\u000e","\\u000f","\\u0010","\\u0011","\\u0012","\\u0013","\\u0014","\\u0015","\\u0016","\\u0017","\\u0018","\\u0019","\\u001a","\\u001b","\\u001c","\\u001d","\\u001e","\\u001f","","",'\\"',"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","\\\\"];function u(r){return e[r.charCodeAt(0)]}function o(r){if(r.length<5e3&&!n.test(r))return r;if(r.length>100)return r.replace(t,u);for(var o="",i=0,l=0;l<r.length;l++){const n=r.charCodeAt(l);(34===n||92===n||n<32)&&(o+=i===l?e[n]:`${r.slice(i,l)}${e[n]}`,i=l+1)}return 0===i?o=r:i!==l&&(o+=r.slice(i)),o}function i(n,t,e,u,l){var f,s,c;const a=r;var h=t[n];switch("object"==typeof h&&null!==h&&"function"==typeof h.toJSON&&(h=h.toJSON(n)),typeof(h=u.call(t,n,h))){case"object":if(null===h)return"null";for(f=0;f<e.length;f++)if(e[f]===h)return'"[Circular]"';if(Array.isArray(h)){if(0===h.length)return"[]";for(e.push(h),s="[",s+=`\n${r+=l}`,c=`,\n${r}`,f=0;f<h.length-1;f++){const r=i(f,h,e,u,l);s+=void 0!==r?r:"null",s+=c}const n=i(f,h,e,u,l);return s+=void 0!==n?n:"null",""!==r&&(s+=`\n${a}`),s+="]",e.pop(),r=a,s}var g=p(Object.keys(h));if(0===g.length)return"{}";e.push(h),s="{",s+=`\n${r+=l}`,c=`,\n${r}`;var y="";for(f=0;f<g.length;f++){const r=i(n=g[f],h,e,u,l);void 0!==r&&(s+=`${y}"${o(n)}": ${r}`,y=c)}return""!==y?s+=`\n${a}`:s="{",s+="}",e.pop(),r=a,s;case"string":return`"${o(h)}"`;case"number":return isFinite(h)?String(h):"null";case"boolean":return!0===h?"true":"false"}}function l(n,t,e,u,i){var f,s,c;const a=r;switch("object"==typeof t&&null!==t&&"function"==typeof t.toJSON&&(t=t.toJSON(n)),typeof t){case"object":if(null===t)return"null";for(f=0;f<e.length;f++)if(e[f]===t)return'"[Circular]"';if(Array.isArray(t)){if(0===t.length)return"[]";for(e.push(t),s="[",s+=`\n${r+=i}`,c=`,\n${r}`,f=0;f<t.length-1;f++){const r=l(f,t[f],e,u,i);s+=void 0!==r?r:"null",s+=c}const n=l(f,t[f],e,u,i);return s+=void 0!==n?n:"null",""!==r&&(s+=`\n${a}`),s+="]",e.pop(),r=a,s}if(0===u.length)return"{}";e.push(t),s="{",s+=`\n${r+=i}`,c=`,\n${r}`;var p="";for(f=0;f<u.length;f++)if("string"==typeof u[f]||"number"==typeof u[f]){const r=l(n=u[f],t[n],e,u,i);void 0!==r&&(s+=`${p}"${o(n)}": ${r}`,p=c)}return""!==p?s+=`\n${a}`:s="{",s+="}",e.pop(),r=a,s;case"string":return`"${o(t)}"`;case"number":return isFinite(t)?String(t):"null";case"boolean":return!0===t?"true":"false"}}function f(n,t,e,u){var i,l,s;const c=r;switch(typeof t){case"object":if(null===t)return"null";if("function"==typeof t.toJSON){if("object"!=typeof(t=t.toJSON(n)))return f(n,t,e,u);if(null===t)return"null"}for(i=0;i<e.length;i++)if(e[i]===t)return'"[Circular]"';if(Array.isArray(t)){if(0===t.length)return"[]";for(e.push(t),l="[",l+=`\n${r+=u}`,s=`,\n${r}`,i=0;i<t.length-1;i++){const r=f(i,t[i],e,u);l+=void 0!==r?r:"null",l+=s}const n=f(i,t[i],e,u);return l+=void 0!==n?n:"null",""!==r&&(l+=`\n${c}`),l+="]",e.pop(),r=c,l}var a=p(Object.keys(t));if(0===a.length)return"{}";e.push(t),l="{",l+=`\n${r+=u}`,s=`,\n${r}`;var h="";for(i=0;i<a.length;i++){const r=f(n=a[i],t[n],e,u);void 0!==r&&(l+=`${h}"${o(n)}": ${r}`,h=s)}return""!==h?l+=`\n${c}`:l="{",l+="}",e.pop(),r=c,l;case"string":return`"${o(t)}"`;case"number":return isFinite(t)?String(t):"null";case"boolean":return!0===t?"true":"false"}}function s(r,n,t,e){var u,i;switch("object"==typeof n&&null!==n&&"function"==typeof n.toJSON&&(n=n.toJSON(r)),typeof n){case"object":if(null===n)return"null";for(u=0;u<t.length;u++)if(t[u]===n)return'"[Circular]"';if(Array.isArray(n)){if(0===n.length)return"[]";for(t.push(n),i="[",u=0;u<n.length-1;u++){const r=s(u,n[u],t,e);i+=void 0!==r?r:"null",i+=","}const r=s(u,n[u],t,e);return i+=void 0!==r?r:"null",i+="]",t.pop(),i}if(0===e.length)return"{}";t.push(n),i="{";var l="";for(u=0;u<e.length;u++)if("string"==typeof e[u]||"number"==typeof e[u]){const f=s(r=e[u],n[r],t,e);void 0!==f&&(i+=`${l}"${o(r)}":${f}`,l=",")}return i+="}",t.pop(),i;case"string":return`"${o(n)}"`;case"number":return isFinite(n)?String(n):"null";case"boolean":return!0===n?"true":"false"}}function c(r,n,t,e){var u,i,l=n[r];switch("object"==typeof l&&null!==l&&"function"==typeof l.toJSON&&(l=l.toJSON(r)),typeof(l=e.call(n,r,l))){case"object":if(null===l)return"null";for(u=0;u<t.length;u++)if(t[u]===l)return'"[Circular]"';if(Array.isArray(l)){if(0===l.length)return"[]";for(t.push(l),i="[",u=0;u<l.length-1;u++){const r=c(u,l,t,e);i+=void 0!==r?r:"null",i+=","}const r=c(u,l,t,e);return i+=void 0!==r?r:"null",i+="]",t.pop(),i}var f=p(Object.keys(l));if(0===f.length)return"{}";t.push(l),i="{";var s="";for(u=0;u<f.length;u++){const n=c(r=f[u],l,t,e);void 0!==n&&(i+=`${s}"${o(r)}":${n}`,s=",")}return i+="}",t.pop(),i;case"string":return`"${o(l)}"`;case"number":return isFinite(l)?String(l):"null";case"boolean":return!0===l?"true":"false"}}function a(r,n,t){var e,u;switch(typeof n){case"object":if(null===n)return"null";if("function"==typeof n.toJSON){if("object"!=typeof(n=n.toJSON(r)))return a(r,n,t);if(null===n)return"null"}for(e=0;e<t.length;e++)if(t[e]===n)return'"[Circular]"';if(Array.isArray(n)){if(0===n.length)return"[]";for(t.push(n),u="[",e=0;e<n.length-1;e++){const r=a(e,n[e],t);u+=void 0!==r?r:"null",u+=","}const r=a(e,n[e],t);return u+=void 0!==r?r:"null",u+="]",t.pop(),u}var i=p(Object.keys(n));if(0===i.length)return"{}";t.push(n);var l="";for(u="{",e=0;e<i.length;e++){const f=a(r=i[e],n[r],t);void 0!==f&&(u+=`${l}"${o(r)}":${f}`,l=",")}return u+="}",t.pop(),u;case"string":return`"${o(n)}"`;case"number":return isFinite(n)?String(n):"null";case"boolean":return!0===n?"true":"false"}}function p(r){for(var n=1;n<r.length;n++){const e=r[n];for(var t=n;0!==t&&r[t-1]>e;)r[t]=r[t-1],t--;r[t]=e}return r}function h(n,t,e){var u,o="";if(r="",arguments.length>1){if("number"==typeof e)for(u=0;u<e;u+=1)o+=" ";else"string"==typeof e&&(o=e);if(""!==o){if(null!=t){if("function"==typeof t)return i("",{"":n},[],t,o);if(Array.isArray(t))return l("",n,[],t,o)}return f("",n,[],o)}if("function"==typeof t)return c("",{"":n},[],t);if(Array.isArray(t))return s("",n,[],t)}return a("",n,[])}
},{}],"dxic":[function(require,module,exports) {
"use strict";const e=require("./stable");module.exports=e,e.default=e;
},{"./stable":"fm2Z"}],"fm6q":[function(require,module,exports) {
var Buffer = require("buffer").Buffer;
var e=require("buffer").Buffer,r=require("./format"),t=require("triple-beam"),i=t.MESSAGE,n=require("safe-stable-stringify");function f(r,t){return t instanceof e?t.toString("base64"):"bigint"==typeof t?t.toString():t}module.exports=r(function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e[i]=n(e,r.replacer||f,r.space),e});
},{"./format":"wVSU","triple-beam":"qId8","safe-stable-stringify":"dxic","buffer":"peL6"}],"RcSx":[function(require,module,exports) {
"use strict";var e=require("./format");module.exports=e(function(e,a){return a.message?(e.message="[".concat(a.label,"] ").concat(e.message),e):(e.label=a.label,e)});
},{"./format":"wVSU"}],"frUw":[function(require,module,exports) {
"use strict";var e=require("./format"),s=require("triple-beam"),t=s.MESSAGE,m=require("safe-stable-stringify");module.exports=e(function(e){var s={};return e.message&&(s["@message"]=e.message,delete e.message),e.timestamp&&(s["@timestamp"]=e.timestamp,delete e.timestamp),s["@fields"]=e,e[t]=m(s),e});
},{"./format":"wVSU","triple-beam":"qId8","safe-stable-stringify":"dxic"}],"JirH":[function(require,module,exports) {
"use strict";function e(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var t=require("./format");function r(t,r,n){var u=r.reduce(function(e,r){return e[r]=t[r],delete t[r],e},{}),i=Object.keys(t).reduce(function(e,r){return e[r]=t[r],delete t[r],e},{});return Object.assign(t,u,e({},n,i)),t}function n(e,t,r){return e[r]=t.reduce(function(t,r){return t[r]=e[r],delete e[r],t},{}),e}module.exports=t(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},u="metadata";t.key&&(u=t.key);var i=[];return t.fillExcept||t.fillWith||(i.push("level"),i.push("message")),t.fillExcept&&(i=t.fillExcept),i.length>0?r(e,i,u):t.fillWith?n(e,t.fillWith,u):e});
},{"./format":"wVSU"}],"kogT":[function(require,module,exports) {
"use strict";var e=void 0,r=require("./format"),i=require("ms");module.exports=r(function(r){var t=+new Date;return e.diff=t-(e.prevTime||t),e.prevTime=t,r.ms="+".concat(i(e.diff)),r});
},{"./format":"wVSU","ms":"IAgR"}],"miYf":[function(require,module,exports) {
"use strict";var e=require("util").inspect,r=require("./format"),t=require("triple-beam"),i=t.LEVEL,l=t.MESSAGE,u=t.SPLAT;module.exports=r(function(r){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Object.assign({},r);return delete n[i],delete n[l],delete n[u],r[l]=e(n,!1,t.depth||null,t.colorize),r});
},{"util":"gfUn","./format":"wVSU","triple-beam":"qId8"}],"Ha7R":[function(require,module,exports) {
"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function n(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}var r=require("triple-beam"),o=r.MESSAGE,u=function(){function t(n){e(this,t),this.template=n}return n(t,[{key:"transform",value:function(e){return e[o]=this.template(e),e}}]),t}();module.exports=function(e){return new u(e)},module.exports.Printf=module.exports.Format=u;
},{"triple-beam":"qId8"}],"jS1A":[function(require,module,exports) {
"use strict";var e=require("./format"),a=require("triple-beam"),t=a.MESSAGE,c=require("safe-stable-stringify");module.exports=e(function(e){var a=c(Object.assign({},e,{level:void 0,message:void 0,splat:void 0})),r=e.padding&&e.padding[e.level]||"";return e[t]="{}"!==a?"".concat(e.level,":").concat(r," ").concat(e.message," ").concat(a):"".concat(e.level,":").concat(r," ").concat(e.message),e});
},{"./format":"wVSU","triple-beam":"qId8","safe-stable-stringify":"dxic"}],"xfM9":[function(require,module,exports) {
"use strict";function t(t){return a(t)||n(t)||e(t)||r()}function r(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function e(t,r){if(t){if("string"==typeof t)return o(t,r);var e=Object.prototype.toString.call(t).slice(8,-1);return"Object"===e&&t.constructor&&(e=t.constructor.name),"Map"===e||"Set"===e?Array.from(t):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?o(t,r):void 0}}function n(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}function a(t){if(Array.isArray(t))return o(t)}function o(t,r){(null==r||r>t.length)&&(r=t.length);for(var e=0,n=new Array(r);e<r;e++)n[e]=t[e];return n}function i(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function u(t,r){for(var e=0;e<r.length;e++){var n=r[e];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function l(t,r,e){return r&&u(t.prototype,r),e&&u(t,e),t}var c=require("util"),s=require("triple-beam"),f=s.SPLAT,p=/%[scdjifoO%]/g,m=/%%/g,g=function(){function r(t){i(this,r),this.options=t}return l(r,[{key:"_splat",value:function(r,e){var n=r.message,a=r[f]||r.splat||[],o=n.match(m),i=o&&o.length||0,u=e.length-i-a.length,l=u<0?a.splice(u,-1*u):[],s=l.length;if(s)for(var p=0;p<s;p++)Object.assign(r,l[p]);return r.message=c.format.apply(c,[n].concat(t(a))),r}},{key:"transform",value:function(t){var r=t.message,e=t[f]||t.splat;if(!e||!e.length)return t;var n=r&&r.match&&r.match(p);if(!n&&(e||e.length)){var a=e.length>1?e.splice(0):e,o=a.length;if(o)for(var i=0;i<o;i++)Object.assign(t,a[i]);return t}return n?this._splat(t,n):t}}]),r}();module.exports=function(t){return new g(t)};
},{"util":"gfUn","triple-beam":"qId8"}],"rf7S":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.assign=f,exports.format=exports.defaultI18n=exports.default=void 0,exports.parse=I,exports.setGlobalDateMasks=exports.setGlobalDateI18n=void 0;var t=/d{1,4}|M{1,4}|YY(?:YY)?|S{1,3}|Do|ZZ|Z|([HhMsDm])\1?|[aA]|"[^"]*"|'[^']*'/g,e="[1-9]\\d?",n="\\d\\d",r="\\d{3}",o="\\d{4}",u="[^\\s]+",a=/\[([^]*?)\]/gm;function i(t,e){for(var n=[],r=0,o=t.length;r<o;r++)n.push(t[r].substr(0,e));return n}var s=function(t){return function(e,n){var r=n[t].map(function(t){return t.toLowerCase()}).indexOf(e.toLowerCase());return r>-1?r:null}};function f(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0,o=e;r<o.length;r++){var u=o[r];for(var a in u)t[a]=u[a]}return t}var d=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],m=["January","February","March","April","May","June","July","August","September","October","November","December"],l=i(m,3),c=i(d,3),h={dayNamesShort:c,dayNames:d,monthNamesShort:l,monthNames:m,amPm:["am","pm"],DoFn:function(t){return t+["th","st","nd","rd"][t%10>3?0:(t-t%10!=10?1:0)*t%10]}};exports.defaultI18n=h;var M=f({},h),g=function(t){return M=f(M,t)};exports.setGlobalDateI18n=g;var D=function(t){return t.replace(/[|\\{()[^$+*?.-]/g,"\\$&")},p=function(t,e){for(void 0===e&&(e=2),t=String(t);t.length<e;)t="0"+t;return t},Y={D:function(t){return String(t.getDate())},DD:function(t){return p(t.getDate())},Do:function(t,e){return e.DoFn(t.getDate())},d:function(t){return String(t.getDay())},dd:function(t){return p(t.getDay())},ddd:function(t,e){return e.dayNamesShort[t.getDay()]},dddd:function(t,e){return e.dayNames[t.getDay()]},M:function(t){return String(t.getMonth()+1)},MM:function(t){return p(t.getMonth()+1)},MMM:function(t,e){return e.monthNamesShort[t.getMonth()]},MMMM:function(t,e){return e.monthNames[t.getMonth()]},YY:function(t){return p(String(t.getFullYear()),4).substr(2)},YYYY:function(t){return p(t.getFullYear(),4)},h:function(t){return String(t.getHours()%12||12)},hh:function(t){return p(t.getHours()%12||12)},H:function(t){return String(t.getHours())},HH:function(t){return p(t.getHours())},m:function(t){return String(t.getMinutes())},mm:function(t){return p(t.getMinutes())},s:function(t){return String(t.getSeconds())},ss:function(t){return p(t.getSeconds())},S:function(t){return String(Math.round(t.getMilliseconds()/100))},SS:function(t){return p(Math.round(t.getMilliseconds()/10),2)},SSS:function(t){return p(t.getMilliseconds(),3)},a:function(t,e){return t.getHours()<12?e.amPm[0]:e.amPm[1]},A:function(t,e){return t.getHours()<12?e.amPm[0].toUpperCase():e.amPm[1].toUpperCase()},ZZ:function(t){var e=t.getTimezoneOffset();return(e>0?"-":"+")+p(100*Math.floor(Math.abs(e)/60)+Math.abs(e)%60,4)},Z:function(t){var e=t.getTimezoneOffset();return(e>0?"-":"+")+p(Math.floor(Math.abs(e)/60),2)+":"+p(Math.abs(e)%60,2)}},v=function(t){return+t-1},S=[null,e],y=[null,u],H=["isPm",u,function(t,e){var n=t.toLowerCase();return n===e.amPm[0]?0:n===e.amPm[1]?1:null}],b=["timezoneOffset","[^\\s]*?[\\+\\-]\\d\\d:?\\d\\d|[^\\s]*?Z?",function(t){var e=(t+"").match(/([+-]|\d\d)/gi);if(e){var n=60*+e[1]+parseInt(e[2],10);return"+"===e[0]?n:-n}return 0}],w={D:["day",e],DD:["day",n],Do:["day",e+u,function(t){return parseInt(t,10)}],M:["month",e,v],MM:["month",n,v],YY:["year",n,function(t){var e=+(""+(new Date).getFullYear()).substr(0,2);return+(""+(+t>68?e-1:e)+t)}],h:["hour",e,void 0,"isPm"],hh:["hour",n,void 0,"isPm"],H:["hour",e],HH:["hour",n],m:["minute",e],mm:["minute",n],s:["second",e],ss:["second",n],YYYY:["year",o],S:["millisecond","\\d",function(t){return 100*+t}],SS:["millisecond",n,function(t){return 10*+t}],SSS:["millisecond",r],d:S,dd:S,ddd:y,dddd:y,MMM:["month",u,s("monthNamesShort")],MMMM:["month",u,s("monthNames")],a:H,A:H,ZZ:b,Z:b},x={default:"ddd MMM DD YYYY HH:mm:ss",shortDate:"M/D/YY",mediumDate:"MMM D, YYYY",longDate:"MMMM D, YYYY",fullDate:"dddd, MMMM D, YYYY",isoDate:"YYYY-MM-DD",isoDateTime:"YYYY-MM-DDTHH:mm:ssZ",shortTime:"HH:mm",mediumTime:"HH:mm:ss",longTime:"HH:mm:ss.SSS"},P=function(t){return f(x,t)};exports.setGlobalDateMasks=P;var N=function(e,n,r){if(void 0===n&&(n=x.default),void 0===r&&(r={}),"number"==typeof e&&(e=new Date(e)),"[object Date]"!==Object.prototype.toString.call(e)||isNaN(e.getTime()))throw new Error("Invalid Date pass to format");n=x[n]||n;var o=[];n=n.replace(a,function(t,e){return o.push(e),"@@@"});var u=f(f({},M),r);return(n=n.replace(t,function(t){return Y[t](e,u)})).replace(/@@@/g,function(){return o.shift()})};function I(e,n,r){if(void 0===r&&(r={}),"string"!=typeof n)throw new Error("Invalid format in fecha parse");if(n=x[n]||n,e.length>1e3)return null;var o={year:(new Date).getFullYear(),month:0,day:1,hour:0,minute:0,second:0,millisecond:0,isPm:null,timezoneOffset:null},u=[],i=[],s=n.replace(a,function(t,e){return i.push(D(e)),"@@@"}),d={},m={};s=D(s).replace(t,function(t){var e=w[t],n=e[0],r=e[1],o=e[3];if(d[n])throw new Error("Invalid format. "+n+" specified twice in format");return d[n]=!0,o&&(m[o]=!0),u.push(e),"("+r+")"}),Object.keys(m).forEach(function(t){if(!d[t])throw new Error("Invalid format. "+t+" is required in specified format")}),s=s.replace(/@@@/g,function(){return i.shift()});var l=e.match(new RegExp(s,"i"));if(!l)return null;for(var c=f(f({},M),r),h=1;h<l.length;h++){var g=u[h-1],p=g[0],Y=g[2],v=Y?Y(l[h],c):+l[h];if(null==v)return null;o[p]=v}1===o.isPm&&null!=o.hour&&12!=+o.hour?o.hour=+o.hour+12:0===o.isPm&&12==+o.hour&&(o.hour=0);for(var S=new Date(o.year,o.month,o.day,o.hour,o.minute,o.second,o.millisecond),y=[["month","getMonth"],["day","getDate"],["hour","getHours"],["minute","getMinutes"],["second","getSeconds"]],H=(h=0,y.length);h<H;h++)if(d[y[h][0]]&&o[y[h][0]]!==S[y[h][1]]())return null;return null==o.timezoneOffset?S:new Date(Date.UTC(o.year,o.month,o.day,o.hour,o.minute-o.timezoneOffset,o.second,o.millisecond))}exports.format=N;var O={format:N,parse:I,defaultI18n:h,setGlobalDateI18n:g,setGlobalDateMasks:P},T=O;exports.default=T;
},{}],"P8TD":[function(require,module,exports) {
"use strict";var t=require("fecha"),a=require("./format");module.exports=a(function(a){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e.format&&(a.timestamp="function"==typeof e.format?e.format():t.format(new Date,e.format)),a.timestamp||(a.timestamp=(new Date).toISOString()),e.alias&&(a[e.alias]=a.timestamp),a});
},{"fecha":"rf7S","./format":"wVSU"}],"uUzW":[function(require,module,exports) {
"use strict";var e=require("colors/safe"),r=require("./format"),s=require("triple-beam"),t=s.MESSAGE;module.exports=r(function(r,s){return!1!==s.level&&(r.level=e.strip(r.level)),!1!==s.message&&(r.message=e.strip(r.message)),!1!==s.raw&&r[t]&&(r[t]=e.strip(r[t])),r});
},{"colors/safe":"iTRr","./format":"wVSU","triple-beam":"qId8"}],"h6j0":[function(require,module,exports) {
"use strict";var e=exports.format=require("././format");exports.levels=require("././levels"),Object.defineProperty(e,"align",{value:require("./align")}),Object.defineProperty(e,"cli",{value:require("./cli")}),Object.defineProperty(e,"colorize",{value:require("./colorize")}),Object.defineProperty(e,"combine",{value:require("./combine")}),Object.defineProperty(e,"errors",{value:require("./errors")}),Object.defineProperty(e,"json",{value:require("./json")}),Object.defineProperty(e,"label",{value:require("./label")}),Object.defineProperty(e,"logstash",{value:require("./logstash")}),Object.defineProperty(e,"metadata",{value:require("./metadata")}),Object.defineProperty(e,"ms",{value:require("./ms")}),Object.defineProperty(e,"padLevels",{value:require("./pad-levels")}),Object.defineProperty(e,"prettyPrint",{value:require("./pretty-print")}),Object.defineProperty(e,"printf",{value:require("./printf")}),Object.defineProperty(e,"simple",{value:require("./simple")}),Object.defineProperty(e,"splat",{value:require("./splat")}),Object.defineProperty(e,"timestamp",{value:require("./timestamp")}),Object.defineProperty(e,"uncolorize",{value:require("./uncolorize")});
},{"././format":"wVSU","././levels":"HKIt","./align":"rtGk","./cli":"A3yn","./colorize":"QSKQ","./combine":"nXFX","./errors":"pjQ5","./json":"fm6q","./label":"RcSx","./logstash":"frUw","./metadata":"JirH","./ms":"kogT","./pad-levels":"oTaf","./pretty-print":"miYf","./printf":"Ha7R","./simple":"jS1A","./splat":"xfM9","./timestamp":"P8TD","./uncolorize":"uUzW"}],"FXXr":[function(require,module,exports) {
"use strict";var n=require("util"),t=n.format;exports.warn={deprecated:function(n){return function(){throw new Error(t("{ %s } was removed in winston@3.0.0.",n))}},useFormat:function(n){return function(){throw new Error([t("{ %s } was removed in winston@3.0.0.",n),"Use a custom winston.format = winston.format(function) instead."].join("\n"))}},forFunctions:function(n,t,o){o.forEach(function(o){n[o]=exports.warn[t](o)})},moved:function(n,o,r){function e(){return function(){throw new Error([t("winston.%s was moved in winston@3.0.0.",r),t("Use a winston.%s instead.",o)].join("\n"))}}Object.defineProperty(n,r,{get:e,set:e})},forProperties:function(n,t,o){o.forEach(function(o){var r=exports.warn[t](o);Object.defineProperty(n,o,{get:r,set:r})})}};
},{"util":"gfUn"}],"fq27":[function(require,module,exports) {
module.exports={name:"winston",description:"A logger for just about everything.",version:"3.3.3",author:"Charlie Robbins <charlie.robbins@gmail.com>",maintainers:["Jarrett Cruger <jcrugzz@gmail.com>","Chris Alderson <chrisalderson@protonmail.com>","David Hyde <dabh@stanford.edu>"],repository:{type:"git",url:"https://github.com/winstonjs/winston.git"},keywords:["winston","logger","logging","logs","sysadmin","bunyan","pino","loglevel","tools","json","stream"],dependencies:{async:"^3.1.0","@dabh/diagnostics":"^2.0.2","is-stream":"^2.0.0",logform:"^2.2.0","one-time":"^1.0.0","readable-stream":"^3.4.0","stack-trace":"0.0.x","triple-beam":"^1.3.0","winston-transport":"^4.4.0"},devDependencies:{"@babel/cli":"^7.10.3","@babel/core":"^7.10.3","@babel/preset-env":"^7.10.3","@types/node":"^14.0.13","abstract-winston-transport":"^0.5.1",assume:"^2.2.0",colors:"^1.4.0","cross-spawn-async":"^2.2.5","eslint-config-populist":"^4.2.0",hock:"^1.4.1",mocha:"^8.0.1",nyc:"^15.1.0",rimraf:"^3.0.2",split2:"^3.1.1","std-mocks":"^1.0.1",through2:"^3.0.1","winston-compat":"^0.1.5"},main:"./lib/winston",browser:"./dist/winston",types:"./index.d.ts",scripts:{lint:"populist lib/*.js lib/winston/*.js lib/winston/**/*.js",pretest:"npm run lint",test:"nyc --reporter=text --reporter lcov npm run test:mocha","test:mocha":"mocha test/*.test.js test/**/*.test.js --exit",build:"./node_modules/.bin/rimraf dist && babel lib -d dist",prepublishOnly:"npm run build"},engines:{node:">= 6.4.0"},license:"MIT"};
},{}],"o1Do":[function(require,module,exports) {

"use strict";function t(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}var n=require("safe-buffer").Buffer,e=require("util");function i(t,n,e){t.copy(n,e)}module.exports=function(){function e(){t(this,e),this.head=null,this.tail=null,this.length=0}return e.prototype.push=function(t){var n={data:t,next:null};this.length>0?this.tail.next=n:this.head=n,this.tail=n,++this.length},e.prototype.unshift=function(t){var n={data:t,next:this.head};0===this.length&&(this.tail=n),this.head=n,++this.length},e.prototype.shift=function(){if(0!==this.length){var t=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,t}},e.prototype.clear=function(){this.head=this.tail=null,this.length=0},e.prototype.join=function(t){if(0===this.length)return"";for(var n=this.head,e=""+n.data;n=n.next;)e+=t+n.data;return e},e.prototype.concat=function(t){if(0===this.length)return n.alloc(0);if(1===this.length)return this.head.data;for(var e=n.allocUnsafe(t>>>0),h=this.head,a=0;h;)i(h.data,e,a),a+=h.data.length,h=h.next;return e},e}(),e&&e.inspect&&e.inspect.custom&&(module.exports.prototype[e.inspect.custom]=function(){var t=e.inspect({length:this.length});return this.constructor.name+" "+t});
},{"safe-buffer":"l6K0","util":"vKFU"}],"VK9a":[function(require,module,exports) {

"use strict";var t=require("safe-buffer").Buffer,e=t.isEncoding||function(t){switch((t=""+t)&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function s(t){if(!t)return"utf8";for(var e;;)switch(t){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return t;default:if(e)return;t=(""+t).toLowerCase(),e=!0}}function i(i){var a=s(i);if("string"!=typeof a&&(t.isEncoding===e||!e(i)))throw new Error("Unknown encoding: "+i);return a||i}function a(e){var s;switch(this.encoding=i(e),this.encoding){case"utf16le":this.text=c,this.end=f,s=4;break;case"utf8":this.fillLast=l,s=4;break;case"base64":this.text=d,this.end=g,s=3;break;default:return this.write=N,void(this.end=v)}this.lastNeed=0,this.lastTotal=0,this.lastChar=t.allocUnsafe(s)}function r(t){return t<=127?0:t>>5==6?2:t>>4==14?3:t>>3==30?4:t>>6==2?-1:-2}function n(t,e,s){var i=e.length-1;if(i<s)return 0;var a=r(e[i]);return a>=0?(a>0&&(t.lastNeed=a-1),a):--i<s||-2===a?0:(a=r(e[i]))>=0?(a>0&&(t.lastNeed=a-2),a):--i<s||-2===a?0:(a=r(e[i]))>=0?(a>0&&(2===a?a=0:t.lastNeed=a-3),a):0}function h(t,e,s){if(128!=(192&e[0]))return t.lastNeed=0,"";if(t.lastNeed>1&&e.length>1){if(128!=(192&e[1]))return t.lastNeed=1,"";if(t.lastNeed>2&&e.length>2&&128!=(192&e[2]))return t.lastNeed=2,""}}function l(t){var e=this.lastTotal-this.lastNeed,s=h(this,t,e);return void 0!==s?s:this.lastNeed<=t.length?(t.copy(this.lastChar,e,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(t.copy(this.lastChar,e,0,t.length),void(this.lastNeed-=t.length))}function u(t,e){var s=n(this,t,e);if(!this.lastNeed)return t.toString("utf8",e);this.lastTotal=s;var i=t.length-(s-this.lastNeed);return t.copy(this.lastChar,0,i),t.toString("utf8",e,i)}function o(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+"":e}function c(t,e){if((t.length-e)%2==0){var s=t.toString("utf16le",e);if(s){var i=s.charCodeAt(s.length-1);if(i>=55296&&i<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1],s.slice(0,-1)}return s}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=t[t.length-1],t.toString("utf16le",e,t.length-1)}function f(t){var e=t&&t.length?this.write(t):"";if(this.lastNeed){var s=this.lastTotal-this.lastNeed;return e+this.lastChar.toString("utf16le",0,s)}return e}function d(t,e){var s=(t.length-e)%3;return 0===s?t.toString("base64",e):(this.lastNeed=3-s,this.lastTotal=3,1===s?this.lastChar[0]=t[t.length-1]:(this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1]),t.toString("base64",e,t.length-s))}function g(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+this.lastChar.toString("base64",0,3-this.lastNeed):e}function N(t){return t.toString(this.encoding)}function v(t){return t&&t.length?this.write(t):""}exports.StringDecoder=a,a.prototype.write=function(t){if(0===t.length)return"";var e,s;if(this.lastNeed){if(void 0===(e=this.fillLast(t)))return"";s=this.lastNeed,this.lastNeed=0}else s=0;return s<t.length?e?e+this.text(t,s):this.text(t,s):e||""},a.prototype.end=o,a.prototype.text=u,a.prototype.fillLast=function(t){if(this.lastNeed<=t.length)return t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,t.length),this.lastNeed-=t.length};
},{"safe-buffer":"l6K0"}],"aNue":[function(require,module,exports) {

var global = arguments[3];
var process = require("process");
var e=arguments[3],t=require("process"),n=require("process-nextick-args");module.exports=_;var r,i=require("isarray");_.ReadableState=w;var a=require("events").EventEmitter,d=function(e,t){return e.listeners(t).length},o=require("./internal/streams/stream"),s=require("safe-buffer").Buffer,u=e.Uint8Array||function(){};function l(e){return s.from(e)}function h(e){return s.isBuffer(e)||e instanceof u}var p=Object.create(require("core-util-is"));p.inherits=require("inherits");var f=require("util"),c=void 0;c=f&&f.debuglog?f.debuglog("stream"):function(){};var g,b=require("./internal/streams/BufferList"),m=require("./internal/streams/destroy");p.inherits(_,o);var v=["error","close","destroy","pause","resume"];function y(e,t,n){if("function"==typeof e.prependListener)return e.prependListener(t,n);e._events&&e._events[t]?i(e._events[t])?e._events[t].unshift(n):e._events[t]=[n,e._events[t]]:e.on(t,n)}function w(e,t){e=e||{};var n=t instanceof(r=r||require("./_stream_duplex"));this.objectMode=!!e.objectMode,n&&(this.objectMode=this.objectMode||!!e.readableObjectMode);var i=e.highWaterMark,a=e.readableHighWaterMark,d=this.objectMode?16:16384;this.highWaterMark=i||0===i?i:n&&(a||0===a)?a:d,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new b,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(g||(g=require("string_decoder/").StringDecoder),this.decoder=new g(e.encoding),this.encoding=e.encoding)}function _(e){if(r=r||require("./_stream_duplex"),!(this instanceof _))return new _(e);this._readableState=new w(e,this),this.readable=!0,e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy)),o.call(this)}function M(e,t,n,r,i){var a,d=e._readableState;null===t?(d.reading=!1,x(e,d)):(i||(a=k(d,t)),a?e.emit("error",a):d.objectMode||t&&t.length>0?("string"==typeof t||d.objectMode||Object.getPrototypeOf(t)===s.prototype||(t=l(t)),r?d.endEmitted?e.emit("error",new Error("stream.unshift() after end event")):S(e,d,t,!0):d.ended?e.emit("error",new Error("stream.push() after EOF")):(d.reading=!1,d.decoder&&!n?(t=d.decoder.write(t),d.objectMode||0!==t.length?S(e,d,t,!1):C(e,d)):S(e,d,t,!1))):r||(d.reading=!1));return j(d)}function S(e,t,n,r){t.flowing&&0===t.length&&!t.sync?(e.emit("data",n),e.read(0)):(t.length+=t.objectMode?1:n.length,r?t.buffer.unshift(n):t.buffer.push(n),t.needReadable&&q(e)),C(e,t)}function k(e,t){var n;return h(t)||"string"==typeof t||void 0===t||e.objectMode||(n=new TypeError("Invalid non-string/buffer chunk")),n}function j(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||0===e.length)}Object.defineProperty(_.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),_.prototype.destroy=m.destroy,_.prototype._undestroy=m.undestroy,_.prototype._destroy=function(e,t){this.push(null),t(e)},_.prototype.push=function(e,t){var n,r=this._readableState;return r.objectMode?n=!0:"string"==typeof e&&((t=t||r.defaultEncoding)!==r.encoding&&(e=s.from(e,t),t=""),n=!0),M(this,e,t,!1,n)},_.prototype.unshift=function(e){return M(this,e,null,!0,!1)},_.prototype.isPaused=function(){return!1===this._readableState.flowing},_.prototype.setEncoding=function(e){return g||(g=require("string_decoder/").StringDecoder),this._readableState.decoder=new g(e),this._readableState.encoding=e,this};var R=8388608;function E(e){return e>=R?e=R:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}function L(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=E(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function x(e,t){if(!t.ended){if(t.decoder){var n=t.decoder.end();n&&n.length&&(t.buffer.push(n),t.length+=t.objectMode?1:n.length)}t.ended=!0,q(e)}}function q(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||(c("emitReadable",t.flowing),t.emittedReadable=!0,t.sync?n.nextTick(W,e):W(e))}function W(e){c("emit readable"),e.emit("readable"),B(e)}function C(e,t){t.readingMore||(t.readingMore=!0,n.nextTick(D,e,t))}function D(e,t){for(var n=t.length;!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark&&(c("maybeReadMore read 0"),e.read(0),n!==t.length);)n=t.length;t.readingMore=!1}function O(e){return function(){var t=e._readableState;c("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&d(e,"data")&&(t.flowing=!0,B(e))}}function T(e){c("readable nexttick read 0"),e.read(0)}function U(e,t){t.resumeScheduled||(t.resumeScheduled=!0,n.nextTick(P,e,t))}function P(e,t){t.reading||(c("resume read 0"),e.read(0)),t.resumeScheduled=!1,t.awaitDrain=0,e.emit("resume"),B(e),t.flowing&&!t.reading&&e.read(0)}function B(e){var t=e._readableState;for(c("flow",t.flowing);t.flowing&&null!==e.read(););}function H(e,t){return 0===t.length?null:(t.objectMode?n=t.buffer.shift():!e||e>=t.length?(n=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.head.data:t.buffer.concat(t.length),t.buffer.clear()):n=I(e,t.buffer,t.decoder),n);var n}function I(e,t,n){var r;return e<t.head.data.length?(r=t.head.data.slice(0,e),t.head.data=t.head.data.slice(e)):r=e===t.head.data.length?t.shift():n?A(e,t):F(e,t),r}function A(e,t){var n=t.head,r=1,i=n.data;for(e-=i.length;n=n.next;){var a=n.data,d=e>a.length?a.length:e;if(d===a.length?i+=a:i+=a.slice(0,e),0===(e-=d)){d===a.length?(++r,n.next?t.head=n.next:t.head=t.tail=null):(t.head=n,n.data=a.slice(d));break}++r}return t.length-=r,i}function F(e,t){var n=s.allocUnsafe(e),r=t.head,i=1;for(r.data.copy(n),e-=r.data.length;r=r.next;){var a=r.data,d=e>a.length?a.length:e;if(a.copy(n,n.length-e,0,d),0===(e-=d)){d===a.length?(++i,r.next?t.head=r.next:t.head=t.tail=null):(t.head=r,r.data=a.slice(d));break}++i}return t.length-=i,n}function z(e){var t=e._readableState;if(t.length>0)throw new Error('"endReadable()" called on non-empty stream');t.endEmitted||(t.ended=!0,n.nextTick(G,t,e))}function G(e,t){e.endEmitted||0!==e.length||(e.endEmitted=!0,t.readable=!1,t.emit("end"))}function J(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1}_.prototype.read=function(e){c("read",e),e=parseInt(e,10);var t=this._readableState,n=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&(t.length>=t.highWaterMark||t.ended))return c("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?z(this):q(this),null;if(0===(e=L(e,t))&&t.ended)return 0===t.length&&z(this),null;var r,i=t.needReadable;return c("need readable",i),(0===t.length||t.length-e<t.highWaterMark)&&c("length less than watermark",i=!0),t.ended||t.reading?c("reading or ended",i=!1):i&&(c("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=L(n,t))),null===(r=e>0?H(e,t):null)?(t.needReadable=!0,e=0):t.length-=e,0===t.length&&(t.ended||(t.needReadable=!0),n!==e&&t.ended&&z(this)),null!==r&&this.emit("data",r),r},_.prototype._read=function(e){this.emit("error",new Error("_read() is not implemented"))},_.prototype.pipe=function(e,r){var i=this,a=this._readableState;switch(a.pipesCount){case 0:a.pipes=e;break;case 1:a.pipes=[a.pipes,e];break;default:a.pipes.push(e)}a.pipesCount+=1,c("pipe count=%d opts=%j",a.pipesCount,r);var o=(!r||!1!==r.end)&&e!==t.stdout&&e!==t.stderr?u:v;function s(t,n){c("onunpipe"),t===i&&n&&!1===n.hasUnpiped&&(n.hasUnpiped=!0,c("cleanup"),e.removeListener("close",b),e.removeListener("finish",m),e.removeListener("drain",l),e.removeListener("error",g),e.removeListener("unpipe",s),i.removeListener("end",u),i.removeListener("end",v),i.removeListener("data",f),h=!0,!a.awaitDrain||e._writableState&&!e._writableState.needDrain||l())}function u(){c("onend"),e.end()}a.endEmitted?n.nextTick(o):i.once("end",o),e.on("unpipe",s);var l=O(i);e.on("drain",l);var h=!1;var p=!1;function f(t){c("ondata"),p=!1,!1!==e.write(t)||p||((1===a.pipesCount&&a.pipes===e||a.pipesCount>1&&-1!==J(a.pipes,e))&&!h&&(c("false write response, pause",i._readableState.awaitDrain),i._readableState.awaitDrain++,p=!0),i.pause())}function g(t){c("onerror",t),v(),e.removeListener("error",g),0===d(e,"error")&&e.emit("error",t)}function b(){e.removeListener("finish",m),v()}function m(){c("onfinish"),e.removeListener("close",b),v()}function v(){c("unpipe"),i.unpipe(e)}return i.on("data",f),y(e,"error",g),e.once("close",b),e.once("finish",m),e.emit("pipe",i),a.flowing||(c("pipe resume"),i.resume()),e},_.prototype.unpipe=function(e){var t=this._readableState,n={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes?this:(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,n),this);if(!e){var r=t.pipes,i=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var a=0;a<i;a++)r[a].emit("unpipe",this,n);return this}var d=J(t.pipes,e);return-1===d?this:(t.pipes.splice(d,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,n),this)},_.prototype.on=function(e,t){var r=o.prototype.on.call(this,e,t);if("data"===e)!1!==this._readableState.flowing&&this.resume();else if("readable"===e){var i=this._readableState;i.endEmitted||i.readableListening||(i.readableListening=i.needReadable=!0,i.emittedReadable=!1,i.reading?i.length&&q(this):n.nextTick(T,this))}return r},_.prototype.addListener=_.prototype.on,_.prototype.resume=function(){var e=this._readableState;return e.flowing||(c("resume"),e.flowing=!0,U(this,e)),this},_.prototype.pause=function(){return c("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(c("pause"),this._readableState.flowing=!1,this.emit("pause")),this},_.prototype.wrap=function(e){var t=this,n=this._readableState,r=!1;for(var i in e.on("end",function(){if(c("wrapped end"),n.decoder&&!n.ended){var e=n.decoder.end();e&&e.length&&t.push(e)}t.push(null)}),e.on("data",function(i){(c("wrapped data"),n.decoder&&(i=n.decoder.write(i)),n.objectMode&&null==i)||(n.objectMode||i&&i.length)&&(t.push(i)||(r=!0,e.pause()))}),e)void 0===this[i]&&"function"==typeof e[i]&&(this[i]=function(t){return function(){return e[t].apply(e,arguments)}}(i));for(var a=0;a<v.length;a++)e.on(v[a],this.emit.bind(this,v[a]));return this._read=function(t){c("wrapped _read",t),r&&(r=!1,e.resume())},this},Object.defineProperty(_.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),_._fromList=H;
},{"process-nextick-args":"Yj0v","isarray":"REa7","events":"FRpO","./internal/streams/stream":"Q8A6","safe-buffer":"l6K0","core-util-is":"Q14w","inherits":"Bm0n","util":"vKFU","./internal/streams/BufferList":"o1Do","./internal/streams/destroy":"avqi","./_stream_duplex":"l0Ut","string_decoder/":"VK9a","process":"pBGv"}],"l0Ut":[function(require,module,exports) {
"use strict";var e=require("process-nextick-args"),t=Object.keys||function(e){var t=[];for(var r in e)t.push(r);return t};module.exports=l;var r=Object.create(require("core-util-is"));r.inherits=require("inherits");var i=require("./_stream_readable"),a=require("./_stream_writable");r.inherits(l,i);for(var o=t(a.prototype),s=0;s<o.length;s++){var n=o[s];l.prototype[n]||(l.prototype[n]=a.prototype[n])}function l(e){if(!(this instanceof l))return new l(e);i.call(this,e),a.call(this,e),e&&!1===e.readable&&(this.readable=!1),e&&!1===e.writable&&(this.writable=!1),this.allowHalfOpen=!0,e&&!1===e.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",h)}function h(){this.allowHalfOpen||this._writableState.ended||e.nextTick(d,this)}function d(e){e.end()}Object.defineProperty(l.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(l.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}}),l.prototype._destroy=function(t,r){this.push(null),this.end(),e.nextTick(r,t)};
},{"process-nextick-args":"Yj0v","core-util-is":"Q14w","inherits":"Bm0n","./_stream_readable":"aNue","./_stream_writable":"R1Mh"}],"R1Mh":[function(require,module,exports) {
var process = require("process");

var global = arguments[3];
var e=require("process"),t=arguments[3],n=require("process-nextick-args");function r(e,t,n){this.chunk=e,this.encoding=t,this.callback=n,this.next=null}function i(e){var t=this;this.next=null,this.entry=null,this.finish=function(){W(t,e)}}module.exports=g;var o,s=n.nextTick;g.WritableState=y;var f=Object.create(require("core-util-is"));f.inherits=require("inherits");var u={deprecate:require("util-deprecate")},a=require("./internal/streams/stream"),c=require("safe-buffer").Buffer,l=t.Uint8Array||function(){};function d(e){return c.from(e)}function h(e){return c.isBuffer(e)||e instanceof l}var b,p=require("./internal/streams/destroy");function w(){}function y(e,t){o=o||require("./_stream_duplex"),e=e||{};var n=t instanceof o;this.objectMode=!!e.objectMode,n&&(this.objectMode=this.objectMode||!!e.writableObjectMode);var r=e.highWaterMark,s=e.writableHighWaterMark,f=this.objectMode?16:16384;this.highWaterMark=r||0===r?r:n&&(s||0===s)?s:f,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var u=!1===e.decodeStrings;this.decodeStrings=!u,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){S(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new i(this)}function g(e){if(o=o||require("./_stream_duplex"),!(b.call(g,this)||this instanceof o))return new g(e);this._writableState=new y(e,this),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final)),a.call(this)}function k(e,t){var r=new Error("write after end");e.emit("error",r),n.nextTick(t,r)}function v(e,t,r,i){var o=!0,s=!1;return null===r?s=new TypeError("May not write null values to stream"):"string"==typeof r||void 0===r||t.objectMode||(s=new TypeError("Invalid non-string/buffer chunk")),s&&(e.emit("error",s),n.nextTick(i,s),o=!1),o}function q(e,t,n){return e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=c.from(t,n)),t}function _(e,t,n,r,i,o){if(!n){var s=q(t,r,i);r!==s&&(n=!0,i="buffer",r=s)}var f=t.objectMode?1:r.length;t.length+=f;var u=t.length<t.highWaterMark;if(u||(t.needDrain=!0),t.writing||t.corked){var a=t.lastBufferedRequest;t.lastBufferedRequest={chunk:r,encoding:i,isBuf:n,callback:o,next:null},a?a.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else m(e,t,!1,f,r,i,o);return u}function m(e,t,n,r,i,o,s){t.writelen=r,t.writecb=s,t.writing=!0,t.sync=!0,n?e._writev(i,t.onwrite):e._write(i,o,t.onwrite),t.sync=!1}function R(e,t,r,i,o){--t.pendingcb,r?(n.nextTick(o,i),n.nextTick(T,e,t),e._writableState.errorEmitted=!0,e.emit("error",i)):(o(i),e._writableState.errorEmitted=!0,e.emit("error",i),T(e,t))}function x(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}function S(e,t){var n=e._writableState,r=n.sync,i=n.writecb;if(x(n),t)R(e,n,r,t,i);else{var o=E(n);o||n.corked||n.bufferProcessing||!n.bufferedRequest||B(e,n),r?s(M,e,n,o,i):M(e,n,o,i)}}function M(e,t,n,r){n||j(e,t),t.pendingcb--,r(),T(e,t)}function j(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}function B(e,t){t.bufferProcessing=!0;var n=t.bufferedRequest;if(e._writev&&n&&n.next){var r=t.bufferedRequestCount,o=new Array(r),s=t.corkedRequestsFree;s.entry=n;for(var f=0,u=!0;n;)o[f]=n,n.isBuf||(u=!1),n=n.next,f+=1;o.allBuffers=u,m(e,t,!0,t.length,o,"",s.finish),t.pendingcb++,t.lastBufferedRequest=null,s.next?(t.corkedRequestsFree=s.next,s.next=null):t.corkedRequestsFree=new i(t),t.bufferedRequestCount=0}else{for(;n;){var a=n.chunk,c=n.encoding,l=n.callback;if(m(e,t,!1,t.objectMode?1:a.length,a,c,l),n=n.next,t.bufferedRequestCount--,t.writing)break}null===n&&(t.lastBufferedRequest=null)}t.bufferedRequest=n,t.bufferProcessing=!1}function E(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function C(e,t){e._final(function(n){t.pendingcb--,n&&e.emit("error",n),t.prefinished=!0,e.emit("prefinish"),T(e,t)})}function P(e,t){t.prefinished||t.finalCalled||("function"==typeof e._final?(t.pendingcb++,t.finalCalled=!0,n.nextTick(C,e,t)):(t.prefinished=!0,e.emit("prefinish")))}function T(e,t){var n=E(t);return n&&(P(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"))),n}function F(e,t,r){t.ending=!0,T(e,t),r&&(t.finished?n.nextTick(r):e.once("finish",r)),t.ended=!0,e.writable=!1}function W(e,t,n){var r=e.entry;for(e.entry=null;r;){var i=r.callback;t.pendingcb--,i(n),r=r.next}t.corkedRequestsFree?t.corkedRequestsFree.next=e:t.corkedRequestsFree=e}f.inherits(g,a),y.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(y.prototype,"buffer",{get:u.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(b=Function.prototype[Symbol.hasInstance],Object.defineProperty(g,Symbol.hasInstance,{value:function(e){return!!b.call(this,e)||this===g&&(e&&e._writableState instanceof y)}})):b=function(e){return e instanceof this},g.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},g.prototype.write=function(e,t,n){var r=this._writableState,i=!1,o=!r.objectMode&&h(e);return o&&!c.isBuffer(e)&&(e=d(e)),"function"==typeof t&&(n=t,t=null),o?t="buffer":t||(t=r.defaultEncoding),"function"!=typeof n&&(n=w),r.ended?k(this,n):(o||v(this,r,e,n))&&(r.pendingcb++,i=_(this,r,o,e,t,n)),i},g.prototype.cork=function(){this._writableState.corked++},g.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.finished||e.bufferProcessing||!e.bufferedRequest||B(this,e))},g.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(g.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),g.prototype._write=function(e,t,n){n(new Error("_write() is not implemented"))},g.prototype._writev=null,g.prototype.end=function(e,t,n){var r=this._writableState;"function"==typeof e?(n=e,e=null,t=null):"function"==typeof t&&(n=t,t=null),null!=e&&this.write(e,t),r.corked&&(r.corked=1,this.uncork()),r.ending||r.finished||F(this,r,n)},Object.defineProperty(g.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),g.prototype.destroy=p.destroy,g.prototype._undestroy=p.undestroy,g.prototype._destroy=function(e,t){this.end(),t(e)};
},{"process-nextick-args":"Yj0v","core-util-is":"Q14w","inherits":"Bm0n","util-deprecate":"yM1o","./internal/streams/stream":"Q8A6","safe-buffer":"l6K0","./internal/streams/destroy":"avqi","./_stream_duplex":"l0Ut","process":"pBGv"}],"aWU5":[function(require,module,exports) {
module.exports=require("./lib/_stream_writable.js");
},{"./lib/_stream_writable.js":"R1Mh"}],"r1b6":[function(require,module,exports) {
"use strict";var t=require("util"),r=require("triple-beam"),n=r.LEVEL,s=require("./"),o=module.exports=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(s.call(this,t),!t.transport||"function"!=typeof t.transport.log)throw new Error("Invalid transport, must be an object with a log method.");this.transport=t.transport,this.level=this.level||t.transport.level,this.handleExceptions=this.handleExceptions||t.transport.handleExceptions,this._deprecated(),this.transport.__winstonError||(this.transport.__winstonError=function(t){this.emit("error",t,this.transport)}.bind(this),this.transport.on("error",this.transport.__winstonError))};t.inherits(o,s),o.prototype._write=function(t,r,s){if(this.silent||!0===t.exception&&!this.handleExceptions)return s(null);(!this.level||this.levels[this.level]>=this.levels[t[n]])&&this.transport.log(t[n],t.message,t,this._nop),s(null)},o.prototype._writev=function(t,r){for(var s=0;s<t.length;s++)this._accept(t[s])&&(this.transport.log(t[s].chunk[n],t[s].chunk.message,t[s].chunk,this._nop),t[s].callback());return r(null)},o.prototype._deprecated=function(){console.error([this.transport.name+" is a legacy winston transport. Consider upgrading: ","- Upgrade docs: https://github.com/winstonjs/winston/blob/master/UPGRADE-3.0.md"].join("\n"))},o.prototype.close=function(){this.transport.close&&this.transport.close(),this.transport.__winstonError&&(this.transport.removeListener("error",this.transport.__winstonError),this.transport.__winstonError=null)};
},{"util":"gfUn","triple-beam":"qId8","./":"mTgj"}],"mTgj":[function(require,module,exports) {
"use strict";var t=require("util"),e=require("readable-stream/writable"),i=require("triple-beam"),l=i.LEVEL,r=module.exports=function(){var t=this,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.call(this,{objectMode:!0,highWaterMark:i.highWaterMark}),this.format=i.format,this.level=i.level,this.handleExceptions=i.handleExceptions,this.handleRejections=i.handleRejections,this.silent=i.silent,i.log&&(this.log=i.log),i.logv&&(this.logv=i.logv),i.close&&(this.close=i.close),this.once("pipe",function(e){t.levels=e.levels,t.parent=e}),this.once("unpipe",function(e){e===t.parent&&(t.parent=null,t.close&&t.close())})};t.inherits(r,e),r.prototype._write=function(t,e,i){if(this.silent||!0===t.exception&&!this.handleExceptions)return i(null);var r=this.level||this.parent&&this.parent.level;if(!r||this.levels[r]>=this.levels[t[l]]){if(t&&!this.format)return this.log(t,i);var s=void 0,n=void 0;try{n=this.format.transform(Object.assign({},t),this.format.options)}catch(o){s=o}if(s||!n){if(i(),s)throw s;return}return this.log(n,i)}return i(null)},r.prototype._writev=function(t,e){if(this.logv){var i=t.filter(this._accept,this);return i.length?this.logv(i,e):e(null)}for(var l=0;l<t.length;l++)if(this._accept(t[l]))if(!t[l].chunk||this.format){var r=void 0,s=void 0;try{s=this.format.transform(Object.assign({},t[l].chunk),this.format.options)}catch(n){r=n}if(r||!s){if(t[l].callback(),r)throw e(null),r}else this.log(s,t[l].callback)}else this.log(t[l].chunk,t[l].callback);return e(null)},r.prototype._accept=function(t){var e=t.chunk;if(this.silent)return!1;var i=this.level||this.parent&&this.parent.level;return!(!0!==e.exception&&i&&!(this.levels[i]>=this.levels[e[l]])||!this.handleExceptions&&!0===e.exception)},r.prototype._nop=function(){},module.exports.LegacyTransportStream=require("./legacy");
},{"util":"gfUn","readable-stream/writable":"aWU5","triple-beam":"qId8","./legacy":"r1b6"}],"weJf":[function(require,module,exports) {
"use strict";function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){for(var r=0;r<e.length;r++){var o=e[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function o(t,e,o){return e&&r(t.prototype,e),o&&r(t,o),t}function n(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e)}function c(t,e){return(c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function i(t){var e=l();return function(){var r,o=f(t);if(e){var n=f(this).constructor;r=Reflect.construct(o,arguments,n)}else r=o.apply(this,arguments);return u(this,r)}}function u(e,r){return!r||"object"!==t(r)&&"function"!=typeof r?s(e):r}function s(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function l(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}function f(t){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var a=require("os"),y=require("triple-beam"),p=y.LEVEL,h=y.MESSAGE,b=require("winston-transport");module.exports=function(t){n(c,b);var r=i(c);function c(){var t,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e(this,c),(t=r.call(this,o)).name=o.name||"console",t.stderrLevels=t._stringArrayToSet(o.stderrLevels),t.consoleWarnLevels=t._stringArrayToSet(o.consoleWarnLevels),t.eol=o.eol||a.EOL,t.setMaxListeners(30),t}return o(c,[{key:"log",value:function(t,e){var r=this;return setImmediate(function(){return r.emit("logged",t)}),this.stderrLevels[t[p]]?(console._stderr?console._stderr.write("".concat(t[h]).concat(this.eol)):console.error(t[h]),void(e&&e())):this.consoleWarnLevels[t[p]]?(console._stderr?console._stderr.write("".concat(t[h]).concat(this.eol)):console.warn(t[h]),void(e&&e())):(console._stdout?console._stdout.write("".concat(t[h]).concat(this.eol)):console.log(t[h]),void(e&&e()))}},{key:"_stringArrayToSet",value:function(t,e){if(!t)return{};if(e=e||"Cannot make set from type other than Array of string elements",!Array.isArray(t))throw new Error(e);return t.reduce(function(t,r){if("string"!=typeof r)throw new Error(e);return t[r]=!0,t},{})}}]),c}();
},{"os":"zv8z","triple-beam":"qId8","winston-transport":"mTgj"}],"UUq2":[function(require,module,exports) {
var process = require("process");
var r=require("process");function t(r,t){for(var e=0,n=r.length-1;n>=0;n--){var o=r[n];"."===o?r.splice(n,1):".."===o?(r.splice(n,1),e++):e&&(r.splice(n,1),e--)}if(t)for(;e--;e)r.unshift("..");return r}function e(r){"string"!=typeof r&&(r+="");var t,e=0,n=-1,o=!0;for(t=r.length-1;t>=0;--t)if(47===r.charCodeAt(t)){if(!o){e=t+1;break}}else-1===n&&(o=!1,n=t+1);return-1===n?"":r.slice(e,n)}function n(r,t){if(r.filter)return r.filter(t);for(var e=[],n=0;n<r.length;n++)t(r[n],n,r)&&e.push(r[n]);return e}exports.resolve=function(){for(var e="",o=!1,s=arguments.length-1;s>=-1&&!o;s--){var i=s>=0?arguments[s]:r.cwd();if("string"!=typeof i)throw new TypeError("Arguments to path.resolve must be strings");i&&(e=i+"/"+e,o="/"===i.charAt(0))}return(o?"/":"")+(e=t(n(e.split("/"),function(r){return!!r}),!o).join("/"))||"."},exports.normalize=function(r){var e=exports.isAbsolute(r),s="/"===o(r,-1);return(r=t(n(r.split("/"),function(r){return!!r}),!e).join("/"))||e||(r="."),r&&s&&(r+="/"),(e?"/":"")+r},exports.isAbsolute=function(r){return"/"===r.charAt(0)},exports.join=function(){var r=Array.prototype.slice.call(arguments,0);return exports.normalize(n(r,function(r,t){if("string"!=typeof r)throw new TypeError("Arguments to path.join must be strings");return r}).join("/"))},exports.relative=function(r,t){function e(r){for(var t=0;t<r.length&&""===r[t];t++);for(var e=r.length-1;e>=0&&""===r[e];e--);return t>e?[]:r.slice(t,e-t+1)}r=exports.resolve(r).substr(1),t=exports.resolve(t).substr(1);for(var n=e(r.split("/")),o=e(t.split("/")),s=Math.min(n.length,o.length),i=s,u=0;u<s;u++)if(n[u]!==o[u]){i=u;break}var f=[];for(u=i;u<n.length;u++)f.push("..");return(f=f.concat(o.slice(i))).join("/")},exports.sep="/",exports.delimiter=":",exports.dirname=function(r){if("string"!=typeof r&&(r+=""),0===r.length)return".";for(var t=r.charCodeAt(0),e=47===t,n=-1,o=!0,s=r.length-1;s>=1;--s)if(47===(t=r.charCodeAt(s))){if(!o){n=s;break}}else o=!1;return-1===n?e?"/":".":e&&1===n?"/":r.slice(0,n)},exports.basename=function(r,t){var n=e(r);return t&&n.substr(-1*t.length)===t&&(n=n.substr(0,n.length-t.length)),n},exports.extname=function(r){"string"!=typeof r&&(r+="");for(var t=-1,e=0,n=-1,o=!0,s=0,i=r.length-1;i>=0;--i){var u=r.charCodeAt(i);if(47!==u)-1===n&&(o=!1,n=i+1),46===u?-1===t?t=i:1!==s&&(s=1):-1!==t&&(s=-1);else if(!o){e=i+1;break}}return-1===t||-1===n||0===s||1===s&&t===n-1&&t===e+1?"":r.slice(t,n)};var o="b"==="ab".substr(-1)?function(r,t,e){return r.substr(t,e)}:function(r,t,e){return t<0&&(t=r.length+t),r.substr(t,e)};
},{"process":"pBGv"}],"Rvel":[function(require,module,exports) {
"use strict";function e(e){return e&&"number"==typeof e.length&&e.length>=0&&e.length%1==0}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=e,module.exports=exports.default;
},{}],"CW2A":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e){return function(...t){var r=t.pop();return e.call(this,t,r)}},module.exports=exports.default;
},{}],"cGji":[function(require,module,exports) {
var process = require("process");
var e=require("process");Object.defineProperty(exports,"__esModule",{value:!0}),exports.fallback=i,exports.wrap=u;var t,o=exports.hasQueueMicrotask="function"==typeof queueMicrotask&&queueMicrotask,r=exports.hasSetImmediate="function"==typeof setImmediate&&setImmediate,s=exports.hasNextTick="object"==typeof e&&"function"==typeof e.nextTick;function i(e){setTimeout(e,0)}function u(e){return(t,...o)=>e(()=>t(...o))}t=o?queueMicrotask:r?setImmediate:s?e.nextTick:i,exports.default=u(t);
},{"process":"pBGv"}],"Cngf":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=a;var e=require("./internal/initialParams"),t=i(e),r=require("./internal/setImmediate"),n=i(r),u=require("./internal/wrapAsync");function i(e){return e&&e.__esModule?e:{default:e}}function a(e){return(0,u.isAsync)(e)?function(...t){const r=t.pop();return o(e.apply(this,t),r)}:(0,t.default)(function(t,r){var n;try{n=e.apply(this,t)}catch(u){return r(u)}if(n&&"function"==typeof n.then)return o(n,r);r(null,n)})}function o(e,t){return e.then(e=>{l(t,null,e)},e=>{l(t,e&&e.message?e:new Error(e))})}function l(e,t,r){try{e(t,r)}catch(u){(0,n.default)(e=>{throw e},u)}}module.exports=exports.default;
},{"./internal/initialParams":"CW2A","./internal/setImmediate":"cGji","./internal/wrapAsync":"L0Vs"}],"L0Vs":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.isAsyncIterable=exports.isAsyncGenerator=exports.isAsync=void 0;var e=require("../asyncify"),t=n(e);function n(e){return e&&e.__esModule?e:{default:e}}function r(e){return"AsyncFunction"===e[Symbol.toStringTag]}function o(e){return"AsyncGenerator"===e[Symbol.toStringTag]}function s(e){return"function"==typeof e[Symbol.asyncIterator]}function i(e){if("function"!=typeof e)throw new Error("expected a function");return r(e)?(0,t.default)(e):e}exports.default=i,exports.isAsync=r,exports.isAsyncGenerator=o,exports.isAsyncIterable=s;
},{"../asyncify":"Cngf"}],"LvER":[function(require,module,exports) {
"use strict";function e(e,t=e.length){if(!t)throw new Error("arity is undefined");return function(...r){return"function"==typeof r[t-1]?e.apply(this,r):new Promise((n,o)=>{r[t-1]=((e,...t)=>{if(e)return o(e);n(t.length>1?t:t[0])}),e.apply(this,r)})}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=e,module.exports=exports.default;
},{}],"pvyq":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("./isArrayLike"),r=d(e),t=require("./wrapAsync"),u=d(t),a=require("./awaitify"),l=d(a);function d(e){return e&&e.__esModule?e:{default:e}}exports.default=(0,l.default)((e,t,a)=>{var l=(0,r.default)(t)?[]:{};e(t,(e,r,t)=>{(0,u.default)(e)((e,...u)=>{u.length<2&&([u]=u),l[r]=u,t(e)})},e=>a(e,l))},3),module.exports=exports.default;
},{"./isArrayLike":"Rvel","./wrapAsync":"L0Vs","./awaitify":"LvER"}],"ikhA":[function(require,module,exports) {
"use strict";function e(e){function t(...t){if(null!==e){var u=e;e=null,u.apply(this,t)}}return Object.assign(t,e),t}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=e,module.exports=exports.default;
},{}],"dxoL":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e){return e[Symbol.iterator]&&e[Symbol.iterator]()},module.exports=exports.default;
},{}],"unQI":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=f;var e=require("./isArrayLike"),r=n(e),t=require("./getIterator"),u=n(t);function n(e){return e&&e.__esModule?e:{default:e}}function l(e){var r=-1,t=e.length;return function(){return++r<t?{value:e[r],key:r}:null}}function o(e){var r=-1;return function(){var t=e.next();return t.done?null:(r++,{value:t.value,key:r})}}function a(e){var r=e?Object.keys(e):[],t=-1,u=r.length;return function n(){var l=r[++t];return"__proto__"===l?n():t<u?{value:e[l],key:l}:null}}function f(e){if((0,r.default)(e))return l(e);var t=(0,u.default)(e);return t?o(t):a(e)}module.exports=exports.default;
},{"./isArrayLike":"Rvel","./getIterator":"dxoL"}],"ISxV":[function(require,module,exports) {
"use strict";function e(e){return function(...l){if(null===e)throw new Error("Callback was already called.");var r=e;e=null,r.apply(this,l)}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=e,module.exports=exports.default;
},{}],"SyIc":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const e={};exports.default=e,module.exports=exports.default;
},{}],"FFIZ":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=n;var e=require("./breakLoop"),t=u(e);function u(e){return e&&e.__esModule?e:{default:e}}function n(e,u,n,o){let r=!1,i=!1,l=!1,f=0,d=0;function a(){f>=u||l||r||(l=!0,e.next().then(({value:e,done:t})=>{if(!i&&!r){if(l=!1,t)return r=!0,void(f<=0&&o(null));f++,n(e,d,c),d++,a()}}).catch(s))}function c(e,u){if(f-=1,!i)return e?s(e):!1===e?(r=!0,void(i=!0)):u===t.default||r&&f<=0?(r=!0,o(null)):void a()}function s(e){i||(l=!1,r=!0,o(e))}a()}module.exports=exports.default;
},{"./breakLoop":"SyIc"}],"n4mD":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("./once"),r=c(e),t=require("./iterator"),u=c(t),n=require("./onlyOnce"),l=c(n),i=require("./wrapAsync"),a=require("./asyncEachOfLimit"),o=c(a),f=require("./breakLoop"),s=c(f);function c(e){return e&&e.__esModule?e:{default:e}}exports.default=(e=>(t,n,a)=>{if(a=(0,r.default)(a),e<=0)throw new RangeError("concurrency limit cannot be less than 1");if(!t)return a(null);if((0,i.isAsyncGenerator)(t))return(0,o.default)(t,e,n,a);if((0,i.isAsyncIterable)(t))return(0,o.default)(t[Symbol.asyncIterator](),e,n,a);var f=(0,u.default)(t),c=!1,d=!1,y=0,p=!1;function q(e,r){if(!d)if(y-=1,e)c=!0,a(e);else if(!1===e)c=!0,d=!0;else{if(r===s.default||c&&y<=0)return c=!0,a(null);p||v()}}function v(){for(p=!0;y<e&&!c;){var r=f();if(null===r)return c=!0,void(y<=0&&a(null));y+=1,n(r.value,r.key,(0,l.default)(q))}p=!1}v()}),module.exports=exports.default;
},{"./once":"ikhA","./iterator":"unQI","./onlyOnce":"ISxV","./wrapAsync":"L0Vs","./asyncEachOfLimit":"FFIZ","./breakLoop":"SyIc"}],"ruvW":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("./internal/eachOfLimit"),t=n(e),r=require("./internal/wrapAsync"),u=n(r),a=require("./internal/awaitify"),i=n(a);function n(e){return e&&e.__esModule?e:{default:e}}function l(e,r,a,i){return(0,t.default)(r)(e,(0,u.default)(a),i)}exports.default=(0,i.default)(l,4),module.exports=exports.default;
},{"./internal/eachOfLimit":"n4mD","./internal/wrapAsync":"L0Vs","./internal/awaitify":"LvER"}],"ET3e":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("./eachOfLimit"),t=a(e),r=require("./internal/awaitify"),u=a(r);function a(e){return e&&e.__esModule?e:{default:e}}function i(e,r,u){return(0,t.default)(e,1,r,u)}exports.default=(0,u.default)(i,3),module.exports=exports.default;
},{"./eachOfLimit":"ruvW","./internal/awaitify":"LvER"}],"xcij":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=a;var e=require("./internal/parallel"),r=l(e),t=require("./eachOfSeries"),u=l(t);function l(e){return e&&e.__esModule?e:{default:e}}function a(e,t){return(0,r.default)(u.default,e,t)}module.exports=exports.default;
},{"./internal/parallel":"pvyq","./eachOfSeries":"ET3e"}],"XOAc":[function(require,module,exports) {
var global = arguments[3];
var process = require("process");
var e=arguments[3],t=require("process"),r=/%[sdj%]/g;exports.format=function(e){if(!v(e)){for(var t=[],n=0;n<arguments.length;n++)t.push(i(arguments[n]));return t.join(" ")}n=1;for(var o=arguments,s=o.length,u=String(e).replace(r,function(e){if("%%"===e)return"%";if(n>=s)return e;switch(e){case"%s":return String(o[n++]);case"%d":return Number(o[n++]);case"%j":try{return JSON.stringify(o[n++])}catch(t){return"[Circular]"}default:return e}}),c=o[n];n<s;c=o[++n])h(c)||!z(c)?u+=" "+c:u+=" "+i(c);return u},exports.deprecate=function(r,n){if(j(e.process))return function(){return exports.deprecate(r,n).apply(this,arguments)};if(!0===t.noDeprecation)return r;var o=!1;return function(){if(!o){if(t.throwDeprecation)throw new Error(n);t.traceDeprecation?console.trace(n):console.error(n),o=!0}return r.apply(this,arguments)}};var n,o={};function i(e,t){var r={seen:[],stylize:u};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),x(t)?r.showHidden=t:t&&exports._extend(r,t),j(r.showHidden)&&(r.showHidden=!1),j(r.depth)&&(r.depth=2),j(r.colors)&&(r.colors=!1),j(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=s),p(r,e,r.depth)}function s(e,t){var r=i.styles[t];return r?"["+i.colors[r][0]+"m"+e+"["+i.colors[r][1]+"m":e}function u(e,t){return e}function c(e){var t={};return e.forEach(function(e,r){t[e]=!0}),t}function p(e,t,r){if(e.customInspect&&t&&D(t.inspect)&&t.inspect!==exports.inspect&&(!t.constructor||t.constructor.prototype!==t)){var n=t.inspect(r,e);return v(n)||(n=p(e,n,r)),n}var o=l(e,t);if(o)return o;var i=Object.keys(t),s=c(i);if(e.showHidden&&(i=Object.getOwnPropertyNames(t)),E(t)&&(i.indexOf("message")>=0||i.indexOf("description")>=0))return a(t);if(0===i.length){if(D(t)){var u=t.name?": "+t.name:"";return e.stylize("[Function"+u+"]","special")}if(O(t))return e.stylize(RegExp.prototype.toString.call(t),"regexp");if(w(t))return e.stylize(Date.prototype.toString.call(t),"date");if(E(t))return a(t)}var x,h="",b=!1,m=["{","}"];(d(t)&&(b=!0,m=["[","]"]),D(t))&&(h=" [Function"+(t.name?": "+t.name:"")+"]");return O(t)&&(h=" "+RegExp.prototype.toString.call(t)),w(t)&&(h=" "+Date.prototype.toUTCString.call(t)),E(t)&&(h=" "+a(t)),0!==i.length||b&&0!=t.length?r<0?O(t)?e.stylize(RegExp.prototype.toString.call(t),"regexp"):e.stylize("[Object]","special"):(e.seen.push(t),x=b?f(e,t,r,s,i):i.map(function(n){return g(e,t,r,s,n,b)}),e.seen.pop(),y(x,h,m)):m[0]+h+m[1]}function l(e,t){if(j(t))return e.stylize("undefined","undefined");if(v(t)){var r="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(r,"string")}return m(t)?e.stylize(""+t,"number"):x(t)?e.stylize(""+t,"boolean"):h(t)?e.stylize("null","null"):void 0}function a(e){return"["+Error.prototype.toString.call(e)+"]"}function f(e,t,r,n,o){for(var i=[],s=0,u=t.length;s<u;++s)$(t,String(s))?i.push(g(e,t,r,n,String(s),!0)):i.push("");return o.forEach(function(o){o.match(/^\d+$/)||i.push(g(e,t,r,n,o,!0))}),i}function g(e,t,r,n,o,i){var s,u,c;if((c=Object.getOwnPropertyDescriptor(t,o)||{value:t[o]}).get?u=c.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):c.set&&(u=e.stylize("[Setter]","special")),$(n,o)||(s="["+o+"]"),u||(e.seen.indexOf(c.value)<0?(u=h(r)?p(e,c.value,null):p(e,c.value,r-1)).indexOf("\n")>-1&&(u=i?u.split("\n").map(function(e){return"  "+e}).join("\n").substr(2):"\n"+u.split("\n").map(function(e){return"   "+e}).join("\n")):u=e.stylize("[Circular]","special")),j(s)){if(i&&o.match(/^\d+$/))return u;(s=JSON.stringify(""+o)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(s=s.substr(1,s.length-2),s=e.stylize(s,"name")):(s=s.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),s=e.stylize(s,"string"))}return s+": "+u}function y(e,t,r){return e.reduce(function(e,t){return 0,t.indexOf("\n")>=0&&0,e+t.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60?r[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+r[1]:r[0]+t+" "+e.join(", ")+" "+r[1]}function d(e){return Array.isArray(e)}function x(e){return"boolean"==typeof e}function h(e){return null===e}function b(e){return null==e}function m(e){return"number"==typeof e}function v(e){return"string"==typeof e}function S(e){return"symbol"==typeof e}function j(e){return void 0===e}function O(e){return z(e)&&"[object RegExp]"===A(e)}function z(e){return"object"==typeof e&&null!==e}function w(e){return z(e)&&"[object Date]"===A(e)}function E(e){return z(e)&&("[object Error]"===A(e)||e instanceof Error)}function D(e){return"function"==typeof e}function N(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e}function A(e){return Object.prototype.toString.call(e)}function J(e){return e<10?"0"+e.toString(10):e.toString(10)}exports.debuglog=function(e){if(j(n)&&(n=""),e=e.toUpperCase(),!o[e])if(new RegExp("\\b"+e+"\\b","i").test(n)){var r=t.pid;o[e]=function(){var t=exports.format.apply(exports,arguments);console.error("%s %d: %s",e,r,t)}}else o[e]=function(){};return o[e]},exports.inspect=i,i.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},i.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},exports.isArray=d,exports.isBoolean=x,exports.isNull=h,exports.isNullOrUndefined=b,exports.isNumber=m,exports.isString=v,exports.isSymbol=S,exports.isUndefined=j,exports.isRegExp=O,exports.isObject=z,exports.isDate=w,exports.isError=E,exports.isFunction=D,exports.isPrimitive=N,exports.isBuffer=require("./support/isBuffer");var R=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function H(){var e=new Date,t=[J(e.getHours()),J(e.getMinutes()),J(e.getSeconds())].join(":");return[e.getDate(),R[e.getMonth()],t].join(" ")}function $(e,t){return Object.prototype.hasOwnProperty.call(e,t)}exports.log=function(){console.log("%s - %s",H(),exports.format.apply(exports,arguments))},exports.inherits=require("inherits"),exports._extend=function(e,t){if(!t||!z(t))return e;for(var r=Object.keys(t),n=r.length;n--;)e[r[n]]=t[r[n]];return e};
},{"./support/isBuffer":"vexR","inherits":"tcrG","process":"pBGv"}],"DlZn":[function(require,module,exports) {
var global = arguments[3];
var t=arguments[3],e=require("object-assign");function r(t,e){if(t===e)return 0;for(var r=t.length,n=e.length,i=0,o=Math.min(r,n);i<o;++i)if(t[i]!==e[i]){r=t[i],n=e[i];break}return r<n?-1:n<r?1:0}function n(e){return t.Buffer&&"function"==typeof t.Buffer.isBuffer?t.Buffer.isBuffer(e):!(null==e||!e._isBuffer)}var i=require("util/"),o=Object.prototype.hasOwnProperty,u=Array.prototype.slice,a="foo"===function(){}.name;function c(t){return Object.prototype.toString.call(t)}function f(e){return!n(e)&&("function"==typeof t.ArrayBuffer&&("function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(e):!!e&&(e instanceof DataView||!!(e.buffer&&e.buffer instanceof ArrayBuffer))))}var s=module.exports=q,l=/\s*function\s+([^\(\s]*)\s*/;function p(t){if(i.isFunction(t)){if(a)return t.name;var e=t.toString().match(l);return e&&e[1]}}function g(t,e){return"string"==typeof t?t.length<e?t:t.slice(0,e):t}function E(t){if(a||!i.isFunction(t))return i.inspect(t);var e=p(t);return"[Function"+(e?": "+e:"")+"]"}function h(t){return g(E(t.actual),128)+" "+t.operator+" "+g(E(t.expected),128)}function y(t,e,r,n,i){throw new s.AssertionError({message:r,actual:t,expected:e,operator:n,stackStartFunction:i})}function q(t,e){t||y(t,!0,e,"==",s.ok)}function d(t,e,o,u){if(t===e)return!0;if(n(t)&&n(e))return 0===r(t,e);if(i.isDate(t)&&i.isDate(e))return t.getTime()===e.getTime();if(i.isRegExp(t)&&i.isRegExp(e))return t.source===e.source&&t.global===e.global&&t.multiline===e.multiline&&t.lastIndex===e.lastIndex&&t.ignoreCase===e.ignoreCase;if(null!==t&&"object"==typeof t||null!==e&&"object"==typeof e){if(f(t)&&f(e)&&c(t)===c(e)&&!(t instanceof Float32Array||t instanceof Float64Array))return 0===r(new Uint8Array(t.buffer),new Uint8Array(e.buffer));if(n(t)!==n(e))return!1;var a=(u=u||{actual:[],expected:[]}).actual.indexOf(t);return-1!==a&&a===u.expected.indexOf(e)||(u.actual.push(t),u.expected.push(e),b(t,e,o,u))}return o?t===e:t==e}function m(t){return"[object Arguments]"==Object.prototype.toString.call(t)}function b(t,e,r,n){if(null==t||null==e)return!1;if(i.isPrimitive(t)||i.isPrimitive(e))return t===e;if(r&&Object.getPrototypeOf(t)!==Object.getPrototypeOf(e))return!1;var o=m(t),a=m(e);if(o&&!a||!o&&a)return!1;if(o)return d(t=u.call(t),e=u.call(e),r);var c,f,s=A(t),l=A(e);if(s.length!==l.length)return!1;for(s.sort(),l.sort(),f=s.length-1;f>=0;f--)if(s[f]!==l[f])return!1;for(f=s.length-1;f>=0;f--)if(!d(t[c=s[f]],e[c],r,n))return!1;return!0}function v(t,e,r){d(t,e,!0)&&y(t,e,r,"notDeepStrictEqual",v)}function x(t,e){if(!t||!e)return!1;if("[object RegExp]"==Object.prototype.toString.call(e))return e.test(t);try{if(t instanceof e)return!0}catch(r){}return!Error.isPrototypeOf(e)&&!0===e.call({},t)}function S(t){var e;try{t()}catch(r){e=r}return e}function w(t,e,r,n){var o;if("function"!=typeof e)throw new TypeError('"block" argument must be a function');"string"==typeof r&&(n=r,r=null),o=S(e),n=(r&&r.name?" ("+r.name+").":".")+(n?" "+n:"."),t&&!o&&y(o,r,"Missing expected exception"+n);var u="string"==typeof n,a=!t&&o&&!r;if((!t&&i.isError(o)&&u&&x(o,r)||a)&&y(o,r,"Got unwanted exception"+n),t&&o&&r&&!x(o,r)||!t&&o)throw o}function O(t,e){t||y(t,!0,e,"==",O)}s.AssertionError=function(t){this.name="AssertionError",this.actual=t.actual,this.expected=t.expected,this.operator=t.operator,t.message?(this.message=t.message,this.generatedMessage=!1):(this.message=h(this),this.generatedMessage=!0);var e=t.stackStartFunction||y;if(Error.captureStackTrace)Error.captureStackTrace(this,e);else{var r=new Error;if(r.stack){var n=r.stack,i=p(e),o=n.indexOf("\n"+i);if(o>=0){var u=n.indexOf("\n",o+1);n=n.substring(u+1)}this.stack=n}}},i.inherits(s.AssertionError,Error),s.fail=y,s.ok=q,s.equal=function(t,e,r){t!=e&&y(t,e,r,"==",s.equal)},s.notEqual=function(t,e,r){t==e&&y(t,e,r,"!=",s.notEqual)},s.deepEqual=function(t,e,r){d(t,e,!1)||y(t,e,r,"deepEqual",s.deepEqual)},s.deepStrictEqual=function(t,e,r){d(t,e,!0)||y(t,e,r,"deepStrictEqual",s.deepStrictEqual)},s.notDeepEqual=function(t,e,r){d(t,e,!1)&&y(t,e,r,"notDeepEqual",s.notDeepEqual)},s.notDeepStrictEqual=v,s.strictEqual=function(t,e,r){t!==e&&y(t,e,r,"===",s.strictEqual)},s.notStrictEqual=function(t,e,r){t===e&&y(t,e,r,"!==",s.notStrictEqual)},s.throws=function(t,e,r){w(!0,t,e,r)},s.doesNotThrow=function(t,e,r){w(!1,t,e,r)},s.ifError=function(t){if(t)throw t},s.strict=e(O,s,{equal:s.strictEqual,deepEqual:s.deepStrictEqual,notEqual:s.notStrictEqual,notDeepEqual:s.notDeepStrictEqual}),s.strict.strict=s.strict;var A=Object.keys||function(t){var e=[];for(var r in t)o.call(t,r)&&e.push(r);return e};
},{"object-assign":"J4Nk","util/":"XOAc"}],"MId7":[function(require,module,exports) {
var Buffer = require("buffer").Buffer;
var process = require("process");
var t=require("buffer").Buffer,e=require("process"),s=require("assert"),r=require("pako/lib/zlib/zstream"),i=require("pako/lib/zlib/deflate.js"),o=require("pako/lib/zlib/inflate.js"),h=require("pako/lib/zlib/constants");for(var n in h)exports[n]=h[n];exports.NONE=0,exports.DEFLATE=1,exports.INFLATE=2,exports.GZIP=3,exports.GUNZIP=4,exports.DEFLATERAW=5,exports.INFLATERAW=6,exports.UNZIP=7;var a=31,p=139;function _(t){if("number"!=typeof t||t<exports.DEFLATE||t>exports.UNZIP)throw new TypeError("Bad argument");this.dictionary=null,this.err=0,this.flush=0,this.init_done=!1,this.level=0,this.memLevel=0,this.mode=t,this.strategy=0,this.windowBits=0,this.write_in_progress=!1,this.pending_close=!1,this.gzip_id_bytes_read=0}_.prototype.close=function(){this.write_in_progress?this.pending_close=!0:(this.pending_close=!1,s(this.init_done,"close before init"),s(this.mode<=exports.UNZIP),this.mode===exports.DEFLATE||this.mode===exports.GZIP||this.mode===exports.DEFLATERAW?i.deflateEnd(this.strm):this.mode!==exports.INFLATE&&this.mode!==exports.GUNZIP&&this.mode!==exports.INFLATERAW&&this.mode!==exports.UNZIP||o.inflateEnd(this.strm),this.mode=exports.NONE,this.dictionary=null)},_.prototype.write=function(t,e,s,r,i,o,h){return this._write(!0,t,e,s,r,i,o,h)},_.prototype.writeSync=function(t,e,s,r,i,o,h){return this._write(!1,t,e,s,r,i,o,h)},_.prototype._write=function(r,i,o,h,n,a,p,_){if(s.equal(arguments.length,8),s(this.init_done,"write before init"),s(this.mode!==exports.NONE,"already finalized"),s.equal(!1,this.write_in_progress,"write already in progress"),s.equal(!1,this.pending_close,"close is pending"),this.write_in_progress=!0,s.equal(!1,void 0===i,"must provide flush value"),this.write_in_progress=!0,i!==exports.Z_NO_FLUSH&&i!==exports.Z_PARTIAL_FLUSH&&i!==exports.Z_SYNC_FLUSH&&i!==exports.Z_FULL_FLUSH&&i!==exports.Z_FINISH&&i!==exports.Z_BLOCK)throw new Error("Invalid flush value");if(null==o&&(o=t.alloc(0),n=0,h=0),this.strm.avail_in=n,this.strm.input=o,this.strm.next_in=h,this.strm.avail_out=_,this.strm.output=a,this.strm.next_out=p,this.flush=i,!r)return this._process(),this._checkError()?this._afterSync():void 0;var l=this;return e.nextTick(function(){l._process(),l._after()}),this},_.prototype._afterSync=function(){var t=this.strm.avail_out,e=this.strm.avail_in;return this.write_in_progress=!1,[e,t]},_.prototype._process=function(){var t=null;switch(this.mode){case exports.DEFLATE:case exports.GZIP:case exports.DEFLATERAW:this.err=i.deflate(this.strm,this.flush);break;case exports.UNZIP:switch(this.strm.avail_in>0&&(t=this.strm.next_in),this.gzip_id_bytes_read){case 0:if(null===t)break;if(this.strm.input[t]!==a){this.mode=exports.INFLATE;break}if(this.gzip_id_bytes_read=1,t++,1===this.strm.avail_in)break;case 1:if(null===t)break;this.strm.input[t]===p?(this.gzip_id_bytes_read=2,this.mode=exports.GUNZIP):this.mode=exports.INFLATE;break;default:throw new Error("invalid number of gzip magic number bytes read")}case exports.INFLATE:case exports.GUNZIP:case exports.INFLATERAW:for(this.err=o.inflate(this.strm,this.flush),this.err===exports.Z_NEED_DICT&&this.dictionary&&(this.err=o.inflateSetDictionary(this.strm,this.dictionary),this.err===exports.Z_OK?this.err=o.inflate(this.strm,this.flush):this.err===exports.Z_DATA_ERROR&&(this.err=exports.Z_NEED_DICT));this.strm.avail_in>0&&this.mode===exports.GUNZIP&&this.err===exports.Z_STREAM_END&&0!==this.strm.next_in[0];)this.reset(),this.err=o.inflate(this.strm,this.flush);break;default:throw new Error("Unknown mode "+this.mode)}},_.prototype._checkError=function(){switch(this.err){case exports.Z_OK:case exports.Z_BUF_ERROR:if(0!==this.strm.avail_out&&this.flush===exports.Z_FINISH)return this._error("unexpected end of file"),!1;break;case exports.Z_STREAM_END:break;case exports.Z_NEED_DICT:return null==this.dictionary?this._error("Missing dictionary"):this._error("Bad dictionary"),!1;default:return this._error("Zlib error"),!1}return!0},_.prototype._after=function(){if(this._checkError()){var t=this.strm.avail_out,e=this.strm.avail_in;this.write_in_progress=!1,this.callback(e,t),this.pending_close&&this.close()}},_.prototype._error=function(t){this.strm.msg&&(t=this.strm.msg),this.onerror(t,this.err),this.write_in_progress=!1,this.pending_close&&this.close()},_.prototype.init=function(t,e,r,i,o){s(4===arguments.length||5===arguments.length,"init(windowBits, level, memLevel, strategy, [dictionary])"),s(t>=8&&t<=15,"invalid windowBits"),s(e>=-1&&e<=9,"invalid compression level"),s(r>=1&&r<=9,"invalid memlevel"),s(i===exports.Z_FILTERED||i===exports.Z_HUFFMAN_ONLY||i===exports.Z_RLE||i===exports.Z_FIXED||i===exports.Z_DEFAULT_STRATEGY,"invalid strategy"),this._init(e,t,r,i,o),this._setDictionary()},_.prototype.params=function(){throw new Error("deflateParams Not supported")},_.prototype.reset=function(){this._reset(),this._setDictionary()},_.prototype._init=function(t,e,s,h,n){switch(this.level=t,this.windowBits=e,this.memLevel=s,this.strategy=h,this.flush=exports.Z_NO_FLUSH,this.err=exports.Z_OK,this.mode!==exports.GZIP&&this.mode!==exports.GUNZIP||(this.windowBits+=16),this.mode===exports.UNZIP&&(this.windowBits+=32),this.mode!==exports.DEFLATERAW&&this.mode!==exports.INFLATERAW||(this.windowBits=-1*this.windowBits),this.strm=new r,this.mode){case exports.DEFLATE:case exports.GZIP:case exports.DEFLATERAW:this.err=i.deflateInit2(this.strm,this.level,exports.Z_DEFLATED,this.windowBits,this.memLevel,this.strategy);break;case exports.INFLATE:case exports.GUNZIP:case exports.INFLATERAW:case exports.UNZIP:this.err=o.inflateInit2(this.strm,this.windowBits);break;default:throw new Error("Unknown mode "+this.mode)}this.err!==exports.Z_OK&&this._error("Init error"),this.dictionary=n,this.write_in_progress=!1,this.init_done=!0},_.prototype._setDictionary=function(){if(null!=this.dictionary){switch(this.err=exports.Z_OK,this.mode){case exports.DEFLATE:case exports.DEFLATERAW:this.err=i.deflateSetDictionary(this.strm,this.dictionary)}this.err!==exports.Z_OK&&this._error("Failed to set dictionary")}},_.prototype._reset=function(){switch(this.err=exports.Z_OK,this.mode){case exports.DEFLATE:case exports.DEFLATERAW:case exports.GZIP:this.err=i.deflateReset(this.strm);break;case exports.INFLATE:case exports.INFLATERAW:case exports.GUNZIP:this.err=o.inflateReset(this.strm)}this.err!==exports.Z_OK&&this._error("Failed to reset stream")},exports.Zlib=_;
},{"assert":"DlZn","pako/lib/zlib/zstream":"bdtv","pako/lib/zlib/deflate.js":"BLBk","pako/lib/zlib/inflate.js":"GIDK","pako/lib/zlib/constants":"xUUw","buffer":"peL6","process":"pBGv"}],"aTYc":[function(require,module,exports) {

var process = require("process");
var e=require("process"),t=require("buffer").Buffer,n=require("stream").Transform,r=require("./binding"),i=require("util"),o=require("assert").ok,s=require("buffer").kMaxLength,f="Cannot create final Buffer. It would be larger than 0x"+s.toString(16)+" bytes";r.Z_MIN_WINDOWBITS=8,r.Z_MAX_WINDOWBITS=15,r.Z_DEFAULT_WINDOWBITS=15,r.Z_MIN_CHUNK=64,r.Z_MAX_CHUNK=1/0,r.Z_DEFAULT_CHUNK=16384,r.Z_MIN_MEMLEVEL=1,r.Z_MAX_MEMLEVEL=9,r.Z_DEFAULT_MEMLEVEL=8,r.Z_MIN_LEVEL=-1,r.Z_MAX_LEVEL=9,r.Z_DEFAULT_LEVEL=r.Z_DEFAULT_COMPRESSION;for(var l=Object.keys(r),_=0;_<l.length;_++){var u=l[_];u.match(/^Z/)&&Object.defineProperty(exports,u,{enumerable:!0,value:r[u],writable:!1})}for(var a={Z_OK:r.Z_OK,Z_STREAM_END:r.Z_STREAM_END,Z_NEED_DICT:r.Z_NEED_DICT,Z_ERRNO:r.Z_ERRNO,Z_STREAM_ERROR:r.Z_STREAM_ERROR,Z_DATA_ERROR:r.Z_DATA_ERROR,Z_MEM_ERROR:r.Z_MEM_ERROR,Z_BUF_ERROR:r.Z_BUF_ERROR,Z_VERSION_ERROR:r.Z_VERSION_ERROR},h=Object.keys(a),c=0;c<h.length;c++){var p=h[c];a[a[p]]=p}function E(e,n,r){var i=[],o=0;function l(){for(var t;null!==(t=e.read());)i.push(t),o+=t.length;e.once("readable",l)}function _(){var n,l=null;o>=s?l=new RangeError(f):n=t.concat(i,o),i=[],e.close(),r(l,n)}e.on("error",function(t){e.removeListener("end",_),e.removeListener("readable",l),r(t)}),e.on("end",_),e.end(n),l()}function d(e,n){if("string"==typeof n&&(n=t.from(n)),!t.isBuffer(n))throw new TypeError("Not a string or buffer");var r=e._finishFlushFlag;return e._processChunk(n,r)}function w(e){if(!(this instanceof w))return new w(e);S.call(this,e,r.DEFLATE)}function Z(e){if(!(this instanceof Z))return new Z(e);S.call(this,e,r.INFLATE)}function L(e){if(!(this instanceof L))return new L(e);S.call(this,e,r.GZIP)}function R(e){if(!(this instanceof R))return new R(e);S.call(this,e,r.GUNZIP)}function v(e){if(!(this instanceof v))return new v(e);S.call(this,e,r.DEFLATERAW)}function x(e){if(!(this instanceof x))return new x(e);S.call(this,e,r.INFLATERAW)}function I(e){if(!(this instanceof I))return new I(e);S.call(this,e,r.UNZIP)}function g(e){return e===r.Z_NO_FLUSH||e===r.Z_PARTIAL_FLUSH||e===r.Z_SYNC_FLUSH||e===r.Z_FULL_FLUSH||e===r.Z_FINISH||e===r.Z_BLOCK}function S(e,i){var o=this;if(this._opts=e=e||{},this._chunkSize=e.chunkSize||exports.Z_DEFAULT_CHUNK,n.call(this,e),e.flush&&!g(e.flush))throw new Error("Invalid flush flag: "+e.flush);if(e.finishFlush&&!g(e.finishFlush))throw new Error("Invalid flush flag: "+e.finishFlush);if(this._flushFlag=e.flush||r.Z_NO_FLUSH,this._finishFlushFlag=void 0!==e.finishFlush?e.finishFlush:r.Z_FINISH,e.chunkSize&&(e.chunkSize<exports.Z_MIN_CHUNK||e.chunkSize>exports.Z_MAX_CHUNK))throw new Error("Invalid chunk size: "+e.chunkSize);if(e.windowBits&&(e.windowBits<exports.Z_MIN_WINDOWBITS||e.windowBits>exports.Z_MAX_WINDOWBITS))throw new Error("Invalid windowBits: "+e.windowBits);if(e.level&&(e.level<exports.Z_MIN_LEVEL||e.level>exports.Z_MAX_LEVEL))throw new Error("Invalid compression level: "+e.level);if(e.memLevel&&(e.memLevel<exports.Z_MIN_MEMLEVEL||e.memLevel>exports.Z_MAX_MEMLEVEL))throw new Error("Invalid memLevel: "+e.memLevel);if(e.strategy&&e.strategy!=exports.Z_FILTERED&&e.strategy!=exports.Z_HUFFMAN_ONLY&&e.strategy!=exports.Z_RLE&&e.strategy!=exports.Z_FIXED&&e.strategy!=exports.Z_DEFAULT_STRATEGY)throw new Error("Invalid strategy: "+e.strategy);if(e.dictionary&&!t.isBuffer(e.dictionary))throw new Error("Invalid dictionary: it should be a Buffer instance");this._handle=new r.Zlib(i);var s=this;this._hadError=!1,this._handle.onerror=function(e,t){y(s),s._hadError=!0;var n=new Error(e);n.errno=t,n.code=exports.codes[t],s.emit("error",n)};var f=exports.Z_DEFAULT_COMPRESSION;"number"==typeof e.level&&(f=e.level);var l=exports.Z_DEFAULT_STRATEGY;"number"==typeof e.strategy&&(l=e.strategy),this._handle.init(e.windowBits||exports.Z_DEFAULT_WINDOWBITS,f,e.memLevel||exports.Z_DEFAULT_MEMLEVEL,l,e.dictionary),this._buffer=t.allocUnsafe(this._chunkSize),this._offset=0,this._level=f,this._strategy=l,this.once("end",this.close),Object.defineProperty(this,"_closed",{get:function(){return!o._handle},configurable:!0,enumerable:!0})}function y(t,n){n&&e.nextTick(n),t._handle&&(t._handle.close(),t._handle=null)}function F(e){e.emit("close")}Object.defineProperty(exports,"codes",{enumerable:!0,value:Object.freeze(a),writable:!1}),exports.Deflate=w,exports.Inflate=Z,exports.Gzip=L,exports.Gunzip=R,exports.DeflateRaw=v,exports.InflateRaw=x,exports.Unzip=I,exports.createDeflate=function(e){return new w(e)},exports.createInflate=function(e){return new Z(e)},exports.createDeflateRaw=function(e){return new v(e)},exports.createInflateRaw=function(e){return new x(e)},exports.createGzip=function(e){return new L(e)},exports.createGunzip=function(e){return new R(e)},exports.createUnzip=function(e){return new I(e)},exports.deflate=function(e,t,n){return"function"==typeof t&&(n=t,t={}),E(new w(t),e,n)},exports.deflateSync=function(e,t){return d(new w(t),e)},exports.gzip=function(e,t,n){return"function"==typeof t&&(n=t,t={}),E(new L(t),e,n)},exports.gzipSync=function(e,t){return d(new L(t),e)},exports.deflateRaw=function(e,t,n){return"function"==typeof t&&(n=t,t={}),E(new v(t),e,n)},exports.deflateRawSync=function(e,t){return d(new v(t),e)},exports.unzip=function(e,t,n){return"function"==typeof t&&(n=t,t={}),E(new I(t),e,n)},exports.unzipSync=function(e,t){return d(new I(t),e)},exports.inflate=function(e,t,n){return"function"==typeof t&&(n=t,t={}),E(new Z(t),e,n)},exports.inflateSync=function(e,t){return d(new Z(t),e)},exports.gunzip=function(e,t,n){return"function"==typeof t&&(n=t,t={}),E(new R(t),e,n)},exports.gunzipSync=function(e,t){return d(new R(t),e)},exports.inflateRaw=function(e,t,n){return"function"==typeof t&&(n=t,t={}),E(new x(t),e,n)},exports.inflateRawSync=function(e,t){return d(new x(t),e)},i.inherits(S,n),S.prototype.params=function(t,n,i){if(t<exports.Z_MIN_LEVEL||t>exports.Z_MAX_LEVEL)throw new RangeError("Invalid compression level: "+t);if(n!=exports.Z_FILTERED&&n!=exports.Z_HUFFMAN_ONLY&&n!=exports.Z_RLE&&n!=exports.Z_FIXED&&n!=exports.Z_DEFAULT_STRATEGY)throw new TypeError("Invalid strategy: "+n);if(this._level!==t||this._strategy!==n){var s=this;this.flush(r.Z_SYNC_FLUSH,function(){o(s._handle,"zlib binding closed"),s._handle.params(t,n),s._hadError||(s._level=t,s._strategy=n,i&&i())})}else e.nextTick(i)},S.prototype.reset=function(){return o(this._handle,"zlib binding closed"),this._handle.reset()},S.prototype._flush=function(e){this._transform(t.alloc(0),"",e)},S.prototype.flush=function(n,i){var o=this,s=this._writableState;("function"==typeof n||void 0===n&&!i)&&(i=n,n=r.Z_FULL_FLUSH),s.ended?i&&e.nextTick(i):s.ending?i&&this.once("end",i):s.needDrain?i&&this.once("drain",function(){return o.flush(n,i)}):(this._flushFlag=n,this.write(t.alloc(0),"",i))},S.prototype.close=function(t){y(this,t),e.nextTick(F,this)},S.prototype._transform=function(e,n,i){var o,s=this._writableState,f=(s.ending||s.ended)&&(!e||s.length===e.length);return null===e||t.isBuffer(e)?this._handle?(f?o=this._finishFlushFlag:(o=this._flushFlag,e.length>=s.length&&(this._flushFlag=this._opts.flush||r.Z_NO_FLUSH)),void this._processChunk(e,o,i)):i(new Error("zlib binding closed")):i(new Error("invalid input"))},S.prototype._processChunk=function(e,n,r){var i=e&&e.length,l=this._chunkSize-this._offset,_=0,u=this,a="function"==typeof r;if(!a){var h,c=[],p=0;this.on("error",function(e){h=e}),o(this._handle,"zlib binding closed");do{var E=this._handle.writeSync(n,e,_,i,this._buffer,this._offset,l)}while(!this._hadError&&Z(E[0],E[1]));if(this._hadError)throw h;if(p>=s)throw y(this),new RangeError(f);var d=t.concat(c,p);return y(this),d}o(this._handle,"zlib binding closed");var w=this._handle.write(n,e,_,i,this._buffer,this._offset,l);function Z(s,f){if(this&&(this.buffer=null,this.callback=null),!u._hadError){var h=l-f;if(o(h>=0,"have should not go down"),h>0){var E=u._buffer.slice(u._offset,u._offset+h);u._offset+=h,a?u.push(E):(c.push(E),p+=E.length)}if((0===f||u._offset>=u._chunkSize)&&(l=u._chunkSize,u._offset=0,u._buffer=t.allocUnsafe(u._chunkSize)),0===f){if(_+=i-s,i=s,!a)return!0;var d=u._handle.write(n,e,_,i,u._buffer,u._offset,u._chunkSize);return d.callback=Z,void(d.buffer=e)}if(!a)return!1;r()}}w.buffer=e,w.callback=Z},i.inherits(w,S),i.inherits(Z,S),i.inherits(L,S),i.inherits(R,S),i.inherits(v,S),i.inherits(x,S),i.inherits(I,S);
},{"buffer":"peL6","stream":"fnRj","./binding":"MId7","util":"gfUn","assert":"DlZn","process":"pBGv"}],"cy9p":[function(require,module,exports) {

var n=[],e=[],r=function(){};function t(e){return!~n.indexOf(e)&&(n.push(e),!0)}function o(n){r=n}function u(e){for(var r=[],t=0;t<n.length;t++)if(n[t].async)r.push(n[t]);else if(n[t](e))return!0;return!!r.length&&new Promise(function(n){Promise.all(r.map(function(n){return n(e)})).then(function(e){n(e.some(Boolean))})})}function i(n){return!~e.indexOf(n)&&(e.push(n),!0)}function f(){r.apply(r,arguments)}function c(n){for(var r=0;r<e.length;r++)n=e[r].apply(e[r],arguments);return n}function a(n,e){var r=Object.prototype.hasOwnProperty;for(var t in e)r.call(e,t)&&(n[t]=e[t]);return n}function l(n){return n.enabled=!1,n.modify=i,n.set=o,n.use=t,a(function(){return!1},n)}function s(n){return n.enabled=!0,n.modify=i,n.set=o,n.use=t,a(function(){var e=Array.prototype.slice.call(arguments,0);return f.call(f,n,c(e,n)),!0},n)}module.exports=function(n){return n.introduce=a,n.enabled=u,n.process=c,n.modify=i,n.write=f,n.nope=l,n.yep=s,n.set=o,n.use=t,n};
},{}],"q9rG":[function(require,module,exports) {
var e=require("../diagnostics"),r=e(function e(r,o){return(o=o||{}).namespace=r,o.prod=!0,o.dev=!1,o.force||e.force?e.yep(o):e.nope(o)});module.exports=r;
},{"../diagnostics":"cy9p"}],"y7Qg":[function(require,module,exports) {
module.exports=require("./production.js");
},{"./production.js":"q9rG"}],"j0vb":[function(require,module,exports) {
var Buffer = require("buffer").Buffer;
var e=require("buffer").Buffer,r=require("fs"),t=require("string_decoder"),n=t.StringDecoder,i=require("readable-stream"),o=i.Stream;function u(){}module.exports=function(t,i){var l=e.alloc(65536),a=new n("utf8"),s=new o,d="",f=0,c=0;return-1===t.start&&delete t.start,s.readable=!0,s.destroy=function(){s.destroyed=!0,s.emit("end"),s.emit("close")},r.open(t.file,"a+","0644",function(e,n){if(e)return i?i(e):s.emit("error",e),void s.destroy();!function e(){if(!s.destroyed)return r.read(n,l,0,l.length,f,function(r,n){if(r)return i?i(r):s.emit("error",r),void s.destroy();if(!n)return d&&((null==t.start||c>t.start)&&(i?i(null,d):s.emit("line",d)),c++,d=""),setTimeout(e,1e3);var o=a.write(l.slice(0,n));i||s.emit("data",o);for(var u=(o=(d+o).split(/\n+/)).length-1,m=0;m<u;m++)(null==t.start||c>t.start)&&(i?i(null,o[m]):s.emit("line",o[m])),c++;return d=o[u],f+=n,e()});r.close(n,u)}()}),i?s.destroy:s};
},{"fs":"vKFU","string_decoder":"ES0U","readable-stream":"tzeh","buffer":"peL6"}],"tgPB":[function(require,module,exports) {
var Buffer = require("buffer").Buffer;
var e=require("buffer").Buffer;function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function r(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=l();return function(){var n,i=f(e);if(t){var r=f(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return c(this,n)}}function c(e,n){return!n||"object"!==t(n)&&"function"!=typeof n?u(e):n}function u(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function l(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var h=require("fs"),m=require("path"),d=require("async/series"),_=require("zlib"),p=require("triple-beam"),v=p.MESSAGE,y=require("readable-stream"),g=y.Stream,b=y.PassThrough,w=require("winston-transport"),S=require("@dabh/diagnostics")("winston:file"),k=require("os"),z=require("../tail-file");module.exports=function(i){o(c,w);var a=s(c);function c(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};function i(e){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];i.slice(1).forEach(function(n){if(t[n])throw new Error("Cannot set ".concat(n," and ").concat(e," together"))})}if(n(this,c),(e=a.call(this,t)).name=t.name||"file",e._stream=new b,e._stream.setMaxListeners(30),e._onError=e._onError.bind(u(e)),t.filename||t.dirname)i("filename or dirname","stream"),e._basename=e.filename=t.filename?m.basename(t.filename):"winston.log",e.dirname=t.dirname||m.dirname(t.filename),e.options=t.options||{flags:"a"};else{if(!t.stream)throw new Error("Cannot log to file without filename or stream.");console.warn("options.stream will be removed in winston@4. Use winston.transports.Stream"),i("stream","filename","maxsize"),e._dest=e._stream.pipe(e._setupStream(t.stream)),e.dirname=m.dirname(e._dest.path)}return e.maxsize=t.maxsize||null,e.rotationFormat=t.rotationFormat||!1,e.zippedArchive=t.zippedArchive||!1,e.maxFiles=t.maxFiles||null,e.eol=t.eol||k.EOL,e.tailable=t.tailable||!1,e._size=0,e._pendingSize=0,e._created=0,e._drain=!1,e._opening=!1,e._ending=!1,e.dirname&&e._createLogDirIfNotExist(e.dirname),e.open(),e}return r(c,[{key:"finishIfEnding",value:function(){var e=this;this._ending&&(this._opening?this.once("open",function(){e._stream.once("finish",function(){return e.emit("finish")}),setImmediate(function(){return e._stream.end()})}):(this._stream.once("finish",function(){return e.emit("finish")}),setImmediate(function(){return e._stream.end()})))}},{key:"log",value:function(t){var n=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};if(this.silent)return i(),!0;if(this._drain)this._stream.once("drain",function(){n._drain=!1,n.log(t,i)});else{if(!this._rotate){var r="".concat(t[v]).concat(this.eol),o=e.byteLength(r);this._pendingSize+=o,this._opening&&!this.rotatedWhileOpening&&this._needsNewFile(this._size+this._pendingSize)&&(this.rotatedWhileOpening=!0);var a=this._stream.write(r,function(){var e=this;this._size+=o,this._pendingSize-=o,S("logged %s %s",this._size,r),this.emit("logged",t),this._opening||this._needsNewFile()&&(this._rotate=!0,this._endStream(function(){return e._rotateFile()}))}.bind(this));return a?i():(this._drain=!0,this._stream.once("drain",function(){n._drain=!1,i()})),S("written",a,this._drain),this.finishIfEnding(),a}this._stream.once("rotate",function(){n._rotate=!1,n.log(t,i)})}}},{key:"query",value:function(e,n){"function"==typeof e&&(n=e,e={}),e=function(e){(e=e||{}).rows=e.rows||e.limit||10,e.start=e.start||0,e.until=e.until||new Date,"object"!==t(e.until)&&(e.until=new Date(e.until));e.from=e.from||e.until-864e5,"object"!==t(e.from)&&(e.from=new Date(e.from));return e.order=e.order||"desc",e}(e);var i=m.join(this.dirname,this.filename),r="",o=[],a=0,s=h.createReadStream(i,{encoding:"utf8"});function c(n,i){try{var r=JSON.parse(n);(function(n){if(!n)return;if("object"!==t(n))return;var i=new Date(n.timestamp);if(e.from&&i<e.from||e.until&&i>e.until||e.level&&e.level!==n.level)return;return!0})(r)&&function(t){if(e.rows&&o.length>=e.rows&&"desc"!==e.order)return void(s.readable&&s.destroy());e.fields&&(t=e.fields.reduce(function(e,n){return e[n]=t[n],e},{}));"desc"===e.order&&o.length>=e.rows&&o.shift();o.push(t)}(r)}catch(a){i||s.emit("error",a)}}s.on("error",function(e){if(s.readable&&s.destroy(),n)return"ENOENT"!==e.code?n(e):n(null,o)}),s.on("data",function(t){for(var n=(t=(r+t).split(/\n+/)).length-1,i=0;i<n;i++)(!e.start||a>=e.start)&&c(t[i]),a++;r=t[n]}),s.on("close",function(){r&&c(r,!0),"desc"===e.order&&(o=o.reverse()),n&&n(null,o)})}},{key:"stream",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=m.join(this.dirname,this.filename),n=new g,i={file:t,start:e.start};return n.destroy=z(i,function(e,t){if(e)return n.emit("error",e);try{n.emit("data",t),t=JSON.parse(t),n.emit("log",t)}catch(i){n.emit("error",i)}}),n}},{key:"open",value:function(){var e=this;this.filename&&(this._opening||(this._opening=!0,this.stat(function(t,n){if(t)return e.emit("error",t);S("stat done: %s { size: %s }",e.filename,n),e._size=n,e._dest=e._createStream(e._stream),e._opening=!1,e.once("open",function(){e._stream.eventNames().includes("rotate")?e._stream.emit("rotate"):e._rotate=!1})})))}},{key:"stat",value:function(e){var t=this,n=this._getFile(),i=m.join(this.dirname,n);h.stat(i,function(r,o){return r&&"ENOENT"===r.code?(S("ENOENTok",i),t.filename=n,e(null,0)):r?(S("err ".concat(r.code," ").concat(i)),e(r)):!o||t._needsNewFile(o.size)?t._incFile(function(){return t.stat(e)}):(t.filename=n,void e(null,o.size))})}},{key:"close",value:function(e){var t=this;this._stream&&this._stream.end(function(){e&&e(),t.emit("flush"),t.emit("closed")})}},{key:"_needsNewFile",value:function(e){return e=e||this._size,this.maxsize&&e>=this.maxsize}},{key:"_onError",value:function(e){this.emit("error",e)}},{key:"_setupStream",value:function(e){return e.on("error",this._onError),e}},{key:"_cleanupStream",value:function(e){return e.removeListener("error",this._onError),e}},{key:"_rotateFile",value:function(){var e=this;this._incFile(function(){return e.open()})}},{key:"_endStream",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){};this._dest?(this._stream.unpipe(this._dest),this._dest.end(function(){e._cleanupStream(e._dest),t()})):t()}},{key:"_createStream",value:function(e){var t=this,n=m.join(this.dirname,this.filename);S("create stream start",n,this.options);var i=h.createWriteStream(n,this.options).on("error",function(e){return S(e)}).on("close",function(){return S("close",i.path,i.bytesWritten)}).on("open",function(){S("file open ok",n),t.emit("open",n),e.pipe(i),t.rotatedWhileOpening&&(t._stream=new b,t._stream.setMaxListeners(30),t._rotateFile(),t.rotatedWhileOpening=!1,t._cleanupStream(i),e.end())});if(S("create stream ok",n),this.zippedArchive){var r=_.createGzip();return r.pipe(i),r}return i}},{key:"_incFile",value:function(e){S("_incFile",this.filename);var t=m.extname(this._basename),n=m.basename(this._basename,t);this.tailable?this._checkMaxFilesTailable(t,n,e):(this._created+=1,this._checkMaxFilesIncrementing(t,n,e))}},{key:"_getFile",value:function(){var e=m.extname(this._basename),t=m.basename(this._basename,e),n=this.rotationFormat?this.rotationFormat():this._created,i=!this.tailable&&this._created?"".concat(t).concat(n).concat(e):"".concat(t).concat(e);return this.zippedArchive&&!this.tailable?"".concat(i,".gz"):i}},{key:"_checkMaxFilesIncrementing",value:function(e,t,n){if(!this.maxFiles||this._created<this.maxFiles)return setImmediate(n);var i=this._created-this.maxFiles,r=0!==i?i:"",o=this.zippedArchive?".gz":"",a="".concat(t).concat(r).concat(e).concat(o),s=m.join(this.dirname,a);h.unlink(s,n)}},{key:"_checkMaxFilesTailable",value:function(e,t,n){var i=this,r=[];if(this.maxFiles){for(var o=this.zippedArchive?".gz":"",a=this.maxFiles-1;a>1;a--)r.push(function(n,i){var r=this,a="".concat(t).concat(n-1).concat(e).concat(o),s=m.join(this.dirname,a);h.exists(s,function(c){if(!c)return i(null);a="".concat(t).concat(n).concat(e).concat(o),h.rename(s,m.join(r.dirname,a),i)})}.bind(this,a));d(r,function(){h.rename(m.join(i.dirname,"".concat(t).concat(e)),m.join(i.dirname,"".concat(t,"1").concat(e).concat(o)),n)})}}},{key:"_createLogDirIfNotExist",value:function(e){h.existsSync(e)||h.mkdirSync(e,{recursive:!0})}}]),c}();
},{"fs":"vKFU","path":"UUq2","async/series":"xcij","zlib":"aTYc","triple-beam":"qId8","readable-stream":"tzeh","winston-transport":"mTgj","@dabh/diagnostics":"y7Qg","os":"zv8z","../tail-file":"j0vb","buffer":"peL6"}],"p5a1":[function(require,module,exports) {
var global = arguments[3];
var r,e=arguments[3];exports.fetch=s(e.fetch)&&s(e.ReadableStream),exports.writableStream=s(e.WritableStream),exports.abortController=s(e.AbortController),exports.blobConstructor=!1;try{new Blob([new ArrayBuffer(1)]),exports.blobConstructor=!0}catch(f){}function t(){if(void 0!==r)return r;if(e.XMLHttpRequest){r=new e.XMLHttpRequest;try{r.open("GET",e.XDomainRequest?"/":"https://example.com")}catch(f){r=null}}else r=null;return r}function o(r){var e=t();if(!e)return!1;try{return e.responseType=r,e.responseType===r}catch(f){}return!1}var a=void 0!==e.ArrayBuffer,n=a&&s(e.ArrayBuffer.prototype.slice);function s(r){return"function"==typeof r}exports.arraybuffer=exports.fetch||a&&o("arraybuffer"),exports.msstream=!exports.fetch&&n&&o("ms-stream"),exports.mozchunkedarraybuffer=!exports.fetch&&a&&o("moz-chunked-arraybuffer"),exports.overrideMimeType=exports.fetch||!!t()&&s(t().overrideMimeType),exports.vbArray=s(e.VBArray),r=null;
},{}],"CQMM":[function(require,module,exports) {

"use strict";function t(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}var n=require("safe-buffer").Buffer,e=require("util");function i(t,n,e){t.copy(n,e)}module.exports=function(){function e(){t(this,e),this.head=null,this.tail=null,this.length=0}return e.prototype.push=function(t){var n={data:t,next:null};this.length>0?this.tail.next=n:this.head=n,this.tail=n,++this.length},e.prototype.unshift=function(t){var n={data:t,next:this.head};0===this.length&&(this.tail=n),this.head=n,++this.length},e.prototype.shift=function(){if(0!==this.length){var t=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,t}},e.prototype.clear=function(){this.head=this.tail=null,this.length=0},e.prototype.join=function(t){if(0===this.length)return"";for(var n=this.head,e=""+n.data;n=n.next;)e+=t+n.data;return e},e.prototype.concat=function(t){if(0===this.length)return n.alloc(0);if(1===this.length)return this.head.data;for(var e=n.allocUnsafe(t>>>0),h=this.head,a=0;h;)i(h.data,e,a),a+=h.data.length,h=h.next;return e},e}(),e&&e.inspect&&e.inspect.custom&&(module.exports.prototype[e.inspect.custom]=function(){var t=e.inspect({length:this.length});return this.constructor.name+" "+t});
},{"safe-buffer":"l6K0","util":"vKFU"}],"jPmE":[function(require,module,exports) {
var process = require("process");

var global = arguments[3];
var e=require("process"),t=arguments[3],n=require("process-nextick-args");function r(e,t,n){this.chunk=e,this.encoding=t,this.callback=n,this.next=null}function i(e){var t=this;this.next=null,this.entry=null,this.finish=function(){W(t,e)}}module.exports=g;var o,s=n.nextTick;g.WritableState=y;var f=Object.create(require("core-util-is"));f.inherits=require("inherits");var u={deprecate:require("util-deprecate")},a=require("./internal/streams/stream"),c=require("safe-buffer").Buffer,l=t.Uint8Array||function(){};function d(e){return c.from(e)}function h(e){return c.isBuffer(e)||e instanceof l}var b,p=require("./internal/streams/destroy");function w(){}function y(e,t){o=o||require("./_stream_duplex"),e=e||{};var n=t instanceof o;this.objectMode=!!e.objectMode,n&&(this.objectMode=this.objectMode||!!e.writableObjectMode);var r=e.highWaterMark,s=e.writableHighWaterMark,f=this.objectMode?16:16384;this.highWaterMark=r||0===r?r:n&&(s||0===s)?s:f,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var u=!1===e.decodeStrings;this.decodeStrings=!u,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){S(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new i(this)}function g(e){if(o=o||require("./_stream_duplex"),!(b.call(g,this)||this instanceof o))return new g(e);this._writableState=new y(e,this),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final)),a.call(this)}function k(e,t){var r=new Error("write after end");e.emit("error",r),n.nextTick(t,r)}function v(e,t,r,i){var o=!0,s=!1;return null===r?s=new TypeError("May not write null values to stream"):"string"==typeof r||void 0===r||t.objectMode||(s=new TypeError("Invalid non-string/buffer chunk")),s&&(e.emit("error",s),n.nextTick(i,s),o=!1),o}function q(e,t,n){return e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=c.from(t,n)),t}function _(e,t,n,r,i,o){if(!n){var s=q(t,r,i);r!==s&&(n=!0,i="buffer",r=s)}var f=t.objectMode?1:r.length;t.length+=f;var u=t.length<t.highWaterMark;if(u||(t.needDrain=!0),t.writing||t.corked){var a=t.lastBufferedRequest;t.lastBufferedRequest={chunk:r,encoding:i,isBuf:n,callback:o,next:null},a?a.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else m(e,t,!1,f,r,i,o);return u}function m(e,t,n,r,i,o,s){t.writelen=r,t.writecb=s,t.writing=!0,t.sync=!0,n?e._writev(i,t.onwrite):e._write(i,o,t.onwrite),t.sync=!1}function R(e,t,r,i,o){--t.pendingcb,r?(n.nextTick(o,i),n.nextTick(T,e,t),e._writableState.errorEmitted=!0,e.emit("error",i)):(o(i),e._writableState.errorEmitted=!0,e.emit("error",i),T(e,t))}function x(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}function S(e,t){var n=e._writableState,r=n.sync,i=n.writecb;if(x(n),t)R(e,n,r,t,i);else{var o=E(n);o||n.corked||n.bufferProcessing||!n.bufferedRequest||B(e,n),r?s(M,e,n,o,i):M(e,n,o,i)}}function M(e,t,n,r){n||j(e,t),t.pendingcb--,r(),T(e,t)}function j(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}function B(e,t){t.bufferProcessing=!0;var n=t.bufferedRequest;if(e._writev&&n&&n.next){var r=t.bufferedRequestCount,o=new Array(r),s=t.corkedRequestsFree;s.entry=n;for(var f=0,u=!0;n;)o[f]=n,n.isBuf||(u=!1),n=n.next,f+=1;o.allBuffers=u,m(e,t,!0,t.length,o,"",s.finish),t.pendingcb++,t.lastBufferedRequest=null,s.next?(t.corkedRequestsFree=s.next,s.next=null):t.corkedRequestsFree=new i(t),t.bufferedRequestCount=0}else{for(;n;){var a=n.chunk,c=n.encoding,l=n.callback;if(m(e,t,!1,t.objectMode?1:a.length,a,c,l),n=n.next,t.bufferedRequestCount--,t.writing)break}null===n&&(t.lastBufferedRequest=null)}t.bufferedRequest=n,t.bufferProcessing=!1}function E(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function C(e,t){e._final(function(n){t.pendingcb--,n&&e.emit("error",n),t.prefinished=!0,e.emit("prefinish"),T(e,t)})}function P(e,t){t.prefinished||t.finalCalled||("function"==typeof e._final?(t.pendingcb++,t.finalCalled=!0,n.nextTick(C,e,t)):(t.prefinished=!0,e.emit("prefinish")))}function T(e,t){var n=E(t);return n&&(P(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"))),n}function F(e,t,r){t.ending=!0,T(e,t),r&&(t.finished?n.nextTick(r):e.once("finish",r)),t.ended=!0,e.writable=!1}function W(e,t,n){var r=e.entry;for(e.entry=null;r;){var i=r.callback;t.pendingcb--,i(n),r=r.next}t.corkedRequestsFree?t.corkedRequestsFree.next=e:t.corkedRequestsFree=e}f.inherits(g,a),y.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(y.prototype,"buffer",{get:u.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(b=Function.prototype[Symbol.hasInstance],Object.defineProperty(g,Symbol.hasInstance,{value:function(e){return!!b.call(this,e)||this===g&&(e&&e._writableState instanceof y)}})):b=function(e){return e instanceof this},g.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},g.prototype.write=function(e,t,n){var r=this._writableState,i=!1,o=!r.objectMode&&h(e);return o&&!c.isBuffer(e)&&(e=d(e)),"function"==typeof t&&(n=t,t=null),o?t="buffer":t||(t=r.defaultEncoding),"function"!=typeof n&&(n=w),r.ended?k(this,n):(o||v(this,r,e,n))&&(r.pendingcb++,i=_(this,r,o,e,t,n)),i},g.prototype.cork=function(){this._writableState.corked++},g.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.finished||e.bufferProcessing||!e.bufferedRequest||B(this,e))},g.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(g.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),g.prototype._write=function(e,t,n){n(new Error("_write() is not implemented"))},g.prototype._writev=null,g.prototype.end=function(e,t,n){var r=this._writableState;"function"==typeof e?(n=e,e=null,t=null):"function"==typeof t&&(n=t,t=null),null!=e&&this.write(e,t),r.corked&&(r.corked=1,this.uncork()),r.ending||r.finished||F(this,r,n)},Object.defineProperty(g.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),g.prototype.destroy=p.destroy,g.prototype._undestroy=p.undestroy,g.prototype._destroy=function(e,t){this.end(),t(e)};
},{"process-nextick-args":"Yj0v","core-util-is":"Q14w","inherits":"Bm0n","util-deprecate":"yM1o","./internal/streams/stream":"Q8A6","safe-buffer":"l6K0","./internal/streams/destroy":"avqi","./_stream_duplex":"Jcj8","process":"pBGv"}],"Jcj8":[function(require,module,exports) {
"use strict";var e=require("process-nextick-args"),t=Object.keys||function(e){var t=[];for(var r in e)t.push(r);return t};module.exports=l;var r=Object.create(require("core-util-is"));r.inherits=require("inherits");var i=require("./_stream_readable"),a=require("./_stream_writable");r.inherits(l,i);for(var o=t(a.prototype),s=0;s<o.length;s++){var n=o[s];l.prototype[n]||(l.prototype[n]=a.prototype[n])}function l(e){if(!(this instanceof l))return new l(e);i.call(this,e),a.call(this,e),e&&!1===e.readable&&(this.readable=!1),e&&!1===e.writable&&(this.writable=!1),this.allowHalfOpen=!0,e&&!1===e.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",h)}function h(){this.allowHalfOpen||this._writableState.ended||e.nextTick(d,this)}function d(e){e.end()}Object.defineProperty(l.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(l.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}}),l.prototype._destroy=function(t,r){this.push(null),this.end(),e.nextTick(r,t)};
},{"process-nextick-args":"Yj0v","core-util-is":"Q14w","inherits":"Bm0n","./_stream_readable":"YrHu","./_stream_writable":"jPmE"}],"OUJr":[function(require,module,exports) {

"use strict";var t=require("safe-buffer").Buffer,e=t.isEncoding||function(t){switch((t=""+t)&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function s(t){if(!t)return"utf8";for(var e;;)switch(t){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return t;default:if(e)return;t=(""+t).toLowerCase(),e=!0}}function i(i){var a=s(i);if("string"!=typeof a&&(t.isEncoding===e||!e(i)))throw new Error("Unknown encoding: "+i);return a||i}function a(e){var s;switch(this.encoding=i(e),this.encoding){case"utf16le":this.text=c,this.end=f,s=4;break;case"utf8":this.fillLast=l,s=4;break;case"base64":this.text=d,this.end=g,s=3;break;default:return this.write=N,void(this.end=v)}this.lastNeed=0,this.lastTotal=0,this.lastChar=t.allocUnsafe(s)}function r(t){return t<=127?0:t>>5==6?2:t>>4==14?3:t>>3==30?4:t>>6==2?-1:-2}function n(t,e,s){var i=e.length-1;if(i<s)return 0;var a=r(e[i]);return a>=0?(a>0&&(t.lastNeed=a-1),a):--i<s||-2===a?0:(a=r(e[i]))>=0?(a>0&&(t.lastNeed=a-2),a):--i<s||-2===a?0:(a=r(e[i]))>=0?(a>0&&(2===a?a=0:t.lastNeed=a-3),a):0}function h(t,e,s){if(128!=(192&e[0]))return t.lastNeed=0,"";if(t.lastNeed>1&&e.length>1){if(128!=(192&e[1]))return t.lastNeed=1,"";if(t.lastNeed>2&&e.length>2&&128!=(192&e[2]))return t.lastNeed=2,""}}function l(t){var e=this.lastTotal-this.lastNeed,s=h(this,t,e);return void 0!==s?s:this.lastNeed<=t.length?(t.copy(this.lastChar,e,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(t.copy(this.lastChar,e,0,t.length),void(this.lastNeed-=t.length))}function u(t,e){var s=n(this,t,e);if(!this.lastNeed)return t.toString("utf8",e);this.lastTotal=s;var i=t.length-(s-this.lastNeed);return t.copy(this.lastChar,0,i),t.toString("utf8",e,i)}function o(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+"":e}function c(t,e){if((t.length-e)%2==0){var s=t.toString("utf16le",e);if(s){var i=s.charCodeAt(s.length-1);if(i>=55296&&i<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1],s.slice(0,-1)}return s}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=t[t.length-1],t.toString("utf16le",e,t.length-1)}function f(t){var e=t&&t.length?this.write(t):"";if(this.lastNeed){var s=this.lastTotal-this.lastNeed;return e+this.lastChar.toString("utf16le",0,s)}return e}function d(t,e){var s=(t.length-e)%3;return 0===s?t.toString("base64",e):(this.lastNeed=3-s,this.lastTotal=3,1===s?this.lastChar[0]=t[t.length-1]:(this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1]),t.toString("base64",e,t.length-s))}function g(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+this.lastChar.toString("base64",0,3-this.lastNeed):e}function N(t){return t.toString(this.encoding)}function v(t){return t&&t.length?this.write(t):""}exports.StringDecoder=a,a.prototype.write=function(t){if(0===t.length)return"";var e,s;if(this.lastNeed){if(void 0===(e=this.fillLast(t)))return"";s=this.lastNeed,this.lastNeed=0}else s=0;return s<t.length?e?e+this.text(t,s):this.text(t,s):e||""},a.prototype.end=o,a.prototype.text=u,a.prototype.fillLast=function(t){if(this.lastNeed<=t.length)return t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,t.length),this.lastNeed-=t.length};
},{"safe-buffer":"l6K0"}],"YrHu":[function(require,module,exports) {

var global = arguments[3];
var process = require("process");
var e=arguments[3],t=require("process"),n=require("process-nextick-args");module.exports=_;var r,i=require("isarray");_.ReadableState=w;var a=require("events").EventEmitter,d=function(e,t){return e.listeners(t).length},o=require("./internal/streams/stream"),s=require("safe-buffer").Buffer,u=e.Uint8Array||function(){};function l(e){return s.from(e)}function h(e){return s.isBuffer(e)||e instanceof u}var p=Object.create(require("core-util-is"));p.inherits=require("inherits");var f=require("util"),c=void 0;c=f&&f.debuglog?f.debuglog("stream"):function(){};var g,b=require("./internal/streams/BufferList"),m=require("./internal/streams/destroy");p.inherits(_,o);var v=["error","close","destroy","pause","resume"];function y(e,t,n){if("function"==typeof e.prependListener)return e.prependListener(t,n);e._events&&e._events[t]?i(e._events[t])?e._events[t].unshift(n):e._events[t]=[n,e._events[t]]:e.on(t,n)}function w(e,t){e=e||{};var n=t instanceof(r=r||require("./_stream_duplex"));this.objectMode=!!e.objectMode,n&&(this.objectMode=this.objectMode||!!e.readableObjectMode);var i=e.highWaterMark,a=e.readableHighWaterMark,d=this.objectMode?16:16384;this.highWaterMark=i||0===i?i:n&&(a||0===a)?a:d,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new b,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(g||(g=require("string_decoder/").StringDecoder),this.decoder=new g(e.encoding),this.encoding=e.encoding)}function _(e){if(r=r||require("./_stream_duplex"),!(this instanceof _))return new _(e);this._readableState=new w(e,this),this.readable=!0,e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy)),o.call(this)}function M(e,t,n,r,i){var a,d=e._readableState;null===t?(d.reading=!1,x(e,d)):(i||(a=k(d,t)),a?e.emit("error",a):d.objectMode||t&&t.length>0?("string"==typeof t||d.objectMode||Object.getPrototypeOf(t)===s.prototype||(t=l(t)),r?d.endEmitted?e.emit("error",new Error("stream.unshift() after end event")):S(e,d,t,!0):d.ended?e.emit("error",new Error("stream.push() after EOF")):(d.reading=!1,d.decoder&&!n?(t=d.decoder.write(t),d.objectMode||0!==t.length?S(e,d,t,!1):C(e,d)):S(e,d,t,!1))):r||(d.reading=!1));return j(d)}function S(e,t,n,r){t.flowing&&0===t.length&&!t.sync?(e.emit("data",n),e.read(0)):(t.length+=t.objectMode?1:n.length,r?t.buffer.unshift(n):t.buffer.push(n),t.needReadable&&q(e)),C(e,t)}function k(e,t){var n;return h(t)||"string"==typeof t||void 0===t||e.objectMode||(n=new TypeError("Invalid non-string/buffer chunk")),n}function j(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||0===e.length)}Object.defineProperty(_.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),_.prototype.destroy=m.destroy,_.prototype._undestroy=m.undestroy,_.prototype._destroy=function(e,t){this.push(null),t(e)},_.prototype.push=function(e,t){var n,r=this._readableState;return r.objectMode?n=!0:"string"==typeof e&&((t=t||r.defaultEncoding)!==r.encoding&&(e=s.from(e,t),t=""),n=!0),M(this,e,t,!1,n)},_.prototype.unshift=function(e){return M(this,e,null,!0,!1)},_.prototype.isPaused=function(){return!1===this._readableState.flowing},_.prototype.setEncoding=function(e){return g||(g=require("string_decoder/").StringDecoder),this._readableState.decoder=new g(e),this._readableState.encoding=e,this};var R=8388608;function E(e){return e>=R?e=R:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}function L(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=E(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function x(e,t){if(!t.ended){if(t.decoder){var n=t.decoder.end();n&&n.length&&(t.buffer.push(n),t.length+=t.objectMode?1:n.length)}t.ended=!0,q(e)}}function q(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||(c("emitReadable",t.flowing),t.emittedReadable=!0,t.sync?n.nextTick(W,e):W(e))}function W(e){c("emit readable"),e.emit("readable"),B(e)}function C(e,t){t.readingMore||(t.readingMore=!0,n.nextTick(D,e,t))}function D(e,t){for(var n=t.length;!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark&&(c("maybeReadMore read 0"),e.read(0),n!==t.length);)n=t.length;t.readingMore=!1}function O(e){return function(){var t=e._readableState;c("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&d(e,"data")&&(t.flowing=!0,B(e))}}function T(e){c("readable nexttick read 0"),e.read(0)}function U(e,t){t.resumeScheduled||(t.resumeScheduled=!0,n.nextTick(P,e,t))}function P(e,t){t.reading||(c("resume read 0"),e.read(0)),t.resumeScheduled=!1,t.awaitDrain=0,e.emit("resume"),B(e),t.flowing&&!t.reading&&e.read(0)}function B(e){var t=e._readableState;for(c("flow",t.flowing);t.flowing&&null!==e.read(););}function H(e,t){return 0===t.length?null:(t.objectMode?n=t.buffer.shift():!e||e>=t.length?(n=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.head.data:t.buffer.concat(t.length),t.buffer.clear()):n=I(e,t.buffer,t.decoder),n);var n}function I(e,t,n){var r;return e<t.head.data.length?(r=t.head.data.slice(0,e),t.head.data=t.head.data.slice(e)):r=e===t.head.data.length?t.shift():n?A(e,t):F(e,t),r}function A(e,t){var n=t.head,r=1,i=n.data;for(e-=i.length;n=n.next;){var a=n.data,d=e>a.length?a.length:e;if(d===a.length?i+=a:i+=a.slice(0,e),0===(e-=d)){d===a.length?(++r,n.next?t.head=n.next:t.head=t.tail=null):(t.head=n,n.data=a.slice(d));break}++r}return t.length-=r,i}function F(e,t){var n=s.allocUnsafe(e),r=t.head,i=1;for(r.data.copy(n),e-=r.data.length;r=r.next;){var a=r.data,d=e>a.length?a.length:e;if(a.copy(n,n.length-e,0,d),0===(e-=d)){d===a.length?(++i,r.next?t.head=r.next:t.head=t.tail=null):(t.head=r,r.data=a.slice(d));break}++i}return t.length-=i,n}function z(e){var t=e._readableState;if(t.length>0)throw new Error('"endReadable()" called on non-empty stream');t.endEmitted||(t.ended=!0,n.nextTick(G,t,e))}function G(e,t){e.endEmitted||0!==e.length||(e.endEmitted=!0,t.readable=!1,t.emit("end"))}function J(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1}_.prototype.read=function(e){c("read",e),e=parseInt(e,10);var t=this._readableState,n=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&(t.length>=t.highWaterMark||t.ended))return c("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?z(this):q(this),null;if(0===(e=L(e,t))&&t.ended)return 0===t.length&&z(this),null;var r,i=t.needReadable;return c("need readable",i),(0===t.length||t.length-e<t.highWaterMark)&&c("length less than watermark",i=!0),t.ended||t.reading?c("reading or ended",i=!1):i&&(c("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=L(n,t))),null===(r=e>0?H(e,t):null)?(t.needReadable=!0,e=0):t.length-=e,0===t.length&&(t.ended||(t.needReadable=!0),n!==e&&t.ended&&z(this)),null!==r&&this.emit("data",r),r},_.prototype._read=function(e){this.emit("error",new Error("_read() is not implemented"))},_.prototype.pipe=function(e,r){var i=this,a=this._readableState;switch(a.pipesCount){case 0:a.pipes=e;break;case 1:a.pipes=[a.pipes,e];break;default:a.pipes.push(e)}a.pipesCount+=1,c("pipe count=%d opts=%j",a.pipesCount,r);var o=(!r||!1!==r.end)&&e!==t.stdout&&e!==t.stderr?u:v;function s(t,n){c("onunpipe"),t===i&&n&&!1===n.hasUnpiped&&(n.hasUnpiped=!0,c("cleanup"),e.removeListener("close",b),e.removeListener("finish",m),e.removeListener("drain",l),e.removeListener("error",g),e.removeListener("unpipe",s),i.removeListener("end",u),i.removeListener("end",v),i.removeListener("data",f),h=!0,!a.awaitDrain||e._writableState&&!e._writableState.needDrain||l())}function u(){c("onend"),e.end()}a.endEmitted?n.nextTick(o):i.once("end",o),e.on("unpipe",s);var l=O(i);e.on("drain",l);var h=!1;var p=!1;function f(t){c("ondata"),p=!1,!1!==e.write(t)||p||((1===a.pipesCount&&a.pipes===e||a.pipesCount>1&&-1!==J(a.pipes,e))&&!h&&(c("false write response, pause",i._readableState.awaitDrain),i._readableState.awaitDrain++,p=!0),i.pause())}function g(t){c("onerror",t),v(),e.removeListener("error",g),0===d(e,"error")&&e.emit("error",t)}function b(){e.removeListener("finish",m),v()}function m(){c("onfinish"),e.removeListener("close",b),v()}function v(){c("unpipe"),i.unpipe(e)}return i.on("data",f),y(e,"error",g),e.once("close",b),e.once("finish",m),e.emit("pipe",i),a.flowing||(c("pipe resume"),i.resume()),e},_.prototype.unpipe=function(e){var t=this._readableState,n={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes?this:(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,n),this);if(!e){var r=t.pipes,i=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var a=0;a<i;a++)r[a].emit("unpipe",this,n);return this}var d=J(t.pipes,e);return-1===d?this:(t.pipes.splice(d,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,n),this)},_.prototype.on=function(e,t){var r=o.prototype.on.call(this,e,t);if("data"===e)!1!==this._readableState.flowing&&this.resume();else if("readable"===e){var i=this._readableState;i.endEmitted||i.readableListening||(i.readableListening=i.needReadable=!0,i.emittedReadable=!1,i.reading?i.length&&q(this):n.nextTick(T,this))}return r},_.prototype.addListener=_.prototype.on,_.prototype.resume=function(){var e=this._readableState;return e.flowing||(c("resume"),e.flowing=!0,U(this,e)),this},_.prototype.pause=function(){return c("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(c("pause"),this._readableState.flowing=!1,this.emit("pause")),this},_.prototype.wrap=function(e){var t=this,n=this._readableState,r=!1;for(var i in e.on("end",function(){if(c("wrapped end"),n.decoder&&!n.ended){var e=n.decoder.end();e&&e.length&&t.push(e)}t.push(null)}),e.on("data",function(i){(c("wrapped data"),n.decoder&&(i=n.decoder.write(i)),n.objectMode&&null==i)||(n.objectMode||i&&i.length)&&(t.push(i)||(r=!0,e.pause()))}),e)void 0===this[i]&&"function"==typeof e[i]&&(this[i]=function(t){return function(){return e[t].apply(e,arguments)}}(i));for(var a=0;a<v.length;a++)e.on(v[a],this.emit.bind(this,v[a]));return this._read=function(t){c("wrapped _read",t),r&&(r=!1,e.resume())},this},Object.defineProperty(_.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),_._fromList=H;
},{"process-nextick-args":"Yj0v","isarray":"REa7","events":"FRpO","./internal/streams/stream":"Q8A6","safe-buffer":"l6K0","core-util-is":"Q14w","inherits":"Bm0n","util":"vKFU","./internal/streams/BufferList":"CQMM","./internal/streams/destroy":"avqi","./_stream_duplex":"Jcj8","string_decoder/":"OUJr","process":"pBGv"}],"wBib":[function(require,module,exports) {
"use strict";module.exports=n;var t=require("./_stream_duplex"),r=Object.create(require("core-util-is"));function e(t,r){var e=this._transformState;e.transforming=!1;var n=e.writecb;if(!n)return this.emit("error",new Error("write callback called multiple times"));e.writechunk=null,e.writecb=null,null!=r&&this.push(r),n(t);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function n(r){if(!(this instanceof n))return new n(r);t.call(this,r),this._transformState={afterTransform:e.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,r&&("function"==typeof r.transform&&(this._transform=r.transform),"function"==typeof r.flush&&(this._flush=r.flush)),this.on("prefinish",i)}function i(){var t=this;"function"==typeof this._flush?this._flush(function(r,e){a(t,r,e)}):a(this,null,null)}function a(t,r,e){if(r)return t.emit("error",r);if(null!=e&&t.push(e),t._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(t._transformState.transforming)throw new Error("Calling transform done when still transforming");return t.push(null)}r.inherits=require("inherits"),r.inherits(n,t),n.prototype.push=function(r,e){return this._transformState.needTransform=!1,t.prototype.push.call(this,r,e)},n.prototype._transform=function(t,r,e){throw new Error("_transform() is not implemented")},n.prototype._write=function(t,r,e){var n=this._transformState;if(n.writecb=e,n.writechunk=t,n.writeencoding=r,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},n.prototype._read=function(t){var r=this._transformState;null!==r.writechunk&&r.writecb&&!r.transforming?(r.transforming=!0,this._transform(r.writechunk,r.writeencoding,r.afterTransform)):r.needTransform=!0},n.prototype._destroy=function(r,e){var n=this;t.prototype._destroy.call(this,r,function(t){e(t),n.emit("close")})};
},{"./_stream_duplex":"Jcj8","core-util-is":"Q14w","inherits":"Bm0n"}],"IxGW":[function(require,module,exports) {
"use strict";module.exports=t;var r=require("./_stream_transform"),e=Object.create(require("core-util-is"));function t(e){if(!(this instanceof t))return new t(e);r.call(this,e)}e.inherits=require("inherits"),e.inherits(t,r),t.prototype._transform=function(r,e,t){t(null,r)};
},{"./_stream_transform":"wBib","core-util-is":"Q14w","inherits":"Bm0n"}],"JaqQ":[function(require,module,exports) {
exports=module.exports=require("./lib/_stream_readable.js"),exports.Stream=exports,exports.Readable=exports,exports.Writable=require("./lib/_stream_writable.js"),exports.Duplex=require("./lib/_stream_duplex.js"),exports.Transform=require("./lib/_stream_transform.js"),exports.PassThrough=require("./lib/_stream_passthrough.js");
},{"./lib/_stream_readable.js":"YrHu","./lib/_stream_writable.js":"jPmE","./lib/_stream_duplex.js":"Jcj8","./lib/_stream_transform.js":"wBib","./lib/_stream_passthrough.js":"IxGW"}],"UxIR":[function(require,module,exports) {
var process = require("process");
var Buffer = require("buffer").Buffer;
var global = arguments[3];
var e=require("process"),r=require("buffer").Buffer,t=arguments[3],s=require("./capability"),a=require("inherits"),o=require("readable-stream"),n=exports.readyStates={UNSENT:0,OPENED:1,HEADERS_RECEIVED:2,LOADING:3,DONE:4},u=exports.IncomingMessage=function(a,n,u,i){var c=this;if(o.Readable.call(c),c._mode=u,c.headers={},c.rawHeaders=[],c.trailers={},c.rawTrailers=[],c.on("end",function(){e.nextTick(function(){c.emit("close")})}),"fetch"===u){if(c._fetchResponse=n,c.url=n.url,c.statusCode=n.status,c.statusMessage=n.statusText,n.headers.forEach(function(e,r){c.headers[r.toLowerCase()]=e,c.rawHeaders.push(r,e)}),s.writableStream){var d=new WritableStream({write:function(e){return new Promise(function(t,s){c._destroyed?s():c.push(new r(e))?t():c._resumeFetch=t})},close:function(){t.clearTimeout(i),c._destroyed||c.push(null)},abort:function(e){c._destroyed||c.emit("error",e)}});try{return void n.body.pipeTo(d).catch(function(e){t.clearTimeout(i),c._destroyed||c.emit("error",e)})}catch(p){}}var h=n.body.getReader();!function e(){h.read().then(function(s){if(!c._destroyed){if(s.done)return t.clearTimeout(i),void c.push(null);c.push(new r(s.value)),e()}}).catch(function(e){t.clearTimeout(i),c._destroyed||c.emit("error",e)})}()}else{if(c._xhr=a,c._pos=0,c.url=a.responseURL,c.statusCode=a.status,c.statusMessage=a.statusText,a.getAllResponseHeaders().split(/\r?\n/).forEach(function(e){var r=e.match(/^([^:]+):\s*(.*)/);if(r){var t=r[1].toLowerCase();"set-cookie"===t?(void 0===c.headers[t]&&(c.headers[t]=[]),c.headers[t].push(r[2])):void 0!==c.headers[t]?c.headers[t]+=", "+r[2]:c.headers[t]=r[2],c.rawHeaders.push(r[1],r[2])}}),c._charset="x-user-defined",!s.overrideMimeType){var f=c.rawHeaders["mime-type"];if(f){var l=f.match(/;\s*charset=([^;])(;|$)/);l&&(c._charset=l[1].toLowerCase())}c._charset||(c._charset="utf-8")}}};a(u,o.Readable),u.prototype._read=function(){var e=this._resumeFetch;e&&(this._resumeFetch=null,e())},u.prototype._onXHRProgress=function(){var e=this,s=e._xhr,a=null;switch(e._mode){case"text:vbarray":if(s.readyState!==n.DONE)break;try{a=new t.VBArray(s.responseBody).toArray()}catch(d){}if(null!==a){e.push(new r(a));break}case"text":try{a=s.responseText}catch(d){e._mode="text:vbarray";break}if(a.length>e._pos){var o=a.substr(e._pos);if("x-user-defined"===e._charset){for(var u=new r(o.length),i=0;i<o.length;i++)u[i]=255&o.charCodeAt(i);e.push(u)}else e.push(o,e._charset);e._pos=a.length}break;case"arraybuffer":if(s.readyState!==n.DONE||!s.response)break;a=s.response,e.push(new r(new Uint8Array(a)));break;case"moz-chunked-arraybuffer":if(a=s.response,s.readyState!==n.LOADING||!a)break;e.push(new r(new Uint8Array(a)));break;case"ms-stream":if(a=s.response,s.readyState!==n.LOADING)break;var c=new t.MSStreamReader;c.onprogress=function(){c.result.byteLength>e._pos&&(e.push(new r(new Uint8Array(c.result.slice(e._pos)))),e._pos=c.result.byteLength)},c.onload=function(){e.push(null)},c.readAsArrayBuffer(a)}e._xhr.readyState===n.DONE&&"ms-stream"!==e._mode&&e.push(null)};
},{"./capability":"p5a1","inherits":"Bm0n","readable-stream":"JaqQ","process":"pBGv","buffer":"peL6"}],"AH4k":[function(require,module,exports) {

var e=require("buffer").Buffer;module.exports=function(f){if(f instanceof Uint8Array){if(0===f.byteOffset&&f.byteLength===f.buffer.byteLength)return f.buffer;if("function"==typeof f.buffer.slice)return f.buffer.slice(f.byteOffset,f.byteOffset+f.byteLength)}if(e.isBuffer(f)){for(var r=new Uint8Array(f.length),t=f.length,n=0;n<t;n++)r[n]=f[n];return r.buffer}throw new Error("Argument must be a Buffer")};
},{"buffer":"peL6"}],"yL7F":[function(require,module,exports) {
var Buffer = require("buffer").Buffer;
var global = arguments[3];
var process = require("process");
var e=require("buffer").Buffer,t=arguments[3],r=require("process"),o=require("./capability"),n=require("inherits"),i=require("./response"),s=require("readable-stream"),a=require("to-arraybuffer"),c=i.IncomingMessage,u=i.readyStates;function d(e,t){return o.fetch&&t?"fetch":o.mozchunkedarraybuffer?"moz-chunked-arraybuffer":o.msstream?"ms-stream":o.arraybuffer&&e?"arraybuffer":o.vbArray&&e?"text:vbarray":"text"}var f=module.exports=function(t){var r,n=this;s.Writable.call(n),n._opts=t,n._body=[],n._headers={},t.auth&&n.setHeader("Authorization","Basic "+new e(t.auth).toString("base64")),Object.keys(t.headers).forEach(function(e){n.setHeader(e,t.headers[e])});var i=!0;if("disable-fetch"===t.mode||"requestTimeout"in t&&!o.abortController)i=!1,r=!0;else if("prefer-streaming"===t.mode)r=!1;else if("allow-wrong-content-type"===t.mode)r=!o.overrideMimeType;else{if(t.mode&&"default"!==t.mode&&"prefer-fast"!==t.mode)throw new Error("Invalid value for opts.mode");r=!0}n._mode=d(r,i),n._fetchTimer=null,n.on("finish",function(){n._onFinish()})};function h(e){try{var t=e.status;return null!==t&&0!==t}catch(r){return!1}}n(f,s.Writable),f.prototype.setHeader=function(e,t){var r=e.toLowerCase();-1===p.indexOf(r)&&(this._headers[r]={name:e,value:t})},f.prototype.getHeader=function(e){var t=this._headers[e.toLowerCase()];return t?t.value:null},f.prototype.removeHeader=function(e){delete this._headers[e.toLowerCase()]},f.prototype._onFinish=function(){var n=this;if(!n._destroyed){var i=n._opts,s=n._headers,c=null;"GET"!==i.method&&"HEAD"!==i.method&&(c=o.arraybuffer?a(e.concat(n._body)):o.blobConstructor?new t.Blob(n._body.map(function(e){return a(e)}),{type:(s["content-type"]||{}).value||""}):e.concat(n._body).toString());var d=[];if(Object.keys(s).forEach(function(e){var t=s[e].name,r=s[e].value;Array.isArray(r)?r.forEach(function(e){d.push([t,e])}):d.push([t,r])}),"fetch"===n._mode){var f=null;if(o.abortController){var h=new AbortController;f=h.signal,n._fetchAbortController=h,"requestTimeout"in i&&0!==i.requestTimeout&&(n._fetchTimer=t.setTimeout(function(){n.emit("requestTimeout"),n._fetchAbortController&&n._fetchAbortController.abort()},i.requestTimeout))}t.fetch(n._opts.url,{method:n._opts.method,headers:d,body:c||void 0,mode:"cors",credentials:i.withCredentials?"include":"same-origin",signal:f}).then(function(e){n._fetchResponse=e,n._connect()},function(e){t.clearTimeout(n._fetchTimer),n._destroyed||n.emit("error",e)})}else{var p=n._xhr=new t.XMLHttpRequest;try{p.open(n._opts.method,n._opts.url,!0)}catch(l){return void r.nextTick(function(){n.emit("error",l)})}"responseType"in p&&(p.responseType=n._mode.split(":")[0]),"withCredentials"in p&&(p.withCredentials=!!i.withCredentials),"text"===n._mode&&"overrideMimeType"in p&&p.overrideMimeType("text/plain; charset=x-user-defined"),"requestTimeout"in i&&(p.timeout=i.requestTimeout,p.ontimeout=function(){n.emit("requestTimeout")}),d.forEach(function(e){p.setRequestHeader(e[0],e[1])}),n._response=null,p.onreadystatechange=function(){switch(p.readyState){case u.LOADING:case u.DONE:n._onXHRProgress()}},"moz-chunked-arraybuffer"===n._mode&&(p.onprogress=function(){n._onXHRProgress()}),p.onerror=function(){n._destroyed||n.emit("error",new Error("XHR error"))};try{p.send(c)}catch(l){return void r.nextTick(function(){n.emit("error",l)})}}}},f.prototype._onXHRProgress=function(){h(this._xhr)&&!this._destroyed&&(this._response||this._connect(),this._response._onXHRProgress())},f.prototype._connect=function(){var e=this;e._destroyed||(e._response=new c(e._xhr,e._fetchResponse,e._mode,e._fetchTimer),e._response.on("error",function(t){e.emit("error",t)}),e.emit("response",e._response))},f.prototype._write=function(e,t,r){this._body.push(e),r()},f.prototype.abort=f.prototype.destroy=function(){this._destroyed=!0,t.clearTimeout(this._fetchTimer),this._response&&(this._response._destroyed=!0),this._xhr?this._xhr.abort():this._fetchAbortController&&this._fetchAbortController.abort()},f.prototype.end=function(e,t,r){"function"==typeof e&&(r=e,e=void 0),s.Writable.prototype.end.call(this,e,t,r)},f.prototype.flushHeaders=function(){},f.prototype.setTimeout=function(){},f.prototype.setNoDelay=function(){},f.prototype.setSocketKeepAlive=function(){};var p=["accept-charset","accept-encoding","access-control-request-headers","access-control-request-method","connection","content-length","cookie","cookie2","date","dnt","expect","host","keep-alive","origin","referer","te","trailer","transfer-encoding","upgrade","via"];
},{"./capability":"p5a1","inherits":"Bm0n","./response":"UxIR","readable-stream":"JaqQ","to-arraybuffer":"AH4k","buffer":"peL6","process":"pBGv"}],"OpTI":[function(require,module,exports) {
module.exports={100:"Continue",101:"Switching Protocols",102:"Processing",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",207:"Multi-Status",208:"Already Reported",226:"IM Used",300:"Multiple Choices",301:"Moved Permanently",302:"Found",303:"See Other",304:"Not Modified",305:"Use Proxy",307:"Temporary Redirect",308:"Permanent Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Timeout",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Payload Too Large",414:"URI Too Long",415:"Unsupported Media Type",416:"Range Not Satisfiable",417:"Expectation Failed",418:"I'm a teapot",421:"Misdirected Request",422:"Unprocessable Entity",423:"Locked",424:"Failed Dependency",425:"Unordered Collection",426:"Upgrade Required",428:"Precondition Required",429:"Too Many Requests",431:"Request Header Fields Too Large",451:"Unavailable For Legal Reasons",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Timeout",505:"HTTP Version Not Supported",506:"Variant Also Negotiates",507:"Insufficient Storage",508:"Loop Detected",509:"Bandwidth Limit Exceeded",510:"Not Extended",511:"Network Authentication Required"};
},{}],"KKrj":[function(require,module,exports) {
var global = arguments[3];
var e=arguments[3],t=require("./lib/request"),r=require("./lib/response"),n=require("xtend"),o=require("builtin-status-codes"),s=require("url"),u=exports;u.request=function(r,o){r="string"==typeof r?s.parse(r):n(r);var u=-1===e.location.protocol.search(/^https?:$/)?"http:":"",E=r.protocol||u,a=r.hostname||r.host,C=r.port,i=r.path||"/";a&&-1!==a.indexOf(":")&&(a="["+a+"]"),r.url=(a?E+"//"+a:"")+(C?":"+C:"")+i,r.method=(r.method||"GET").toUpperCase(),r.headers=r.headers||{};var T=new t(r);return o&&T.on("response",o),T},u.get=function(e,t){var r=u.request(e,t);return r.end(),r},u.ClientRequest=t,u.IncomingMessage=r.IncomingMessage,u.Agent=function(){},u.Agent.defaultMaxSockets=4,u.globalAgent=new u.Agent,u.STATUS_CODES=o,u.METHODS=["CHECKOUT","CONNECT","COPY","DELETE","GET","HEAD","LOCK","M-SEARCH","MERGE","MKACTIVITY","MKCOL","MOVE","NOTIFY","OPTIONS","PATCH","POST","PROPFIND","PROPPATCH","PURGE","PUT","REPORT","SEARCH","SUBSCRIBE","TRACE","UNLOCK","UNSUBSCRIBE"];
},{"./lib/request":"yL7F","./lib/response":"UxIR","xtend":"K5Tb","builtin-status-codes":"OpTI","url":"Mej7"}],"wVMl":[function(require,module,exports) {
var t=require("http"),r=require("url"),o=module.exports;for(var e in t)t.hasOwnProperty(e)&&(o[e]=t[e]);function p(t){if("string"==typeof t&&(t=r.parse(t)),t.protocol||(t.protocol="https:"),"https:"!==t.protocol)throw new Error('Protocol "'+t.protocol+'" not supported. Expected "https:"');return t}o.request=function(r,o){return r=p(r),t.request.call(this,r,o)},o.get=function(r,o){return r=p(r),t.get.call(this,r,o)};
},{"http":"KKrj","url":"Mej7"}],"DN1V":[function(require,module,exports) {
var Buffer = require("buffer").Buffer;
var t=require("buffer").Buffer;function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)}return r}function n(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?r(Object(n),!0).forEach(function(e){o(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function o(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function u(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function i(t,e,r){return e&&u(t.prototype,e),r&&u(t,r),t}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e)}function c(t,e){return(c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function p(t){var e=h();return function(){var r,n=y(t);if(e){var o=y(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return f(this,r)}}function f(t,r){return!r||"object"!==e(r)&&"function"!=typeof r?l(t):r}function l(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function h(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}function y(t){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var m=require("http"),b=require("https"),d=require("readable-stream"),O=d.Stream,v=require("winston-transport");module.exports=function(e){s(o,v);var r=p(o);function o(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return a(this,o),(t=r.call(this,e)).options=e,t.name=e.name||"http",t.ssl=!!e.ssl,t.host=e.host||"localhost",t.port=e.port,t.auth=e.auth,t.path=e.path||"",t.agent=e.agent,t.headers=e.headers||{},t.headers["content-type"]="application/json",t.port||(t.port=t.ssl?443:80),t}return i(o,[{key:"log",value:function(t,e){var r=this;this._request(t,function(e,n){n&&200!==n.statusCode&&(e=new Error("Invalid HTTP Status Code: ".concat(n.statusCode))),e?r.emit("warn",e):r.emit("logged",t)}),e&&setImmediate(e)}},{key:"query",value:function(t,e){"function"==typeof t&&(e=t,t={}),(t={method:"query",params:this.normalizeQuery(t)}).params.path&&(t.path=t.params.path,delete t.params.path),t.params.auth&&(t.auth=t.params.auth,delete t.params.auth),this._request(t,function(t,r,n){if(r&&200!==r.statusCode&&(t=new Error("Invalid HTTP Status Code: ".concat(r.statusCode))),t)return e(t);if("string"==typeof n)try{n=JSON.parse(n)}catch(o){return e(o)}e(null,n)})}},{key:"stream",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=new O;(t={method:"stream",params:t}).params.path&&(t.path=t.params.path,delete t.params.path),t.params.auth&&(t.auth=t.params.auth,delete t.params.auth);var r="",n=this._request(t);return e.destroy=function(){return n.destroy()},n.on("data",function(t){for(var n=(t=(r+t).split(/\n+/)).length-1,o=0;o<n;o++)try{e.emit("log",JSON.parse(t[o]))}catch(a){e.emit("error",a)}r=t[n]}),n.on("error",function(t){return e.emit("error",t)}),e}},{key:"_request",value:function(e,r){var o=(e=e||{}).auth||this.auth,a=e.path||this.path||"";delete e.auth,delete e.path;var u=Object.assign({},this.headers);o&&o.bearer&&(u.Authorization="Bearer ".concat(o.bearer));var i=(this.ssl?b:m).request(n(n({},this.options),{},{method:"POST",host:this.host,port:this.port,path:"/".concat(a.replace(/^\//,"")),headers:u,auth:o&&o.username&&o.password?"".concat(o.username,":").concat(o.password):"",agent:this.agent}));i.on("error",r),i.on("response",function(t){return t.on("end",function(){return r(null,t)}).resume()}),i.end(t.from(JSON.stringify(e),"utf8"))}}]),o}();
},{"http":"KKrj","https":"wVMl","readable-stream":"tzeh","winston-transport":"mTgj","buffer":"peL6"}],"u9AE":[function(require,module,exports) {
"use strict";const e=e=>null!==e&&"object"==typeof e&&"function"==typeof e.pipe;e.writable=(t=>e(t)&&!1!==t.writable&&"function"==typeof t._write&&"object"==typeof t._writableState),e.readable=(t=>e(t)&&!1!==t.readable&&"function"==typeof t._read&&"object"==typeof t._readableState),e.duplex=(t=>e.writable(t)&&e.readable(t)),e.transform=(t=>e.duplex(t)&&"function"==typeof t._transform),module.exports=e;
},{}],"fw0s":[function(require,module,exports) {
"use strict";function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function n(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),t}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&i(t,e)}function i(t,e){return(i=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function u(t){var e=s();return function(){var r,n=a(t);if(e){var o=a(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return c(this,r)}}function c(e,r){return!r||"object"!==t(r)&&"function"!=typeof r?f(e):r}function f(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function s(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}function a(t){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var l=require("is-stream"),p=require("triple-beam"),y=p.MESSAGE,b=require("os"),m=require("winston-transport");module.exports=function(t){o(i,m);var r=u(i);function i(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(e(this,i),t=r.call(this,n),!n.stream||!l(n.stream))throw new Error("options.stream is required.");return t._stream=n.stream,t._stream.setMaxListeners(1/0),t.isObjectMode=n.stream._writableState.objectMode,t.eol=n.eol||b.EOL,t}return n(i,[{key:"log",value:function(t,e){var r=this;if(setImmediate(function(){return r.emit("logged",t)}),this.isObjectMode)return this._stream.write(t),void(e&&e());this._stream.write("".concat(t[y]).concat(this.eol)),e&&e()}}]),i}();
},{"is-stream":"u9AE","triple-beam":"qId8","os":"zv8z","winston-transport":"mTgj"}],"uTQ3":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"Console",{configurable:!0,enumerable:!0,get:function(){return require("./console")}}),Object.defineProperty(exports,"File",{configurable:!0,enumerable:!0,get:function(){return require("./file")}}),Object.defineProperty(exports,"Http",{configurable:!0,enumerable:!0,get:function(){return require("./http")}}),Object.defineProperty(exports,"Stream",{configurable:!0,enumerable:!0,get:function(){return require("./stream")}});
},{"./console":"weJf","./file":"tgPB","./http":"DN1V","./stream":"fw0s"}],"YtvJ":[function(require,module,exports) {
"use strict";var e=require("logform"),s=require("triple-beam"),l=s.configs;exports.cli=e.levels(l.cli),exports.npm=e.levels(l.npm),exports.syslog=e.levels(l.syslog),exports.addColors=e.levels;
},{"logform":"h6j0","triple-beam":"qId8"}],"nACh":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("./internal/isArrayLike"),r=q(e),t=require("./internal/breakLoop"),n=q(t),u=require("./eachOfLimit"),i=q(u),l=require("./internal/once"),a=q(l),f=require("./internal/onlyOnce"),o=q(f),d=require("./internal/wrapAsync"),c=q(d),s=require("./internal/awaitify"),p=q(s);function q(e){return e&&e.__esModule?e:{default:e}}function y(e,r,t){t=(0,a.default)(t);var u=0,i=0,{length:l}=e,f=!1;function d(e,r){!1===e&&(f=!0),!0!==f&&(e?t(e):++i!==l&&r!==n.default||t(null))}for(0===l&&t(null);u<l;u++)r(e[u],u,(0,o.default)(d))}function x(e,r,t){return(0,i.default)(e,1/0,r,t)}function _(e,t,n){return((0,r.default)(e)?y:x)(e,(0,c.default)(t),n)}exports.default=(0,p.default)(_,3),module.exports=exports.default;
},{"./internal/isArrayLike":"Rvel","./internal/breakLoop":"SyIc","./eachOfLimit":"ruvW","./internal/once":"ikhA","./internal/onlyOnce":"ISxV","./internal/wrapAsync":"L0Vs","./internal/awaitify":"LvER"}],"PX9m":[function(require,module,exports) {
"use strict";function e(e){return(t,r,o)=>e(t,o)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=e,module.exports=exports.default;
},{}],"F0Ei":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("./eachOf"),t=d(e),r=require("./internal/withoutIndex"),u=d(r),a=require("./internal/wrapAsync"),n=d(a),i=require("./internal/awaitify"),l=d(i);function d(e){return e&&e.__esModule?e:{default:e}}function f(e,r,a){return(0,t.default)(e,(0,u.default)((0,n.default)(r)),a)}exports.default=(0,l.default)(f,3),module.exports=exports.default;
},{"./eachOf":"nACh","./internal/withoutIndex":"PX9m","./internal/wrapAsync":"L0Vs","./internal/awaitify":"LvER"}],"K2zD":[function(require,module,exports) {
"use strict";var t=Object.prototype.toString;module.exports=function(n){if("string"==typeof n.displayName&&n.constructor.name)return n.displayName;if("string"==typeof n.name&&n.name)return n.name;if("object"==typeof n&&n.constructor&&"string"==typeof n.constructor.name)return n.constructor.name;var r=n.toString(),e=t.call(n).slice(8,-1);return(r="Function"===e?r.substring(r.indexOf("(")+1,r.indexOf(")")):e)||"anonymous"};
},{}],"hKHw":[function(require,module,exports) {
"use strict";var r=require("fn.name");module.exports=function(e){var n,t=0;function u(){return t?n:(t=1,n=e.apply(this,arguments),e=null,n)}return u.displayName=r(e),u};
},{"fn.name":"K2zD"}],"AqkR":[function(require,module,exports) {
function r(r){for(var e in r)this[e]=r[e]}exports.get=function(r){var e=Error.stackTraceLimit;Error.stackTraceLimit=1/0;var t={},n=Error.prepareStackTrace;Error.prepareStackTrace=function(r,e){return e},Error.captureStackTrace(t,r||exports.get);var a=t.stack;return Error.prepareStackTrace=n,Error.stackTraceLimit=e,a},exports.parse=function(r){if(!r.stack)return[];var e=this;return r.stack.split("\n").slice(1).map(function(r){if(r.match(/^\s*[-]{4,}$/))return e._createParsedCallSite({fileName:r,lineNumber:null,functionName:null,typeName:null,methodName:null,columnNumber:null,native:null});var t=r.match(/at (?:(.+)\s+\()?(?:(.+?):(\d+)(?::(\d+))?|([^)]+))\)?/);if(t){var n=null,a=null,u=null,l=null,i=null,o="native"===t[5];if(t[1]){var c=(u=t[1]).lastIndexOf(".");if("."==u[c-1]&&c--,c>0){n=u.substr(0,c),a=u.substr(c+1);var s=n.indexOf(".Module");s>0&&(u=u.substr(s+1),n=n.substr(0,s))}l=null}a&&(l=n,i=a),"<anonymous>"===a&&(i=null,u=null);var p={fileName:t[2]||null,lineNumber:parseInt(t[3],10)||null,functionName:u,typeName:l,methodName:i,columnNumber:parseInt(t[4],10)||null,native:o};return e._createParsedCallSite(p)}}).filter(function(r){return!!r})};var e=["this","typeName","functionName","methodName","fileName","lineNumber","columnNumber","function","evalOrigin"],t=["topLevel","eval","native","constructor"];e.forEach(function(e){r.prototype[e]=null,r.prototype["get"+e[0].toUpperCase()+e.substr(1)]=function(){return this[e]}}),t.forEach(function(e){r.prototype[e]=!1,r.prototype["is"+e[0].toUpperCase()+e.substr(1)]=function(){return this[e]}}),exports._createParsedCallSite=function(e){return new r(e)};
},{}],"JcSr":[function(require,module,exports) {
"use strict";function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function n(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),t}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e)}function c(t,e){return(c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function u(t){var e=a();return function(){var r,n=l(t);if(e){var o=l(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return i(this,r)}}function i(e,r){return!r||"object"!==t(r)&&"function"!=typeof r?f(e):r}function f(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function a(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var s=require("readable-stream"),p=s.Writable;module.exports=function(t){o(c,p);var r=u(c);function c(t){var n;if(e(this,c),n=r.call(this,{objectMode:!0}),!t)throw new Error("ExceptionStream requires a TransportStream instance.");return n.handleExceptions=!0,n.transport=t,n}return n(c,[{key:"_write",value:function(t,e,r){return t.exception?this.transport.log(t,r):(r(),!0)}}]),c}();
},{"readable-stream":"tzeh"}],"IRMJ":[function(require,module,exports) {
var process = require("process");
var e=require("process");function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function r(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}var i=require("os"),o=require("async/forEach"),a=require("@dabh/diagnostics")("winston:exception"),c=require("one-time"),s=require("stack-trace"),u=require("./exception-stream");module.exports=function(){function n(e){if(t(this,n),!e)throw new Error("Logger is required to handle exceptions");this.logger=e,this.handlers=new Map}return r(n,[{key:"handle",value:function(){for(var t=this,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];r.forEach(function(e){if(Array.isArray(e))return e.forEach(function(e){return t._addHandler(e)});t._addHandler(e)}),this.catcher||(this.catcher=this._uncaughtException.bind(this),e.on("uncaughtException",this.catcher))}},{key:"unhandle",value:function(){var t=this;this.catcher&&(e.removeListener("uncaughtException",this.catcher),this.catcher=!1,Array.from(this.handlers.values()).forEach(function(e){return t.logger.unpipe(e)}))}},{key:"getAllInfo",value:function(e){var t=e.message;return t||"string"!=typeof e||(t=e),{error:e,level:"error",message:["uncaughtException: ".concat(t||"(no error message)"),e.stack||"  No stack trace"].join("\n"),stack:e.stack,exception:!0,date:(new Date).toString(),process:this.getProcessInfo(),os:this.getOsInfo(),trace:this.getTrace(e)}}},{key:"getProcessInfo",value:function(){return{pid:e.pid,uid:e.getuid?e.getuid():null,gid:e.getgid?e.getgid():null,cwd:e.cwd(),execPath:e.execPath,version:e.version,argv:e.argv,memoryUsage:e.memoryUsage()}}},{key:"getOsInfo",value:function(){return{loadavg:i.loadavg(),uptime:i.uptime()}}},{key:"getTrace",value:function(e){return(e?s.parse(e):s.get()).map(function(e){return{column:e.getColumnNumber(),file:e.getFileName(),function:e.getFunctionName(),line:e.getLineNumber(),method:e.getMethodName(),native:e.isNative()}})}},{key:"_addHandler",value:function(e){if(!this.handlers.has(e)){e.handleExceptions=!0;var t=new u(e);this.handlers.set(e,t),this.logger.pipe(t)}}},{key:"_uncaughtException",value:function(t){var n,r=this.getAllInfo(t),i=this._getExceptionHandlers(),s="function"==typeof this.logger.exitOnError?this.logger.exitOnError(t):this.logger.exitOnError;function u(){a("doExit",s),a("process._exiting",e._exiting),s&&!e._exiting&&(n&&clearTimeout(n),e.exit(1))}if(!i.length&&s&&(console.warn("winston: exitOnError cannot be true with no exception handlers."),console.warn("winston: not exiting process."),s=!1),!i||0===i.length)return e.nextTick(u);o(i,function(e,t){var n=c(t),r=e.transport||e;function i(e){return function(){a(e),n()}}r._ending=!0,r.once("finish",i("finished")),r.once("error",i("error"))},function(){return s&&u()}),this.logger.log(r),s&&(n=setTimeout(u,3e3))}},{key:"_getExceptionHandlers",value:function(){return this.logger.transports.filter(function(e){return(e.transport||e).handleExceptions})}}]),n}();
},{"os":"zv8z","async/forEach":"F0Ei","@dabh/diagnostics":"y7Qg","one-time":"hKHw","stack-trace":"AqkR","./exception-stream":"JcSr","process":"pBGv"}],"WugJ":[function(require,module,exports) {
var process = require("process");
var e=require("process");function n(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function t(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function r(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}var i=require("os"),o=require("async/forEach"),a=require("@dabh/diagnostics")("winston:rejection"),s=require("one-time"),c=require("stack-trace"),u=require("./exception-stream");module.exports=function(){function t(e){if(n(this,t),!e)throw new Error("Logger is required to handle rejections");this.logger=e,this.handlers=new Map}return r(t,[{key:"handle",value:function(){for(var n=this,t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];r.forEach(function(e){if(Array.isArray(e))return e.forEach(function(e){return n._addHandler(e)});n._addHandler(e)}),this.catcher||(this.catcher=this._unhandledRejection.bind(this),e.on("unhandledRejection",this.catcher))}},{key:"unhandle",value:function(){var n=this;this.catcher&&(e.removeListener("unhandledRejection",this.catcher),this.catcher=!1,Array.from(this.handlers.values()).forEach(function(e){return n.logger.unpipe(e)}))}},{key:"getAllInfo",value:function(e){var n=e.message;return n||"string"!=typeof e||(n=e),{error:e,level:"error",message:["unhandledRejection: ".concat(n||"(no error message)"),e.stack||"  No stack trace"].join("\n"),stack:e.stack,exception:!0,date:(new Date).toString(),process:this.getProcessInfo(),os:this.getOsInfo(),trace:this.getTrace(e)}}},{key:"getProcessInfo",value:function(){return{pid:e.pid,uid:e.getuid?e.getuid():null,gid:e.getgid?e.getgid():null,cwd:e.cwd(),execPath:e.execPath,version:e.version,argv:e.argv,memoryUsage:e.memoryUsage()}}},{key:"getOsInfo",value:function(){return{loadavg:i.loadavg(),uptime:i.uptime()}}},{key:"getTrace",value:function(e){return(e?c.parse(e):c.get()).map(function(e){return{column:e.getColumnNumber(),file:e.getFileName(),function:e.getFunctionName(),line:e.getLineNumber(),method:e.getMethodName(),native:e.isNative()}})}},{key:"_addHandler",value:function(e){if(!this.handlers.has(e)){e.handleRejections=!0;var n=new u(e);this.handlers.set(e,n),this.logger.pipe(n)}}},{key:"_unhandledRejection",value:function(n){var t,r=this.getAllInfo(n),i=this._getRejectionHandlers(),c="function"==typeof this.logger.exitOnError?this.logger.exitOnError(n):this.logger.exitOnError;function u(){a("doExit",c),a("process._exiting",e._exiting),c&&!e._exiting&&(t&&clearTimeout(t),e.exit(1))}if(!i.length&&c&&(console.warn("winston: exitOnError cannot be true with no rejection handlers."),console.warn("winston: not exiting process."),c=!1),!i||0===i.length)return e.nextTick(u);o(i,function(e,n){var t=s(n),r=e.transport||e;function i(e){return function(){a(e),t()}}r._ending=!0,r.once("finish",i("finished")),r.once("error",i("error"))},function(){return c&&u()}),this.logger.log(r),c&&(t=setTimeout(u,3e3))}},{key:"_getRejectionHandlers",value:function(){return this.logger.transports.filter(function(e){return(e.transport||e).handleRejections})}}]),t}();
},{"os":"zv8z","async/forEach":"F0Ei","@dabh/diagnostics":"y7Qg","one-time":"hKHw","stack-trace":"AqkR","./exception-stream":"JcSr","process":"pBGv"}],"L41q":[function(require,module,exports) {
"use strict";const t=require("util"),{LEVEL:r}=require("triple-beam"),s=require("./"),n=module.exports=function(t={}){if(s.call(this,t),!t.transport||"function"!=typeof t.transport.log)throw new Error("Invalid transport, must be an object with a log method.");this.transport=t.transport,this.level=this.level||t.transport.level,this.handleExceptions=this.handleExceptions||t.transport.handleExceptions,this._deprecated(),this.transport.__winstonError||(this.transport.__winstonError=function(t){this.emit("error",t,this.transport)}.bind(this),this.transport.on("error",this.transport.__winstonError))};t.inherits(n,s),n.prototype._write=function(t,s,n){if(this.silent||!0===t.exception&&!this.handleExceptions)return n(null);(!this.level||this.levels[this.level]>=this.levels[t[r]])&&this.transport.log(t[r],t.message,t,this._nop),n(null)},n.prototype._writev=function(t,s){for(let n=0;n<t.length;n++)this._accept(t[n])&&(this.transport.log(t[n].chunk[r],t[n].chunk.message,t[n].chunk,this._nop),t[n].callback());return s(null)},n.prototype._deprecated=function(){console.error([`${this.transport.name} is a legacy winston transport. Consider upgrading: `,"- Upgrade docs: https://github.com/winstonjs/winston/blob/master/UPGRADE-3.0.md"].join("\n"))},n.prototype.close=function(){this.transport.close&&this.transport.close(),this.transport.__winstonError&&(this.transport.removeListener("error",this.transport.__winstonError),this.transport.__winstonError=null)};
},{"util":"gfUn","triple-beam":"qId8","./":"mTgj"}],"YWkC":[function(require,module,exports) {
"use strict";function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o})(t)}function t(o,t){if(!(o instanceof t))throw new TypeError("Cannot call a class as a function")}function n(o,t){for(var n=0;n<t.length;n++){var e=t[n];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(o,e.key,e)}}function e(o,t,e){return t&&n(o.prototype,t),e&&n(o,e),o}module.exports=function(){function n(o){if(t(this,n),!o)throw new Error("Logger is required for profiling.");this.logger=o,this.start=Date.now()}return e(n,[{key:"done",value:function(){for(var t=arguments.length,n=new Array(t),e=0;e<t;e++)n[e]=arguments[e];"function"==typeof n[n.length-1]&&(console.warn("Callback function no longer supported as of winston@3.0.0"),n.pop());var r="object"===o(n[n.length-1])?n.pop():{};return r.level=r.level||"info",r.durationMs=Date.now()-this.start,this.logger.write(r)}}]),n}();
},{}],"L0I0":[function(require,module,exports) {
"use strict";class t extends Error{constructor(r){super(`Format functions must be synchronous taking a two arguments: (info, opts)\nFound: ${r.toString().split("\n")[0]}\n`),Error.captureStackTrace(this,t)}}module.exports=(r=>{if(r.length>2)throw new t(r);function n(t={}){this.options=t}function o(t){return new n(t)}return n.prototype.transform=r,o.Format=n,o});
},{}],"txPx":[function(require,module,exports) {
var Buffer = require("buffer").Buffer;
var e=require("buffer").Buffer;const r=require("./format"),{MESSAGE:t}=require("triple-beam"),i=require("safe-stable-stringify");function f(r,t){return t instanceof e?t.toString("base64"):"bigint"==typeof t?t.toString():t}module.exports=r((e,r={})=>(e[t]=i(e,r.replacer||f,r.space),e));
},{"./format":"L0I0","triple-beam":"qId8","safe-stable-stringify":"dxic","buffer":"peL6"}],"uJiE":[function(require,module,exports) {
"use strict";function e(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function o(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function a(e){var t=c();return function(){var r,n=f(e);if(t){var o=f(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return l(this,r)}}function l(e,r){return!r||"object"!==t(r)&&"function"!=typeof r?u(e):r}function u(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function c(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var h=require("readable-stream"),p=h.Stream,v=h.Transform,d=require("async/forEach"),m=require("triple-beam"),y=m.LEVEL,w=m.SPLAT,b=require("is-stream"),g=require("./exception-handler"),j=require("./rejection-handler"),k=require("winston-transport/legacy"),E=require("./profiler"),_=require("./common"),O=_.warn,x=require("./config"),q=/%[scdjifoO%]/g,S=function(n){i(l,v);var s=a(l);function l(e){var t;return r(this,l),(t=s.call(this,{objectMode:!0})).configure(e),t}return o(l,[{key:"child",value:function(e){var t=this;return Object.create(t,{write:{value:function(r){var n=Object.assign({},e,r);r instanceof Error&&(n.stack=r.stack,n.message=r.message),t.write(n)}}})}},{key:"configure",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.silent,n=t.format,o=t.defaultMeta,i=t.levels,s=t.level,a=void 0===s?"info":s,l=t.exitOnError,u=void 0===l||l,c=t.transports,f=t.colors,h=t.emitErrs,p=t.formatters,v=t.padLevels,d=t.rewriters,m=t.stripColors,y=t.exceptionHandlers,w=t.rejectionHandlers;if(this.transports.length&&this.clear(),this.silent=r,this.format=n||this.format||require("logform/json")(),this.defaultMeta=o||null,this.levels=i||this.levels||x.npm.levels,this.level=a,this.exceptions=new g(this),this.rejections=new j(this),this.profilers={},this.exitOnError=u,c&&(c=Array.isArray(c)?c:[c]).forEach(function(t){return e.add(t)}),f||h||p||v||d||m)throw new Error(["{ colors, emitErrs, formatters, padLevels, rewriters, stripColors } were removed in winston@3.0.0.","Use a custom winston.format(function) instead.","See: https://github.com/winstonjs/winston/tree/master/UPGRADE-3.0.md"].join("\n"));y&&this.exceptions.handle(y),w&&this.rejections.handle(w)}},{key:"isLevelEnabled",value:function(e){var t=this,r=M(this.levels,e);if(null===r)return!1;var n=M(this.levels,this.level);return null!==n&&(this.transports&&0!==this.transports.length?-1!==this.transports.findIndex(function(e){var o=M(t.levels,e.level);return null===o&&(o=n),o>=r}):n>=r)}},{key:"log",value:function(r,n){for(var o,i,s=arguments.length,a=new Array(s>2?s-2:0),l=2;l<s;l++)a[l-2]=arguments[l];if(1===arguments.length)return r[y]=r.level,this._addDefaultMeta(r),this.write(r),this;if(2===arguments.length)return n&&"object"===t(n)?(n[y]=n.level=r,this._addDefaultMeta(n),this.write(n),this):(this.write((e(i={},y,r),e(i,"level",r),e(i,"message",n),i)),this);var u=a[0];if("object"===t(u)&&null!==u&&!(n&&n.match&&n.match(q))){var c,f=Object.assign({},this.defaultMeta,u,(e(c={},y,r),e(c,w,a),e(c,"level",r),e(c,"message",n),c));return u.message&&(f.message="".concat(f.message," ").concat(u.message)),u.stack&&(f.stack=u.stack),this.write(f),this}return this.write(Object.assign({},this.defaultMeta,(e(o={},y,r),e(o,w,a),e(o,"level",r),e(o,"message",n),o))),this}},{key:"_transform",value:function(e,t,r){if(this.silent)return r();e[y]||(e[y]=e.level),this.levels[e[y]]||0===this.levels[e[y]]||console.error("[winston] Unknown logger level: %s",e[y]),this._readableState.pipes||console.error("[winston] Attempt to write logs with no transports %j",e);try{this.push(this.format.transform(e,this.format.options))}catch(n){throw n}finally{r()}}},{key:"_final",value:function(e){var t=this.transports.slice();d(t,function(e,t){if(!e||e.finished)return setImmediate(t);e.once("finish",t),e.end()},e)}},{key:"add",value:function(e){var t=!b(e)||e.log.length>2?new k({transport:e}):e;if(!t._writableState||!t._writableState.objectMode)throw new Error("Transports must WritableStreams in objectMode. Set { objectMode: true }.");return this._onEvent("error",t),this._onEvent("warn",t),this.pipe(t),e.handleExceptions&&this.exceptions.handle(),e.handleRejections&&this.rejections.handle(),this}},{key:"remove",value:function(e){if(!e)return this;var t=e;return(!b(e)||e.log.length>2)&&(t=this.transports.filter(function(t){return t.transport===e})[0]),t&&this.unpipe(t),this}},{key:"clear",value:function(){return this.unpipe(),this}},{key:"close",value:function(){return this.clear(),this.emit("close"),this}},{key:"setLevels",value:function(){O.deprecated("setLevels")}},{key:"query",value:function(e,t){"function"==typeof e&&(t=e,e={}),e=e||{};var r={},n=Object.assign({},e.query||{});d(this.transports.filter(function(e){return!!e.query}),function(t,o){!function(t,r){e.query&&"function"==typeof t.formatQuery&&(e.query=t.formatQuery(n)),t.query(e,function(n,o){if(n)return r(n);"function"==typeof t.formatResults&&(o=t.formatResults(o,e.format)),r(null,o)})}(t,function(e,n){o&&((n=e||n)&&(r[t.name]=n),o()),o=null})},function(){return t(null,r)})}},{key:"stream",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=new p,r=[];return t._streams=r,t.destroy=function(){for(var e=r.length;e--;)r[e].destroy()},this.transports.filter(function(e){return!!e.stream}).forEach(function(n){var o=n.stream(e);o&&(r.push(o),o.on("log",function(e){e.transport=e.transport||[],e.transport.push(n.name),t.emit("log",e)}),o.on("error",function(e){e.transport=e.transport||[],e.transport.push(n.name),t.emit("error",e)}))}),t}},{key:"startTimer",value:function(){return new E(this)}},{key:"profile",value:function(e){var r=Date.now();if(this.profilers[e]){var n=this.profilers[e];delete this.profilers[e];for(var o=arguments.length,i=new Array(o>1?o-1:0),s=1;s<o;s++)i[s-1]=arguments[s];"function"==typeof i[i.length-2]&&(console.warn("Callback function no longer supported as of winston@3.0.0"),i.pop());var a="object"===t(i[i.length-1])?i.pop():{};return a.level=a.level||"info",a.durationMs=r-n,a.message=a.message||e,this.write(a)}return this.profilers[e]=r,this}},{key:"handleExceptions",value:function(){var e;console.warn("Deprecated: .handleExceptions() will be removed in winston@4. Use .exceptions.handle()"),(e=this.exceptions).handle.apply(e,arguments)}},{key:"unhandleExceptions",value:function(){var e;console.warn("Deprecated: .unhandleExceptions() will be removed in winston@4. Use .exceptions.unhandle()"),(e=this.exceptions).unhandle.apply(e,arguments)}},{key:"cli",value:function(){throw new Error(["Logger.cli() was removed in winston@3.0.0","Use a custom winston.formats.cli() instead.","See: https://github.com/winstonjs/winston/tree/master/UPGRADE-3.0.md"].join("\n"))}},{key:"_onEvent",value:function(e,t){t["__winston"+e]||(t["__winston"+e]=function(r){"error"!==e||this.transports.includes(t)||this.add(t),this.emit(e,r,t)}.bind(this),t.on(e,t["__winston"+e]))}},{key:"_addDefaultMeta",value:function(e){this.defaultMeta&&Object.assign(e,this.defaultMeta)}}]),l}();function M(e,t){var r=e[t];return r||0===r?r:null}Object.defineProperty(S.prototype,"transports",{configurable:!1,enumerable:!0,get:function(){var e=this._readableState.pipes;return Array.isArray(e)?e:[e].filter(Boolean)}}),module.exports=S;
},{"readable-stream":"tzeh","async/forEach":"F0Ei","triple-beam":"qId8","is-stream":"u9AE","./exception-handler":"IRMJ","./rejection-handler":"WugJ","winston-transport/legacy":"L41q","./profiler":"YWkC","./common":"FXXr","./config":"YtvJ","logform/json":"txPx"}],"QwpI":[function(require,module,exports) {
"use strict";function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&r(t,e)}function r(t,e){return(r=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function o(t){var e=u();return function(){var n,r=f(t);if(e){var o=f(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return i(this,n)}}function i(e,n){return!n||"object"!==t(n)&&"function"!=typeof n?c(e):n}function c(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function u(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}function f(t){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var l=require("triple-beam"),s=l.LEVEL,a=require("./config"),p=require("./logger"),y=require("@dabh/diagnostics")("winston:create-logger");function h(t){return"is"+t.charAt(0).toUpperCase()+t.slice(1)+"Enabled"}module.exports=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t.levels=t.levels||a.npm.levels;var r=function(t){n(i,p);var r=o(i);function i(t){return e(this,i),r.call(this,t)}return i}(),i=new r(t);return Object.keys(t.levels).forEach(function(t){y('Define prototype method for "%s"',t),"log"!==t?(r.prototype[t]=function(){for(var e=this||i,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];if(1===r.length){var c=r[0],u=c&&c.message&&c||{message:c};return u.level=u[s]=t,e._addDefaultMeta(u),e.write(u),this||i}return 0===r.length?(e.log(t,""),e):e.log.apply(e,[t].concat(r))},r.prototype[h(t)]=function(){return(this||i).isLevelEnabled(t)}):console.warn('Level "log" not defined: conflicts with the method "log". Use a different level name.')}),i};
},{"triple-beam":"qId8","./config":"YtvJ","./logger":"uJiE","@dabh/diagnostics":"y7Qg"}],"f6lO":[function(require,module,exports) {
"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function r(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}var n=require("./create-logger");module.exports=function(){function t(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e(this,t),this.loggers=new Map,this.options=r}return r(t,[{key:"add",value:function(e,t){var r=this;if(!this.loggers.has(e)){var o=(t=Object.assign({},t||this.options)).transports||this.options.transports;t.transports=o?o.slice():[];var s=n(t);s.on("close",function(){return r._delete(e)}),this.loggers.set(e,s)}return this.loggers.get(e)}},{key:"get",value:function(e,t){return this.add(e,t)}},{key:"has",value:function(e){return!!this.loggers.has(e)}},{key:"close",value:function(e){var t=this;if(e)return this._removeLogger(e);this.loggers.forEach(function(e,r){return t._removeLogger(r)})}},{key:"_removeLogger",value:function(e){this.loggers.has(e)&&(this.loggers.get(e).close(),this._delete(e))}},{key:"_delete",value:function(e){this.loggers.delete(e)}}]),t}();
},{"./create-logger":"QwpI"}],"TRRW":[function(require,module,exports) {
"use strict";var e=require("logform"),r=require("./winston/common"),n=r.warn,t=exports;t.version=require("../package.json").version,t.transports=require("./winston/transports"),t.config=require("./winston/config"),t.addColors=e.levels,t.format=e.format,t.createLogger=require("./winston/create-logger"),t.ExceptionHandler=require("./winston/exception-handler"),t.RejectionHandler=require("./winston/rejection-handler"),t.Container=require("./winston/container"),t.Transport=require("winston-transport"),t.loggers=new t.Container;var o=t.createLogger();Object.keys(t.config.npm.levels).concat(["log","query","stream","add","remove","clear","profile","startTimer","handleExceptions","unhandleExceptions","handleRejections","unhandleRejections","configure","child"]).forEach(function(e){return t[e]=function(){return o[e].apply(o,arguments)}}),Object.defineProperty(t,"level",{get:function(){return o.level},set:function(e){o.level=e}}),Object.defineProperty(t,"exceptions",{get:function(){return o.exceptions}}),["exitOnError"].forEach(function(e){Object.defineProperty(t,e,{get:function(){return o[e]},set:function(r){o[e]=r}})}),Object.defineProperty(t,"default",{get:function(){return{exceptionHandlers:o.exceptionHandlers,rejectionHandlers:o.rejectionHandlers,transports:o.transports}}}),n.deprecated(t,"setLevels"),n.forFunctions(t,"useFormat",["cli"]),n.forProperties(t,"useFormat",["padLevels","stripColors"]),n.forFunctions(t,"deprecated",["addRewriter","addFilter","clone","extend"]),n.forProperties(t,"deprecated",["emitErrs","levelLength"]),n.moved(t,"createLogger","Logger");
},{"logform":"h6j0","./winston/common":"FXXr","../package.json":"fq27","./winston/transports":"uTQ3","./winston/config":"YtvJ","./winston/create-logger":"QwpI","./winston/exception-handler":"IRMJ","./winston/rejection-handler":"WugJ","./winston/container":"f6lO","winston-transport":"mTgj"}],"pq3M":[function(require,module,exports) {
var define;
var global = arguments[3];
var e,t=arguments[3];Object.defineProperty(exports,"__esModule",{value:!0}),exports.WebexMeetingWidget=void 0;var n=u(require("react")),r=c(require("prop-types")),a=c(require("webex")),i=require("react-dom"),o=require("winston"),s=require("@webex/common");function c(e){return e&&e.__esModule?e:{default:e}}function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function u(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var o=a?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(r,i,o):r[i]=e[i]}return r.default=e,n&&n.set(e,r),r}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e,t,n){return t&&f(e.prototype,t),n&&f(e,n),e}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function m(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}function g(e){return(g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function C(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v(e,t){return!t||"object"!==g(t)&&"function"!=typeof t?C(e):t}function y(e){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var b=function(e,t){return(b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function w(e,t){function n(){this.constructor=e}b(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}function E(e){return"function"==typeof e}var N=!1,x={Promise:void 0,set useDeprecatedSynchronousErrorHandling(e){e&&(new Error).stack;N=e},get useDeprecatedSynchronousErrorHandling(){return N}};function M(e){setTimeout(function(){throw e},0)}var I={closed:!0,next:function(e){},error:function(e){if(x.useDeprecatedSynchronousErrorHandling)throw e;M(e)},complete:function(){}},T=function(){return Array.isArray||function(e){return e&&"number"==typeof e.length}}();function O(e){return null!==e&&"object"==typeof e}var S=function(){function e(e){return Error.call(this),this.message=e?e.length+" errors occurred during unsubscription:\n"+e.map(function(e,t){return t+1+") "+e.toString()}).join("\n  "):"",this.name="UnsubscriptionError",this.errors=e,this}return e.prototype=Object.create(Error.prototype),e}(),D=S,k=function(){function e(e){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,e&&(this._ctorUnsubscribe=!0,this._unsubscribe=e)}var t;return e.prototype.unsubscribe=function(){var t;if(!this.closed){var n=this._parentOrParents,r=this._ctorUnsubscribe,a=this._unsubscribe,i=this._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof e)n.remove(this);else if(null!==n)for(var o=0;o<n.length;++o){n[o].remove(this)}if(E(a)){r&&(this._unsubscribe=void 0);try{a.call(this)}catch(l){t=l instanceof D?L(l.errors):[l]}}if(T(i)){o=-1;for(var s=i.length;++o<s;){var c=i[o];if(O(c))try{c.unsubscribe()}catch(l){t=t||[],l instanceof D?t=t.concat(L(l.errors)):t.push(l)}}}if(t)throw new D(t)}},e.prototype.add=function(t){var n=t;if(!t)return e.EMPTY;switch(typeof t){case"function":n=new e(t);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof e)){var r=n;(n=new e)._subscriptions=[r]}break;default:throw new Error("unrecognized teardown "+t+" added to Subscription.")}var a=n._parentOrParents;if(null===a)n._parentOrParents=this;else if(a instanceof e){if(a===this)return n;n._parentOrParents=[a,this]}else{if(-1!==a.indexOf(this))return n;a.push(this)}var i=this._subscriptions;return null===i?this._subscriptions=[n]:i.push(n),n},e.prototype.remove=function(e){var t=this._subscriptions;if(t){var n=t.indexOf(e);-1!==n&&t.splice(n,1)}},e.EMPTY=((t=new e).closed=!0,t),e}();function L(e){return e.reduce(function(e,t){return e.concat(t instanceof D?t.errors:t)},[])}var A=function(){return"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()}(),P=function(e){function t(n,r,a){var i=e.call(this)||this;switch(i.syncErrorValue=null,i.syncErrorThrown=!1,i.syncErrorThrowable=!1,i.isStopped=!1,arguments.length){case 0:i.destination=I;break;case 1:if(!n){i.destination=I;break}if("object"==typeof n){n instanceof t?(i.syncErrorThrowable=n.syncErrorThrowable,i.destination=n,n.add(i)):(i.syncErrorThrowable=!0,i.destination=new R(i,n));break}default:i.syncErrorThrowable=!0,i.destination=new R(i,n,r,a)}return i}return w(t,e),t.prototype[A]=function(){return this},t.create=function(e,n,r){var a=new t(e,n,r);return a.syncErrorThrowable=!1,a},t.prototype.next=function(e){this.isStopped||this._next(e)},t.prototype.error=function(e){this.isStopped||(this.isStopped=!0,this._error(e))},t.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this))},t.prototype._next=function(e){this.destination.next(e)},t.prototype._error=function(e){this.destination.error(e),this.unsubscribe()},t.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},t.prototype._unsubscribeAndRecycle=function(){var e=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=e,this},t}(k),R=function(e){function t(t,n,r,a){var i,o=e.call(this)||this;o._parentSubscriber=t;var s=o;return E(n)?i=n:n&&(i=n.next,r=n.error,a=n.complete,n!==I&&(E((s=Object.create(n)).unsubscribe)&&o.add(s.unsubscribe.bind(s)),s.unsubscribe=o.unsubscribe.bind(o))),o._context=s,o._next=i,o._error=r,o._complete=a,o}return w(t,e),t.prototype.next=function(e){if(!this.isStopped&&this._next){var t=this._parentSubscriber;x.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?this.__tryOrSetError(t,this._next,e)&&this.unsubscribe():this.__tryOrUnsub(this._next,e)}},t.prototype.error=function(e){if(!this.isStopped){var t=this._parentSubscriber,n=x.useDeprecatedSynchronousErrorHandling;if(this._error)n&&t.syncErrorThrowable?(this.__tryOrSetError(t,this._error,e),this.unsubscribe()):(this.__tryOrUnsub(this._error,e),this.unsubscribe());else if(t.syncErrorThrowable)n?(t.syncErrorValue=e,t.syncErrorThrown=!0):M(e),this.unsubscribe();else{if(this.unsubscribe(),n)throw e;M(e)}}},t.prototype.complete=function(){var e=this;if(!this.isStopped){var t=this._parentSubscriber;if(this._complete){var n=function(){return e._complete.call(e._context)};x.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,n),this.unsubscribe()):(this.__tryOrUnsub(n),this.unsubscribe())}else this.unsubscribe()}},t.prototype.__tryOrUnsub=function(e,t){try{e.call(this._context,t)}catch(n){if(this.unsubscribe(),x.useDeprecatedSynchronousErrorHandling)throw n;M(n)}},t.prototype.__tryOrSetError=function(e,t,n){if(!x.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{t.call(this._context,n)}catch(r){return x.useDeprecatedSynchronousErrorHandling?(e.syncErrorValue=r,e.syncErrorThrown=!0,!0):(M(r),!0)}return!1},t.prototype._unsubscribe=function(){var e=this._parentSubscriber;this._context=null,this._parentSubscriber=null,e.unsubscribe()},t}(P);function _(e){for(;e;){var t=e,n=t.closed,r=t.destination,a=t.isStopped;if(n||a)return!1;e=r&&r instanceof P?r:null}return!0}function j(e,t,n){if(e){if(e instanceof P)return e;if(e[A])return e[A]()}return e||t||n?new P(e,t,n):new P(I)}var V=function(){return"function"==typeof Symbol&&Symbol.observable||"@@observable"}();function G(e){return e}function z(e){return 0===e.length?G:1===e.length?e[0]:function(t){return e.reduce(function(e,t){return t(e)},t)}}var U=function(){function e(e){this._isScalar=!1,e&&(this._subscribe=e)}return e.prototype.lift=function(t){var n=new e;return n.source=this,n.operator=t,n},e.prototype.subscribe=function(e,t,n){var r=this.operator,a=j(e,t,n);if(r?a.add(r.call(a,this.source)):a.add(this.source||x.useDeprecatedSynchronousErrorHandling&&!a.syncErrorThrowable?this._subscribe(a):this._trySubscribe(a)),x.useDeprecatedSynchronousErrorHandling&&a.syncErrorThrowable&&(a.syncErrorThrowable=!1,a.syncErrorThrown))throw a.syncErrorValue;return a},e.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(t){x.useDeprecatedSynchronousErrorHandling&&(e.syncErrorThrown=!0,e.syncErrorValue=t),_(e)?e.error(t):console.warn(t)}},e.prototype.forEach=function(e,t){var n=this;return new(t=B(t))(function(t,r){var a;a=n.subscribe(function(t){try{e(t)}catch(n){r(n),a&&a.unsubscribe()}},r,t)})},e.prototype._subscribe=function(e){var t=this.source;return t&&t.subscribe(e)},e.prototype[V]=function(){return this},e.prototype.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return 0===e.length?this:z(e)(this)},e.prototype.toPromise=function(e){var t=this;return new(e=B(e))(function(e,n){var r;t.subscribe(function(e){return r=e},function(e){return n(e)},function(){return e(r)})})},e.create=function(t){return new e(t)},e}();function B(e){if(e||(e=x.Promise||Promise),!e)throw new Error("no Promise impl found");return e}var H=function(){function e(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return e.prototype=Object.create(Error.prototype),e}(),F=H,Z=function(e){function t(t,n){var r=e.call(this)||this;return r.subject=t,r.subscriber=n,r.closed=!1,r}return w(t,e),t.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var e=this.subject,t=e.observers;if(this.subject=null,t&&0!==t.length&&!e.isStopped&&!e.closed){var n=t.indexOf(this.subscriber);-1!==n&&t.splice(n,1)}}},t}(k),q=function(e){function t(t){var n=e.call(this,t)||this;return n.destination=t,n}return w(t,e),t}(P),W=function(e){function t(){var t=e.call(this)||this;return t.observers=[],t.closed=!1,t.isStopped=!1,t.hasError=!1,t.thrownError=null,t}return w(t,e),t.prototype[A]=function(){return new q(this)},t.prototype.lift=function(e){var t=new Y(this,this);return t.operator=e,t},t.prototype.next=function(e){if(this.closed)throw new F;if(!this.isStopped)for(var t=this.observers,n=t.length,r=t.slice(),a=0;a<n;a++)r[a].next(e)},t.prototype.error=function(e){if(this.closed)throw new F;this.hasError=!0,this.thrownError=e,this.isStopped=!0;for(var t=this.observers,n=t.length,r=t.slice(),a=0;a<n;a++)r[a].error(e);this.observers.length=0},t.prototype.complete=function(){if(this.closed)throw new F;this.isStopped=!0;for(var e=this.observers,t=e.length,n=e.slice(),r=0;r<t;r++)n[r].complete();this.observers.length=0},t.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},t.prototype._trySubscribe=function(t){if(this.closed)throw new F;return e.prototype._trySubscribe.call(this,t)},t.prototype._subscribe=function(e){if(this.closed)throw new F;return this.hasError?(e.error(this.thrownError),k.EMPTY):this.isStopped?(e.complete(),k.EMPTY):(this.observers.push(e),new Z(this,e))},t.prototype.asObservable=function(){var e=new U;return e.source=this,e},t.create=function(e,t){return new Y(e,t)},t}(U),Y=function(e){function t(t,n){var r=e.call(this)||this;return r.destination=t,r.source=n,r}return w(t,e),t.prototype.next=function(e){var t=this.destination;t&&t.next&&t.next(e)},t.prototype.error=function(e){var t=this.destination;t&&t.error&&this.destination.error(e)},t.prototype.complete=function(){var e=this.destination;e&&e.complete&&this.destination.complete()},t.prototype._subscribe=function(e){return this.source?this.source.subscribe(e):k.EMPTY},t}(W);function K(){return function(e){return e.lift(new J(e))}}var J=function(){function e(e){this.connectable=e}return e.prototype.call=function(e,t){var n=this.connectable;n._refCount++;var r=new $(e,n),a=t.subscribe(r);return r.closed||(r.connection=n.connect()),a},e}(),$=function(e){function t(t,n){var r=e.call(this,t)||this;return r.connectable=n,r}return w(t,e),t.prototype._unsubscribe=function(){var e=this.connectable;if(e){this.connectable=null;var t=e._refCount;if(t<=0)this.connection=null;else if(e._refCount=t-1,t>1)this.connection=null;else{var n=this.connection,r=e._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}else this.connection=null},t}(P),X=function(e){function t(t,n){var r=e.call(this)||this;return r.source=t,r.subjectFactory=n,r._refCount=0,r._isComplete=!1,r}return w(t,e),t.prototype._subscribe=function(e){return this.getSubject().subscribe(e)},t.prototype.getSubject=function(){var e=this._subject;return e&&!e.isStopped||(this._subject=this.subjectFactory()),this._subject},t.prototype.connect=function(){var e=this._connection;return e||(this._isComplete=!1,(e=this._connection=new k).add(this.source.subscribe(new ee(this.getSubject(),this))),e.closed&&(this._connection=null,e=k.EMPTY)),e},t.prototype.refCount=function(){return K()(this)},t}(U),Q=function(){var e=X.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:e._subscribe},_isComplete:{value:e._isComplete,writable:!0},getSubject:{value:e.getSubject},connect:{value:e.connect},refCount:{value:e.refCount}}}(),ee=function(e){function t(t,n){var r=e.call(this,t)||this;return r.connectable=n,r}return w(t,e),t.prototype._error=function(t){this._unsubscribe(),e.prototype._error.call(this,t)},t.prototype._complete=function(){this.connectable._isComplete=!0,this._unsubscribe(),e.prototype._complete.call(this)},t.prototype._unsubscribe=function(){var e=this.connectable;if(e){this.connectable=null;var t=e._connection;e._refCount=0,e._subject=null,e._connection=null,t&&t.unsubscribe()}},t}(q),te=function(e){function t(t){var n=e.call(this)||this;return n._value=t,n}return w(t,e),Object.defineProperty(t.prototype,"value",{get:function(){return this.getValue()},enumerable:!0,configurable:!0}),t.prototype._subscribe=function(t){var n=e.prototype._subscribe.call(this,t);return n&&!n.closed&&t.next(this._value),n},t.prototype.getValue=function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new F;return this._value},t.prototype.next=function(t){e.prototype.next.call(this,this._value=t)},t}(W),ne=function(e){function t(t,n){return e.call(this)||this}return w(t,e),t.prototype.schedule=function(e,t){return this},t}(k),re=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.scheduler=t,r.work=n,r.pending=!1,r}return w(t,e),t.prototype.schedule=function(e,t){if(void 0===t&&(t=0),this.closed)return this;this.state=e;var n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,t)),this.pending=!0,this.delay=t,this.id=this.id||this.requestAsyncId(r,this.id,t),this},t.prototype.requestAsyncId=function(e,t,n){return void 0===n&&(n=0),setInterval(e.flush.bind(e,this),n)},t.prototype.recycleAsyncId=function(e,t,n){if(void 0===n&&(n=0),null!==n&&this.delay===n&&!1===this.pending)return t;clearInterval(t)},t.prototype.execute=function(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var n=this._execute(e,t);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},t.prototype._execute=function(e,t){var n=!1,r=void 0;try{this.work(e)}catch(a){n=!0,r=!!a&&a||new Error(a)}if(n)return this.unsubscribe(),r},t.prototype._unsubscribe=function(){var e=this.id,t=this.scheduler,n=t.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null},t}(ne),ae=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.scheduler=t,r.work=n,r}return w(t,e),t.prototype.schedule=function(t,n){return void 0===n&&(n=0),n>0?e.prototype.schedule.call(this,t,n):(this.delay=n,this.state=t,this.scheduler.flush(this),this)},t.prototype.execute=function(t,n){return n>0||this.closed?e.prototype.execute.call(this,t,n):this._execute(t,n)},t.prototype.requestAsyncId=function(t,n,r){return void 0===r&&(r=0),null!==r&&r>0||null===r&&this.delay>0?e.prototype.requestAsyncId.call(this,t,n,r):t.flush(this)},t}(re),ie=function(){function e(t,n){void 0===n&&(n=e.now),this.SchedulerAction=t,this.now=n}return e.prototype.schedule=function(e,t,n){return void 0===t&&(t=0),new this.SchedulerAction(this,e).schedule(n,t)},e.now=function(){return Date.now()},e}(),oe=function(e){function t(n,r){void 0===r&&(r=ie.now);var a=e.call(this,n,function(){return t.delegate&&t.delegate!==a?t.delegate.now():r()})||this;return a.actions=[],a.active=!1,a.scheduled=void 0,a}return w(t,e),t.prototype.schedule=function(n,r,a){return void 0===r&&(r=0),t.delegate&&t.delegate!==this?t.delegate.schedule(n,r,a):e.prototype.schedule.call(this,n,r,a)},t.prototype.flush=function(e){var t=this.actions;if(this.active)t.push(e);else{var n;this.active=!0;do{if(n=e.execute(e.state,e.delay))break}while(e=t.shift());if(this.active=!1,n){for(;e=t.shift();)e.unsubscribe();throw n}}},t}(ie),se=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return w(t,e),t}(oe),ce=new se(ae),le=ce,ue=new U(function(e){return e.complete()});function de(e){return e?fe(e):ue}function fe(e){return new U(function(t){return e.schedule(function(){return t.complete()})})}function pe(e){return e&&"function"==typeof e.schedule}var he=function(e){return function(t){for(var n=0,r=e.length;n<r&&!t.closed;n++)t.next(e[n]);t.complete()}};function me(e,t){return new U(function(n){var r=new k,a=0;return r.add(t.schedule(function(){a!==e.length?(n.next(e[a++]),n.closed||r.add(this.schedule())):n.complete()})),r})}function ge(e,t){return t?me(e,t):new U(he(e))}function Ce(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=e[e.length-1];return pe(n)?(e.pop(),me(e,n)):ge(e)}function ve(e,t){return new U(t?function(n){return t.schedule(ye,0,{error:e,subscriber:n})}:function(t){return t.error(e)})}function ye(e){var t=e.error;e.subscriber.error(t)}var be=function(){function e(e,t,n){this.kind=e,this.value=t,this.error=n,this.hasValue="N"===e}return e.prototype.observe=function(e){switch(this.kind){case"N":return e.next&&e.next(this.value);case"E":return e.error&&e.error(this.error);case"C":return e.complete&&e.complete()}},e.prototype.do=function(e,t,n){switch(this.kind){case"N":return e&&e(this.value);case"E":return t&&t(this.error);case"C":return n&&n()}},e.prototype.accept=function(e,t,n){return e&&"function"==typeof e.next?this.observe(e):this.do(e,t,n)},e.prototype.toObservable=function(){switch(this.kind){case"N":return Ce(this.value);case"E":return ve(this.error);case"C":return de()}throw new Error("unexpected notification kind value")},e.createNext=function(t){return void 0!==t?new e("N",t):e.undefinedValueNotification},e.createError=function(t){return new e("E",void 0,t)},e.createComplete=function(){return e.completeNotification},e.completeNotification=new e("C"),e.undefinedValueNotification=new e("N",void 0),e}(),we=function(e){function t(t,n,r){void 0===r&&(r=0);var a=e.call(this,t)||this;return a.scheduler=n,a.delay=r,a}return w(t,e),t.dispatch=function(e){var t=e.notification,n=e.destination;t.observe(n),this.unsubscribe()},t.prototype.scheduleMessage=function(e){this.destination.add(this.scheduler.schedule(t.dispatch,this.delay,new Ee(e,this.destination)))},t.prototype._next=function(e){this.scheduleMessage(be.createNext(e))},t.prototype._error=function(e){this.scheduleMessage(be.createError(e)),this.unsubscribe()},t.prototype._complete=function(){this.scheduleMessage(be.createComplete()),this.unsubscribe()},t}(P),Ee=function(){return function(e,t){this.notification=e,this.destination=t}}(),Ne=function(e){function t(t,n,r){void 0===t&&(t=Number.POSITIVE_INFINITY),void 0===n&&(n=Number.POSITIVE_INFINITY);var a=e.call(this)||this;return a.scheduler=r,a._events=[],a._infiniteTimeWindow=!1,a._bufferSize=t<1?1:t,a._windowTime=n<1?1:n,n===Number.POSITIVE_INFINITY?(a._infiniteTimeWindow=!0,a.next=a.nextInfiniteTimeWindow):a.next=a.nextTimeWindow,a}return w(t,e),t.prototype.nextInfiniteTimeWindow=function(t){if(!this.isStopped){var n=this._events;n.push(t),n.length>this._bufferSize&&n.shift()}e.prototype.next.call(this,t)},t.prototype.nextTimeWindow=function(t){this.isStopped||(this._events.push(new xe(this._getNow(),t)),this._trimBufferThenGetEvents()),e.prototype.next.call(this,t)},t.prototype._subscribe=function(e){var t,n=this._infiniteTimeWindow,r=n?this._events:this._trimBufferThenGetEvents(),a=this.scheduler,i=r.length;if(this.closed)throw new F;if(this.isStopped||this.hasError?t=k.EMPTY:(this.observers.push(e),t=new Z(this,e)),a&&e.add(e=new we(e,a)),n)for(var o=0;o<i&&!e.closed;o++)e.next(r[o]);else for(o=0;o<i&&!e.closed;o++)e.next(r[o].value);return this.hasError?e.error(this.thrownError):this.isStopped&&e.complete(),t},t.prototype._getNow=function(){return(this.scheduler||le).now()},t.prototype._trimBufferThenGetEvents=function(){for(var e=this._getNow(),t=this._bufferSize,n=this._windowTime,r=this._events,a=r.length,i=0;i<a&&!(e-r[i].time<n);)i++;return a>t&&(i=Math.max(i,a-t)),i>0&&r.splice(0,i),r},t}(W),xe=function(){return function(e,t){this.time=e,this.value=t}}();function Me(){}function Ie(e,t){return function(n){if("function"!=typeof e)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new Te(e,t))}}var Te=function(){function e(e,t){this.project=e,this.thisArg=t}return e.prototype.call=function(e,t){return t.subscribe(new Oe(e,this.project,this.thisArg))},e}(),Oe=function(e){function t(t,n,r){var a=e.call(this,t)||this;return a.project=n,a.count=0,a.thisArg=r||a,a}return w(t,e),t.prototype._next=function(e){var t;try{t=this.project.call(this.thisArg,e,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(t)},t}(P),Se=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return w(t,e),t.prototype.notifyNext=function(e,t,n,r,a){this.destination.next(t)},t.prototype.notifyError=function(e,t){this.destination.error(e)},t.prototype.notifyComplete=function(e){this.destination.complete()},t}(P),De=function(e){function t(t,n,r){var a=e.call(this)||this;return a.parent=t,a.outerValue=n,a.outerIndex=r,a.index=0,a}return w(t,e),t.prototype._next=function(e){this.parent.notifyNext(this.outerValue,e,this.outerIndex,this.index++,this)},t.prototype._error=function(e){this.parent.notifyError(e,this),this.unsubscribe()},t.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},t}(P),ke=function(e){return function(t){return e.then(function(e){t.closed||(t.next(e),t.complete())},function(e){return t.error(e)}).then(null,M),t}};function Le(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}var Ae=Le(),Pe=function(e){return function(t){for(var n=e[Ae]();;){var r=void 0;try{r=n.next()}catch(a){return t.error(a),t}if(r.done){t.complete();break}if(t.next(r.value),t.closed)break}return"function"==typeof n.return&&t.add(function(){n.return&&n.return()}),t}},Re=function(e){return function(t){var n=e[V]();if("function"!=typeof n.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return n.subscribe(t)}},_e=function(e){return e&&"number"==typeof e.length&&"function"!=typeof e};function je(e){return!!e&&"function"!=typeof e.subscribe&&"function"==typeof e.then}var Ve=function(e){if(e&&"function"==typeof e[V])return Re(e);if(_e(e))return he(e);if(je(e))return ke(e);if(e&&"function"==typeof e[Ae])return Pe(e);var t=O(e)?"an invalid object":"'"+e+"'";throw new TypeError("You provided "+t+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.")};function Ge(e,t,n,r,a){if(void 0===a&&(a=new De(e,n,r)),!a.closed)return t instanceof U?t.subscribe(a):Ve(t)(a)}var ze={};function Ue(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=void 0,r=void 0;return pe(e[e.length-1])&&(r=e.pop()),"function"==typeof e[e.length-1]&&(n=e.pop()),1===e.length&&T(e[0])&&(e=e[0]),ge(e,r).lift(new Be(n))}var Be=function(){function e(e){this.resultSelector=e}return e.prototype.call=function(e,t){return t.subscribe(new He(e,this.resultSelector))},e}(),He=function(e){function t(t,n){var r=e.call(this,t)||this;return r.resultSelector=n,r.active=0,r.values=[],r.observables=[],r}return w(t,e),t.prototype._next=function(e){this.values.push(ze),this.observables.push(e)},t.prototype._complete=function(){var e=this.observables,t=e.length;if(0===t)this.destination.complete();else{this.active=t,this.toRespond=t;for(var n=0;n<t;n++){var r=e[n];this.add(Ge(this,r,void 0,n))}}},t.prototype.notifyComplete=function(e){0==(this.active-=1)&&this.destination.complete()},t.prototype.notifyNext=function(e,t,n){var r=this.values,a=r[n],i=this.toRespond?a===ze?--this.toRespond:this.toRespond:0;r[n]=t,0===i&&(this.resultSelector?this._tryResultSelector(r):this.destination.next(r.slice()))},t.prototype._tryResultSelector=function(e){var t;try{t=this.resultSelector.apply(this,e)}catch(n){return void this.destination.error(n)}this.destination.next(t)},t}(Se);function Fe(e,t){return new U(function(n){var r=new k;return r.add(t.schedule(function(){var a=e[V]();r.add(a.subscribe({next:function(e){r.add(t.schedule(function(){return n.next(e)}))},error:function(e){r.add(t.schedule(function(){return n.error(e)}))},complete:function(){r.add(t.schedule(function(){return n.complete()}))}}))})),r})}function Ze(e,t){return new U(function(n){var r=new k;return r.add(t.schedule(function(){return e.then(function(e){r.add(t.schedule(function(){n.next(e),r.add(t.schedule(function(){return n.complete()}))}))},function(e){r.add(t.schedule(function(){return n.error(e)}))})})),r})}function qe(e,t){if(!e)throw new Error("Iterable cannot be null");return new U(function(n){var r,a=new k;return a.add(function(){r&&"function"==typeof r.return&&r.return()}),a.add(t.schedule(function(){r=e[Ae](),a.add(t.schedule(function(){if(!n.closed){var e,t;try{var a=r.next();e=a.value,t=a.done}catch(i){return void n.error(i)}t?n.complete():(n.next(e),this.schedule())}}))})),a})}function We(e){return e&&"function"==typeof e[V]}function Ye(e){return e&&"function"==typeof e[Ae]}function Ke(e,t){if(null!=e){if(We(e))return Fe(e,t);if(je(e))return Ze(e,t);if(_e(e))return me(e,t);if(Ye(e)||"string"==typeof e)return qe(e,t)}throw new TypeError((null!==e&&typeof e||e)+" is not observable")}function Je(e,t){return t?Ke(e,t):e instanceof U?e:new U(Ve(e))}var $e=function(e){function t(t){var n=e.call(this)||this;return n.parent=t,n}return w(t,e),t.prototype._next=function(e){this.parent.notifyNext(e)},t.prototype._error=function(e){this.parent.notifyError(e),this.unsubscribe()},t.prototype._complete=function(){this.parent.notifyComplete(),this.unsubscribe()},t}(P),Xe=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return w(t,e),t.prototype.notifyNext=function(e){this.destination.next(e)},t.prototype.notifyError=function(e){this.destination.error(e)},t.prototype.notifyComplete=function(){this.destination.complete()},t}(P);function Qe(e,t){if(!t.closed){if(e instanceof U)return e.subscribe(t);var n;try{n=Ve(e)(t)}catch(r){t.error(r)}return n}}function et(e,t,n){return void 0===n&&(n=Number.POSITIVE_INFINITY),"function"==typeof t?function(r){return r.pipe(et(function(n,r){return Je(e(n,r)).pipe(Ie(function(e,a){return t(n,e,r,a)}))},n))}:("number"==typeof t&&(n=t),function(t){return t.lift(new tt(e,n))})}var tt=function(){function e(e,t){void 0===t&&(t=Number.POSITIVE_INFINITY),this.project=e,this.concurrent=t}return e.prototype.call=function(e,t){return t.subscribe(new nt(e,this.project,this.concurrent))},e}(),nt=function(e){function t(t,n,r){void 0===r&&(r=Number.POSITIVE_INFINITY);var a=e.call(this,t)||this;return a.project=n,a.concurrent=r,a.hasCompleted=!1,a.buffer=[],a.active=0,a.index=0,a}return w(t,e),t.prototype._next=function(e){this.active<this.concurrent?this._tryNext(e):this.buffer.push(e)},t.prototype._tryNext=function(e){var t,n=this.index++;try{t=this.project(e,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(t)},t.prototype._innerSub=function(e){var t=new $e(this),n=this.destination;n.add(t);var r=Qe(e,t);r!==t&&n.add(r)},t.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()},t.prototype.notifyNext=function(e){this.destination.next(e)},t.prototype.notifyComplete=function(){var e=this.buffer;this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()},t}(Xe),rt=et;function at(e){return void 0===e&&(e=Number.POSITIVE_INFINITY),et(G,e)}function it(){return at(1)}function ot(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return it()(Ce.apply(void 0,e))}function st(e){return new U(function(t){var n;try{n=e()}catch(r){return void t.error(r)}return(n?Je(n):de()).subscribe(t)})}function ct(e,t,n,r){return E(n)&&(r=n,n=void 0),r?ct(e,t,n).pipe(Ie(function(e){return T(e)?r.apply(void 0,e):r(e)})):new U(function(r){lt(e,t,function(e){arguments.length>1?r.next(Array.prototype.slice.call(arguments)):r.next(e)},r,n)})}function lt(e,t,n,r,a){var i;if(ft(e)){var o=e;e.addEventListener(t,n,a),i=function(){return o.removeEventListener(t,n,a)}}else if(dt(e)){var s=e;e.on(t,n),i=function(){return s.off(t,n)}}else if(ut(e)){var c=e;e.addListener(t,n),i=function(){return c.removeListener(t,n)}}else{if(!e||!e.length)throw new TypeError("Invalid event target");for(var l=0,u=e.length;l<u;l++)lt(e[l],t,n,r,a)}r.add(i)}function ut(e){return e&&"function"==typeof e.addListener&&"function"==typeof e.removeListener}function dt(e){return e&&"function"==typeof e.on&&"function"==typeof e.off}function ft(e){return e&&"function"==typeof e.addEventListener&&"function"==typeof e.removeEventListener}function pt(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=Number.POSITIVE_INFINITY,r=null,a=e[e.length-1];return pe(a)?(r=e.pop(),e.length>1&&"number"==typeof e[e.length-1]&&(n=e.pop())):"number"==typeof a&&(n=e.pop()),null===r&&1===e.length&&e[0]instanceof U?e[0]:at(n)(ge(e,r))}function ht(e,t){return function(n){return n.lift(new mt(e,t))}}var mt=function(){function e(e,t){this.predicate=e,this.thisArg=t}return e.prototype.call=function(e,t){return t.subscribe(new gt(e,this.predicate,this.thisArg))},e}(),gt=function(e){function t(t,n,r){var a=e.call(this,t)||this;return a.predicate=n,a.thisArg=r,a.count=0,a}return w(t,e),t.prototype._next=function(e){var t;try{t=this.predicate.call(this.thisArg,e,this.count++)}catch(n){return void this.destination.error(n)}t&&this.destination.next(e)},t}(P),Ct={exports:{}};!function(e){var t=function(e){var t,n=Object.prototype,r=n.hasOwnProperty,a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",o=a.asyncIterator||"@@asyncIterator",s=a.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(k){c=function(e,t,n){return e[t]=n}}function l(e,t,n,r){var a=t&&t.prototype instanceof g?t:g,i=Object.create(a.prototype),o=new O(r||[]);return i._invoke=function(e,t,n){var r=d;return function(a,i){if(r===p)throw new Error("Generator is already running");if(r===h){if("throw"===a)throw i;return D()}for(n.method=a,n.arg=i;;){var o=n.delegate;if(o){var s=M(o,n);if(s){if(s===m)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===d)throw r=h,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=p;var c=u(e,t,n);if("normal"===c.type){if(r=n.done?h:f,c.arg===m)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r=h,n.method="throw",n.arg=c.arg)}}}(e,n,o),i}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(k){return{type:"throw",arg:k}}}e.wrap=l;var d="suspendedStart",f="suspendedYield",p="executing",h="completed",m={};function g(){}function C(){}function v(){}var y={};y[i]=function(){return this};var b=Object.getPrototypeOf,w=b&&b(b(S([])));w&&w!==n&&r.call(w,i)&&(y=w);var E=v.prototype=g.prototype=Object.create(y);function N(e){["next","throw","return"].forEach(function(t){c(e,t,function(e){return this._invoke(t,e)})})}function x(e,t){var n;this._invoke=function(a,i){function o(){return new t(function(n,o){!function n(a,i,o,s){var c=u(e[a],e,i);if("throw"!==c.type){var l=c.arg,d=l.value;return d&&"object"==typeof d&&r.call(d,"__await")?t.resolve(d.__await).then(function(e){n("next",e,o,s)},function(e){n("throw",e,o,s)}):t.resolve(d).then(function(e){l.value=e,o(l)},function(e){return n("throw",e,o,s)})}s(c.arg)}(a,i,n,o)})}return n=n?n.then(o,o):o()}}function M(e,n){var r=e.iterator[n.method];if(r===t){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=t,M(e,n),"throw"===n.method))return m;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return m}var a=u(r,e.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,m;var i=a.arg;return i?i.done?(n[e.resultName]=i.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,m):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,m)}function I(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(I,this),this.reset(!0)}function S(e){if(e){var n=e[i];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var a=-1,o=function n(){for(;++a<e.length;)if(r.call(e,a))return n.value=e[a],n.done=!1,n;return n.value=t,n.done=!0,n};return o.next=o}}return{next:D}}function D(){return{value:t,done:!0}}return C.prototype=E.constructor=v,v.constructor=C,C.displayName=c(v,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===C||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,c(e,s,"GeneratorFunction")),e.prototype=Object.create(E),e},e.awrap=function(e){return{__await:e}},N(x.prototype),x.prototype[o]=function(){return this},e.AsyncIterator=x,e.async=function(t,n,r,a,i){void 0===i&&(i=Promise);var o=new x(l(t,n,r,a),i);return e.isGeneratorFunction(n)?o:o.next().then(function(e){return e.done?e.value:o.next()})},N(E),c(E,s,"Generator"),E[i]=function(){return this},E.toString=function(){return"[object Generator]"},e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=S,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(T),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function a(r,a){return s.type="throw",s.arg=e,n.next=r,a&&(n.method="next",n.arg=t),!!a}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],s=o.completion;if("root"===o.tryLoc)return a("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return a(o.catchLoc,!0);if(this.prev<o.finallyLoc)return a(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return a(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return a(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var i=a;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=e,o.arg=t,i?(this.method="next",this.next=i.finallyLoc,m):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),T(n),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;T(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:S(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),m}},e}(e.exports);try{regeneratorRuntime=t}catch(n){Function("r","regeneratorRuntime = r")(t)}}(Ct);var vt=Ct.exports;function yt(e,t,n,r,a,i,o){try{var s=e[i](o),c=s.value}catch(l){return void n(l)}s.done?t(c):Promise.resolve(c).then(r,a)}function bt(e){return function(){var t=this,n=arguments;return new Promise(function(r,a){var i=e.apply(t,n);function o(e){yt(i,r,a,o,s,"next",e)}function s(e){yt(i,r,a,o,s,"throw",e)}o(void 0)})}}function wt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Et(e){return function(t){var n=new Nt(e),r=t.lift(n);return n.caught=r}}var Nt=function(){function e(e){this.selector=e}return e.prototype.call=function(e,t){return t.subscribe(new xt(e,this.selector,this.caught))},e}(),xt=function(e){function t(t,n,r){var a=e.call(this,t)||this;return a.selector=n,a.caught=r,a}return w(t,e),t.prototype.error=function(t){if(!this.isStopped){var n=void 0;try{n=this.selector(t,this.caught)}catch(i){return void e.prototype.error.call(this,i)}this._unsubscribeAndRecycle();var r=new $e(this);this.add(r);var a=Qe(n,r);a!==r&&this.add(a)}},t}(Xe);function Mt(e,t){return et(e,t,1)}function It(e,t){return function(n){return n.lift(new Tt(e,t))}}var Tt=function(){function e(e,t){this.compare=e,this.keySelector=t}return e.prototype.call=function(e,t){return t.subscribe(new Ot(e,this.compare,this.keySelector))},e}(),Ot=function(e){function t(t,n,r){var a=e.call(this,t)||this;return a.keySelector=r,a.hasKey=!1,"function"==typeof n&&(a.compare=n),a}return w(t,e),t.prototype.compare=function(e,t){return e===t},t.prototype._next=function(e){var t;try{var n=this.keySelector;t=n?n(e):e}catch(a){return this.destination.error(a)}var r=!1;if(this.hasKey)try{r=(0,this.compare)(this.key,t)}catch(a){return this.destination.error(a)}else this.hasKey=!0;r||(this.key=t,this.destination.next(e))},t}(P);function St(e){return function(t){return t.lift(new Dt(e))}}var Dt=function(){function e(e){this.callback=e}return e.prototype.call=function(e,t){return t.subscribe(new kt(e,this.callback))},e}(),kt=function(e){function t(t,n){var r=e.call(this,t)||this;return r.add(new k(n)),r}return w(t,e),t}(P);function Lt(e,t){return function(n){var r;if(r="function"==typeof e?e:function(){return e},"function"==typeof t)return n.lift(new At(r,t));var a=Object.create(n,Q);return a.source=n,a.subjectFactory=r,a}}var At=function(){function e(e,t){this.subjectFactory=e,this.selector=t}return e.prototype.call=function(e,t){var n=this.selector,r=this.subjectFactory(),a=n(r).subscribe(e);return a.add(t.subscribe(r)),a},e}();function Pt(e,t,n,r){n&&"function"!=typeof n&&(r=n);var a="function"==typeof n?n:void 0,i=new Ne(e,t,r);return function(e){return Lt(function(){return i},a)(e)}}function Rt(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=e[e.length-1];return pe(n)?(e.pop(),function(t){return ot(e,t,n)}):function(t){return ot(e,t)}}function _t(e,t){return void 0===t&&(t=!1),function(n){return n.lift(new jt(e,t))}}var jt=function(){function e(e,t){this.predicate=e,this.inclusive=t}return e.prototype.call=function(e,t){return t.subscribe(new Vt(e,this.predicate,this.inclusive))},e}(),Vt=function(e){function t(t,n,r){var a=e.call(this,t)||this;return a.predicate=n,a.inclusive=r,a.index=0,a}return w(t,e),t.prototype._next=function(e){var t,n=this.destination;try{t=this.predicate(e,this.index++)}catch(r){return void n.error(r)}this.nextOrComplete(e,t)},t.prototype.nextOrComplete=function(e,t){var n=this.destination;Boolean(t)?n.next(e):(this.inclusive&&n.next(e),n.complete())},t}(P);function Gt(e,t,n){return function(r){return r.lift(new zt(e,t,n))}}var zt=function(){function e(e,t,n){this.nextOrObserver=e,this.error=t,this.complete=n}return e.prototype.call=function(e,t){return t.subscribe(new Ut(e,this.nextOrObserver,this.error,this.complete))},e}(),Ut=function(e){function t(t,n,r,a){var i=e.call(this,t)||this;return i._tapNext=Me,i._tapError=Me,i._tapComplete=Me,i._tapError=r||Me,i._tapComplete=a||Me,E(n)?(i._context=i,i._tapNext=n):n&&(i._context=n,i._tapNext=n.next||Me,i._tapError=n.error||Me,i._tapComplete=n.complete||Me),i}return w(t,e),t.prototype._next=function(e){try{this._tapNext.call(this._context,e)}catch(t){return void this.destination.error(t)}this.destination.next(e)},t.prototype._error=function(e){try{this._tapError.call(this._context,e)}catch(e){return void this.destination.error(e)}this.destination.error(e)},t.prototype._complete=function(){try{this._tapComplete.call(this._context)}catch(e){return void this.destination.error(e)}return this.destination.complete()},t}(P);function Bt(e){if(Array.isArray(e))return e}function Ht(e,t){var n=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null!=n){var r,a,i=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);o=!0);}catch(c){s=!0,a=c}finally{try{o||null==n.return||n.return()}finally{if(s)throw a}}return i}}function Ft(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Zt(e,t){if(e){if("string"==typeof e)return Ft(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ft(e,t):void 0}}function qt(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Wt(e,t){return Bt(e)||Ht(e,t)||Zt(e,t)||qt()}function Yt(e){if(Array.isArray(e))return Ft(e)}function Kt(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function Jt(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function $t(e){return Yt(e)||Kt(e)||Zt(e)||Jt()}function Xt(){return(Xt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}class Qt{constructor(e){this.datasource=e}connect(){return Promise.reject(new Error("connect() must be defined in WebexAdapter"))}disconnect(){return Promise.reject(new Error("disconnect() must be defined in WebexAdapter"))}}class en extends Qt{getActivity(e){return ve(new Error("getActivity(ID) must be defined in ActivitiesAdapter"))}}const tn="active",nn="inactive",rn="disabled",an="NOT_JOINED",on="JOINED",sn="LEFT";class cn extends Qt{constructor(e){super(e),this.meetingControls={}}createMeeting(e){return ve(new Error("createMeeting(destination) must be defined in MeetingsAdapter"))}incomingMeeting(e){return ve(new Error("incomingMeeting(destination) must be defined in MeetingsAdapter"))}getMeeting(e){return ve(new Error("getMeeting(ID) must be defined in MeetingsAdapter"))}joinMeeting(e){throw new Error("joinMeeting(ID) must be defined in MeetingsAdapter")}leaveMeeting(e){throw new Error("leaveMeeting(ID) must be defined in MeetingsAdapter")}supportedControls(){return ve(new Error("supportedControls() must be defined in MeetingsAdapter"))}clearPasswordRequiredFlag(e){throw new Error("clearPasswordRequiredFlag(ID) must be defined in MeetingsAdapter")}clearInvalidPasswordFlag(e){throw new Error("clearInvalidPasswordFlag(ID) must be defined in MeetingsAdapter")}}const ln="meeting";class un extends Qt{getMembersFromDestination(e,t){return ve(new Error("getMembersFromDestination(destinationID, destinationType) must be defined in MembershipsAdapter"))}}class dn extends Qt{getOrg(e){return ve(new Error("getOrg(ID) must be defined in OrganizationsAdapter"))}}const fn={ACTIVE:"active",BOT:"bot",CALL:"call",DO_NOT_DISTURB:"dnd",INACTIVE:"inactive",MEETING:"meeting",OUT_OF_OFFICE:"ooo",PRESENTING:"presenting",SELF:"self",TYPING:"typing"};class pn extends Qt{getMe(){return ve(new Error("getMe() must be defined in PeopleAdapter"))}getPerson(e){return ve(new Error("getPerson(ID) must be defined in PeopleAdapter"))}}class hn extends Qt{getRoom(e){return ve(new Error("getRoom(ID) must be defined in RoomsAdapter"))}getRoomActivities(e){return ve(new Error("getRoomActivities(ID) must be defined in RoomsAdapter"))}getPreviousRoomActivities(e){return ve(new Error("getPreviousRoomActivities(ID) must be defined in RoomsAdapter"))}hasMoreActivities(e){throw new Error("hasMoreActivities(ID) must be defined in RoomsAdapter")}}function mn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=y(e);if(t){var a=y(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return v(this,n)}}var gn=function(e){m(n,en);var t=mn(n);function n(){return d(this,n),t.apply(this,arguments)}return p(n,[{key:"getActivity",value:function(e){var t=this;return U.create(function(n){t.datasource[e]?n.next(t.datasource[e]):n.error(new Error('Could not find activity with ID "'.concat(e,'"'))),n.complete()})}}]),n}();function Cn(e,t){for(var n=e,r=0,a=Object.entries(t);r<a.length;r++){var i=Wt(a[r],2),o=i[0],s=i[1];(null==s?void 0:s.constructor)===Object?Cn(n[o],s):n[o]=s}}var vn=function e(t,n){d(this,e),this.adapter=t,this.ID=n};function yn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=y(e);if(t){var a=y(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return v(this,n)}}var bn=function(e){m(n,vn);var t=yn(n);function n(){return d(this,n),t.apply(this,arguments)}return p(n,[{key:"display",value:function(){var e=this;return U.create(function(t){t.next({ID:e.ID,type:"JOIN",text:"Join meeting",state:rn}),t.complete()})}}]),n}();function wn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=y(e);if(t){var a=y(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return v(this,n)}}var En=function(e){m(n,vn);var t=wn(n);function n(){return d(this,n),t.apply(this,arguments)}return p(n,[{key:"display",value:function(){var e=this;return U.create(function(t){t.next({ID:e.ID,type:"BUTTON",icon:"microphone",state:rn}),t.complete()})}}]),n}();function Nn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=y(e);if(t){var a=y(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return v(this,n)}}var xn=function(e){m(r,vn);var t,n=Nn(r);function r(){return d(this,r),n.apply(this,arguments)}return p(r,[{key:"action",value:(t=bt(vt.mark(function e(t){return vt.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.adapter.joinMeeting(t);case 2:case"end":return e.stop()}},e,this)})),function(e){return t.apply(this,arguments)})},{key:"display",value:function(e){var t=this;return this.adapter.getMeeting(e).pipe(Ie(function(e){return{hint:(e.localAudio.stream?"Unmuted, ":"Muted, ")+(e.localVideo.stream?"video on":"video off"),state:"NOT_JOINED"===e.state?tn:rn}}),It(function(e,t){return e.hint===t.hint&&e.state===t.state}),Ie(function(e){var n=e.hint,r=e.state;return{ID:t.ID,type:"JOIN",text:"Join meeting",tooltip:"Join meeting",hint:"Join meeting. ".concat(n),state:r}}))}}]),r}();function Mn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=y(e);if(t){var a=y(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return v(this,n)}}var In=function(e){m(r,vn);var t,n=Mn(r);function r(){return d(this,r),n.apply(this,arguments)}return p(r,[{key:"action",value:(t=bt(vt.mark(function e(t){return vt.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.adapter.leaveMeeting(t);case 2:case"end":return e.stop()}},e,this)})),function(e){return t.apply(this,arguments)})},{key:"display",value:function(){var e=this;return U.create(function(t){t.next({ID:e.ID,type:"CANCEL",icon:"cancel",tooltip:"Leave meeting",hint:"Leave meeting"}),t.complete()})}}]),r}();function Tn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=y(e);if(t){var a=y(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return v(this,n)}}var On=function(e){m(r,vn);var t,n=Tn(r);function r(){return d(this,r),n.apply(this,arguments)}return p(r,[{key:"action",value:(t=bt(vt.mark(function e(t){return vt.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.adapter.toggleMuteAudio(t);case 2:case"end":return e.stop()}},e,this)})),function(e){return t.apply(this,arguments)})},{key:"display",value:function(e){var t={ID:this.ID,type:"BUTTON",icon:"microphone",tooltip:"Mute audio",state:nn,text:"Mute"},n={ID:this.ID,type:"BUTTON",icon:"microphone-muted",tooltip:"Unmute audio",state:tn,text:"Unmute"};return this.adapter.getMeeting(e).pipe(Ie(function(e){var t;return!(null===(t=e.localAudio)||void 0===t||!t.stream)}),It(),Ie(function(e){return e?t:n}))}}]),r}();function Sn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=y(e);if(t){var a=y(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return v(this,n)}}var Dn=function(e){m(r,vn);var t,n=Sn(r);function r(){return d(this,r),n.apply(this,arguments)}return p(r,[{key:"action",value:(t=bt(vt.mark(function e(t){return vt.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.adapter.toggleMuteVideo(t);case 2:case"end":return e.stop()}},e,this)})),function(e){return t.apply(this,arguments)})},{key:"display",value:function(e){var t={ID:this.ID,type:"BUTTON",icon:"camera-muted",tooltip:"Start video",state:tn,text:"Start video"},n={ID:this.ID,type:"BUTTON",icon:"camera",tooltip:"Stop video",state:nn,text:"Stop video"};return this.adapter.getMeeting(e).pipe(Ie(function(e){return!!e.localVideo.stream}),It(),Ie(function(e){return e?n:t}))}}]),r}();function kn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=y(e);if(t){var a=y(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return v(this,n)}}var Ln=function(e){m(r,vn);var t,n=kn(r);function r(){return d(this,r),n.apply(this,arguments)}return p(r,[{key:"action",value:(t=bt(vt.mark(function e(t){return vt.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.adapter.toggleRoster(t);case 2:case"end":return e.stop()}},e,this)})),function(e){return t.apply(this,arguments)})},{key:"display",value:function(e){var t={ID:this.ID,type:"TOGGLE",state:tn,icon:"participant-list-filled",text:"Hide participants",tooltip:"Hide participants panel"},n={ID:this.ID,type:"TOGGLE",state:nn,icon:"participant-list",text:"Show participants",tooltip:"Show participants panel"};return this.adapter.getMeeting(e).pipe(Ie(function(e){return!!e.showRoster}),It(),Ie(function(e){return e?t:n}))}}]),r}();function An(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=y(e);if(t){var a=y(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return v(this,n)}}var Pn=function(e){m(r,vn);var t,n=An(r);function r(){return d(this,r),n.apply(this,arguments)}return p(r,[{key:"action",value:(t=bt(vt.mark(function e(t){return vt.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.adapter.toggleSettings(t);case 2:case"end":return e.stop()}},e,this)})),function(e){return t.apply(this,arguments)})},{key:"display",value:function(e){var t={ID:this.ID,type:"BUTTON",state:tn,icon:"settings",text:"Settings",tooltip:"Meeting settings"},n={ID:this.ID,type:"BUTTON",state:nn,icon:"settings",text:"Settings",tooltip:"Meeting settings"};return this.adapter.getMeeting(e).pipe(Ie(function(e){return!!e.showSettings}),It(),Ie(function(e){return e?t:n}))}}]),r}();function Rn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=y(e);if(t){var a=y(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return v(this,n)}}var _n=function(e){m(r,vn);var t,n=Rn(r);function r(){return d(this,r),n.apply(this,arguments)}return p(r,[{key:"action",value:(t=bt(vt.mark(function e(t){return vt.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.adapter.handleLocalShare(t);case 2:case"end":return e.stop()}},e,this)})),function(e){return t.apply(this,arguments)})},{key:"display",value:function(e){var t={ID:this.ID,type:"TOGGLE",state:nn,icon:"share-screen-presence-stroke",text:"Start sharing",tooltip:"Start sharing content"},n={ID:this.ID,type:"TOGGLE",state:tn,icon:"share-screen-filled",text:"Stop sharing",tooltip:"Stop sharing content"};return this.adapter.getMeeting(e).pipe(Ie(function(e){return!!e.localShare.stream}),It(),Ie(function(e){return e?n:t}))}}]),r}();function jn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Vn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?jn(Object(n),!0).forEach(function(t){wt(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jn(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Gn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=y(e);if(t){var a=y(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return v(this,n)}}var zn=function(e){m(r,vn);var t,n=Gn(r);function r(){return d(this,r),n.apply(this,arguments)}return p(r,[{key:"action",value:(t=bt(vt.mark(function e(t,n){return vt.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.adapter.switchCamera(t,n);case 2:case"end":return e.stop()}},e,this)})),function(e,n){return t.apply(this,arguments)})},{key:"display",value:function(e){var t=this,n=st(function(){return t.adapter.getAvailableDevices("videoinput")}),r=new U(function(n){t.adapter.fetchMeeting(e)?(n.next({ID:t.ID,type:"MULTISELECT",tooltip:"Video Devices",noOptionsMessage:"No available cameras",options:null,selected:null,hint:'Use arrow keys to navigate between camera options and hit "Enter" to select.'}),n.complete()):n.error(new Error('Could not find meeting with ID "'.concat(e,'" to add a switch camera control')))}),a=r.pipe(Mt(function(e){return n.pipe(Ie(function(t){return Vn(Vn({},e),{},{options:(t||[])&&t.map(function(e){return{value:e.deviceId,label:e.label||"Camera-".concat(e.deviceId),camera:e}})})}))})),i=a.pipe(Mt(function(n){return t.adapter.getMeeting(e).pipe(Ie(function(e){return e.cameraID}),It(),Ie(function(e){return Vn(Vn({},n),{},{selected:e})}))}));return ot(r,a,i).pipe(It(function(e,t){return e.selected===t.selected&&e.options===t.options}))}}]),r}();function Un(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Bn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Un(Object(n),!0).forEach(function(t){wt(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Un(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Hn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=y(e);if(t){var a=y(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return v(this,n)}}var Fn,Zn,qn=function(e){m(r,vn);var t,n=Hn(r);function r(){return d(this,r),n.apply(this,arguments)}return p(r,[{key:"action",value:(t=bt(vt.mark(function e(t,n){return vt.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.adapter.switchMicrophone(t,n);case 2:case"end":return e.stop()}},e,this)})),function(e,n){return t.apply(this,arguments)})},{key:"display",value:function(e){var t=this,n=st(function(){return t.adapter.getAvailableDevices("audioinput")}),r=new U(function(n){t.adapter.fetchMeeting(e)?(n.next({ID:t.ID,type:"MULTISELECT",tooltip:"Microphone Devices",noOptionsMessage:"No available microphones",options:null,selected:null,hint:'Use arrow keys to navigate between microphone options and hit "Enter" to select.'}),n.complete()):n.error(new Error('Could not find meeting with ID "'.concat(e,'" to add switch microphone control')))}),a=r.pipe(Mt(function(e){return n.pipe(Ie(function(t){return Bn(Bn({},e),{},{options:(t||[])&&t.map(function(e){return{value:e.deviceId,label:e.label||"Microphone-".concat(e.deviceId),microphone:e}})})}))})),i=a.pipe(Mt(function(n){return t.adapter.getMeeting(e).pipe(Ie(function(e){return e.microphoneID}),It(),Ie(function(e){return Bn(Bn({},n),{},{selected:e})}))}));return ot(r,a,i).pipe(It(function(e,t){return e.selected===t.selected&&e.options===t.options}))}}]),r}(),Wn=(function(e){!function(){var t={}.hasOwnProperty;function n(){for(var e=[],r=0;r<arguments.length;r++){var a=arguments[r];if(a){var i=typeof a;if("string"===i||"number"===i)e.push(a);else if(Array.isArray(a)&&a.length){var o=n.apply(null,a);o&&e.push(o)}else if("object"===i)for(var s in a)t.call(a,s)&&a[s]&&e.push(s)}}return e.join(" ")}e.exports?(n.default=n,e.exports=n):window.classNames=n}()}(Zn={path:Fn,exports:{},require:function(e,t){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(null==t&&Zn.path)}},Zn.exports),Zn.exports);function Yn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Kn(e,t,n){var r;return[Wn(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Yn(Object(n),!0).forEach(function(t){wt(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Yn(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}((wt(r={},"".concat("wxc","-").concat(e),!0),wt(r,t,!!t),r),Object.fromEntries(Object.entries(n||{}).map(function(t){var n=Wt(t,2),r=n[0],a=n[1];return["".concat("wxc","-").concat(e,"--").concat(r),a]})))),function(t){return"".concat("wxc","-").concat(e,"__").concat(t)}]}var Jn=!!document.createElement("audio").setSinkId;function $n(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Xn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$n(Object(n),!0).forEach(function(t){wt(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$n(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Qn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=y(e);if(t){var a=y(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return v(this,n)}}var er=function(e){m(r,vn);var t,n=Qn(r);function r(){return d(this,r),n.apply(this,arguments)}return p(r,[{key:"action",value:(t=bt(vt.mark(function e(t,n){return vt.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.adapter.switchSpeaker(t,n);case 2:case"end":return e.stop()}},e,this)})),function(e,n){return t.apply(this,arguments)})},{key:"display",value:function(e){var t=this,n=st(function(){return t.adapter.getAvailableDevices("audiooutput")}).pipe(Ie(function(e){return e.map(function(e){return{value:e.deviceId,label:e.label,speaker:e}})}),Ie(function(e){return[{value:"",label:"Browser Default"}].concat($t(e))})),r=new U(function(n){t.adapter.fetchMeeting(e)?(n.next({ID:t.ID,type:"MULTISELECT",tooltip:Jn?"Speaker Devices":"The current browser does not support changing speakers",noOptionsMessage:"No available speakers",options:null,selected:null,hint:'Use arrow keys to navigate between speaker options and hit "Enter" to select.'}),n.complete()):n.error(new Error('Could not find meeting with ID "'.concat(e,'" to add switch speaker control')))}),a=r.pipe(Mt(function(e){return n.pipe(Ie(function(t){return Xn(Xn({},e),{},{options:t})}))})),i=a.pipe(Mt(function(n){return t.adapter.getMeeting(e).pipe(Ie(function(e){return e.speakerID}),It(),Ie(function(e){return Xn(Xn({},n),{},{selected:e})}))}));return ot(r,a,i).pipe(It(function(e,t){return e.selected===t.selected&&e.options===t.options}))}}]),r}();function tr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function nr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tr(Object(n),!0).forEach(function(t){wt(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tr(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function rr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=y(e);if(t){var a=y(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return v(this,n)}}var ar={ID:null,title:null,localAudio:{stream:null,permission:null},localVideo:{stream:null,permission:null},localShare:{stream:null},remoteAudio:null,remoteVideo:null,remoteShare:null,showRoster:null,settings:{visible:!1,preview:{audio:{},video:{}}},status:"NOT_JOINED",cameraID:null,microphoneID:null,speakerID:null},ir=function(e){m(M,cn);var t,n,r,a,i,o,s,c,l,u,f,h,g,v,y,b,w,E,N,x=rr(M);function M(e){var t,n;return d(this,M),(n=x.call(this,e)).meetingControls=(wt(t={},"mute-audio",new On(C(n),"mute-audio")),wt(t,"mute-video",new Dn(C(n),"mute-video")),wt(t,"share-screen",new _n(C(n),"share-screen")),wt(t,"join-meeting",new xn(C(n),"join-meeting")),wt(t,"leave-meeting",new In(C(n),"leave-meeting")),wt(t,"disabled-mute-audio",new En(C(n),"disabled-mute-audio")),wt(t,"disabled-join-meeting",new bn(C(n),"disabled-join-meeting")),wt(t,"member-roster",new Ln(C(n),"member-roster")),wt(t,"settings",new Pn(C(n),"settings")),wt(t,"switch-camera",new zn(C(n),"switch-camera")),wt(t,"switch-microphone",new qn(C(n),"switch-microphone")),wt(t,"switch-speaker",new er(C(n),"switch-speaker")),t),n.displayStreamPromise=null,n}return p(M,[{key:"createMeeting",value:function(e){var t=this;return U.create(function(n){e?(n.next(nr(nr({},ar),{},{ID:e})),n.next(t.datasource[e])):n.error(new Error('Could not create meeting at destination "'.concat(e,'"'))),n.complete()})}},{key:"getMeeting",value:function(e){var t=this;return ot(U.create(function(){var n=bt(vt.mark(function n(r){var a,i,o,s,c,l,u;return vt.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(e){n.next=4;break}r.next({ID:null,title:null,localAudio:{stream:null,permission:null},localVideo:{stream:null,permission:null},localShare:{stream:null},remoteAudio:null,remoteVideo:null,remoteShare:null,showRoster:null,settings:{visible:!1,preview:{audio:{},video:{}}},state:null,cameraID:null,microphoneID:null,speakerID:""}),n.next=37;break;case 4:if(!t.fetchMeeting(e)){n.next=36;break}if((a=t.fetchMeeting(e)).remoteVideo instanceof MediaStream&&(a.remoteVideo=t.getVideoStream()),a.remoteShare instanceof MediaStream&&(a.remoteShare=t.getShareStream()),!t.emptyStream(a.localVideo.stream)){n.next=16;break}return n.next=11,t.getStream({video:!0,audio:!1});case 11:i=n.sent,o=i.stream,s=i.deviceId,a.localVideo.stream=o,a.cameraID=s;case 16:if(!t.emptyStream(a.localAudio.stream)){n.next=24;break}return n.next=19,t.getStream({video:!1,audio:!0});case 19:c=n.sent,l=c.stream,u=c.deviceId,a.localAudio.stream=l,a.microphoneID=u;case 24:if(!t.displayStreamPromise){n.next=27;break}return n.next=27,t.displayStreamPromise;case 27:if(!t.emptyStream(a.localShare.stream)){n.next=33;break}return t.displayStreamPromise=t.getDisplayStream(),n.next=31,t.displayStreamPromise;case 31:a.localShare.stream=n.sent,t.displayStreamPromise=null;case 33:r.next(a),n.next=37;break;case 36:r.error(new Error('Could not find meeting with ID "'.concat(e,'"')));case 37:r.complete();case 38:case"end":return n.stop()}},n)}));return function(e){return n.apply(this,arguments)}}()),ct(document,"meeting:update").pipe(ht(function(t){return t.detail.ID===e}),Ie(function(e){return nr({},e.detail)}))).pipe(_t(function(e){return e.state!==sn},!0))}},{key:"joinMeeting",value:(N=bt(vt.mark(function e(t){var n,r=this,a=arguments;return vt.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.length>1&&void 0!==a[1]?a[1]:{},e.next=3,this.updateMeeting(t,function(){var e=bt(vt.mark(function e(t){var a;return vt.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.password||n.password||n.hostKey){e.next=4;break}a={passwordRequired:!0},e.next=20;break;case 4:if(!t.password||!n.password||n.password===t.password){e.next=8;break}a={invalidPassword:!0},e.next=20;break;case 8:if(!t.hostKey||!n.hostKey||n.hostKey===t.hostKey){e.next=12;break}a={invalidHostKey:!0},e.next=20;break;case 12:return e.next=14,r.getStream({video:!0,audio:!1});case 14:return e.t0=e.sent.stream,e.next=17,r.getStream({video:!1,audio:!0});case 17:e.t1=e.sent.stream,e.t2=on,a={remoteVideo:e.t0,remoteAudio:e.t1,state:e.t2};case 20:return e.abrupt("return",a);case 21:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}},e,this)})),function(e){return N.apply(this,arguments)})},{key:"ignoreVideoAccessPrompt",value:(E=bt(vt.mark(function e(t){return vt.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.updateMeeting(t,bt(vt.mark(function e(){return vt.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{localVideo:{permission:"IGNORED"}});case 1:case"end":return e.stop()}},e)})));case 2:case"end":return e.stop()}},e,this)})),function(e){return E.apply(this,arguments)})},{key:"ignoreAudioAccessPrompt",value:(w=bt(vt.mark(function e(t){return vt.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.updateMeeting(t,bt(vt.mark(function e(){return vt.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{localAudio:{permission:"IGNORED"}});case 1:case"end":return e.stop()}},e)})));case 2:case"end":return e.stop()}},e,this)})),function(e){return w.apply(this,arguments)})},{key:"leaveMeeting",value:(b=bt(vt.mark(function e(t){var n=this;return vt.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.updateMeeting(t,function(){var e=bt(vt.mark(function e(t){return vt.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n.stopStream(t.localVideo.stream),n.stopStream(t.localAudio.stream),e.abrupt("return",{remoteVideo:null,remoteAudio:null,state:sn});case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}());case 2:case"end":return e.stop()}},e,this)})),function(e){return b.apply(this,arguments)})},{key:"getStream",value:(y=bt(vt.mark(function e(t){var n,r,a,i,o,s;return vt.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,navigator.mediaDevices.getUserMedia(t);case 3:return i=e.sent,e.next=6,this.getAvailableDevices();case 6:o=e.sent,s=i.getTracks()[0].label,r=null===(a=o.find(function(e){return e.label===s}))||void 0===a?void 0:a.deviceId,t.video&&(n=new MediaStream([i.getVideoTracks()[0]])),t.audio&&(n=new MediaStream([i.getAudioTracks()[0]])),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),console.error("Meetings JSON adapter can not display the local user stream",e.t0);case 16:return e.abrupt("return",{stream:n,deviceId:r});case 17:case"end":return e.stop()}},e,this,[[0,13]])})),function(e){return y.apply(this,arguments)})},{key:"getDisplayStream",value:(v=bt(vt.mark(function e(){var t;return vt.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=null,e.prev=1,e.next=4,navigator.mediaDevices.getDisplayMedia();case 4:t=e.sent,e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),console.error("Meetings JSON adapter can not display the local user sharing stream",e.t0);case 10:return e.abrupt("return",t);case 11:case"end":return e.stop()}},e,null,[[1,7]])})),function(){return v.apply(this,arguments)})},{key:"getAvailableDevices",value:(g=bt(vt.mark(function e(t){var n;return vt.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,e.prev=1,e.next=4,navigator.mediaDevices.enumerateDevices();case 4:n=(n=e.sent).filter(function(e){return!t||e.kind===t&&e.deviceId}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.error("Meetings JSON adapter can not enumerate media devices",e.t0);case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}},e,null,[[1,8]])})),function(e){return g.apply(this,arguments)})},{key:"getStreamFromElement",value:function(e){var t=document.getElementById(e),n=new MediaStream;return t&&t.captureStream?n=t.captureStream():t&&t.mozCaptureStream&&(n=t.mozCaptureStream()),n}},{key:"getVideoStream",value:function(){return this.getStreamFromElement("remote-video")}},{key:"getShareStream",value:function(){return this.getStreamFromElement("remote-share")}},{key:"stopStream",value:function(e){null!=e&&e.getTracks&&e.getTracks().forEach(function(e){return e.stop()})}},{key:"emptyStream",value:function(e){return e instanceof MediaStream&&0===e.getTracks().length}},{key:"toggleMuteAudio",value:(h=bt(vt.mark(function e(t){var n=this;return vt.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.updateMeeting(t,function(){var e=bt(vt.mark(function e(t){return vt.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n.stopStream(t.localAudio.stream),!t.localAudio.stream){e.next=5;break}e.t0=null,e.next=8;break;case 5:return e.next=7,n.getStream({video:!1,audio:!0});case 7:e.t0=e.sent.stream;case 8:return e.t1=e.t0,e.t2={stream:e.t1},e.abrupt("return",{localAudio:e.t2});case 11:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}());case 2:case"end":return e.stop()}},e,this)})),function(e){return h.apply(this,arguments)})},{key:"toggleMuteVideo",value:(f=bt(vt.mark(function e(t){var n=this;return vt.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.updateMeeting(t,function(){var e=bt(vt.mark(function e(t){var r;return vt.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n.stopStream(t.localVideo.stream),null===(r=t.localVideo)||void 0===r||!r.stream){e.next=5;break}e.t0=null,e.next=8;break;case 5:return e.next=7,n.getStream({video:!0,audio:!1});case 7:e.t0=e.sent.stream;case 8:return e.t1=e.t0,e.t2={stream:e.t1},e.abrupt("return",{localVideo:e.t2});case 11:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}());case 2:case"end":return e.stop()}},e,this)})),function(e){return f.apply(this,arguments)})},{key:"handleLocalShare",value:(u=bt(vt.mark(function e(t){var n=this;return vt.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.updateMeeting(t,function(){var e=bt(vt.mark(function e(r){var a,i;return vt.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a={},!r.localShare.stream){e.next=6;break}n.stopStream(r.localShare.stream),a={localShare:{stream:null}},e.next=10;break;case 6:return e.next=8,n.getDisplayStream();case 8:null!=(i=e.sent)&&i.getVideoTracks&&(i.getVideoTracks()[0].onended=function(){n.handleLocalShare(t)},a={remoteShare:null,localShare:{stream:i}});case 10:return e.abrupt("return",a);case 11:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}());case 2:case"end":return e.stop()}},e,this)})),function(e){return u.apply(this,arguments)})},{key:"toggleRoster",value:(l=bt(vt.mark(function e(t){return vt.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.updateMeeting(t,function(){var e=bt(vt.mark(function e(t){return vt.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{showRoster:!t.showRoster});case 1:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}());case 2:case"end":return e.stop()}},e,this)})),function(e){return l.apply(this,arguments)})},{key:"toggleSettings",value:(c=bt(vt.mark(function e(t){var n=this;return vt.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.updateMeeting(t,function(){var e=bt(vt.mark(function e(t){var r,a,i,o,s,c,l;return vt.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.settings.visible){e.next=27;break}if(r={settings:{visible:!0,preview:{}}},!t.localVideo.stream){e.next=7;break}r.settings.preview.video=t.localVideo.stream.clone(),e.next=14;break;case 7:return e.next=9,n.getStream({video:{deviceId:{exact:t.cameraID}}});case 9:a=e.sent,i=a.stream,o=a.deviceId,r.settings.preview.video=i,r.cameraID=o;case 14:if(!t.localAudio.stream){e.next=18;break}r.settings.preview.audio=t.localAudio.stream.clone(),e.next=25;break;case 18:return e.next=20,n.getStream({audio:{deviceId:{exact:t.microphoneID}}});case 20:s=e.sent,c=s.stream,l=s.deviceId,r.settings.preview.microphoneID=c,r.microphoneID=l;case 25:e.next=30;break;case 27:n.stopStream(t.localVideo.stream),n.stopStream(t.localAudio.stream),r={settings:{visible:!1},localVideo:{stream:t.localVideo.stream&&t.settings.preview.video},localAudio:{stream:t.localAudio.stream&&t.settings.preview.audio}};case 30:return e.abrupt("return",r);case 31:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}());case 2:case"end":return e.stop()}},e,this)})),function(e){return c.apply(this,arguments)})},{key:"switchCamera",value:(s=bt(vt.mark(function e(t,n){var r=this;return vt.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.updateMeeting(t,function(){var e=bt(vt.mark(function e(t){return vt.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r.stopStream(t.settings.preview.video),e.next=3,r.getStream({video:{deviceId:{exact:n}}});case 3:return e.t0=e.sent.stream,e.t1={video:e.t0},e.t2={preview:e.t1},e.t3=n,e.abrupt("return",{settings:e.t2,cameraID:e.t3});case 8:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}());case 2:case"end":return e.stop()}},e,this)})),function(e,t){return s.apply(this,arguments)})},{key:"switchMicrophone",value:(o=bt(vt.mark(function e(t,n){var r=this;return vt.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.updateMeeting(t,function(){var e=bt(vt.mark(function e(t){return vt.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r.stopStream(t.settings.preview.audio),e.next=3,r.getStream({audio:{deviceId:{exact:n}}});case 3:return e.t0=e.sent.stream,e.t1={audio:e.t0},e.t2={preview:e.t1},e.t3=n,e.abrupt("return",{settings:e.t2,microphoneID:e.t3});case 8:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}());case 2:case"end":return e.stop()}},e,this)})),function(e,t){return o.apply(this,arguments)})},{key:"switchSpeaker",value:(i=bt(vt.mark(function e(t,n){return vt.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.updateMeeting(t,bt(vt.mark(function e(){return vt.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{speakerID:n});case 1:case"end":return e.stop()}},e)})));case 2:case"end":return e.stop()}},e,this)})),function(e,t){return i.apply(this,arguments)})},{key:"clearPasswordRequiredFlag",value:(a=bt(vt.mark(function e(t){return vt.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.updateMeeting(t,bt(vt.mark(function e(){return vt.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{passwordRequired:!1});case 1:case"end":return e.stop()}},e)})));case 2:case"end":return e.stop()}},e,this)})),function(e){return a.apply(this,arguments)})},{key:"clearInvalidPasswordFlag",value:(r=bt(vt.mark(function e(t){return vt.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.updateMeeting(t,bt(vt.mark(function e(){return vt.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{invalidPassword:!1});case 1:case"end":return e.stop()}},e)})));case 2:case"end":return e.stop()}},e,this)})),function(e){return r.apply(this,arguments)})},{key:"clearInvalidHostKeyFlag",value:(n=bt(vt.mark(function e(t){return vt.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.updateMeeting(t,bt(vt.mark(function e(){return vt.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{invalidHostKey:!1});case 1:case"end":return e.stop()}},e)})));case 2:case"end":return e.stop()}},e,this)})),function(e){return n.apply(this,arguments)})},{key:"fetchMeeting",value:function(e){return this.datasource[e]}},{key:"updateMeeting",value:(t=bt(vt.mark(function e(t,n){var r,a;return vt.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=this.fetchMeeting(t),e.next=3,n(r);case 3:a=e.sent,Cn(r,a),document.dispatchEvent(new CustomEvent("meeting:update",{detail:r}));case 6:case"end":return e.stop()}},e,this)})),function(e,n){return t.apply(this,arguments)})},{key:"supportedControls",value:function(){return Object.keys(this.meetingControls)}}]),M}();function or(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=y(e);if(t){var a=y(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return v(this,n)}}var sr=function(e){m(n,un);var t=or(n);function n(){return d(this,n),t.apply(this,arguments)}return p(n,[{key:"getMembersFromDestination",value:function(e,t){var n=this;return U.create(function(r){var a=Object.values(n.datasource).find(function(n){return n.destinationID===e&&n.destinationType===t});a?r.next(a.members):r.error(new Error('Could not find members for destination "'.concat(e,'"'))),r.complete()})}}]),n}();function cr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=y(e);if(t){var a=y(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return v(this,n)}}var lr=function(e){m(n,dn);var t=cr(n);function n(){return d(this,n),t.apply(this,arguments)}return p(n,[{key:"getOrg",value:function(e){var t=this;return new U(function(n){var r=Object.values(t.datasource).find(function(t){return t.ID===e});r?(n.next(r),n.complete()):n.error(new Error('Could not find any organization with ID "'.concat(e,'"')))})}}]),n}();function ur(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=y(e);if(t){var a=y(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return v(this,n)}}var dr=function(e){m(n,pn);var t=ur(n);function n(){return d(this,n),t.apply(this,arguments)}return p(n,[{key:"getMe",value:function(){var e=this;return U.create(function(t){t.next(e.datasource.user1),t.complete()})}},{key:"getPerson",value:function(e){var t=this;return U.create(function(n){t.datasource[e]?n.next(t.datasource[e]):n.error(new Error('Could not find person with ID "'.concat(e,'"'))),n.complete()})}}]),n}();function fr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=y(e);if(t){var a=y(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return v(this,n)}}var pr=function(e){m(n,hn);var t=fr(n);function n(e){var r;return d(this,n),(r=t.call(this,e)).dataChunkSize=4,r.lastDataIndex={},r}return p(n,[{key:"getRoom",value:function(e){var t=this;return U.create(function(n){t.datasource[e]?n.next(t.datasource[e]):n.error(new Error('Could not find room with ID "'.concat(e,'"'))),n.complete()})}},{key:"getRoomActivities",value:function(e){var t=this;return U.create(function(n){var r=t.datasource["".concat(e,"-activities")]?t.datasource["".concat(e,"-activities")]:[];n.next(r),n.complete()})}},{key:"getPreviousRoomActivities",value:function(e){var t=this;return U.create(function(n){if("".concat(e,"-previous-activities")in t.datasource)if(t.hasMoreActivities(e)){var r,a=t.lastDataIndex[e]?t.lastDataIndex[e]:0,i=a+t.dataChunkSize;r=t.datasource["".concat(e,"-previous-activities")].slice(a,i),t.lastDataIndex[e]=i,n.next(r)}else n.complete();else{var o="Could not find activities for room ".concat(e,". Make sure room ID is valid!");n.error(new Error(o))}})}},{key:"hasMoreActivities",value:function(e){this.lastDataIndex[e]=this.lastDataIndex[e]?this.lastDataIndex[e]:0;var t=!1;return"".concat(e,"-previous-activities")in this.datasource&&(t=this.lastDataIndex[e]<this.datasource["".concat(e,"-previous-activities")].length),t}}]),n}();function hr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=y(e);if(t){var a=y(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return v(this,n)}}function mr(e){var t=e.size,r=e.className,a=e.style;return n.default.createElement("svg",{width:t,height:t,viewBox:"0 0 26 14",xmlns:"http://www.w3.org/2000/svg",className:"wxc-icon ".concat(r),style:a},n.default.createElement("path",{d:"M25.7075 0.293202C25.52 0.105701 25.2656 0.000366211 25.0004 0.000366211C24.7353 0.000366211 24.4809 0.105701 24.2934 0.293202L13 11.5862L1.70699 0.293202C1.51851 0.110381 1.26568 0.00902984 1.0031 0.0110359C0.740528 0.013042 0.489278 0.118244 0.303611 0.303925C0.117943 0.489605 0.0127584 0.740862 0.0107709 1.00344C0.00878336 1.26601 0.110153 1.51883 0.292988 1.7073L12.293 13.7073C12.4805 13.8948 12.7348 14.0001 13 14.0001C13.2652 14.0001 13.5195 13.8948 13.707 13.7073L25.707 1.7073C25.8946 1.51984 26 1.26555 26.0001 1.00036C26.0002 0.735168 25.8949 0.4808 25.7075 0.293202Z"}))}function gr(e){var t=e.size,r=e.className,a=e.style;return n.default.createElement("svg",{width:t,height:t,viewBox:"0 0 8 14",xmlns:"http://www.w3.org/2000/svg",className:"wxc-icon ".concat(r),style:a},n.default.createElement("path",{d:"M1.70721 6.99987L7.35366 1.35352C7.44508 1.25928 7.49577 1.13287 7.49477 1.00159C7.49378 0.870299 7.44119 0.74467 7.34835 0.65183C7.25552 0.55899 7.12989 0.506389 6.99861 0.505386C6.86732 0.504383 6.7409 0.555058 6.64666 0.646469L0.646662 6.64647C0.552911 6.74023 0.500244 6.8674 0.500244 6.99999C0.500244 7.13259 0.552911 7.25975 0.646662 7.35352L6.64666 13.3535C6.69283 13.4011 6.748 13.439 6.80896 13.4651C6.86992 13.4912 6.93546 13.5049 7.00176 13.5054C7.06806 13.5059 7.13379 13.4932 7.19514 13.468C7.25649 13.4429 7.31223 13.4058 7.35911 13.3589C7.40599 13.312 7.44307 13.2563 7.46821 13.1949C7.49335 13.1336 7.50603 13.0679 7.50553 13.0016C7.50502 12.9353 7.49133 12.8697 7.46526 12.8088C7.43919 12.7478 7.40125 12.6926 7.35366 12.6465L1.70721 6.99987Z"}))}function Cr(e){var t=e.size,r=e.className,a=e.style;return n.default.createElement("svg",{width:t,height:t,viewBox:"0 0 26 14",xmlns:"http://www.w3.org/2000/svg",className:"wxc-icon ".concat(r),style:a},n.default.createElement("path",{d:"M26.7071 12.2932L14.7071 0.293202C14.5196 0.105701 14.2652 0.000366211 14 0.000366211C13.7349 0.000366211 13.4805 0.105701 13.293 0.293202L1.293 12.2932C1.19821 12.3856 1.12271 12.4959 1.07089 12.6178C1.01907 12.7396 0.991948 12.8705 0.991109 13.0029C0.99027 13.1353 1.01573 13.2665 1.066 13.389C1.11628 13.5114 1.19037 13.6227 1.28398 13.7163C1.37759 13.8099 1.48886 13.884 1.61133 13.9343C1.73381 13.9846 1.86504 14.01 1.99743 14.0092C2.12981 14.0084 2.26071 13.9812 2.38254 13.9294C2.50436 13.8776 2.61468 13.8021 2.7071 13.7073L14 2.4143L25.293 13.7073C25.3854 13.8021 25.4957 13.8776 25.6176 13.9294C25.7394 13.9812 25.8703 14.0084 26.0027 14.0092C26.1351 14.01 26.2663 13.9846 26.3888 13.9343C26.5112 13.884 26.6225 13.8099 26.7161 13.7163C26.8097 13.6227 26.8838 13.5114 26.9341 13.389C26.9844 13.2665 27.0098 13.1353 27.009 13.0029C27.0082 12.8705 26.981 12.7396 26.9292 12.6178C26.8774 12.4959 26.8019 12.3856 26.7071 12.2932Z"}))}function vr(e){var t=e.size,r=e.className,a=e.style,i=Wt(Kn("audio-microphone-icon",r),1)[0];return n.default.createElement("svg",{width:t,height:t,viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",className:"wxc-icon ".concat(i),style:a},n.default.createElement("path",{d:"M18 21.0002H16.5154C15.6304 21.0221 14.7675 20.7223 14.0868 20.1563C13.4061 19.5903 12.9539 18.7966 12.814 17.9224C13.8476 17.7311 14.7818 17.1843 15.4547 16.3766C16.1276 15.569 16.4969 14.5515 16.4985 13.5002V6.00024C16.4985 4.80677 16.0244 3.66218 15.1805 2.81826C14.3366 1.97435 13.192 1.50024 11.9985 1.50024C10.8051 1.50024 9.66047 1.97435 8.81656 2.81826C7.97264 3.66218 7.49854 4.80677 7.49854 6.00024V13.5002C7.5004 14.5713 7.88398 15.6066 8.58042 16.4204C9.27685 17.2341 10.2405 17.773 11.2985 17.9402C11.4397 19.1001 11.9685 20.1783 12.799 21.0002H6C5.80109 21.0002 5.61032 21.0793 5.46967 21.2199C5.32902 21.3606 5.25 21.5513 5.25 21.7502C5.25 21.9492 5.32902 22.1399 5.46967 22.2806C5.61032 22.4212 5.80109 22.5002 6 22.5002H18C18.1989 22.5002 18.3897 22.4212 18.5303 22.2806C18.671 22.1399 18.75 21.9492 18.75 21.7502C18.75 21.5513 18.671 21.3606 18.5303 21.2199C18.3897 21.0793 18.1989 21.0002 18 21.0002ZM8.99854 11.2412V9.75024H14.9985V11.2412H8.99854ZM11.9985 3.00024C12.7939 3.00104 13.5565 3.31736 14.119 3.8798C14.6814 4.44224 14.9977 5.20484 14.9985 6.00024V8.25024H8.99854V6.00024C8.99933 5.20484 9.31566 4.44224 9.87809 3.8798C10.4405 3.31736 11.2031 3.00104 11.9985 3.00024Z"}),n.default.createElement("path",{className:"accent",d:"M9 11.25H15V13.5C15 15.1569 13.6569 16.5 12 16.5C10.3431 16.5 9 15.1569 9 13.5V11.25Z"}),n.default.createElement("rect",{className:"accent",x:"9",y:"8.25",width:"6",height:"1.5"}))}function yr(e){var t=e.size,r=e.className,a=e.style,i=Wt(Kn("audio-microphone-muted-icon",r),1)[0];return n.default.createElement("svg",{width:t,height:t,viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",className:"wxc-icon ".concat(i),style:a},n.default.createElement("path",{d:"M18.0017 20.9998H16.5171C15.6321 21.0217 14.7693 20.7218 14.0886 20.1558C13.4079 19.5898 12.9556 18.7961 12.8157 17.922C13.3101 17.8295 13.7854 17.6542 14.2214 17.4035L13.1019 16.2839C12.6475 16.4667 12.1552 16.5351 11.6682 16.4828C11.1813 16.4306 10.7146 16.2595 10.3094 15.9844C9.90415 15.7094 9.57276 15.3389 9.34441 14.9057C9.11606 14.4724 8.99775 13.9896 8.99992 13.4999V12.1817L7.49992 10.6816V13.4998C7.50176 14.5709 7.88538 15.6063 8.58188 16.4201C9.27839 17.2338 10.2422 17.7726 11.3002 17.9397C11.4415 19.0996 11.9702 20.1779 12.8007 20.9998H6.00175C5.80283 20.9998 5.61207 21.0788 5.47142 21.2195C5.33076 21.3601 5.25175 21.5509 5.25175 21.7498C5.25175 21.9487 5.33076 22.1395 5.47142 22.2801C5.61207 22.4208 5.80283 22.4998 6.00175 22.4998H18.0017C18.2007 22.4998 18.3914 22.4208 18.5321 22.2801C18.6727 22.1395 18.7517 21.9487 18.7517 21.7498C18.7517 21.5509 18.6727 21.3601 18.5321 21.2195C18.3914 21.0788 18.2007 20.9998 18.0017 20.9998Z"}),n.default.createElement("path",{d:"M21.5306 20.4695L16.1892 15.1284C16.3945 14.6099 16.5 14.0574 16.5003 13.4998V5.99981C16.4987 4.80729 16.0239 3.66415 15.1802 2.82145C14.3364 1.97876 13.1926 1.50543 12.0001 1.50543C10.8076 1.50543 9.66382 1.97876 8.82004 2.82145C7.97626 3.66415 7.50145 4.80729 7.49992 5.99981V6.43918L3.53021 2.46954C3.38957 2.3289 3.19883 2.24989 2.99993 2.24988C2.80104 2.24988 2.61029 2.32889 2.46965 2.46953C2.32901 2.61016 2.25 2.80091 2.25 2.9998C2.25 3.19869 2.32901 3.38944 2.46964 3.53008L20.47 21.5301C20.5396 21.5997 20.6223 21.655 20.7133 21.6926C20.8043 21.7303 20.9018 21.7497 21.0003 21.7497C21.0988 21.7497 21.1963 21.7303 21.2873 21.6926C21.3782 21.655 21.4609 21.5997 21.5306 21.5301C21.6002 21.4604 21.6554 21.3778 21.6931 21.2868C21.7308 21.1958 21.7502 21.0983 21.7502 20.9998C21.7502 20.9013 21.7308 20.8038 21.6931 20.7128C21.6554 20.6218 21.6002 20.5392 21.5306 20.4695ZM15.0003 13.4998C14.9976 13.6348 14.9854 13.7695 14.9637 13.9028L8.99994 7.93915V5.99981C9.00119 5.20493 9.31784 4.44304 9.88035 3.88142C10.4429 3.31981 11.2052 3.00437 12.0001 3.00437C12.795 3.00437 13.5574 3.31981 14.1199 3.88142C14.6824 4.44304 14.999 5.20493 15.0003 5.99981V13.4998Z"}))}function br(e){var t=e.size,r=e.className,a=e.style;return n.default.createElement("svg",{width:t,height:t,viewBox:"0 0 26 18",xmlns:"http://www.w3.org/2000/svg",className:"wxc-icon ".concat(r),style:a},n.default.createElement("path",{d:"M8.20046 17.1999C8.06863 17.2002 7.93805 17.1743 7.81633 17.1236C7.69461 17.073 7.58418 16.9987 7.49146 16.905L0.291276 9.66962C0.198683 9.57651 0.125336 9.46608 0.0754228 9.34463C0.0255091 9.22317 6.0504e-06 9.09308 0.000370053 8.96177C0.000734056 8.83046 0.026958 8.70051 0.0775442 8.57933C0.12813 8.45816 0.202088 8.34813 0.295196 8.25554C0.388303 8.16295 0.498736 8.0896 0.620189 8.03969C0.741643 7.98977 0.871738 7.96427 1.00305 7.96463C1.13436 7.965 1.26431 7.99122 1.38548 8.04181C1.50666 8.09239 1.61668 8.16635 1.70928 8.25946L8.2542 14.8366L24.3499 1.04169C24.5511 0.869196 24.8126 0.783711 25.0769 0.80404C25.3412 0.824369 25.5866 0.948847 25.759 1.15009C25.9315 1.35133 26.017 1.61286 25.9967 1.87713C25.9764 2.1414 25.8519 2.38678 25.6506 2.55927L8.85085 16.9587C8.67 17.1145 8.43917 17.2001 8.20046 17.1999Z"}))}function wr(e){var t=e.size,r=e.className,a=e.style,i=e.ariaLabel,o=Wt(Kn("camera-bold-icon",r),1)[0];return n.default.createElement("svg",{width:t,height:t,viewBox:"0 0 48 48",xmlns:"http://www.w3.org/2000/svg",className:"wxc-icon ".concat(o),style:a,"aria-label":i},n.default.createElement("path",{d:"M43.5779 13.9478C43.1434 13.6776 42.6468 13.5236 42.1358 13.5006C41.6247 13.4775 41.1162 13.5861 40.6592 13.8159C40.613 13.8394 40.5684 13.8643 40.5244 13.8921L36.0039 16.7672V15.001C36.0016 13.0126 35.2106 11.1063 33.8046 9.70026C32.3986 8.29424 30.4923 7.50331 28.5039 7.50098H10.5039C8.5155 7.50331 6.6092 8.29424 5.20319 9.70026C3.79717 11.1063 3.00624 13.0126 3.00391 15.001V33.001C3.00624 34.9894 3.79717 36.8957 5.20318 38.3017C6.6092 39.7077 8.5155 40.4986 10.5039 40.501H28.5039C30.4923 40.4986 32.3986 39.7077 33.8046 38.3017C35.2106 36.8957 36.0016 34.9894 36.0039 33.001V31.2338L40.5244 34.107C40.5676 34.1348 40.6123 34.1597 40.6577 34.1832C41.115 34.4121 41.6233 34.5203 42.1342 34.4975C42.6451 34.4747 43.1417 34.3217 43.5768 34.0529C44.012 33.7842 44.3711 33.4087 44.6203 32.962C44.8694 32.5154 45.0002 32.0125 45.0002 31.501V16.4995C45.002 15.9879 44.8722 15.4844 44.6231 15.0375C44.374 14.5906 44.014 14.2153 43.5779 13.9478ZM33.0039 33.001C33.0026 34.1941 32.5281 35.3379 31.6844 36.1815C30.8408 37.0252 29.697 37.4997 28.5039 37.501H10.5039C9.31083 37.4997 8.167 37.0252 7.32336 36.1815C6.47973 35.3379 6.00521 34.1941 6.00391 33.001V15.001C6.00521 13.8079 6.47973 12.6641 7.32336 11.8204C8.167 10.9768 9.31083 10.5023 10.5039 10.501H28.5039C29.697 10.5023 30.8408 10.9768 31.6844 11.8204C32.5281 12.6641 33.0026 13.8079 33.0039 15.001V33.001ZM36.0039 27.6794V20.3222L42.0002 16.5083L42.001 31.4907L36.0039 27.6794Z"}))}function Er(e){var t=e.size,r=e.className,a=e.style,i=Wt(Kn("camera-icon",r),1)[0];return n.default.createElement("svg",{width:t,height:t,viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",className:"wxc-icon ".concat(i),style:a},n.default.createElement("path",{d:"M21.7866 6.97363C21.5696 6.83826 21.3213 6.76108 21.0658 6.74954C20.8102 6.73799 20.556 6.79247 20.3276 6.90771C20.3048 6.91926 20.2825 6.93197 20.261 6.9458L18 8.38299V7.50024C17.9988 6.50604 17.6034 5.55289 16.9004 4.84988C16.1974 4.14687 15.2442 3.75141 14.25 3.75024H5.25C4.2558 3.75141 3.30265 4.14688 2.59964 4.84989C1.89663 5.55289 1.50117 6.50604 1.5 7.50024V16.5002C1.50117 17.4944 1.89663 18.4476 2.59964 19.1506C3.30265 19.8536 4.2558 20.2491 5.25 20.2502H14.25C15.2442 20.2491 16.1974 19.8536 16.9004 19.1506C17.6034 18.4476 17.9988 17.4944 18 16.5002V15.616L20.261 17.0532C20.2821 17.0671 20.3041 17.0795 20.3269 17.0905C20.5555 17.2051 20.8097 17.2593 21.0651 17.248C21.3206 17.2366 21.569 17.1601 21.7865 17.0257C22.0041 16.8913 22.1837 16.7035 22.3082 16.4801C22.4326 16.2567 22.4979 16.0052 22.4978 15.7495V8.24948C22.4987 7.99366 22.4338 7.74192 22.3092 7.51847C22.1847 7.29502 22.0047 7.10739 21.7866 6.97363ZM16.5 16.5002C16.4993 17.0968 16.2621 17.6687 15.8403 18.0905C15.4185 18.5123 14.8465 18.7496 14.25 18.7502H5.25C4.65346 18.7496 4.08155 18.5123 3.65973 18.0905C3.23792 17.6687 3.00065 17.0968 3 16.5002V7.50024C3.00065 6.90371 3.23791 6.33179 3.65973 5.90997C4.08154 5.48816 4.65346 5.2509 5.25 5.25024H14.25C14.8465 5.2509 15.4185 5.48816 15.8403 5.90997C16.2621 6.33179 16.4993 6.90371 16.5 7.50024V16.5002ZM18 13.8392V10.1598L20.9978 8.25464L20.9993 15.7451L18 13.8392Z",fillOpacity:"0.95"}),n.default.createElement("path",{d:"M6.75 10.5001C7.57843 10.5001 8.25 9.82849 8.25 9.00006C8.25 8.17163 7.57843 7.50006 6.75 7.50006C5.92157 7.50006 5.25 8.17163 5.25 9.00006C5.25 9.82849 5.92157 10.5001 6.75 10.5001Z"}),n.default.createElement("path",{className:"accent",d:"M6.75 10.5001C7.57843 10.5001 8.25 9.82849 8.25 9.00006C8.25 8.17163 7.57843 7.50006 6.75 7.50006C5.92157 7.50006 5.25 8.17163 5.25 9.00006C5.25 9.82849 5.92157 10.5001 6.75 10.5001Z"}))}function Nr(e){var t=e.size,r=e.className,a=e.style,i=Wt(Kn("camera-muted-icon",r),1)[0];return n.default.createElement("svg",{width:t,height:t,viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",className:"wxc-icon ".concat(i),style:a},n.default.createElement("path",{d:"M21.787 6.97387C21.5698 6.8388 21.3215 6.76181 21.0659 6.75027C20.8104 6.73872 20.5562 6.79302 20.3276 6.90795C20.3046 6.91967 20.2822 6.93212 20.2603 6.94603L18 8.38359V7.50048C17.9988 6.50627 17.6034 5.55313 16.9004 4.85012C16.1974 4.14711 15.2442 3.75165 14.25 3.75048H5.25C5.11281 3.75275 4.97587 3.7629 4.83985 3.78087L3.52846 2.46947C3.38783 2.32883 3.19708 2.24982 2.99819 2.24982C2.79929 2.24982 2.60855 2.32882 2.46791 2.46946C2.32727 2.6101 2.24825 2.80085 2.24825 2.99974C2.24825 3.19863 2.32726 3.38938 2.4679 3.53002L20.4683 21.53C20.6089 21.6707 20.7996 21.7497 20.9985 21.7497C21.1974 21.7497 21.3882 21.6707 21.5288 21.53C21.6694 21.3894 21.7485 21.1986 21.7485 20.9997C21.7485 20.8009 21.6694 20.6101 21.5288 20.4695L17.9696 16.9104C17.9876 16.7745 17.9977 16.6376 18 16.5005V15.6169L20.2603 17.0535C20.2819 17.0674 20.3042 17.0799 20.3269 17.0916C20.5556 17.206 20.8097 17.2601 21.0651 17.2488C21.3206 17.2374 21.5689 17.1608 21.7865 17.0265C22.004 16.8921 22.1836 16.7043 22.3082 16.481C22.4327 16.2577 22.4981 16.0062 22.4982 15.7505V8.24976C22.4991 7.99393 22.4341 7.74218 22.3096 7.51872C22.185 7.29527 22.0051 7.10763 21.787 6.97387ZM6.30947 5.25048H14.25C14.8465 5.25113 15.4185 5.48839 15.8403 5.91021C16.2621 6.33202 16.4993 6.90394 16.5 7.50048V15.4407L6.30947 5.25048ZM18 13.8397V10.1611L20.9982 8.25414L20.9985 15.7454L18 13.8397Z"}),n.default.createElement("path",{d:"M14.25 18.7505H5.25C4.65346 18.7498 4.08154 18.5126 3.65973 18.0907C3.23791 17.6689 3.00065 17.097 3 16.5005V7.50048C3.00255 7.13381 3.09586 6.77347 3.27159 6.45165L2.17928 5.35933C1.73774 5.98606 1.50051 6.73384 1.5 7.50048V16.5005C1.50117 17.4947 1.89663 18.4478 2.59964 19.1508C3.30265 19.8538 4.2558 20.2493 5.25 20.2505H14.25C15.0167 20.2499 15.7645 20.0126 16.3912 19.5711L15.299 18.4788C14.9771 18.6546 14.6167 18.7479 14.25 18.7505Z"}))}function xr(e){var t=e.size,r=e.className,a=e.style;return n.default.createElement("svg",{width:t,height:t,viewBox:"0 0 36 36",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"wxc-icon ".concat(r),style:a},n.default.createElement("path",{d:"M28.7871 9.72433C28.562 9.58573 28.3044 9.50895 28.0402 9.50176C27.7759 9.49456 27.5145 9.55719 27.2822 9.68333L23.5 12.088V10.0007C23.4987 8.80766 23.0242 7.66382 22.1805 6.82018C21.3369 5.97655 20.1931 5.50203 19 5.50073H7C5.80692 5.50203 4.66308 5.97655 3.81945 6.82018C2.97582 7.66382 2.5013 8.80766 2.5 10.0007V22.0007C2.5013 23.1938 2.97582 24.3376 3.81945 25.1813C4.66308 26.0249 5.80692 26.4994 7 26.5007H19C20.1931 26.4994 21.3369 26.0249 22.1805 25.1813C23.0241 24.3376 23.4987 23.1938 23.5 22.0007V19.9107L27.3271 22.3413C27.5357 22.446 27.7657 22.5008 27.999 22.5013C28.3966 22.5 28.7775 22.3414 29.0584 22.06C29.3394 21.7787 29.4975 21.3976 29.4983 21V11C29.4992 10.7442 29.4343 10.4925 29.3097 10.2691C29.1852 10.0456 29.0052 9.85804 28.7871 9.72433Z"}))}function Mr(e){var t=e.className,r=e.style,a=Wt(Kn("camera-issue-icon",t),1)[0];return n.default.createElement("svg",{width:"96",height:"88",viewBox:"0 0 96 88",xmlns:"http://www.w3.org/2000/svg",className:"wxc-icon ".concat(a),style:r},n.default.createElement("path",{d:"M21.8643 54.3002V64.2002M5.86426 51.2002V10.2002C5.86426 5.8002 9.46426 2.2002 13.8643 2.2002H61.8643C66.2643 2.2002 69.8643 5.8002 69.8643 10.2002V21.3002C69.8643 22.1002 70.7643 22.6002 71.4643 22.1002L90.6643 9.3002C91.9643 8.4002 93.7643 9.4002 93.7643 11.0002V57.5002C93.7643 59.1002 91.9643 60.1002 90.6643 59.2002L71.3643 46.3002C70.6643 45.9002 69.7643 46.3002 69.7643 47.1002V58.2002C69.7643 62.6002 66.1643 66.2002 61.7643 66.2002H39.0643C38.3643 66.2002 37.6643 65.8002 37.2643 65.1002L27.0643 45.9002C24.7643 41.7002 18.7643 41.7002 16.5643 45.9002L2.66426 71.4002C0.46426 75.4002 3.36426 80.3002 7.96426 80.3002H36.8643C39.0643 80.3002 40.8643 78.5002 40.8643 76.3002C40.8643 74.1002 39.0643 72.3002 36.8643 72.3002C28.8643 72.3002 21.8643 86.3002 21.8643 86.3002",stroke:"url(#wxc-icon--camera-issue)",strokeWidth:"2.5",strokeMiterlimit:"10",strokeLinecap:"round",strokeLinejoin:"round"}),n.default.createElement("defs",null,n.default.createElement("linearGradient",{id:"wxc-icon--camera-issue",x1:"47.8392",y1:"2.2002",x2:"47.8392",y2:"86.3002",gradientUnits:"userSpaceOnUse"},n.default.createElement("stop",{stopColor:"var(--wxc-icon--error--gradient-start-color)"}),n.default.createElement("stop",{offset:"1",stopColor:"var(--wxc-icon--error--gradient-stop-color)"}))))}function Ir(e){var t=e.size,r=e.className,a=e.style;return n.default.createElement("svg",{width:t,height:t,viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",className:"wxc-icon ".concat(r),style:a},n.default.createElement("path",{d:"M13.0596 11.9998L19.2794 5.78001C19.349 5.71038 19.4042 5.6277 19.4419 5.53672C19.4796 5.44573 19.499 5.34822 19.499 5.24974C19.499 5.15126 19.4796 5.05374 19.4419 4.96276C19.4042 4.87177 19.349 4.7891 19.2793 4.71947C19.2097 4.64983 19.127 4.5946 19.036 4.55691C18.945 4.51923 18.8475 4.49983 18.7491 4.49983C18.6506 4.49984 18.5531 4.51924 18.4621 4.55692C18.3711 4.59461 18.2884 4.64985 18.2188 4.71949L11.999 10.9392L5.77929 4.71949C5.70979 4.64921 5.62709 4.59335 5.53594 4.55514C5.44478 4.51692 5.34697 4.49711 5.24813 4.49683C5.14929 4.49655 5.05137 4.51581 4.96 4.55351C4.86863 4.59121 4.78562 4.64659 4.71573 4.71648C4.64584 4.78638 4.59045 4.8694 4.55276 4.96077C4.51507 5.05214 4.49581 5.15006 4.4961 5.2489C4.49638 5.34774 4.5162 5.44555 4.55442 5.5367C4.59264 5.62786 4.6485 5.71055 4.71879 5.78004L10.9385 11.9998L4.71879 18.2195C4.64915 18.2892 4.59391 18.3718 4.55622 18.4628C4.51853 18.5538 4.49914 18.6513 4.49914 18.7498C4.49914 18.8483 4.51853 18.9458 4.55622 19.0368C4.59391 19.1278 4.64915 19.2105 4.71878 19.2801C4.78842 19.3497 4.87109 19.405 4.96207 19.4427C5.05306 19.4803 5.15057 19.4997 5.24906 19.4997C5.34754 19.4997 5.44505 19.4803 5.53604 19.4427C5.62702 19.405 5.70969 19.3497 5.77933 19.2801L11.9991 13.0603L18.2188 19.2801C18.3595 19.4207 18.5502 19.4997 18.7491 19.4997C18.948 19.4997 19.1387 19.4207 19.2794 19.2801C19.42 19.1395 19.499 18.9487 19.499 18.7498C19.499 18.5509 19.42 18.3602 19.2794 18.2195L13.0596 11.9998Z",fillOpacity:"0.95"}))}function Tr(e){var t=e.size,r=e.className,a=e.style;return n.default.createElement("svg",{width:t,height:t,viewBox:"0 0 32 32",xmlns:"http://www.w3.org/2000/svg",className:"wxc-icon ".concat(r),style:a},n.default.createElement("path",{d:"M15.9989 3.5C13.7548 3.5003 11.552 4.1047 9.62198 5.24976C7.69191 6.39481 6.10565 8.03831 5.02971 10.0077C3.95376 11.9772 3.4278 14.1999 3.50702 16.4427C3.58624 18.6855 4.26772 20.8656 5.47995 22.7542C5.33614 23.4793 5.0456 24.1674 4.62617 24.7762C4.20675 25.3849 3.66729 25.9015 3.04095 26.2942C2.42715 26.6975 2.41695 27.1965 2.61225 27.5295C2.98135 28.1604 4.35685 28.51 6.02095 28.51C7.73977 28.5206 9.44103 28.164 11.0109 27.4641C12.7145 28.2053 14.5618 28.5575 16.4185 28.4951C18.2752 28.4328 20.0947 27.9573 21.7446 27.1034C23.3945 26.2495 24.8334 25.0386 25.9565 23.5587C27.0797 22.0789 27.8589 20.3673 28.2374 18.5485C28.616 16.7297 28.5844 14.8494 28.145 13.0443C27.7056 11.2393 26.8695 9.55483 25.6973 8.11351C24.5251 6.6722 23.0464 5.51027 21.3688 4.71221C19.6912 3.91415 17.8567 3.50004 15.9989 3.5Z"}))}function Or(e){var t=e.size,r=e.className,a=e.style;return n.default.createElement("svg",{width:t,height:t,viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"wxc-icon ".concat(r),style:a},n.default.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M16 29.5C23.4558 29.5 29.5 23.4558 29.5 16C29.5 8.54416 23.4558 2.5 16 2.5C8.54416 2.5 2.5 8.54416 2.5 16C2.5 23.4558 8.54416 29.5 16 29.5ZM10 15C9.44772 15 9 15.4477 9 16C9 16.5523 9.44772 17 10 17H22C22.5523 17 23 16.5523 23 16C23 15.4477 22.5523 15 22 15H10Z"}))}function Sr(e){var t=e.size,r=e.className,a=e.style;return n.default.createElement("svg",{width:t,height:t,viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",className:"wxc-icon ".concat(r),style:a},n.default.createElement("path",{d:"M13.9063 14.0264V14.8436C13.9063 14.9679 13.9556 15.0872 14.0436 15.1751C14.1315 15.263 14.2507 15.3124 14.375 15.3124C14.4993 15.3124 14.6186 15.263 14.7065 15.1751C14.7944 15.0872 14.8438 14.9679 14.8438 14.8436V14.0264C14.8438 13.902 14.7944 13.7828 14.7065 13.6949C14.6186 13.607 14.4993 13.5576 14.375 13.5576C14.2507 13.5576 14.1315 13.607 14.0436 13.6949C13.9556 13.7828 13.9063 13.902 13.9063 14.0264Z"}),n.default.createElement("path",{d:"M14.3749 16.8751C14.6338 16.8751 14.8437 16.6652 14.8437 16.4063C14.8437 16.1474 14.6338 15.9376 14.3749 15.9376C14.116 15.9376 13.9062 16.1474 13.9062 16.4063C13.9062 16.6652 14.116 16.8751 14.3749 16.8751Z"}),n.default.createElement("path",{d:"M18.5864 16.8822L15.47 11.2559L15.4627 11.2437C15.352 11.0541 15.1934 10.897 15.0028 10.7881C14.8122 10.6792 14.5962 10.6225 14.3767 10.6236C14.1572 10.6247 13.9418 10.6837 13.7523 10.7944C13.5628 10.9052 13.4058 11.064 13.2971 11.2547L10.1703 16.87C10.0596 17.06 10.001 17.2758 10.0004 17.4957C9.99972 17.7156 10.0571 17.9318 10.1666 18.1224C10.2762 18.3131 10.4341 18.4715 10.6244 18.5816C10.8147 18.6918 11.0307 18.7498 11.2506 18.7498H17.4994C17.7181 18.7498 17.933 18.6924 18.1225 18.5834C18.3121 18.4744 18.4698 18.3175 18.5798 18.1285C18.6898 17.9395 18.7483 17.7249 18.7495 17.5062C18.7507 17.2875 18.6944 17.0724 18.5864 16.8822ZM11.2567 17.4889L14.3817 11.8712L17.4994 17.4999L11.2567 17.4889Z"}),n.default.createElement("path",{d:"M12.1521 8.89943C11.85 8.75608 11.539 8.63255 11.2209 8.52964C11.8951 8.01306 12.3905 7.29813 12.6373 6.4854C12.8842 5.67266 12.8701 4.803 12.597 3.9987C12.3239 3.1944 11.8056 2.49591 11.115 2.00147C10.4243 1.50702 9.59608 1.24148 8.74668 1.24219C7.89729 1.2429 7.06948 1.50982 6.37966 2.00542C5.68984 2.50102 5.17271 3.20036 4.90099 4.00512C4.62926 4.80988 4.6166 5.67956 4.8648 6.49188C5.113 7.3042 5.60957 8.0183 6.28468 8.53376C3.38856 9.50126 1.25 12.0943 1.25 15.0573C1.25 17.6024 4.94688 18.6382 8.11218 18.7511C8.12012 18.7517 8.12745 18.7517 8.13538 18.7517C8.29903 18.7515 8.45604 18.687 8.57267 18.5722C8.68931 18.4574 8.75626 18.3015 8.75914 18.1378C8.76201 17.9742 8.70059 17.816 8.58806 17.6972C8.47554 17.5783 8.32089 17.5084 8.15735 17.5024C4.87915 17.3846 2.5 16.3567 2.5 15.0573C2.5 11.9769 5.36194 9.37493 8.75 9.37493C9.73994 9.37189 10.7176 9.59417 11.6089 10.0249C11.6828 10.0608 11.7631 10.0818 11.8452 10.0867C11.9272 10.0915 12.0094 10.0801 12.0871 10.0531C12.1647 10.0262 12.2363 9.98413 12.2976 9.92945C12.359 9.87477 12.409 9.80852 12.4447 9.7345C12.4804 9.66048 12.5012 9.58013 12.5058 9.49806C12.5105 9.416 12.4989 9.33383 12.4717 9.25626C12.4445 9.17869 12.4023 9.10724 12.3474 9.04601C12.2926 8.98478 12.2262 8.93497 12.1521 8.89943ZM5.93751 5.31237C5.93751 4.75611 6.10246 4.21234 6.4115 3.74982C6.72054 3.28731 7.15979 2.92683 7.67371 2.71395C8.18763 2.50108 8.75313 2.44539 9.2987 2.55391C9.84427 2.66243 10.3454 2.93029 10.7387 3.32363C11.1321 3.71696 11.3999 4.2181 11.5085 4.76367C11.617 5.30925 11.5613 5.87475 11.3484 6.38866C11.1355 6.90258 10.7751 7.34183 10.3125 7.65087C9.85004 7.95992 9.30627 8.12487 8.75001 8.12487C8.00434 8.12405 7.28944 7.82747 6.76217 7.3002C6.2349 6.77293 5.93832 6.05804 5.93751 5.31237Z"}))}function Dr(e){var t=e.size,r=e.className,a=e.style;return n.default.createElement("svg",{width:t,height:t,viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",className:"wxc-icon ".concat(r),style:a},n.default.createElement("path",{d:"M6.99995 9.99994C4.5268 9.99994 2.3725 7.81782 1.65229 6.99994C2.15704 6.42834 2.71634 5.90733 3.32224 5.44431L2.60636 4.72843C1.86421 5.30392 1.19185 5.96417 0.602972 6.69575C0.536227 6.78311 0.500068 6.89 0.500068 6.99995C0.500068 7.10989 0.536227 7.21678 0.602972 7.30414C0.718697 7.45502 3.47407 10.9999 6.99997 10.9999C7.55129 10.995 8.09898 10.9102 8.62592 10.7479L7.80012 9.92219C7.53627 9.9721 7.26847 9.99812 6.99995 9.99994Z"}),n.default.createElement("path",{d:"M13.3535 12.6464L10.5634 9.85639C11.6385 9.16289 12.5952 8.30116 13.3969 7.30414C13.4637 7.21678 13.4998 7.10989 13.4998 6.99995C13.4998 6.89 13.4637 6.78311 13.3969 6.69575C13.2812 6.54487 10.5249 2.99994 6.99995 2.99994C6.08 3.0149 5.17496 3.23482 4.35072 3.64369L1.35346 0.64643C1.30704 0.600006 1.25192 0.56318 1.19127 0.538056C1.13061 0.512931 1.0656 0.5 0.999946 0.5C0.934292 0.5 0.869281 0.512932 0.808624 0.538057C0.747968 0.563182 0.692854 0.600008 0.64643 0.646433C0.552672 0.740191 0.5 0.867355 0.5 0.999949C0.5 1.13254 0.552674 1.25971 0.646432 1.35347L3.43632 4.14335L3.43571 4.14371L4.16773 4.87571L4.16834 4.87535L8.89176 9.59877L8.89109 9.59907L9.64836 10.3564L9.64904 10.3561L12.6464 13.3535C12.6928 13.3999 12.748 13.4367 12.8086 13.4618C12.8693 13.487 12.9343 13.4999 12.9999 13.4999C13.0656 13.4999 13.1306 13.487 13.1913 13.4618C13.2519 13.4367 13.307 13.3999 13.3534 13.3535C13.3999 13.307 13.4367 13.2519 13.4618 13.1913C13.4869 13.1306 13.4999 13.0656 13.4999 12.9999C13.4999 12.9343 13.4869 12.8693 13.4618 12.8086C13.4367 12.748 13.3999 12.6929 13.3535 12.6464ZM5.1092 4.40219C5.70715 4.14599 6.34949 4.00935 6.99995 3.99996C9.47358 3.99996 11.6279 6.18307 12.3481 7.00046C11.6206 7.83062 10.7728 8.5471 9.83305 9.12604L5.1092 4.40219Z"}))}function kr(e){var t=e.size,r=e.className,a=e.style;return n.default.createElement("svg",{width:t,height:t,viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"wxc-icon ".concat(r),style:a},n.default.createElement("path",{d:"M4.5 13.75V24.75C4.50132 25.9431 4.97585 27.0869 5.81948 27.9305C6.66311 28.7741 7.80693 29.2487 9 29.25H23C24.1931 29.2487 25.3369 28.7742 26.1805 27.9305C27.0242 27.0869 27.4987 25.9431 27.5 24.75V13.75H4.5Z"}),n.default.createElement("path",{d:"M23 6.25V3.75C23 3.48478 22.8946 3.23043 22.7071 3.04289C22.5196 2.85536 22.2652 2.75 22 2.75C21.7348 2.75 21.4804 2.85536 21.2929 3.04289C21.1054 3.23043 21 3.48478 21 3.75V6.25H11V3.75C11 3.48478 10.8946 3.23043 10.7071 3.04289C10.5196 2.85536 10.2652 2.75 10 2.75C9.73478 2.75 9.48043 2.85536 9.29289 3.04289C9.10536 3.23043 9 3.48478 9 3.75V6.25C7.80692 6.2513 6.66308 6.72582 5.81945 7.56945C4.97582 8.41308 4.5013 9.55692 4.5 10.75V11.75H27.5V10.75C27.4987 9.55692 27.0242 8.41308 26.1805 7.56945C25.3369 6.72582 24.1931 6.2513 23 6.25Z"}))}function Lr(e){var t=e.size,r=e.className,a=e.style,i=e.ariaLabel,o=Wt(Kn("microphone-bold-icon",r),1)[0];return n.default.createElement("svg",{width:t,height:t,viewBox:"0 0 48 48",xmlns:"http://www.w3.org/2000/svg",className:"wxc-icon ".concat(o),style:a,"aria-label":i},n.default.createElement("path",{d:"M36.0039 41.9996H33.0354C31.2654 42.0434 29.5395 41.4436 28.178 40.3117C26.8165 39.1797 25.9119 37.5923 25.6318 35.844C27.699 35.4611 29.5672 34.3674 30.9128 32.7522C32.2585 31.1369 32.9969 29.102 33.0002 26.9996V11.9996C33.0002 9.61269 32.052 7.3235 30.3642 5.63567C28.6764 3.94785 26.3872 2.99963 24.0002 2.99963C21.6133 2.99963 19.3241 3.94785 17.6363 5.63567C15.9485 7.3235 15.0002 9.61269 15.0002 11.9996V26.9996C15.0039 29.1419 15.7712 31.2126 17.1642 32.8401C18.5572 34.4676 20.4847 35.5452 22.6007 35.8795C22.8833 38.1993 23.9408 40.3558 25.6018 41.9996H12.0039C11.6061 41.9996 11.2246 42.1577 10.9432 42.439C10.6619 42.7203 10.5039 43.1018 10.5039 43.4996C10.5039 43.8975 10.6619 44.279 10.9432 44.5603C11.2246 44.8416 11.6061 44.9996 12.0039 44.9996H36.0039C36.4017 44.9996 36.7833 44.8416 37.0646 44.5603C37.3459 44.279 37.5039 43.8975 37.5039 43.4996C37.5039 43.1018 37.3459 42.7203 37.0646 42.439C36.7833 42.1577 36.4017 41.9996 36.0039 41.9996ZM18.0002 26.9996V11.9996C18.0002 10.4083 18.6324 8.88217 19.7576 7.75695C20.8828 6.63173 22.4089 5.99959 24.0002 5.99959C25.5915 5.99959 27.1177 6.63173 28.2429 7.75695C29.3681 8.88217 30.0002 10.4083 30.0002 11.9996V26.9996C30.0002 28.5909 29.3681 30.117 28.2429 31.2422C27.1177 32.3674 25.5915 32.9996 24.0002 32.9996C22.4089 32.9996 20.8828 32.3674 19.7576 31.2422C18.6324 30.117 18.0002 28.5909 18.0002 26.9996Z"}))}function Ar(e){var t=e.className,r=e.style,a=Wt(Kn("microphone-issue-icon",t),1)[0];return n.default.createElement("svg",{width:"62",height:"91",viewBox:"0 0 62 91",xmlns:"http://www.w3.org/2000/svg",className:"wxc-icon ".concat(a),style:r},n.default.createElement("path",{d:"M25.8672 65.2V69.2001C25.8672 80.2001 34.8672 89.2001 45.8672 89.2001M25.8672 65.2C32.4336 65.2 38.1092 61.1912 40.5672 55.5M25.8672 65.2C13.0672 65.2 9.86719 55.5 9.86719 49.3V17.3C9.86719 8.50005 17.0672 1.30005 25.8672 1.30005C34.2297 1.30005 41.1473 7.80188 41.8145 16M49.8672 89.2001H1.86719M40.9514 28.55V38.45M56.3514 39.35L46.1514 20.15C43.8514 15.95 37.8514 15.95 35.6514 20.15L21.7514 45.6501C19.5514 49.65 22.4514 54.5501 27.0514 54.5501H40.7456M40.7456 54.5501H55.9514C58.1514 54.5501 59.9514 52.7501 59.9514 50.5501C59.9514 48.3501 58.1514 46.5501 55.9514 46.5501C46.1033 46.5501 41.7664 52.8008 40.7456 54.5501ZM40.7456 54.5501C40.5795 54.8346 40.5012 55 40.5012 55",stroke:"url(#wxc-icon--microphone-issue)",strokeWidth:"2.5",strokeMiterlimit:"10",strokeLinecap:"round",strokeLinejoin:"round"}),n.default.createElement("defs",null,n.default.createElement("linearGradient",{id:"wxc-icon--microphone-issue",x1:"30.9093",y1:"1.30005",x2:"30.9093",y2:"89.2001",gradientUnits:"userSpaceOnUse"},n.default.createElement("stop",{stopColor:"var(--wxc-icon--error--gradient-start-color)"}),n.default.createElement("stop",{offset:"1",stopColor:"var(--wxc-icon--error--gradient-stop-color)"}))))}function Pr(e){var t=e.size,r=e.className,a=e.style;return n.default.createElement("svg",{width:t,height:t,viewBox:"0 0 14 4",xmlns:"http://www.w3.org/2000/svg",className:"wxc-icon ".concat(r),style:a},n.default.createElement("path",{d:"M7 3.125C7.62132 3.125 8.125 2.62132 8.125 2C8.125 1.37868 7.62132 0.875 7 0.875C6.37868 0.875 5.875 1.37868 5.875 2C5.875 2.62132 6.37868 3.125 7 3.125Z",fillOpacity:"0.95"}),n.default.createElement("path",{d:"M1.375 3.125C1.99632 3.125 2.5 2.62132 2.5 2C2.5 1.37868 1.99632 0.875 1.375 0.875C0.75368 0.875 0.25 1.37868 0.25 2C0.25 2.62132 0.75368 3.125 1.375 3.125Z",fillOpacity:"0.95"}),n.default.createElement("path",{d:"M12.625 3.125C13.2463 3.125 13.75 2.62132 13.75 2C13.75 1.37868 13.2463 0.875 12.625 0.875C12.0037 0.875 11.5 1.37868 11.5 2C11.5 2.62132 12.0037 3.125 12.625 3.125Z",fillOpacity:"0.95"}))}function Rr(e){var t=e.size,r=e.className,a=e.style;return n.default.createElement("svg",{width:t,height:t,viewBox:"0 0 4 14",xmlns:"http://www.w3.org/2000/svg",className:"wxc-icon ".concat(r),style:a},n.default.createElement("path",{d:"M2 8.125C2.62132 8.125 3.125 7.62132 3.125 7C3.125 6.37868 2.62132 5.875 2 5.875C1.37868 5.875 0.875 6.37868 0.875 7C0.875 7.62132 1.37868 8.125 2 8.125Z",fillOpacity:"0.95"}),n.default.createElement("path",{d:"M2 13.75C2.62132 13.75 3.125 13.2463 3.125 12.625C3.125 12.0037 2.62132 11.5 2 11.5C1.37868 11.5 0.875 12.0037 0.875 12.625C0.875 13.2463 1.37868 13.75 2 13.75Z",fillOpacity:"0.95"}),n.default.createElement("path",{d:"M2 2.5C2.62132 2.5 3.125 1.99632 3.125 1.375C3.125 0.75368 2.62132 0.25 2 0.25C1.37868 0.25 0.875 0.75368 0.875 1.375C0.875 1.99632 1.37868 2.5 2 2.5Z",fillOpacity:"0.95"}))}function _r(e){var t=e.size,r=e.className,a=e.style;return n.default.createElement("svg",{width:t,height:t,viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",className:"wxc-icon ".concat(r),style:a},n.default.createElement("path",{d:"M13.5 15.7502C13.5 15.8487 13.5194 15.9462 13.557 16.0372C13.5947 16.1282 13.65 16.2109 13.7196 16.2806C13.7893 16.3502 13.872 16.4054 13.963 16.4431C14.054 16.4808 14.1515 16.5002 14.25 16.5002H21.75C21.9489 16.5002 22.1397 16.4211 22.2803 16.2805C22.421 16.1398 22.5 15.9491 22.5 15.7502C22.5 15.5513 22.421 15.3605 22.2803 15.2198C22.1397 15.0792 21.9489 15.0002 21.75 15.0002H14.25C14.1515 15.0001 14.054 15.0195 13.963 15.0572C13.872 15.0949 13.7893 15.1501 13.7196 15.2198C13.65 15.2894 13.5947 15.3721 13.557 15.4631C13.5194 15.5541 13.5 15.6517 13.5 15.7502Z",fillOpacity:"0.95"}),n.default.createElement("path",{d:"M21.75 18.0002H14.25C14.0511 18.0002 13.8603 18.0792 13.7197 18.2198C13.579 18.3605 13.5 18.5513 13.5 18.7502C13.5 18.9491 13.579 19.1398 13.7197 19.2805C13.8603 19.4211 14.0511 19.5002 14.25 19.5002H21.75C21.9489 19.5002 22.1397 19.4211 22.2803 19.2805C22.421 19.1398 22.5 18.9491 22.5 18.7502C22.5 18.5513 22.421 18.3605 22.2803 18.2198C22.1397 18.0792 21.9489 18.0002 21.75 18.0002Z",fillOpacity:"0.95"}),n.default.createElement("path",{d:"M21.75 21.0002H14.25C14.0511 21.0002 13.8603 21.0792 13.7197 21.2198C13.579 21.3605 13.5 21.5513 13.5 21.7502C13.5 21.9491 13.579 22.1398 13.7197 22.2805C13.8603 22.4211 14.0511 22.5002 14.25 22.5002H21.75C21.9489 22.5002 22.1397 22.4211 22.2803 22.2805C22.421 22.1398 22.5 21.9491 22.5 21.7502C22.5 21.5513 22.421 21.3605 22.2803 21.2198C22.1397 21.0792 21.9489 21.0002 21.75 21.0002Z",fillOpacity:"0.95"}),n.default.createElement("path",{d:"M11.2215 20.9819C7.8644 21.102 4.78237 20.3864 3.54933 19.1977C3.38278 19.0559 3.24783 18.8808 3.15321 18.6836C3.05859 18.4864 3.0064 18.2715 3.00002 18.0529C3.00002 14.3651 6.43471 11.2502 10.5 11.2502C12.2316 11.2486 13.9158 11.816 15.2933 12.8652C15.3714 12.9253 15.4606 12.9694 15.5558 12.995C15.6509 13.0207 15.7502 13.0273 15.8479 13.0146C15.9457 13.0018 16.0399 12.9699 16.1253 12.9207C16.2107 12.8715 16.2856 12.806 16.3456 12.7278C16.4057 12.6497 16.4497 12.5605 16.4753 12.4653C16.5008 12.3701 16.5074 12.2708 16.4945 12.1731C16.4817 12.0754 16.4497 11.9812 16.4005 11.8958C16.3512 11.8105 16.2856 11.7357 16.2074 11.6757C15.3811 11.0438 14.4545 10.5554 13.4662 10.2309C14.274 9.60983 14.8669 8.75123 15.1616 7.77579C15.4562 6.80034 15.4378 5.75709 15.109 4.79263C14.7801 3.82818 14.1573 2.99101 13.3281 2.39878C12.4989 1.80655 11.505 1.48904 10.486 1.49085C9.46701 1.49267 8.47422 1.81373 7.64713 2.40891C6.82004 3.00409 6.20023 3.84348 5.87481 4.8091C5.5494 5.77472 5.53473 6.81804 5.83288 7.79243C6.13102 8.76681 6.72699 9.62329 7.53702 10.2415C4.06398 11.4015 1.5 14.5058 1.5 18.0529C1.50654 18.473 1.59942 18.8872 1.77286 19.2699C1.9463 19.6525 2.19659 19.9954 2.50818 20.2773C4.21143 21.9194 7.62121 22.4943 10.504 22.4943C10.7659 22.4943 11.024 22.4899 11.2756 22.4804C11.3741 22.4769 11.4709 22.454 11.5604 22.4131C11.65 22.3722 11.7307 22.3141 11.7978 22.242C11.8649 22.1698 11.9171 22.0852 11.9515 21.9929C11.9859 21.9006 12.0018 21.8025 11.9982 21.704C11.9959 21.6052 11.9739 21.5078 11.9334 21.4176C11.8928 21.3275 11.8347 21.2463 11.7622 21.179C11.6898 21.1117 11.6047 21.0595 11.5118 21.0257C11.4189 20.9918 11.3202 20.9769 11.2215 20.9819ZM10.4945 3.00017C11.162 3.00017 11.8145 3.19811 12.3696 3.56896C12.9246 3.93981 13.3572 4.46691 13.6126 5.08361C13.8681 5.70031 13.9349 6.37891 13.8047 7.0336C13.6744 7.68828 13.353 8.28965 12.881 8.76165C12.409 9.23365 11.8076 9.55509 11.1529 9.68532C10.4983 9.81554 9.81965 9.74871 9.20295 9.49326C8.58625 9.23781 8.05915 8.80523 7.6883 8.25022C7.31745 7.6952 7.11951 7.04268 7.11951 6.37517C7.12049 5.48036 7.47638 4.62248 8.1091 3.98976C8.74183 3.35704 9.5997 3.00114 10.4945 3.00017Z",fillOpacity:"0.95"}))}function jr(e){var t=e.size,r=e.className,a=e.style;return n.default.createElement("svg",{width:t,height:t,viewBox:"0 0 27 28",xmlns:"http://www.w3.org/2000/svg",className:"wxc-icon ".concat(r),style:a},n.default.createElement("path",{d:"M5.39636 5.51583C5.39628 4.42495 5.72487 3.35855 6.34057 2.45148C6.95628 1.54441 7.83146 0.83742 8.85542 0.419919C9.87937 0.00241855 11.0061 -0.106841 12.0932 0.105959C13.1802 0.318758 14.1787 0.84406 14.9625 1.61543C15.7462 2.3868 16.2799 3.36959 16.4961 4.43951C16.7123 5.50944 16.6013 6.61844 16.1771 7.62626C15.7529 8.63409 15.0346 9.49547 14.113 10.1015C13.1914 10.7075 12.108 11.0309 10.9996 11.0308C9.51406 11.0291 8.08984 10.4475 7.0394 9.41363C5.98896 8.37973 5.39807 6.97799 5.39636 5.51583Z"}),n.default.createElement("path",{d:"M15.0761 19.3827C15.0258 19.2614 15 19.1313 15 19C15 18.8687 15.0258 18.7386 15.0761 18.6173C15.1263 18.4959 15.2 18.3857 15.2928 18.2928C15.3857 18.2 15.4959 18.1263 15.6173 18.0761C15.7386 18.0258 15.8687 18 16 18H26C26.2652 18 26.5196 18.1054 26.7071 18.2929C26.8946 18.4804 27 18.7348 27 19C27 19.2652 26.8946 19.5196 26.7071 19.7071C26.5196 19.8946 26.2652 20 26 20H16C15.8687 20 15.7386 19.9742 15.6173 19.924C15.4959 19.8737 15.3857 19.8 15.2928 19.7072C15.2 19.6143 15.1263 19.5041 15.0761 19.3827Z"}),n.default.createElement("path",{d:"M16 22H26C26.2652 22 26.5196 22.1054 26.7071 22.2929C26.8946 22.4804 27 22.7348 27 23C27 23.2652 26.8946 23.5196 26.7071 23.7071C26.5196 23.8946 26.2652 24 26 24H16C15.7348 24 15.4804 23.8946 15.2929 23.7071C15.1054 23.5196 15 23.2652 15 23C15 22.7348 15.1054 22.4804 15.2929 22.2929C15.4804 22.1054 15.7348 22 16 22Z"}),n.default.createElement("path",{d:"M26 26H16C15.7348 26 15.4804 26.1054 15.2929 26.2929C15.1054 26.4804 15 26.7348 15 27C15 27.2652 15.1054 27.5196 15.2929 27.7071C15.4804 27.8946 15.7348 28 16 28H26C26.2652 28 26.5196 27.8946 26.7071 27.7071C26.8946 27.5196 27 27.2652 27 27C27 26.7348 26.8946 26.4804 26.7071 26.2929C26.5196 26.1054 26.2652 26 26 26Z"}),n.default.createElement("path",{d:"M12.0004 27C4.8215 27 0 25.1454 0 23.4115C0 17.671 5.38317 13 11.9996 13C15.2767 13 18.2514 14.1459 20.4194 16H16.4286C14.535 16 13 17.4845 13 19.3158C13 19.9974 13.2127 20.631 13.5774 21.1579C13.2127 21.6848 13 22.3184 13 23C13 23.6816 13.2127 24.3152 13.5774 24.8421C13.2127 25.369 13 26.0026 13 26.6842C13 26.7864 13.0048 26.8876 13.0142 26.9875C12.6818 26.9958 12.3438 27 12.0004 27Z"}))}function Vr(e){var t=e.size,r=e.className,a=e.style;return n.default.createElement("svg",{width:t,height:t,viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"wxc-icon ".concat(r),style:a},n.default.createElement("path",{d:"M28.9659 6.89408C28.4825 6.14577 27.7229 5.61887 26.8527 5.42827C25.9825 5.23767 25.0722 5.39882 24.3204 5.87658L17.8424 10.0135L11.4942 5.90098C11.0818 5.66915 10.6006 5.59112 10.1361 5.68076C9.67159 5.77041 9.25397 6.02193 8.95751 6.39057C8.66104 6.7592 8.50497 7.22106 8.51704 7.69396C8.52912 8.16687 8.70856 8.62016 9.02345 8.97318L12.4289 13.4705L9.52835 15.3227C8.39717 14.4846 7.10631 13.887 5.73535 13.5669C4.94483 13.4124 4.1251 13.5483 3.42675 13.9497C2.44435 14.5806 2.37885 15.2797 2.62495 15.6929L5.38675 20.1929L6.52135 22.1451C6.69097 22.4363 6.91768 22.6903 7.18787 22.8917C7.45807 23.0931 7.76618 23.2379 8.09371 23.3172C8.42124 23.3966 8.76143 23.409 9.09387 23.3537C9.4263 23.2983 9.74413 23.1763 10.0283 22.9951L16.5673 18.8184L17.0283 24.9619C17.0959 25.4311 17.332 25.8596 17.6924 26.1675C18.0529 26.4753 18.5132 26.6415 18.9872 26.6348H19.0019C19.4756 26.644 19.9366 26.4808 20.2991 26.1756C20.6616 25.8704 20.9009 25.444 20.9726 24.9756L22.4626 15.0556L27.9441 11.5556C28.3177 11.3171 28.6406 11.0071 28.8942 10.6436C29.1479 10.28 29.3273 9.87 29.4222 9.43699C29.5171 9.00397 29.5256 8.55649 29.4472 8.12018C29.3689 7.68387 29.2055 7.26702 28.9659 6.89408Z"}))}function Gr(e){var t=e.size,r=e.className,a=e.style;return n.default.createElement("svg",{width:t,height:t,viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"wxc-icon ".concat(r),style:a},n.default.createElement("path",{d:"M29.2414 21.8688C29.0733 21.6091 28.8269 21.4095 28.5379 21.2989C28.2489 21.1883 27.9322 21.1725 27.6335 21.2536C25.6693 21.7741 23.6177 21.8763 21.6115 21.5536C18.8294 21.0615 16.2658 19.726 14.268 17.7282C12.2702 15.7303 10.9348 13.1667 10.4426 10.3845C10.1229 8.37678 10.2287 6.32425 10.7531 4.36002C10.8332 4.06235 10.8167 3.74696 10.7062 3.45921C10.5957 3.17145 10.3968 2.92614 10.1381 2.75852C9.87432 2.57925 9.5604 2.48834 9.2416 2.49887C8.9228 2.5094 8.61557 2.62083 8.36415 2.81712C6.17827 4.51982 4.49968 6.78789 3.51 9.37589C2.52032 11.9639 2.25724 14.7733 2.74925 17.5C3.33601 20.5329 4.85556 23.3068 7.09559 25.434C9.33561 27.5612 12.1842 28.9355 15.2433 29.3649C17.8666 29.7183 20.5366 29.3739 22.9843 28.3665C25.432 27.3591 27.5708 25.7242 29.1852 23.6266C29.3793 23.3772 29.4893 23.0727 29.4994 22.7569C29.5095 22.441 29.4192 22.1301 29.2414 21.8688Z"}))}function zr(e){var t=e.size,r=e.className,a=e.style;return n.default.createElement("svg",{width:t,height:t,viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"wxc-icon ".concat(r),style:a},n.default.createElement("path",{d:"M16 2.5C13.33 2.5 10.7199 3.29176 8.49981 4.77516C6.27974 6.25856 4.54942 8.36697 3.52763 10.8338C2.50585 13.3006 2.2385 16.015 2.7594 18.6337C3.28031 21.2525 4.56606 23.6579 6.45406 25.5459C8.34207 27.434 10.7475 28.7197 13.3663 29.2406C15.985 29.7615 18.6994 29.4942 21.1662 28.4724C23.633 27.4506 25.7414 25.7203 27.2248 23.5002C28.7082 21.2801 29.5 18.67 29.5 16C29.496 12.4208 28.0724 8.98935 25.5415 6.45847C23.0107 3.9276 19.5792 2.504 16 2.5ZM21.707 21.707C21.6142 21.7999 21.504 21.8736 21.3827 21.9238C21.2613 21.9741 21.1313 22 21 22C20.8687 22 20.7387 21.9741 20.6174 21.9238C20.496 21.8736 20.3858 21.7999 20.293 21.707L15.293 16.707C15.2001 16.6142 15.1264 16.504 15.0761 16.3827C15.0259 16.2613 15 16.1313 15 16V8C15 7.73478 15.1054 7.48043 15.2929 7.29289C15.4804 7.10536 15.7348 7 16 7C16.2652 7 16.5196 7.10536 16.7071 7.29289C16.8946 7.48043 17 7.73478 17 8V15.586L21.707 20.293C21.7999 20.3858 21.8735 20.496 21.9238 20.6173C21.974 20.7386 21.9999 20.8686 21.9999 20.9998C21.9999 21.1311 21.974 21.2611 21.9238 21.3824C21.8735 21.5037 21.7999 21.6139 21.707 21.7067V21.707Z"}))}function Ur(e){var t=e.className,r=e.style;return n.default.createElement("svg",{width:"83",height:"73",viewBox:"0 0 83 73",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"wxc-icon ".concat(t),style:r},n.default.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M41.5484 7.89762e-05L41.5574 0C54.5206 3.83854e-05 65.2033 9.6817 66.6228 22.1714C67.3189 22.0675 68.0527 22 68.7943 22C76.7226 22 83.134 28.461 82.9167 36.3772L82.9167 36.3782C82.6989 44.0427 76.2265 50 68.5421 50H51.3929C50.4139 50 49.4654 50.4876 48.8975 51.3134L45.6396 56.05H48.3666C50.1613 56.05 51.0857 58.1689 49.7861 59.4571L37.3277 71.8071C36.7385 72.3913 35.9234 72.3488 35.3923 71.9858C34.8618 71.6231 34.5279 70.8745 34.8957 70.1218L38.595 62.1H33.4872C31.9311 62.1 30.8535 60.351 31.7942 58.9897L38.8008 48.5463C39.1093 48.0864 39.7355 47.9615 40.1994 48.2674C40.6633 48.5732 40.7892 49.194 40.4807 49.6538L33.4756 60.095C33.4778 60.0974 33.4798 60.0989 33.4808 60.0995C33.4809 60.0996 33.4809 60.0996 33.481 60.0996C33.4818 60.0998 33.4837 60.1 33.4872 60.1H39.3886C39.9668 60.1 40.415 60.4257 40.6557 60.8007C40.8913 61.1677 41.0066 61.7085 40.7546 62.2274L37.9052 68.4063L48.3523 58.05H44.6846C43.4774 58.05 42.7292 56.7004 43.4524 55.6798L47.2305 50.1867C48.1757 48.8125 49.7492 48 51.3929 48H68.5421C75.1818 48 80.7137 42.8579 80.8999 36.3228C81.0861 29.5391 75.594 24 68.7943 24C68.0837 24 67.3632 24.0742 66.6681 24.1892C66.5509 28.3427 65.1641 31.3938 63.4167 33.2196C62.5011 34.1762 61.4556 34.8256 60.4164 35.0693C59.3663 35.3155 58.2581 35.1495 57.4475 34.366L57.4383 34.3572L57.4384 34.3571C55.6397 32.5741 56.2271 29.9533 57.6972 27.8705C59.1141 25.8629 61.5552 23.9616 64.6598 22.7943C63.5386 11.1151 53.6238 2.0023 41.5619 2.00004C30.6822 2.09791 21.5933 9.47916 19.0309 19.4958C18.9089 19.9724 18.4556 20.2904 17.9617 20.2459C17.4075 20.196 16.8427 20.15 16.2877 20.15C8.37609 20.15 1.92926 26.6407 2.16443 34.5205L2.16458 34.5255C2.35219 42.1044 8.88706 48.15 16.5903 48.15H21.3315C21.8887 48.15 22.3403 48.5978 22.3403 49.15C22.3403 49.7023 21.8887 50.15 21.3315 50.15H16.5903C7.85141 50.15 0.364967 43.297 0.147695 34.5771C-0.12007 25.558 7.25274 18.15 16.2877 18.15C16.6315 18.15 16.9725 18.1649 17.2993 18.1863C20.3583 7.72281 30.0308 0.101567 41.5484 7.89762e-05ZM64.6074 24.9762C62.216 26.0218 60.3986 27.5318 59.3502 29.0171C58.0617 30.8427 58.1414 32.2198 58.8601 32.9381C59.059 33.1274 59.3999 33.2524 59.952 33.123C60.519 32.9901 61.2357 32.5926 61.9531 31.843C63.1979 30.5423 64.3541 28.266 64.6074 24.9762Z",fill:"url(#paint0_linear)"}),n.default.createElement("defs",null,n.default.createElement("linearGradient",{id:"paint0_linear",x1:"41.5313",y1:"0",x2:"41.5313",y2:"72.2535",gradientUnits:"userSpaceOnUse"},n.default.createElement("stop",{stopColor:"var(--wxc-icon--error--gradient-start-color)"}),n.default.createElement("stop",{offset:"1",stopColor:"var(--wxc-icon--error--gradient-stop-color)"}))))}function Br(e){var t=e.size,r=e.className,a=e.style;return n.default.createElement("svg",{width:t,height:t,viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",className:"wxc-icon ".concat(r),style:a},n.default.createElement("path",{d:"M12 7.50027C11.11 7.50027 10.24 7.76419 9.49993 8.25866C8.75991 8.75313 8.18314 9.45593 7.84254 10.2782C7.50195 11.1005 7.41283 12.0053 7.58647 12.8782C7.7601 13.7511 8.18868 14.5529 8.81802 15.1823C9.44736 15.8116 10.2492 16.2402 11.1221 16.4138C11.995 16.5874 12.8998 16.4983 13.7221 16.1577C14.5443 15.8171 15.2471 15.2404 15.7416 14.5003C16.2361 13.7603 16.5 12.8903 16.5 12.0003C16.4987 10.8072 16.0242 9.66336 15.1805 8.81973C14.3369 7.9761 13.1931 7.50158 12 7.50027ZM12 15.0003C11.4067 15.0003 10.8266 14.8243 10.3333 14.4947C9.83994 14.165 9.45542 13.6965 9.22836 13.1483C9.0013 12.6001 8.94189 11.9969 9.05764 11.415C9.1734 10.8331 9.45912 10.2985 9.87868 9.87895C10.2982 9.4594 10.8328 9.17367 11.4147 9.05792C11.9967 8.94216 12.5999 9.00157 13.1481 9.22863C13.6962 9.4557 14.1648 9.84022 14.4944 10.3336C14.8241 10.8269 15 11.4069 15 12.0003C14.9992 12.7957 14.6829 13.5583 14.1205 14.1207C13.558 14.6832 12.7954 14.9995 12 15.0003Z",fillOpacity:"0.95"}),n.default.createElement("path",{d:"M21 9.75027H19.2539L18.7537 8.52567L19.9995 7.30252C20.1402 7.16462 20.2523 7.00036 20.3294 6.81912C20.4066 6.63788 20.4473 6.44321 20.4492 6.24623C20.4511 6.04926 20.4142 5.85384 20.3406 5.67113C20.2669 5.48843 20.158 5.32203 20.0201 5.18143L18.969 4.1099C18.6898 3.82704 18.31 3.66618 17.9125 3.66248C17.5151 3.65877 17.1323 3.81252 16.8479 4.09012L15.5984 5.31693L14.25 4.75149V3.00024C14.2495 2.60258 14.0913 2.22135 13.8101 1.94015C13.5289 1.65896 13.1477 1.50076 12.75 1.50024H11.25C10.8523 1.50076 10.4711 1.65896 10.1899 1.94015C9.90872 2.22135 9.75051 2.60258 9.75 3.00024V4.74857L8.46386 5.28177L7.22754 4.04544C6.946 3.76439 6.56444 3.60654 6.16663 3.60654C5.76881 3.60654 5.38726 3.76439 5.10571 4.04544L4.04516 5.10599C3.76412 5.38739 3.60626 5.76883 3.60626 6.16654C3.60626 6.56424 3.76412 6.94569 4.04516 7.22709L5.28223 8.46341L4.74902 9.75027H3C2.60233 9.75079 2.2211 9.90899 1.93991 10.1902C1.65872 10.4714 1.50052 10.8526 1.5 11.2503V12.7503C1.50052 13.1479 1.65872 13.5292 1.93991 13.8104C2.2211 14.0916 2.60233 14.2498 3 14.2503H4.749L5.2822 15.5364L4.04516 16.7727C3.76411 17.0543 3.60626 17.4358 3.60626 17.8337C3.60626 18.2315 3.76411 18.613 4.04516 18.8946L5.10571 19.9551C5.38743 20.2358 5.76892 20.3935 6.16663 20.3935C6.56433 20.3935 6.94583 20.2358 7.22754 19.9551L8.46386 18.718L9.75 19.2513V21.0003C9.75051 21.3979 9.90872 21.7791 10.1899 22.0603C10.4711 22.3415 10.8523 22.4997 11.25 22.5003H12.75C13.1477 22.4997 13.5289 22.3415 13.8101 22.0603C14.0913 21.7791 14.2495 21.3979 14.25 21.0003L14.2507 19.2513L15.5369 18.718L16.7732 19.9551C17.0548 20.2358 17.4362 20.3935 17.8338 20.3935C18.2314 20.3935 18.6127 20.2358 18.8943 19.9551L19.9563 18.8939C20.2367 18.612 20.3939 18.2305 20.3936 17.833C20.3933 17.4355 20.2356 17.0542 19.9548 16.7728L18.7185 15.5364L19.2517 14.2503H21C21.3977 14.2498 21.7789 14.0916 22.0601 13.8104C22.3413 13.5292 22.4995 13.148 22.5 12.7503V11.2503C22.4995 10.8526 22.3413 10.4714 22.0601 10.1902C21.7789 9.909 21.3977 9.75079 21 9.75027ZM21 12.7503H19.2517C18.9549 12.7495 18.6646 12.8372 18.4178 13.002C18.171 13.1669 17.9789 13.4016 17.866 13.6761L17.332 14.9629C17.2185 15.237 17.1889 15.5385 17.2469 15.8294C17.3049 16.1203 17.448 16.3875 17.658 16.597L18.8951 17.834L17.8338 18.8946L16.5975 17.6575C16.3878 17.4476 16.1205 17.3047 15.8294 17.2468C15.5384 17.1889 15.2368 17.2186 14.9627 17.3323L13.6773 17.8648C13.4026 17.9777 13.1676 18.1699 13.0025 18.4168C12.8374 18.6637 12.7495 18.9542 12.7501 19.2513V21.0003H11.2501V19.2513C11.2508 18.9545 11.1632 18.6642 10.9983 18.4174C10.8334 18.1706 10.5988 17.9785 10.3243 17.8655L9.03741 17.3316C8.76339 17.2179 8.46179 17.1882 8.17087 17.2463C7.87994 17.3043 7.61282 17.4474 7.40338 17.6575L6.16626 18.8946L5.10571 17.8333L6.34277 16.597C6.55286 16.3874 6.69593 16.1201 6.75383 15.829C6.81173 15.538 6.78184 15.2363 6.66796 14.9622L6.13546 13.6768C6.02246 13.4022 5.83026 13.1674 5.58334 13.0024C5.33642 12.8374 5.04597 12.7496 4.74899 12.7503H3V11.2503H4.749C5.04589 11.251 5.33625 11.1632 5.58306 10.9982C5.82986 10.8331 6.02193 10.5984 6.13477 10.3237L6.66796 9.03687C6.78212 8.763 6.81215 8.46134 6.75424 8.17034C6.69632 7.87934 6.55309 7.61216 6.34277 7.40286L5.10571 6.16653L6.16699 5.10599L7.40332 6.34232C7.61298 6.55231 7.88028 6.69531 8.17131 6.7532C8.46235 6.81109 8.76402 6.78126 9.03808 6.66749L10.3235 6.13499C10.5981 6.02199 10.8329 5.82979 10.9979 5.58288C11.1629 5.33598 11.2507 5.04554 11.25 4.74857V3.00027H12.75V4.75152C12.7496 5.0471 12.8368 5.33616 13.0005 5.58225C13.1642 5.82834 13.3972 6.02045 13.6699 6.13434L15.0168 6.69977C15.2893 6.81444 15.5896 6.846 15.8799 6.79049C16.1703 6.73498 16.4377 6.59486 16.6487 6.38777L17.8989 5.16096L18.9492 6.23174L17.7034 7.45487C17.4901 7.66298 17.3439 7.93011 17.2836 8.22194C17.2233 8.51377 17.2516 8.81696 17.365 9.09256L17.866 10.3186C17.9782 10.5945 18.1703 10.8305 18.4176 10.9965C18.6649 11.1625 18.9561 11.2509 19.2539 11.2503H21V12.7503Z",fillOpacity:"0.95"}))}function Hr(e){var t=e.size,r=e.className,a=e.style;return n.default.createElement("svg",{width:t,height:t,viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"wxc-icon ".concat(r),style:a},n.default.createElement("path",{d:"M25 5.5H7C5.80692 5.5013 4.66308 5.97582 3.81945 6.81945C2.97582 7.66308 2.5013 8.80692 2.5 10V21.7839C2.50124 23.0343 2.99853 24.2332 3.88272 25.1173C4.76692 26.0015 5.96578 26.4988 7.2162 26.5H24.7836C26.034 26.4986 27.2328 26.0013 28.1169 25.1172C29.0011 24.233 29.4985 23.0343 29.5 21.7839V10C29.4987 8.80693 29.0241 7.66311 28.1805 6.81948C27.3369 5.97585 26.1931 5.50132 25 5.5ZM20.707 16.707C20.5195 16.8945 20.2651 16.9998 20 16.9998C19.7348 16.9998 19.4804 16.8945 19.2929 16.707L17 14.4138V20.0007C17 20.2659 16.8946 20.5203 16.7071 20.7078C16.5196 20.8953 16.2652 21.0007 16 21.0007C15.7348 21.0007 15.4804 20.8953 15.2929 20.7078C15.1054 20.5203 15 20.2659 15 20.0007V14.4138L12.707 16.7067C12.5185 16.8895 12.2657 16.9909 12.0031 16.9889C11.7406 16.9869 11.4893 16.8817 11.3036 16.6961C11.1179 16.5104 11.0127 16.2592 11.0107 15.9966C11.0087 15.734 11.1101 15.4812 11.2929 15.2927L15.2929 11.2927C15.4804 11.1052 15.7348 10.9999 16 10.9999C16.2651 10.9999 16.5195 11.1052 16.707 11.2927L20.707 15.2927C20.8945 15.4802 20.9999 15.7345 21 15.9996C21.0001 16.2648 20.8948 16.5191 20.7074 16.7067L20.707 16.707Z"}))}function Fr(e){var t=e.size,r=e.className,a=e.style;return n.default.createElement("svg",{width:t,height:t,viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",className:"wxc-icon ".concat(r),style:a},n.default.createElement("path",{d:"M18.75 3.75H5.25C4.25579 3.75115 3.30263 4.14661 2.59962 4.84962C1.89661 5.55263 1.50115 6.50579 1.5 7.5V16.338C1.50115 17.3752 1.9137 18.3696 2.64712 19.103C3.38055 19.8364 4.37495 20.2489 5.41215 20.25H18.5877C19.6249 20.2489 20.6193 19.8364 21.3528 19.103C22.0862 18.3696 22.4988 17.3752 22.5 16.338V7.5C22.4988 6.5058 22.1034 5.55265 21.4004 4.84964C20.6973 4.14664 19.7442 3.75117 18.75 3.75ZM21 16.338C20.9992 16.9775 20.7448 17.5906 20.2926 18.0428C19.8403 18.4949 19.2272 18.7493 18.5877 18.75H5.41215C4.77262 18.7494 4.15945 18.4951 3.70721 18.0429C3.25498 17.5907 3.00064 16.9775 3 16.338V7.5C3.00066 6.90346 3.23792 6.33155 3.65973 5.90973C4.08155 5.48792 4.65346 5.25066 5.25 5.25H18.75C19.3465 5.25066 19.9185 5.48792 20.3403 5.90973C20.7621 6.33155 20.9993 6.90346 21 7.5V16.338Z",fillOpacity:"0.95"}),n.default.createElement("path",{d:"M12.5306 8.46952C12.3899 8.3289 12.1992 8.2499 12.0003 8.2499C11.8014 8.2499 11.6106 8.3289 11.47 8.46952L8.46997 11.4695C8.33227 11.6108 8.25575 11.8006 8.257 11.9978C8.25825 12.1951 8.33716 12.3839 8.47665 12.5234C8.61614 12.6629 8.80497 12.7418 9.00223 12.7431C9.19949 12.7443 9.38931 12.6678 9.53055 12.5301L11.25 10.8104V15.0006C11.25 15.1995 11.329 15.3903 11.4697 15.5309C11.6103 15.6716 11.8011 15.7506 12 15.7506C12.1989 15.7506 12.3897 15.6716 12.5303 15.5309C12.671 15.3903 12.75 15.1995 12.75 15.0006V10.8104L14.4697 12.5301C14.6109 12.6678 14.8007 12.7443 14.998 12.7431C15.1953 12.7418 15.3841 12.6629 15.5236 12.5234C15.6631 12.3839 15.742 12.1951 15.7432 11.9978C15.7445 11.8006 15.668 11.6108 15.5303 11.4695L12.5306 8.46952Z",fillOpacity:"0.95"}))}function Zr(e){var t=e.size,r=e.className,a=e.style;return n.default.createElement("svg",{width:t,height:t,viewBox:"0 0 16 8",xmlns:"http://www.w3.org/2000/svg",className:"wxc-icon ".concat(r),style:a},n.default.createElement("path",{d:"M13.3968 3.69556C13.2811 3.54468 10.5248 -0.000244141 6.99988 -0.000244141C3.474 -0.000244141 0.718629 3.54468 0.602904 3.69556C0.536159 3.78292 0.5 3.88982 0.5 3.99976C0.5 4.1097 0.536159 4.21659 0.602904 4.30396C0.718629 4.45484 3.474 7.99976 6.9999 7.99976C10.5248 7.99976 13.2812 4.45484 13.3969 4.30396C13.4636 4.21659 13.4998 4.1097 13.4998 3.99975C13.4998 3.88981 13.4636 3.78292 13.3968 3.69556ZM6.99988 6.99976C4.52673 6.99976 2.37243 4.81763 1.65222 3.99976C2.37243 3.18189 4.52672 0.999756 6.99988 0.999756C9.47351 0.999756 11.6278 3.18287 12.348 4.00026C11.6293 4.81812 9.48034 6.99976 6.99988 6.99976Z"}),n.default.createElement("path",{d:"M6.99988 1.99976C6.60432 1.99976 6.21764 2.11705 5.88874 2.33682C5.55984 2.55658 5.3035 2.86894 5.15212 3.23439C5.00075 3.59984 4.96114 4.00197 5.03831 4.38994C5.11548 4.7779 5.30596 5.13426 5.58567 5.41397C5.86537 5.69367 6.22174 5.88416 6.6097 5.96133C6.99766 6.0385 7.39979 5.99889 7.76525 5.84752C8.1307 5.69614 8.44306 5.43979 8.66282 5.1109C8.88258 4.782 8.99988 4.39532 8.99988 3.99976C8.99935 3.46949 8.78847 2.96109 8.41351 2.58613C8.03855 2.21117 7.53015 2.00029 6.99988 1.99976ZM6.99988 4.99976C6.8021 4.99976 6.60876 4.94111 6.44431 4.83123C6.27986 4.72134 6.15169 4.56517 6.076 4.38244C6.00031 4.19971 5.98051 3.99865 6.01909 3.80467C6.05768 3.61068 6.15292 3.4325 6.29277 3.29265C6.43262 3.1528 6.61081 3.05756 6.80479 3.01897C6.99877 2.98039 7.19984 3.00019 7.38256 3.07588C7.56529 3.15156 7.72147 3.27974 7.83135 3.44419C7.94123 3.60863 7.99988 3.80197 7.99988 3.99976C7.99954 4.26487 7.89407 4.51902 7.70661 4.70648C7.51914 4.89394 7.26499 4.99941 6.99988 4.99976Z"}))}function qr(e){var t=e.size,r=e.className,a=e.style;return n.default.createElement("svg",{width:t,height:t,viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"wxc-icon ".concat(r),style:a},n.default.createElement("path",{d:"M16 2.5C13.33 2.5 10.7199 3.29176 8.49981 4.77516C6.27974 6.25856 4.54942 8.36697 3.52763 10.8338C2.50585 13.3006 2.2385 16.015 2.7594 18.6337C3.28031 21.2525 4.56606 23.6579 6.45406 25.5459C8.34207 27.434 10.7475 28.7197 13.3663 29.2406C15.985 29.7615 18.6994 29.4942 21.1662 28.4724C23.633 27.4506 25.7414 25.7203 27.2248 23.5002C28.7082 21.2801 29.5 18.67 29.5 16C29.496 12.4208 28.0724 8.98935 25.5415 6.45847C23.0107 3.9276 19.5792 2.504 16 2.5Z"}))}function Wr(e){var t=e.ariaLabel,r=e.className,a=e.size,i=e.style,o=Wt(Kn("waiting-for-host-icon",r),1)[0];return n.default.createElement("svg",{width:a,height:a,viewBox:"0 0 120 120",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:o,style:i,"aria-label":t},n.default.createElement("g",{id:"rocket-avatar-120"},n.default.createElement("path",{id:"apply-style-here",d:"M49.6445 30.1C49.6445 23.9 53.5445 18.6 56.4445 14.8C58.0445 12.7 61.1445 12.7 62.7445 14.8C65.6445 18.6 69.5445 23.9 69.5445 30.1M39.6445 48.1V43.1C39.6445 39.3 41.6445 36.3 43.1445 34.6C43.9445 33.7 45.3445 33.7 46.1445 34.6C47.6445 36.3 49.6445 39.3 49.6445 43.1V43.8C49.6445 45.9 48.8445 48 47.3445 49.5L34.9445 61.8C31.5445 65.2 29.6445 69.8 29.6445 74.5V77C29.6445 78.1 30.5445 79 31.6445 79H47.6445C48.7445 79 49.6445 78.1 49.6445 77V56M79.6445 48.1V43.1C79.6445 39.3 77.6445 36.3 76.1445 34.6C75.3445 33.7 73.9445 33.7 73.1445 34.6C71.6445 36.3 69.6445 39.3 69.6445 43.1V43.8C69.6445 45.9 70.4445 48 71.9445 49.5L84.4445 61.8C87.8445 65.2 89.7445 69.8 89.7445 74.5V77C89.7445 78.1 88.8445 79 87.7445 79H71.7445C70.6445 79 69.7445 78.1 69.7445 77V56M35.6445 107.1C35.6445 102.7 39.2445 99.1 43.6445 99.1C43.6445 94.7 47.2445 91.1 51.6445 91.1C51.6445 86.7 55.2445 83.1 59.6445 83.1C64.0445 83.1 67.6445 86.7 67.6445 91.1C72.0445 91.1 75.6445 94.7 75.6445 99.1C80.0445 99.1 83.6445 102.7 83.6445 107.1M63.6445 37.1C63.6445 39.3091 61.8537 41.1 59.6445 41.1C57.4354 41.1 55.6445 39.3091 55.6445 37.1C55.6445 34.8908 57.4354 33.1 59.6445 33.1C61.8537 33.1 63.6445 34.8908 63.6445 37.1Z",stroke:"url(#paint0_linear_3181:123911)",strokeWidth:"1.5625",strokeMiterlimit:"10",strokeLinecap:"round",strokeLinejoin:"round"})),n.default.createElement("defs",null,n.default.createElement("linearGradient",{id:"paint0_linear_3181:123911",x1:"59.6945",y1:"13.225",x2:"59.6945",y2:"107.1",gradientUnits:"userSpaceOnUse"},n.default.createElement("stop",{stopColor:"#93C437"}),n.default.createElement("stop",{offset:"1",stopColor:"#279BE8"}))))}function Yr(e){var t=e.size,r=e.className,a=e.style;return n.default.createElement("svg",{width:t,height:t,viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",className:"wxc-icon ".concat(r),style:a},n.default.createElement("path",{d:"M13.7971 10.7495L8.2991 1.24998C8.16738 1.02195 7.97797 0.832599 7.7499 0.700952C7.52182 0.569305 7.26312 0.5 6.99978 0.5C6.73644 0.5 6.47774 0.569305 6.24966 0.700952C6.02159 0.832599 5.83218 1.02195 5.70046 1.24998L5.70096 1.24948L0.200962 10.75C0.0693183 10.978 9.13466e-06 11.2366 9.02787e-10 11.4999C-9.13286e-06 11.7632 0.069282 12.0219 0.20091 12.2499C0.332538 12.4779 0.521865 12.6673 0.749865 12.7989C0.977865 12.9306 1.2365 12.9999 1.49979 13H12.4983C12.7617 13.0001 13.0205 12.9308 13.2486 12.7991C13.4767 12.6674 13.6661 12.478 13.7977 12.2499C13.9294 12.0217 13.9986 11.763 13.9985 11.4996C13.9984 11.2362 13.929 10.9775 13.7971 10.7495ZM12.9314 11.75C12.8882 11.8266 12.8253 11.8903 12.7491 11.9342C12.6729 11.9782 12.5863 12.0009 12.4983 12H1.49978C1.4121 11.9999 1.32598 11.9768 1.25006 11.9329C1.17414 11.889 1.11108 11.826 1.06721 11.7501C1.02334 11.6742 1.0002 11.588 1.00011 11.5004C1.00001 11.4127 1.02297 11.3265 1.06668 11.2505L6.56618 1.75049L6.56668 1.74999C6.61063 1.67394 6.67383 1.61079 6.74993 1.56691C6.82602 1.52303 6.91233 1.49995 7.00017 1.5C7.08801 1.50005 7.17429 1.52323 7.25034 1.5672C7.32638 1.61117 7.38951 1.67439 7.43337 1.75049L12.9314 11.25C12.9762 11.3257 12.9999 11.412 12.9999 11.5C12.9999 11.5879 12.9762 11.6743 12.9314 11.75Z"}),n.default.createElement("path",{d:"M6.99984 10.9999C7.34502 10.9999 7.62484 10.7201 7.62484 10.3749C7.62484 10.0297 7.34502 9.74992 6.99984 9.74992C6.65466 9.74992 6.37484 10.0297 6.37484 10.3749C6.37484 10.7201 6.65466 10.9999 6.99984 10.9999Z"}),n.default.createElement("path",{d:"M6.99978 8.99998C7.06545 9.00002 7.13049 8.98711 7.19117 8.962C7.25185 8.93689 7.30698 8.90006 7.35342 8.85362C7.39986 8.80718 7.43669 8.75205 7.4618 8.69137C7.48691 8.63069 7.49982 8.56565 7.49978 8.49998V4.99998C7.49978 4.86738 7.4471 4.7402 7.35334 4.64643C7.25957 4.55266 7.13239 4.49998 6.99978 4.49998C6.86717 4.49998 6.74 4.55266 6.64623 4.64643C6.55246 4.7402 6.49978 4.86738 6.49978 4.99998V8.49998C6.49974 8.56565 6.51265 8.63069 6.53777 8.69137C6.56288 8.75205 6.59971 8.80719 6.64614 8.85362C6.69258 8.90006 6.74772 8.93689 6.8084 8.962C6.86908 8.98711 6.93411 9.00002 6.99978 8.99998Z"}))}!function(e){m(n,Qt);var t=hr(n);function n(e){var r;return d(this,n),(r=t.call(this,e)).activitiesAdapter=new gn(e.activities),r.meetingsAdapter=new ir(e.meetings),r.membershipsAdapter=new sr(e.memberships),r.organizationsAdapter=new lr(e.organizations),r.peopleAdapter=new dr(e.people),r.roomsAdapter=new pr(e.rooms),r}p(n,[{key:"connect",value:function(){return Promise.resolve(this)}},{key:"disconnect",value:function(){return Promise.resolve(this)}}])}(),mr.propTypes={size:r.default.number,className:r.default.string,style:r.default.shape()},mr.defaultProps={size:26,className:"",style:{}},gr.propTypes={size:r.default.number,className:r.default.string,style:r.default.shape()},gr.defaultProps={size:16,className:"",style:{}},Cr.propTypes={size:r.default.number,className:r.default.string,style:r.default.shape()},Cr.defaultProps={size:26,className:"",style:{}},vr.propTypes={size:r.default.number,className:r.default.string,style:r.default.shape()},vr.defaultProps={size:24,className:"",style:{}},yr.propTypes={size:r.default.number,className:r.default.string,style:r.default.shape()},yr.defaultProps={size:24,className:"",style:{}},br.propTypes={size:r.default.number,className:r.default.string,style:r.default.shape()},br.defaultProps={size:26,className:"",style:{}},wr.propTypes={size:r.default.number,className:r.default.string,style:r.default.shape(),ariaLabel:r.default.string},wr.defaultProps={size:24,className:"",style:{},ariaLabel:void 0},Er.propTypes={size:r.default.number,className:r.default.string,style:r.default.shape()},Er.defaultProps={size:24,className:"",style:{}},Nr.propTypes={size:r.default.number,className:r.default.string,style:r.default.shape()},Nr.defaultProps={size:24,className:"",style:{}},xr.propTypes={size:r.default.number,className:r.default.string,style:r.default.shape()},xr.defaultProps={size:24,className:"",style:{}},Mr.propTypes={className:r.default.string,style:r.default.shape()},Mr.defaultProps={className:void 0,style:void 0},Ir.propTypes={size:r.default.number,className:r.default.string,style:r.default.shape()},Ir.defaultProps={size:24,className:"",style:{}},Tr.propTypes={size:r.default.number,className:r.default.string,style:r.default.shape()},Tr.defaultProps={size:24,className:void 0,style:void 0},Or.propTypes={size:r.default.number,className:r.default.string,style:r.default.shape()},Or.defaultProps={size:24,className:"",style:{}},Sr.propTypes={size:r.default.number,className:r.default.string,style:r.default.shape()},Sr.defaultProps={size:24,className:"",style:{}},Dr.propTypes={size:r.default.number,className:r.default.string,style:r.default.shape()},Dr.defaultProps={size:16,className:"",style:{}},kr.propTypes={size:r.default.number,className:r.default.string,style:r.default.shape()},kr.defaultProps={size:24,className:"",style:{}},Lr.propTypes={size:r.default.number,className:r.default.string,style:r.default.shape(),ariaLabel:r.default.string},Lr.defaultProps={size:24,className:"",style:{},ariaLabel:void 0},Ar.propTypes={className:r.default.string,style:r.default.shape()},Ar.defaultProps={className:void 0,style:void 0},Pr.propTypes={size:r.default.number,className:r.default.string,style:r.default.shape()},Pr.defaultProps={size:24,className:"",style:{}},Rr.propTypes={size:r.default.number,className:r.default.string,style:r.default.shape()},Rr.defaultProps={size:24,className:"",style:{}},_r.propTypes={size:r.default.number,className:r.default.string,style:r.default.shape()},_r.defaultProps={size:24,className:"",style:{}},jr.propTypes={size:r.default.number,className:r.default.string,style:r.default.shape()},jr.defaultProps={size:24,className:"",style:{}},Vr.propTypes={size:r.default.number,className:r.default.string,style:r.default.shape()},Vr.defaultProps={size:24,className:"",style:{}},Gr.propTypes={size:r.default.number,className:r.default.string,style:r.default.shape()},Gr.defaultProps={size:24,className:"",style:{}},zr.propTypes={size:r.default.number,className:r.default.string,style:r.default.shape()},zr.defaultProps={size:24,className:"",style:{}},Ur.propTypes={className:r.default.string,style:r.default.shape()},Ur.defaultProps={className:"",style:{}},Br.propTypes={size:r.default.number,className:r.default.string,style:r.default.shape()},Br.defaultProps={size:24,className:"",style:{}},Hr.propTypes={size:r.default.number,className:r.default.string,style:r.default.shape()},Hr.defaultProps={size:24,className:"",style:{}},Fr.propTypes={size:r.default.number,className:r.default.string,style:r.default.shape()},Fr.defaultProps={size:24,className:"",style:{}},Zr.propTypes={size:r.default.number,className:r.default.string,style:r.default.shape()},Zr.defaultProps={size:16,className:"",style:{}},qr.propTypes={size:r.default.number,className:r.default.string,style:r.default.shape()},qr.defaultProps={size:24,className:"",style:{}},Wr.propTypes={ariaLabel:r.default.string,className:r.default.string,size:r.default.number,style:r.default.shape()},Wr.defaultProps={ariaLabel:void 0,className:void 0,size:120,style:void 0},Yr.propTypes={size:r.default.number,className:r.default.string,style:r.default.shape()},Yr.defaultProps={size:16,className:"",style:{}};var Kr={"arrow-down":mr,"arrow-left":gr,"arrow-up":Cr,check:br,camera:Er,"camera-bold":wr,"camera-issue":Mr,"camera-muted":Nr,"camera-presence":xr,cancel:Ir,"chat-filled":Tr,"content-share":Fr,"dnd-presence":Or,error:Ur,"external-user":Sr,"hide-password":Dr,"meetings-presence":kr,"microphone-issue":Ar,"microphone-muted":yr,microphone:vr,"microphone-bold":Lr,more:Pr,"more-adr":Rr,"participant-list":_r,"participant-list-filled":jr,"pto-presence":Vr,"quiet-hours-presence":Gr,"recents-presence":zr,settings:Br,"share-screen-presence-stroke":Fr,"share-screen-filled":Hr,"show-password":Zr,unread:qr,warning:Yr,"waiting-for-host":Wr};function Jr(e){var t=e.name,r=e.size,a=e.className,i=e.style,o=e.ariaLabel,s=Wt(t.split("_"),2),c=s[0],l=s[1],u=Kr[c];return u||(console.error("".concat(c,' icon is not defined. Available icons are "').concat(Object.keys(Kr).join(", "),'".')),u="span"),n.default.createElement(u,{size:r||l&&Number(l),className:a,style:i,ariaLabel:o})}function $r(e){var t=e.className,r=e.style,a=Wt(Kn("loader",t),2),i=a[0],o=a[1];return n.default.createElement("div",{className:i,style:r},n.default.createElement("div",{className:o("bullet")}))}Jr.propTypes={name:r.default.string.isRequired,size:r.default.number,className:r.default.string,style:r.default.shape(),ariaLabel:r.default.string},Jr.defaultProps={size:void 0,className:"",style:{},ariaLabel:void 0},$r.propTypes={className:r.default.string,style:r.default.shape()},$r.defaultProps={className:void 0,style:void 0};var Xr=n.default.createContext();function Qr(e,t){var r=e.current;(0,n.useEffect)(function(){t&&r&&r.focus()},[r,t])}var ea,ta=[],na="ResizeObserver loop completed with undelivered notifications.";!function(e){e.BORDER_BOX="border-box",e.CONTENT_BOX="content-box",e.DEVICE_PIXEL_CONTENT_BOX="device-pixel-content-box"}(ea||(ea={}));var ra,aa=function(){function e(e,t,n,r){return this.x=e,this.y=t,this.width=n,this.height=r,this.top=this.y,this.left=this.x,this.bottom=this.top+this.height,this.right=this.left+this.width,Object.freeze(this)}return e.prototype.toJSON=function(){var e=this;return{x:e.x,y:e.y,top:e.top,right:e.right,bottom:e.bottom,left:e.left,width:e.width,height:e.height}},e.fromRect=function(t){return new e(t.x,t.y,t.width,t.height)},e}(),ia=function(e){return e instanceof SVGElement&&"getBBox"in e},oa=function(e){if(ia(e)){var t=e.getBBox(),n=t.width,r=t.height;return!n&&!r}var a=e,i=a.offsetWidth,o=a.offsetHeight;return!(i||o||e.getClientRects().length)},sa=function(e){var t,n,r=null===(n=null===(t=e)||void 0===t?void 0:t.ownerDocument)||void 0===n?void 0:n.defaultView;return!!(r&&e instanceof r.Element)},ca="undefined"!=typeof window?window:{},la=new WeakMap,ua=/auto|scroll/,da=/^tb|vertical/,fa=/msie|trident/i.test(ca.navigator&&ca.navigator.userAgent),pa=function(e){return parseFloat(e||"0")},ha=function(e,t,n){return void 0===e&&(e=0),void 0===t&&(t=0),void 0===n&&(n=!1),Object.freeze({inlineSize:(n?t:e)||0,blockSize:(n?e:t)||0})},ma=Object.freeze({devicePixelContentBoxSize:ha(),borderBoxSize:ha(),contentBoxSize:ha(),contentRect:new aa(0,0,0,0)}),ga=function(e,t){if(void 0===t&&(t=!1),la.has(e)&&!t)return la.get(e);if(oa(e))return la.set(e,ma),ma;var n=getComputedStyle(e),r=ia(e)&&e.ownerSVGElement&&e.getBBox(),a=!fa&&"border-box"===n.boxSizing,i=da.test(n.writingMode||""),o=!r&&ua.test(n.overflowY||""),s=!r&&ua.test(n.overflowX||""),c=r?0:pa(n.paddingTop),l=r?0:pa(n.paddingRight),u=r?0:pa(n.paddingBottom),d=r?0:pa(n.paddingLeft),f=r?0:pa(n.borderTopWidth),p=r?0:pa(n.borderRightWidth),h=r?0:pa(n.borderBottomWidth),m=d+l,g=c+u,C=(r?0:pa(n.borderLeftWidth))+p,v=f+h,y=s?e.offsetHeight-v-e.clientHeight:0,b=o?e.offsetWidth-C-e.clientWidth:0,w=a?m+C:0,E=a?g+v:0,N=r?r.width:pa(n.width)-w-b,x=r?r.height:pa(n.height)-E-y,M=N+m+b+C,I=x+g+y+v,T=Object.freeze({devicePixelContentBoxSize:ha(Math.round(N*devicePixelRatio),Math.round(x*devicePixelRatio),i),borderBoxSize:ha(M,I,i),contentBoxSize:ha(N,x,i),contentRect:new aa(d,c,N,x)});return la.set(e,T),T},Ca=function(e,t,n){var r=ga(e,n),a=r.borderBoxSize,i=r.contentBoxSize,o=r.devicePixelContentBoxSize;switch(t){case ea.DEVICE_PIXEL_CONTENT_BOX:return o;case ea.BORDER_BOX:return a;default:return i}},va=function(e){var t=ga(e);this.target=e,this.contentRect=t.contentRect,this.borderBoxSize=[t.borderBoxSize],this.contentBoxSize=[t.contentBoxSize],this.devicePixelContentBoxSize=[t.devicePixelContentBoxSize]},ya=function(e){if(oa(e))return 1/0;for(var t=0,n=e.parentNode;n;)t+=1,n=n.parentNode;return t},ba=function(){var e=1/0,t=[];ta.forEach(function(n){if(0!==n.activeTargets.length){var r=[];n.activeTargets.forEach(function(t){var n=new va(t.target),a=ya(t.target);r.push(n),t.lastReportedSize=Ca(t.target,t.observedBox),a<e&&(e=a)}),t.push(function(){n.callback.call(n.observer,r,n.observer)}),n.activeTargets.splice(0,n.activeTargets.length)}});for(var n=0,r=t;n<r.length;n++)(0,r[n])();return e},wa=function(e){ta.forEach(function(t){t.activeTargets.splice(0,t.activeTargets.length),t.skippedTargets.splice(0,t.skippedTargets.length),t.observationTargets.forEach(function(n){n.isActive()&&(ya(n.target)>e?t.activeTargets.push(n):t.skippedTargets.push(n))})})},Ea=function(){var e,t=0;for(wa(t);ta.some(function(e){return e.activeTargets.length>0});)t=ba(),wa(t);return ta.some(function(e){return e.skippedTargets.length>0})&&("function"==typeof ErrorEvent?e=new ErrorEvent("error",{message:na}):((e=document.createEvent("Event")).initEvent("error",!1,!1),e.message=na),window.dispatchEvent(e)),t>0},Na=[],xa=function(e){if(!ra){var t=0,n=document.createTextNode("");new MutationObserver(function(){return Na.splice(0).forEach(function(e){return e()})}).observe(n,{characterData:!0}),ra=function(){n.textContent=""+(t?t--:t++)}}Na.push(e),ra()},Ma=0,Ia={attributes:!0,characterData:!0,childList:!0,subtree:!0},Ta=["resize","load","transitionend","animationend","animationstart","animationiteration","keyup","keydown","mouseup","mousedown","mouseover","mouseout","blur","focus"],Oa=function(e){return void 0===e&&(e=0),Date.now()+e},Sa=!1,Da=new(function(){function e(){var e=this;this.stopped=!0,this.listener=function(){return e.schedule()}}return e.prototype.run=function(e){var t=this;if(void 0===e&&(e=250),!Sa){Sa=!0;var n,r=Oa(e);n=function(){var n=!1;try{n=Ea()}finally{if(Sa=!1,e=r-Oa(),!Ma)return;n?t.run(1e3):e>0?t.run(e):t.start()}},xa(function(){requestAnimationFrame(n)})}},e.prototype.schedule=function(){this.stop(),this.run()},e.prototype.observe=function(){var e=this,t=function(){return e.observer&&e.observer.observe(document.body,Ia)};document.body?t():ca.addEventListener("DOMContentLoaded",t)},e.prototype.start=function(){var e=this;this.stopped&&(this.stopped=!1,this.observer=new MutationObserver(this.listener),this.observe(),Ta.forEach(function(t){return ca.addEventListener(t,e.listener,!0)}))},e.prototype.stop=function(){var e=this;this.stopped||(this.observer&&this.observer.disconnect(),Ta.forEach(function(t){return ca.removeEventListener(t,e.listener,!0)}),this.stopped=!0)},e}()),ka=function(e){!Ma&&e>0&&Da.start(),!(Ma+=e)&&Da.stop()},La=function(){function e(e,t){this.target=e,this.observedBox=t||ea.CONTENT_BOX,this.lastReportedSize={inlineSize:0,blockSize:0}}return e.prototype.isActive=function(){var e,t=Ca(this.target,this.observedBox,!0);return e=this.target,ia(e)||function(e){switch(e.tagName){case"INPUT":if("image"!==e.type)break;case"VIDEO":case"AUDIO":case"EMBED":case"OBJECT":case"CANVAS":case"IFRAME":case"IMG":return!0}return!1}(e)||"inline"!==getComputedStyle(e).display||(this.lastReportedSize=t),this.lastReportedSize.inlineSize!==t.inlineSize||this.lastReportedSize.blockSize!==t.blockSize},e}(),Aa=function(e,t){this.activeTargets=[],this.skippedTargets=[],this.observationTargets=[],this.observer=e,this.callback=t},Pa=new WeakMap,Ra=function(e,t){for(var n=0;n<e.length;n+=1)if(e[n].target===t)return n;return-1},_a=function(){function e(){}return e.connect=function(e,t){var n=new Aa(e,t);Pa.set(e,n)},e.observe=function(e,t,n){var r=Pa.get(e),a=0===r.observationTargets.length;Ra(r.observationTargets,t)<0&&(a&&ta.push(r),r.observationTargets.push(new La(t,n&&n.box)),ka(1),Da.schedule())},e.unobserve=function(e,t){var n=Pa.get(e),r=Ra(n.observationTargets,t),a=1===n.observationTargets.length;r>=0&&(a&&ta.splice(ta.indexOf(n),1),n.observationTargets.splice(r,1),ka(-1))},e.disconnect=function(e){var t=this,n=Pa.get(e);n.observationTargets.slice().forEach(function(n){return t.unobserve(e,n.target)}),n.activeTargets.splice(0,n.activeTargets.length)},e}(),ja=function(){function e(e){if(0===arguments.length)throw new TypeError("Failed to construct 'ResizeObserver': 1 argument required, but only 0 present.");if("function"!=typeof e)throw new TypeError("Failed to construct 'ResizeObserver': The callback provided as parameter 1 is not a function.");_a.connect(this,e)}return e.prototype.observe=function(e,t){if(0===arguments.length)throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!sa(e))throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': parameter 1 is not of type 'Element");_a.observe(this,e,t)},e.prototype.unobserve=function(e){if(0===arguments.length)throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!sa(e))throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': parameter 1 is not of type 'Element");_a.unobserve(this,e)},e.prototype.disconnect=function(){_a.disconnect(this)},e.toString=function(){return"function ResizeObserver () { [polyfill code] }"},e}();function Va(e){var t=Wt((0,n.useState)(0),2),r=t[0],a=t[1],i=Wt((0,n.useState)(0),2),o=i[0],s=i[1];return(0,n.useEffect)(function(){var t;if(e.current){var n=new(window.ResizeObserver||ja)(function(e){var t=Wt(e,1)[0].contentRect;r!==t.height&&a(t.height),o!==t.width&&s(t.width)});n.observe(e.current),t=function(){n.disconnect()}}return t},[e.current]),{height:r,width:o}}function Ga(){var e=Wt((0,n.useState)({}),2),t=e[0],r=e[1],a=(0,n.useContext)(Xr).peopleAdapter;return(0,n.useEffect)(function(){var e=a.getMe().subscribe(r,function(e){console.error(e.message)});return function(){e.unsubscribe()}},[]),t}function za(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Ua(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?za(Object(n),!0).forEach(function(t){wt(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):za(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var Ba={ID:null,title:null,localAudio:{stream:null},localVideo:{stream:null},remoteAudio:null,remoteVideo:null,remoteShare:null,state:null,showRoster:null,settings:{visible:!1,preview:{microphone:{},video:{}}},error:null};function Ha(e){var t=Wt((0,n.useState)(Ba),2),r=t[0],a=t[1],i=(0,n.useContext)(Xr),o=i&&i.meetingsAdapter;return(0,n.useEffect)(function(){var t;if(e&&o){var n=o.getMeeting(e).subscribe(function(e){a(Ua({},e))},function(e){a(Ua(Ua({},Ba),{},{error:e})),console.log(e)});t=function(){n.unsubscribe()}}else a(Ua({},Ba)),t=void 0;return t},[o,e]),r}function Fa(e,t){var r=Wt((0,n.useState)({}),2),a=r[0],i=r[1],o=(0,n.useContext)(Xr).meetingsAdapter.meetingControls,s=o[e];return(0,n.useEffect)(function(){s||console.error("".concat(e,' control is not defined. Available controls are "').concat(Object.keys(o).join(", "),'".'))},[e,o,s]),(0,n.useEffect)(function(){var e;if(s){var n=s.display(t).subscribe(i);e=function(){n.unsubscribe()}}return e},[t,s]),s?[function(e){return s.action(t,e)},a]:[function(){},{}]}function Za(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function qa(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Za(Object(n),!0).forEach(function(t){wt(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Za(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var Wa={title:null,localShare:{stream:null},localAudio:{stream:null},localVideo:{stream:null},remoteAudio:null,remoteVideo:null,state:null};function Ya(e){var t=Wt((0,n.useState)(Wa),2),r=t[0],a=t[1],i=(0,n.useContext)(Xr),o=i&&i.meetingsAdapter;return(0,n.useEffect)(function(){var t,n,r;if(e&&o){var i=o.createMeeting(e).pipe((r=function(e){var t=e.ID;return o.getMeeting(t)},function(e){return new U(function(t){var n,a;return a=e.subscribe(function(e){t.next(e),n=e},function(e){return t.error(e)},function(){a=r(n).subscribe(function(e){return t.next(e)},function(e){return t.error(e)},function(){return t.complete()})}),function(){a&&a.unsubscribe()}})})).subscribe(function(e){a(qa({},e)),n=e},function(e){a(qa(qa({},Wa),{},{error:e})),console.log(e)}),s=function(){var e;null!==(e=n)&&void 0!==e&&e.ID&&o.leavemeeting(n.ID)};window.addEventListener("beforeunload",s),t=function(){var e;null!==(e=n)&&void 0!==e&&e.ID&&o.leaveMeeting(n.ID),s&&(window.removeEventListener("beforeunload",s),s=void 0),i.unsubscribe()}}else a(qa({},Wa)),t=void 0;return t},[o,e]),r}function Ka(e,t){var r=Wt((0,n.useState)([]),2),a=r[0],i=r[1],o=(0,n.useContext)(Xr).membershipsAdapter;return(0,n.useEffect)(function(){var n=o.getMembersFromDestination(e,t).subscribe(function(e){i($t(e))},function(e){i([]),console.error(e.message)});return function(){n.unsubscribe()}},[o,e,t]),a}function Ja(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function $a(e){var t=Wt((0,n.useState)({}),2),r=t[0],a=t[1],i=(0,n.useContext)(Xr).organizationsAdapter;return(0,n.useEffect)(function(){var t;if(e){var n=i.getOrg(e).subscribe(function(e){a(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ja(Object(n),!0).forEach(function(t){wt(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ja(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},e))},function(e){console.error(e.message)});t=function(){n.unsubscribe()}}else t=void 0,a({});return t},[e]),r}function Xa(){var e=Wt((0,n.useState)(),2)[1],t=(0,n.useCallback)(function(n){t.current=n,e(n)},[]);return t}function Qa(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function ei(e){var t=Wt((0,n.useState)({}),2),r=t[0],a=t[1],i=(0,n.useContext)(Xr).peopleAdapter;return(0,n.useEffect)(function(){var t=i.getPerson(e).subscribe(function(e){var t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Qa(Object(n),!0).forEach(function(t){wt(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Qa(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},e);Object.keys(fn).includes(t.status)&&(t.status=fn[t.status]),a(t)},function(e){a({displayName:" "}),console.error(e.message)});return function(){t.unsubscribe()}},[i,e]),r}function ti(e,t){var r=e.current;(0,n.useEffect)(function(){r&&(t instanceof MediaStream?r.srcObject=t:t&&console.error("useStream: invalid media stream received",t))},[r,t])}var ni={active:"unread",call:"camera-presence",dnd:"dnd-presence",inactive:"recents-presence",meeting:"meetings-presence",ooo:"pto-presence",presenting:"share-screen-filled"};function ri(e){var t=e.className,r=e.displayStatus,a=e.personID,i=e.style,o=ei(a),s=o.avatar,c=o.displayName,l=o.status,u=Wt((0,n.useState)(function(){return Math.floor(11*Math.random())+1}),1)[0],d=Wt((0,n.useState)(!1),2),f=d[0],p=d[1],h=null==c?void 0:c.split(" ").map(function(e){return e.charAt(0)}).slice(0,2).join(""),m=ni[l],g=l===fn.SELF,C=l===fn.BOT,v=l===fn.TYPING,y=!g,b=s&&!g,w=r&&!C&&!g&&m,E=Wt(Kn("avatar",t,{"avatar-self":g}),2),N=E[0],x=E[1],M="".concat(x("placeholder")," ").concat(x("placeholder"),"-").concat(u),I=x("status-".concat(l));return n.default.createElement("div",{className:N,style:i},n.default.createElement("div",{className:x("content")},v&&r&&n.default.createElement($r,null),y&&n.default.createElement("svg",{viewBox:"0 0 40 40",className:M},n.default.createElement("text",{x:"50%",y:"50%"}," "===c?"??":h)),b&&n.default.createElement("img",{className:x(f?"image-error":"image"),src:s,alt:"avatar",onError:function(){return p(!0)}}),w&&n.default.createElement("div",{className:x("status-icon-container")},n.default.createElement(Jr,{name:m,className:"".concat(x("status-icon")," ").concat(I)})),C&&r&&n.default.createElement("svg",{viewBox:"0 0 26 26",className:x("bot-badge")},n.default.createElement("text",{x:"50%",y:"57%"},"Bot")),g&&r&&n.default.createElement(Jr,{name:"chat-filled",className:x("self-icon")})))}function ai(e){if(null===e||!0===e||!1===e)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}function ii(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}function oi(e){ii(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||"object"==typeof e&&"[object Date]"===t?new Date(e.getTime()):"number"==typeof e||"[object Number]"===t?new Date(e):("string"!=typeof e&&"[object String]"!==t||"undefined"==typeof console||(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as arguments. Please use `parseISO` to parse strings. See: https://git.io/fjule"),console.warn((new Error).stack)),new Date(NaN))}function si(e,t){ii(2,arguments);var n=oi(e).getTime(),r=ai(t);return new Date(n+r)}function ci(e){return e.getTime()%6e4}function li(e){var t=new Date(e.getTime()),n=Math.ceil(t.getTimezoneOffset());return t.setSeconds(0,0),6e4*n+(n>0?(6e4+ci(t))%6e4:ci(t))}function ui(e){ii(1,arguments);var t=oi(e);return!isNaN(t)}ri.propTypes={className:r.default.string,displayStatus:r.default.bool,personID:r.default.string.isRequired,style:r.default.shape()},ri.defaultProps={className:"",displayStatus:!0,style:void 0};var di={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};function fi(e){return function(t){var n=t||{},r=n.width?String(n.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}var pi={date:fi({formats:{full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},defaultWidth:"full"}),time:fi({formats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultWidth:"full"}),dateTime:fi({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})},hi={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"};function mi(e){return function(t,n){var r,a=n||{};if("formatting"===(a.context?String(a.context):"standalone")&&e.formattingValues){var i=e.defaultFormattingWidth||e.defaultWidth,o=a.width?String(a.width):i;r=e.formattingValues[o]||e.formattingValues[i]}else{var s=e.defaultWidth,c=a.width?String(a.width):e.defaultWidth;r=e.values[c]||e.values[s]}return r[e.argumentCallback?e.argumentCallback(t):t]}}function gi(e){return function(t,n){var r=String(t),a=n||{},i=a.width,o=i&&e.matchPatterns[i]||e.matchPatterns[e.defaultMatchWidth],s=r.match(o);if(!s)return null;var c,l=s[0],u=i&&e.parsePatterns[i]||e.parsePatterns[e.defaultParseWidth];return c="[object Array]"===Object.prototype.toString.call(u)?function(e,t){for(var n=0;n<e.length;n++)if(t(e[n]))return n}(u,function(e){return e.test(l)}):function(e,t){for(var n in e)if(e.hasOwnProperty(n)&&t(e[n]))return n}(u,function(e){return e.test(l)}),c=e.valueCallback?e.valueCallback(c):c,{value:c=a.valueCallback?a.valueCallback(c):c,rest:r.slice(l.length)}}}var Ci,vi={code:"en-US",formatDistance:function(e,t,n){var r;return n=n||{},r="string"==typeof di[e]?di[e]:1===t?di[e].one:di[e].other.replace("{{count}}",t),n.addSuffix?n.comparison>0?"in "+r:r+" ago":r},formatLong:pi,formatRelative:function(e,t,n,r){return hi[e]},localize:{ordinalNumber:function(e,t){var n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},era:mi({values:{narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},defaultWidth:"wide"}),quarter:mi({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},defaultWidth:"wide",argumentCallback:function(e){return Number(e)-1}}),month:mi({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},defaultWidth:"wide"}),day:mi({values:{narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},defaultWidth:"wide"}),dayPeriod:mi({values:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},defaultFormattingWidth:"wide"})},match:{ordinalNumber:(Ci={matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:function(e){return parseInt(e,10)}},function(e,t){var n=String(e),r=t||{},a=n.match(Ci.matchPattern);if(!a)return null;var i=a[0],o=n.match(Ci.parsePattern);if(!o)return null;var s=Ci.valueCallback?Ci.valueCallback(o[0]):o[0];return{value:s=r.valueCallback?r.valueCallback(s):s,rest:n.slice(i.length)}}),era:gi({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:"any"}),quarter:gi({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:gi({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:gi({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:gi({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:"any"})},options:{weekStartsOn:0,firstWeekContainsDate:1}};function yi(e,t){return ii(2,arguments),si(e,-ai(t))}function bi(e,t){for(var n=e<0?"-":"",r=Math.abs(e).toString();r.length<t;)r="0"+r;return n+r}var wi=function(e,t){var n=e.getUTCFullYear(),r=n>0?n:1-n;return bi("yy"===t?r%100:r,t.length)},Ei=function(e,t){var n=e.getUTCMonth();return"M"===t?String(n+1):bi(n+1,2)},Ni=function(e,t){return bi(e.getUTCDate(),t.length)},xi=function(e,t){return bi(e.getUTCHours()%12||12,t.length)},Mi=function(e,t){return bi(e.getUTCHours(),t.length)},Ii=function(e,t){return bi(e.getUTCMinutes(),t.length)},Ti=function(e,t){return bi(e.getUTCSeconds(),t.length)},Oi=function(e,t){var n=t.length,r=e.getUTCMilliseconds();return bi(Math.floor(r*Math.pow(10,n-3)),t.length)};function Si(e){ii(1,arguments);var t=oi(e),n=t.getUTCDay(),r=(n<1?7:0)+n-1;return t.setUTCDate(t.getUTCDate()-r),t.setUTCHours(0,0,0,0),t}function Di(e){ii(1,arguments);var t=oi(e),n=t.getUTCFullYear(),r=new Date(0);r.setUTCFullYear(n+1,0,4),r.setUTCHours(0,0,0,0);var a=Si(r),i=new Date(0);i.setUTCFullYear(n,0,4),i.setUTCHours(0,0,0,0);var o=Si(i);return t.getTime()>=a.getTime()?n+1:t.getTime()>=o.getTime()?n:n-1}function ki(e){ii(1,arguments);var t=Di(e),n=new Date(0);return n.setUTCFullYear(t,0,4),n.setUTCHours(0,0,0,0),Si(n)}function Li(e,t){ii(1,arguments);var n=t||{},r=n.locale,a=r&&r.options&&r.options.weekStartsOn,i=null==a?0:ai(a),o=null==n.weekStartsOn?i:ai(n.weekStartsOn);if(!(o>=0&&o<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var s=oi(e),c=s.getUTCDay(),l=(c<o?7:0)+c-o;return s.setUTCDate(s.getUTCDate()-l),s.setUTCHours(0,0,0,0),s}function Ai(e,t){ii(1,arguments);var n=oi(e,t),r=n.getUTCFullYear(),a=t||{},i=a.locale,o=i&&i.options&&i.options.firstWeekContainsDate,s=null==o?1:ai(o),c=null==a.firstWeekContainsDate?s:ai(a.firstWeekContainsDate);if(!(c>=1&&c<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var l=new Date(0);l.setUTCFullYear(r+1,0,c),l.setUTCHours(0,0,0,0);var u=Li(l,t),d=new Date(0);d.setUTCFullYear(r,0,c),d.setUTCHours(0,0,0,0);var f=Li(d,t);return n.getTime()>=u.getTime()?r+1:n.getTime()>=f.getTime()?r:r-1}function Pi(e,t){ii(1,arguments);var n=t||{},r=n.locale,a=r&&r.options&&r.options.firstWeekContainsDate,i=null==a?1:ai(a),o=null==n.firstWeekContainsDate?i:ai(n.firstWeekContainsDate),s=Ai(e,t),c=new Date(0);return c.setUTCFullYear(s,0,o),c.setUTCHours(0,0,0,0),Li(c,t)}var Ri="midnight",_i="noon",ji="morning",Vi="afternoon",Gi="evening",zi="night",Ui={G:function(e,t,n){var r=e.getUTCFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(e,t,n){if("yo"===t){var r=e.getUTCFullYear(),a=r>0?r:1-r;return n.ordinalNumber(a,{unit:"year"})}return wi(e,t)},Y:function(e,t,n,r){var a=Ai(e,r),i=a>0?a:1-a;return"YY"===t?bi(i%100,2):"Yo"===t?n.ordinalNumber(i,{unit:"year"}):bi(i,t.length)},R:function(e,t){return bi(Di(e),t.length)},u:function(e,t){return bi(e.getUTCFullYear(),t.length)},Q:function(e,t,n){var r=Math.ceil((e.getUTCMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return bi(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,n){var r=Math.ceil((e.getUTCMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return bi(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,n){var r=e.getUTCMonth();switch(t){case"M":case"MM":return Ei(e,t);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(e,t,n){var r=e.getUTCMonth();switch(t){case"L":return String(r+1);case"LL":return bi(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,n,r){var a=function(e,t){ii(1,arguments);var n=oi(e),r=Li(n,t).getTime()-Pi(n,t).getTime();return Math.round(r/6048e5)+1}(e,r);return"wo"===t?n.ordinalNumber(a,{unit:"week"}):bi(a,t.length)},I:function(e,t,n){var r=function(e){ii(1,arguments);var t=oi(e),n=Si(t).getTime()-ki(t).getTime();return Math.round(n/6048e5)+1}(e);return"Io"===t?n.ordinalNumber(r,{unit:"week"}):bi(r,t.length)},d:function(e,t,n){return"do"===t?n.ordinalNumber(e.getUTCDate(),{unit:"date"}):Ni(e,t)},D:function(e,t,n){var r=function(e){ii(1,arguments);var t=oi(e),n=t.getTime();t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0);var r=n-t.getTime();return Math.floor(r/864e5)+1}(e);return"Do"===t?n.ordinalNumber(r,{unit:"dayOfYear"}):bi(r,t.length)},E:function(e,t,n){var r=e.getUTCDay();switch(t){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(e,t,n,r){var a=e.getUTCDay(),i=(a-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(i);case"ee":return bi(i,2);case"eo":return n.ordinalNumber(i,{unit:"day"});case"eee":return n.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(a,{width:"short",context:"formatting"});case"eeee":default:return n.day(a,{width:"wide",context:"formatting"})}},c:function(e,t,n,r){var a=e.getUTCDay(),i=(a-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(i);case"cc":return bi(i,t.length);case"co":return n.ordinalNumber(i,{unit:"day"});case"ccc":return n.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(a,{width:"narrow",context:"standalone"});case"cccccc":return n.day(a,{width:"short",context:"standalone"});case"cccc":default:return n.day(a,{width:"wide",context:"standalone"})}},i:function(e,t,n){var r=e.getUTCDay(),a=0===r?7:r;switch(t){case"i":return String(a);case"ii":return bi(a,t.length);case"io":return n.ordinalNumber(a,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,n){var r=e.getUTCHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":case"aaa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"aaaaa":return n.dayPeriod(r,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},b:function(e,t,n){var r,a=e.getUTCHours();switch(r=12===a?_i:0===a?Ri:a/12>=1?"pm":"am",t){case"b":case"bb":case"bbb":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"bbbbb":return n.dayPeriod(r,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},B:function(e,t,n){var r,a=e.getUTCHours();switch(r=a>=17?Gi:a>=12?Vi:a>=4?ji:zi,t){case"B":case"BB":case"BBB":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(r,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},h:function(e,t,n){if("ho"===t){var r=e.getUTCHours()%12;return 0===r&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return xi(e,t)},H:function(e,t,n){return"Ho"===t?n.ordinalNumber(e.getUTCHours(),{unit:"hour"}):Mi(e,t)},K:function(e,t,n){var r=e.getUTCHours()%12;return"Ko"===t?n.ordinalNumber(r,{unit:"hour"}):bi(r,t.length)},k:function(e,t,n){var r=e.getUTCHours();return 0===r&&(r=24),"ko"===t?n.ordinalNumber(r,{unit:"hour"}):bi(r,t.length)},m:function(e,t,n){return"mo"===t?n.ordinalNumber(e.getUTCMinutes(),{unit:"minute"}):Ii(e,t)},s:function(e,t,n){return"so"===t?n.ordinalNumber(e.getUTCSeconds(),{unit:"second"}):Ti(e,t)},S:function(e,t){return Oi(e,t)},X:function(e,t,n,r){var a=(r._originalDate||e).getTimezoneOffset();if(0===a)return"Z";switch(t){case"X":return Hi(a);case"XXXX":case"XX":return Fi(a);case"XXXXX":case"XXX":default:return Fi(a,":")}},x:function(e,t,n,r){var a=(r._originalDate||e).getTimezoneOffset();switch(t){case"x":return Hi(a);case"xxxx":case"xx":return Fi(a);case"xxxxx":case"xxx":default:return Fi(a,":")}},O:function(e,t,n,r){var a=(r._originalDate||e).getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+Bi(a,":");case"OOOO":default:return"GMT"+Fi(a,":")}},z:function(e,t,n,r){var a=(r._originalDate||e).getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+Bi(a,":");case"zzzz":default:return"GMT"+Fi(a,":")}},t:function(e,t,n,r){var a=r._originalDate||e;return bi(Math.floor(a.getTime()/1e3),t.length)},T:function(e,t,n,r){return bi((r._originalDate||e).getTime(),t.length)}};function Bi(e,t){var n=e>0?"-":"+",r=Math.abs(e),a=Math.floor(r/60),i=r%60;if(0===i)return n+String(a);var o=t||"";return n+String(a)+o+bi(i,2)}function Hi(e,t){return e%60==0?(e>0?"-":"+")+bi(Math.abs(e)/60,2):Fi(e,t)}function Fi(e,t){var n=t||"",r=e>0?"-":"+",a=Math.abs(e);return r+bi(Math.floor(a/60),2)+n+bi(a%60,2)}function Zi(e,t){switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}}function qi(e,t){switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}}var Wi={p:qi,P:function(e,t){var n,r=e.match(/(P+)(p+)?/),a=r[1],i=r[2];if(!i)return Zi(e,t);switch(a){case"P":n=t.dateTime({width:"short"});break;case"PP":n=t.dateTime({width:"medium"});break;case"PPP":n=t.dateTime({width:"long"});break;case"PPPP":default:n=t.dateTime({width:"full"})}return n.replace("{{date}}",Zi(a,t)).replace("{{time}}",qi(i,t))}},Yi=["D","DD"],Ki=["YY","YYYY"];function Ji(e){return-1!==Yi.indexOf(e)}function $i(e){return-1!==Ki.indexOf(e)}function Xi(e,t,n){if("YYYY"===e)throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(t,"`) for formatting years to the input `").concat(n,"`; see: https://git.io/fxCyr"));if("YY"===e)throw new RangeError("Use `yy` instead of `YY` (in `".concat(t,"`) for formatting years to the input `").concat(n,"`; see: https://git.io/fxCyr"));if("D"===e)throw new RangeError("Use `d` instead of `D` (in `".concat(t,"`) for formatting days of the month to the input `").concat(n,"`; see: https://git.io/fxCyr"));if("DD"===e)throw new RangeError("Use `dd` instead of `DD` (in `".concat(t,"`) for formatting days of the month to the input `").concat(n,"`; see: https://git.io/fxCyr"))}var Qi=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,eo=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,to=/^'([^]*?)'?$/,no=/''/g,ro=/[a-zA-Z]/;function ao(e,t,n){ii(2,arguments);var r=String(t),a=n||{},i=a.locale||vi,o=i.options&&i.options.firstWeekContainsDate,s=null==o?1:ai(o),c=null==a.firstWeekContainsDate?s:ai(a.firstWeekContainsDate);if(!(c>=1&&c<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var l=i.options&&i.options.weekStartsOn,u=null==l?0:ai(l),d=null==a.weekStartsOn?u:ai(a.weekStartsOn);if(!(d>=0&&d<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!i.localize)throw new RangeError("locale must contain localize property");if(!i.formatLong)throw new RangeError("locale must contain formatLong property");var f=oi(e);if(!ui(f))throw new RangeError("Invalid time value");var p=yi(f,li(f)),h={firstWeekContainsDate:c,weekStartsOn:d,locale:i,_originalDate:f};return r.match(eo).map(function(e){var t=e[0];return"p"===t||"P"===t?(0,Wi[t])(e,i.formatLong,h):e}).join("").match(Qi).map(function(n){if("''"===n)return"'";var r=n[0];if("'"===r)return io(n);var o=Ui[r];if(o)return!a.useAdditionalWeekYearTokens&&$i(n)&&Xi(n,t,e),!a.useAdditionalDayOfYearTokens&&Ji(n)&&Xi(n,t,e),o(p,n,i.localize,h);if(r.match(ro))throw new RangeError("Format string contains an unescaped latin alphabet character `"+r+"`");return n}).join("")}function io(e){return e.match(to)[1].replace(no,"'")}function oo(e){var t=e.adapter,r=e.children;return n.default.createElement(Xr.Provider,{value:t},r)}function so(e){var t=e.children,r=e.className,a=e.style,i=e.type,o=Wt(Kn("banner",r,wt({},"".concat(i),!0)),1)[0];return n.default.createElement("div",{className:o,style:a},t)}function co(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function lo(e){var t=e.className,r=e.size,a=e.style,i=Wt(Kn("spinner",t),1)[0],o=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?co(Object(n),!0).forEach(function(t){wt(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):co(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},a);return r&&(o.width=r,o.height=r),n.default.createElement("div",{className:i,style:o})}function uo(e){var t,r=e.className,a=e.mediaType,i=e.meetingID,o=e.style,s=Xa(),c=Va(s).width,l=Ha(i),u=l.localVideo,d=l.localShare,f=l.settings,p=Ga().ID,h=Xa();switch(a){case"video":t=u.stream;break;case"screen":t=null==d?void 0:d.stream;break;case"preview":t=f.preview.video}ti(h,t);var m=Wt(Kn("local-media",r,{desktop:c>=425,"no-media":!t}),2),g=m[0],C=m[1],v=p?n.default.createElement(ri,{personID:p,displayStatus:!1}):n.default.createElement(lo,null);return n.default.createElement("div",{ref:s,className:g,style:o},t?n.default.createElement("video",{className:C("video"),ref:h,playsInline:!0,autoPlay:!0}):v)}function fo(e){var t=e.children,r=e.className,a=e.style,i=Wt(Kn("badge",r),1)[0];return n.default.createElement("div",{className:i,style:a},t)}function po(e){var t=e.children,r=e.className,a=e.style,i=e.type,o=Wt(Kn("title",r,wt({},"".concat(i),!0)),1)[0];return n.default.createElement("h5",{className:o,style:a},t)}function ho(e){var t=e.className,r=e.meetingID,a=e.style,i=Ha(r),o=i.remoteAudio,s=i.remoteVideo,c=i.remoteShare,l=i.error,u=i.speakerID,d=Ka(r,"meeting"),f=Xa(),p=Xa(),h=Xa(),m=Xa();ti(f,o),ti(p,s),ti(h,c),function(e,t){var r=f.current;(0,n.useEffect)(function(){r&&(r.setSinkId?r.setSinkId(t):console.error("useSpeakers: setSinkId() not supported on this element",r))},[r,t])}(0,u);var g,C=Va(m).width,v=d.filter(function(e){return e.inMeeting}).length>1,y=!!(o||s||c),b=Wt(Kn("remote-media",t,{tablet:C>=768&&C<1024,desktop:C>=1024&&C<1440,"desktop-xl":C>=1440,"remote-video-n-share":s&&c}),2),w=b[0],E=b[1];return g=l?n.default.createElement("div",{className:E("media-error")},n.default.createElement(Jr,{name:"error",className:E("error-icon")}),n.default.createElement("div",null,"Having trouble joining the meeting?"),n.default.createElement("div",null,"Please check your connection.")):y&&v?n.default.createElement(n.default.Fragment,null,s&&n.default.createElement("video",{className:"".concat(E("video")," ").concat(E("remote-video")),ref:p,muted:!0,playsInline:!0,autoPlay:!0}),c&&n.default.createElement("video",{className:"".concat(E("video")," ").concat(E("remote-share")),ref:h,muted:!0,playsInline:!0,autoPlay:!0}),o&&n.default.createElement("audio",{ref:f,autoPlay:!0})):y&&!v?n.default.createElement(po,{type:"subsection"},"Waiting for others to join..."):n.default.createElement(fo,{className:E("connecting-badge")},n.default.createElement(lo,{size:14,className:E("connecting-spinner")}),n.default.createElement("span",null,"Connecting")),n.default.createElement("div",{ref:m,className:w,style:a},g)}function mo(e){var t=e.className,r=e.meetingID,a=e.style,i=Ha(r),o=i.remoteShare,s=i.localShare,c=Xa(),l=Va(c),u=l.width,d=l.height,f=Wt((0,n.useState)("none"),2),p=f[0],h=f[1],m=null!=s&&s.stream?"screen":"video",g=Wt(Kn("in-meeting",t,{tablet:u>=768&&u<1024,desktop:u>=1024&&u<1440,"desktop-xl":u>=1440,"remote-sharing":null!==o}),2),C=g[0],v=g[1];return(0,n.useEffect)(function(){h(d?16*d/9:"none")},[d]),n.default.createElement("div",{ref:c,className:C,style:a},n.default.createElement("div",{style:{maxWidth:p},className:v("media-container")},n.default.createElement(ho,{className:v("remote-media-in-meeting"),meetingID:r}),n.default.createElement(uo,{className:v("local-media-in-meeting"),meetingID:r,mediaType:m}),(null==s?void 0:s.stream)&&n.default.createElement(so,{className:v("share-banner")},"You're sharing your screen")))}function go(e){var t,r,a,i,o=e.className,s=e.meetingID,c=e.style,l=Ha(s),u=l.ID,d=l.startTime,f=l.endTime,p=l.title,h=Xa(),m=Va(h).width,g=Wt(Kn("meeting-info",o,{tablet:m>=768&&m<1024,desktop:m>=1024}),2),C=g[0],v=g[1],y=n.default.createElement(lo,{size:36});if(u){var b=p||"No Meeting Information";y=n.default.createElement(n.default.Fragment,null,n.default.createElement("h2",{className:v("title")},b),d&&f&&n.default.createElement("h3",{className:v("time")},(t=new Date(d),r=new Date(f),a=ao(t,"p"),i=ao(r,"p"),"".concat(a," - ").concat(i))))}return n.default.createElement("div",{ref:h,className:C,style:c},y)}function Co(e){var t=e.className,r=e.meetingID,a=e.style,i=Wt(Kn("interstitial-meeting",t),2),o=i[0],s=i[1],c=Xa(),l=Va(c).height,u=Wt((0,n.useState)("none"),2),d=u[0],f=u[1],p=Ha(r).localVideo;return(0,n.useEffect)(function(){f(l?16*l/9-1:"none")},[l]),n.default.createElement("div",{className:o,style:a},r?n.default.createElement("div",{style:{maxWidth:d},className:s("media-container")},n.default.createElement(go,{className:s("info"),meetingID:r}),n.default.createElement("div",{ref:c,className:s("interstitial-media-container")},n.default.createElement(uo,{className:s("media"),meetingID:r,mediaType:"video"}),p.stream&&n.default.createElement(so,null,"My preview"))):n.default.createElement(lo,null))}r.default.string,r.default.string.isRequired,r.default.shape(),r.default.string.isRequired,r.default.string.isRequired,r.default.string,r.default.shape(),r.default.string,r.default.string.isRequired,r.default.shape(),r.default.string,r.default.string.isRequired,r.default.shape(),r.default.string,r.default.string.isRequired,r.default.shape(),oo.propTypes={adapter:r.default.shape({activitiesAdapter:r.default.object.isRequired,meetingsAdapter:r.default.object.isRequired,membershipsAdapter:r.default.object.isRequired,peopleAdapter:r.default.object.isRequired,roomsAdapter:r.default.object.isRequired}).isRequired,children:r.default.node.isRequired},so.propTypes={children:r.default.node.isRequired,className:r.default.string,style:r.default.shape(),type:r.default.oneOf(["top","bottom"])},so.defaultProps={className:"",style:void 0,type:"top"},lo.propTypes={className:r.default.string,size:r.default.number,style:r.default.shape()},lo.defaultProps={className:"",size:28,style:{}},uo.propTypes={className:r.default.string,mediaType:r.default.oneOf(["video","screen","preview"]),meetingID:r.default.string.isRequired,style:r.default.shape()},uo.defaultProps={className:"",mediaType:"video",style:void 0},fo.propTypes={children:r.default.node.isRequired,className:r.default.string,style:r.default.shape()},fo.defaultProps={className:"",style:{}},po.propTypes={children:r.default.node.isRequired,className:r.default.string,style:r.default.shape(),type:r.default.oneOf(["section","subsection"])},po.defaultProps={className:"",style:{},type:"section"},ho.propTypes={className:r.default.string,meetingID:r.default.string.isRequired,style:r.default.shape()},ho.defaultProps={className:"",style:void 0},mo.propTypes={className:r.default.string,meetingID:r.default.string.isRequired,style:r.default.shape()},mo.defaultProps={className:"",style:void 0},go.propTypes={className:r.default.string,meetingID:r.default.string.isRequired,style:r.default.shape()},go.defaultProps={className:"",style:void 0},Co.propTypes={className:r.default.string,meetingID:r.default.string.isRequired,style:r.default.shape()},Co.defaultProps={className:"",style:void 0};var vo=function(e){var t=e.children,n=document.querySelector("body");return(0,i.createPortal)(t,n)};function yo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function bo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?yo(Object(n),!0).forEach(function(t){wt(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yo(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}vo.propTypes={children:r.default.node.isRequired};var wo=function(e){var t,r=e.children,a=e.className,i=e.style,o=e.target,s=Wt(Kn("tooltip-container",a),2),c=s[0],l=s[1],u=Wt((0,n.useState)(!1),2),d=u[0],f=u[1];if(o){var p=o.getBoundingClientRect();t={left:p.x+p.width/2,bottom:window.innerHeight-p.top+14-window.scrollY}}return(0,n.useEffect)(function(){var e;if(o){var t=function(){f(!0)},n=function(){f(!1)};o.addEventListener("mouseenter",t),o.addEventListener("mouseleave",n),e=function(){o.removeEventListener("mouseenter",t),o.removeEventListener("mouseleave",n)}}return e},[t,o]),d&&n.default.createElement(vo,null,n.default.createElement("div",{className:c,style:bo(bo({},i),t)},n.default.createElement("div",{className:l("wrapper")},n.default.createElement("div",{className:l("box")},r,n.default.createElement("span",{className:l("arrow")})))))};function Eo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function No(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Eo(Object(n),!0).forEach(function(t){wt(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Eo(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function xo(e){var t,r=e.ariaLabel,a=e.autoFocus,i=e.children,o=e.className,s=e.isDisabled,c=e.onClick,l=e.pressed,u=e.size,d=e.style,f=e.tabIndex,p=e.tooltip,h=e.type,m=Wt(Kn("button",o,(wt(t={},"".concat(h),!0),wt(t,"pressed",l),t)),1)[0],g=Xa();return Qr(g,a),n.default.createElement(n.default.Fragment,null,n.default.createElement("button",{className:m,disabled:s,type:"button",onClick:c,"aria-label":r,autoFocus:a,tabIndex:f,ref:g,style:No({height:u},d)},i),p&&n.default.createElement(wo,{target:g.current},p))}function Mo(e){var t=e.className,r=e.style,a=e.type,i=e.name,o=e.value,s=e.placeholder,c=e.onChange,l=e.disabled,u=e.error,d=e.ariaLabel,f=e.required,p=e.autoFocus,h=e.tabIndex,m=Wt(Kn("input-field",t,{error:u}),2),g=m[0],C=m[1],v=Wt((0,n.useState)(!1),2),y=v[0],b=v[1],w=Xa();return Qr(w,p),n.default.createElement("div",{className:g,style:r},n.default.createElement("div",{className:C("form-control")},n.default.createElement("input",{type:y?"text":a,value:o,name:i,className:C("input"),placeholder:s,onChange:function(e){return c(e.target.value)},disabled:l,"aria-label":d,required:f,autoFocus:p,tabIndex:h,ref:w}),"password"===a&&o&&n.default.createElement(xo,{type:"ghost",className:C("input-field-right-icon"),size:28,onClick:function(){b(function(e){return!e})}},n.default.createElement(Jr,{name:y?"hide-password":"show-password"})),"password"!==a&&o&&n.default.createElement(xo,{type:"ghost",className:C("input-field-right-icon"),size:28,onClick:function(){return c("")}},n.default.createElement(Jr,{name:"cancel",size:16}))),u&&n.default.createElement("div",{className:C("input-error-container")},n.default.createElement(Jr,{name:"warning",size:16,className:C("input-error-icon")}),n.default.createElement("span",{className:C("input-error-text")},u)))}function Io(e){var t=e.children,r=e.className,a=e.onBack,i=e.onClose,o=e.otherClassName,s=e.title,c=e.ariaLabel,l=Xa(),u=Wt(Kn("modal",r,{"centered-modal":Va(l).width>768}),2),d=u[0],f=u[1];return n.default.createElement("div",{ref:l,className:d,onKeyUp:function(e){"Escape"!==e.key&&"Esc"!==e.key||i()},role:"dialog","aria-label":c||s},n.default.createElement("div",{className:"".concat(f("content")," ").concat(o)},n.default.createElement("div",{className:f("header")},a&&n.default.createElement(xo,{tabIndex:198,type:"ghost",className:f("back"),size:28,onClick:a,ariaLabel:"Return to the previous screen"},n.default.createElement(Jr,{name:"arrow-left",size:"13"})),s&&n.default.createElement("h3",{className:f("title")},s),i&&n.default.createElement(xo,{tabIndex:199,className:f("close"),type:"ghost",size:28,ariaLabel:"Close dialog",onClick:i},n.default.createElement(Jr,{name:"cancel",size:16}))),n.default.createElement("div",{className:f("body")},t)))}function To(e){var t=e.autoFocus,r=e.className,a=e.onMouseEnter,i=e.onSelect,o=e.option,s=e.selected,c=e.tabIndex,l=Xa(),u=Wt(Kn("option",r),2),d=u[0],f=u[1];return Qr(l,t),n.default.createElement("li",{"aria-label":"object"!==g(o.label)?o.label:o.value,"aria-selected":s===o.value,className:d,key:o.value,role:"option",ref:l,onClick:function(){return i(o,!1)},onKeyDown:function(e){var t;"ArrowUp"===e.key?t=l.current.previousElementSibling:"ArrowDown"===e.key?t=l.current.nextElementSibling:"Enter"===e.key&&i(o,!0),t&&t.focus()},onMouseEnter:a,tabIndex:c,title:"object"!==g(o.label)?o.label:void 0},o.icon&&n.default.createElement(Jr,{name:o.icon}),n.default.createElement("span",{className:f("label")},o.label),s&&n.default.createElement(Jr,{className:Wn(f("check"),wt({},f("check--invisible"),s!==o.value)),size:16,name:"check"}))}function Oo(e){var t=e.className,r=e.onBlur,a=e.onSelect,i=e.options,o=e.selected,s=e.tabIndex,c=e.withKey,l=Wt(Kn("options-list",t),2),u=l[0],d=l[1];return n.default.createElement("div",{className:u},n.default.createElement("ul",{role:"menu",className:d("list"),tabIndex:s,onKeyDown:function(e){"Tab"===e.key&&r()}},i.map(function(e,t){return n.default.createElement(To,{key:e.value,autoFocus:c&&(e.value===o||0===t),onSelect:a,option:e,selected:o,tabIndex:s})})))}function So(e){var t,r=e.className,a=e.value,i=e.options,o=e.onChange,s=e.disabled,c=e.tooltip,l=e.ariaLabel,u=e.tabIndex,d=Wt((0,n.useState)(void 0),2),f=d[0],p=d[1],h=Wt(Kn("select",r,{disabled:s}),2),m=h[0],g=h[1],C=null==i||null===(t=i.find(function(e){return e.value===a}))||void 0===t?void 0:t.label,v=Xa(),y=function(){return p(void 0)},b=function(e){return p({withKey:e})};return(0,n.useEffect)(function(){var e;return f&&(setTimeout(function(){return document.addEventListener("click",y)}),e=function(){return document.removeEventListener("click",y)}),e},[f]),n.default.createElement("div",{className:m},n.default.createElement("div",{className:"".concat(g("selected-option")," ").concat(f?g("expanded"):""),onClick:function(){return!1,void(s||p(f?void 0:{withKey:!1}))},"aria-hidden":"true",role:"button",tabIndex:u,title:c,"aria-label":"".concat(C?"".concat(C,". "):"").concat(l),onKeyDown:function(e){"Enter"!==e.key&&" "!==e.key||e.target!==e.currentTarget?"Tab"===e.key?y():"ArrowDown"!==e.key&&"ArrowUp"!==e.key||b(!0):b(!0)},ref:v},n.default.createElement("span",{className:g("label")},C||a),n.default.createElement(Jr,{name:f?"arrow-up":"arrow-down",size:13})),f&&n.default.createElement(Oo,{className:g("options-list"),options:i,onSelect:function(e){y(),o(e.value),v.current.focus()},withKey:f.withKey,selected:a,tabIndex:u,onBlur:y}))}wo.propTypes={className:r.default.string,children:r.default.node.isRequired,style:r.default.shape(),target:r.default.shape()},wo.defaultProps={className:"",style:{},target:null},xo.propTypes={ariaLabel:r.default.string,autoFocus:r.default.bool,children:r.default.node.isRequired,className:r.default.string,isDisabled:r.default.bool,onClick:r.default.func,pressed:r.default.bool,style:r.default.shape(),size:r.default.oneOfType([r.default.number,r.default.string]),tabIndex:r.default.number,tooltip:r.default.string,type:r.default.oneOf(["default","join","cancel","ghost","toggle"])},xo.defaultProps={ariaLabel:void 0,autoFocus:!1,className:"",isDisabled:!1,onClick:void 0,pressed:!1,style:{},size:32,tabIndex:void 0,tooltip:"",type:"default"},Mo.propTypes={autoFocus:r.default.bool,className:r.default.string,style:r.default.shape(),type:r.default.string,value:r.default.string,name:r.default.string,placeholder:r.default.string,onChange:r.default.func,disabled:r.default.bool,error:r.default.string,ariaLabel:r.default.string,required:r.default.bool,tabIndex:r.default.number},Mo.defaultProps={autoFocus:!1,className:"",style:void 0,type:"text",value:"",name:"",placeholder:"",onChange:void 0,disabled:!1,error:void 0,ariaLabel:void 0,required:!1,tabIndex:void 0},Io.propTypes={children:r.default.node.isRequired,className:r.default.string,onBack:r.default.func,onClose:r.default.func,otherClassName:r.default.string,title:r.default.string,ariaLabel:r.default.string},Io.defaultProps={className:"",onBack:void 0,onClose:void 0,otherClassName:void 0,title:"",ariaLabel:void 0},To.propTypes={className:r.default.string,autoFocus:r.default.bool,onMouseEnter:r.default.func,onSelect:r.default.func.isRequired,option:r.default.shape({value:r.default.string,label:r.default.node,icon:r.default.string}).isRequired,selected:r.default.string,tabIndex:r.default.number},To.defaultProps={className:"",autoFocus:void 0,onMouseEnter:void 0,selected:void 0,tabIndex:void 0},Oo.propTypes={className:r.default.string,onBlur:r.default.func,onSelect:r.default.func.isRequired,options:r.default.arrayOf(r.default.shape({value:r.default.string,label:r.default.node,icon:r.default.string})),selected:r.default.string,tabIndex:r.default.number,withKey:r.default.bool},Oo.defaultProps={className:"",onBlur:void 0,options:[],selected:"",tabIndex:void 0,withKey:!1},So.propTypes={className:r.default.string,value:r.default.string,options:r.default.arrayOf(r.default.shape({value:r.default.string,label:r.default.string})),onChange:r.default.func.isRequired,disabled:r.default.bool,tooltip:r.default.string,ariaLabel:r.default.string,tabIndex:r.default.number},So.defaultProps={className:"",value:"",options:[],disabled:!1,tooltip:void 0,ariaLabel:void 0,tabIndex:void 0};var Do={camera:{icon:"camera-bold",title:"Allow access to camera",message:"when your browser asks to let Webex use your camera for this video call",iconLabel:"Camera icon",buttonLabel:"Proceed without camera",buttonAction:"ignoreVideoAccessPrompt",buttonTooltip:"This setting cannot be changed once the meeting starts.",buttonHint:"Proceed without camera. This setting cannot be changed once the meeting starts."},microphone:{icon:"microphone-bold",title:"Allow access to microphone",message:"when your browser asks to let Webex use your microphone for this video call",iconLabel:"Microphone icon",buttonLabel:"Proceed without audio",buttonAction:"ignoreAudioAccessPrompt",buttonTooltip:"This setting cannot be changed once the meeting starts.",buttonHint:"Proceed without audio. This setting cannot be changed once the meeting starts."}};function ko(e){var t=e.className,r=e.logo,a=e.media,i=e.meetingID,o=e.style,s=Do[a],c=Wt(Kn("media-access",t),2),l=c[0],u=c[1],d=(0,n.useContext)(Xr),f=Ha(i).ID;return n.default.createElement("div",{className:l,style:o},r&&n.default.createElement("div",{className:u("logo-container")},r),n.default.createElement(Jr,{name:s.icon,size:48,ariaLabel:s.iconLabel}),n.default.createElement("h2",{className:u("title")},s.title),n.default.createElement("p",{className:u("body")},"Select"," ",n.default.createElement("span",{className:u("allow")},"Allow")," ",s.message),n.default.createElement(xo,{type:"default",size:40,onClick:function(){return d.meetingsAdapter[s.buttonAction](f)},tooltip:s.buttonTooltip,ariaLabel:s.buttonHint},s.buttonLabel))}ko.propTypes={className:r.default.string,logo:r.default.node,media:r.default.oneOf(["camera","microphone"]),meetingID:r.default.string.isRequired,style:r.default.shape()},ko.defaultProps={className:"",logo:void 0,media:"camera",style:void 0};var Lo={JOIN:"join",CANCEL:"cancel",CLOSE:"ghost",BUTTON:"default",TOGGLE:"toggle"};function Ao(e){var t,r=e.asItem,a=e.autoFocus,i=e.className,o=e.meetingID,s=e.showText,c=e.style,l=e.tabIndex,u=Wt(Fa(e.type,o),2),d=u[0],f=u[1],p=Wt(Kn("meeting-control",i,{"as-item":r}),2),h=p[0],m=p[1];return t=f&&0!==Object.keys(f).length?"MULTISELECT"===f.type?function(e,t,r,a,i){var o=r.options,s=r.noOptionsMessage,c=r.selected,l=r.tooltip,u=r.hint;return n.default.createElement(So,{className:e("control-select"),style:a,value:c||"",onChange:function(e){return t(e)},options:0===(null==o?void 0:o.length)?[{value:"",label:s}]:o,disabled:!(null!=o&&o.length),tooltip:l,ariaLabel:u,tabIndex:i})}(m,d,f,c,l):function(e,t,r,a,i,o,s,c){var l=r.icon,u=r.type,d=r.text,f=r.tooltip,p=r.hint,h=r.state===rn,m=r.state===tn;return o?n.default.createElement(xo,{type:"ghost",style:a,size:24,className:e("as-item"),tooltip:f,ariaLabel:p||d},l&&n.default.createElement(Jr,{name:l,size:14,className:e("item-button-icon")}),n.default.createElement("span",{className:e("item-button-text")},d)):n.default.createElement(xo,{className:e("control-button"),type:Lo[u]||"default",size:48,isDisabled:h,onClick:t,ariaLabel:p||d,pressed:m,tooltip:f,autoFocus:s,tabIndex:c},l&&n.default.createElement(Jr,{name:l,size:24}),(i||!l)&&d&&n.default.createElement("span",{className:e("button-text")},d))}(m,d,f,c,s,r,a,l):"",n.default.createElement("div",{className:h},t)}Ao.propTypes={asItem:r.default.bool,autoFocus:r.default.bool,className:r.default.string,meetingID:r.default.string.isRequired,showText:r.default.bool,style:r.default.shape(),tabIndex:r.default.number,type:r.default.string.isRequired},Ao.defaultProps={asItem:!1,autoFocus:!1,className:"",showText:!0,style:void 0,tabIndex:void 0};var Po=function(e){return!!e};function Ro(e){for(var t=e.className,r=e.collapseRangeStart,a=e.collapseRangeEnd,i=e.controls,o=e.meetingID,s=e.style,c=e.tabIndexes,l=(0,n.useContext)(Xr).meetingsAdapter,u=Ha(o).state,d=Xa(),f=Xa(),p=Xa(),h=Va(d).width,m=Va(p).width,g=u===on,C=Wt(Kn("meeting-control-bar",t),2),v=C[0],y=C[1],b=i(g),w=c(g),E=b.length,N=Wt((0,n.useState)(),2),x=N[0],M=N[1],I=Wt((0,n.useState)([0,0]),2),T=Wt(I[0],2),O=T[0],S=T[1],D=I[1],k=Wt((0,n.useState)(void 0),2),L=k[0],A=k[1],P=[],R=[],_=[],j=[],V=0;V<20;V+=1){var G=Xa(),z=Xa(),U=Va(G).width,B=Va(z).width,H=V<E;P[V]=H&&G,R[V]=H&&z,_[V]=H&&U+10,j[V]=H&&B+10}var F=function(){return A(void 0)};(0,n.useEffect)(function(){if(_.splice(E),j.splice(E),h&&m&&_.every(Po)&&j.every(Po)){for(var e=j.reduce(function(e,t){return e+t},0),t=j.map(function(){return!0}),n=E-1;n>=0&&e>h;n-=1)e-=j[n]-_[n],t[n]=!1;if(M(t),e<=h)D([0,0]),F();else{var i=(r+E)%E,o=(a+E)%E;e+=m+10;for(var s=o,c=o-1;c>=i&&e>h;c-=1)e-=_[c],s=c;D([s,o])}}},[h,m,r,a,E].concat(_,j));var Z,q=function(e,t){return function(e,t){return Array(Math.max(0,t-e)).fill().map(function(t,n){return e+n})}(e,t).map(function(e){return n.default.createElement(Ao,{key:b[e],type:b[e],meetingID:o,showText:x[e],autoFocus:w[e]===Math.min.apply(Math,$t(w))||!1,tabIndex:w[e]})})},W=function(e,t,r,a){return n.default.createElement("div",{ref:r,key:"collapse-button",className:y("collapse-button")},n.default.createElement(xo,{onClick:t,type:"toggle",size:48,pressed:!!e,tabIndex:a,tooltip:"More options",ariaLabel:e?"Collapse additional controls":"Expand additional controls"},n.default.createElement(Jr,{name:e?"more-adr":"more"})))};return(0,n.useEffect)(function(){var e;if(L){var t=function(){return F()};setTimeout(function(){return document.addEventListener("click",t)}),e=function(){return document.removeEventListener("click",t)}}return e},[L]),n.default.createElement("div",{ref:d,className:v,style:s},L&&(Z=b.slice(O,S).map(function(e){return{value:e,label:n.default.createElement(Ao,{key:e,type:e,meetingID:o,asItem:!0})}}),n.default.createElement(Oo,{className:y("collapsed-controls"),options:Z,onSelect:function(e){l.meetingControls[e.value].action(o),F(),f.current.focus()},onBlur:F,withKey:L.withKey,tabIndex:w[O]})),x&&n.default.createElement("div",{className:y("controls")},q(0,O),O<S&&W(L,function(e){return t=!e.detail,void A(function(e){return e?void 0:{withKey:t}});var t},f,w[O]),q(S,E)),n.default.createElement("div",{className:"".concat(y("controls")," ").concat(y("controls--control-refs")),"aria-hidden":"true"},b.map(function(e,t){return n.default.createElement(n.default.Fragment,{key:e},n.default.createElement("div",{ref:P[t],key:"icon"},n.default.createElement(Ao,{type:e,meetingID:o,showText:!1})),n.default.createElement("div",{ref:R[t],key:"text"},n.default.createElement(Ao,{type:e,meetingID:o,showText:!0})))}),W(L,function(){},p)))}Ro.propTypes={className:r.default.string,collapseRangeStart:r.default.number,collapseRangeEnd:r.default.number,controls:r.default.func,meetingID:r.default.string.isRequired,style:r.default.shape(),tabIndexes:r.default.func},Ro.defaultProps={className:"",collapseRangeStart:0,collapseRangeEnd:-1,controls:function(e){return e?["mute-audio","mute-video","leave-meeting"]:["mute-audio","mute-video","join-meeting"]},tabIndexes:function(e){return e?[1,2,3]:[2,3,1]},style:void 0};var _o="Webex by Cisco logo",jo="Your name appears in the participant list. Skip this optional field to use the name provided by the system.",Vo="The password is provided in the invitation for a scheduled  meeting, or from the host.",Go="Start meeting. Start the meeting after entering the required information.",zo="Click to go to a new screen where the meeting host can enter the host key.";function Uo(e){var t=e.className,r=e.meetingID,a=e.style,i=e.switchToHostModal,o=Wt((0,n.useState)(),2),s=o[0],c=o[1],l=Wt((0,n.useState)(""),2),u=l[0],d=l[1],f=Wt((0,n.useState)(),2),p=f[0],h=f[1],m=Ha(r),g=m.ID,C=m.invalidPassword,v=Wt((0,n.useState)(!1),2),y=v[0],b=v[1],w=(0,n.useContext)(Xr),E=Xa(),N=Wt(Kn("meeting-guest-authentication",t,{phone:Va(E).width<=425}),2),x=N[0],M=N[1],I=p||!u||C||y,T="Enter meeting information to join";return n.default.createElement("div",{ref:E,className:x,style:a},n.default.createElement("div",{className:M("header")},n.default.createElement("div",{className:M("logo"),"aria-label":_o}),n.default.createElement("div",{className:M("title"),title:T},T)),n.default.createElement("form",{className:M("form-content")},n.default.createElement("label",{className:M("label")},n.default.createElement("span",{className:M("label-text")},"Your name"),n.default.createElement(Mo,{type:"text",name:"name",value:s,onChange:function(e){c(e),h(function(e){var t;return e.match(/^[a-zA-Z ]*$/)||(t="Name can only contain letters."),t}(e))},disabled:y,error:p,ariaLabel:jo,autoFocus:!0,tabIndex:101})),n.default.createElement("label",{className:M("label")},n.default.createElement("span",{className:M("label-text")},"Meeting password (required)"),n.default.createElement(Mo,{type:"password",name:"password",value:u,onChange:function(e){d(e),w.meetingsAdapter.clearInvalidPasswordFlag(g)},disabled:y,error:C?"Incorrect password. Try again.":"",ariaLabel:Vo,tabIndex:102})),n.default.createElement(xo,{type:"primary",className:M("start-button"),size:28,onClick:function(){b(!0),w.meetingsAdapter.joinMeeting(g,{name:s,password:u}).finally(function(){return b(!1)})},isDisabled:I,ariaLabel:Go,tabIndex:103},y&&n.default.createElement(lo,{className:M("start-button-spinner"),size:16}),y?"Starting meeting...":"Start meeting")),n.default.createElement("div",{className:M("host-text")},"Hosting the meeting?"," ",n.default.createElement("a",{href:"#",tabIndex:104,className:M("host-hyperlink"),onClick:function(e){e.preventDefault(),i()},"aria-label":zo},"Enter host key.")))}Uo.propTypes={className:r.default.string,meetingID:r.default.string.isRequired,style:r.default.shape(),switchToHostModal:r.default.func},Uo.defaultProps={className:"",style:void 0,switchToHostModal:void 0};var Bo="Webex by Cisco logo",Ho="The host key is generated when a meeting is scheduled.",Fo="Start meeting. Start the meeting for all participants after entering the required information.";function Zo(e){var t=e.className,r=e.meetingID,a=e.style,i=Wt((0,n.useState)(""),2),o=i[0],s=i[1],c=Ha(r),l=c.ID,u=c.invalidHostKey,d=Wt((0,n.useState)(!1),2),f=d[0],p=d[1],h=(0,n.useContext)(Xr),m=Xa(),g=Wt(Kn("meeting-host-authentication",t,{phone:Va(m).width<=425}),2),C=g[0],v=g[1],y=!o||u||f,b="Enter host information to join";return n.default.createElement("div",{ref:m,className:C,style:a},n.default.createElement("div",{className:v("header")},n.default.createElement("div",{className:v("logo"),"aria-label":Bo}),n.default.createElement("div",{className:v("title"),title:b},b)),n.default.createElement("form",{className:v("form-content"),onSubmit:function(e){e.preventDefault()}},n.default.createElement("label",{className:v("label")},n.default.createElement("span",{className:v("label-text")},"Host key (required)"),n.default.createElement(Mo,{type:"password",name:"password",value:o,disabled:f,onChange:function(e){s(e),h.meetingsAdapter.clearInvalidHostKeyFlag(l)},error:u?"Incorrect host key. Try again.":"",ariaLabel:Ho,autoFocus:!0,tabIndex:101})),n.default.createElement(xo,{type:"primary",className:v("start-button"),size:28,onClick:function(){p(!0),h.meetingsAdapter.joinMeeting(l,{hostKey:o}).finally(function(){return p(!1)})},isDisabled:y,ariaLabel:Fo,tabIndex:102},f&&n.default.createElement(lo,{className:v("start-button-spinner"),size:16}),f?"Starting meeting...":"Start meeting")))}function qo(e){var t,r=e.className,a=e.destinationID,i=e.destinationType,o=e.displayStatus,s=e.personID,c=e.style,l=ei(s),u=l.displayName,d=l.orgID,f=l.emails,p=Ga(),h=Ka(a,i).find(function(e){return e.ID===s}),m=$a(d),g=null==h?void 0:h.muted,C=null==h?void 0:h.speaking,v=void 0!==d&&void 0!==p.orgID&&p.orgID!==d,y=null==h?void 0:h.sharing,b=null==h?void 0:h.inMeeting,w=p.ID===s&&i===ln,E=null==h?void 0:h.host,N=null==h?void 0:h.guest,x=[w&&"You",E&&"Host",y&&"Presenter"].filter(function(e){return e}),M=(null==f||null===(t=f[0])||void 0===t?void 0:t.split("@")[1])||n.default.createElement("i",null,"Unknown organization"),I=Wt(Kn("member",r),2),T=I[0],O=I[1];return n.default.createElement("div",{className:T,style:c},n.default.createElement(ri,{personID:s,displayStatus:o,className:O("avatar")}),n.default.createElement("div",{className:O("details")},n.default.createElement("div",{className:O("name")},(null!=u?u:n.default.createElement(lo,{size:16}))||n.default.createElement("i",null,"Name not available"),N&&n.default.createElement("span",{className:O("guest")}," (Guest)")),x.length>0&&n.default.createElement("div",{className:O("roles")},x.join(", ")),v&&n.default.createElement("div",{className:O("organization")},m.name||M)),b&&y&&n.default.createElement(Jr,{name:"content-share",size:16,className:O("sharing")}),b&&C&&n.default.createElement(Jr,{name:"microphone",size:16,className:O("speaking")}),b&&g&&n.default.createElement(Jr,{name:"microphone-muted",size:16,className:O("muted")}))}function Wo(e){var t=e.className,r=e.destinationID,a=e.destinationType,i=e.style,o=e.onClose,s=Ka(r,a),c=Ga().orgID,l=Wt(Kn("member-roster",t),2),u=l[0],d=l[1],f=function(e){return e.map(function(e){var t=e.ID;return n.default.createElement(qo,{destinationType:a,destinationID:r,personID:t,key:t})})},p=function(e,t){return e.length>0&&n.default.createElement(n.default.Fragment,null,n.default.createElement("h5",{className:d("section-title")},t),f(e))},h=s.some(function(e){return void 0!==e.orgID&&void 0!==c&&e.orgID!==c})&&n.default.createElement("div",{className:d("external-user-warning")},n.default.createElement(Jr,{name:"external-user",size:20,className:d("external-user-icon")}),n.default.createElement("div",{className:d("external-user-message")},"People outside your company are included in this space"));return n.default.createElement("div",{className:u,style:i},n.default.createElement("div",{className:d("header")},n.default.createElement(po,{type:"section",className:d("title")},"Participants (",s?s.length:n.default.createElement("i",null,"loading..."),")"),n.default.createElement(xo,{type:"ghost",size:28,onClick:o,tabIndex:50,ariaLabel:"Close participants panel"},n.default.createElement(Jr,{name:"cancel",size:16}))),h,n.default.createElement("div",{className:d("members")},a!==ln?f(s):n.default.createElement(n.default.Fragment,null,p(s.filter(function(e){return e.inMeeting}),"In the meeting"),p(s.filter(function(e){return!e.inMeeting}),"Not in the meeting"))))}function Yo(e){var t=e.className,r=e.onSelect,a=e.selected,i=e.style,o=e.tabs,s=e.tabIndex,c=o.find(function(e){return e.key===a}).content,l=Wt(Kn("tabs",t),2),u=l[0],d=l[1],f=(o||[]).findIndex(function(e){return e.key===a}),p=Xa();return Qr(p,!0),n.default.createElement("div",{className:u,style:i},n.default.createElement("ul",{className:d("list"),tabIndex:s,onKeyUp:function(e){if("ArrowLeft"===e.key){var t=(f+o.length-1)%o.length;r(o[t].key)}else if("ArrowRight"===e.key){var n=(f+1)%o.length;r(o[n].key)}},"aria-label":"Use arrow keys to navigate between setting options",role:"tablist",ref:p},o.map(function(e,t){return n.default.createElement("li",{className:Wn(d("tab"),a===e.key&&d("tab--active")),key:e.key,role:"tab","aria-selected":a===e.key},n.default.createElement("button",{onClick:function(){return r(e.key)},type:"button","aria-label":"".concat(e.heading,". Tab ").concat(t+1," of ").concat(o.length,". ").concat(e.ariaLabel)},e.heading))})),n.default.createElement("div",{className:d("content")},c()))}Zo.propTypes={className:r.default.string,meetingID:r.default.string.isRequired,style:r.default.shape()},Zo.defaultProps={className:"",style:void 0},qo.propTypes={className:r.default.string,destinationID:r.default.string.isRequired,destinationType:r.default.string.isRequired,displayStatus:r.default.bool,personID:r.default.string.isRequired,style:r.default.shape()},qo.defaultProps={className:"",displayStatus:!1,style:void 0},Wo.propTypes={className:r.default.string,destinationID:r.default.string.isRequired,destinationType:r.default.string.isRequired,style:r.default.shape(),onClose:r.default.func},Wo.defaultProps={className:"",style:void 0,onClose:void 0},Yo.propTypes={className:r.default.string,onSelect:r.default.func.isRequired,selected:r.default.string.isRequired,style:r.default.shape(),tabs:r.default.arrayOf(r.default.object).isRequired,tabIndex:r.default.number},Yo.defaultProps={className:"",style:void 0,tabIndex:-1};var Ko=Kn("no-media"),Jo=Wt(Ko,2)[1],$o={microphone:{icon:"microphone-issue",title:"Can't access microphone",message:n.default.createElement(n.default.Fragment,null,n.default.createElement("p",{className:Jo("indications")},"Reload this page and select ",n.default.createElement("b",{className:Jo("accent")},"Allow")," when your browser asks."),n.default.createElement("p",{className:Jo("indications")},n.default.createElement("div",null,n.default.createElement("b",{className:Jo("accent")},"Still not working?")),"You may need to update your webpage permissions. Go to your ",n.default.createElement("b",{className:Jo("accent")},"browser settings"),", look for website settings, select ",n.default.createElement("b",{className:Jo("accent")},"Allow for Microphone"),", then reload this page."))},camera:{icon:"camera-issue",title:"Can't access camera",message:n.default.createElement(n.default.Fragment,null,n.default.createElement("p",{className:Jo("indications")},"Reload this page and select ",n.default.createElement("b",{className:Jo("accent")},"Allow")," when your browser asks."),n.default.createElement("p",{className:Jo("indications")},n.default.createElement("div",null,n.default.createElement("b",{className:Jo("accent")},"Still not working?")),"You may need to update your webpage permissions. Go to your ",n.default.createElement("b",{className:Jo("accent")},"browser settings"),", look for website settings, select ",n.default.createElement("b",{className:Jo("accent")},"Allow for Camera"),", then reload this page."))}};function Xo(e){var t=e.className,r=e.style,a=e.media,i=Wt(Kn("no-media",t),1)[0],o=$o[a];return n.default.createElement("div",{className:i,style:r},n.default.createElement(Jr,{className:Jo("icon-media-issue"),name:o.icon}),n.default.createElement(po,{type:"subsection",className:Jo("title")},o.title),n.default.createElement("div",{className:Jo("body")},o.message))}function Qo(e){var t,r=e.className,a=e.meetingID,i=e.style,o=Wt(Kn("audio-settings",r),2),s=o[0],c=o[1],l=Wt(Fa("switch-microphone",a),2)[1];return n.default.createElement("div",{className:s,style:i},0!==(null===(t=l.options)||void 0===t?void 0:t.length)?n.default.createElement(n.default.Fragment,null,n.default.createElement(po,{type:"subsection"},"Speaker"),n.default.createElement(Ao,{type:"switch-speaker",meetingID:a,tabIndex:102}),n.default.createElement(po,{type:"subsection"},"Microphone"),n.default.createElement(Ao,{type:"switch-microphone",meetingID:a,tabIndex:103})):n.default.createElement(Xo,{media:"microphone",className:c("no-media")}))}function es(e){var t,r=e.meetingID,a=e.className,i=e.style,o=Wt(Kn("video-settings",a),2),s=o[0],c=o[1],l=Wt(Fa("switch-camera",r),2)[1];return n.default.createElement("div",{className:s,style:i},0!==(null===(t=l.options)||void 0===t?void 0:t.length)?n.default.createElement(n.default.Fragment,null,n.default.createElement(po,{type:"subsection"},"Camera"),n.default.createElement(Ao,{type:"switch-camera",meetingID:r,tabIndex:102}),n.default.createElement("div",{className:c("media")},n.default.createElement(uo,{mediaType:"preview",meetingID:r}),n.default.createElement(so,{type:"bottom"},"Preview"))):n.default.createElement(Xo,{media:"camera",className:c("no-media")}))}function ts(e){var t=e.meetingID,r=e.className,a=e.style,i=Wt(Kn("settings",r),1)[0],o=Wt((0,n.useState)("audio"),2),s=o[0],c=o[1],l=[{key:"audio",heading:"Audio",content:function(){return n.default.createElement(Qo,{meetingID:t})},ariaLabel:"View speaker and microphone settings."},{key:"video",heading:"Video",content:function(){return n.default.createElement(es,{meetingID:t})},ariaLabel:"View camera settings."}];return n.default.createElement("div",{className:i,style:a},n.default.createElement(Yo,{tabs:l,selected:s,onSelect:c,tabIndex:101}))}function ns(e){var t=e.className,r=e.meetingID,a=e.style,i=Wt(Kn("waiting-for-host",t),2),o=i[0],s=i[1],c=(0,n.useContext)(Xr),l=Ha(r).ID;return n.default.createElement("div",{className:o,style:a},n.default.createElement(go,{className:s("info"),meetingID:r}),n.default.createElement("div",{className:s("content")},n.default.createElement("div",{className:s("icon")},n.default.createElement(Jr,{name:"waiting-for-host",size:120,ariaLabel:"Waiting for meeting rocket illustration"})),n.default.createElement("div",{className:s("text")},"Thank you for waiting. Well start the meeting when the host joins."),n.default.createElement(xo,{type:"default",size:40,onClick:function(){return c.meetingsAdapter.leaveMeeting(l)},tooltip:"Leave meeting",ariaLabel:"Leave the meeting to stop waiting for the host. To return to the meeting after leaving, refresh the web browser and join again.",tabIndex:1},"Leave meeting")),n.default.createElement(uo,{className:s("local-media"),meetingID:r,mediaType:"video"}))}function rs(e){var t=e.className,r=e.controls,a=e.controlsCollapseRangeStart,i=e.controlsCollapseRangeEnd,o=e.controlsTabIndexes,s=e.logo,c=e.meetingID,l=e.style,u=Ha(c),d=u.ID,f=u.localAudio,p=u.localVideo,h=u.state,m=u.showRoster,g=u.settings,C=u.passwordRequired,v=on,y=an,b=sn,w=(0,n.useContext)(Xr),E=Xa(),N=Va(E).width,x=Wt(Kn("meeting",t,{"roster-only":m&&N<=425}),2),M=x[0],I=x[1],T=Wt((0,n.useState)(!1),2),O=T[0],S=T[1],D=Xa(),k=Wt((0,n.useState)("guest"),2),L=k[0],A=k[1];(0,n.useEffect)(function(){return h&&h!==b&&(S(!0),D.current=setTimeout(function(){S(!1)},3e3)),function(){return clearTimeout(D.current)}},[f.stream,p.stream,h,b]);var P,R,_="".concat(f.stream?"Unmuted":"Muted",", ").concat(p.stream?"Camera on":"Camera off");h?h===b?P=n.default.createElement(po,{type:"subsection",className:I("centered")},"You've successfully left the meeting"):(R=h===v?mo:h===y?Co:ns,P=n.default.createElement(n.default.Fragment,null,n.default.createElement("div",{className:I("body")},n.default.createElement(R,{meetingID:d,className:I("inner-meeting")}),m&&n.default.createElement(Wo,{destinationID:d,destinationType:ln,className:I("member-roster"),onClose:function(){return w.meetingsAdapter.toggleRoster(d)}}),O&&n.default.createElement(fo,{className:I("media-state-toast")},_)),n.default.createElement(Ro,{meetingID:d,className:I("control-bar"),controls:r,collapseRangeStart:a,collapseRangeEnd:i,tabIndexes:o}),g.visible&&n.default.createElement(Io,{onClose:function(){return w.meetingsAdapter.toggleSettings(d)},otherClassName:I("settings"),title:"Settings",ariaLabel:"Meeting settings window"},n.default.createElement(ts,{meetingID:d})),C&&h===y&&n.default.createElement(Io,{onClose:function(){return w.meetingsAdapter.clearPasswordRequiredFlag(d)},otherClassName:[I("authentication")],onBack:"host"===L&&function(){return A("guest")},ariaLabel:"guest"===L?"Meeting guest authentication":"Meeting host authentication"},"guest"===L?n.default.createElement(Uo,{meetingID:d,className:I("authentication-guest"),switchToHostModal:function(){return A("host")}}):n.default.createElement(Zo,{meetingID:d,className:I("authentication-host")})))):P=n.default.createElement("div",{className:I("loading-logo")});return n.default.createElement("div",{className:M,style:l,ref:E},s&&n.default.createElement("div",{className:I("logo")},s),P)}function as(e){function t(t){var r=Ya(t.meetingDestination);return n.default.createElement(e,Xt({meeting:r},t))}return t.propTypes={meetingDestination:r.default.string.isRequired},t}function is(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function os(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?is(Object(n),!0).forEach(function(t){wt(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):is(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function ss(e,r){function a(a){var i=Wt((0,n.useState)(!1),2),o=i[0],s=i[1],c=Wt((0,n.useState)(null),2),l=c[0],u=c[1];(0,n.useEffect)(function(){u(r(a))},[r]),(0,n.useEffect)(function(){var e;function n(){return(n=bt(vt.mark(function e(){return vt.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.connect();case 2:t.testRendererAct(function(){return s(!0)});case 3:case"end":return e.stop()}},e)}))).apply(this,arguments)}function r(){return(r=bt(vt.mark(function e(){return vt.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s(!1),e.next=3,l.disconnect();case 3:case"end":return e.stop()}},e)}))).apply(this,arguments)}return l&&(function(){n.apply(this,arguments)}(),e=function(){return function(){return r.apply(this,arguments)}()}),e},[l]);var d=os(os({},a),{},{adapterConnected:o}),f=n.default.createElement(e,d);return o?n.default.createElement(oo,{adapter:l},f):f}var i;return a.displayName="WithAdapter(".concat((i=e).displayName||i.name||"Component",")"),a}Xo.propTypes={className:r.default.string,style:r.default.shape(),media:r.default.oneOf(["camera","microphone"]).isRequired},Xo.defaultProps={className:void 0,style:void 0},Qo.propTypes={className:r.default.string,meetingID:r.default.string.isRequired,style:r.default.shape()},Qo.defaultProps={className:"",style:void 0},es.propTypes={className:r.default.string,meetingID:r.default.string.isRequired,style:r.default.shape()},es.defaultProps={className:"",style:void 0},ts.propTypes={className:r.default.string,meetingID:r.default.string.isRequired,style:r.default.shape()},ts.defaultProps={className:"",style:void 0},ns.propTypes={className:r.default.string,meetingID:r.default.string.isRequired,style:r.default.shape()},ns.defaultProps={className:"",style:void 0},rs.propTypes={className:r.default.string,controls:r.default.func,controlsCollapseRangeStart:r.default.number,controlsCollapseRangeEnd:r.default.number,controlsTabIndexes:r.default.func,logo:r.default.node,meetingID:r.default.string,style:r.default.shape()},rs.defaultProps={className:"",controls:function(e){return e?["mute-audio","mute-video","share-screen","member-roster","settings","leave-meeting"]:["mute-audio","mute-video","settings","join-meeting"]},controlsCollapseRangeStart:0,controlsCollapseRangeEnd:-1,controlsTabIndexes:function(e){return e?[1,2,3,4,5,6]:[2,3,4,1]},logo:void 0,meetingID:void 0,style:void 0},t.testRendererAct=function(e){return e()},MediaStream.prototype.getTracks||(MediaStream.prototype.getTracks=(()=>[]));class cs{constructor(e){this.datasource=e}connect(){return Promise.reject(new Error("connect() must be defined in WebexAdapter"))}disconnect(){return Promise.reject(new Error("disconnect() must be defined in WebexAdapter"))}}const ls={ACTIVE:"active",INACTIVE:"inactive",DISABLED:"disabled"},us={NOT_JOINED:"NOT_JOINED",LOBBY:"LOBBY",JOINED:"JOINED",LEFT:"LEFT"};class ds extends cs{constructor(e){super(e),this.meetingControls={}}createMeeting(e){return ve(new Error("createMeeting(destination) must be defined in MeetingsAdapter"))}incomingMeeting(e){return ve(new Error("incomingMeeting(destination) must be defined in MeetingsAdapter"))}getMeeting(e){return ve(new Error("getMeeting(ID) must be defined in MeetingsAdapter"))}joinMeeting(e){throw new Error("joinMeeting(ID) must be defined in MeetingsAdapter")}leaveMeeting(e){throw new Error("leaveMeeting(ID) must be defined in MeetingsAdapter")}supportedControls(){return ve(new Error("supportedControls() must be defined in MeetingsAdapter"))}clearPasswordRequiredFlag(e){throw new Error("clearPasswordRequiredFlag(ID) must be defined in MeetingsAdapter")}clearInvalidPasswordFlag(e){throw new Error("clearInvalidPasswordFlag(ID) must be defined in MeetingsAdapter")}}const fs={ROOM:"room",MEETING:"meeting"};class ps extends cs{getMembersFromDestination(e,t){return ve(new Error("getMembersFromDestination(destinationID, destinationType) must be defined in MembershipsAdapter"))}}class hs extends cs{getOrg(e){return ve(new Error("getOrg(ID) must be defined in OrganizationsAdapter"))}}const ms={ACTIVE:"active",BOT:"bot",CALL:"call",DO_NOT_DISTURB:"dnd",INACTIVE:"inactive",MEETING:"meeting",OUT_OF_OFFICE:"ooo",PRESENTING:"presenting",SELF:"self",TYPING:"typing"};class gs extends cs{getMe(){return ve(new Error("getMe() must be defined in PeopleAdapter"))}getPerson(e){return ve(new Error("getPerson(ID) must be defined in PeopleAdapter"))}}class Cs extends cs{getRoom(e){return ve(new Error("getRoom(ID) must be defined in RoomsAdapter"))}getRoomActivities(e){return ve(new Error("getRoomActivities(ID) must be defined in RoomsAdapter"))}getPreviousRoomActivities(e){return ve(new Error("getPreviousRoomActivities(ID) must be defined in RoomsAdapter"))}hasMoreActivities(e){throw new Error("hasMoreActivities(ID) must be defined in RoomsAdapter")}}var vs=void 0!==t?t:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{};vs.setTimeout,vs.clearTimeout;var ys=vs.performance||{};ys.now||ys.mozNow||ys.msNow||ys.oNow||ys.webkitNow;const bs=o.format.printf(e=>{let{timestamp:t,level:n,resourceType:r,resourceID:a,action:i,message:o,error:s}=e,c=o;return Array.isArray(o)&&(c=o.map(e=>"string"==typeof e&&e||JSON.stringify(e,(e,t)=>t instanceof MediaStream&&`MediaStream([${t.getTracks().map(e=>e.kind)}])`||t,2)).join(" ")),`${t} ${n} ${r} ${a} ${i} ${c} ${s?` ${s.stack||s}`:""}`}),ws=[];ws.push(new o.transports.Console({format:o.format.combine(o.format.timestamp({format:"YYYY-MM-DD HH:mm:ss"}),o.format.colorize(),o.format.simple(),bs)}));const Es=(0,o.createLogger)({level:"error",transports:ws}),Ns={setLevel:e=>{Es.level=e}};for(const Tl of["info","warn","error","debug"])Ns[Tl]=((e,t,n,r,a)=>Es[Tl]({resourceType:e,resourceID:t,action:n,message:r,error:a}));"undefined"!=typeof window&&(window.webexSDKAdapterSetLogLevel=(e=>Ns.setLevel(e)));const xs="updated";class Ms extends Cs{constructor(e){super(e),this.getRoomObservables={},this.listenerCount=0}async fetchRoom(e){const{id:t,title:n,type:r}=await this.datasource.rooms.get(e);return{ID:t,title:n,type:r}}startListeningToRoomUpdates(){0===this.listenerCount&&this.datasource.rooms.listen(),this.listenerCount+=1}stopListeningToRoomUpdates(){this.listenerCount-=1,this.listenerCount<=0&&this.datasource.rooms.stopListening()}getRoom(e){if(Ns.debug("ROOM",e,"getRoom()",["called with",{ID:e}]),!(e in this.getRoomObservables)){this.startListeningToRoomUpdates();const t=ot(Je(this.fetchRoom(e)),ct(this.datasource.rooms,xs).pipe(ht(t=>t.data.id===e),rt(()=>Je(this.fetchRoom(e))))).pipe(Gt(t=>Ns.debug("ROOM",e,"getRoom()",["emitting room object",t])),St(()=>{this.stopListeningToRoomUpdates(),delete this.getRoomObservables[e]}));this.getRoomObservables[e]=t.pipe(Pt(1),K())}return this.getRoomObservables[e]}}const Is="event:apheleia.subscription_update";function Ts(e){const t=Object.keys(ms).find(t=>ms[t]===e);return void 0===t?null:t}class Os extends gs{constructor(e){super(e),this.getPersonObservables={}}async fetchPerson(e){const{id:t,emails:n,displayName:r,firstName:a,lastName:i,avatar:o,orgId:s}=await this.datasource.people.get(e);return Ns.debug("PEOPLE",e,"fetchPerson()",["called with",{ID:e}]),{ID:t,emails:n,displayName:r,firstName:a,lastName:i,avatar:o,orgID:s}}getMe(){return Ns.debug("PEOPLE",void 0,"getMe()","called"),st(()=>this.fetchPerson("me")).pipe(rt(e=>st(()=>this.datasource.internal.presence.get([e.id])).pipe(Et(()=>Ce({status:null})),Ie(t=>{let{status:n}=t;return{...e,status:Ts(n)}}))))}getPerson(e){if(Ns.debug("PEOPLE",e,"getPerson()",["called with",{ID:e}]),!(e in this.getPersonObservables)){const t=(0,s.deconstructHydraId)(e).id,n=st(()=>this.fetchPerson(e)),r=st(()=>this.datasource.internal.presence.subscribe(t)).pipe(Ie(e=>e.responses[0].status.status),Et(()=>Ce(null)),rt(e=>n.pipe(Ie(t=>({...t,status:Ts(e)}))))),a=ct(this.datasource.internal.mercury,Is).pipe(Gt(()=>{Ns.debug("PEOPLE",e,"getPerson",["received",Is,"event"])}),ht(e=>e.data.subject===t),Ie(e=>Ts(e.data.status))),i=ot(r,n.pipe(rt(e=>a.pipe(Ie(t=>({...e,status:t})))),Gt(t=>{Ns.debug("PEOPLE",e,"getPerson()",["person update",{person:t}])}))).pipe(Gt(t=>{Ns.debug("PEOPLE",e,"getPerson()",["emit initial person",{person:t}])}),St(async()=>{try{Ns.debug("PEOPLE",e,"getPerson()",["unsubscribing from internal service",{personUUID:t}]),await this.datasource.internal.presence.unsubscribe(t)}catch(n){Ns.warn("Unsubscribing failed, user has presence turned off")}delete this.getPersonObservables[e]}));this.getPersonObservables[e]=i.pipe(Pt(1),K())}return this.getPersonObservables[e]}}class Ss{constructor(e,t){this.adapter=e,this.ID=t}}class Ds extends Ss{action(e){return Ns.debug("MEETING",e,"AudioControl::action()",["called with",{meetingID:e}]),this.adapter.handleLocalAudio(e)}display(e){Ns.debug("MEETING",e,"AudioControl::display()",["called with",{meetingID:e}]);const t={ID:this.ID,type:"BUTTON"},n={muted:{icon:"microphone-muted",tooltip:"Unmute audio",state:ls.ACTIVE,text:"Unmute"},unmuted:{icon:"microphone",tooltip:"Mute audio",state:ls.INACTIVE,text:"Mute"},muting:{icon:"microphone",tooltip:"Muting audio",state:ls.DISABLED,text:"Muting..."},unmuting:{icon:"microphone-muted",tooltip:"Unmuting audio",state:ls.DISABLED,text:"Unmuting..."},noMicrophone:{icon:"microphone-muted",tooltip:"No microphone available",state:ls.DISABLED,text:"No microphone"}};return this.adapter.getMeeting(e).pipe(Ie(e=>{let{localAudio:{stream:t,muting:r},disabledLocalAudio:a}=e;return!0===r&&n.muting||!1===r&&n.unmuting||t&&n.unmuted||a&&n.muted||n.noMicrophone}),It(),Ie(e=>({...t,...e})),Gt(t=>Ns.debug("MEETING",e,"AudioControl::display()",["emitting",t])))}}class ks extends Ss{async action(e){Ns.debug("MEETING",e,"ExitControl::action()",["called with",{meetingID:e}]),await this.adapter.leaveMeeting(e)}display(e){return Ns.debug("MEETING",e,"ExitControl::display()","called"),Ce({ID:this.ID,type:"CANCEL",icon:"cancel",tooltip:"Leave meeting"}).pipe(Gt(t=>Ns.debug("MEETING",e,"ExitControl::display()",["emitting",t])))}}class Ls extends Ss{async action(e){Ns.debug("MEETING",e,"JoinControl::action()",["called with",{meetingID:e}]),await this.adapter.joinMeeting(e)}display(e){return Ns.debug("MEETING",e,"JoinControl::display()",["called with",{meetingID:e}]),this.adapter.getMeeting(e).pipe(Ie(e=>{return{hint:(e.localAudio.stream?"Unmuted, ":"Muted, ")+(e.localVideo.stream?"video on":"video off"),state:"NOT_JOINED"===e.state?ls.ACTIVE:ls.DISABLED}}),It((e,t)=>e.hint===t.hint&&e.state===t.state),Ie(e=>{let{hint:t,state:n}=e;return{ID:this.ID,type:"JOIN",text:"Join meeting",tooltip:"Join meeting",hint:t,state:n}}),Gt(t=>Ns.debug("MEETING",e,"JoinControl::display()",["emitting",t])))}}class As extends Ss{async action(e){Ns.debug("MEETING",e,"RosterControl::action()",["called with",{meetingID:e}]),await this.adapter.toggleRoster(e)}display(e){Ns.debug("MEETING",e,"RosterControl::display()",["called with",{meetingID:e}]);const t={ID:this.ID,type:"TOGGLE",state:ls.ACTIVE,icon:"participant-list",text:"Hide participants",tooltip:"Hide participants panel"},n={ID:this.ID,type:"TOGGLE",state:ls.INACTIVE,icon:"participant-list",text:"Show participants",tooltip:"Show participants panel"};return this.adapter.getMeeting(e).pipe(Ie(e=>{let{showRoster:r}=e;return r?t:n}),It(),Gt(t=>Ns.debug("MEETING",e,"RosterControl::display()",["emitting",t])))}}class Ps extends Ss{action(e){Ns.debug("Meeting",e,"SettingsControl::action()",["called with",{meetingID:e}]),this.adapter.toggleSettings(e)}display(e){Ns.debug("MEETING",e,"SettingsControl::display()",["called with",{meetingID:e}]);const t={ID:this.ID,type:"BUTTON",state:ls.ACTIVE,icon:"settings",text:"Settings",tooltip:"Meeting settings"},n={ID:this.ID,type:"BUTTON",state:ls.INACTIVE,icon:"settings",text:"Settings",tooltip:"Meeting settings"};return this.adapter.getMeeting(e).pipe(Ie(e=>{let{showSettings:r}=e;return r?t:n}),It(),Gt(t=>Ns.debug("Meeting",e,"SettingsControl::display()",["emitting",t])))}}class Rs extends Ss{async action(e){Ns.debug("MEETING",e,"ShareControl::action()",["called with",{meetingID:e}]),await this.adapter.handleLocalShare(e)}display(e){Ns.debug("MEETING",e,"ShareControl::display()",["called with",{meetingID:e}]);const t={ID:this.ID,type:"TOGGLE",state:ls.INACTIVE,icon:"share-screen-presence-stroke",text:"Start sharing",tooltip:"Start sharing content"},n={ID:this.ID,type:"TOGGLE",state:ls.ACTIVE,icon:"share-screen-presence-stroke",text:"Stop sharing",tooltip:"Stop sharing content"};return this.adapter.getMeeting(e).pipe(Ie(e=>{let{localShare:{stream:r}}=e;return r?n:t}),It(),Gt(t=>Ns.debug("MEETING",e,"ShareControl::display()",["emitting",t])))}}function _s(e){return t=>new U(n=>{let r,a;return a=t.subscribe(e=>{n.next(e),r=e},e=>n.error(e),()=>{a=e(r).subscribe(e=>n.next(e),e=>n.error(e),()=>n.complete())}),()=>{a&&a.unsubscribe()}})}function js(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Ue(t.map(e=>e.pipe(Rt(void 0))))}function Vs(e,t){const n=e;for(const[r,a]of Object.entries(t||{}))a&&a.constructor===Object?Vs(n[r],a):n[r]=a}const Gs=!!document.createElement("audio").setSinkId;class zs extends Ss{async action(e,t){Ns.debug("MEETING",e,"SwitchCameraControl::action()",["called with",{meetingID:e}]),await this.adapter.switchCamera(e,t)}display(e){return Ns.debug("MEETING",e,"SwitchCameraControl::display()",["called with",{meetingID:e}]),js(this.adapter.getMeeting(e).pipe(Ie(e=>e.cameraID),It()),st(()=>this.adapter.getAvailableDevices(e,"videoinput")).pipe(Ie(e=>e.map(e=>({value:e.deviceId,label:e.label}))))).pipe(Ie(e=>{let[t,n]=e;return{ID:this.ID,type:"MULTISELECT",tooltip:"Video Devices",noOptionsMessage:"No available cameras",options:n||null,selected:t||null,hint:'Use arrow keys to navigate between camera options and hit "Enter" to select.'}}),Gt(t=>Ns.debug("MEETING",e,"SwitchCameraControl::display()",["emitting",t])))}}class Us extends Ss{async action(e,t){Ns.debug("MEETING",e,"SwitchMicrophoneControl::action()",["called with",{meetingID:e}]),await this.adapter.switchMicrophone(e,t)}display(e){return Ns.debug("MEETING",e,"SwitchMicrophoneControl::display()",["called with",{meetingID:e}]),js(this.adapter.getMeeting(e).pipe(Ie(e=>e.microphoneID),It()),st(()=>this.adapter.getAvailableDevices(e,"audioinput")).pipe(Ie(e=>e.map(e=>({value:e.deviceId,label:e.label}))))).pipe(Ie(e=>{let[t,n]=e;return{ID:this.ID,type:"MULTISELECT",tooltip:"Audio Devices",noOptionsMessage:"No available microphones",options:n||null,selected:t||null,hint:'Use arrow keys to navigate between microphone options and hit "Enter" to select.'}}),Gt(t=>Ns.debug("MEETING",e,"SwitchMicrophoneControl::display()",["emitting",t])))}}class Bs extends Ss{async action(e,t){Ns.debug("MEETING",e,"SwitchSpeakerControl::action()",["called with",{meetingID:e}]),await this.adapter.switchSpeaker(e,t)}display(e){return Ns.debug("MEETING",e,"SwitchSpeakerControl::display()",["called with",{meetingID:e}]),js(this.adapter.getMeeting(e).pipe(Ie(e=>e.speakerID),It()),st(()=>this.adapter.getAvailableDevices(e,"audiooutput")).pipe(Ie(e=>e.map(e=>({value:e.deviceId,label:e.label}))),Ie(e=>[{value:"",label:"Browser Default"},...e]))).pipe(Ie(e=>{let[t,n]=e;return{ID:this.ID,type:"MULTISELECT",tooltip:Gs?"Speaker Devices":"The current browser does not support changing speakers",noOptionsMessage:"No available speakers",options:n||null,selected:t||null,hint:'Use arrow keys to navigate between speaker options and hit "Enter" to select.'}}),Gt(t=>Ns.debug("MEETING",e,"SwitchSpeakerControl::display()",["emitting",t])))}}class Hs extends Ss{action(e){return Ns.debug("MEETING",e,"VideoControl::action()",["called with",{meetingID:e}]),this.adapter.handleLocalVideo(e)}display(e){Ns.debug("MEETING",e,"VideoControl::display()",["called with",{meetingID:e}]);const t={ID:this.ID,type:"BUTTON"},n={muted:{icon:"camera-muted",tooltip:"Start video",state:ls.ACTIVE,text:"Start video"},unmuted:{icon:"camera",tooltip:"Stop video",state:ls.INACTIVE,text:"Stop video"},muting:{icon:"camera",tooltip:"Stopping video",state:ls.DISABLED,text:"Stopping..."},unmuting:{icon:"camera-muted",tooltip:"Starting video",state:ls.DISABLED,text:"Starting..."},noCamera:{icon:"camera-muted",tooltip:"No camera available",state:ls.DISABLED,text:"No camera"}};return this.adapter.getMeeting(e).pipe(Ie(e=>{let{localVideo:{stream:t,muting:r},disabledLocalVideo:a}=e;return!0===r&&n.muting||!1===r&&n.unmuting||t&&n.unmuted||a&&n.muted||n.noCamera}),It(),Ie(e=>({...t,...e})),Gt(t=>Ns.debug("MEETING",e,"VideoControl::display()",["emitting",t])))}}const Fs="media:ready",Zs="media:stopped",qs="members:update",Ws="meeting:stoppedSharingLocal",Ys="meeting:startedSharingLocal",Ks="meeting:startedSharingRemote",Js="meeting:stoppedSharingRemote",$s="adapter:meeting:updated",Xs="adapter:camera:switch",Qs="adapter:microphone:switch",ec="join-meeting",tc="leave-meeting",nc="mute-audio",rc="mute-video",ac="share-screen",ic="member-roster",oc="settings",sc="switch-camera",cc="switch-microphone",lc="switch-speaker",uc="local",dc="localShare",fc="remoteAudio",pc="remoteVideo",hc="remoteShare",mc=[uc,dc,fc,pc,hc],gc={receiveVideo:!0,receiveAudio:!0,receiveShare:!0,sendVideo:!0,sendAudio:!0,sendShare:!1},Cc="PEOPLE",vc="ROOM",yc={IN_LOBBY:us.LOBBY,IN_MEETING:us.JOINED,NOT_IN_MEETING:us.LEFT};class bc extends ds{constructor(e){super(e),this.getMeetingObservables={},this.meetings={},this.meetingControls={[ec]:new Ls(this,ec),[nc]:new Ds(this,nc),[rc]:new Hs(this,rc),[ac]:new Rs(this,ac),[tc]:new ks(this,tc),[ic]:new As(this,ic),[oc]:new Ps(this,oc),[sc]:new zs(this,sc),[lc]:new Bs(this,lc),[cc]:new Us(this,cc)}}async connect(){await this.datasource.meetings.register(),await this.datasource.meetings.syncMeetings()}async disconnect(){await this.datasource.meetings.unregister()}getLocalMedia(e){Ns.debug("MEETING",e,"getLocalMedia()",["called with",{ID:e}]);const{sendAudio:t,sendVideo:n}=gc;return this.getStreamWithPermission(t,e,{sendAudio:!0}).pipe(Ie(e=>{let{permission:t,stream:n,ignore:r,deviceId:a}=e;return{localAudio:{stream:n,permission:t,ignoreMediaAccessPrompt:r},localVideo:{stream:null,permission:null},microphoneID:a}}),_s(t=>this.getStreamWithPermission(n,e,{sendVideo:!0}).pipe(Ie(e=>{let{permission:n,stream:r,ignore:a,deviceId:i}=e;return{...t,localVideo:{stream:r,permission:n,ignoreMediaAccessPrompt:a},cameraID:i}}))))}getStream(e,t,n){return Ns.debug("MEETING",e,"getStream()",["called with",{ID:e,mediaDirection:t,audioVideo:n}]),new U(async r=>{let a,i=!1;try{const s=this.fetchMeeting(e),c=()=>{i=!0,r.next({permission:"IGNORED",stream:null}),r.complete()};a=!0,setTimeout(()=>{a&&r.next({permission:"ASKING",stream:null,ignore:c})},2e3);const[l]=await s.getMediaStreams(t,n),u=await this.getAvailableDevices(e),[{label:d}]=l.getTracks(),f=u.find(e=>e.label===d),p=f&&f.deviceId;a=!1;for(const e of l.getTracks())"video"!==e.kind||t.sendVideo||l.removeTrack(e),"audio"!==e.kind||t.sendAudio||l.removeTrack(e);i||(r.next({permission:"ALLOWED",stream:l,deviceId:p}),r.complete())}catch(o){if(a=!1,!i){let a;Ns.error("MEETING",e,"getStream()",["Unable to retrieve local media stream",{mediaDirection:t,audioVideo:n}],o),a=o instanceof DOMException&&"NotAllowedError"===o.name?"Permission dismissed"===o.message?"DISMISSED":"DENIED":"ERROR",r.next({permission:a,stream:null}),r.complete()}}})}getStreamWithPermission(e,t,n,r){return Ns.debug("MEETING",t,"getStreamWithPermission()",["called with these params",{condition:e,ID:t,mediaDirection:n,audioVideo:r}]),e?this.getStream(t,n,r):Ce({permission:null,stream:null})}async getAvailableDevices(e,t){let n;Ns.debug("MEETING",e,"getAvailableDevices()",["called with",{ID:e,type:t}]);try{const a=this.fetchMeeting(e);n=(n=await a.getDevices()).filter(e=>!t||e.kind===t&&e.deviceId)}catch(r){Ns.error("MEETING",e,"getAvailableDevices()","Unable to retrieve devices",r),n=[]}return Ns.debug("MEETING",e,"getAvailabelDevices()",["return",n]),n}attachMedia(e,t){let{type:n,stream:r}=t;Ns.debug("MEETING",e,"attachMedia()",["called with",{ID:e,type:n,stream:r}]);const a={...this.meetings[e]},i=r instanceof MediaStream&&r.getAudioTracks()||[],o=r instanceof MediaStream&&r.getVideoTracks()||[];switch(n){case uc:this.meetings[e]={...a,localAudio:{...a.localAudio,stream:a.disabledLocalAudio||0===i.length?null:new MediaStream(i)},localVideo:{...a.localVideo,stream:a.disabledLocalVideo||0===o.length?null:new MediaStream(o)}};break;case fc:this.meetings[e]={...a,remoteAudio:r};break;case pc:this.meetings[e]={...a,remoteVideo:r};break;case dc:this.meetings[e]={...a,localShare:{stream:r}};break;case hc:this.meetings[e]={...a,remoteShareStream:r};break;case Ks:this.meetings[e]={...a,remoteShare:a.remoteShareStream};break;case Js:this.meetings[e]={...a,remoteShare:null}}}stopStream(e){if(Ns.debug("MEETING",void 0,"stopStream()","called"),e&&e.getTracks){e.getTracks().forEach(e=>e.stop())}}removeMedia(e){Ns.debug("MEETING",e,"removeMedia()",["called with",{ID:e}]),this.meetings&&this.meetings[e]&&(this.stopStream(this.meetings[e].localAudio.stream),this.stopStream(this.meetings[e].localVideo.stream),this.stopStream(this.meetings[e].localShare.stream),this.stopStream(this.meetings[e].disabledLocalAudio),this.stopStream(this.meetings[e].disabledLocalVideo)),this.meetings[e]={...this.meetings[e],localAudio:{stream:null,permission:null},localVideo:{stream:null,permission:null},localShare:{stream:null},remoteAudio:null,remoteVideo:null,remoteShare:null,cameraID:null,microphoneID:null,speakerID:null,settings:{visible:!1,preview:{video:null,audio:null}}}}async fetchMeetingTitle(e){const{id:t,type:n}=(0,s.deconstructHydraId)(e);let r=e;if(n===Cc){const{displayName:e}=await this.datasource.people.get(t);r=e}else if(n===vc){const{title:t}=await this.datasource.rooms.get(e);r=t}else try{const t=await this.datasource.people.list({email:e});if(t.items){const{displayName:e}=t.items[0];r=e}}catch(a){}return r}createMeeting(e){return Je(this.datasource.meetings.create(e)).pipe(Ie(e=>{let{id:t,meetingInfo:{meetingName:n}}=e;return{ID:t,title:n,localAudio:{stream:null,permission:null},localVideo:{stream:null,permission:null},localShare:{stream:null},remoteAudio:null,remoteVideo:null,remoteShare:null,showRoster:null,settings:{visible:!1,preview:{audio:null,video:null}},state:us.NOT_JOINED,cameraID:null,microphoneID:null,speakerID:""}}),Mt(t=>t.title?Ce(t):Je(this.fetchMeetingTitle(e)).pipe(Ie(e=>({...t,title:e}))))).pipe(_s(e=>this.getLocalMedia(e.ID).pipe(Ie(t=>({...e,...t})))),Gt(e=>{const t=this.fetchMeeting(e.ID);this.meetings[e.ID]=e,t.emit($s,e)}),Et(t=>{throw Ns.error("MEETING",e,"createMeeting()",`Unable to create a meeting with "${e}"`,t),t}))}fetchMeeting(e){return Ns.debug("MEETING",e,"fetchMeeting()",["called with",{ID:e}]),this.datasource.meetings.getMeetingByType("id",e)}async joinMeeting(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Ns.debug("MEETING",e,"joinMeeting()",["called with",{ID:e,options:t}]);try{const r=this.fetchMeeting(e);r.meetingFiniteStateMachine.reset(),Ns.debug("MEETING",e,"joinMeeting()",["calling sdkMeeting.join() with",{pin:t.password,moderator:!1,name:t.name}]),await r.join({pin:t.hostKey||t.password,moderator:!!t.hostKey,name:t.name}),Ns.info("MEETING",e,"JOIN","Joining meeting")}catch(n){n.joinIntentRequired?(Ns.info("MEETING",e,"joinMeeting()","Meeting requires authentication"),this.updateMeeting(e,()=>({passwordRequired:!0,invalidPassword:!!t.password,invalidHostKey:!!t.hostKey}))):Ns.error("MEETING",e,"joinMeeting()","Unable to join",n)}}async leaveMeeting(e){Ns.debug("MEETING",e,"leaveMeeting()",["called with",{ID:e}]);try{const n=this.fetchMeeting(e);this.removeMedia(e),Ns.debug("MEETING",e,"leaveMeeting()","calling sdkMeeting.leave()"),await n.leave(),Ns.info("MEETING",e,"LEAVE","Leaving meeting")}catch(t){Ns.error("MEETING",e,"leaveMeeting()","Unable to leave",t)}}getLocalMediaState(e,t){return!0===e.muting&&{muting:!0}||!1===e.muting&&{unmuting:!0}||e.stream&&{unmuted:!0}||t&&{muted:!0}||{disabled:!0}}async handleLocalAudio(e){let t;Ns.debug("MEETING",e,"handleLocalAudio()",["called with",{ID:e}]),await this.updateMeeting(e,e=>{let n;if((t=this.getLocalMediaState(e.localAudio,e.disabledLocalAudio)).disabled)throw new Error("Can't mute/unmute disabled audio");if(t.muting)throw new Error("Already muting audio");if(t.unmuting)throw new Error("Already unmuting audio");return t.unmuted?n={localAudio:{muting:!0}}:t.muted&&(n={localAudio:{muting:!1}}),n});try{await this.updateMeeting(e,async(n,r)=>{const a=!!n.remoteAudio;let i;return t.unmuted?(a&&(Ns.debug("MEETING",e,"handleLocalAudio()","calling sdkMeeting.muteAudio()"),await r.muteAudio(),Ns.info("MEETING",e,"MUTE","Audio muted")),i={disabledLocalAudio:n.localAudio.stream,localAudio:{stream:null,muting:void 0}}):t.muted&&(a&&(Ns.debug("MEETING",e,"handleLocalAudio()","calling sdkMeeting.unmuteAudio()"),await r.unmuteAudio(),Ns.info("MEETING",e,"UNMUTE","Unmute audio")),i={disabledLocalAudio:null,localAudio:{stream:n.disabledLocalAudio,muting:void 0}}),Ns.debug("MEETING",e,"handleLocalAudio()",["meeting updated with localAudio",{updates:i}]),i})}catch(n){Ns.error("MEETING",e,"handleLocalAudio()","Unable to update local audio settings",n),this.updateMeeting(e,()=>({localAudio:{muting:void 0}}))}}async handleLocalVideo(e){let t;Ns.debug("MEETING",e,"handleLocalVideo()",["called with",{ID:e}]),await this.updateMeeting(e,e=>{let n;if((t=this.getLocalMediaState(e.localVideo,e.disabledLocalVideo)).disabled)throw new Error("Can't mute/unmute disabled video");if(t.muting)throw new Error("Already muting video");if(t.unmuting)throw new Error("Already unmuting video");return t.unmuted?n={localVideo:{muting:!0}}:t.muted&&(n={localVideo:{muting:!1}}),n});try{await this.updateMeeting(e,async(n,r)=>{const a=!!n.remoteVideo;let i;return t.unmuted?(a&&(Ns.debug("MEETING",e,"handleLocalVideo()","calling sdkMeeting.muteVideo()"),await r.muteVideo(),Ns.info("MEETING",e,"MUTE","Video muted")),i={disabledLocalVideo:n.localVideo.stream,localVideo:{stream:null,muting:void 0}}):t.muted&&(a&&(Ns.debug("MEETING",e,"handleLocalVideo()","calling sdkMeeting.unmuteVideo()"),await r.unmuteVideo(),Ns.info("MEETING",e,"UNMUTE","Unmute video")),i={disabledLocalVideo:null,localVideo:{stream:n.disabledLocalVideo,muting:void 0}}),Ns.debug("MEETING",e,"handleLocalVideo()",["meeting updated with localVideo",{updates:i}]),i})}catch(n){Ns.error("MEETING",e,"handleLocalVideo()","Unable to update local video settings",n),this.updateMeeting(e,()=>({localVideo:{muting:void 0}}))}}async handleLocalShare(e){Ns.debug("MEETING",e,"handleLocalShare()",["called with",{ID:e}]),await this.updateMeeting(e,async(t,n)=>{let r;const a=n=>{Ns.warn("MEETING",e,"handleLocalShare()","Unable to update local share stream",n),this.stopStream(t.localShare.stream),r={localShare:{stream:null}},this.updateMeeting(e,async()=>({localShare:{stream:null}}))};if(n.canUpdateMedia())if(t.localShare.stream)this.stopStream(t.localShare.stream),n.updateShare({sendShare:!1,receiveShare:!0}).catch(a),Ns.info("MEETING",e,"UNSHARE","Stopping sharing"),r={localShare:{stream:null}};else{const[,t]=await n.getMediaStreams({sendShare:!0});n.updateShare({stream:t,sendShare:!0,receiveShare:!0}).catch(a),Ns.info("MEETING",e,"SHARE","Starting sharing"),r={localShare:{stream:t}}}else Ns.error("MEETING",e,"handleLocalShare()","Unable to update screen share due to unstable connection.");return Ns.debug("MEETING",e,"handleLocalShare()",["meeting updated with localShare",{updates:r}]),r})}toggleRoster(e){return Ns.debug("MEETING",e,"toggleRoster()",["called with",{ID:e}]),Ns.info("MEETING",e,"TOOGLE ROSTER","Opening meeting participants panel"),this.updateMeeting(e,e=>{let{showRoster:t}=e;return{showRoster:!t}})}async toggleSettings(e){Ns.debug("MEETING",e,"toggleSettings()",["called with",{ID:e}]),await this.updateMeeting(e,async(t,n)=>{let r;if(!t.settings.visible){Ns.info("MEETING",e,"TOOGLE SETTINGS","Opening settings modal");const n=t.localVideo.stream||t.disabledLocalVideo,a=t.localAudio.stream||t.disabledLocalAudio;r={settings:{visible:!0,preview:{video:n&&n.clone(),audio:a&&a.clone()}}}}else Ns.info("MEETING",e,"TOOGLE SETTINGS","Closing settings modal"),this.stopStream(t.localVideo.stream),this.stopStream(t.localAudio.stream),r={settings:{visible:!1},localVideo:{stream:t.localVideo.stream&&t.settings.preview.video},disabledLocalVideo:t.disabledLocalVideo&&t.settings.preview.video,localAudio:{stream:t.localAudio.stream&&t.settings.preview.audio},disabledLocalAudio:t.disabledLocalAudio&&t.settings.preview.audio},t.state===us.JOINED&&(t.settings.preview.video&&await n.updateVideo({stream:t.settings.preview.video,receiveVideo:gc.receiveVideo,sendVideo:gc.sendVideo}),t.settings.preview.audio&&await n.updateAudio({stream:t.settings.preview.audio,receiveAudio:gc.receiveAudio,sendAudio:gc.sendAudio}));return Ns.debug("MEETING",e,"toggleSettings()",["meeting updated with toggleSettings",{updates:r}]),r})}async switchCamera(e,t){Ns.debug("MEETING",e,"switchCamera()",["called with",{ID:e,cameraID:t}]),Ns.info("MEETING",e,"SWITCH CAMERA",`Switching current camera to camera with id "${t}"`),await this.updateMeeting(e,async n=>{let r;this.stopStream(n.settings.preview.video);const{stream:a,permission:i,deviceId:o}=await this.getStream(e,{sendVideo:!0},{video:{deviceId:t}}).toPromise();if(!a)throw new Error(`Could not change camera, permission not granted: ${i}`);return r={settings:{preview:{video:a}},cameraID:o},Ns.debug("MEETING",e,"switchCamera()",["meeting update with switchCamera",{updates:r}]),r})}async switchMicrophone(e,t){Ns.debug("MEETING",e,"switchMicrophone()",["called with",{ID:e,microphoneID:t}]),Ns.info("MEETING",e,"SWITCH MICROPHONE",`Switching current microphone to microphone with id "${t}"`),await this.updateMeeting(e,async n=>{let r;this.stopStream(n.settings.preview.audio);const{stream:a,permission:i,deviceId:o}=await this.getStream(e,{sendAudio:!0},{audio:{deviceId:t}}).toPromise();if(!a)throw new Error(`Could not change microphone, permission not granted: ${i}`);return r={settings:{preview:{audio:a}},microphoneID:o},Ns.debug("MEETING",e,"switchMicrophone()",["meeting update with switchMicrophone",{updates:r}]),r})}async switchSpeaker(e,t){return Ns.debug("MEETING",e,"switchSpeaker()",["called with",{ID:e,speakerID:t}]),Ns.info("MEETING",e,"SWITCH SPEAKER",`Switching current speaker to speaker with id "${t}"`),this.updateMeeting(e,()=>({speakerID:t}))}ignoreVideoAccessPrompt(e){Ns.debug("MEETING",e,"ignoreVideoAccessPrompt()",["called with",{ID:e}]);const t=this.meetings[e];t.localVideo.ignoreMediaAccessPrompt?(Ns.info("MEETING",e,"PROCEED WITHOUT CAMERA","Allow to join the meeting without camera access"),t.localVideo.ignoreMediaAccessPrompt()):Ns.error("MEETING",e,"ignoreVideoAccessPrompt()",`Can not ignore video prompt in current state: "${t.localVideo.permission}"`)}ignoreAudioAccessPrompt(e){Ns.debug("MEETING",e,"ignoreAudioAccessPrompt()",["called with",{ID:e}]);const t=this.meetings[e];t.localAudio.ignoreMediaAccessPrompt?(Ns.info("MEETING",e,"PROCEED WITHOUT MICROPHONE","Allow to join the meeting without microphone access"),t.localAudio.ignoreMediaAccessPrompt()):Ns.error("MEETING",e,"ignoreAudioAccessPrompt()",`Can not ignore audio prompt in current state: "${t.localAudio.permission}"`)}async addMedia(e){Ns.debug("MEETING",e,"addMedia()",["called with",{ID:e}]);const t=this.fetchMeeting(e),n=new MediaStream,r=this.meetings[e].localAudio.stream||this.meetings[e].disabledLocalAudio,a=this.meetings[e].localVideo.stream||this.meetings[e].disabledLocalVideo;r&&r.getAudioTracks().forEach(e=>n.addTrack(e)),a&&a.getVideoTracks().forEach(e=>n.addTrack(e)),Ns.debug("MEETING",e,"addMedia()",["calling sdkMeeting.addMedia()",{localStream:n,mediaSettings:gc}]),await t.addMedia({localStream:n,mediaSettings:gc}),this.meetings[e].localAudio.stream||(Ns.debug("MEETING",e,"addMedia()","calling sdkMeeting.muteAudio()"),await t.muteAudio()),this.meetings[e].localVideo.stream||(Ns.debug("MEETING",e,"addMedia()","calling sdkMeeting.muteVideo()"),await t.muteVideo())}getMeeting(e){if(Ns.debug("MEETING",e,"getMeeting()",["called with",{ID:e}]),!(e in this.getMeetingObservables)){const t=this.fetchMeeting(e),n=U.create(n=>{t&&this.meetings[e]?(Ns.debug("MEETING",e,"getMeeting()",["initial meeting object",this.meetings[e]]),n.next(this.meetings[e]),n.complete()):(Ns.error("MEETING",e,"getMeeting()",`Could not find meeting with ID "${e}"`),n.error(new Error(`Could not find meeting with ID "${e}"`)))}),r=ct(t,$s).pipe(Gt(()=>Ns.debug("MEETING",e,"getMeeting()",["received",$s,"event"])),Gt(t=>{this.meetings[e]=t})),a=ct(t,Fs).pipe(Gt(()=>{Ns.debug("MEETING",e,"getMeeting()",["received",Fs,"event"])}),ht(e=>mc.includes(e.type)),Ie(t=>this.attachMedia(e,t))),i=ct(t,Zs).pipe(Gt(()=>{Ns.debug("MEETING",e,"getMeeting()",["received",Zs,"event"]),this.removeMedia(e)})),o=ct(t,Ks).pipe(Gt(()=>{Ns.debug("MEETING",e,"getMeeting()",["received",Ks,"event"]),this.attachMedia(e,{type:Ks})})),s=ct(t,Js).pipe(Gt(()=>{Ns.debug("MEETING",e,"getMeeting()",["received",Js,"event"]),this.attachMedia(e,{type:Js})})),c=ct(t,Ws).pipe(Gt(()=>{Ns.debug("MEETING",e,"getMeeting()",["received",Ws,"event"]),this.stopStream(this.meetings[e].localShare.stream),this.meetings[e].localShare.stream=null})),l=ct(t,Ys).pipe(Gt(()=>{Ns.debug("MEETING",e,"getMeeting()",["received",Ys,"event"])})),u=ct(t,Xs).pipe(Gt(()=>{Ns.debug("MEETING",e,"getMeeting()",["received",Xs,"event"])})),d=ct(t,Qs).pipe(Gt(()=>{Ns.debug("MEETING",e,"getMeeting()",["received",Qs,"event"])})),f=ot(n,pt(r,a,i,c,o,s,ct(t&&t.members,qs).pipe(Ie(t=>{Ns.debug("MEETING",e,"getMeeting()",["received",qs,"event"]);const n=Object.values(t.full).find(e=>e.isSelf);return yc[n&&n.status]||us.NOT_JOINED}),It(),Gt(t=>{Ns.debug("MEETING",e,"getMeeting()",["changing meeting state to",t]),this.meetings[e]={...this.meetings[e],state:t},t===us.JOINED&&this.addMedia(e).catch(t=>{Ns.error("MEETING",e,"getMeeting()","Unable to add media",t)})})),u,d,l).pipe(Ie(()=>this.meetings[e])));this.getMeetingObservables[e]=f.pipe(Pt(1),K(),_t(e=>e.state&&e.state!==us.LEFT,!0),Gt(()=>{Ns.debug("MEETING",e,"getMeeting()",["emitting",this.meetings[e]])}))}return this.getMeetingObservables[e]}async updateMeeting(e,t){Ns.debug("MEETING",e,"updateMeeting()",["called with",{ID:e,updater:t}]);const n=this.fetchMeeting(e),r=this.meetings[e];if(!n||!r)throw new Error(`Could not find meeting with ID "${e}"`);Vs(r,await t(r,n)),Ns.debug("MEETING",e,"updateMeeting()",["meeting updated with",$s,"event","meeting object",{meeting:r}]),n.emit($s,r)}supportedControls(){return Object.keys(this.meetingControls)}async clearPasswordRequiredFlag(e){Ns.debug("MEETING",e,"clearPasswordRequiredFlag()",["called with",{ID:e}]),await this.updateMeeting(e,async()=>({passwordRequired:!1}))}async clearInvalidPasswordFlag(e){Ns.debug("MEETING",e,"clearInvalidPasswordFlag()",["called with",{ID:e}]),await this.updateMeeting(e,async()=>({invalidPassword:!1}))}async clearInvalidHostKeyFlag(e){await this.updateMeeting(e,async()=>({invalidHostKey:!1}))}}var wc={},Ec={exports:{}},Nc=Ec.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=Nc);var xc={exports:{}},Mc=xc.exports={version:"2.6.12"};"number"==typeof __e&&(__e=Mc);var Ic=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e},Tc=Ic,Oc=function(e,t,n){if(Tc(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,a){return e.call(t,n,r,a)}}return function(){return e.apply(t,arguments)}},Sc={},Dc=function(e){return"object"==typeof e?null!==e:"function"==typeof e},kc=Dc,Lc=function(e){if(!kc(e))throw TypeError(e+" is not an object!");return e},Ac=function(e){try{return!!e()}catch(t){return!0}},Pc=!Ac(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}),Rc=Dc,_c=Ec.exports.document,jc=Rc(_c)&&Rc(_c.createElement),Vc=function(e){return jc?_c.createElement(e):{}},Gc=!Pc&&!Ac(function(){return 7!=Object.defineProperty(Vc("div"),"a",{get:function(){return 7}}).a}),zc=Dc,Uc=function(e,t){if(!zc(e))return e;var n,r;if(t&&"function"==typeof(n=e.toString)&&!zc(r=n.call(e)))return r;if("function"==typeof(n=e.valueOf)&&!zc(r=n.call(e)))return r;if(!t&&"function"==typeof(n=e.toString)&&!zc(r=n.call(e)))return r;throw TypeError("Can't convert object to primitive value")},Bc=Lc,Hc=Gc,Fc=Uc,Zc=Object.defineProperty;Sc.f=Pc?Object.defineProperty:function(e,t,n){if(Bc(e),t=Fc(t,!0),Bc(n),Hc)try{return Zc(e,t,n)}catch(r){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e};var qc=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}},Wc=Sc,Yc=qc,Kc=Pc?function(e,t,n){return Wc.f(e,t,Yc(1,n))}:function(e,t,n){return e[t]=n,e},Jc={}.hasOwnProperty,$c=function(e,t){return Jc.call(e,t)},Xc=Ec.exports,Qc=xc.exports,el=Oc,tl=Kc,nl=$c,rl="prototype",al=function(e,t,n){var r,a,i,o=e&al.F,s=e&al.G,c=e&al.S,l=e&al.P,u=e&al.B,d=e&al.W,f=s?Qc:Qc[t]||(Qc[t]={}),p=f[rl],h=s?Xc:c?Xc[t]:(Xc[t]||{})[rl];for(r in s&&(n=t),n)(a=!o&&h&&void 0!==h[r])&&nl(f,r)||(i=a?h[r]:n[r],f[r]=s&&"function"!=typeof h[r]?n[r]:u&&a?el(i,Xc):d&&h[r]==i?function(e){var t=function(t,n,r){if(this instanceof e){switch(arguments.length){case 0:return new e;case 1:return new e(t);case 2:return new e(t,n)}return new e(t,n,r)}return e.apply(this,arguments)};return t[rl]=e[rl],t}(i):l&&"function"==typeof i?el(Function.call,i):i,l&&((f.virtual||(f.virtual={}))[r]=i,e&al.R&&p&&!p[r]&&tl(p,r,i)))};al.F=1,al.G=2,al.S=4,al.P=8,al.B=16,al.W=32,al.U=64,al.R=128;var il=al,ol=il;ol(ol.S+ol.F*!Pc,"Object",{defineProperty:Sc.f});var sl=xc.exports.Object,cl=function(e,t,n){return sl.defineProperty(e,t,n)},ll=cl;!function(e){ll(e,"__esModule",{value:!0}),e.INTERNAL_US_INTEGRATION_CLUSTER_NAME=e.INTERNAL_US_CLUSTER_NAME=e.deviceType=e.hydraTypes=e.SDK_EVENT=void 0;e.SDK_EVENT={INTERNAL:{WEBEX_ACTIVITY:"event:conversation.activity",ACTIVITY_FIELD:{ACTOR:"actor",OBJECT:"object",TARGET:"target"},ACTIVITY_VERB:{ACKNOWLEDGE:"acknowledge",CARD_ACTION:"cardAction",CREATE:"create",POST:"post",SHARE:"share",DELETE:"delete",ADD:"add",LEAVE:"leave",ADD_MODERATOR:"assignModerator",REMOVE_MODERATOR:"unassignModerator",LOCK:"lock",UNLOCK:"unlock",HIDE:"hide",UPDATE:"update"},ACTIVITY_TAG:{HIDDEN:"HIDDEN",ONE_ON_ONE:"ONE_ON_ONE",LOCKED:"LOCKED"}},EXTERNAL:{EVENT_TYPE:{CREATED:"created",DELETED:"deleted",UPDATED:"updated",SEEN:"seen"},OWNER:{CREATOR:"creator",ORG:"org"},STATUS:{ACTIVE:"active",DISABLED:"disabled"},SPACE_TYPE:{DIRECT:"direct",GROUP:"group"},RESOURCE:{ATTACHMENT_ACTIONS:"attachmentActions",MEMBERSHIPS:"memberships",MESSAGES:"messages",ROOMS:"rooms"},ATTACHMENTS:{CARD_CONTENT_TYPE:"application/vnd.microsoft.card.adaptive"}}};e.hydraTypes={ATTACHMENT_ACTION:"ATTACHMENT_ACTION",CONTENT:"CONTENT",MEMBERSHIP:"MEMBERSHIP",MESSAGE:"MESSAGE",ORGANIZATION:"ORGANIZATION",PEOPLE:"PEOPLE",ROOM:"ROOM",TEAM:"TEAM"};e.deviceType={PROVISIONAL:"PROVISIONAL",WEB:"WEB"};e.INTERNAL_US_CLUSTER_NAME="urn:TEAM:us-east-2_a";e.INTERNAL_US_INTEGRATION_CLUSTER_NAME="urn:TEAM:us-east-1_int13"}(wc);var ul="@webex/sdk-component-adapter",dl="1.93.0";const fl=["SDK-MEMBERSHIPS",`${ul}-${dl}`],pl=1e3;function hl(e){return Ns.debug(...fl,"sortMeetingMembers()",["called with",{members:e}]),e.sort((e,t)=>e.isSelf?-1:t.isSelf?1:e.name?t.name?e.name.localeCompare(t.name):-1:1)}function ml(e,t){return Ns.debug(...fl,"sortRoomMembers()",["called with",{memberships:e,myID:t}]),e.sort((e,n)=>e.personId===t?-1:n.personId===t?1:n.personDisplayName?e.personDisplayName?e.personDisplayName.localeCompare(n.personDisplayName):1:-1)}function gl(e){Ns.debug(...fl,"getMembers()",["called with",{sdkMembers:e}]);let t=Object.values(e||{});return(t=hl(t)).map(e=>({ID:e.participant&&e.participant.person&&(0,s.constructHydraId)(wc.hydraTypes.PEOPLE,e.participant.person.id),orgID:e.participant&&e.participant.person&&e.participant.person.orgId&&(0,s.constructHydraId)(wc.hydraTypes.ORGANIZATION,e.participant.person.orgId),inMeeting:e.isInMeeting,muted:e.isAudioMuted,sharing:e.isContentSharing,host:e.isHost,guest:e.isGuest}))}class Cl extends ps{constructor(e){super(e),Ns.debug(...fl,"constructor()","instantiating membership sdk adapter"),this.members$={},this.listenerCount=0}startListeningToMembershipsUpdates(){Ns.debug(...fl,"startListeningToMembershipsUpdates()","called"),0===this.listenerCount&&this.datasource.memberships.listen(),this.listenerCount+=1}stopListeningToMembershipsUpdates(){Ns.debug(...fl,"stopListeningToMembershipsUpdates()","called"),this.listenerCount-=1,this.listenerCount<=0&&this.datasource.memberships.stopListening()}getRoomMembers(e){Ns.debug("MEMBERSHIP",`room-${e}`,"getRoomMembers()",["called with",{roomID:e}]),this.startListeningToMembershipsUpdates();const t=e=>({ID:(0,s.deconstructHydraId)(e.personId).id,orgID:(0,s.deconstructHydraId)(e.personOrgId).id,muted:null,sharing:null,inMeeting:null,host:null,guest:null}),n=Ue([Je(this.datasource.people.get("me")),st(()=>this.datasource.memberships.list({roomId:e,max:pl})).pipe(Ie(e=>e.items))]).pipe(Ie(e=>{let[n,r]=e;return ml(r,n.id).map(t)})),r=pt(ct(this.datasource.memberships,s.SDK_EVENT.EXTERNAL.EVENT_TYPE.CREATED).pipe(Gt(()=>{Ns.debug("MEMBERSHIP",`room-${e}`,"getRoomMembers()",["received",s.SDK_EVENT.EXTERNAL.EVENT_TYPE.CREATED,"event"])})),ct(this.datasource.memberships,s.SDK_EVENT.EXTERNAL.EVENT_TYPE.DELETED)).pipe(ht(t=>t.data.roomId===e),et(()=>n));return ot(n,r).pipe(Pt(1),K(),Gt(t=>{Ns.debug("MEMBERSHIP",`room-${e}`,"getRoomMembers()",["emitting membership object",t])}),St(()=>{this.stopListeningToMembershipsUpdates()}))}getMeetingMembers(e){Ns.debug("MEMBERSHIP",`meeting-${e}`,"getMeetingMembers()",["called with",{meetingID:e}]);const t=this.datasource.meetings.getMeetingByType("id",e);let n;if(t){const e=t.members&&t.members.membersCollection&&t.members.membersCollection.members;n=new te(gl(e)),t.members.on("members:update",e=>{Ns.debug(...fl,"getMeetingMembers()",['received "members:update" event',{payload:e}]),e&&e.full&&n.next(gl(e.full))})}else n=ve(new Error(`Meeting ${e} not found.`));return n.pipe(Gt(t=>{Ns.debug("MEMBERSHIP",`meeting-${e}`,"getMeetingMembers()",["emitting membership object",t])}))}getMembersFromDestination(e,t){Ns.debug("MEMBERSHIP",`${t}-${e}`,"getMembersFromDestination()",["called with",{destinationID:e,destinationType:t}]);const n=`${t}-${e}`;let r=this.members$[n];if(!r){switch(t){case fs.ROOM:r=this.getRoomMembers(e);break;case fs.MEETING:r=this.getMeetingMembers(e);break;default:r=ve(new Error(`getMembersFromDestination for ${t} is not currently supported.`))}this.members$[n]=r}return r}}class vl extends hs{constructor(e){super(e),this.organizationObservables={}}fetchOrganization(e){return Ns.debug("ORGANIZATION",e,"fetchOrganization()",["called with",{orgID:e}]),this.datasource.request({service:"hydra",resource:`organizations/${e}`}).then(e=>e.body)}getOrg(e){return Ns.debug("ORGANIZATION",e,"getOrg()",["called with",{ID:e}]),e in this.organizationObservables||(this.organizationObservables[e]=new Ne(1),st(()=>this.fetchOrganization(e)).pipe(Ie(e=>({ID:e.id,name:e.displayName}))).subscribe(t=>{Ns.debug("ORGANIZATION",e,"getOrg()",["emitting organization object",t]),this.organizationObservables[e].next(t)},t=>{Ns.error("ORGANIZATION",e,"getOrg()","Error fetching organization",t),this.organizationObservables[e].error(new Error(`Could't find organization with ID "${e}"`))})),this.organizationObservables[e]}}const yl=["SDK",`${ul}-${dl}`];class bl extends cs{constructor(e){super(e),Ns.debug(...yl,"constructor()","instantiating sdk component adapter"),this.activitiesAdapter={},this.peopleAdapter=new Os(e),this.roomsAdapter=new Ms(e),this.meetingsAdapter=new bc(e),this.membershipsAdapter=new Cl(e),this.organizationsAdapter=new vl(e),this.sdk=e}async connect(){Ns.debug(...yl,"connect()","called"),Ns.debug(...yl,"connect()","calling sdk.internal.mercury.connect()"),await this.sdk.internal.device.register(),Ns.debug(...yl,"connect()","calling sdk.internal.mercury.connect()"),await this.sdk.internal.mercury.connect(),Ns.debug(...yl,"connect()","calling meetingsAdapter.connect()"),await this.meetingsAdapter.connect()}async disconnect(){Ns.debug(...yl,"disconnect()","called"),Ns.debug(...yl,"disconnect()","calling meetingsAdapter.disconnect()"),await this.meetingsAdapter.disconnect(),Ns.debug(...yl,"disconnect()","calling sdk.internal.mercury.disconnect()"),await this.sdk.internal.mercury.disconnect(),Ns.debug(...yl,"disconnect()","calling meetingsAdapter.unregister()"),await this.sdk.internal.device.unregister()}}function wl(){return n.default.createElement("svg",{width:"102",height:"33",viewBox:"0 0 102 33",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",alt:"Webex by Cisco"},n.default.createElement("path",{d:"M48.7863 8.02319H51.4715L47.5674 19.824H44.487L41.5692 10.9189L38.6513 19.824H35.6189L31.7148 8.02319H34.4628L37.233 16.9911L40.1398 8.02319H43.0576L46.0125 17.0391L48.7863 8.02319Z"}),n.default.createElement("path",{d:"M62.9891 14.871H54.2798C54.3602 15.4795 54.5884 16.0591 54.9446 16.5589C55.2601 16.9963 55.6875 17.3408 56.1819 17.5562C56.6855 17.7737 57.2291 17.8831 57.7775 17.8775C58.3855 17.8752 58.9883 17.7652 59.5578 17.5525C60.1483 17.3366 60.6997 17.0259 61.1904 16.6328L62.472 18.4796C61.8184 19.0494 61.0574 19.4827 60.2337 19.7538C59.3878 20.0194 58.5053 20.1502 57.6187 20.1416C56.5267 20.1632 55.4481 19.8983 54.4903 19.3734C53.5843 18.8657 52.8423 18.1096 52.3518 17.1942C51.824 16.1909 51.5597 15.0699 51.5835 13.9365C51.5609 12.8138 51.8145 11.7027 52.3222 10.701C52.7939 9.78991 53.5135 9.03066 54.398 8.51075C55.3259 7.97668 56.382 7.70595 57.4525 7.72772C58.4627 7.69977 59.4595 7.96363 60.3235 8.48769C61.1876 9.01175 61.8822 9.77379 62.3243 10.6825C62.8123 11.6875 63.0553 12.7937 63.0334 13.9107C63.0371 14.1581 63.0223 14.4795 62.9891 14.871ZM60.4036 12.9134C60.3242 12.1047 59.9772 11.3456 59.4175 10.7564C59.1491 10.5049 58.833 10.31 58.4878 10.1831C58.1427 10.0562 57.7755 9.99992 57.4082 10.0177C57.0215 10 56.6353 10.0602 56.2723 10.1947C55.9094 10.3292 55.5772 10.5353 55.2955 10.8007C54.7377 11.3812 54.3815 12.1259 54.2798 12.9245L60.4036 12.9134Z"}),n.default.createElement("path",{d:"M74.0053 8.51812C74.9038 9.04957 75.6405 9.81569 76.1365 10.7342C76.6668 11.7132 76.9364 12.8122 76.9195 13.9254C76.9365 15.0375 76.6668 16.1353 76.1365 17.1129C75.6404 18.0357 74.9009 18.8049 73.9984 19.3369C73.0959 19.8689 72.0648 20.1434 71.0173 20.1306C70.2821 20.146 69.5531 19.9931 68.8861 19.6836C68.2748 19.3888 67.74 18.9565 67.3237 18.4205V19.824H64.7383V3H67.3237V9.42673C67.7418 8.89431 68.2763 8.46473 68.8861 8.17093C69.5523 7.85843 70.2816 7.70421 71.0173 7.72032C72.0676 7.70747 73.1012 7.98345 74.0053 8.51812ZM72.5944 17.2016C73.1307 16.8719 73.5623 16.3967 73.8391 15.8313C74.1232 15.2355 74.2707 14.5837 74.2707 13.9236C74.2707 13.2635 74.1232 12.6117 73.8391 12.0159C73.5612 11.4513 73.1298 10.9764 72.5944 10.6456C72.0253 10.32 71.3811 10.1488 70.7255 10.1488C70.0699 10.1488 69.4256 10.32 68.8566 10.6456C68.3198 10.9715 67.8848 11.441 67.6008 12.0011C67.2935 12.5993 67.1388 13.2641 67.1502 13.9365C67.1384 14.6078 67.2933 15.2714 67.6008 15.8682C67.8848 16.4283 68.3198 16.8978 68.8566 17.2237C69.4256 17.5493 70.0699 17.7206 70.7255 17.7206C71.3811 17.7206 72.0253 17.5493 72.5944 17.2237V17.2016Z"}),n.default.createElement("path",{d:"M89.6765 14.871H80.9709C81.0512 15.4795 81.2795 16.0591 81.6357 16.559C81.9512 16.9963 82.3786 17.3408 82.873 17.5562C83.3766 17.7737 83.9202 17.8832 84.4686 17.8775C85.0766 17.8747 85.6792 17.7647 86.2489 17.5525C86.8394 17.3366 87.3908 17.026 87.8815 16.6328L89.1594 18.4796C88.5077 19.0502 87.7477 19.4836 86.9248 19.7539C86.0776 20.0192 85.1939 20.15 84.3061 20.1417C83.2143 20.162 82.136 19.8972 81.1777 19.3734C80.2736 18.8645 79.5331 18.1086 79.0429 17.1942C78.514 16.1912 78.2484 15.0703 78.2709 13.9366C78.2484 12.8138 78.5021 11.7028 79.0096 10.701C79.4813 9.78994 80.2009 9.03069 81.0854 8.51077C82.0187 7.96891 83.0831 7.69419 84.1621 7.71667C85.172 7.69009 86.1682 7.95452 87.032 8.47843C87.8958 9.00233 88.5907 9.76361 89.0338 10.6715C89.5218 11.6764 89.7649 12.7827 89.743 13.8996C89.7282 14.1582 89.7024 14.4795 89.6765 14.871ZM87.091 12.9135C87.0058 12.1099 86.6579 11.3569 86.1012 10.7712C85.8347 10.5183 85.5203 10.3214 85.1764 10.192C84.8326 10.0626 84.4664 10.0033 84.0993 10.0177C83.7126 9.99961 83.3262 10.0596 82.9632 10.1941C82.6002 10.3287 82.2681 10.535 81.9866 10.8008C81.4274 11.3803 81.0711 12.1255 80.9709 12.9245L87.091 12.9135Z"}),n.default.createElement("path",{d:"M101.958 19.824H98.7923L95.8005 15.7205L92.8457 19.824H89.8281L94.2603 13.7999L89.8983 8.02319H93.0673L95.9483 11.9642L98.8292 8.02319H101.891L97.5106 13.7777L101.958 19.824Z"}),n.default.createElement("path",{d:"M8.2752 20.9287C3.5932 20.9287 1.99967 15.1377 1.64261 14.0111C0.745924 11.1822 0.473333 8.63394 0.444477 8.3665C0.27797 6.8234 1.54339 5.74961 2.9322 5.74961C3.9838 5.74961 5.20424 6.36527 5.3659 7.85896C5.39397 8.1102 5.60775 10.277 6.36404 12.638C7.15331 15.102 7.9906 16.0496 8.59357 16.0496C9.56728 16.0496 10.1614 13.6036 10.6866 11.2746C11.0735 9.55872 11.4918 7.82965 12.3176 6.29377C13.7543 3.62177 15.9253 3 17.8008 3C21.9133 3 23.9715 7.66003 23.9715 8.86738C23.9715 10.885 22.2889 11.3997 21.5596 11.3997C19.9645 11.3997 19.4238 10.3544 18.9687 9.43821C18.5593 8.61395 18.1318 7.9286 17.579 7.9286C17.3974 7.9286 17.229 8.0186 17.0734 8.17337C15.6994 9.53912 15.2387 16.684 12.4916 19.4148C10.9686 20.9287 9.31153 20.9287 8.2752 20.9287Z",fill:"url(#paint0_linear)"}),n.default.createElement("path",{d:"M8.2752 20.9287C3.5932 20.9287 1.99967 15.1377 1.64261 14.0111C0.745924 11.1822 0.473333 8.63394 0.444477 8.3665C0.27797 6.8234 1.54339 5.74961 2.9322 5.74961C3.9838 5.74961 5.20424 6.36527 5.3659 7.85896C5.39397 8.1102 5.60775 10.277 6.36404 12.638C7.15331 15.102 7.9906 16.0496 8.59357 16.0496C9.56728 16.0496 10.1614 13.6036 10.6866 11.2746C11.0735 9.55872 11.4918 7.82965 12.3176 6.29377C13.7543 3.62177 15.9253 3 17.8008 3C21.9133 3 23.9715 7.66003 23.9715 8.86738C23.9715 10.885 22.2889 11.3997 21.5596 11.3997C19.9645 11.3997 19.4238 10.3544 18.9687 9.43821C18.5593 8.61395 18.1318 7.9286 17.579 7.9286C17.3974 7.9286 17.229 8.0186 17.0734 8.17337C15.6994 9.53912 15.2387 16.684 12.4916 19.4148C10.9686 20.9287 9.31153 20.9287 8.2752 20.9287Z",fill:"url(#paint1_radial)"}),n.default.createElement("path",{d:"M8.2752 20.9287C3.5932 20.9287 1.99967 15.1377 1.64261 14.0111C0.745924 11.1822 0.473333 8.63394 0.444477 8.3665C0.27797 6.8234 1.54339 5.74961 2.9322 5.74961C3.9838 5.74961 5.20424 6.36527 5.3659 7.85896C5.39397 8.1102 5.60775 10.277 6.36404 12.638C7.15331 15.102 7.9906 16.0496 8.59357 16.0496C9.56728 16.0496 10.1614 13.6036 10.6866 11.2746C11.0735 9.55872 11.4918 7.82965 12.3176 6.29377C13.7543 3.62177 15.9253 3 17.8008 3C21.9133 3 23.9715 7.66003 23.9715 8.86738C23.9715 10.885 22.2889 11.3997 21.5596 11.3997C19.9645 11.3997 19.4238 10.3544 18.9687 9.43821C18.5593 8.61395 18.1318 7.9286 17.579 7.9286C17.3974 7.9286 17.229 8.0186 17.0734 8.17337C15.6994 9.53912 15.2387 16.684 12.4916 19.4148C10.9686 20.9287 9.31153 20.9287 8.2752 20.9287Z",fill:"url(#paint2_radial)"}),n.default.createElement("path",{d:"M8.2752 20.9287C3.5932 20.9287 1.99967 15.1377 1.64261 14.0111C0.745924 11.1822 0.473333 8.63394 0.444477 8.3665C0.27797 6.8234 1.54339 5.74961 2.9322 5.74961C3.9838 5.74961 5.20424 6.36527 5.3659 7.85896C5.39397 8.1102 5.60775 10.277 6.36404 12.638C7.15331 15.102 7.9906 16.0496 8.59357 16.0496C9.56728 16.0496 10.1614 13.6036 10.6866 11.2746C11.0735 9.55872 11.4918 7.82965 12.3176 6.29377C13.7543 3.62177 15.9253 3 17.8008 3C21.9133 3 23.9715 7.66003 23.9715 8.86738C23.9715 10.885 22.2889 11.3997 21.5596 11.3997C19.9645 11.3997 19.4238 10.3544 18.9687 9.43821C18.5593 8.61395 18.1318 7.9286 17.579 7.9286C17.3974 7.9286 17.229 8.0186 17.0734 8.17337C15.6994 9.53912 15.2387 16.684 12.4916 19.4148C10.9686 20.9287 9.31153 20.9287 8.2752 20.9287Z",fill:"url(#paint3_radial)"}),n.default.createElement("path",{d:"M8.2752 20.9287C3.5932 20.9287 1.99967 15.1377 1.64261 14.0111C0.745924 11.1822 0.473333 8.63394 0.444477 8.3665C0.27797 6.8234 1.54339 5.74961 2.9322 5.74961C3.9838 5.74961 5.20424 6.36527 5.3659 7.85896C5.39397 8.1102 5.60775 10.277 6.36404 12.638C7.15331 15.102 7.9906 16.0496 8.59357 16.0496C9.56728 16.0496 10.1614 13.6036 10.6866 11.2746C11.0735 9.55872 11.4918 7.82965 12.3176 6.29377C13.7543 3.62177 15.9253 3 17.8008 3C21.9133 3 23.9715 7.66003 23.9715 8.86738C23.9715 10.885 22.2889 11.3997 21.5596 11.3997C19.9645 11.3997 19.4238 10.3544 18.9687 9.43821C18.5593 8.61395 18.1318 7.9286 17.579 7.9286C17.3974 7.9286 17.229 8.0186 17.0734 8.17337C15.6994 9.53912 15.2387 16.684 12.4916 19.4148C10.9686 20.9287 9.31153 20.9287 8.2752 20.9287Z",fill:"url(#paint4_radial)"}),n.default.createElement("path",{d:"M8.2752 20.9287C3.5932 20.9287 1.99967 15.1377 1.64261 14.0111C0.745924 11.1822 0.473333 8.63394 0.444477 8.3665C0.27797 6.8234 1.54339 5.74961 2.9322 5.74961C3.9838 5.74961 5.20424 6.36527 5.3659 7.85896C5.39397 8.1102 5.60775 10.277 6.36404 12.638C7.15331 15.102 7.9906 16.0496 8.59357 16.0496C9.56728 16.0496 10.1614 13.6036 10.6866 11.2746C11.0735 9.55872 11.4918 7.82965 12.3176 6.29377C13.7543 3.62177 15.9253 3 17.8008 3C21.9133 3 23.9715 7.66003 23.9715 8.86738C23.9715 10.885 22.2889 11.3997 21.5596 11.3997C19.9645 11.3997 19.4238 10.3544 18.9687 9.43821C18.5593 8.61395 18.1318 7.9286 17.579 7.9286C17.3974 7.9286 17.229 8.0186 17.0734 8.17337C15.6994 9.53912 15.2387 16.684 12.4916 19.4148C10.9686 20.9287 9.31153 20.9287 8.2752 20.9287Z",fill:"url(#paint5_radial)"}),n.default.createElement("path",{d:"M8.2752 20.9287C3.5932 20.9287 1.99967 15.1377 1.64261 14.0111C0.745924 11.1822 0.473333 8.63394 0.444477 8.3665C0.27797 6.8234 1.54339 5.74961 2.9322 5.74961C3.9838 5.74961 5.20424 6.36527 5.3659 7.85896C5.39397 8.1102 5.60775 10.277 6.36404 12.638C7.15331 15.102 7.9906 16.0496 8.59357 16.0496C9.56728 16.0496 10.1614 13.6036 10.6866 11.2746C11.0735 9.55872 11.4918 7.82965 12.3176 6.29377C13.7543 3.62177 15.9253 3 17.8008 3C21.9133 3 23.9715 7.66003 23.9715 8.86738C23.9715 10.885 22.2889 11.3997 21.5596 11.3997C19.9645 11.3997 19.4238 10.3544 18.9687 9.43821C18.5593 8.61395 18.1318 7.9286 17.579 7.9286C17.3974 7.9286 17.229 8.0186 17.0734 8.17337C15.6994 9.53912 15.2387 16.684 12.4916 19.4148C10.9686 20.9287 9.31153 20.9287 8.2752 20.9287Z",fill:"url(#paint6_radial)"}),n.default.createElement("path",{d:"M8.2752 20.9287C3.5932 20.9287 1.99967 15.1377 1.64261 14.0111C0.745924 11.1822 0.473333 8.63394 0.444477 8.3665C0.27797 6.8234 1.54339 5.74961 2.9322 5.74961C3.9838 5.74961 5.20424 6.36527 5.3659 7.85896C5.39397 8.1102 5.60775 10.277 6.36404 12.638C7.15331 15.102 7.9906 16.0496 8.59357 16.0496C9.56728 16.0496 10.1614 13.6036 10.6866 11.2746C11.0735 9.55872 11.4918 7.82965 12.3176 6.29377C13.7543 3.62177 15.9253 3 17.8008 3C21.9133 3 23.9715 7.66003 23.9715 8.86738C23.9715 10.885 22.2889 11.3997 21.5596 11.3997C19.9645 11.3997 19.4238 10.3544 18.9687 9.43821C18.5593 8.61395 18.1318 7.9286 17.579 7.9286C17.3974 7.9286 17.229 8.0186 17.0734 8.17337C15.6994 9.53912 15.2387 16.684 12.4916 19.4148C10.9686 20.9287 9.31153 20.9287 8.2752 20.9287Z",fill:"url(#paint7_linear)"}),n.default.createElement("path",{d:"M8.2752 20.9287C3.5932 20.9287 1.99967 15.1377 1.64261 14.0111C0.745924 11.1822 0.473333 8.63394 0.444477 8.3665C0.27797 6.8234 1.54339 5.74961 2.9322 5.74961C3.9838 5.74961 5.20424 6.36527 5.3659 7.85896C5.39397 8.1102 5.60775 10.277 6.36404 12.638C7.15331 15.102 7.9906 16.0496 8.59357 16.0496C9.56728 16.0496 10.1614 13.6036 10.6866 11.2746C11.0735 9.55872 11.4918 7.82965 12.3176 6.29377C13.7543 3.62177 15.9253 3 17.8008 3C21.9133 3 23.9715 7.66003 23.9715 8.86738C23.9715 10.885 22.2889 11.3997 21.5596 11.3997C19.9645 11.3997 19.4238 10.3544 18.9687 9.43821C18.5593 8.61395 18.1318 7.9286 17.579 7.9286C17.3974 7.9286 17.229 8.0186 17.0734 8.17337C15.6994 9.53912 15.2387 16.684 12.4916 19.4148C10.9686 20.9287 9.31153 20.9287 8.2752 20.9287Z",fill:"url(#paint8_radial)"}),n.default.createElement("path",{d:"M17.8018 3C15.9264 3 13.7554 3.62177 12.3187 6.29377C11.4929 7.82965 11.0746 9.55872 10.6877 11.2746C10.5603 11.8393 10.4289 12.4107 10.2891 12.9526V20.7161C10.9987 20.5197 11.7612 20.1419 12.4926 19.4148C15.2398 16.684 15.7005 9.53912 17.0744 8.17337C17.2301 8.0186 17.3984 7.9286 17.5801 7.9286C18.1329 7.9286 18.5604 8.61395 18.9698 9.4382C19.4249 10.3544 19.9656 11.3997 21.5607 11.3997C22.29 11.3997 23.9726 10.885 23.9726 8.86738C23.9726 7.66003 21.9144 3 17.8018 3Z",fill:"url(#paint9_radial)"}),n.default.createElement("path",{d:"M8.2752 20.9287C3.5932 20.9287 1.99967 15.1377 1.64261 14.0111C0.745924 11.1822 0.473333 8.63394 0.444477 8.3665C0.27797 6.8234 1.54339 5.74961 2.9322 5.74961C3.9838 5.74961 5.20424 6.36527 5.3659 7.85896C5.39397 8.1102 5.60775 10.277 6.36404 12.638C7.15331 15.102 7.9906 16.0496 8.59357 16.0496C9.56728 16.0496 10.1614 13.6036 10.6866 11.2746C11.0735 9.55872 11.4918 7.82965 12.3176 6.29377C13.7543 3.62177 15.9253 3 17.8008 3C21.9133 3 23.9715 7.66003 23.9715 8.86738C23.9715 10.885 22.2889 11.3997 21.5596 11.3997C19.9645 11.3997 19.4238 10.3544 18.9687 9.43821C18.5593 8.61395 18.1318 7.9286 17.579 7.9286C17.3974 7.9286 17.229 8.0186 17.0734 8.17337C15.6994 9.53912 15.2387 16.684 12.4916 19.4148C10.9686 20.9287 9.31153 20.9287 8.2752 20.9287Z",fill:"url(#paint10_radial)"}),n.default.createElement("path",{d:"M8.2752 20.9287C3.5932 20.9287 1.99967 15.1377 1.64261 14.0111C0.745924 11.1822 0.473333 8.63394 0.444477 8.3665C0.27797 6.8234 1.54339 5.74961 2.9322 5.74961C3.9838 5.74961 5.20424 6.36527 5.3659 7.85896C5.39397 8.1102 5.60775 10.277 6.36404 12.638C7.15331 15.102 7.9906 16.0496 8.59357 16.0496C9.56728 16.0496 10.1614 13.6036 10.6866 11.2746C11.0735 9.55872 11.4918 7.82965 12.3176 6.29377C13.7543 3.62177 15.9253 3 17.8008 3C21.9133 3 23.9715 7.66003 23.9715 8.86738C23.9715 10.885 22.2889 11.3997 21.5596 11.3997C19.9645 11.3997 19.4238 10.3544 18.9687 9.43821C18.5593 8.61395 18.1318 7.9286 17.579 7.9286C17.3974 7.9286 17.229 8.0186 17.0734 8.17337C15.6994 9.53912 15.2387 16.684 12.4916 19.4148C10.9686 20.9287 9.31153 20.9287 8.2752 20.9287Z",fill:"url(#paint11_radial)"}),n.default.createElement("path",{d:"M8.2752 20.9287C3.5932 20.9287 1.99967 15.1377 1.64261 14.0111C0.745924 11.1822 0.473333 8.63394 0.444477 8.3665C0.27797 6.8234 1.54339 5.74961 2.9322 5.74961C3.9838 5.74961 5.20424 6.36527 5.3659 7.85896C5.39397 8.1102 5.60775 10.277 6.36404 12.638C7.15331 15.102 7.9906 16.0496 8.59357 16.0496C9.56728 16.0496 10.1614 13.6036 10.6866 11.2746C11.0735 9.55872 11.4918 7.82965 12.3176 6.29377C13.7543 3.62177 15.9253 3 17.8008 3C21.9133 3 23.9715 7.66003 23.9715 8.86738C23.9715 10.885 22.2889 11.3997 21.5596 11.3997C19.9645 11.3997 19.4238 10.3544 18.9687 9.43821C18.5593 8.61395 18.1318 7.9286 17.579 7.9286C17.3974 7.9286 17.229 8.0186 17.0734 8.17337C15.6994 9.53912 15.2387 16.684 12.4916 19.4148C10.9686 20.9287 9.31153 20.9287 8.2752 20.9287Z",fill:"url(#paint12_radial)"}),n.default.createElement("path",{d:"M8.2752 20.9287C3.5932 20.9287 1.99967 15.1377 1.64261 14.0111C0.745924 11.1822 0.473333 8.63394 0.444477 8.3665C0.27797 6.8234 1.54339 5.74961 2.9322 5.74961C3.9838 5.74961 5.20424 6.36527 5.3659 7.85896C5.39397 8.1102 5.60775 10.277 6.36404 12.638C7.15331 15.102 7.9906 16.0496 8.59357 16.0496C9.56728 16.0496 10.1614 13.6036 10.6866 11.2746C11.0735 9.55872 11.4918 7.82965 12.3176 6.29377C13.7543 3.62177 15.9253 3 17.8008 3C21.9133 3 23.9715 7.66003 23.9715 8.86738C23.9715 10.885 22.2889 11.3997 21.5596 11.3997C19.9645 11.3997 19.4238 10.3544 18.9687 9.43821C18.5593 8.61395 18.1318 7.9286 17.579 7.9286C17.3974 7.9286 17.229 8.0186 17.0734 8.17337C15.6994 9.53912 15.2387 16.684 12.4916 19.4148C10.9686 20.9287 9.31153 20.9287 8.2752 20.9287Z",fill:"url(#paint13_radial)"}),n.default.createElement("path",{d:"M8.2752 20.9287C3.5932 20.9287 1.99967 15.1377 1.64261 14.0111C0.745924 11.1822 0.473333 8.63394 0.444477 8.3665C0.27797 6.8234 1.54339 5.74961 2.9322 5.74961C3.9838 5.74961 5.20424 6.36527 5.3659 7.85896C5.39397 8.1102 5.60775 10.277 6.36404 12.638C7.15331 15.102 7.9906 16.0496 8.59357 16.0496C9.56728 16.0496 10.1614 13.6036 10.6866 11.2746C11.0735 9.55872 11.4918 7.82965 12.3176 6.29377C13.7543 3.62177 15.9253 3 17.8008 3C21.9133 3 23.9715 7.66003 23.9715 8.86738C23.9715 10.885 22.2889 11.3997 21.5596 11.3997C19.9645 11.3997 19.4238 10.3544 18.9687 9.43821C18.5593 8.61395 18.1318 7.9286 17.579 7.9286C17.3974 7.9286 17.229 8.0186 17.0734 8.17337C15.6994 9.53912 15.2387 16.684 12.4916 19.4148C10.9686 20.9287 9.31153 20.9287 8.2752 20.9287Z",fill:"url(#paint14_radial)"}),n.default.createElement("path",{d:"M23.214 5.74961C23.0286 5.74961 22.8422 5.76673 22.6593 5.80194C23.5286 7.02795 23.9636 8.31231 23.9636 8.86724C23.9636 10.8849 22.2809 11.3996 21.5517 11.3996C20.9825 11.3996 20.5477 11.2664 20.2031 11.0536C20.1998 11.0662 20.1967 11.0788 20.1935 11.0914C20.091 11.4919 20.0101 11.9301 19.87 12.3566C19.6008 13.1767 19.2376 14.1134 18.8498 14.8383C18.4318 15.6197 18.0179 16.0769 17.5245 16.0529C16.9635 16.0256 16.5087 15.3184 15.9433 13.3195C15.761 12.6751 15.5922 11.9684 15.4357 11.2746C15.0476 9.55363 14.5713 7.82304 13.7568 6.29377C12.4265 3.79609 10.1571 3 8.34542 3C6.66524 3 5.40994 3.77801 4.42384 4.75823C4.15133 5.02913 3.85366 5.39409 3.55469 5.82299C4.41476 6.02563 5.22803 6.65881 5.3579 7.85882C5.38348 8.08762 5.56303 9.90486 6.16603 12.0107C6.33906 11.4827 6.59134 10.7009 7.17744 9.43821C7.46469 8.85996 7.72389 8.47867 7.95778 8.24618C8.17228 8.03297 8.36545 7.94491 8.53934 7.94491C8.72691 7.94491 9.36735 8.11282 9.99084 10.2527C10.7641 12.906 11.3395 17.1289 13.5319 19.3711C14.4989 20.3601 15.8521 21 17.7276 21C19.3732 21 20.7452 20.2912 21.7234 19.3052C23.3318 17.6838 24.2131 15.0031 24.5275 14.0111C25.422 11.189 25.6726 8.63656 25.7018 8.3665C25.8682 6.8234 24.5391 5.74961 23.214 5.74961Z",fill:"#316AFF"}),n.default.createElement("path",{d:"M23.214 5.74961C23.0286 5.74961 22.8422 5.76673 22.6593 5.80194C23.5286 7.02795 23.9636 8.31231 23.9636 8.86724C23.9636 10.8849 22.2809 11.3996 21.5517 11.3996C20.9825 11.3996 20.5477 11.2664 20.2031 11.0536C20.1998 11.0662 20.1967 11.0788 20.1935 11.0914C20.091 11.4919 20.0101 11.9301 19.87 12.3566C19.6008 13.1767 19.2376 14.1134 18.8498 14.8383C18.4318 15.6197 18.0179 16.0769 17.5245 16.0529C16.9635 16.0256 16.5087 15.3184 15.9433 13.3195C15.761 12.6751 15.5922 11.9684 15.4357 11.2746C15.0476 9.55363 14.5713 7.82304 13.7568 6.29377C12.4265 3.79609 10.1571 3 8.34542 3C6.66524 3 5.40994 3.77801 4.42384 4.75823C4.15133 5.02913 3.85366 5.39409 3.55469 5.82299C4.41476 6.02563 5.22803 6.65881 5.3579 7.85882C5.38348 8.08762 5.56303 9.90486 6.16603 12.0107C6.33906 11.4827 6.59134 10.7009 7.17744 9.43821C7.46469 8.85996 7.72389 8.47867 7.95778 8.24618C8.17228 8.03297 8.36545 7.94491 8.53934 7.94491C8.72691 7.94491 9.36735 8.11282 9.99084 10.2527C10.7641 12.906 11.3395 17.1289 13.5319 19.3711C14.4989 20.3601 15.8521 21 17.7276 21C19.3732 21 20.7452 20.2912 21.7234 19.3052C23.3318 17.6838 24.2131 15.0031 24.5275 14.0111C25.422 11.189 25.6726 8.63656 25.7018 8.3665C25.8682 6.8234 24.5391 5.74961 23.214 5.74961Z",fill:"url(#paint15_radial)"}),n.default.createElement("path",{d:"M23.214 5.74961C23.0286 5.74961 22.8422 5.76673 22.6593 5.80194C23.5286 7.02795 23.9636 8.31231 23.9636 8.86724C23.9636 10.8849 22.2809 11.3996 21.5517 11.3996C20.9825 11.3996 20.5477 11.2664 20.2031 11.0536C20.1998 11.0662 20.1967 11.0788 20.1935 11.0914C20.091 11.4919 20.0101 11.9301 19.87 12.3566C19.6008 13.1767 19.2376 14.1134 18.8498 14.8383C18.4318 15.6197 18.0179 16.0769 17.5245 16.0529C16.9635 16.0256 16.5087 15.3184 15.9433 13.3195C15.761 12.6751 15.5922 11.9684 15.4357 11.2746C15.0476 9.55363 14.5713 7.82304 13.7568 6.29377C12.4265 3.79609 10.1571 3 8.34542 3C6.66524 3 5.40994 3.77801 4.42384 4.75823C4.15133 5.02913 3.85366 5.39409 3.55469 5.82299C4.41476 6.02563 5.22803 6.65881 5.3579 7.85882C5.38348 8.08762 5.56303 9.90486 6.16603 12.0107C6.33906 11.4827 6.59134 10.7009 7.17744 9.43821C7.46469 8.85996 7.72389 8.47867 7.95778 8.24618C8.17228 8.03297 8.36545 7.94491 8.53934 7.94491C8.72691 7.94491 9.36735 8.11282 9.99084 10.2527C10.7641 12.906 11.3395 17.1289 13.5319 19.3711C14.4989 20.3601 15.8521 21 17.7276 21C19.3732 21 20.7452 20.2912 21.7234 19.3052C23.3318 17.6838 24.2131 15.0031 24.5275 14.0111C25.422 11.189 25.6726 8.63656 25.7018 8.3665C25.8682 6.8234 24.5391 5.74961 23.214 5.74961Z",fill:"url(#paint16_radial)"}),n.default.createElement("path",{d:"M23.214 5.74961C23.0286 5.74961 22.8422 5.76673 22.6593 5.80194C23.5286 7.02795 23.9636 8.31231 23.9636 8.86724C23.9636 10.8849 22.2809 11.3996 21.5517 11.3996C20.9825 11.3996 20.5477 11.2664 20.2031 11.0536C20.1998 11.0662 20.1967 11.0788 20.1935 11.0914C20.091 11.4919 20.0101 11.9301 19.87 12.3566C19.6008 13.1767 19.2376 14.1134 18.8498 14.8383C18.4318 15.6197 18.0179 16.0769 17.5245 16.0529C16.9635 16.0256 16.5087 15.3184 15.9433 13.3195C15.761 12.6751 15.5922 11.9684 15.4357 11.2746C15.0476 9.55363 14.5713 7.82304 13.7568 6.29377C12.4265 3.79609 10.1571 3 8.34542 3C6.66524 3 5.40994 3.77801 4.42384 4.75823C4.15133 5.02913 3.85366 5.39409 3.55469 5.82299C4.41476 6.02563 5.22803 6.65881 5.3579 7.85882C5.38348 8.08762 5.56303 9.90486 6.16603 12.0107C6.33906 11.4827 6.59134 10.7009 7.17744 9.43821C7.46469 8.85996 7.72389 8.47867 7.95778 8.24618C8.17228 8.03297 8.36545 7.94491 8.53934 7.94491C8.72691 7.94491 9.36735 8.11282 9.99084 10.2527C10.7641 12.906 11.3395 17.1289 13.5319 19.3711C14.4989 20.3601 15.8521 21 17.7276 21C19.3732 21 20.7452 20.2912 21.7234 19.3052C23.3318 17.6838 24.2131 15.0031 24.5275 14.0111C25.422 11.189 25.6726 8.63656 25.7018 8.3665C25.8682 6.8234 24.5391 5.74961 23.214 5.74961Z",fill:"url(#paint17_radial)"}),n.default.createElement("path",{d:"M23.214 5.74961C23.0286 5.74961 22.8422 5.76673 22.6593 5.80194C23.5286 7.02795 23.9636 8.31231 23.9636 8.86724C23.9636 10.8849 22.2809 11.3996 21.5517 11.3996C20.9825 11.3996 20.5477 11.2664 20.2031 11.0536C20.1998 11.0662 20.1967 11.0788 20.1935 11.0914C20.091 11.4919 20.0101 11.9301 19.87 12.3566C19.6008 13.1767 19.2376 14.1134 18.8498 14.8383C18.4318 15.6197 18.0179 16.0769 17.5245 16.0529C16.9635 16.0256 16.5087 15.3184 15.9433 13.3195C15.761 12.6751 15.5922 11.9684 15.4357 11.2746C15.0476 9.55363 14.5713 7.82304 13.7568 6.29377C12.4265 3.79609 10.1571 3 8.34542 3C6.66524 3 5.40994 3.77801 4.42384 4.75823C4.15133 5.02913 3.85366 5.39409 3.55469 5.82299C4.41476 6.02563 5.22803 6.65881 5.3579 7.85882C5.38348 8.08762 5.56303 9.90486 6.16603 12.0107C6.33906 11.4827 6.59134 10.7009 7.17744 9.43821C7.46469 8.85996 7.72389 8.47867 7.95778 8.24618C8.17228 8.03297 8.36545 7.94491 8.53934 7.94491C8.72691 7.94491 9.36735 8.11282 9.99084 10.2527C10.7641 12.906 11.3395 17.1289 13.5319 19.3711C14.4989 20.3601 15.8521 21 17.7276 21C19.3732 21 20.7452 20.2912 21.7234 19.3052C23.3318 17.6838 24.2131 15.0031 24.5275 14.0111C25.422 11.189 25.6726 8.63656 25.7018 8.3665C25.8682 6.8234 24.5391 5.74961 23.214 5.74961Z",fill:"url(#paint18_radial)"}),n.default.createElement("path",{d:"M23.214 5.74961C23.0286 5.74961 22.8422 5.76673 22.6593 5.80194C23.5286 7.02795 23.9636 8.31231 23.9636 8.86724C23.9636 10.8849 22.2809 11.3996 21.5517 11.3996C20.9825 11.3996 20.5477 11.2664 20.2031 11.0536C20.1998 11.0662 20.1967 11.0788 20.1935 11.0914C20.091 11.4919 20.0101 11.9301 19.87 12.3566C19.6008 13.1767 19.2376 14.1134 18.8498 14.8383C18.4318 15.6197 18.0179 16.0769 17.5245 16.0529C16.9635 16.0256 16.5087 15.3184 15.9433 13.3195C15.761 12.6751 15.5922 11.9684 15.4357 11.2746C15.0476 9.55363 14.5713 7.82304 13.7568 6.29377C12.4265 3.79609 10.1571 3 8.34542 3C6.66524 3 5.40994 3.77801 4.42384 4.75823C4.15133 5.02913 3.85366 5.39409 3.55469 5.82299C4.41476 6.02563 5.22803 6.65881 5.3579 7.85882C5.38348 8.08762 5.56303 9.90486 6.16603 12.0107C6.33906 11.4827 6.59134 10.7009 7.17744 9.43821C7.46469 8.85996 7.72389 8.47867 7.95778 8.24618C8.17228 8.03297 8.36545 7.94491 8.53934 7.94491C8.72691 7.94491 9.36735 8.11282 9.99084 10.2527C10.7641 12.906 11.3395 17.1289 13.5319 19.3711C14.4989 20.3601 15.8521 21 17.7276 21C19.3732 21 20.7452 20.2912 21.7234 19.3052C23.3318 17.6838 24.2131 15.0031 24.5275 14.0111C25.422 11.189 25.6726 8.63656 25.7018 8.3665C25.8682 6.8234 24.5391 5.74961 23.214 5.74961Z",fill:"url(#paint19_radial)"}),n.default.createElement("path",{d:"M23.214 5.74961C23.0286 5.74961 22.8422 5.76673 22.6593 5.80194C23.5286 7.02795 23.9636 8.31231 23.9636 8.86724C23.9636 10.8849 22.2809 11.3996 21.5517 11.3996C20.9825 11.3996 20.5477 11.2664 20.2031 11.0536C20.1998 11.0662 20.1967 11.0788 20.1935 11.0914C20.091 11.4919 20.0101 11.9301 19.87 12.3566C19.6008 13.1767 19.2376 14.1134 18.8498 14.8383C18.4318 15.6197 18.0179 16.0769 17.5245 16.0529C16.9635 16.0256 16.5087 15.3184 15.9433 13.3195C15.761 12.6751 15.5922 11.9684 15.4357 11.2746C15.0476 9.55363 14.5713 7.82304 13.7568 6.29377C12.4265 3.79609 10.1571 3 8.34542 3C6.66524 3 5.40994 3.77801 4.42384 4.75823C4.15133 5.02913 3.85366 5.39409 3.55469 5.82299C4.41476 6.02563 5.22803 6.65881 5.3579 7.85882C5.38348 8.08762 5.56303 9.90486 6.16603 12.0107C6.33906 11.4827 6.59134 10.7009 7.17744 9.43821C7.46469 8.85996 7.72389 8.47867 7.95778 8.24618C8.17228 8.03297 8.36545 7.94491 8.53934 7.94491C8.72691 7.94491 9.36735 8.11282 9.99084 10.2527C10.7641 12.906 11.3395 17.1289 13.5319 19.3711C14.4989 20.3601 15.8521 21 17.7276 21C19.3732 21 20.7452 20.2912 21.7234 19.3052C23.3318 17.6838 24.2131 15.0031 24.5275 14.0111C25.422 11.189 25.6726 8.63656 25.7018 8.3665C25.8682 6.8234 24.5391 5.74961 23.214 5.74961Z",fill:"url(#paint20_radial)"}),n.default.createElement("path",{d:"M23.214 5.74961C23.0286 5.74961 22.8422 5.76673 22.6593 5.80194C23.5286 7.02795 23.9636 8.31231 23.9636 8.86724C23.9636 10.8849 22.2809 11.3996 21.5517 11.3996C20.9825 11.3996 20.5477 11.2664 20.2031 11.0536C20.1998 11.0662 20.1967 11.0788 20.1935 11.0914C20.091 11.4919 20.0101 11.9301 19.87 12.3566C19.6008 13.1767 19.2376 14.1134 18.8498 14.8383C18.4318 15.6197 18.0179 16.0769 17.5245 16.0529C16.9635 16.0256 16.5087 15.3184 15.9433 13.3195C15.761 12.6751 15.5922 11.9684 15.4357 11.2746C15.0476 9.55363 14.5713 7.82304 13.7568 6.29377C12.4265 3.79609 10.1571 3 8.34542 3C6.66524 3 5.40994 3.77801 4.42384 4.75823C4.15133 5.02913 3.85366 5.39409 3.55469 5.82299C4.41476 6.02563 5.22803 6.65881 5.3579 7.85882C5.38348 8.08762 5.56303 9.90486 6.16603 12.0107C6.33906 11.4827 6.59134 10.7009 7.17744 9.43821C7.46469 8.85996 7.72389 8.47867 7.95778 8.24618C8.17228 8.03297 8.36545 7.94491 8.53934 7.94491C8.72691 7.94491 9.36735 8.11282 9.99084 10.2527C10.7641 12.906 11.3395 17.1289 13.5319 19.3711C14.4989 20.3601 15.8521 21 17.7276 21C19.3732 21 20.7452 20.2912 21.7234 19.3052C23.3318 17.6838 24.2131 15.0031 24.5275 14.0111C25.422 11.189 25.6726 8.63656 25.7018 8.3665C25.8682 6.8234 24.5391 5.74961 23.214 5.74961Z",fill:"url(#paint21_radial)"}),n.default.createElement("path",{d:"M23.214 5.74961C23.0286 5.74961 22.8422 5.76673 22.6593 5.80194C23.5286 7.02795 23.9636 8.31231 23.9636 8.86724C23.9636 10.8849 22.2809 11.3996 21.5517 11.3996C20.9825 11.3996 20.5477 11.2664 20.2031 11.0536C20.1998 11.0662 20.1967 11.0788 20.1935 11.0914C20.091 11.4919 20.0101 11.9301 19.87 12.3566C19.6008 13.1767 19.2376 14.1134 18.8498 14.8383C18.4318 15.6197 18.0179 16.0769 17.5245 16.0529C16.9635 16.0256 16.5087 15.3184 15.9433 13.3195C15.761 12.6751 15.5922 11.9684 15.4357 11.2746C15.0476 9.55363 14.5713 7.82304 13.7568 6.29377C12.4265 3.79609 10.1571 3 8.34542 3C6.66524 3 5.40994 3.77801 4.42384 4.75823C4.15133 5.02913 3.85366 5.39409 3.55469 5.82299C4.41476 6.02563 5.22803 6.65881 5.3579 7.85882C5.38348 8.08762 5.56303 9.90486 6.16603 12.0107C6.33906 11.4827 6.59134 10.7009 7.17744 9.43821C7.46469 8.85996 7.72389 8.47867 7.95778 8.24618C8.17228 8.03297 8.36545 7.94491 8.53934 7.94491C8.72691 7.94491 9.36735 8.11282 9.99084 10.2527C10.7641 12.906 11.3395 17.1289 13.5319 19.3711C14.4989 20.3601 15.8521 21 17.7276 21C19.3732 21 20.7452 20.2912 21.7234 19.3052C23.3318 17.6838 24.2131 15.0031 24.5275 14.0111C25.422 11.189 25.6726 8.63656 25.7018 8.3665C25.8682 6.8234 24.5391 5.74961 23.214 5.74961Z",fill:"url(#paint22_radial)"}),n.default.createElement("path",{d:"M23.214 5.74961C23.0286 5.74961 22.8422 5.76673 22.6593 5.80194C23.5286 7.02795 23.9636 8.31231 23.9636 8.86724C23.9636 10.8849 22.2809 11.3996 21.5517 11.3996C20.9825 11.3996 20.5477 11.2664 20.2031 11.0536C20.1998 11.0662 20.1967 11.0788 20.1935 11.0914C20.091 11.4919 20.0101 11.9301 19.87 12.3566C19.6008 13.1767 19.2376 14.1134 18.8498 14.8383C18.4318 15.6197 18.0179 16.0769 17.5245 16.0529C16.9635 16.0256 16.5087 15.3184 15.9433 13.3195C15.761 12.6751 15.5922 11.9684 15.4357 11.2746C15.0476 9.55363 14.5713 7.82304 13.7568 6.29377C12.4265 3.79609 10.1571 3 8.34542 3C6.66524 3 5.40994 3.77801 4.42384 4.75823C4.15133 5.02913 3.85366 5.39409 3.55469 5.82299C4.41476 6.02563 5.22803 6.65881 5.3579 7.85882C5.38348 8.08762 5.56303 9.90486 6.16603 12.0107C6.33906 11.4827 6.59134 10.7009 7.17744 9.43821C7.46469 8.85996 7.72389 8.47867 7.95778 8.24618C8.17228 8.03297 8.36545 7.94491 8.53934 7.94491C8.72691 7.94491 9.36735 8.11282 9.99084 10.2527C10.7641 12.906 11.3395 17.1289 13.5319 19.3711C14.4989 20.3601 15.8521 21 17.7276 21C19.3732 21 20.7452 20.2912 21.7234 19.3052C23.3318 17.6838 24.2131 15.0031 24.5275 14.0111C25.422 11.189 25.6726 8.63656 25.7018 8.3665C25.8682 6.8234 24.5391 5.74961 23.214 5.74961Z",fill:"url(#paint23_radial)"}),n.default.createElement("path",{d:"M23.214 5.74961C23.0286 5.74961 22.8422 5.76673 22.6593 5.80194C23.5286 7.02795 23.9636 8.31231 23.9636 8.86724C23.9636 10.8849 22.2809 11.3996 21.5517 11.3996C20.9825 11.3996 20.5477 11.2664 20.2031 11.0536C20.1998 11.0662 20.1967 11.0788 20.1935 11.0914C20.091 11.4919 20.0101 11.9301 19.87 12.3566C19.6008 13.1767 19.2376 14.1134 18.8498 14.8383C18.4318 15.6197 18.0179 16.0769 17.5245 16.0529C16.9635 16.0256 16.5087 15.3184 15.9433 13.3195C15.761 12.6751 15.5922 11.9684 15.4357 11.2746C15.0476 9.55363 14.5713 7.82304 13.7568 6.29377C12.4265 3.79609 10.1571 3 8.34542 3C6.66524 3 5.40994 3.77801 4.42384 4.75823C4.15133 5.02913 3.85366 5.39409 3.55469 5.82299C4.41476 6.02563 5.22803 6.65881 5.3579 7.85882C5.38348 8.08762 5.56303 9.90486 6.16603 12.0107C6.33906 11.4827 6.59134 10.7009 7.17744 9.43821C7.46469 8.85996 7.72389 8.47867 7.95778 8.24618C8.17228 8.03297 8.36545 7.94491 8.53934 7.94491C8.72691 7.94491 9.36735 8.11282 9.99084 10.2527C10.7641 12.906 11.3395 17.1289 13.5319 19.3711C14.4989 20.3601 15.8521 21 17.7276 21C19.3732 21 20.7452 20.2912 21.7234 19.3052C23.3318 17.6838 24.2131 15.0031 24.5275 14.0111C25.422 11.189 25.6726 8.63656 25.7018 8.3665C25.8682 6.8234 24.5391 5.74961 23.214 5.74961Z",fill:"url(#paint24_radial)"}),n.default.createElement("path",{d:"M8.2752 20.9287C3.5932 20.9287 1.99967 15.1377 1.64261 14.0111C0.745924 11.1822 0.473333 8.63394 0.444477 8.3665C0.27797 6.8234 1.54339 5.74961 2.9322 5.74961C3.9838 5.74961 5.20424 6.36527 5.3659 7.85896C5.394 8.1102 5.60775 10.277 6.36404 12.638C7.15331 15.102 7.9906 16.0496 8.59357 16.0496C9.56728 16.0496 10.1614 13.6036 10.6866 11.2746C11.0735 9.55872 11.4918 7.82965 12.3176 6.29377C13.7543 3.62177 15.9253 3 17.8008 3C21.9133 3 23.9715 7.66003 23.9715 8.86738C23.9715 10.885 22.2889 11.3997 21.5596 11.3997C19.9645 11.3997 19.4238 10.3544 18.9687 9.43821C18.5593 8.61395 18.1318 7.9286 17.579 7.9286C17.3974 7.9286 17.229 8.0186 17.0734 8.17337C15.6994 9.53912 15.2387 16.684 12.4916 19.4148C10.9686 20.9287 9.31153 20.9287 8.2752 20.9287Z",fill:"url(#paint25_linear)"}),n.default.createElement("path",{d:"M8.2752 20.9287C3.5932 20.9287 1.99967 15.1377 1.64261 14.0111C0.745924 11.1822 0.473333 8.63394 0.444477 8.3665C0.27797 6.8234 1.54339 5.74961 2.9322 5.74961C3.9838 5.74961 5.20424 6.36527 5.3659 7.85896C5.394 8.1102 5.60775 10.277 6.36404 12.638C7.15331 15.102 7.9906 16.0496 8.59357 16.0496C9.56728 16.0496 10.1614 13.6036 10.6866 11.2746C11.0735 9.55872 11.4918 7.82965 12.3176 6.29377C13.7543 3.62177 15.9253 3 17.8008 3C21.9133 3 23.9715 7.66003 23.9715 8.86738C23.9715 10.885 22.2889 11.3997 21.5596 11.3997C19.9645 11.3997 19.4238 10.3544 18.9687 9.43821C18.5593 8.61395 18.1318 7.9286 17.579 7.9286C17.3974 7.9286 17.229 8.0186 17.0734 8.17337C15.6994 9.53912 15.2387 16.684 12.4916 19.4148C10.9686 20.9287 9.31153 20.9287 8.2752 20.9287Z",fill:"url(#paint26_radial)"}),n.default.createElement("path",{d:"M8.2752 20.9287C3.5932 20.9287 1.99967 15.1377 1.64261 14.0111C0.745924 11.1822 0.473333 8.63394 0.444477 8.3665C0.27797 6.8234 1.54339 5.74961 2.9322 5.74961C3.9838 5.74961 5.20424 6.36527 5.3659 7.85896C5.394 8.1102 5.60775 10.277 6.36404 12.638C7.15331 15.102 7.9906 16.0496 8.59357 16.0496C9.56728 16.0496 10.1614 13.6036 10.6866 11.2746C11.0735 9.55872 11.4918 7.82965 12.3176 6.29377C13.7543 3.62177 15.9253 3 17.8008 3C21.9133 3 23.9715 7.66003 23.9715 8.86738C23.9715 10.885 22.2889 11.3997 21.5596 11.3997C19.9645 11.3997 19.4238 10.3544 18.9687 9.43821C18.5593 8.61395 18.1318 7.9286 17.579 7.9286C17.3974 7.9286 17.229 8.0186 17.0734 8.17337C15.6994 9.53912 15.2387 16.684 12.4916 19.4148C10.9686 20.9287 9.31153 20.9287 8.2752 20.9287Z",fill:"url(#paint27_linear)"}),n.default.createElement("path",{d:"M8.2752 20.9287C3.5932 20.9287 1.99967 15.1377 1.64261 14.0111C0.745924 11.1822 0.473333 8.63394 0.444477 8.3665C0.27797 6.8234 1.54339 5.74961 2.9322 5.74961C3.9838 5.74961 5.20424 6.36527 5.3659 7.85896C5.394 8.1102 5.60775 10.277 6.36404 12.638C7.15331 15.102 7.9906 16.0496 8.59357 16.0496C9.56728 16.0496 10.1614 13.6036 10.6866 11.2746C11.0735 9.55872 11.4918 7.82965 12.3176 6.29377C13.7543 3.62177 15.9253 3 17.8008 3C21.9133 3 23.9715 7.66003 23.9715 8.86738C23.9715 10.885 22.2889 11.3997 21.5596 11.3997C19.9645 11.3997 19.4238 10.3544 18.9687 9.43821C18.5593 8.61395 18.1318 7.9286 17.579 7.9286C17.3974 7.9286 17.229 8.0186 17.0734 8.17337C15.6994 9.53912 15.2387 16.684 12.4916 19.4148C10.9686 20.9287 9.31153 20.9287 8.2752 20.9287Z",fill:"url(#paint28_linear)"}),n.default.createElement("path",{d:"M8.2752 20.9287C3.5932 20.9287 1.99967 15.1377 1.64261 14.0111C0.745924 11.1822 0.473333 8.63394 0.444477 8.3665C0.27797 6.8234 1.54339 5.74961 2.9322 5.74961C3.9838 5.74961 5.20424 6.36527 5.3659 7.85896C5.394 8.1102 5.60775 10.277 6.36404 12.638C7.15331 15.102 7.9906 16.0496 8.59357 16.0496C9.56728 16.0496 10.1614 13.6036 10.6866 11.2746C11.0735 9.55872 11.4918 7.82965 12.3176 6.29377C13.7543 3.62177 15.9253 3 17.8008 3C21.9133 3 23.9715 7.66003 23.9715 8.86738C23.9715 10.885 22.2889 11.3997 21.5596 11.3997C19.9645 11.3997 19.4238 10.3544 18.9687 9.43821C18.5593 8.61395 18.1318 7.9286 17.579 7.9286C17.3974 7.9286 17.229 8.0186 17.0734 8.17337C15.6994 9.53912 15.2387 16.684 12.4916 19.4148C10.9686 20.9287 9.31153 20.9287 8.2752 20.9287Z",fill:"url(#paint29_radial)"}),n.default.createElement("path",{d:"M76.6975 29.1488H76.2852V25.3674H76.7903V26.7975C76.8907 26.6495 77.0275 26.5297 77.1875 26.4496C77.3475 26.3696 77.5254 26.3321 77.7041 26.3406C77.879 26.332 78.0533 26.3656 78.2124 26.4387C78.3715 26.5117 78.5106 26.6221 78.6179 26.7604C78.8204 27.0544 78.9209 27.4067 78.9039 27.7633C78.9158 27.9659 78.8872 28.1689 78.8195 28.3602C78.7519 28.5516 78.6467 28.7275 78.5102 28.8777C78.4006 28.9887 78.2689 29.0756 78.1237 29.1325C77.9784 29.1894 77.8228 29.2153 77.667 29.2083C77.4938 29.2179 77.321 29.1826 77.1655 29.1058C77.0099 29.029 76.8769 28.9133 76.7792 28.77L76.6975 29.1488ZM78.3913 27.7522C78.4004 27.6121 78.3814 27.4716 78.3355 27.3389C78.2896 27.2062 78.2176 27.0841 78.1239 26.9795C78.0535 26.9092 77.9693 26.8544 77.8765 26.8186C77.7838 26.7828 77.6846 26.7667 77.5852 26.7715C77.4693 26.7666 77.3538 26.7889 77.248 26.8366C77.1422 26.8843 77.0491 26.9562 76.9761 27.0464C76.8262 27.2504 76.7502 27.4993 76.7606 27.7522C76.7419 28.043 76.8349 28.3299 77.0206 28.5545C77.0905 28.6347 77.1775 28.698 77.2753 28.7399C77.3731 28.7817 77.479 28.8008 77.5852 28.796C77.7014 28.8022 77.8173 28.7793 77.9224 28.7293C78.0275 28.6794 78.1185 28.604 78.187 28.5099C78.3313 28.2843 78.4026 28.0197 78.3913 27.7522Z"}),n.default.createElement("path",{d:"M81.6039 26.4187L80.653 29.186C80.5722 29.453 80.4466 29.7042 80.2815 29.9289C80.2166 30.006 80.1351 30.0674 80.0432 30.1086C79.9512 30.1498 79.8511 30.1696 79.7503 30.1667C79.6398 30.1647 79.5299 30.1485 79.4235 30.1184V29.7098C79.5098 29.7316 79.5982 29.744 79.6872 29.7469C79.7354 29.7494 79.7836 29.7403 79.8276 29.7202C79.8715 29.7002 79.91 29.6698 79.9398 29.6318C80.0365 29.4789 80.1126 29.3141 80.1664 29.1414H80.0029L79 26.4113H79.546L80.3187 28.7328L81.0876 26.4113L81.6039 26.4187Z"}),n.default.createElement("path",{d:"M88.6453 25.3712H87.6758V29.1638H88.6341L88.6453 25.3712Z"}),n.default.createElement("path",{d:"M96.3569 26.4596C96.11 26.3239 95.8326 26.2536 95.5509 26.2553C95.4128 26.2469 95.2744 26.2669 95.1444 26.314C95.0143 26.361 94.8952 26.4342 94.7945 26.5291C94.6938 26.6239 94.6135 26.7383 94.5586 26.8653C94.5038 26.9923 94.4754 27.1291 94.4754 27.2675C94.4754 27.4058 94.5038 27.5427 94.5586 27.6697C94.6135 27.7967 94.6938 27.9111 94.7945 28.0059C94.8952 28.1007 95.0143 28.1739 95.1444 28.221C95.2744 28.2681 95.4128 28.2881 95.5509 28.2797C95.8319 28.2797 96.1087 28.2108 96.3569 28.0791V29.0932C96.0743 29.1815 95.7801 29.2278 95.484 29.2306C95.219 29.2422 94.9544 29.1999 94.7062 29.1065C94.458 29.013 94.2312 28.8703 94.0397 28.6868C93.8481 28.5034 93.6956 28.2831 93.5915 28.0391C93.4873 27.7952 93.4336 27.5327 93.4336 27.2675C93.4336 27.0022 93.4873 26.7398 93.5915 26.4958C93.6956 26.2519 93.8481 26.0316 94.0397 25.8481C94.2312 25.6647 94.458 25.522 94.7062 25.4285C94.9544 25.3351 95.219 25.2928 95.484 25.3043C95.7802 25.306 96.0745 25.3523 96.3569 25.4418V26.4596Z"}),n.default.createElement("path",{d:"M86.3727 26.4596C86.1276 26.323 85.851 26.2526 85.5704 26.2553C85.4323 26.2469 85.294 26.2669 85.1639 26.314C85.0338 26.3611 84.9148 26.4343 84.814 26.5291C84.7133 26.6239 84.633 26.7383 84.5781 26.8653C84.5233 26.9923 84.495 27.1292 84.495 27.2675C84.495 27.4059 84.5233 27.5427 84.5781 27.6697C84.633 27.7967 84.7133 27.9111 84.814 28.0059C84.9148 28.1008 85.0338 28.174 85.1639 28.221C85.294 28.2681 85.4323 28.2881 85.5704 28.2797C85.8491 28.2854 86.1249 28.2216 86.3727 28.094V29.1081C86.0914 29.1965 85.7985 29.2428 85.5035 29.2455C85.2385 29.257 84.974 29.2148 84.7257 29.1213C84.4775 29.0279 84.2508 28.8851 84.0592 28.7017C83.8676 28.5183 83.7151 28.298 83.611 28.054C83.5068 27.8101 83.4531 27.5476 83.4531 27.2824C83.4531 27.0171 83.5068 26.7546 83.611 26.5107C83.7151 26.2668 83.8676 26.0465 84.0592 25.863C84.2508 25.6796 84.4775 25.5369 84.7257 25.4434C84.974 25.3499 85.2385 25.3077 85.5035 25.3192C85.7986 25.3204 86.0917 25.3667 86.3727 25.4567V26.4596Z"}),n.default.createElement("path",{d:"M99.3652 26.2702C99.1671 26.2687 98.973 26.3261 98.8077 26.4352C98.6423 26.5443 98.5131 26.7 98.4364 26.8827C98.3598 27.0653 98.3391 27.2667 98.3771 27.4611C98.4151 27.6555 98.5101 27.8342 98.6499 27.9746C98.7897 28.1149 98.9681 28.2105 99.1624 28.2493C99.3566 28.288 99.558 28.2681 99.741 28.1922C99.9239 28.1162 100.08 27.9875 100.19 27.8226C100.3 27.6576 100.358 27.4638 100.357 27.2657C100.359 27.1347 100.335 27.0047 100.286 26.8832C100.237 26.7618 100.164 26.6514 100.071 26.5586C99.9787 26.4658 99.8686 26.3925 99.7474 26.343C99.6261 26.2934 99.4962 26.2687 99.3652 26.2702ZM101.371 27.2657C101.379 27.6631 101.269 28.054 101.054 28.3885C100.839 28.723 100.53 28.986 100.165 29.1439C99.7998 29.3018 99.3963 29.3476 99.0053 29.2753C98.6144 29.203 98.2538 29.016 97.9696 28.7381C97.6853 28.4601 97.4903 28.1039 97.4092 27.7147C97.3282 27.3255 97.3648 26.9209 97.5145 26.5527C97.6642 26.1844 97.9202 25.869 98.2498 25.6467C98.5793 25.4244 98.9676 25.3052 99.3652 25.3044C99.6269 25.2969 99.8874 25.3422 100.131 25.4375C100.375 25.5329 100.597 25.6763 100.784 25.8594C100.972 26.0424 101.12 26.2612 101.221 26.5028C101.322 26.7444 101.373 27.0039 101.371 27.2657Z"}),n.default.createElement("path",{d:"M92.2738 26.2367C92.0312 26.1705 91.782 26.1319 91.5309 26.1215C91.1594 26.1215 90.9365 26.2515 90.9365 26.4336C90.9365 26.6156 91.2188 26.7456 91.3748 26.805L91.6423 26.8867C91.8923 26.9406 92.1171 27.0767 92.2807 27.2733C92.4444 27.4699 92.5374 27.7157 92.5449 27.9714C92.5449 28.926 91.7054 29.2455 90.9737 29.2455C90.6282 29.2432 90.2837 29.2084 89.9447 29.1415V28.2537C90.2381 28.3401 90.5416 28.3876 90.8474 28.3948C91.3228 28.3948 91.542 28.2574 91.542 28.0234C91.542 27.7894 91.3526 27.7188 91.1148 27.6519L90.9105 27.5851C90.3756 27.4179 89.9336 27.1059 89.9336 26.4707C89.9336 25.7612 90.4648 25.2858 91.3451 25.2858C91.6594 25.2902 91.9721 25.3301 92.2775 25.4046L92.2738 26.2367Z"}),n.default.createElement("defs",null,n.default.createElement("linearGradient",{id:"paint0_linear",x1:"21.4097",y1:"8.26027",x2:"4.94289",y2:"13.782",gradientUnits:"userSpaceOnUse"},n.default.createElement("stop",{stopColor:"#5CEE64"}),n.default.createElement("stop",{offset:"1",stopColor:"#00BBFF"})),n.default.createElement("radialGradient",{id:"paint1_radial",cx:"0",cy:"0",r:"1",gradientUnits:"userSpaceOnUse",gradientTransform:"translate(10.0539 12.561) rotate(-121.424) scale(10.6601 9.04208)"},n.default.createElement("stop",{stopColor:"#007383"}),n.default.createElement("stop",{offset:"0.407867",stopColor:"#00717E",stopOpacity:"0.75"}),n.default.createElement("stop",{offset:"0.874482",stopColor:"#007281",stopOpacity:"0"})),n.default.createElement("radialGradient",{id:"paint2_radial",cx:"0",cy:"0",r:"1",gradientUnits:"userSpaceOnUse",gradientTransform:"translate(17.173 10.5892) rotate(-127.347) scale(8.7122 5.75938)"},n.default.createElement("stop",{stopColor:"#218970"}),n.default.createElement("stop",{offset:"0.459527",stopColor:"#267E6A"}),n.default.createElement("stop",{offset:"1",stopColor:"#026C51",stopOpacity:"0"})),n.default.createElement("radialGradient",{id:"paint3_radial",cx:"0",cy:"0",r:"1",gradientUnits:"userSpaceOnUse",gradientTransform:"translate(9.43 13.0617) rotate(-107.836) scale(7.053 3.74169)"},n.default.createElement("stop",{stopColor:"#178697"}),n.default.createElement("stop",{offset:"0.407867",stopColor:"#17838F",stopOpacity:"0.79"}),n.default.createElement("stop",{offset:"0.874482",stopColor:"#007281",stopOpacity:"0"})),n.default.createElement("radialGradient",{id:"paint4_radial",cx:"0",cy:"0",r:"1",gradientUnits:"userSpaceOnUse",gradientTransform:"translate(12.6297 13.0241) rotate(-121.424) scale(17.9809 5.60414)"},n.default.createElement("stop",{stopColor:"#25342F",stopOpacity:"0.3"}),n.default.createElement("stop",{offset:"1",stopColor:"#25342F",stopOpacity:"0"})),n.default.createElement("radialGradient",{id:"paint5_radial",cx:"0",cy:"0",r:"1",gradientUnits:"userSpaceOnUse",gradientTransform:"translate(15.8897 10.7852) rotate(84.9882) scale(6.7331 3.90349)"},n.default.createElement("stop",{stopColor:"#056D4F"}),n.default.createElement("stop",{offset:"0.232593",stopColor:"#056C4E",stopOpacity:"0.75"}),n.default.createElement("stop",{offset:"0.598902",stopColor:"#056C4E",stopOpacity:"0.300824"}),n.default.createElement("stop",{offset:"0.874482",stopColor:"#056C4F",stopOpacity:"0"})),n.default.createElement("radialGradient",{id:"paint6_radial",cx:"0",cy:"0",r:"1",gradientUnits:"userSpaceOnUse",gradientTransform:"translate(16.1942 -0.102187) rotate(56.4937) scale(7.96654 4.21576)"},n.default.createElement("stop",{stopColor:"#22B67B"}),n.default.createElement("stop",{offset:"0.407867",stopColor:"#24BE82"}),n.default.createElement("stop",{offset:"1",stopColor:"#24BE82",stopOpacity:"0.07"})),n.default.createElement("linearGradient",{id:"paint7_linear",x1:"-5.79159",y1:"11.8079",x2:"5.92955",y2:"11.9065",gradientUnits:"userSpaceOnUse"},n.default.createElement("stop",{stopColor:"#09F8FF"}),n.default.createElement("stop",{offset:"1",stopColor:"#0BF7F9",stopOpacity:"0"})),n.default.createElement("radialGradient",{id:"paint8_radial",cx:"0",cy:"0",r:"1",gradientUnits:"userSpaceOnUse",gradientTransform:"translate(-3.27352 1.4827) rotate(49.021) scale(10.4336 10.4425)"},n.default.createElement("stop",{stopColor:"#09F8FF"}),n.default.createElement("stop",{offset:"1",stopColor:"#0BF7F9",stopOpacity:"0"})),n.default.createElement("radialGradient",{id:"paint9_radial",cx:"0",cy:"0",r:"1",gradientUnits:"userSpaceOnUse",gradientTransform:"translate(5.19272 -3.72097) rotate(47.3777) scale(21.1748 21.1856)"},n.default.createElement("stop",{stopColor:"#00B8FF"}),n.default.createElement("stop",{offset:"0.745423",stopColor:"#00B9FC",stopOpacity:"0"})),n.default.createElement("radialGradient",{id:"paint10_radial",cx:"0",cy:"0",r:"1",gradientUnits:"userSpaceOnUse",gradientTransform:"translate(6.32654 12.0019) rotate(-107.836) scale(10.1249 7.14388)"},n.default.createElement("stop",{stopColor:"#00BCFF",stopOpacity:"0.76"}),n.default.createElement("stop",{offset:"0.57273",stopColor:"#00BAFC",stopOpacity:"0"})),n.default.createElement("radialGradient",{id:"paint11_radial",cx:"0",cy:"0",r:"1",gradientUnits:"userSpaceOnUse",gradientTransform:"translate(22.0331 8.16428) rotate(-130.177) scale(7.21066 5.06823)"},n.default.createElement("stop",{stopColor:"#5FEC50"}),n.default.createElement("stop",{offset:"1",stopColor:"#3CC08E",stopOpacity:"0"})),n.default.createElement("radialGradient",{id:"paint12_radial",cx:"0",cy:"0",r:"1",gradientUnits:"userSpaceOnUse",gradientTransform:"translate(20.9873 12.7664) rotate(-78.8553) scale(2.16492 1.52853)"},n.default.createElement("stop",{stopColor:"#28855B"}),n.default.createElement("stop",{offset:"1",stopColor:"#14795C",stopOpacity:"0"})),n.default.createElement("radialGradient",{id:"paint13_radial",cx:"0",cy:"0",r:"1",gradientUnits:"userSpaceOnUse",gradientTransform:"translate(20.8807 12.6072) rotate(-77.6157) scale(1.78506 2.54567)"},n.default.createElement("stop",{stopColor:"#28855B"}),n.default.createElement("stop",{offset:"1",stopColor:"#14795C",stopOpacity:"0"})),n.default.createElement("radialGradient",{id:"paint14_radial",cx:"0",cy:"0",r:"1",gradientUnits:"userSpaceOnUse",gradientTransform:"translate(23.0529 9.39453) rotate(-133.426) scale(5.9773 4.20528)"},n.default.createElement("stop",{stopColor:"#5FF05B"}),n.default.createElement("stop",{offset:"0.813285",stopColor:"#5DE955",stopOpacity:"0"})),n.default.createElement("radialGradient",{id:"paint15_radial",cx:"0",cy:"0",r:"1",gradientUnits:"userSpaceOnUse",gradientTransform:"translate(21.1619 11.0937) rotate(36.8427) scale(5.33572 7.37205)"},n.default.createElement("stop",{stopColor:"#123AA8"}),n.default.createElement("stop",{offset:"0.966119",stopColor:"#123AA8",stopOpacity:"0"})),n.default.createElement("radialGradient",{id:"paint16_radial",cx:"0",cy:"0",r:"1",gradientUnits:"userSpaceOnUse",gradientTransform:"translate(19.8237 11.6867) rotate(8.30215) scale(6.3439 9.26978)"},n.default.createElement("stop",{stopColor:"#123AA8"}),n.default.createElement("stop",{offset:"0.592487",stopColor:"#123AA8",stopOpacity:"0"})),n.default.createElement("radialGradient",{id:"paint17_radial",cx:"0",cy:"0",r:"1",gradientUnits:"userSpaceOnUse",gradientTransform:"translate(20.3387 12.4566) rotate(24.1836) scale(5.40105 9.48433)"},n.default.createElement("stop",{stopColor:"#123AA8"}),n.default.createElement("stop",{offset:"0.756788",stopColor:"#123AA8",stopOpacity:"0"})),n.default.createElement("radialGradient",{id:"paint18_radial",cx:"0",cy:"0",r:"1",gradientUnits:"userSpaceOnUse",gradientTransform:"translate(19.7021 12.7708) rotate(95.9323) scale(9.53426 5.33984)"},n.default.createElement("stop",{stopColor:"#123AA8"}),n.default.createElement("stop",{offset:"0.592487",stopColor:"#123AA8",stopOpacity:"0"}),n.default.createElement("stop",{offset:"1",stopColor:"#123AA8",stopOpacity:"0"})),n.default.createElement("radialGradient",{id:"paint19_radial",cx:"0",cy:"0",r:"1",gradientUnits:"userSpaceOnUse",gradientTransform:"translate(21.1619 8.56248) rotate(93.7494) scale(11.4725 4.18555)"},n.default.createElement("stop",{stopColor:"#123AA8"}),n.default.createElement("stop",{offset:"0.884611",stopColor:"#123AA8",stopOpacity:"0"})),n.default.createElement("radialGradient",{id:"paint20_radial",cx:"0",cy:"0",r:"1",gradientUnits:"userSpaceOnUse",gradientTransform:"translate(7.86928 10.9476) rotate(84.714) scale(6.0884 3.29688)"},n.default.createElement("stop",{stopColor:"#123AA8"}),n.default.createElement("stop",{offset:"0.884611",stopColor:"#123AA8",stopOpacity:"0"})),n.default.createElement("radialGradient",{id:"paint21_radial",cx:"0",cy:"0",r:"1",gradientUnits:"userSpaceOnUse",gradientTransform:"translate(7.86483 11.1114) rotate(87.1887) scale(6.35336 5.36263)"},n.default.createElement("stop",{stopColor:"#123AA8"}),n.default.createElement("stop",{offset:"0.884611",stopColor:"#123AA8",stopOpacity:"0"})),n.default.createElement("radialGradient",{id:"paint22_radial",cx:"0",cy:"0",r:"1",gradientUnits:"userSpaceOnUse",gradientTransform:"translate(9.34276 17.081) rotate(-22.7152) scale(7.21963 13.8952)"},n.default.createElement("stop",{stopColor:"#123AA8"}),n.default.createElement("stop",{offset:"0.708977",stopColor:"#123AA8",stopOpacity:"0"})),n.default.createElement("radialGradient",{id:"paint23_radial",cx:"0",cy:"0",r:"1",gradientUnits:"userSpaceOnUse",gradientTransform:"translate(6.76526 9.55813) rotate(-159.94) scale(4.78651 8.05849)"},n.default.createElement("stop",{stopColor:"#1A3DA0"}),n.default.createElement("stop",{offset:"0.708977",stopColor:"#123AA8",stopOpacity:"0"})),n.default.createElement("radialGradient",{id:"paint24_radial",cx:"0",cy:"0",r:"1",gradientUnits:"userSpaceOnUse",gradientTransform:"translate(2.54067 11.1556) rotate(16.4007) scale(9.13706 9.05368)"},n.default.createElement("stop",{stopColor:"#1E3882"}),n.default.createElement("stop",{offset:"0.761404",stopColor:"#123AA8",stopOpacity:"0"})),n.default.createElement("linearGradient",{id:"paint25_linear",x1:"-0.331541",y1:"6.20397",x2:"8.57129",y2:"12.014",gradientUnits:"userSpaceOnUse"},n.default.createElement("stop",{offset:"0.229329",stopColor:"#1DC4FF"}),n.default.createElement("stop",{offset:"1",stopColor:"#1CC1FF",stopOpacity:"0"})),n.default.createElement("radialGradient",{id:"paint26_radial",cx:"0",cy:"0",r:"1",gradientUnits:"userSpaceOnUse",gradientTransform:"translate(-3.27407 1.48228) rotate(49.021) scale(10.4336 10.4425)"},n.default.createElement("stop",{stopColor:"#09F8FF"}),n.default.createElement("stop",{offset:"1",stopColor:"#0BF7F9",stopOpacity:"0"})),n.default.createElement("linearGradient",{id:"paint27_linear",x1:"0.167041",y1:"6.49161",x2:"2.64631",y2:"8.78972",gradientUnits:"userSpaceOnUse"},n.default.createElement("stop",{stopColor:"#26FBFF"}),n.default.createElement("stop",{offset:"0.637346",stopColor:"#0BF7F9",stopOpacity:"0"})),n.default.createElement("linearGradient",{id:"paint28_linear",x1:"-0.505157",y1:"8.20858",x2:"2.99361",y2:"8.46382",gradientUnits:"userSpaceOnUse"},n.default.createElement("stop",{stopColor:"#26FBFF"}),n.default.createElement("stop",{offset:"0.637346",stopColor:"#0BF7F9",stopOpacity:"0"})),n.default.createElement("radialGradient",{id:"paint29_radial",cx:"0",cy:"0",r:"1",gradientUnits:"userSpaceOnUse",gradientTransform:"translate(6.32622 12.002) rotate(-107.836) scale(10.1249 7.14388)"},n.default.createElement("stop",{stopColor:"#00BCFF",stopOpacity:"0.76"}),n.default.createElement("stop",{offset:"0.57273",stopColor:"#00BAFC",stopOpacity:"0"}))))}function El(e){var t=Nl();return function(){var n,r=y(e);if(t){var a=y(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return v(this,n)}}function Nl(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}var xl=function(e){m(r,n.Component);var t=El(r);function r(e){return d(this,r),t.call(this,e)}return p(r,[{key:"render",value:function(){var e,t,r,a=this.props.meeting,i=null===(e=a.localAudio)||void 0===e?void 0:e.permission,o=null===(t=a.localVideo)||void 0===t?void 0:t.permission,s=n.default.createElement(wl,null);return r="ASKING"===i?n.default.createElement(ko,{className:"webex-meeting-widget__content",meetingID:a.ID,media:"microphone",logo:s}):"ASKING"===o?n.default.createElement(ko,{className:"webex-meeting-widget__content",meetingID:a.ID,media:"camera",logo:s}):n.default.createElement(rs,{className:"webex-meeting-widget__content",meetingID:a.ID,logo:s,controls:this.props.controls,controlsCollapseRangeStart:this.props.controlsCollapseRangeStart,controlsCollapseRangeEnd:this.props.controlsCollapseRangeEnd}),n.default.createElement("div",{className:"webex-meeting-widget ".concat(this.props.className),style:this.props.style},r)}}]),r}();xl.propTypes={accessToken:r.default.string.isRequired,className:r.default.string,controls:r.default.func,controlsCollapseRangeStart:r.default.number,controlsCollapseRangeEnd:r.default.number,meetingDestination:r.default.string.isRequired,style:r.default.shape()},xl.defaultProps={className:"",controls:void 0,controlsCollapseRangeStart:void 0,controlsCollapseRangeEnd:void 0,style:{}};var Ml="webex-widgets-meeting",Il=ss(as(xl),function(e){var t=new a.default({credentials:{access_token:e.accessToken},config:{appName:Ml,appVersion:"1.20.8"}});return new bl(t)});exports.WebexMeetingWidget=Il;
},{"react":"n8MK","prop-types":"D9Od","webex":"yAV5","react-dom":"NKHc","winston":"TRRW","@webex/common":"UeF0"}],"ka5b":[function(require,module,exports) {

},{"./assets/521bbff9.woff2":[["521bbff9.1a11ba84.woff2","P75h"],"P75h"],"./assets/ecaeee69.woff":[["ecaeee69.2af193f5.woff","Owgv"],"Owgv"],"./assets/2f4a9953.woff2":[["2f4a9953.6052b199.woff2","Rpty"],"Rpty"],"./assets/18609408.woff":[["18609408.3e444d2a.woff","DDsk"],"DDsk"],"./assets/2ce7dd9e.woff2":[["2ce7dd9e.30f53983.woff2","ABFD"],"ABFD"],"./assets/dcdf6545.woff":[["dcdf6545.31432531.woff","GWBK"],"GWBK"],"./assets/f98de399.woff2":[["f98de399.7bbc0ce1.woff2","JS71"],"JS71"],"./assets/5be282d2.woff":[["5be282d2.9b482932.woff","QbqX"],"QbqX"],"./assets/ff8c1c66.woff2":[["ff8c1c66.b5545e17.woff2","rxLx"],"rxLx"],"./assets/89721a2e.woff":[["89721a2e.bbf09451.woff","fbMn"],"fbMn"],"./assets/e2738dc5.woff2":[["e2738dc5.356e4cca.woff2","rXRE"],"rXRE"],"./assets/15592702.woff":[["15592702.e2eeeae5.woff","cBLc"],"cBLc"],"./assets/4a5e2b76.woff2":[["4a5e2b76.2d899cd6.woff2","Q6G1"],"Q6G1"],"./assets/ee7d15d.woff":[["ee7d15d.c3541130.woff","m2aO"],"m2aO"],"./assets/cc2626a2.woff2":[["cc2626a2.38329e9b.woff2","OePs"],"OePs"],"./assets/5c1e91fe.woff":[["5c1e91fe.a95e5577.woff","Bc56"],"Bc56"],"./assets/6a79ddf2.woff2":[["6a79ddf2.0e246750.woff2","vkW2"],"vkW2"],"./assets/49e65cec.woff":[["49e65cec.8d40f377.woff","Qnrz"],"Qnrz"],"./assets/6c0c2778.woff2":[["6c0c2778.3379975c.woff2","xZv3"],"xZv3"],"./assets/7f551bab.woff":[["7f551bab.c4f1cf2f.woff","ZuzF"],"ZuzF"],"./assets/45dc7dcd.woff2":[["45dc7dcd.15f1ee86.woff2","JbA0"],"JbA0"],"./assets/c1f2fd26.woff":[["c1f2fd26.d8d9b82a.woff","PxA7"],"PxA7"],"./assets/f09be80b.woff2":[["f09be80b.9a16f705.woff2","bXpH"],"bXpH"],"./assets/f7e670d.woff":[["f7e670d.8bf02fa8.woff","hKSu"],"hKSu"],"./assets/46a31acd.woff2":[["46a31acd.9e83b3f7.woff2","nPvE"],"nPvE"],"./assets/4fbe2ff6.woff":[["4fbe2ff6.22ad1163.woff","k572"],"k572"],"./assets/dc7f8e1b.gif":[["dc7f8e1b.4237a056.gif","oEC6"],"oEC6"],"./assets/af1a3e22.svg":[["af1a3e22.7712024f.svg","oDu1"],"oDu1"],"./assets/87960965.gif":[["87960965.6487947d.gif","wlFU"],"wlFU"]}],"BhIB":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=i(require("prop-types")),t=require("@webex/widgets");function i(e){return e&&e.__esModule?e:{default:e}}function r({webexToken:e}){return React.createElement("div",{className:"WebexMeeting"},React.createElement(t.WebexMeetingWidget,{accessToken:e,meetingDestination:"minzhan2.cisco@webex.com"}))}require("@webex/widgets/dist/webexWidgets.css"),require("./WebexMeeting.css"),r.propTypes={webexToken:e.default.string.isRequired};var s=r;exports.default=s;
},{"prop-types":"D9Od","@webex/widgets":"pq3M","@webex/widgets/dist/webexWidgets.css":"ka5b","./WebexMeeting.css":"vKFU"}],"lY9v":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=t(require("./WebexMeeting"));function t(e){return e&&e.__esModule?e:{default:e}}function r(){return React.createElement("div",{className:"App"},React.createElement(e.default,{webexToken:"ZGRiYzE3OTYtYjE1ZS00ZWMzLTk2YzItZjQ4MGE2OTM2YzQ1NzhhMjQwNDItMDY0_PF84_0ffa55ab-cebb-468d-b41a-2862a87c5d67"}))}require("./App.css");var a=r;exports.default=a;
},{"./WebexMeeting":"BhIB","./App.css":"vKFU"}],"FheM":[function(require,module,exports) {
var t=null;function e(){return t||(t=n()),t}function n(){try{throw new Error}catch(e){var t=(""+e.stack).match(/(https?|file|ftp|chrome-extension|moz-extension):\/\/[^)\n]+/g);if(t)return r(t[0])}return"/"}function r(t){return(""+t).replace(/^((?:https?|file|ftp|chrome-extension|moz-extension):\/\/.+)?\/[^/]+(?:\?.*)?$/,"$1")+"/"}exports.getBundleURL=e,exports.getBaseURL=r;
},{}],"TUK3":[function(require,module,exports) {
var r=require("./bundle-url").getBundleURL;function e(r){Array.isArray(r)||(r=[r]);var e=r[r.length-1];try{return Promise.resolve(require(e))}catch(n){if("MODULE_NOT_FOUND"===n.code)return new s(function(n,i){t(r.slice(0,-1)).then(function(){return require(e)}).then(n,i)});throw n}}function t(r){return Promise.all(r.map(u))}var n={};function i(r,e){n[r]=e}module.exports=exports=e,exports.load=t,exports.register=i;var o={};function u(e){var t;if(Array.isArray(e)&&(t=e[1],e=e[0]),o[e])return o[e];var i=(e.substring(e.lastIndexOf(".")+1,e.length)||e).toLowerCase(),u=n[i];return u?o[e]=u(r()+e).then(function(r){return r&&module.bundle.register(t,r),r}).catch(function(r){throw delete o[e],r}):void 0}function s(r){this.executor=r,this.promise=null}s.prototype.then=function(r,e){return null===this.promise&&(this.promise=new Promise(this.executor)),this.promise.then(r,e)},s.prototype.catch=function(r){return null===this.promise&&(this.promise=new Promise(this.executor)),this.promise.catch(r)};
},{"./bundle-url":"FheM"}],"xgu8":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;const e=e=>{e&&e instanceof Function&&require("_bundle_loader")(require.resolve("web-vitals")).then(({getCLS:t,getFID:r,getFCP:o,getLCP:s,getTTFB:u})=>{t(e),r(e),o(e),s(e),u(e)})};var t=e;exports.default=t;
},{"_bundle_loader":"TUK3","web-vitals":[["web-vitals.1a267a55.js","f6pS"],"f6pS"]}],"Focm":[function(require,module,exports) {
"use strict";var e=l(require("react")),r=l(require("react-dom"));require("./index.css");var t=l(require("./App")),u=l(require("./reportWebVitals"));function l(e){return e&&e.__esModule?e:{default:e}}r.default.render(e.default.createElement(e.default.StrictMode,null,e.default.createElement(t.default,null)),document.getElementById("webex")),(0,u.default)();
},{"react":"n8MK","react-dom":"NKHc","./index.css":"vKFU","./App":"lY9v","./reportWebVitals":"xgu8"}],"Yi9z":[function(require,module,exports) {
module.exports=function(n){return new Promise(function(e,o){var r=document.createElement("script");r.async=!0,r.type="text/javascript",r.charset="utf-8",r.src=n,r.onerror=function(n){r.onerror=r.onload=null,o(n)},r.onload=function(){r.onerror=r.onload=null,e()},document.getElementsByTagName("head")[0].appendChild(r)})};
},{}],0:[function(require,module,exports) {
var b=require("TUK3");b.register("js",require("Yi9z"));
},{}]},{},[0,"Focm"], null)